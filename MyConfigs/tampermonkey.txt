{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Ultimate Steam Enhancer","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["zoneofgames.ru","raw.githubusercontent.com","gist.githubusercontent.com","store.steampowered.com","api.steampowered.com","steamcommunity.com","community.akamai.steamstatic.com","community.cloudflare.steamstatic.com","community.fastly.steamstatic.com","shared.akamai.steamstatic.com","shared.cloudflare.steamstatic.com","shared.fastly.steamstatic.com","umadb.ro","api.github.com","howlongtobeat.com","vgtimes.ru","api.digiseller.com","plati.market","digiseller.mycdn.ink","steambuy.com","steammachine.ru","playo.ru","steampay.com","gabestore.ru","static.gabestore.ru","gamersbase.store","coreplatform.blob.core.windows.net","cdn-contentprod.azureedge.net","cdn-resize.enaza.games","cdn-static.enaza.games","www.igromagaz.ru","gamesforfarm.com","shared.fastly.steamstatic.com","i.imgur.com","zaka-zaka.com","images.zaka-zaka.com","gamazavr.ru","gameray.ru","shop.buka.ru","upload.wikimedia.org","keysforgamers.com","api4.ggsel.com","ggsel.net","cdn.ggsel.com","explorer.kupikod.com","rushbe.ru","cdn.jsdelivr.net","img.shields.io"],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://store.steampowered.com/*","*://*steamcommunity.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","orig_run_in":[],"orig_tags":[],"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"run_in":null,"sandbox":null,"tags":[],"unwrap":null,"user_modified":null},"storage":{"ts":1750836341276,"data":{"USE_EarlyAccess_ordateData":"o{\"timestamp\": 1750836341276,\"data\": [{\"appid\": 251570,\"ordate\": \"14.12.2013\"},{\"appid\": 282880,\"ordate\": \"02.04.2014\"},{\"appid\": 333640,\"ordate\": \"15.07.2015\"},{\"appid\": 369080,\"ordate\": \"26.08.2015\"},{\"appid\": 276870,\"ordate\": \"11.09.2014\"},{\"appid\": 402160,\"ordate\": \"17.09.2015\"},{\"appid\": 329970,\"ordate\": \"31.03.2015\"},{\"appid\": 269770,\"ordate\": \"13.07.2015\"},{\"appid\": 385380,\"ordate\": \"03.06.2016\"},{\"appid\": 348740,\"ordate\": \"18.07.2016\"},{\"appid\": 516750,\"ordate\": \"24.10.2016\"},{\"appid\": 446510,\"ordate\": \"01.03.2016\"},{\"appid\": 386650,\"ordate\": \"01.03.2016\"},{\"appid\": 555160,\"ordate\": \"28.02.2017\"},{\"appid\": 285110,\"ordate\": \"30.05.2014\"},{\"appid\": 435230,\"ordate\": \"29.01.2016\"},{\"appid\": 313120,\"ordate\": \"23.01.2015\"},{\"appid\": 493100,\"ordate\": \"26.07.2016\"},{\"appid\": 416000,\"ordate\": \"22.04.2017\"},{\"appid\": 308080,\"ordate\": \"10.09.2014\"},{\"appid\": 688880,\"ordate\": \"26.08.2017\"},{\"appid\": 466770,\"ordate\": \"01.09.2016\"},{\"appid\": 458030,\"ordate\": \"05.04.2016\"},{\"appid\": 423730,\"ordate\": \"08.10.2016\"},{\"appid\": 410000,\"ordate\": \"24.10.2016\"},{\"appid\": 325210,\"ordate\": \"24.11.2014\"},{\"appid\": 480500,\"ordate\": \"11.06.2016\"},{\"appid\": 357330,\"ordate\": \"07.04.2015\"},{\"appid\": 468070,\"ordate\": \"12.07.2016\"},{\"appid\": 517670,\"ordate\": \"08.11.2016\"},{\"appid\": 582050,\"ordate\": \"19.01.2017\"},{\"appid\": 515010,\"ordate\": \"29.08.2017\"},{\"appid\": 338840,\"ordate\": \"23.12.2014\"},{\"appid\": 329310,\"ordate\": \"24.10.2014\"},{\"appid\": 449700,\"ordate\": \"12.07.2017\"},{\"appid\": 523070,\"ordate\": \"09.09.2016\"},{\"appid\": 280720,\"ordate\": \"20.05.2014\"},{\"appid\": 302810,\"ordate\": \"07.10.2015\"},{\"appid\": 696370,\"ordate\": \"26.08.2017\"},{\"appid\": 777610,\"ordate\": \"06.02.2018\"},{\"appid\": 307880,\"ordate\": \"05.03.2015\"},{\"appid\": 335210,\"ordate\": \"01.12.2014\"},{\"appid\": 639230,\"ordate\": \"20.06.2017\"},{\"appid\": 707400,\"ordate\": \"15.09.2017\"},{\"appid\": 418000,\"ordate\": \"18.11.2015\"},{\"appid\": 552100,\"ordate\": \"08.11.2016\"},{\"appid\": 494310,\"ordate\": \"04.07.2016\"},{\"appid\": 327070,\"ordate\": \"09.06.2016\"},{\"appid\": 824720,\"ordate\": \"11.04.2018\"},{\"appid\": 463530,\"ordate\": \"02.12.2017\"},{\"appid\": 418430,\"ordate\": \"17.12.2015\"},{\"appid\": 571740,\"ordate\": \"17.02.2017\"},{\"appid\": 366290,\"ordate\": \"29.04.2015\"},{\"appid\": 681000,\"ordate\": \"21.08.2017\"},{\"appid\": 841600,\"ordate\": \"25.04.2018\"},{\"appid\": 628960,\"ordate\": \"28.04.2017\"},{\"appid\": 512750,\"ordate\": \"23.08.2016\"},{\"appid\": 402710,\"ordate\": \"28.09.2016\"},{\"appid\": 764090,\"ordate\": \"30.01.2018\"},{\"appid\": 268650,\"ordate\": \"08.08.2014\"},{\"appid\": 670160,\"ordate\": \"26.08.2017\"},{\"appid\": 942200,\"ordate\": \"29.11.2018\"},{\"appid\": 906680,\"ordate\": \"29.09.2018\"},{\"appid\": 405010,\"ordate\": \"20.11.2015\"},{\"appid\": 758990,\"ordate\": \"22.12.2017\"},{\"appid\": 822240,\"ordate\": \"11.12.2018\"},{\"appid\": 857180,\"ordate\": \"13.07.2018\"},{\"appid\": 366000,\"ordate\": \"16.05.2016\"},{\"appid\": 370060,\"ordate\": \"05.12.2016\"},{\"appid\": 429790,\"ordate\": \"19.10.2016\"},{\"appid\": 503770,\"ordate\": \"11.09.2016\"},{\"appid\": 690830,\"ordate\": \"01.02.2019\"},{\"appid\": 604150,\"ordate\": \"13.12.2018\"},{\"appid\": 818380,\"ordate\": \"21.03.2018\"},{\"appid\": 1028730,\"ordate\": \"02.03.2019\"},{\"appid\": 1015480,\"ordate\": \"01.02.2019\"},{\"appid\": 763180,\"ordate\": \"26.11.2018\"},{\"appid\": 556640,\"ordate\": \"22.12.2016\"},{\"appid\": 704510,\"ordate\": \"16.10.2017\"},{\"appid\": 251950,\"ordate\": \"05.09.2017\"},{\"appid\": 539190,\"ordate\": \"31.01.2017\"},{\"appid\": 337320,\"ordate\": \"13.10.2015\"},{\"appid\": 414080,\"ordate\": \"03.11.2015\"},{\"appid\": 756600,\"ordate\": \"18.12.2017\"},{\"appid\": 252870,\"ordate\": \"15.09.2015\"},{\"appid\": 508550,\"ordate\": \"06.08.2016\"},{\"appid\": 839630,\"ordate\": \"16.07.2018\"},{\"appid\": 744600,\"ordate\": \"13.02.2018\"},{\"appid\": 315070,\"ordate\": \"15.10.2014\"},{\"appid\": 233860,\"ordate\": \"21.03.2013\"},{\"appid\": 884640,\"ordate\": \"10.07.2018\"},{\"appid\": 673750,\"ordate\": \"31.08.2017\"},{\"appid\": 857850,\"ordate\": \"28.05.2018\"},{\"appid\": 525680,\"ordate\": \"19.12.2016\"},{\"appid\": 206500,\"ordate\": \"03.08.2012\"},{\"appid\": 414770,\"ordate\": \"24.12.2015\"},{\"appid\": 731650,\"ordate\": \"21.06.2019\"},{\"appid\": 688060,\"ordate\": \"11.01.2019\"},{\"appid\": 553150,\"ordate\": \"03.12.2016\"},{\"appid\": 298280,\"ordate\": \"04.06.2014\"},{\"appid\": 1001040,\"ordate\": \"04.06.2019\"},{\"appid\": 510540,\"ordate\": \"28.03.2018\"},{\"appid\": 629730,\"ordate\": \"11.12.2018\"},{\"appid\": 955640,\"ordate\": \"15.11.2018\"},{\"appid\": 806670,\"ordate\": \"14.03.2018\"},{\"appid\": 659540,\"ordate\": \"29.06.2017\"},{\"appid\": 657450,\"ordate\": \"24.06.2017\"},{\"appid\": 350150,\"ordate\": \"07.07.2015\"},{\"appid\": 425260,\"ordate\": \"26.05.2017\"},{\"appid\": 420550,\"ordate\": \"04.04.2016\"},{\"appid\": 858960,\"ordate\": \"08.12.2018\"},{\"appid\": 352720,\"ordate\": \"29.08.2018\"},{\"appid\": 858210,\"ordate\": \"27.03.2019\"},{\"appid\": 714010,\"ordate\": \"07.02.2018\"},{\"appid\": 244850,\"ordate\": \"23.10.2013\"},{\"appid\": 244930,\"ordate\": \"10.10.2013\"},{\"appid\": 391400,\"ordate\": \"04.08.2017\"},{\"appid\": 577570,\"ordate\": \"01.08.2017\"},{\"appid\": 227780,\"ordate\": \"30.04.2014\"},{\"appid\": 483850,\"ordate\": \"22.09.2016\"},{\"appid\": 1019040,\"ordate\": \"06.02.2019\"},{\"appid\": 784150,\"ordate\": \"15.03.2019\"},{\"appid\": 494840,\"ordate\": \"30.04.2019\"},{\"appid\": 363360,\"ordate\": \"23.06.2015\"},{\"appid\": 1004270,\"ordate\": \"31.01.2019\"},{\"appid\": 492340,\"ordate\": \"04.08.2016\"},{\"appid\": 389670,\"ordate\": \"03.08.2015\"},{\"appid\": 1003880,\"ordate\": \"26.04.2019\"},{\"appid\": 460540,\"ordate\": \"18.09.2018\"},{\"appid\": 755530,\"ordate\": \"08.12.2017\"},{\"appid\": 941800,\"ordate\": \"19.11.2018\"},{\"appid\": 520010,\"ordate\": \"26.10.2016\"},{\"appid\": 326460,\"ordate\": \"11.03.2015\"},{\"appid\": 432410,\"ordate\": \"30.01.2016\"},{\"appid\": 1114650,\"ordate\": \"28.07.2019\"},{\"appid\": 907940,\"ordate\": \"03.12.2018\"},{\"appid\": 603320,\"ordate\": \"28.05.2019\"},{\"appid\": 505460,\"ordate\": \"27.07.2017\"},{\"appid\": 693580,\"ordate\": \"10.01.2018\"},{\"appid\": 442210,\"ordate\": \"04.03.2016\"},{\"appid\": 1025600,\"ordate\": \"03.12.2019\"},{\"appid\": 980940,\"ordate\": \"23.12.2019\"},{\"appid\": 821180,\"ordate\": \"07.09.2018\"},{\"appid\": 448060,\"ordate\": \"03.03.2016\"},{\"appid\": 552080,\"ordate\": \"13.03.2017\"},{\"appid\": 375480,\"ordate\": \"28.07.2015\"},{\"appid\": 699010,\"ordate\": \"22.11.2017\"},{\"appid\": 346010,\"ordate\": \"28.01.2015\"},{\"appid\": 300380,\"ordate\": \"18.09.2014\"},{\"appid\": 293480,\"ordate\": \"16.12.2014\"},{\"appid\": 611790,\"ordate\": \"30.06.2017\"},{\"appid\": 1057700,\"ordate\": \"30.06.2019\"},{\"appid\": 886250,\"ordate\": \"08.11.2018\"},{\"appid\": 685240,\"ordate\": \"31.10.2017\"},{\"appid\": 383120,\"ordate\": \"05.08.2015\"},{\"appid\": 803980,\"ordate\": \"13.02.2019\"},{\"appid\": 510500,\"ordate\": \"18.10.2018\"},{\"appid\": 611500,\"ordate\": \"22.08.2017\"},{\"appid\": 370770,\"ordate\": \"24.03.2016\"},{\"appid\": 346970,\"ordate\": \"22.05.2015\"},{\"appid\": 252250,\"ordate\": \"03.12.2013\"},{\"appid\": 328080,\"ordate\": \"27.10.2014\"},{\"appid\": 1159350,\"ordate\": \"09.10.2019\"},{\"appid\": 605740,\"ordate\": \"07.06.2018\"},{\"appid\": 923480,\"ordate\": \"30.08.2018\"},{\"appid\": 268930,\"ordate\": \"05.05.2014\"},{\"appid\": 1170720,\"ordate\": \"10.01.2020\"},{\"appid\": 793030,\"ordate\": \"14.03.2018\"},{\"appid\": 1030760,\"ordate\": \"07.11.2019\"},{\"appid\": 321980,\"ordate\": \"23.10.2014\"},{\"appid\": 743130,\"ordate\": \"07.12.2018\"},{\"appid\": 809310,\"ordate\": \"13.11.2018\"},{\"appid\": 1116350,\"ordate\": \"22.02.2020\"},{\"appid\": 628570,\"ordate\": \"24.06.2017\"},{\"appid\": 362890,\"ordate\": \"05.05.2015\"},{\"appid\": 899770,\"ordate\": \"01.05.2019\"},{\"appid\": 563410,\"ordate\": \"10.01.2017\"},{\"appid\": 872350,\"ordate\": \"11.02.2019\"},{\"appid\": 727130,\"ordate\": \"28.05.2019\"},{\"appid\": 393380,\"ordate\": \"15.12.2015\"},{\"appid\": 863400,\"ordate\": \"21.05.2019\"},{\"appid\": 658630,\"ordate\": \"13.10.2017\"},{\"appid\": 877200,\"ordate\": \"10.11.2018\"},{\"appid\": 311260,\"ordate\": \"26.09.2017\"},{\"appid\": 770200,\"ordate\": \"07.11.2018\"},{\"appid\": 948790,\"ordate\": \"24.01.2019\"},{\"appid\": 550840,\"ordate\": \"16.11.2016\"},{\"appid\": 508710,\"ordate\": \"03.11.2016\"},{\"appid\": 969340,\"ordate\": \"03.06.2020\"},{\"appid\": 649970,\"ordate\": \"22.10.2019\"},{\"appid\": 754320,\"ordate\": \"07.06.2019\"},{\"appid\": 1035320,\"ordate\": \"21.08.2019\"},{\"appid\": 638850,\"ordate\": \"06.07.2017\"},{\"appid\": 895400,\"ordate\": \"14.04.2020\"},{\"appid\": 351290,\"ordate\": \"16.04.2015\"},{\"appid\": 963400,\"ordate\": \"09.08.2019\"},{\"appid\": 490280,\"ordate\": \"06.12.2017\"},{\"appid\": 1130400,\"ordate\": \"03.10.2019\"},{\"appid\": 1268540,\"ordate\": \"21.04.2020\"},{\"appid\": 1153720,\"ordate\": \"11.11.2019\"},{\"appid\": 770810,\"ordate\": \"05.06.2018\"},{\"appid\": 923140,\"ordate\": \"31.08.2018\"},{\"appid\": 992910,\"ordate\": \"12.03.2020\"},{\"appid\": 844860,\"ordate\": \"08.08.2019\"},{\"appid\": 627570,\"ordate\": \"23.08.2018\"},{\"appid\": 670260,\"ordate\": \"17.01.2018\"},{\"appid\": 340150,\"ordate\": \"30.04.2015\"},{\"appid\": 882680,\"ordate\": \"14.10.2019\"},{\"appid\": 683770,\"ordate\": \"14.09.2017\"},{\"appid\": 1298820,\"ordate\": \"27.07.2020\"},{\"appid\": 1013320,\"ordate\": \"26.09.2019\"},{\"appid\": 454830,\"ordate\": \"05.04.2016\"},{\"appid\": 1059640,\"ordate\": \"30.01.2020\"},{\"appid\": 485770,\"ordate\": \"08.08.2019\"},{\"appid\": 374280,\"ordate\": \"21.10.2016\"},{\"appid\": 466980,\"ordate\": \"26.09.2016\"},{\"appid\": 427520,\"ordate\": \"25.02.2016\"},{\"appid\": 426210,\"ordate\": \"28.01.2017\"},{\"appid\": 579120,\"ordate\": \"30.08.2019\"},{\"appid\": 228380,\"ordate\": \"15.01.2014\"},{\"appid\": 916240,\"ordate\": \"16.07.2019\"},{\"appid\": 1250300,\"ordate\": \"30.03.2020\"},{\"appid\": 1142180,\"ordate\": \"08.09.2019\"},{\"appid\": 1194830,\"ordate\": \"04.02.2020\"},{\"appid\": 249630,\"ordate\": \"07.09.2013\"},{\"appid\": 999930,\"ordate\": \"11.01.2019\"},{\"appid\": 1353350,\"ordate\": \"25.07.2020\"},{\"appid\": 922170,\"ordate\": \"17.09.2018\"},{\"appid\": 1126270,\"ordate\": \"04.10.2019\"},{\"appid\": 1188930,\"ordate\": \"20.12.2019\"},{\"appid\": 597170,\"ordate\": \"16.03.2017\"},{\"appid\": 956310,\"ordate\": \"14.01.2020\"},{\"appid\": 1232580,\"ordate\": \"08.04.2020\"},{\"appid\": 1403110,\"ordate\": \"20.09.2020\"},{\"appid\": 1210800,\"ordate\": \"02.05.2020\"},{\"appid\": 461400,\"ordate\": \"16.04.2016\"},{\"appid\": 431240,\"ordate\": \"30.01.2016\"},{\"appid\": 1236670,\"ordate\": \"27.07.2020\"},{\"appid\": 1425390,\"ordate\": \"06.10.2020\"},{\"appid\": 588120,\"ordate\": \"23.10.2017\"},{\"appid\": 946670,\"ordate\": \"27.10.2019\"},{\"appid\": 1239080,\"ordate\": \"04.11.2020\"},{\"appid\": 897900,\"ordate\": \"28.11.2019\"},{\"appid\": 1000410,\"ordate\": \"22.11.2019\"},{\"appid\": 526870,\"ordate\": \"08.06.2020\"},{\"appid\": 948350,\"ordate\": \"22.11.2018\"},{\"appid\": 1291170,\"ordate\": \"24.07.2020\"},{\"appid\": 1257210,\"ordate\": \"21.03.2020\"},{\"appid\": 937770,\"ordate\": \"09.11.2018\"},{\"appid\": 870200,\"ordate\": \"08.11.2018\"},{\"appid\": 1236880,\"ordate\": \"17.04.2020\"},{\"appid\": 670820,\"ordate\": \"18.05.2018\"},{\"appid\": 928880,\"ordate\": \"29.12.2018\"},{\"appid\": 1358430,\"ordate\": \"07.08.2020\"},{\"appid\": 1013000,\"ordate\": \"22.06.2019\"},{\"appid\": 252490,\"ordate\": \"05.12.2013\"},{\"appid\": 749540,\"ordate\": \"29.12.2017\"},{\"appid\": 615120,\"ordate\": \"15.05.2018\"},{\"appid\": 681900,\"ordate\": \"01.10.2017\"},{\"appid\": 330580,\"ordate\": \"28.05.2015\"},{\"appid\": 674020,\"ordate\": \"19.10.2018\"},{\"appid\": 299740,\"ordate\": \"30.10.2014\"},{\"appid\": 588440,\"ordate\": \"30.05.2019\"},{\"appid\": 749960,\"ordate\": \"08.02.2018\"},{\"appid\": 536370,\"ordate\": \"11.11.2016\"},{\"appid\": 1043710,\"ordate\": \"28.04.2020\"},{\"appid\": 1303350,\"ordate\": \"13.05.2020\"},{\"appid\": 447980,\"ordate\": \"26.10.2016\"},{\"appid\": 576480,\"ordate\": \"18.01.2017\"},{\"appid\": 747200,\"ordate\": \"23.04.2018\"},{\"appid\": 408900,\"ordate\": \"12.05.2016\"},{\"appid\": 1314680,\"ordate\": \"07.07.2020\"},{\"appid\": 758870,\"ordate\": \"08.11.2018\"},{\"appid\": 648800,\"ordate\": \"23.05.2018\"},{\"appid\": 1359090,\"ordate\": \"12.08.2020\"},{\"appid\": 1260820,\"ordate\": \"24.04.2020\"},{\"appid\": 438460,\"ordate\": \"08.02.2018\"},{\"appid\": 1005460,\"ordate\": \"30.09.2020\"},{\"appid\": 340210,\"ordate\": \"06.02.2015\"},{\"appid\": 1160750,\"ordate\": \"09.01.2020\"},{\"appid\": 833360,\"ordate\": \"14.07.2018\"},{\"appid\": 391460,\"ordate\": \"25.08.2015\"},{\"appid\": 1266650,\"ordate\": \"28.03.2020\"},{\"appid\": 1270980,\"ordate\": \"11.12.2020\"},{\"appid\": 393420,\"ordate\": \"04.12.2015\"},{\"appid\": 849210,\"ordate\": \"11.12.2019\"},{\"appid\": 514410,\"ordate\": \"19.08.2016\"},{\"appid\": 1069030,\"ordate\": \"13.07.2019\"},{\"appid\": 1382450,\"ordate\": \"09.09.2020\"},{\"appid\": 1045900,\"ordate\": \"01.05.2020\"},{\"appid\": 1403740,\"ordate\": \"25.11.2020\"},{\"appid\": 1148750,\"ordate\": \"26.10.2019\"},{\"appid\": 1162470,\"ordate\": \"13.03.2020\"},{\"appid\": 909500,\"ordate\": \"25.07.2019\"},{\"appid\": 1029570,\"ordate\": \"12.03.2020\"},{\"appid\": 603390,\"ordate\": \"08.08.2019\"},{\"appid\": 582330,\"ordate\": \"02.02.2018\"},{\"appid\": 361100,\"ordate\": \"03.11.2017\"},{\"appid\": 1404090,\"ordate\": \"28.10.2020\"},{\"appid\": 1150540,\"ordate\": \"17.06.2020\"},{\"appid\": 773840,\"ordate\": \"11.08.2020\"},{\"appid\": 846030,\"ordate\": \"12.08.2019\"},{\"appid\": 1150090,\"ordate\": \"18.02.2021\"},{\"appid\": 349510,\"ordate\": \"08.10.2017\"},{\"appid\": 1302510,\"ordate\": \"19.05.2020\"},{\"appid\": 727570,\"ordate\": \"08.10.2018\"},{\"appid\": 242760,\"ordate\": \"30.05.2014\"},{\"appid\": 1037940,\"ordate\": \"18.06.2019\"},{\"appid\": 362940,\"ordate\": \"21.05.2015\"},{\"appid\": 422860,\"ordate\": \"05.04.2016\"},{\"appid\": 227860,\"ordate\": \"23.09.2013\"},{\"appid\": 352430,\"ordate\": \"11.03.2015\"},{\"appid\": 424370,\"ordate\": \"24.03.2016\"},{\"appid\": 822710,\"ordate\": \"12.06.2020\"},{\"appid\": 500350,\"ordate\": \"09.09.2016\"},{\"appid\": 821440,\"ordate\": \"04.05.2019\"},{\"appid\": 1260800,\"ordate\": \"06.08.2020\"},{\"appid\": 1203650,\"ordate\": \"17.07.2020\"},{\"appid\": 469600,\"ordate\": \"20.11.2017\"},{\"appid\": 673210,\"ordate\": \"31.01.2018\"},{\"appid\": 264710,\"ordate\": \"21.03.2014\"},{\"appid\": 1175660,\"ordate\": \"17.10.2019\"},{\"appid\": 576060,\"ordate\": \"11.02.2017\"},{\"appid\": 25000,\"ordate\": \"17.12.2013\"},{\"appid\": 708890,\"ordate\": \"01.12.2017\"},{\"appid\": 433190,\"ordate\": \"06.04.2016\"},{\"appid\": 324510,\"ordate\": \"13.11.2014\"},{\"appid\": 1097620,\"ordate\": \"20.06.2019\"},{\"appid\": 1285310,\"ordate\": \"08.07.2020\"},{\"appid\": 331430,\"ordate\": \"30.11.2019\"},{\"appid\": 809540,\"ordate\": \"04.05.2018\"},{\"appid\": 233610,\"ordate\": \"09.12.2014\"},{\"appid\": 578060,\"ordate\": \"12.01.2017\"},{\"appid\": 602960,\"ordate\": \"05.06.2019\"},{\"appid\": 418620,\"ordate\": \"03.02.2016\"},{\"appid\": 336440,\"ordate\": \"26.08.2015\"},{\"appid\": 1377380,\"ordate\": \"28.08.2020\"},{\"appid\": 664000,\"ordate\": \"27.07.2017\"},{\"appid\": 318100,\"ordate\": \"01.11.2014\"},{\"appid\": 570950,\"ordate\": \"29.01.2021\"},{\"appid\": 467400,\"ordate\": \"06.10.2017\"},{\"appid\": 1114940,\"ordate\": \"13.02.2020\"},{\"appid\": 1324560,\"ordate\": \"30.06.2020\"},{\"appid\": 893900,\"ordate\": \"02.10.2020\"},{\"appid\": 632300,\"ordate\": \"25.07.2017\"},{\"appid\": 992730,\"ordate\": \"15.03.2019\"},{\"appid\": 600100,\"ordate\": \"16.02.2018\"},{\"appid\": 577230,\"ordate\": \"26.05.2017\"},{\"appid\": 1185270,\"ordate\": \"06.02.2020\"},{\"appid\": 1137160,\"ordate\": \"23.08.2019\"},{\"appid\": 1589460,\"ordate\": \"03.05.2021\"},{\"appid\": 291250,\"ordate\": \"13.05.2014\"},{\"appid\": 976230,\"ordate\": \"30.11.2018\"},{\"appid\": 887420,\"ordate\": \"29.07.2019\"},{\"appid\": 870590,\"ordate\": \"20.06.2018\"},{\"appid\": 990900,\"ordate\": \"29.11.2019\"},{\"appid\": 621070,\"ordate\": \"29.07.2017\"},{\"appid\": 1562260,\"ordate\": \"29.05.2021\"},{\"appid\": 589250,\"ordate\": \"09.02.2017\"},{\"appid\": 1012180,\"ordate\": \"01.04.2019\"},{\"appid\": 913740,\"ordate\": \"20.02.2020\"},{\"appid\": 474890,\"ordate\": \"29.07.2016\"},{\"appid\": 1031650,\"ordate\": \"20.03.2020\"},{\"appid\": 1133120,\"ordate\": \"16.03.2021\"},{\"appid\": 843520,\"ordate\": \"11.07.2018\"},{\"appid\": 1085540,\"ordate\": \"01.10.2019\"},{\"appid\": 816550,\"ordate\": \"12.07.2018\"},{\"appid\": 876160,\"ordate\": \"14.11.2018\"},{\"appid\": 835650,\"ordate\": \"28.05.2020\"},{\"appid\": 1034140,\"ordate\": \"26.03.2021\"},{\"appid\": 1052390,\"ordate\": \"15.04.2019\"},{\"appid\": 1273790,\"ordate\": \"01.05.2020\"},{\"appid\": 1647190,\"ordate\": \"19.06.2021\"},{\"appid\": 334540,\"ordate\": \"26.09.2018\"},{\"appid\": 1242700,\"ordate\": \"23.04.2020\"},{\"appid\": 1304130,\"ordate\": \"17.11.2020\"},{\"appid\": 842510,\"ordate\": \"25.04.2018\"},{\"appid\": 1347630,\"ordate\": \"23.04.2021\"},{\"appid\": 1133580,\"ordate\": \"01.09.2020\"},{\"appid\": 1370170,\"ordate\": \"20.11.2020\"},{\"appid\": 405530,\"ordate\": \"15.04.2016\"},{\"appid\": 771500,\"ordate\": \"16.02.2018\"},{\"appid\": 468820,\"ordate\": \"24.05.2016\"},{\"appid\": 510840,\"ordate\": \"23.08.2016\"},{\"appid\": 1639430,\"ordate\": \"07.07.2021\"},{\"appid\": 652050,\"ordate\": \"21.06.2017\"},{\"appid\": 858630,\"ordate\": \"08.06.2019\"},{\"appid\": 342910,\"ordate\": \"22.05.2018\"},{\"appid\": 567080,\"ordate\": \"16.03.2017\"},{\"appid\": 497870,\"ordate\": \"05.09.2019\"},{\"appid\": 244030,\"ordate\": \"01.08.2013\"},{\"appid\": 575430,\"ordate\": \"16.02.2017\"},{\"appid\": 1083880,\"ordate\": \"10.10.2019\"},{\"appid\": 1020450,\"ordate\": \"06.09.2019\"},{\"appid\": 1370940,\"ordate\": \"13.04.2021\"},{\"appid\": 521150,\"ordate\": \"03.11.2016\"},{\"appid\": 342560,\"ordate\": \"25.02.2015\"},{\"appid\": 968250,\"ordate\": \"26.03.2019\"},{\"appid\": 1534980,\"ordate\": \"01.03.2021\"},{\"appid\": 291550,\"ordate\": \"30.04.2014\"},{\"appid\": 1482620,\"ordate\": \"21.05.2021\"},{\"appid\": 345430,\"ordate\": \"11.09.2015\"},{\"appid\": 340440,\"ordate\": \"02.02.2015\"},{\"appid\": 349450,\"ordate\": \"09.02.2015\"},{\"appid\": 1574000,\"ordate\": \"29.03.2021\"},{\"appid\": 1087330,\"ordate\": \"12.09.2019\"},{\"appid\": 1511310,\"ordate\": \"12.03.2021\"},{\"appid\": 526130,\"ordate\": \"15.02.2017\"},{\"appid\": 1048350,\"ordate\": \"12.04.2021\"},{\"appid\": 1074620,\"ordate\": \"18.02.2020\"},{\"appid\": 1163740,\"ordate\": \"23.06.2020\"},{\"appid\": 918610,\"ordate\": \"09.10.2018\"},{\"appid\": 1573730,\"ordate\": \"02.04.2021\"},{\"appid\": 636490,\"ordate\": \"10.01.2018\"},{\"appid\": 511430,\"ordate\": \"12.10.2016\"},{\"appid\": 873840,\"ordate\": \"23.06.2020\"},{\"appid\": 638060,\"ordate\": \"04.10.2017\"},{\"appid\": 744980,\"ordate\": \"25.10.2019\"},{\"appid\": 1120400,\"ordate\": \"17.12.2020\"},{\"appid\": 673610,\"ordate\": \"28.09.2017\"},{\"appid\": 1428520,\"ordate\": \"16.12.2020\"},{\"appid\": 766570,\"ordate\": \"15.06.2018\"},{\"appid\": 1456900,\"ordate\": \"14.11.2020\"},{\"appid\": 559650,\"ordate\": \"31.05.2017\"},{\"appid\": 1058830,\"ordate\": \"22.10.2019\"},{\"appid\": 311310,\"ordate\": \"21.01.2016\"},{\"appid\": 672630,\"ordate\": \"08.09.2017\"},{\"appid\": 722180,\"ordate\": \"29.01.2018\"},{\"appid\": 322770,\"ordate\": \"05.04.2016\"},{\"appid\": 1293220,\"ordate\": \"16.06.2020\"},{\"appid\": 369530,\"ordate\": \"22.09.2016\"},{\"appid\": 1571960,\"ordate\": \"23.04.2021\"},{\"appid\": 1611580,\"ordate\": \"25.08.2021\"},{\"appid\": 1245360,\"ordate\": \"19.03.2020\"},{\"appid\": 403840,\"ordate\": \"03.11.2015\"},{\"appid\": 583530,\"ordate\": \"19.08.2017\"},{\"appid\": 368340,\"ordate\": \"15.05.2015\"},{\"appid\": 733460,\"ordate\": \"01.12.2017\"},{\"appid\": 315460,\"ordate\": \"05.03.2015\"},{\"appid\": 503180,\"ordate\": \"26.08.2016\"},{\"appid\": 1173370,\"ordate\": \"07.12.2020\"},{\"appid\": 326160,\"ordate\": \"24.11.2014\"},{\"appid\": 571630,\"ordate\": \"17.01.2017\"},{\"appid\": 1309290,\"ordate\": \"20.08.2020\"},{\"appid\": 812070,\"ordate\": \"01.06.2018\"},{\"appid\": 897560,\"ordate\": \"07.06.2019\"},{\"appid\": 345690,\"ordate\": \"03.11.2015\"},{\"appid\": 1537480,\"ordate\": \"06.08.2021\"},{\"appid\": 282680,\"ordate\": \"07.10.2014\"},{\"appid\": 327860,\"ordate\": \"15.10.2014\"},{\"appid\": 856110,\"ordate\": \"29.05.2018\"},{\"appid\": 458190,\"ordate\": \"09.01.2017\"},{\"appid\": 1264710,\"ordate\": \"27.03.2020\"},{\"appid\": 1160040,\"ordate\": \"02.11.2020\"},{\"appid\": 886200,\"ordate\": \"01.01.2019\"},{\"appid\": 1270820,\"ordate\": \"28.10.2020\"},{\"appid\": 1142810,\"ordate\": \"15.01.2020\"},{\"appid\": 697950,\"ordate\": \"27.11.2017\"},{\"appid\": 285900,\"ordate\": \"29.08.2014\"},{\"appid\": 305940,\"ordate\": \"05.01.2015\"},{\"appid\": 427880,\"ordate\": \"09.03.2017\"},{\"appid\": 760400,\"ordate\": \"13.12.2017\"},{\"appid\": 362310,\"ordate\": \"24.07.2015\"},{\"appid\": 1426450,\"ordate\": \"07.10.2021\"},{\"appid\": 1418670,\"ordate\": \"02.11.2020\"},{\"appid\": 861330,\"ordate\": \"06.07.2018\"},{\"appid\": 611160,\"ordate\": \"24.04.2017\"},{\"appid\": 1411460,\"ordate\": \"10.06.2021\"},{\"appid\": 1217050,\"ordate\": \"09.03.2020\"},{\"appid\": 713800,\"ordate\": \"05.10.2017\"},{\"appid\": 1085940,\"ordate\": \"28.12.2019\"},{\"appid\": 578690,\"ordate\": \"22.06.2017\"},{\"appid\": 768540,\"ordate\": \"18.05.2018\"},{\"appid\": 1166990,\"ordate\": \"07.11.2020\"},{\"appid\": 406350,\"ordate\": \"01.11.2018\"},{\"appid\": 805270,\"ordate\": \"23.10.2019\"},{\"appid\": 623340,\"ordate\": \"15.10.2019\"},{\"appid\": 693210,\"ordate\": \"03.09.2017\"},{\"appid\": 981090,\"ordate\": \"30.04.2020\"},{\"appid\": 1273710,\"ordate\": \"03.07.2020\"},{\"appid\": 682140,\"ordate\": \"24.10.2017\"},{\"appid\": 1268840,\"ordate\": \"01.04.2020\"},{\"appid\": 727930,\"ordate\": \"31.05.2019\"},{\"appid\": 934180,\"ordate\": \"08.10.2018\"},{\"appid\": 692890,\"ordate\": \"20.08.2020\"},{\"appid\": 1141860,\"ordate\": \"08.04.2021\"},{\"appid\": 1457690,\"ordate\": \"20.11.2020\"},{\"appid\": 1550400,\"ordate\": \"30.04.2021\"},{\"appid\": 898320,\"ordate\": \"27.07.2018\"},{\"appid\": 655740,\"ordate\": \"05.12.2020\"},{\"appid\": 662680,\"ordate\": \"23.08.2017\"},{\"appid\": 431450,\"ordate\": \"21.03.2016\"},{\"appid\": 465200,\"ordate\": \"24.02.2017\"},{\"appid\": 1274210,\"ordate\": \"02.10.2021\"},{\"appid\": 700400,\"ordate\": \"09.09.2017\"},{\"appid\": 1044030,\"ordate\": \"26.03.2019\"},{\"appid\": 1785750,\"ordate\": \"30.11.2021\"},{\"appid\": 323220,\"ordate\": \"17.12.2014\"},{\"appid\": 582890,\"ordate\": \"17.03.2017\"},{\"appid\": 1459960,\"ordate\": \"11.08.2021\"},{\"appid\": 1696810,\"ordate\": \"01.10.2021\"},{\"appid\": 949290,\"ordate\": \"19.02.2019\"},{\"appid\": 611770,\"ordate\": \"24.06.2017\"},{\"appid\": 538100,\"ordate\": \"14.10.2016\"},{\"appid\": 1400260,\"ordate\": \"07.09.2020\"},{\"appid\": 1175360,\"ordate\": \"22.05.2020\"},{\"appid\": 1693090,\"ordate\": \"05.11.2021\"},{\"appid\": 1280290,\"ordate\": \"24.06.2021\"},{\"appid\": 826540,\"ordate\": \"24.10.2019\"},{\"appid\": 1117160,\"ordate\": \"14.02.2020\"},{\"appid\": 935400,\"ordate\": \"18.10.2019\"},{\"appid\": 1802720,\"ordate\": \"06.11.2021\"},{\"appid\": 253250,\"ordate\": \"03.06.2015\"},{\"appid\": 799640,\"ordate\": \"06.06.2019\"},{\"appid\": 691390,\"ordate\": \"15.09.2017\"},{\"appid\": 736420,\"ordate\": \"05.02.2019\"},{\"appid\": 1113880,\"ordate\": \"05.12.2019\"},{\"appid\": 1772270,\"ordate\": \"01.11.2021\"},{\"appid\": 1189490,\"ordate\": \"26.11.2019\"},{\"appid\": 301520,\"ordate\": \"08.07.2014\"},{\"appid\": 1384320,\"ordate\": \"05.11.2020\"},{\"appid\": 1358510,\"ordate\": \"17.12.2020\"},{\"appid\": 939400,\"ordate\": \"30.09.2018\"},{\"appid\": 445220,\"ordate\": \"23.01.2017\"},{\"appid\": 701080,\"ordate\": \"20.09.2017\"},{\"appid\": 1549850,\"ordate\": \"02.12.2021\"},{\"appid\": 1152000,\"ordate\": \"08.11.2019\"},{\"appid\": 656320,\"ordate\": \"13.10.2017\"},{\"appid\": 1166830,\"ordate\": \"02.12.2019\"},{\"appid\": 1527060,\"ordate\": \"03.03.2021\"},{\"appid\": 1288790,\"ordate\": \"16.12.2020\"},{\"appid\": 1148730,\"ordate\": \"25.01.2020\"},{\"appid\": 1287540,\"ordate\": \"16.11.2020\"},{\"appid\": 327090,\"ordate\": \"09.06.2015\"},{\"appid\": 1372640,\"ordate\": \"13.08.2020\"},{\"appid\": 488440,\"ordate\": \"18.11.2016\"},{\"appid\": 1192900,\"ordate\": \"10.11.2021\"},{\"appid\": 1040620,\"ordate\": \"26.07.2019\"},{\"appid\": 1476230,\"ordate\": \"27.08.2021\"},{\"appid\": 798180,\"ordate\": \"06.12.2018\"},{\"appid\": 1360670,\"ordate\": \"15.07.2020\"},{\"appid\": 582290,\"ordate\": \"09.02.2017\"},{\"appid\": 953060,\"ordate\": \"16.11.2018\"},{\"appid\": 1505560,\"ordate\": \"08.02.2021\"},{\"appid\": 745680,\"ordate\": \"27.03.2020\"},{\"appid\": 1216320,\"ordate\": \"23.03.2020\"},{\"appid\": 274520,\"ordate\": \"24.07.2014\"},{\"appid\": 1245580,\"ordate\": \"09.03.2020\"},{\"appid\": 1770210,\"ordate\": \"22.01.2022\"},{\"appid\": 1127840,\"ordate\": \"30.04.2020\"},{\"appid\": 232450,\"ordate\": \"02.07.2013\"},{\"appid\": 915600,\"ordate\": \"07.09.2018\"},{\"appid\": 378760,\"ordate\": \"01.05.2020\"},{\"appid\": 304930,\"ordate\": \"17.06.2014\"},{\"appid\": 895760,\"ordate\": \"16.11.2021\"},{\"appid\": 1225840,\"ordate\": \"25.08.2020\"},{\"appid\": 1712530,\"ordate\": \"17.08.2021\"},{\"appid\": 367240,\"ordate\": \"01.06.2015\"},{\"appid\": 883970,\"ordate\": \"24.01.2019\"},{\"appid\": 668230,\"ordate\": \"08.09.2017\"},{\"appid\": 578210,\"ordate\": \"16.03.2017\"},{\"appid\": 1505270,\"ordate\": \"21.01.2021\"},{\"appid\": 428180,\"ordate\": \"02.02.2016\"},{\"appid\": 992300,\"ordate\": \"16.01.2019\"},{\"appid\": 1009960,\"ordate\": \"29.01.2020\"},{\"appid\": 1524630,\"ordate\": \"26.02.2021\"},{\"appid\": 1158940,\"ordate\": \"06.11.2020\"},{\"appid\": 308060,\"ordate\": \"05.07.2014\"},{\"appid\": 823950,\"ordate\": \"30.08.2019\"},{\"appid\": 929630,\"ordate\": \"02.08.2019\"},{\"appid\": 527960,\"ordate\": \"05.04.2017\"},{\"appid\": 640340,\"ordate\": \"03.04.2019\"},{\"appid\": 1565710,\"ordate\": \"08.04.2021\"},{\"appid\": 861650,\"ordate\": \"17.09.2019\"},{\"appid\": 1277920,\"ordate\": \"25.04.2020\"},{\"appid\": 1335360,\"ordate\": \"19.01.2021\"},{\"appid\": 454350,\"ordate\": \"26.01.2017\"},{\"appid\": 581910,\"ordate\": \"29.12.2017\"},{\"appid\": 538990,\"ordate\": \"16.12.2016\"},{\"appid\": 875760,\"ordate\": \"17.07.2018\"},{\"appid\": 1324270,\"ordate\": \"29.10.2020\"},{\"appid\": 557580,\"ordate\": \"23.12.2016\"},{\"appid\": 636970,\"ordate\": \"31.05.2017\"},{\"appid\": 375530,\"ordate\": \"02.06.2015\"},{\"appid\": 1178780,\"ordate\": \"31.07.2020\"},{\"appid\": 654690,\"ordate\": \"29.09.2017\"},{\"appid\": 1215000,\"ordate\": \"04.02.2020\"},{\"appid\": 420290,\"ordate\": \"24.02.2017\"},{\"appid\": 956450,\"ordate\": \"29.12.2018\"},{\"appid\": 1185600,\"ordate\": \"22.01.2020\"},{\"appid\": 598330,\"ordate\": \"07.03.2017\"},{\"appid\": 1756160,\"ordate\": \"19.11.2021\"},{\"appid\": 1534340,\"ordate\": \"30.03.2021\"},{\"appid\": 1291790,\"ordate\": \"30.10.2020\"},{\"appid\": 879920,\"ordate\": \"17.07.2018\"},{\"appid\": 1340180,\"ordate\": \"12.05.2021\"},{\"appid\": 1411550,\"ordate\": \"28.10.2020\"},{\"appid\": 1044820,\"ordate\": \"05.08.2019\"},{\"appid\": 1704540,\"ordate\": \"01.03.2022\"},{\"appid\": 1316530,\"ordate\": \"08.02.2021\"},{\"appid\": 1451890,\"ordate\": \"05.11.2020\"},{\"appid\": 562730,\"ordate\": \"22.03.2017\"},{\"appid\": 959510,\"ordate\": \"08.11.2018\"},{\"appid\": 1454360,\"ordate\": \"12.11.2020\"},{\"appid\": 287220,\"ordate\": \"15.10.2014\"},{\"appid\": 1036660,\"ordate\": \"22.03.2019\"},{\"appid\": 912900,\"ordate\": \"14.10.2020\"},{\"appid\": 424850,\"ordate\": \"27.03.2016\"},{\"appid\": 1137040,\"ordate\": \"04.10.2019\"},{\"appid\": 793570,\"ordate\": \"09.03.2018\"},{\"appid\": 1516940,\"ordate\": \"08.02.2021\"},{\"appid\": 1203930,\"ordate\": \"20.03.2020\"},{\"appid\": 869340,\"ordate\": \"09.06.2018\"},{\"appid\": 1180630,\"ordate\": \"13.11.2019\"},{\"appid\": 977400,\"ordate\": \"12.12.2018\"},{\"appid\": 257030,\"ordate\": \"05.11.2014\"},{\"appid\": 451600,\"ordate\": \"22.04.2016\"},{\"appid\": 681750,\"ordate\": \"16.08.2017\"},{\"appid\": 341710,\"ordate\": \"24.04.2015\"},{\"appid\": 1817260,\"ordate\": \"26.01.2022\"},{\"appid\": 1079510,\"ordate\": \"02.12.2020\"},{\"appid\": 1035600,\"ordate\": \"01.12.2021\"},{\"appid\": 494430,\"ordate\": \"01.02.2019\"},{\"appid\": 1739300,\"ordate\": \"20.09.2021\"},{\"appid\": 305620,\"ordate\": \"22.09.2014\"},{\"appid\": 965640,\"ordate\": \"16.11.2018\"},{\"appid\": 977270,\"ordate\": \"30.11.2018\"},{\"appid\": 1248800,\"ordate\": \"09.09.2020\"},{\"appid\": 778010,\"ordate\": \"13.11.2020\"},{\"appid\": 523660,\"ordate\": \"22.06.2017\"},{\"appid\": 410340,\"ordate\": \"09.11.2015\"},{\"appid\": 944640,\"ordate\": \"10.10.2018\"},{\"appid\": 886310,\"ordate\": \"06.07.2018\"},{\"appid\": 1054700,\"ordate\": \"20.04.2020\"},{\"appid\": 960040,\"ordate\": \"16.11.2018\"},{\"appid\": 1149800,\"ordate\": \"23.12.2021\"},{\"appid\": 1204330,\"ordate\": \"30.01.2020\"},{\"appid\": 498340,\"ordate\": \"12.10.2016\"},{\"appid\": 1086940,\"ordate\": \"06.10.2020\"},{\"appid\": 1696720,\"ordate\": \"07.12.2021\"},{\"appid\": 621290,\"ordate\": \"11.04.2017\"},{\"appid\": 1076750,\"ordate\": \"14.07.2021\"},{\"appid\": 853140,\"ordate\": \"31.05.2018\"},{\"appid\": 419710,\"ordate\": \"20.10.2016\"},{\"appid\": 1004170,\"ordate\": \"01.02.2019\"},{\"appid\": 1285920,\"ordate\": \"30.04.2021\"},{\"appid\": 1376360,\"ordate\": \"15.10.2020\"},{\"appid\": 1355090,\"ordate\": \"22.12.2020\"},{\"appid\": 1302240,\"ordate\": \"29.10.2020\"},{\"appid\": 1357430,\"ordate\": \"04.08.2021\"},{\"appid\": 746760,\"ordate\": \"11.12.2017\"},{\"appid\": 1100930,\"ordate\": \"01.11.2019\"},{\"appid\": 667170,\"ordate\": \"08.11.2017\"},{\"appid\": 856610,\"ordate\": \"27.02.2019\"},{\"appid\": 930280,\"ordate\": \"08.11.2018\"},{\"appid\": 1262060,\"ordate\": \"21.03.2020\"},{\"appid\": 1127120,\"ordate\": \"02.09.2019\"},{\"appid\": 1625810,\"ordate\": \"30.05.2021\"},{\"appid\": 1815530,\"ordate\": \"29.03.2022\"},{\"appid\": 606920,\"ordate\": \"02.04.2017\"},{\"appid\": 728090,\"ordate\": \"21.01.2019\"},{\"appid\": 806860,\"ordate\": \"13.03.2018\"},{\"appid\": 1515920,\"ordate\": \"31.05.2021\"},{\"appid\": 1339340,\"ordate\": \"25.06.2020\"},{\"appid\": 598060,\"ordate\": \"09.02.2018\"},{\"appid\": 321400,\"ordate\": \"02.05.2016\"},{\"appid\": 254590,\"ordate\": \"25.02.2014\"},{\"appid\": 1550650,\"ordate\": \"22.02.2022\"},{\"appid\": 1848910,\"ordate\": \"03.05.2022\"},{\"appid\": 1966620,\"ordate\": \"03.05.2022\"},{\"appid\": 882460,\"ordate\": \"04.08.2018\"},{\"appid\": 396900,\"ordate\": \"02.02.2016\"},{\"appid\": 906870,\"ordate\": \"11.07.2019\"},{\"appid\": 1049590,\"ordate\": \"14.10.2020\"},{\"appid\": 881310,\"ordate\": \"21.12.2019\"},{\"appid\": 794490,\"ordate\": \"02.05.2018\"},{\"appid\": 302670,\"ordate\": \"30.07.2015\"},{\"appid\": 1932570,\"ordate\": \"29.04.2022\"},{\"appid\": 280790,\"ordate\": \"12.08.2014\"},{\"appid\": 572220,\"ordate\": \"13.01.2017\"},{\"appid\": 1304470,\"ordate\": \"03.07.2020\"},{\"appid\": 1954070,\"ordate\": \"03.05.2022\"},{\"appid\": 1491200,\"ordate\": \"28.04.2022\"},{\"appid\": 993340,\"ordate\": \"22.12.2018\"},{\"appid\": 1880080,\"ordate\": \"23.02.2022\"},{\"appid\": 413740,\"ordate\": \"18.12.2015\"},{\"appid\": 1684100,\"ordate\": \"07.01.2022\"},{\"appid\": 369560,\"ordate\": \"11.06.2015\"},{\"appid\": 322110,\"ordate\": \"25.11.2014\"},{\"appid\": 1909220,\"ordate\": \"17.04.2022\"},{\"appid\": 1678050,\"ordate\": \"14.07.2021\"},{\"appid\": 335430,\"ordate\": \"05.02.2015\"},{\"appid\": 1509810,\"ordate\": \"27.03.2021\"},{\"appid\": 1846000,\"ordate\": \"11.02.2022\"},{\"appid\": 1303010,\"ordate\": \"02.04.2022\"},{\"appid\": 787850,\"ordate\": \"05.06.2019\"},{\"appid\": 755410,\"ordate\": \"10.11.2018\"},{\"appid\": 349710,\"ordate\": \"15.11.2018\"},{\"appid\": 293780,\"ordate\": \"24.07.2014\"},{\"appid\": 1557190,\"ordate\": \"31.03.2021\"},{\"appid\": 684000,\"ordate\": \"22.09.2017\"},{\"appid\": 1198290,\"ordate\": \"20.12.2019\"},{\"appid\": 1494500,\"ordate\": \"16.02.2021\"},{\"appid\": 556960,\"ordate\": \"15.11.2017\"},{\"appid\": 1102930,\"ordate\": \"01.04.2020\"},{\"appid\": 843380,\"ordate\": \"12.12.2018\"},{\"appid\": 1079200,\"ordate\": \"15.08.2019\"},{\"appid\": 1340300,\"ordate\": \"25.09.2020\"},{\"appid\": 1051690,\"ordate\": \"16.07.2019\"},{\"appid\": 738700,\"ordate\": \"23.11.2018\"},{\"appid\": 1435970,\"ordate\": \"12.01.2022\"},{\"appid\": 1964300,\"ordate\": \"25.04.2022\"},{\"appid\": 1043260,\"ordate\": \"14.10.2021\"},{\"appid\": 1208390,\"ordate\": \"16.03.2021\"},{\"appid\": 860890,\"ordate\": \"12.03.2019\"},{\"appid\": 494780,\"ordate\": \"22.07.2016\"},{\"appid\": 857740,\"ordate\": \"05.06.2018\"},{\"appid\": 1271920,\"ordate\": \"23.06.2020\"},{\"appid\": 704030,\"ordate\": \"13.02.2018\"},{\"appid\": 1119730,\"ordate\": \"04.03.2021\"},{\"appid\": 606800,\"ordate\": \"11.08.2017\"},{\"appid\": 1124180,\"ordate\": \"23.06.2021\"},{\"appid\": 237870,\"ordate\": \"11.03.2014\"},{\"appid\": 485900,\"ordate\": \"22.08.2016\"},{\"appid\": 1251380,\"ordate\": \"07.05.2020\"},{\"appid\": 909320,\"ordate\": \"25.08.2020\"},{\"appid\": 1371690,\"ordate\": \"26.05.2021\"},{\"appid\": 634410,\"ordate\": \"27.09.2019\"},{\"appid\": 1097130,\"ordate\": \"05.03.2021\"},{\"appid\": 588210,\"ordate\": \"24.02.2017\"},{\"appid\": 211820,\"ordate\": \"26.11.2013\"},{\"appid\": 1237310,\"ordate\": \"15.01.2021\"},{\"appid\": 526160,\"ordate\": \"08.02.2017\"},{\"appid\": 1272320,\"ordate\": \"09.02.2022\"},{\"appid\": 207140,\"ordate\": \"27.08.2013\"},{\"appid\": 1536470,\"ordate\": \"08.04.2021\"},{\"appid\": 858560,\"ordate\": \"10.10.2018\"},{\"appid\": 724330,\"ordate\": \"10.09.2019\"},{\"appid\": 1460550,\"ordate\": \"28.02.2022\"},{\"appid\": 1663650,\"ordate\": \"21.07.2021\"},{\"appid\": 381750,\"ordate\": \"25.11.2015\"},{\"appid\": 1479480,\"ordate\": \"05.11.2021\"},{\"appid\": 1332220,\"ordate\": \"26.08.2021\"},{\"appid\": 465000,\"ordate\": \"01.05.2016\"},{\"appid\": 1486280,\"ordate\": \"23.06.2022\"},{\"appid\": 1207320,\"ordate\": \"30.04.2020\"},{\"appid\": 285380,\"ordate\": \"30.03.2017\"},{\"appid\": 1649730,\"ordate\": \"21.06.2022\"},{\"appid\": 437340,\"ordate\": \"14.07.2016\"},{\"appid\": 1098000,\"ordate\": \"27.06.2019\"},{\"appid\": 745920,\"ordate\": \"21.01.2020\"},{\"appid\": 1562420,\"ordate\": \"10.09.2021\"},{\"appid\": 1222300,\"ordate\": \"27.05.2020\"},{\"appid\": 1170330,\"ordate\": \"28.10.2019\"},{\"appid\": 1386990,\"ordate\": \"13.10.2020\"},{\"appid\": 422300,\"ordate\": \"15.12.2015\"},{\"appid\": 681390,\"ordate\": \"17.08.2017\"},{\"appid\": 931950,\"ordate\": \"12.03.2020\"},{\"appid\": 348810,\"ordate\": \"18.08.2015\"},{\"appid\": 690040,\"ordate\": \"07.12.2017\"},{\"appid\": 1243560,\"ordate\": \"03.03.2020\"},{\"appid\": 891370,\"ordate\": \"10.05.2019\"},{\"appid\": 498000,\"ordate\": \"05.10.2016\"},{\"appid\": 1086850,\"ordate\": \"10.06.2019\"},{\"appid\": 989440,\"ordate\": \"22.06.2021\"},{\"appid\": 332540,\"ordate\": \"18.11.2014\"},{\"appid\": 648410,\"ordate\": \"06.04.2021\"},{\"appid\": 1227650,\"ordate\": \"03.03.2021\"},{\"appid\": 1446370,\"ordate\": \"25.03.2022\"},{\"appid\": 1463970,\"ordate\": \"29.10.2021\"},{\"appid\": 1104450,\"ordate\": \"06.03.2020\"},{\"appid\": 658480,\"ordate\": \"24.04.2018\"},{\"appid\": 1063990,\"ordate\": \"08.07.2019\"},{\"appid\": 1313700,\"ordate\": \"29.05.2020\"},{\"appid\": 1472060,\"ordate\": \"01.04.2021\"},{\"appid\": 960030,\"ordate\": \"20.12.2018\"},{\"appid\": 261550,\"ordate\": \"30.03.2020\"},{\"appid\": 453090,\"ordate\": \"05.05.2016\"},{\"appid\": 762680,\"ordate\": \"12.04.2018\"},{\"appid\": 1157960,\"ordate\": \"19.12.2019\"},{\"appid\": 363950,\"ordate\": \"01.09.2016\"},{\"appid\": 1942850,\"ordate\": \"09.04.2022\"},{\"appid\": 610250,\"ordate\": \"02.02.2018\"},{\"appid\": 604770,\"ordate\": \"11.08.2020\"},{\"appid\": 744260,\"ordate\": \"18.12.2018\"},{\"appid\": 1617270,\"ordate\": \"15.06.2021\"},{\"appid\": 1515600,\"ordate\": \"19.02.2021\"},{\"appid\": 573090,\"ordate\": \"28.02.2018\"},{\"appid\": 895980,\"ordate\": \"18.07.2018\"},{\"appid\": 1351900,\"ordate\": \"12.08.2020\"},{\"appid\": 406690,\"ordate\": \"18.03.2016\"},{\"appid\": 1276660,\"ordate\": \"03.12.2020\"},{\"appid\": 627690,\"ordate\": \"07.09.2017\"},{\"appid\": 233450,\"ordate\": \"20.03.2013\"},{\"appid\": 236110,\"ordate\": \"05.12.2014\"},{\"appid\": 819940,\"ordate\": \"31.03.2018\"},{\"appid\": 1189630,\"ordate\": \"01.05.2020\"},{\"appid\": 725480,\"ordate\": \"05.03.2018\"},{\"appid\": 436470,\"ordate\": \"27.05.2016\"},{\"appid\": 473770,\"ordate\": \"31.05.2016\"},{\"appid\": 1873780,\"ordate\": \"25.03.2022\"},{\"appid\": 1476720,\"ordate\": \"01.07.2021\"},{\"appid\": 878310,\"ordate\": \"01.07.2018\"},{\"appid\": 284100,\"ordate\": \"24.03.2014\"},{\"appid\": 1560880,\"ordate\": \"10.06.2021\"},{\"appid\": 1083460,\"ordate\": \"06.08.2019\"},{\"appid\": 1173730,\"ordate\": \"21.12.2020\"},{\"appid\": 1280380,\"ordate\": \"23.01.2021\"},{\"appid\": 504620,\"ordate\": \"03.09.2016\"},{\"appid\": 1243200,\"ordate\": \"09.12.2021\"},{\"appid\": 707030,\"ordate\": \"14.10.2019\"},{\"appid\": 1093320,\"ordate\": \"18.09.2019\"},{\"appid\": 1554220,\"ordate\": \"22.04.2021\"},{\"appid\": 975270,\"ordate\": \"09.01.2019\"},{\"appid\": 269190,\"ordate\": \"05.12.2018\"},{\"appid\": 464610,\"ordate\": \"10.06.2016\"},{\"appid\": 529970,\"ordate\": \"28.04.2018\"},{\"appid\": 1783110,\"ordate\": \"15.02.2022\"},{\"appid\": 726840,\"ordate\": \"21.02.2019\"},{\"appid\": 1281190,\"ordate\": \"15.04.2020\"},{\"appid\": 539050,\"ordate\": \"14.11.2016\"},{\"appid\": 955300,\"ordate\": \"20.12.2018\"},{\"appid\": 368180,\"ordate\": \"04.06.2015\"},{\"appid\": 1553890,\"ordate\": \"03.04.2021\"},{\"appid\": 905220,\"ordate\": \"18.04.2019\"},{\"appid\": 552690,\"ordate\": \"09.02.2017\"},{\"appid\": 1669170,\"ordate\": \"09.03.2022\"},{\"appid\": 1260590,\"ordate\": \"26.02.2021\"},{\"appid\": 1487560,\"ordate\": \"16.11.2021\"},{\"appid\": 864430,\"ordate\": \"05.10.2018\"},{\"appid\": 686090,\"ordate\": \"25.09.2017\"},{\"appid\": 890130,\"ordate\": \"27.08.2018\"},{\"appid\": 1398220,\"ordate\": \"13.11.2020\"},{\"appid\": 1557480,\"ordate\": \"02.11.2021\"},{\"appid\": 307110,\"ordate\": \"08.02.2017\"},{\"appid\": 1375760,\"ordate\": \"07.09.2020\"},{\"appid\": 1379120,\"ordate\": \"23.10.2021\"},{\"appid\": 1577470,\"ordate\": \"27.05.2021\"},{\"appid\": 489520,\"ordate\": \"02.12.2016\"},{\"appid\": 1029210,\"ordate\": \"17.02.2021\"},{\"appid\": 1621690,\"ordate\": \"08.03.2022\"},{\"appid\": 931070,\"ordate\": \"06.02.2019\"},{\"appid\": 1042210,\"ordate\": \"13.03.2019\"},{\"appid\": 505740,\"ordate\": \"28.09.2018\"},{\"appid\": 467060,\"ordate\": \"13.10.2016\"},{\"appid\": 589290,\"ordate\": \"21.09.2017\"},{\"appid\": 738520,\"ordate\": \"13.09.2018\"},{\"appid\": 676840,\"ordate\": \"29.06.2018\"},{\"appid\": 824450,\"ordate\": \"09.08.2018\"},{\"appid\": 1690710,\"ordate\": \"22.07.2022\"},{\"appid\": 1074630,\"ordate\": \"11.05.2019\"},{\"appid\": 694480,\"ordate\": \"16.12.2017\"},{\"appid\": 409490,\"ordate\": \"06.11.2015\"},{\"appid\": 746040,\"ordate\": \"07.04.2021\"},{\"appid\": 674840,\"ordate\": \"14.10.2017\"},{\"appid\": 1555310,\"ordate\": \"18.10.2021\"},{\"appid\": 1437280,\"ordate\": \"05.03.2021\"},{\"appid\": 1220170,\"ordate\": \"06.05.2020\"},{\"appid\": 767490,\"ordate\": \"23.08.2019\"},{\"appid\": 1756550,\"ordate\": \"18.12.2021\"},{\"appid\": 512220,\"ordate\": \"12.08.2016\"},{\"appid\": 1522280,\"ordate\": \"12.10.2021\"},{\"appid\": 858250,\"ordate\": \"28.05.2018\"},{\"appid\": 781130,\"ordate\": \"30.10.2018\"},{\"appid\": 1147130,\"ordate\": \"11.06.2021\"},{\"appid\": 246920,\"ordate\": \"31.07.2015\"},{\"appid\": 1291660,\"ordate\": \"31.05.2021\"},{\"appid\": 1836550,\"ordate\": \"20.12.2021\"},{\"appid\": 1465070,\"ordate\": \"09.09.2021\"},{\"appid\": 1097210,\"ordate\": \"16.03.2020\"},{\"appid\": 501220,\"ordate\": \"06.08.2016\"},{\"appid\": 351100,\"ordate\": \"28.04.2016\"},{\"appid\": 1106140,\"ordate\": \"30.01.2021\"},{\"appid\": 500980,\"ordate\": \"14.08.2016\"},{\"appid\": 1670240,\"ordate\": \"15.10.2021\"},{\"appid\": 1289480,\"ordate\": \"31.07.2020\"},{\"appid\": 1054430,\"ordate\": \"23.08.2021\"},{\"appid\": 1330000,\"ordate\": \"14.10.2021\"},{\"appid\": 405670,\"ordate\": \"18.08.2016\"},{\"appid\": 357650,\"ordate\": \"20.03.2015\"},{\"appid\": 919360,\"ordate\": \"30.06.2022\"},{\"appid\": 1204230,\"ordate\": \"05.03.2020\"},{\"appid\": 677380,\"ordate\": \"21.07.2017\"},{\"appid\": 1710670,\"ordate\": \"29.07.2022\"},{\"appid\": 1746620,\"ordate\": \"19.01.2022\"},{\"appid\": 458330,\"ordate\": \"15.06.2016\"},{\"appid\": 788630,\"ordate\": \"02.04.2018\"},{\"appid\": 1138100,\"ordate\": \"11.11.2019\"},{\"appid\": 1935100,\"ordate\": \"22.04.2022\"},{\"appid\": 1354230,\"ordate\": \"31.07.2021\"},{\"appid\": 479020,\"ordate\": \"13.07.2016\"},{\"appid\": 290020,\"ordate\": \"22.09.2014\"},{\"appid\": 995170,\"ordate\": \"01.01.2019\"},{\"appid\": 1695680,\"ordate\": \"02.11.2021\"},{\"appid\": 1425250,\"ordate\": \"06.10.2020\"},{\"appid\": 1478340,\"ordate\": \"27.04.2022\"},{\"appid\": 449960,\"ordate\": \"28.07.2016\"},{\"appid\": 336300,\"ordate\": \"12.12.2014\"},{\"appid\": 1590730,\"ordate\": \"15.04.2021\"},{\"appid\": 1474790,\"ordate\": \"17.09.2021\"},{\"appid\": 1363360,\"ordate\": \"19.05.2021\"},{\"appid\": 1114220,\"ordate\": \"01.06.2020\"},{\"appid\": 764230,\"ordate\": \"05.01.2018\"},{\"appid\": 360620,\"ordate\": \"02.11.2015\"},{\"appid\": 831250,\"ordate\": \"11.04.2018\"},{\"appid\": 679830,\"ordate\": \"13.11.2019\"},{\"appid\": 785860,\"ordate\": \"11.05.2019\"},{\"appid\": 1672440,\"ordate\": \"11.07.2021\"},{\"appid\": 1342330,\"ordate\": \"22.01.2021\"},{\"appid\": 1050160,\"ordate\": \"18.06.2020\"},{\"appid\": 465020,\"ordate\": \"02.05.2016\"},{\"appid\": 1016820,\"ordate\": \"31.01.2021\"},{\"appid\": 269310,\"ordate\": \"04.04.2014\"},{\"appid\": 1297270,\"ordate\": \"18.05.2020\"},{\"appid\": 454140,\"ordate\": \"06.12.2016\"},{\"appid\": 625340,\"ordate\": \"24.05.2019\"},{\"appid\": 589670,\"ordate\": \"11.04.2018\"},{\"appid\": 512900,\"ordate\": \"10.03.2017\"},{\"appid\": 1296610,\"ordate\": \"26.04.2022\"},{\"appid\": 1401340,\"ordate\": \"13.04.2021\"},{\"appid\": 854890,\"ordate\": \"27.09.2018\"},{\"appid\": 1611600,\"ordate\": \"20.01.2022\"},{\"appid\": 1269020,\"ordate\": \"01.12.2021\"},{\"appid\": 1918560,\"ordate\": \"07.08.2022\"},{\"appid\": 1428420,\"ordate\": \"10.11.2020\"},{\"appid\": 481870,\"ordate\": \"13.06.2016\"},{\"appid\": 1133520,\"ordate\": \"09.09.2020\"},{\"appid\": 915360,\"ordate\": \"07.09.2018\"},{\"appid\": 1468810,\"ordate\": \"27.01.2021\"},{\"appid\": 550170,\"ordate\": \"18.11.2016\"},{\"appid\": 530130,\"ordate\": \"01.12.2016\"},{\"appid\": 889260,\"ordate\": \"05.10.2018\"},{\"appid\": 1046490,\"ordate\": \"12.04.2019\"},{\"appid\": 1131620,\"ordate\": \"07.10.2021\"},{\"appid\": 794350,\"ordate\": \"06.01.2020\"},{\"appid\": 1927300,\"ordate\": \"22.04.2022\"},{\"appid\": 1200150,\"ordate\": \"27.03.2020\"},{\"appid\": 1646580,\"ordate\": \"09.10.2021\"},{\"appid\": 470310,\"ordate\": \"31.12.2017\"},{\"appid\": 1757130,\"ordate\": \"17.12.2021\"},{\"appid\": 1613230,\"ordate\": \"11.05.2021\"},{\"appid\": 763610,\"ordate\": \"25.04.2018\"},{\"appid\": 219990,\"ordate\": \"05.11.2013\"},{\"appid\": 1456200,\"ordate\": \"09.12.2020\"},{\"appid\": 1101780,\"ordate\": \"06.08.2019\"},{\"appid\": 1904130,\"ordate\": \"12.04.2022\"},{\"appid\": 949450,\"ordate\": \"31.05.2019\"},{\"appid\": 338810,\"ordate\": \"22.04.2015\"},{\"appid\": 1270280,\"ordate\": \"15.04.2020\"},{\"appid\": 606500,\"ordate\": \"09.11.2018\"},{\"appid\": 1044760,\"ordate\": \"21.06.2019\"},{\"appid\": 355180,\"ordate\": \"17.07.2015\"},{\"appid\": 1804640,\"ordate\": \"06.09.2022\"},{\"appid\": 824600,\"ordate\": \"29.01.2021\"},{\"appid\": 1343520,\"ordate\": \"04.02.2021\"},{\"appid\": 1781290,\"ordate\": \"16.11.2021\"},{\"appid\": 905120,\"ordate\": \"13.08.2018\"},{\"appid\": 848450,\"ordate\": \"31.01.2019\"},{\"appid\": 1789050,\"ordate\": \"07.01.2022\"},{\"appid\": 1999140,\"ordate\": \"15.06.2022\"},{\"appid\": 1999170,\"ordate\": \"01.06.2022\"},{\"appid\": 1395330,\"ordate\": \"13.10.2020\"},{\"appid\": 1304680,\"ordate\": \"25.02.2021\"},{\"appid\": 833170,\"ordate\": \"30.04.2019\"},{\"appid\": 898920,\"ordate\": \"31.07.2019\"},{\"appid\": 227940,\"ordate\": \"10.07.2014\"},{\"appid\": 338330,\"ordate\": \"15.09.2016\"},{\"appid\": 1142240,\"ordate\": \"13.09.2019\"},{\"appid\": 433170,\"ordate\": \"05.06.2017\"},{\"appid\": 622870,\"ordate\": \"10.05.2017\"},{\"appid\": 487120,\"ordate\": \"26.07.2017\"},{\"appid\": 910490,\"ordate\": \"16.07.2019\"},{\"appid\": 1374580,\"ordate\": \"26.10.2021\"},{\"appid\": 667610,\"ordate\": \"17.12.2020\"},{\"appid\": 1049890,\"ordate\": \"24.06.2020\"},{\"appid\": 780290,\"ordate\": \"17.07.2019\"},{\"appid\": 1190150,\"ordate\": \"02.12.2019\"},{\"appid\": 1371580,\"ordate\": \"18.11.2021\"},{\"appid\": 1089630,\"ordate\": \"12.11.2019\"},{\"appid\": 1514430,\"ordate\": \"17.02.2021\"},{\"appid\": 294100,\"ordate\": \"15.07.2016\"},{\"appid\": 1552080,\"ordate\": \"22.07.2021\"},{\"appid\": 651280,\"ordate\": \"12.06.2017\"},{\"appid\": 1184460,\"ordate\": \"31.01.2020\"},{\"appid\": 1211960,\"ordate\": \"17.04.2020\"},{\"appid\": 556550,\"ordate\": \"27.02.2018\"},{\"appid\": 1454010,\"ordate\": \"25.11.2020\"},{\"appid\": 640700,\"ordate\": \"04.06.2020\"},{\"appid\": 1467590,\"ordate\": \"01.12.2020\"},{\"appid\": 880730,\"ordate\": \"19.02.2021\"},{\"appid\": 1094760,\"ordate\": \"12.07.2019\"},{\"appid\": 957660,\"ordate\": \"17.08.2022\"},{\"appid\": 616680,\"ordate\": \"30.10.2019\"},{\"appid\": 605100,\"ordate\": \"30.05.2017\"},{\"appid\": 2075760,\"ordate\": \"29.07.2022\"},{\"appid\": 985240,\"ordate\": \"30.04.2021\"},{\"appid\": 391240,\"ordate\": \"30.05.2016\"},{\"appid\": 772750,\"ordate\": \"09.05.2018\"},{\"appid\": 981430,\"ordate\": \"27.03.2020\"},{\"appid\": 811620,\"ordate\": \"28.04.2018\"},{\"appid\": 346110,\"ordate\": \"02.06.2015\"},{\"appid\": 726000,\"ordate\": \"21.11.2017\"},{\"appid\": 1806420,\"ordate\": \"10.12.2021\"},{\"appid\": 250520,\"ordate\": \"24.09.2013\"},{\"appid\": 883780,\"ordate\": \"10.07.2018\"},{\"appid\": 270210,\"ordate\": \"26.02.2014\"},{\"appid\": 288220,\"ordate\": \"01.06.2014\"},{\"appid\": 1842730,\"ordate\": \"07.01.2022\"},{\"appid\": 361800,\"ordate\": \"27.05.2015\"},{\"appid\": 1491660,\"ordate\": \"30.12.2020\"},{\"appid\": 1525410,\"ordate\": \"10.11.2021\"},{\"appid\": 2058150,\"ordate\": \"19.07.2022\"},{\"appid\": 919260,\"ordate\": \"15.09.2020\"},{\"appid\": 1196240,\"ordate\": \"01.09.2021\"},{\"appid\": 1363680,\"ordate\": \"15.07.2020\"},{\"appid\": 911430,\"ordate\": \"31.03.2020\"},{\"appid\": 1557690,\"ordate\": \"13.04.2021\"},{\"appid\": 1836740,\"ordate\": \"08.07.2022\"},{\"appid\": 751940,\"ordate\": \"07.08.2019\"},{\"appid\": 238240,\"ordate\": \"30.06.2013\"},{\"appid\": 466110,\"ordate\": \"09.05.2016\"},{\"appid\": 1018960,\"ordate\": \"02.03.2019\"},{\"appid\": 1128920,\"ordate\": \"19.01.2021\"},{\"appid\": 378410,\"ordate\": \"04.08.2015\"},{\"appid\": 1674820,\"ordate\": \"29.03.2022\"},{\"appid\": 1653770,\"ordate\": \"16.09.2022\"},{\"appid\": 1137750,\"ordate\": \"05.08.2021\"},{\"appid\": 2089170,\"ordate\": \"01.09.2022\"},{\"appid\": 548430,\"ordate\": \"28.02.2018\"},{\"appid\": 1515320,\"ordate\": \"12.05.2022\"},{\"appid\": 290870,\"ordate\": \"16.05.2014\"},{\"appid\": 457140,\"ordate\": \"18.05.2017\"},{\"appid\": 224740,\"ordate\": \"15.08.2014\"},{\"appid\": 1631010,\"ordate\": \"08.07.2021\"},{\"appid\": 985510,\"ordate\": \"01.02.2019\"},{\"appid\": 986920,\"ordate\": \"16.08.2019\"},{\"appid\": 676760,\"ordate\": \"04.08.2017\"},{\"appid\": 1407450,\"ordate\": \"16.08.2022\"},{\"appid\": 1428100,\"ordate\": \"02.03.2022\"},{\"appid\": 812180,\"ordate\": \"27.03.2018\"},{\"appid\": 574980,\"ordate\": \"22.02.2018\"},{\"appid\": 318970,\"ordate\": \"17.03.2015\"},{\"appid\": 576650,\"ordate\": \"03.01.2017\"},{\"appid\": 1219790,\"ordate\": \"02.11.2020\"},{\"appid\": 700360,\"ordate\": \"28.03.2020\"},{\"appid\": 1454660,\"ordate\": \"19.11.2020\"},{\"appid\": 1655420,\"ordate\": \"15.07.2022\"},{\"appid\": 828730,\"ordate\": \"20.05.2018\"},{\"appid\": 1245910,\"ordate\": \"22.03.2020\"},{\"appid\": 1244630,\"ordate\": \"11.11.2021\"},{\"appid\": 1348760,\"ordate\": \"17.03.2022\"},{\"appid\": 616640,\"ordate\": \"10.05.2017\"},{\"appid\": 1289340,\"ordate\": \"18.02.2021\"},{\"appid\": 1239690,\"ordate\": \"06.03.2020\"},{\"appid\": 950620,\"ordate\": \"06.10.2022\"},{\"appid\": 962130,\"ordate\": \"28.07.2020\"},{\"appid\": 446120,\"ordate\": \"30.03.2016\"},{\"appid\": 708970,\"ordate\": \"08.12.2017\"},{\"appid\": 1299330,\"ordate\": \"26.02.2021\"},{\"appid\": 474880,\"ordate\": \"10.02.2017\"},{\"appid\": 1952310,\"ordate\": \"30.04.2022\"},{\"appid\": 883680,\"ordate\": \"30.05.2019\"},{\"appid\": 2020460,\"ordate\": \"20.06.2022\"},{\"appid\": 280180,\"ordate\": \"06.04.2015\"},{\"appid\": 242680,\"ordate\": \"11.10.2013\"},{\"appid\": 2001000,\"ordate\": \"28.06.2022\"},{\"appid\": 299480,\"ordate\": \"16.07.2014\"},{\"appid\": 882250,\"ordate\": \"31.05.2019\"},{\"appid\": 1160770,\"ordate\": \"19.11.2019\"},{\"appid\": 1965860,\"ordate\": \"19.12.2022\"},{\"appid\": 1651090,\"ordate\": \"15.02.2022\"},{\"appid\": 1273740,\"ordate\": \"20.05.2020\"},{\"appid\": 728110,\"ordate\": \"21.11.2017\"},{\"appid\": 651380,\"ordate\": \"15.03.2018\"},{\"appid\": 686810,\"ordate\": \"06.06.2019\"},{\"appid\": 2091500,\"ordate\": \"02.12.2022\"},{\"appid\": 638990,\"ordate\": \"18.10.2021\"},{\"appid\": 682450,\"ordate\": \"28.03.2018\"},{\"appid\": 657240,\"ordate\": \"28.09.2017\"},{\"appid\": 1784730,\"ordate\": \"28.10.2021\"},{\"appid\": 993840,\"ordate\": \"07.06.2019\"},{\"appid\": 1885200,\"ordate\": \"19.08.2022\"},{\"appid\": 1160950,\"ordate\": \"10.02.2020\"},{\"appid\": 1140870,\"ordate\": \"10.09.2019\"},{\"appid\": 1568620,\"ordate\": \"28.10.2021\"},{\"appid\": 326060,\"ordate\": \"19.05.2016\"},{\"appid\": 384740,\"ordate\": \"28.08.2015\"},{\"appid\": 1514840,\"ordate\": \"26.02.2021\"},{\"appid\": 1412070,\"ordate\": \"11.11.2021\"},{\"appid\": 439340,\"ordate\": \"31.01.2017\"},{\"appid\": 1538730,\"ordate\": \"29.09.2022\"},{\"appid\": 1549440,\"ordate\": \"03.11.2022\"},{\"appid\": 687630,\"ordate\": \"01.09.2017\"},{\"appid\": 1735640,\"ordate\": \"02.10.2021\"},{\"appid\": 572620,\"ordate\": \"29.06.2019\"},{\"appid\": 747850,\"ordate\": \"29.12.2017\"},{\"appid\": 220200,\"ordate\": \"21.03.2013\"},{\"appid\": 1961040,\"ordate\": \"06.05.2022\"},{\"appid\": 1131530,\"ordate\": \"14.08.2019\"},{\"appid\": 290000,\"ordate\": \"13.06.2014\"},{\"appid\": 944710,\"ordate\": \"10.12.2018\"},{\"appid\": 1143810,\"ordate\": \"09.07.2021\"},{\"appid\": 1306570,\"ordate\": \"18.05.2020\"},{\"appid\": 795490,\"ordate\": \"07.07.2018\"},{\"appid\": 270270,\"ordate\": \"01.07.2014\"},{\"appid\": 2151290,\"ordate\": \"12.12.2022\"},{\"appid\": 1381070,\"ordate\": \"18.08.2020\"},{\"appid\": 1506850,\"ordate\": \"20.04.2021\"},{\"appid\": 1427860,\"ordate\": \"19.04.2021\"},{\"appid\": 657480,\"ordate\": \"21.01.2021\"},{\"appid\": 666730,\"ordate\": \"04.08.2017\"},{\"appid\": 1536210,\"ordate\": \"31.08.2021\"},{\"appid\": 750520,\"ordate\": \"12.09.2019\"},{\"appid\": 853450,\"ordate\": \"10.06.2022\"},{\"appid\": 926610,\"ordate\": \"04.10.2018\"},{\"appid\": 1247570,\"ordate\": \"24.02.2020\"},{\"appid\": 1705030,\"ordate\": \"16.11.2021\"},{\"appid\": 594330,\"ordate\": \"02.10.2018\"},{\"appid\": 801760,\"ordate\": \"21.03.2018\"},{\"appid\": 235380,\"ordate\": \"06.05.2015\"},{\"appid\": 1382920,\"ordate\": \"17.08.2020\"},{\"appid\": 1945250,\"ordate\": \"19.04.2022\"},{\"appid\": 829590,\"ordate\": \"03.04.2019\"},{\"appid\": 381020,\"ordate\": \"30.07.2015\"},{\"appid\": 1422180,\"ordate\": \"07.05.2021\"},{\"appid\": 681150,\"ordate\": \"04.08.2017\"},{\"appid\": 386710,\"ordate\": \"08.09.2015\"},{\"appid\": 250110,\"ordate\": \"29.08.2013\"},{\"appid\": 1416520,\"ordate\": \"25.11.2020\"},{\"appid\": 1380650,\"ordate\": \"30.07.2021\"},{\"appid\": 2022190,\"ordate\": \"13.10.2022\"},{\"appid\": 455980,\"ordate\": \"11.04.2016\"},{\"appid\": 290060,\"ordate\": \"14.04.2014\"},{\"appid\": 1430760,\"ordate\": \"08.03.2022\"},{\"appid\": 1445370,\"ordate\": \"10.01.2021\"},{\"appid\": 804870,\"ordate\": \"19.03.2018\"},{\"appid\": 1037080,\"ordate\": \"17.03.2021\"},{\"appid\": 576390,\"ordate\": \"04.02.2017\"},{\"appid\": 1993560,\"ordate\": \"29.08.2022\"},{\"appid\": 623320,\"ordate\": \"20.07.2017\"},{\"appid\": 1932700,\"ordate\": \"16.04.2022\"},{\"appid\": 1753670,\"ordate\": \"05.10.2021\"},{\"appid\": 513250,\"ordate\": \"06.01.2017\"},{\"appid\": 812380,\"ordate\": \"30.11.2022\"},{\"appid\": 2265130,\"ordate\": \"21.01.2023\"},{\"appid\": 1284190,\"ordate\": \"25.03.2022\"},{\"appid\": 320240,\"ordate\": \"26.07.2016\"},{\"appid\": 731670,\"ordate\": \"10.11.2017\"},{\"appid\": 810360,\"ordate\": \"17.05.2018\"},{\"appid\": 744040,\"ordate\": \"30.11.2017\"},{\"appid\": 280520,\"ordate\": \"29.05.2014\"},{\"appid\": 467820,\"ordate\": \"28.07.2016\"},{\"appid\": 1535560,\"ordate\": \"25.08.2022\"},{\"appid\": 433850,\"ordate\": \"18.02.2016\"},{\"appid\": 761300,\"ordate\": \"02.06.2018\"},{\"appid\": 1275600,\"ordate\": \"28.11.2020\"},{\"appid\": 1488070,\"ordate\": \"16.08.2022\"},{\"appid\": 1481440,\"ordate\": \"27.02.2021\"},{\"appid\": 867210,\"ordate\": \"10.05.2022\"},{\"appid\": 1218580,\"ordate\": \"05.05.2020\"},{\"appid\": 1918790,\"ordate\": \"23.03.2022\"},{\"appid\": 802120,\"ordate\": \"02.10.2020\"},{\"appid\": 942010,\"ordate\": \"17.04.2019\"},{\"appid\": 530830,\"ordate\": \"22.10.2016\"},{\"appid\": 1989140,\"ordate\": \"12.07.2022\"},{\"appid\": 1581800,\"ordate\": \"07.10.2021\"},{\"appid\": 704920,\"ordate\": \"15.05.2020\"},{\"appid\": 578620,\"ordate\": \"10.07.2017\"},{\"appid\": 2016080,\"ordate\": \"12.10.2022\"},{\"appid\": 264120,\"ordate\": \"06.02.2014\"},{\"appid\": 1063570,\"ordate\": \"20.08.2019\"},{\"appid\": 438000,\"ordate\": \"23.02.2016\"},{\"appid\": 514920,\"ordate\": \"14.12.2016\"},{\"appid\": 1119840,\"ordate\": \"21.10.2021\"},{\"appid\": 340580,\"ordate\": \"28.05.2015\"},{\"appid\": 1003150,\"ordate\": \"28.05.2020\"},{\"appid\": 1479880,\"ordate\": \"15.02.2021\"},{\"appid\": 291010,\"ordate\": \"06.06.2014\"},{\"appid\": 1204320,\"ordate\": \"14.01.2020\"},{\"appid\": 1868000,\"ordate\": \"22.07.2022\"},{\"appid\": 941600,\"ordate\": \"14.02.2019\"},{\"appid\": 811320,\"ordate\": \"01.08.2019\"},{\"appid\": 1394130,\"ordate\": \"04.06.2021\"},{\"appid\": 1878720,\"ordate\": \"14.10.2022\"},{\"appid\": 292330,\"ordate\": \"29.04.2016\"},{\"appid\": 1676380,\"ordate\": \"08.01.2022\"},{\"appid\": 1026380,\"ordate\": \"02.03.2019\"},{\"appid\": 1504570,\"ordate\": \"15.04.2022\"},{\"appid\": 1008700,\"ordate\": \"16.07.2020\"},{\"appid\": 848080,\"ordate\": \"30.10.2020\"},{\"appid\": 1719390,\"ordate\": \"02.11.2021\"},{\"appid\": 669500,\"ordate\": \"31.01.2019\"},{\"appid\": 493520,\"ordate\": \"10.12.2019\"},{\"appid\": 508440,\"ordate\": \"01.04.2019\"},{\"appid\": 2174420,\"ordate\": \"01.01.2023\"},{\"appid\": 1201830,\"ordate\": \"27.03.2020\"},{\"appid\": 1585530,\"ordate\": \"14.10.2021\"},{\"appid\": 1266430,\"ordate\": \"27.09.2022\"},{\"appid\": 1166910,\"ordate\": \"04.11.2019\"},{\"appid\": 298610,\"ordate\": \"06.12.2017\"},{\"appid\": 1291540,\"ordate\": \"03.09.2020\"},{\"appid\": 854680,\"ordate\": \"03.07.2018\"},{\"appid\": 437730,\"ordate\": \"09.01.2017\"},{\"appid\": 1623880,\"ordate\": \"30.06.2021\"},{\"appid\": 1665900,\"ordate\": \"20.01.2022\"},{\"appid\": 402330,\"ordate\": \"09.10.2015\"},{\"appid\": 1088790,\"ordate\": \"15.10.2019\"},{\"appid\": 1584690,\"ordate\": \"28.04.2022\"},{\"appid\": 246620,\"ordate\": \"20.02.2014\"},{\"appid\": 488550,\"ordate\": \"23.09.2016\"},{\"appid\": 1404850,\"ordate\": \"09.01.2021\"},{\"appid\": 604550,\"ordate\": \"17.10.2017\"},{\"appid\": 544920,\"ordate\": \"17.01.2018\"},{\"appid\": 531640,\"ordate\": \"19.11.2016\"},{\"appid\": 1651680,\"ordate\": \"01.09.2021\"},{\"appid\": 2015620,\"ordate\": \"23.10.2022\"},{\"appid\": 1147550,\"ordate\": \"31.01.2020\"},{\"appid\": 760630,\"ordate\": \"07.06.2019\"},{\"appid\": 997710,\"ordate\": \"23.07.2019\"},{\"appid\": 1144200,\"ordate\": \"18.12.2021\"},{\"appid\": 1134520,\"ordate\": \"04.10.2020\"},{\"appid\": 674090,\"ordate\": \"26.11.2020\"},{\"appid\": 1168870,\"ordate\": \"28.05.2020\"},{\"appid\": 483490,\"ordate\": \"15.07.2017\"},{\"appid\": 580820,\"ordate\": \"24.02.2017\"},{\"appid\": 958220,\"ordate\": \"11.09.2019\"},{\"appid\": 967120,\"ordate\": \"06.04.2021\"},{\"appid\": 1091460,\"ordate\": \"01.10.2019\"},{\"appid\": 434300,\"ordate\": \"08.01.2017\"},{\"appid\": 1499310,\"ordate\": \"03.11.2021\"},{\"appid\": 1937700,\"ordate\": \"27.04.2022\"},{\"appid\": 1604030,\"ordate\": \"17.05.2022\"},{\"appid\": 915810,\"ordate\": \"31.03.2022\"},{\"appid\": 612570,\"ordate\": \"27.04.2018\"},{\"appid\": 543910,\"ordate\": \"16.06.2017\"},{\"appid\": 1372530,\"ordate\": \"28.05.2021\"},{\"appid\": 1481720,\"ordate\": \"09.04.2021\"},{\"appid\": 262120,\"ordate\": \"01.03.2014\"},{\"appid\": 2105910,\"ordate\": \"16.09.2022\"},{\"appid\": 330100,\"ordate\": \"07.11.2014\"},{\"appid\": 1731260,\"ordate\": \"14.11.2022\"},{\"appid\": 229580,\"ordate\": \"13.08.2013\"},{\"appid\": 1444320,\"ordate\": \"26.10.2020\"},{\"appid\": 896440,\"ordate\": \"22.05.2020\"},{\"appid\": 1049870,\"ordate\": \"29.04.2019\"},{\"appid\": 2252820,\"ordate\": \"04.01.2023\"},{\"appid\": 459830,\"ordate\": \"03.10.2016\"},{\"appid\": 1829170,\"ordate\": \"14.10.2022\"},{\"appid\": 1765240,\"ordate\": \"06.10.2021\"},{\"appid\": 1548350,\"ordate\": \"23.12.2022\"},{\"appid\": 299250,\"ordate\": \"21.11.2014\"},{\"appid\": 1246490,\"ordate\": \"14.04.2020\"},{\"appid\": 939450,\"ordate\": \"23.11.2018\"},{\"appid\": 1094520,\"ordate\": \"03.01.2020\"},{\"appid\": 788670,\"ordate\": \"08.01.2020\"},{\"appid\": 921800,\"ordate\": \"26.09.2019\"},{\"appid\": 1878300,\"ordate\": \"01.03.2022\"},{\"appid\": 984910,\"ordate\": \"21.01.2019\"},{\"appid\": 1335370,\"ordate\": \"22.12.2021\"},{\"appid\": 504050,\"ordate\": \"25.05.2017\"},{\"appid\": 1333490,\"ordate\": \"08.11.2021\"},{\"appid\": 1782120,\"ordate\": \"15.11.2022\"},{\"appid\": 1352930,\"ordate\": \"16.09.2020\"},{\"appid\": 678900,\"ordate\": \"14.12.2017\"},{\"appid\": 1049560,\"ordate\": \"03.05.2019\"},{\"appid\": 1161580,\"ordate\": \"16.06.2020\"},{\"appid\": 1073350,\"ordate\": \"08.05.2019\"},{\"appid\": 1511460,\"ordate\": \"15.10.2021\"},{\"appid\": 641960,\"ordate\": \"14.06.2017\"},{\"appid\": 446020,\"ordate\": \"22.04.2016\"},{\"appid\": 1885250,\"ordate\": \"03.03.2022\"},{\"appid\": 1291970,\"ordate\": \"18.05.2020\"},{\"appid\": 1038370,\"ordate\": \"07.05.2019\"},{\"appid\": 1151580,\"ordate\": \"08.10.2019\"},{\"appid\": 884990,\"ordate\": \"22.11.2018\"},{\"appid\": 342150,\"ordate\": \"26.05.2015\"},{\"appid\": 645930,\"ordate\": \"05.10.2018\"},{\"appid\": 1168690,\"ordate\": \"01.12.2022\"},{\"appid\": 1069640,\"ordate\": \"20.11.2019\"},{\"appid\": 314950,\"ordate\": \"04.11.2014\"},{\"appid\": 369700,\"ordate\": \"28.04.2017\"},{\"appid\": 1422130,\"ordate\": \"13.01.2023\"},{\"appid\": 364050,\"ordate\": \"11.07.2015\"},{\"appid\": 254200,\"ordate\": \"10.12.2013\"},{\"appid\": 1552600,\"ordate\": \"20.03.2021\"},{\"appid\": 588630,\"ordate\": \"16.03.2017\"},{\"appid\": 1285230,\"ordate\": \"12.10.2021\"},{\"appid\": 970760,\"ordate\": \"06.08.2019\"},{\"appid\": 550650,\"ordate\": \"28.07.2017\"},{\"appid\": 1574240,\"ordate\": \"16.06.2022\"},{\"appid\": 880130,\"ordate\": \"16.09.2018\"},{\"appid\": 1023550,\"ordate\": \"09.03.2019\"},{\"appid\": 1335400,\"ordate\": \"31.07.2020\"},{\"appid\": 230070,\"ordate\": \"16.11.2013\"},{\"appid\": 365360,\"ordate\": \"27.04.2015\"},{\"appid\": 386930,\"ordate\": \"31.08.2015\"},{\"appid\": 1122250,\"ordate\": \"30.07.2019\"},{\"appid\": 2211090,\"ordate\": \"13.12.2022\"},{\"appid\": 268360,\"ordate\": \"31.03.2014\"},{\"appid\": 1504230,\"ordate\": \"05.02.2021\"},{\"appid\": 838790,\"ordate\": \"14.08.2018\"},{\"appid\": 1452910,\"ordate\": \"24.08.2021\"},{\"appid\": 2314090,\"ordate\": \"05.03.2023\"},{\"appid\": 1464420,\"ordate\": \"23.11.2020\"},{\"appid\": 437440,\"ordate\": \"04.10.2022\"},{\"appid\": 386140,\"ordate\": \"13.07.2015\"},{\"appid\": 1958190,\"ordate\": \"27.05.2022\"},{\"appid\": 1120480,\"ordate\": \"14.01.2022\"},{\"appid\": 800310,\"ordate\": \"10.03.2018\"},{\"appid\": 1442670,\"ordate\": \"22.08.2022\"},{\"appid\": 1502040,\"ordate\": \"24.03.2021\"},{\"appid\": 591460,\"ordate\": \"25.09.2018\"},{\"appid\": 1101960,\"ordate\": \"26.02.2020\"},{\"appid\": 1533390,\"ordate\": \"12.02.2021\"},{\"appid\": 529100,\"ordate\": \"17.10.2016\"},{\"appid\": 1124260,\"ordate\": \"26.01.2021\"},{\"appid\": 1259140,\"ordate\": \"17.07.2020\"},{\"appid\": 230190,\"ordate\": \"16.05.2013\"},{\"appid\": 325730,\"ordate\": \"10.10.2014\"},{\"appid\": 785660,\"ordate\": \"16.03.2018\"},{\"appid\": 1830280,\"ordate\": \"24.10.2022\"},{\"appid\": 2081240,\"ordate\": \"26.07.2022\"},{\"appid\": 1063870,\"ordate\": \"17.07.2019\"},{\"appid\": 1959990,\"ordate\": \"06.09.2022\"},{\"appid\": 955900,\"ordate\": \"10.01.2019\"},{\"appid\": 1719690,\"ordate\": \"31.03.2022\"},{\"appid\": 670240,\"ordate\": \"21.01.2018\"},{\"appid\": 1083070,\"ordate\": \"11.03.2021\"},{\"appid\": 964800,\"ordate\": \"10.11.2020\"},{\"appid\": 1135810,\"ordate\": \"21.11.2020\"},{\"appid\": 1693540,\"ordate\": \"08.10.2021\"},{\"appid\": 757420,\"ordate\": \"16.04.2018\"},{\"appid\": 865540,\"ordate\": \"22.06.2018\"},{\"appid\": 390560,\"ordate\": \"14.09.2017\"},{\"appid\": 425450,\"ordate\": \"20.01.2017\"},{\"appid\": 1370390,\"ordate\": \"18.09.2020\"},{\"appid\": 214420,\"ordate\": \"21.03.2013\"},{\"appid\": 1058650,\"ordate\": \"21.10.2020\"},{\"appid\": 981600,\"ordate\": \"11.10.2021\"},{\"appid\": 1598730,\"ordate\": \"03.09.2021\"},{\"appid\": 1398110,\"ordate\": \"01.05.2021\"},{\"appid\": 1308700,\"ordate\": \"17.12.2021\"},{\"appid\": 1426050,\"ordate\": \"15.09.2022\"},{\"appid\": 2250190,\"ordate\": \"02.03.2023\"},{\"appid\": 2189150,\"ordate\": \"25.12.2022\"},{\"appid\": 1252400,\"ordate\": \"06.11.2020\"},{\"appid\": 690950,\"ordate\": \"10.11.2017\"},{\"appid\": 432940,\"ordate\": \"02.02.2016\"},{\"appid\": 1000770,\"ordate\": \"02.12.2019\"},{\"appid\": 528460,\"ordate\": \"10.12.2016\"},{\"appid\": 531530,\"ordate\": \"13.10.2016\"},{\"appid\": 1144090,\"ordate\": \"27.11.2019\"},{\"appid\": 1826090,\"ordate\": \"11.03.2022\"},{\"appid\": 326840,\"ordate\": \"07.10.2014\"},{\"appid\": 1018800,\"ordate\": \"21.01.2020\"},{\"appid\": 1215390,\"ordate\": \"12.06.2020\"},{\"appid\": 2134060,\"ordate\": \"27.12.2022\"},{\"appid\": 715660,\"ordate\": \"27.04.2018\"},{\"appid\": 528970,\"ordate\": \"29.12.2016\"},{\"appid\": 1771990,\"ordate\": \"22.04.2022\"},{\"appid\": 1366810,\"ordate\": \"23.07.2020\"},{\"appid\": 1827700,\"ordate\": \"13.08.2022\"},{\"appid\": 644010,\"ordate\": \"03.05.2018\"},{\"appid\": 312430,\"ordate\": \"09.04.2015\"},{\"appid\": 444740,\"ordate\": \"07.03.2016\"},{\"appid\": 579840,\"ordate\": \"07.04.2017\"},{\"appid\": 1363740,\"ordate\": \"22.12.2021\"},{\"appid\": 2290890,\"ordate\": \"23.02.2023\"},{\"appid\": 547670,\"ordate\": \"07.06.2022\"},{\"appid\": 971690,\"ordate\": \"19.12.2018\"},{\"appid\": 1075570,\"ordate\": \"04.06.2019\"},{\"appid\": 300260,\"ordate\": \"15.04.2016\"},{\"appid\": 1974220,\"ordate\": \"01.10.2022\"},{\"appid\": 1876340,\"ordate\": \"05.05.2022\"},{\"appid\": 1587130,\"ordate\": \"10.02.2022\"},{\"appid\": 2116260,\"ordate\": \"04.02.2023\"},{\"appid\": 424040,\"ordate\": \"29.02.2016\"},{\"appid\": 1932210,\"ordate\": \"29.03.2023\"},{\"appid\": 763100,\"ordate\": \"13.12.2019\"},{\"appid\": 745970,\"ordate\": \"04.12.2018\"},{\"appid\": 619230,\"ordate\": \"03.10.2017\"},{\"appid\": 331210,\"ordate\": \"20.04.2016\"},{\"appid\": 1568720,\"ordate\": \"14.09.2021\"},{\"appid\": 591370,\"ordate\": \"18.05.2017\"},{\"appid\": 1404840,\"ordate\": \"20.10.2022\"},{\"appid\": 2373030,\"ordate\": \"23.04.2023\"},{\"appid\": 1254320,\"ordate\": \"17.01.2023\"},{\"appid\": 559280,\"ordate\": \"01.02.2017\"},{\"appid\": 1131240,\"ordate\": \"28.08.2020\"},{\"appid\": 1779070,\"ordate\": \"07.03.2022\"},{\"appid\": 1000870,\"ordate\": \"08.03.2019\"},{\"appid\": 286240,\"ordate\": \"08.12.2014\"},{\"appid\": 1460510,\"ordate\": \"02.11.2020\"},{\"appid\": 1440360,\"ordate\": \"20.04.2021\"},{\"appid\": 1037750,\"ordate\": \"11.06.2019\"},{\"appid\": 2157290,\"ordate\": \"05.10.2022\"},{\"appid\": 1148710,\"ordate\": \"20.10.2019\"},{\"appid\": 1056840,\"ordate\": \"08.12.2020\"},{\"appid\": 1634990,\"ordate\": \"26.08.2021\"},{\"appid\": 1741420,\"ordate\": \"29.11.2021\"},{\"appid\": 407000,\"ordate\": \"02.10.2015\"},{\"appid\": 2015240,\"ordate\": \"16.12.2022\"},{\"appid\": 450700,\"ordate\": \"07.07.2016\"},{\"appid\": 1134700,\"ordate\": \"28.01.2021\"},{\"appid\": 1681060,\"ordate\": \"18.04.2023\"},{\"appid\": 1016800,\"ordate\": \"17.10.2019\"},{\"appid\": 1566220,\"ordate\": \"30.10.2021\"},{\"appid\": 531180,\"ordate\": \"13.10.2016\"},{\"appid\": 2350000,\"ordate\": \"07.05.2023\"},{\"appid\": 365810,\"ordate\": \"20.08.2015\"},{\"appid\": 2190170,\"ordate\": \"11.03.2023\"},{\"appid\": 1297790,\"ordate\": \"06.08.2020\"},{\"appid\": 573490,\"ordate\": \"16.08.2017\"},{\"appid\": 644290,\"ordate\": \"05.06.2018\"},{\"appid\": 419020,\"ordate\": \"20.12.2015\"},{\"appid\": 604240,\"ordate\": \"01.06.2017\"},{\"appid\": 332310,\"ordate\": \"01.06.2015\"},{\"appid\": 740080,\"ordate\": \"13.12.2017\"},{\"appid\": 1123500,\"ordate\": \"23.09.2019\"},{\"appid\": 1801370,\"ordate\": \"24.11.2021\"},{\"appid\": 1781580,\"ordate\": \"23.11.2021\"},{\"appid\": 1105670,\"ordate\": \"03.06.2021\"},{\"appid\": 1292040,\"ordate\": \"04.09.2020\"},{\"appid\": 2159120,\"ordate\": \"01.04.2023\"},{\"appid\": 1424290,\"ordate\": \"27.10.2022\"},{\"appid\": 828680,\"ordate\": \"15.12.2018\"},{\"appid\": 1110890,\"ordate\": \"07.09.2020\"},{\"appid\": 1492140,\"ordate\": \"21.11.2021\"},{\"appid\": 645200,\"ordate\": \"15.01.2021\"},{\"appid\": 1061240,\"ordate\": \"04.05.2019\"},{\"appid\": 622670,\"ordate\": \"26.08.2017\"},{\"appid\": 2016220,\"ordate\": \"30.07.2022\"},{\"appid\": 1672230,\"ordate\": \"16.08.2021\"},{\"appid\": 1937180,\"ordate\": \"23.11.2022\"},{\"appid\": 678910,\"ordate\": \"31.05.2019\"},{\"appid\": 2318480,\"ordate\": \"21.04.2023\"},{\"appid\": 1500940,\"ordate\": \"22.04.2022\"},{\"appid\": 1540960,\"ordate\": \"06.05.2021\"},{\"appid\": 2124930,\"ordate\": \"09.01.2023\"},{\"appid\": 1268420,\"ordate\": \"07.07.2022\"},{\"appid\": 2236490,\"ordate\": \"31.12.2022\"},{\"appid\": 200150,\"ordate\": \"17.03.2014\"},{\"appid\": 2113770,\"ordate\": \"23.11.2022\"},{\"appid\": 1972460,\"ordate\": \"23.11.2022\"},{\"appid\": 1687570,\"ordate\": \"24.03.2022\"},{\"appid\": 1684410,\"ordate\": \"01.04.2022\"},{\"appid\": 1635440,\"ordate\": \"04.06.2021\"},{\"appid\": 1612770,\"ordate\": \"28.07.2022\"},{\"appid\": 1254390,\"ordate\": \"25.03.2020\"},{\"appid\": 577380,\"ordate\": \"24.02.2017\"},{\"appid\": 1386650,\"ordate\": \"17.12.2020\"},{\"appid\": 1891560,\"ordate\": \"01.03.2022\"},{\"appid\": 979520,\"ordate\": \"21.12.2018\"},{\"appid\": 405240,\"ordate\": \"30.09.2015\"},{\"appid\": 1141600,\"ordate\": \"20.05.2020\"},{\"appid\": 1990060,\"ordate\": \"12.06.2022\"},{\"appid\": 246760,\"ordate\": \"09.10.2013\"},{\"appid\": 475960,\"ordate\": \"19.07.2016\"},{\"appid\": 1131930,\"ordate\": \"07.01.2020\"},{\"appid\": 1625230,\"ordate\": \"05.06.2021\"},{\"appid\": 886300,\"ordate\": \"01.08.2018\"},{\"appid\": 1884850,\"ordate\": \"19.03.2022\"},{\"appid\": 371520,\"ordate\": \"25.08.2015\"},{\"appid\": 1138440,\"ordate\": \"11.11.2020\"},{\"appid\": 870090,\"ordate\": \"22.06.2018\"},{\"appid\": 895620,\"ordate\": \"24.09.2019\"},{\"appid\": 1858900,\"ordate\": \"17.02.2023\"},{\"appid\": 1201230,\"ordate\": \"28.04.2022\"},{\"appid\": 1184530,\"ordate\": \"13.12.2019\"},{\"appid\": 961200,\"ordate\": \"30.11.2022\"},{\"appid\": 1923900,\"ordate\": \"18.10.2022\"},{\"appid\": 1750770,\"ordate\": \"14.12.2022\"},{\"appid\": 1672670,\"ordate\": \"01.09.2022\"},{\"appid\": 348670,\"ordate\": \"25.03.2015\"},{\"appid\": 1550280,\"ordate\": \"23.07.2021\"},{\"appid\": 628710,\"ordate\": \"06.06.2017\"},{\"appid\": 1042960,\"ordate\": \"22.04.2021\"},{\"appid\": 855740,\"ordate\": \"26.08.2021\"},{\"appid\": 552880,\"ordate\": \"01.06.2017\"},{\"appid\": 1045180,\"ordate\": \"05.06.2019\"},{\"appid\": 392610,\"ordate\": \"12.11.2015\"},{\"appid\": 1432860,\"ordate\": \"26.06.2021\"},{\"appid\": 886900,\"ordate\": \"06.12.2018\"},{\"appid\": 344740,\"ordate\": \"07.10.2015\"},{\"appid\": 1232100,\"ordate\": \"01.10.2020\"},{\"appid\": 409410,\"ordate\": \"02.03.2016\"},{\"appid\": 1897420,\"ordate\": \"23.04.2022\"},{\"appid\": 1395420,\"ordate\": \"07.09.2020\"},{\"appid\": 1487680,\"ordate\": \"24.05.2021\"},{\"appid\": 1960270,\"ordate\": \"31.08.2022\"},{\"appid\": 1922980,\"ordate\": \"10.03.2023\"},{\"appid\": 1741640,\"ordate\": \"01.11.2021\"},{\"appid\": 655780,\"ordate\": \"04.12.2017\"},{\"appid\": 2114090,\"ordate\": \"31.08.2022\"},{\"appid\": 1186650,\"ordate\": \"07.01.2020\"},{\"appid\": 1871840,\"ordate\": \"04.11.2022\"},{\"appid\": 1528470,\"ordate\": \"15.03.2021\"},{\"appid\": 876650,\"ordate\": \"08.08.2018\"},{\"appid\": 461410,\"ordate\": \"05.07.2016\"},{\"appid\": 1253920,\"ordate\": \"18.08.2020\"},{\"appid\": 341000,\"ordate\": \"05.01.2015\"},{\"appid\": 1413020,\"ordate\": \"08.10.2020\"},{\"appid\": 1979410,\"ordate\": \"23.05.2023\"},{\"appid\": 349250,\"ordate\": \"11.08.2016\"},{\"appid\": 430070,\"ordate\": \"31.08.2017\"},{\"appid\": 681640,\"ordate\": \"16.07.2020\"},{\"appid\": 1451190,\"ordate\": \"31.01.2023\"},{\"appid\": 1575590,\"ordate\": \"08.01.2022\"},{\"appid\": 1121200,\"ordate\": \"14.10.2021\"},{\"appid\": 1270850,\"ordate\": \"10.04.2020\"},{\"appid\": 572010,\"ordate\": \"28.01.2017\"},{\"appid\": 685340,\"ordate\": \"06.10.2017\"},{\"appid\": 679700,\"ordate\": \"02.03.2020\"},{\"appid\": 903710,\"ordate\": \"07.11.2018\"},{\"appid\": 530860,\"ordate\": \"23.05.2017\"},{\"appid\": 402940,\"ordate\": \"17.10.2017\"},{\"appid\": 1039350,\"ordate\": \"26.03.2019\"},{\"appid\": 227160,\"ordate\": \"21.03.2013\"},{\"appid\": 1712510,\"ordate\": \"25.02.2022\"},{\"appid\": 819630,\"ordate\": \"17.04.2018\"},{\"appid\": 468240,\"ordate\": \"31.05.2016\"},{\"appid\": 1818180,\"ordate\": \"06.01.2022\"},{\"appid\": 314590,\"ordate\": \"15.05.2015\"},{\"appid\": 1105960,\"ordate\": \"22.02.2021\"},{\"appid\": 1055610,\"ordate\": \"06.03.2020\"},{\"appid\": 1245430,\"ordate\": \"10.07.2020\"},{\"appid\": 1324350,\"ordate\": \"04.08.2022\"},{\"appid\": 1701340,\"ordate\": \"01.04.2023\"},{\"appid\": 551860,\"ordate\": \"21.02.2018\"},{\"appid\": 2220850,\"ordate\": \"27.12.2022\"},{\"appid\": 542770,\"ordate\": \"12.11.2016\"},{\"appid\": 1446930,\"ordate\": \"29.06.2021\"},{\"appid\": 847780,\"ordate\": \"14.08.2021\"},{\"appid\": 1612950,\"ordate\": \"23.06.2021\"},{\"appid\": 1510460,\"ordate\": \"16.04.2021\"},{\"appid\": 1179570,\"ordate\": \"22.04.2020\"},{\"appid\": 793830,\"ordate\": \"05.06.2020\"},{\"appid\": 433530,\"ordate\": \"15.02.2016\"},{\"appid\": 1322100,\"ordate\": \"17.03.2022\"},{\"appid\": 771530,\"ordate\": \"24.12.2018\"},{\"appid\": 769110,\"ordate\": \"03.01.2018\"},{\"appid\": 1347800,\"ordate\": \"20.06.2020\"},{\"appid\": 1228570,\"ordate\": \"13.03.2020\"},{\"appid\": 2186970,\"ordate\": \"03.11.2022\"},{\"appid\": 2150820,\"ordate\": \"28.10.2022\"},{\"appid\": 1487390,\"ordate\": \"02.12.2021\"},{\"appid\": 1889620,\"ordate\": \"03.03.2022\"},{\"appid\": 1466100,\"ordate\": \"13.01.2021\"},{\"appid\": 235800,\"ordate\": \"02.10.2013\"},{\"appid\": 1441430,\"ordate\": \"29.12.2020\"},{\"appid\": 2261610,\"ordate\": \"01.04.2023\"},{\"appid\": 444090,\"ordate\": \"15.09.2016\"},{\"appid\": 1362120,\"ordate\": \"02.12.2022\"},{\"appid\": 1296770,\"ordate\": \"19.06.2020\"},{\"appid\": 1383280,\"ordate\": \"23.02.2021\"},{\"appid\": 893420,\"ordate\": \"30.07.2019\"},{\"appid\": 976030,\"ordate\": \"23.04.2019\"},{\"appid\": 903790,\"ordate\": \"13.09.2018\"},{\"appid\": 1857020,\"ordate\": \"14.02.2022\"},{\"appid\": 324810,\"ordate\": \"22.01.2015\"},{\"appid\": 1477070,\"ordate\": \"20.12.2022\"},{\"appid\": 587920,\"ordate\": \"13.03.2017\"},{\"appid\": 1401560,\"ordate\": \"20.11.2020\"},{\"appid\": 1189290,\"ordate\": \"10.03.2023\"},{\"appid\": 331360,\"ordate\": \"31.01.2017\"},{\"appid\": 585420,\"ordate\": \"30.01.2018\"},{\"appid\": 417290,\"ordate\": \"25.07.2016\"},{\"appid\": 386200,\"ordate\": \"02.10.2015\"},{\"appid\": 957710,\"ordate\": \"16.06.2020\"},{\"appid\": 2343930,\"ordate\": \"16.06.2023\"},{\"appid\": 704970,\"ordate\": \"30.11.2019\"},{\"appid\": 467760,\"ordate\": \"19.07.2016\"},{\"appid\": 1156500,\"ordate\": \"04.05.2021\"},{\"appid\": 1699530,\"ordate\": \"31.12.2021\"},{\"appid\": 270110,\"ordate\": \"25.04.2014\"},{\"appid\": 1745510,\"ordate\": \"15.03.2022\"},{\"appid\": 1126110,\"ordate\": \"30.07.2021\"},{\"appid\": 1364210,\"ordate\": \"10.11.2022\"},{\"appid\": 2250690,\"ordate\": \"05.03.2023\"},{\"appid\": 1231970,\"ordate\": \"21.08.2020\"},{\"appid\": 2159500,\"ordate\": \"25.04.2023\"},{\"appid\": 511540,\"ordate\": \"14.07.2018\"},{\"appid\": 1256530,\"ordate\": \"05.06.2020\"},{\"appid\": 1693710,\"ordate\": \"01.04.2023\"},{\"appid\": 844390,\"ordate\": \"12.03.2022\"},{\"appid\": 1175870,\"ordate\": \"22.09.2021\"},{\"appid\": 1298620,\"ordate\": \"18.07.2022\"},{\"appid\": 830820,\"ordate\": \"11.12.2018\"},{\"appid\": 803760,\"ordate\": \"22.03.2018\"},{\"appid\": 926140,\"ordate\": \"20.09.2018\"},{\"appid\": 2286440,\"ordate\": \"30.06.2023\"},{\"appid\": 383840,\"ordate\": \"03.10.2018\"},{\"appid\": 583240,\"ordate\": \"15.03.2017\"},{\"appid\": 1429500,\"ordate\": \"15.12.2022\"},{\"appid\": 427940,\"ordate\": \"21.06.2021\"},{\"appid\": 2162780,\"ordate\": \"05.11.2022\"},{\"appid\": 1353920,\"ordate\": \"31.03.2022\"},{\"appid\": 1179110,\"ordate\": \"12.11.2019\"},{\"appid\": 1896170,\"ordate\": \"11.05.2022\"},{\"appid\": 1776170,\"ordate\": \"07.04.2022\"},{\"appid\": 2153430,\"ordate\": \"08.06.2023\"},{\"appid\": 704020,\"ordate\": \"16.10.2020\"},{\"appid\": 1342900,\"ordate\": \"29.10.2020\"},{\"appid\": 962730,\"ordate\": \"19.12.2018\"},{\"appid\": 1319550,\"ordate\": \"03.06.2021\"},{\"appid\": 860660,\"ordate\": \"19.07.2018\"},{\"appid\": 1493520,\"ordate\": \"14.11.2022\"},{\"appid\": 1093170,\"ordate\": \"28.01.2021\"},{\"appid\": 1402020,\"ordate\": \"17.05.2021\"},{\"appid\": 242860,\"ordate\": \"20.09.2013\"},{\"appid\": 474020,\"ordate\": \"17.09.2020\"},{\"appid\": 1487740,\"ordate\": \"06.01.2021\"},{\"appid\": 487000,\"ordate\": \"01.08.2017\"},{\"appid\": 446850,\"ordate\": \"05.12.2016\"},{\"appid\": 978650,\"ordate\": \"13.03.2019\"},{\"appid\": 1969650,\"ordate\": \"21.04.2023\"},{\"appid\": 1226510,\"ordate\": \"22.09.2020\"},{\"appid\": 1084220,\"ordate\": \"12.08.2020\"},{\"appid\": 878380,\"ordate\": \"10.09.2018\"},{\"appid\": 1395760,\"ordate\": \"26.08.2021\"},{\"appid\": 1833190,\"ordate\": \"21.12.2021\"},{\"appid\": 437220,\"ordate\": \"04.03.2016\"},{\"appid\": 1280930,\"ordate\": \"12.04.2022\"},{\"appid\": 1185620,\"ordate\": \"27.11.2019\"},{\"appid\": 1003860,\"ordate\": \"22.10.2020\"},{\"appid\": 758080,\"ordate\": \"24.08.2018\"},{\"appid\": 1133060,\"ordate\": \"05.11.2021\"},{\"appid\": 1937110,\"ordate\": \"07.09.2022\"},{\"appid\": 1506420,\"ordate\": \"17.01.2021\"},{\"appid\": 651120,\"ordate\": \"23.06.2017\"},{\"appid\": 763890,\"ordate\": \"13.11.2019\"},{\"appid\": 810500,\"ordate\": \"18.04.2019\"},{\"appid\": 1304090,\"ordate\": \"23.10.2020\"},{\"appid\": 2242370,\"ordate\": \"20.03.2023\"},{\"appid\": 517210,\"ordate\": \"06.01.2017\"},{\"appid\": 657000,\"ordate\": \"17.10.2019\"},{\"appid\": 1729900,\"ordate\": \"09.09.2021\"},{\"appid\": 1094960,\"ordate\": \"20.07.2020\"},{\"appid\": 908390,\"ordate\": \"20.06.2019\"},{\"appid\": 232090,\"ordate\": \"21.04.2015\"},{\"appid\": 1228320,\"ordate\": \"14.10.2022\"},{\"appid\": 519080,\"ordate\": \"08.11.2016\"},{\"appid\": 839500,\"ordate\": \"17.05.2018\"},{\"appid\": 1872860,\"ordate\": \"01.03.2022\"},{\"appid\": 377150,\"ordate\": \"25.06.2015\"},{\"appid\": 1036740,\"ordate\": \"25.08.2021\"},{\"appid\": 1543270,\"ordate\": \"19.03.2021\"},{\"appid\": 1794470,\"ordate\": \"04.11.2021\"},{\"appid\": 988310,\"ordate\": \"23.07.2019\"},{\"appid\": 296010,\"ordate\": \"28.07.2014\"},{\"appid\": 826740,\"ordate\": \"24.10.2019\"},{\"appid\": 657170,\"ordate\": \"06.09.2019\"},{\"appid\": 499660,\"ordate\": \"09.06.2017\"},{\"appid\": 1009560,\"ordate\": \"26.03.2021\"},{\"appid\": 1092630,\"ordate\": \"14.08.2019\"},{\"appid\": 1355620,\"ordate\": \"25.08.2020\"},{\"appid\": 1677090,\"ordate\": \"08.11.2022\"},{\"appid\": 1074280,\"ordate\": \"19.07.2023\"},{\"appid\": 2239870,\"ordate\": \"14.04.2023\"},{\"appid\": 1682380,\"ordate\": \"21.01.2022\"},{\"appid\": 525640,\"ordate\": \"08.09.2016\"},{\"appid\": 1393420,\"ordate\": \"07.11.2020\"},{\"appid\": 1374170,\"ordate\": \"04.08.2022\"},{\"appid\": 1485690,\"ordate\": \"13.03.2023\"},{\"appid\": 612930,\"ordate\": \"04.09.2017\"},{\"appid\": 2483930,\"ordate\": \"20.07.2023\"},{\"appid\": 1640890,\"ordate\": \"14.03.2023\"},{\"appid\": 1046140,\"ordate\": \"30.05.2019\"},{\"appid\": 406760,\"ordate\": \"01.12.2015\"},{\"appid\": 246900,\"ordate\": \"04.04.2014\"},{\"appid\": 2060750,\"ordate\": \"02.03.2023\"},{\"appid\": 299340,\"ordate\": \"08.07.2014\"},{\"appid\": 510740,\"ordate\": \"05.08.2016\"},{\"appid\": 2254750,\"ordate\": \"31.01.2023\"},{\"appid\": 1694740,\"ordate\": \"22.09.2021\"},{\"appid\": 1192380,\"ordate\": \"19.12.2019\"},{\"appid\": 2126600,\"ordate\": \"26.11.2022\"},{\"appid\": 667550,\"ordate\": \"01.07.2017\"},{\"appid\": 1293530,\"ordate\": \"02.06.2020\"},{\"appid\": 433340,\"ordate\": \"14.01.2016\"},{\"appid\": 1512450,\"ordate\": \"25.01.2021\"},{\"appid\": 1906570,\"ordate\": \"01.02.2023\"},{\"appid\": 957790,\"ordate\": \"20.10.2018\"},{\"appid\": 1482750,\"ordate\": \"21.07.2021\"},{\"appid\": 2484430,\"ordate\": \"12.07.2023\"},{\"appid\": 788020,\"ordate\": \"16.06.2018\"},{\"appid\": 573370,\"ordate\": \"03.02.2017\"},{\"appid\": 2279430,\"ordate\": \"14.02.2023\"},{\"appid\": 1266840,\"ordate\": \"01.05.2020\"},{\"appid\": 1734280,\"ordate\": \"13.01.2022\"},{\"appid\": 1313970,\"ordate\": \"03.06.2020\"},{\"appid\": 839040,\"ordate\": \"21.07.2018\"},{\"appid\": 496540,\"ordate\": \"08.01.2017\"},{\"appid\": 1943740,\"ordate\": \"13.05.2022\"},{\"appid\": 338820,\"ordate\": \"11.05.2022\"},{\"appid\": 1275210,\"ordate\": \"22.04.2020\"},{\"appid\": 699330,\"ordate\": \"19.04.2022\"},{\"appid\": 1056330,\"ordate\": \"29.08.2019\"},{\"appid\": 1217060,\"ordate\": \"05.05.2020\"},{\"appid\": 274190,\"ordate\": \"03.04.2014\"},{\"appid\": 1924460,\"ordate\": \"15.11.2022\"},{\"appid\": 2250780,\"ordate\": \"04.05.2023\"},{\"appid\": 1000880,\"ordate\": \"01.03.2019\"},{\"appid\": 1239300,\"ordate\": \"20.10.2021\"},{\"appid\": 1665170,\"ordate\": \"03.08.2022\"},{\"appid\": 877010,\"ordate\": \"21.09.2021\"},{\"appid\": 495600,\"ordate\": \"29.09.2018\"},{\"appid\": 1492070,\"ordate\": \"06.10.2022\"},{\"appid\": 1315980,\"ordate\": \"30.10.2020\"},{\"appid\": 269990,\"ordate\": \"18.04.2014\"},{\"appid\": 458520,\"ordate\": \"21.09.2016\"},{\"appid\": 350600,\"ordate\": \"04.06.2015\"},{\"appid\": 1446950,\"ordate\": \"27.01.2023\"},{\"appid\": 725100,\"ordate\": \"22.07.2020\"},{\"appid\": 1101420,\"ordate\": \"10.07.2019\"},{\"appid\": 314240,\"ordate\": \"04.08.2014\"},{\"appid\": 2109060,\"ordate\": \"29.05.2023\"},{\"appid\": 1768880,\"ordate\": \"28.01.2022\"},{\"appid\": 1177380,\"ordate\": \"22.03.2021\"},{\"appid\": 985650,\"ordate\": \"24.01.2020\"},{\"appid\": 523740,\"ordate\": \"24.03.2017\"},{\"appid\": 1840330,\"ordate\": \"07.02.2022\"},{\"appid\": 682530,\"ordate\": \"26.09.2017\"},{\"appid\": 418650,\"ordate\": \"05.04.2016\"},{\"appid\": 722660,\"ordate\": \"13.04.2018\"},{\"appid\": 1507110,\"ordate\": \"17.07.2021\"},{\"appid\": 1301410,\"ordate\": \"09.06.2020\"},{\"appid\": 2182500,\"ordate\": \"16.01.2023\"},{\"appid\": 644930,\"ordate\": \"12.12.2017\"},{\"appid\": 383980,\"ordate\": \"22.09.2015\"},{\"appid\": 338170,\"ordate\": \"21.01.2015\"},{\"appid\": 509570,\"ordate\": \"12.08.2016\"},{\"appid\": 1616520,\"ordate\": \"28.05.2021\"},{\"appid\": 1140460,\"ordate\": \"02.07.2020\"},{\"appid\": 496790,\"ordate\": \"22.11.2016\"},{\"appid\": 476700,\"ordate\": \"23.08.2016\"},{\"appid\": 2314650,\"ordate\": \"19.05.2023\"},{\"appid\": 1329880,\"ordate\": \"16.02.2023\"},{\"appid\": 1916310,\"ordate\": \"19.07.2022\"},{\"appid\": 539400,\"ordate\": \"10.11.2016\"},{\"appid\": 986070,\"ordate\": \"02.06.2020\"},{\"appid\": 1554970,\"ordate\": \"01.09.2021\"},{\"appid\": 1772530,\"ordate\": \"17.03.2023\"},{\"appid\": 1440010,\"ordate\": \"11.02.2022\"},{\"appid\": 594650,\"ordate\": \"22.02.2018\"},{\"appid\": 1443170,\"ordate\": \"25.11.2020\"},{\"appid\": 618850,\"ordate\": \"31.07.2019\"},{\"appid\": 575850,\"ordate\": \"30.06.2017\"},{\"appid\": 1234240,\"ordate\": \"15.10.2020\"},{\"appid\": 434030,\"ordate\": \"19.05.2016\"},{\"appid\": 1099790,\"ordate\": \"24.02.2023\"},{\"appid\": 1681510,\"ordate\": \"19.07.2021\"},{\"appid\": 826180,\"ordate\": \"24.05.2018\"},{\"appid\": 380860,\"ordate\": \"18.07.2015\"},{\"appid\": 2006140,\"ordate\": \"04.10.2022\"},{\"appid\": 1261300,\"ordate\": \"10.07.2020\"},{\"appid\": 1727020,\"ordate\": \"21.01.2022\"},{\"appid\": 2150950,\"ordate\": \"25.10.2022\"},{\"appid\": 1101580,\"ordate\": \"22.12.2020\"},{\"appid\": 338640,\"ordate\": \"08.03.2017\"},{\"appid\": 504610,\"ordate\": \"12.06.2017\"},{\"appid\": 314010,\"ordate\": \"08.01.2015\"},{\"appid\": 1874880,\"ordate\": \"17.05.2022\"},{\"appid\": 1913980,\"ordate\": \"12.03.2022\"},{\"appid\": 1990850,\"ordate\": \"04.06.2022\"},{\"appid\": 735060,\"ordate\": \"07.02.2018\"},{\"appid\": 1063930,\"ordate\": \"16.07.2019\"},{\"appid\": 1575750,\"ordate\": \"29.09.2022\"},{\"appid\": 1051840,\"ordate\": \"18.04.2019\"},{\"appid\": 249950,\"ordate\": \"22.11.2013\"},{\"appid\": 676830,\"ordate\": \"25.10.2017\"},{\"appid\": 1208590,\"ordate\": \"18.08.2021\"},{\"appid\": 1119110,\"ordate\": \"05.08.2019\"},{\"appid\": 1910860,\"ordate\": \"22.06.2023\"},{\"appid\": 693750,\"ordate\": \"29.09.2017\"},{\"appid\": 1116880,\"ordate\": \"14.10.2020\"},{\"appid\": 1400910,\"ordate\": \"11.10.2021\"},{\"appid\": 489380,\"ordate\": \"20.12.2016\"},{\"appid\": 2132530,\"ordate\": \"17.02.2023\"},{\"appid\": 1963360,\"ordate\": \"16.10.2022\"},{\"appid\": 884660,\"ordate\": \"16.06.2018\"},{\"appid\": 2002220,\"ordate\": \"03.05.2023\"},{\"appid\": 1552220,\"ordate\": \"28.09.2022\"},{\"appid\": 1379870,\"ordate\": \"24.02.2021\"},{\"appid\": 1979570,\"ordate\": \"30.03.2023\"},{\"appid\": 1604710,\"ordate\": \"25.08.2021\"},{\"appid\": 585710,\"ordate\": \"15.11.2017\"},{\"appid\": 1455070,\"ordate\": \"19.05.2022\"},{\"appid\": 2074490,\"ordate\": \"18.07.2022\"},{\"appid\": 585190,\"ordate\": \"10.04.2017\"},{\"appid\": 524250,\"ordate\": \"23.02.2017\"},{\"appid\": 679490,\"ordate\": \"02.01.2019\"},{\"appid\": 1187870,\"ordate\": \"24.11.2021\"},{\"appid\": 252470,\"ordate\": \"17.05.2016\"},{\"appid\": 1315660,\"ordate\": \"14.09.2020\"},{\"appid\": 872680,\"ordate\": \"15.06.2018\"},{\"appid\": 1058800,\"ordate\": \"13.05.2020\"},{\"appid\": 340030,\"ordate\": \"02.01.2015\"},{\"appid\": 2071280,\"ordate\": \"06.04.2023\"},{\"appid\": 1167630,\"ordate\": \"29.10.2020\"},{\"appid\": 1314000,\"ordate\": \"12.05.2022\"},{\"appid\": 601540,\"ordate\": \"28.04.2017\"},{\"appid\": 1171120,\"ordate\": \"24.04.2020\"},{\"appid\": 762980,\"ordate\": \"29.05.2018\"},{\"appid\": 913710,\"ordate\": \"23.08.2018\"},{\"appid\": 296300,\"ordate\": \"08.10.2015\"},{\"appid\": 1158980,\"ordate\": \"14.05.2020\"},{\"appid\": 1843050,\"ordate\": \"15.12.2022\"},{\"appid\": 294000,\"ordate\": \"29.05.2014\"},{\"appid\": 923370,\"ordate\": \"08.09.2018\"},{\"appid\": 808160,\"ordate\": \"14.08.2018\"},{\"appid\": 1462830,\"ordate\": \"08.10.2021\"},{\"appid\": 1707310,\"ordate\": \"26.08.2021\"},{\"appid\": 1184090,\"ordate\": \"16.11.2019\"},{\"appid\": 422030,\"ordate\": \"04.12.2015\"},{\"appid\": 262630,\"ordate\": \"09.02.2015\"},{\"appid\": 436560,\"ordate\": \"31.05.2016\"},{\"appid\": 1491780,\"ordate\": \"27.04.2021\"},{\"appid\": 652770,\"ordate\": \"27.09.2022\"},{\"appid\": 552630,\"ordate\": \"15.11.2016\"},{\"appid\": 1090100,\"ordate\": \"07.02.2023\"},{\"appid\": 562860,\"ordate\": \"28.02.2018\"},{\"appid\": 1584320,\"ordate\": \"24.06.2021\"},{\"appid\": 1367960,\"ordate\": \"29.07.2020\"},{\"appid\": 1083350,\"ordate\": \"08.05.2020\"},{\"appid\": 2248760,\"ordate\": \"18.05.2023\"},{\"appid\": 1889640,\"ordate\": \"31.03.2022\"},{\"appid\": 1851790,\"ordate\": \"08.01.2022\"},{\"appid\": 359840,\"ordate\": \"09.09.2015\"},{\"appid\": 1070860,\"ordate\": \"11.03.2020\"},{\"appid\": 428080,\"ordate\": \"31.01.2017\"},{\"appid\": 599180,\"ordate\": \"16.03.2017\"},{\"appid\": 1100300,\"ordate\": \"10.04.2020\"},{\"appid\": 879000,\"ordate\": \"13.03.2020\"},{\"appid\": 407530,\"ordate\": \"16.03.2016\"},{\"appid\": 726360,\"ordate\": \"08.12.2018\"},{\"appid\": 1116600,\"ordate\": \"25.07.2019\"},{\"appid\": 361040,\"ordate\": \"04.06.2015\"},{\"appid\": 1759130,\"ordate\": \"29.03.2022\"},{\"appid\": 1012530,\"ordate\": \"23.02.2019\"},{\"appid\": 1334730,\"ordate\": \"14.08.2021\"},{\"appid\": 1918880,\"ordate\": \"30.04.2022\"},{\"appid\": 1380850,\"ordate\": \"12.08.2020\"},{\"appid\": 1489970,\"ordate\": \"24.03.2022\"},{\"appid\": 230310,\"ordate\": \"16.06.2013\"},{\"appid\": 764050,\"ordate\": \"11.04.2018\"},{\"appid\": 2424230,\"ordate\": \"31.05.2023\"},{\"appid\": 1016600,\"ordate\": \"12.11.2019\"},{\"appid\": 2350020,\"ordate\": \"20.04.2023\"},{\"appid\": 837400,\"ordate\": \"28.05.2018\"},{\"appid\": 1084600,\"ordate\": \"26.05.2022\"},{\"appid\": 1750740,\"ordate\": \"01.04.2022\"},{\"appid\": 1728840,\"ordate\": \"27.09.2022\"},{\"appid\": 748370,\"ordate\": \"09.12.2017\"},{\"appid\": 1489140,\"ordate\": \"18.04.2023\"},{\"appid\": 944920,\"ordate\": \"23.10.2019\"},{\"appid\": 2079710,\"ordate\": \"11.08.2022\"},{\"appid\": 1464010,\"ordate\": \"28.10.2021\"},{\"appid\": 577470,\"ordate\": \"28.04.2018\"},{\"appid\": 1407000,\"ordate\": \"12.05.2022\"},{\"appid\": 799500,\"ordate\": \"19.02.2018\"},{\"appid\": 2053050,\"ordate\": \"28.06.2022\"},{\"appid\": 1344530,\"ordate\": \"15.07.2020\"},{\"appid\": 1066180,\"ordate\": \"08.06.2020\"},{\"appid\": 986130,\"ordate\": \"24.04.2023\"},{\"appid\": 611190,\"ordate\": \"07.09.2021\"},{\"appid\": 596970,\"ordate\": \"30.08.2017\"},{\"appid\": 383230,\"ordate\": \"02.07.2015\"},{\"appid\": 2091720,\"ordate\": \"11.11.2022\"},{\"appid\": 777430,\"ordate\": \"15.03.2018\"},{\"appid\": 310370,\"ordate\": \"30.12.2014\"},{\"appid\": 594130,\"ordate\": \"21.03.2018\"},{\"appid\": 537340,\"ordate\": \"16.02.2017\"},{\"appid\": 2390520,\"ordate\": \"22.05.2023\"},{\"appid\": 1104330,\"ordate\": \"19.07.2019\"},{\"appid\": 1125390,\"ordate\": \"10.08.2021\"},{\"appid\": 931320,\"ordate\": \"09.04.2020\"},{\"appid\": 666820,\"ordate\": \"20.10.2017\"},{\"appid\": 2268160,\"ordate\": \"01.02.2023\"},{\"appid\": 1244910,\"ordate\": \"22.07.2023\"},{\"appid\": 1427620,\"ordate\": \"19.11.2020\"},{\"appid\": 1059980,\"ordate\": \"21.07.2022\"},{\"appid\": 440660,\"ordate\": \"06.11.2016\"},{\"appid\": 2425360,\"ordate\": \"30.08.2023\"},{\"appid\": 1466950,\"ordate\": \"29.01.2021\"},{\"appid\": 1666520,\"ordate\": \"22.07.2021\"},{\"appid\": 2158270,\"ordate\": \"14.11.2022\"},{\"appid\": 2369320,\"ordate\": \"06.04.2023\"},{\"appid\": 1587540,\"ordate\": \"21.06.2022\"},{\"appid\": 743380,\"ordate\": \"06.04.2022\"},{\"appid\": 2102530,\"ordate\": \"09.09.2022\"},{\"appid\": 1268750,\"ordate\": \"17.05.2023\"},{\"appid\": 656240,\"ordate\": \"31.01.2019\"},{\"appid\": 1510280,\"ordate\": \"19.01.2021\"},{\"appid\": 290180,\"ordate\": \"12.11.2019\"},{\"appid\": 590840,\"ordate\": \"26.01.2019\"},{\"appid\": 587520,\"ordate\": \"18.07.2022\"},{\"appid\": 1947530,\"ordate\": \"03.05.2022\"},{\"appid\": 2011650,\"ordate\": \"09.06.2022\"},{\"appid\": 875480,\"ordate\": \"27.09.2018\"},{\"appid\": 1228910,\"ordate\": \"10.03.2020\"},{\"appid\": 541930,\"ordate\": \"16.05.2019\"},{\"appid\": 588560,\"ordate\": \"20.04.2017\"},{\"appid\": 997010,\"ordate\": \"17.06.2021\"},{\"appid\": 1691000,\"ordate\": \"12.01.2022\"},{\"appid\": 2181720,\"ordate\": \"01.11.2022\"},{\"appid\": 1491340,\"ordate\": \"07.05.2021\"},{\"appid\": 731250,\"ordate\": \"29.07.2019\"},{\"appid\": 539320,\"ordate\": \"07.11.2020\"},{\"appid\": 226100,\"ordate\": \"13.03.2014\"},{\"appid\": 1126310,\"ordate\": \"23.05.2020\"},{\"appid\": 1671480,\"ordate\": \"14.04.2022\"},{\"appid\": 488760,\"ordate\": \"20.06.2016\"},{\"appid\": 1661500,\"ordate\": \"18.11.2021\"},{\"appid\": 1591630,\"ordate\": \"03.05.2021\"},{\"appid\": 1731880,\"ordate\": \"13.09.2021\"},{\"appid\": 1289750,\"ordate\": \"24.08.2020\"},{\"appid\": 2229050,\"ordate\": \"17.12.2022\"},{\"appid\": 1419070,\"ordate\": \"21.12.2020\"},{\"appid\": 1227690,\"ordate\": \"28.04.2020\"},{\"appid\": 1290780,\"ordate\": \"20.04.2020\"},{\"appid\": 1064010,\"ordate\": \"13.05.2019\"},{\"appid\": 1012850,\"ordate\": \"25.08.2020\"},{\"appid\": 2135030,\"ordate\": \"18.09.2022\"},{\"appid\": 1608470,\"ordate\": \"19.04.2022\"},{\"appid\": 1562700,\"ordate\": \"21.06.2022\"},{\"appid\": 668840,\"ordate\": \"01.08.2017\"},{\"appid\": 1712120,\"ordate\": \"12.01.2022\"},{\"appid\": 1605220,\"ordate\": \"26.04.2022\"},{\"appid\": 1305310,\"ordate\": \"01.06.2020\"},{\"appid\": 718650,\"ordate\": \"29.11.2017\"},{\"appid\": 355010,\"ordate\": \"17.11.2015\"},{\"appid\": 1352470,\"ordate\": \"18.09.2020\"},{\"appid\": 1183480,\"ordate\": \"11.12.2019\"},{\"appid\": 891850,\"ordate\": \"22.11.2018\"},{\"appid\": 802480,\"ordate\": \"28.05.2018\"},{\"appid\": 1144910,\"ordate\": \"22.10.2019\"},{\"appid\": 1024460,\"ordate\": \"02.04.2020\"},{\"appid\": 1592360,\"ordate\": \"02.09.2022\"},{\"appid\": 1694560,\"ordate\": \"15.09.2021\"},{\"appid\": 339590,\"ordate\": \"16.01.2016\"},{\"appid\": 669330,\"ordate\": \"11.05.2023\"},{\"appid\": 1885690,\"ordate\": \"20.05.2022\"},{\"appid\": 464360,\"ordate\": \"28.04.2016\"},{\"appid\": 2409780,\"ordate\": \"06.06.2023\"},{\"appid\": 1096140,\"ordate\": \"12.10.2022\"},{\"appid\": 930110,\"ordate\": \"28.09.2018\"},{\"appid\": 2211260,\"ordate\": \"14.06.2023\"},{\"appid\": 706020,\"ordate\": \"14.12.2017\"},{\"appid\": 2548830,\"ordate\": \"04.09.2023\"},{\"appid\": 1572320,\"ordate\": \"13.08.2021\"},{\"appid\": 1735670,\"ordate\": \"03.04.2022\"},{\"appid\": 632360,\"ordate\": \"28.03.2019\"},{\"appid\": 2306080,\"ordate\": \"10.03.2023\"},{\"appid\": 772230,\"ordate\": \"22.06.2018\"},{\"appid\": 945140,\"ordate\": \"17.01.2019\"},{\"appid\": 1658880,\"ordate\": \"05.08.2021\"},{\"appid\": 1902880,\"ordate\": \"27.03.2022\"},{\"appid\": 1834290,\"ordate\": \"15.12.2021\"},{\"appid\": 1146420,\"ordate\": \"09.03.2023\"},{\"appid\": 1118410,\"ordate\": \"12.02.2020\"},{\"appid\": 2068280,\"ordate\": \"15.12.2022\"},{\"appid\": 946210,\"ordate\": \"09.10.2018\"},{\"appid\": 264140,\"ordate\": \"12.12.2013\"},{\"appid\": 1450790,\"ordate\": \"01.03.2021\"},{\"appid\": 1527950,\"ordate\": \"01.12.2021\"},{\"appid\": 517220,\"ordate\": \"29.09.2016\"},{\"appid\": 1062960,\"ordate\": \"18.05.2019\"},{\"appid\": 617680,\"ordate\": \"08.04.2017\"},{\"appid\": 1709900,\"ordate\": \"28.09.2021\"},{\"appid\": 2317540,\"ordate\": \"06.03.2023\"},{\"appid\": 724300,\"ordate\": \"08.06.2018\"},{\"appid\": 1003450,\"ordate\": \"21.03.2019\"},{\"appid\": 1649630,\"ordate\": \"10.01.2022\"},{\"appid\": 1822640,\"ordate\": \"28.01.2022\"},{\"appid\": 1220140,\"ordate\": \"18.03.2021\"},{\"appid\": 1985420,\"ordate\": \"09.12.2022\"},{\"appid\": 746930,\"ordate\": \"15.12.2017\"},{\"appid\": 1385380,\"ordate\": \"08.04.2021\"},{\"appid\": 252390,\"ordate\": \"26.09.2017\"},{\"appid\": 787050,\"ordate\": \"08.04.2018\"},{\"appid\": 982250,\"ordate\": \"24.04.2020\"},{\"appid\": 322330,\"ordate\": \"15.12.2014\"},{\"appid\": 445950,\"ordate\": \"03.11.2016\"},{\"appid\": 2138580,\"ordate\": \"01.10.2022\"},{\"appid\": 1415220,\"ordate\": \"16.06.2023\"},{\"appid\": 1985960,\"ordate\": \"24.03.2023\"},{\"appid\": 1345320,\"ordate\": \"08.10.2021\"},{\"appid\": 1442840,\"ordate\": \"01.11.2021\"},{\"appid\": 887970,\"ordate\": \"06.10.2018\"},{\"appid\": 2327600,\"ordate\": \"04.04.2023\"},{\"appid\": 746560,\"ordate\": \"23.04.2019\"},{\"appid\": 720090,\"ordate\": \"30.03.2021\"},{\"appid\": 2538580,\"ordate\": \"29.09.2023\"},{\"appid\": 1599000,\"ordate\": \"26.10.2021\"},{\"appid\": 775940,\"ordate\": \"24.01.2018\"},{\"appid\": 1363210,\"ordate\": \"23.06.2021\"},{\"appid\": 1399170,\"ordate\": \"16.02.2022\"},{\"appid\": 2421880,\"ordate\": \"29.06.2023\"},{\"appid\": 364300,\"ordate\": \"14.05.2015\"},{\"appid\": 1409760,\"ordate\": \"20.07.2022\"},{\"appid\": 1575520,\"ordate\": \"03.12.2021\"},{\"appid\": 845890,\"ordate\": \"29.09.2022\"},{\"appid\": 1714270,\"ordate\": \"06.10.2021\"},{\"appid\": 1139940,\"ordate\": \"11.05.2020\"},{\"appid\": 1062830,\"ordate\": \"21.05.2020\"},{\"appid\": 1383370,\"ordate\": \"15.05.2023\"},{\"appid\": 924070,\"ordate\": \"07.05.2020\"},{\"appid\": 466860,\"ordate\": \"07.03.2017\"},{\"appid\": 2539840,\"ordate\": \"21.08.2023\"},{\"appid\": 491070,\"ordate\": \"29.07.2016\"},{\"appid\": 2319390,\"ordate\": \"02.06.2023\"},{\"appid\": 760050,\"ordate\": \"08.02.2018\"},{\"appid\": 1741040,\"ordate\": \"11.11.2021\"},{\"appid\": 2190180,\"ordate\": \"23.12.2022\"},{\"appid\": 2218750,\"ordate\": \"24.05.2023\"},{\"appid\": 477910,\"ordate\": \"27.05.2016\"},{\"appid\": 511370,\"ordate\": \"18.08.2016\"},{\"appid\": 263720,\"ordate\": \"20.04.2017\"},{\"appid\": 265750,\"ordate\": \"13.06.2014\"},{\"appid\": 871940,\"ordate\": \"25.02.2021\"},{\"appid\": 726110,\"ordate\": \"06.06.2019\"},{\"appid\": 1430180,\"ordate\": \"15.03.2021\"},{\"appid\": 934580,\"ordate\": \"31.01.2019\"},{\"appid\": 1140030,\"ordate\": \"29.11.2019\"},{\"appid\": 1220510,\"ordate\": \"24.01.2020\"},{\"appid\": 2491620,\"ordate\": \"16.10.2023\"},{\"appid\": 788100,\"ordate\": \"16.03.2019\"},{\"appid\": 1714100,\"ordate\": \"02.09.2021\"},{\"appid\": 589110,\"ordate\": \"13.03.2017\"},{\"appid\": 2075820,\"ordate\": \"21.07.2022\"},{\"appid\": 1900230,\"ordate\": \"01.04.2022\"},{\"appid\": 1810310,\"ordate\": \"22.11.2021\"},{\"appid\": 453690,\"ordate\": \"07.11.2016\"},{\"appid\": 420910,\"ordate\": \"03.12.2015\"},{\"appid\": 1860490,\"ordate\": \"05.10.2023\"},{\"appid\": 2146490,\"ordate\": \"08.08.2023\"},{\"appid\": 1140130,\"ordate\": \"24.10.2019\"},{\"appid\": 1948430,\"ordate\": \"01.07.2022\"},{\"appid\": 640800,\"ordate\": \"10.11.2017\"},{\"appid\": 1416220,\"ordate\": \"29.10.2020\"},{\"appid\": 946700,\"ordate\": \"22.10.2018\"},{\"appid\": 877610,\"ordate\": \"20.05.2020\"},{\"appid\": 1196030,\"ordate\": \"10.11.2020\"},{\"appid\": 1153100,\"ordate\": \"20.11.2019\"},{\"appid\": 899090,\"ordate\": \"05.08.2018\"},{\"appid\": 2289920,\"ordate\": \"01.03.2023\"},{\"appid\": 1184820,\"ordate\": \"20.07.2021\"},{\"appid\": 889150,\"ordate\": \"25.01.2019\"},{\"appid\": 1444950,\"ordate\": \"25.10.2020\"},{\"appid\": 1350840,\"ordate\": \"07.04.2023\"},{\"appid\": 824000,\"ordate\": \"02.06.2021\"},{\"appid\": 574080,\"ordate\": \"22.02.2017\"},{\"appid\": 1036700,\"ordate\": \"19.06.2020\"},{\"appid\": 1303870,\"ordate\": \"30.07.2020\"},{\"appid\": 1618050,\"ordate\": \"21.05.2021\"},{\"appid\": 792390,\"ordate\": \"21.01.2019\"},{\"appid\": 317530,\"ordate\": \"27.11.2014\"},{\"appid\": 512000,\"ordate\": \"12.11.2016\"},{\"appid\": 402220,\"ordate\": \"29.09.2015\"},{\"appid\": 615020,\"ordate\": \"30.06.2017\"},{\"appid\": 1257280,\"ordate\": \"14.11.2022\"},{\"appid\": 644370,\"ordate\": \"09.06.2017\"},{\"appid\": 568220,\"ordate\": \"16.12.2016\"},{\"appid\": 2054060,\"ordate\": \"30.08.2022\"},{\"appid\": 2254830,\"ordate\": \"31.01.2023\"},{\"appid\": 2467840,\"ordate\": \"25.07.2023\"},{\"appid\": 942020,\"ordate\": \"10.10.2018\"},{\"appid\": 1292020,\"ordate\": \"14.05.2020\"},{\"appid\": 1457320,\"ordate\": \"18.07.2023\"},{\"appid\": 976700,\"ordate\": \"21.11.2019\"},{\"appid\": 276730,\"ordate\": \"04.06.2014\"},{\"appid\": 1203960,\"ordate\": \"05.07.2020\"},{\"appid\": 727850,\"ordate\": \"11.10.2018\"},{\"appid\": 489940,\"ordate\": \"01.02.2018\"},{\"appid\": 638000,\"ordate\": \"04.10.2017\"},{\"appid\": 441790,\"ordate\": \"26.04.2016\"},{\"appid\": 1328350,\"ordate\": \"22.04.2022\"},{\"appid\": 2357950,\"ordate\": \"29.08.2023\"},{\"appid\": 504560,\"ordate\": \"12.10.2016\"},{\"appid\": 1449070,\"ordate\": \"10.03.2022\"},{\"appid\": 586170,\"ordate\": \"25.02.2017\"},{\"appid\": 1358090,\"ordate\": \"15.07.2020\"},{\"appid\": 1347760,\"ordate\": \"28.10.2022\"},{\"appid\": 1145570,\"ordate\": \"05.09.2019\"},{\"appid\": 1092140,\"ordate\": \"29.12.2019\"},{\"appid\": 330770,\"ordate\": \"11.12.2014\"},{\"appid\": 2283490,\"ordate\": \"04.02.2023\"},{\"appid\": 866450,\"ordate\": \"07.08.2018\"},{\"appid\": 2276230,\"ordate\": \"22.03.2023\"},{\"appid\": 358130,\"ordate\": \"19.05.2015\"},{\"appid\": 797410,\"ordate\": \"24.07.2018\"},{\"appid\": 293460,\"ordate\": \"10.05.2014\"},{\"appid\": 2322320,\"ordate\": \"01.05.2023\"},{\"appid\": 1403400,\"ordate\": \"14.12.2022\"},{\"appid\": 1883840,\"ordate\": \"12.01.2023\"},{\"appid\": 279900,\"ordate\": \"17.11.2014\"},{\"appid\": 1300700,\"ordate\": \"10.07.2020\"},{\"appid\": 976930,\"ordate\": \"29.10.2020\"},{\"appid\": 2116970,\"ordate\": \"31.01.2023\"},{\"appid\": 690510,\"ordate\": \"06.12.2017\"},{\"appid\": 1832370,\"ordate\": \"10.12.2021\"},{\"appid\": 1828940,\"ordate\": \"09.12.2021\"},{\"appid\": 1145380,\"ordate\": \"17.01.2020\"},{\"appid\": 1193430,\"ordate\": \"27.02.2020\"},{\"appid\": 806230,\"ordate\": \"07.03.2018\"},{\"appid\": 2290000,\"ordate\": \"05.04.2023\"},{\"appid\": 2298950,\"ordate\": \"26.08.2023\"},{\"appid\": 820610,\"ordate\": \"27.04.2018\"},{\"appid\": 809140,\"ordate\": \"26.04.2018\"},{\"appid\": 1081670,\"ordate\": \"18.10.2019\"},{\"appid\": 1601740,\"ordate\": \"15.02.2023\"},{\"appid\": 814370,\"ordate\": \"28.08.2019\"},{\"appid\": 288140,\"ordate\": \"22.01.2015\"},{\"appid\": 2493950,\"ordate\": \"18.09.2023\"},{\"appid\": 455770,\"ordate\": \"01.04.2016\"},{\"appid\": 1314770,\"ordate\": \"07.01.2022\"},{\"appid\": 1183580,\"ordate\": \"04.02.2020\"},{\"appid\": 673130,\"ordate\": \"12.03.2018\"},{\"appid\": 1717020,\"ordate\": \"04.04.2022\"},{\"appid\": 756560,\"ordate\": \"13.01.2018\"},{\"appid\": 1620540,\"ordate\": \"07.07.2021\"},{\"appid\": 1151250,\"ordate\": \"21.07.2020\"},{\"appid\": 602240,\"ordate\": \"13.05.2021\"},{\"appid\": 1049840,\"ordate\": \"27.03.2019\"},{\"appid\": 1410710,\"ordate\": \"07.10.2020\"},{\"appid\": 1658040,\"ordate\": \"08.08.2023\"},{\"appid\": 957390,\"ordate\": \"16.11.2018\"},{\"appid\": 440900,\"ordate\": \"31.01.2017\"},{\"appid\": 346460,\"ordate\": \"21.10.2015\"},{\"appid\": 407710,\"ordate\": \"09.10.2015\"},{\"appid\": 1080010,\"ordate\": \"21.07.2020\"},{\"appid\": 1590160,\"ordate\": \"15.02.2022\"},{\"appid\": 882620,\"ordate\": \"09.11.2018\"},{\"appid\": 2206270,\"ordate\": \"26.07.2023\"},{\"appid\": 585020,\"ordate\": \"05.03.2021\"},{\"appid\": 586920,\"ordate\": \"27.05.2017\"},{\"appid\": 2144460,\"ordate\": \"11.10.2022\"},{\"appid\": 215550,\"ordate\": \"28.07.2015\"},{\"appid\": 2497940,\"ordate\": \"31.10.2023\"},{\"appid\": 2502350,\"ordate\": \"11.08.2023\"},{\"appid\": 1252210,\"ordate\": \"04.07.2020\"},{\"appid\": 2398660,\"ordate\": \"16.07.2023\"},{\"appid\": 938040,\"ordate\": \"27.11.2018\"},{\"appid\": 737880,\"ordate\": \"07.12.2017\"},{\"appid\": 1346960,\"ordate\": \"30.08.2020\"},{\"appid\": 690370,\"ordate\": \"12.05.2022\"},{\"appid\": 796290,\"ordate\": \"11.10.2018\"},{\"appid\": 879050,\"ordate\": \"27.03.2023\"},{\"appid\": 287980,\"ordate\": \"05.08.2014\"},{\"appid\": 559340,\"ordate\": \"28.11.2016\"},{\"appid\": 1613580,\"ordate\": \"11.10.2022\"},{\"appid\": 1374230,\"ordate\": \"17.03.2023\"},{\"appid\": 1850020,\"ordate\": \"02.02.2022\"},{\"appid\": 2186980,\"ordate\": \"14.02.2023\"},{\"appid\": 1175800,\"ordate\": \"08.06.2021\"},{\"appid\": 2116920,\"ordate\": \"30.09.2022\"},{\"appid\": 2108840,\"ordate\": \"30.08.2022\"},{\"appid\": 1378890,\"ordate\": \"14.07.2021\"},{\"appid\": 2328380,\"ordate\": \"12.09.2023\"},{\"appid\": 1405260,\"ordate\": \"05.11.2020\"},{\"appid\": 450630,\"ordate\": \"01.06.2017\"},{\"appid\": 509770,\"ordate\": \"13.10.2016\"},{\"appid\": 1970580,\"ordate\": \"15.08.2022\"},{\"appid\": 492410,\"ordate\": \"10.02.2017\"},{\"appid\": 801550,\"ordate\": \"16.11.2022\"},{\"appid\": 1380410,\"ordate\": \"28.02.2022\"},{\"appid\": 2239140,\"ordate\": \"09.11.2023\"},{\"appid\": 1293180,\"ordate\": \"14.07.2021\"},{\"appid\": 1965680,\"ordate\": \"01.06.2022\"},{\"appid\": 1469490,\"ordate\": \"27.11.2020\"},{\"appid\": 1157390,\"ordate\": \"26.01.2021\"},{\"appid\": 1702010,\"ordate\": \"10.08.2023\"},{\"appid\": 1186660,\"ordate\": \"04.05.2023\"},{\"appid\": 841140,\"ordate\": \"02.05.2018\"},{\"appid\": 1815230,\"ordate\": \"16.06.2022\"},{\"appid\": 1401590,\"ordate\": \"06.09.2022\"},{\"appid\": 1958950,\"ordate\": \"02.12.2022\"},{\"appid\": 416360,\"ordate\": \"11.11.2015\"},{\"appid\": 633460,\"ordate\": \"16.11.2017\"},{\"appid\": 2419020,\"ordate\": \"17.08.2023\"},{\"appid\": 1439070,\"ordate\": \"30.07.2021\"},{\"appid\": 588650,\"ordate\": \"10.05.2017\"},{\"appid\": 978180,\"ordate\": \"20.06.2019\"},{\"appid\": 1135230,\"ordate\": \"20.04.2022\"},{\"appid\": 401810,\"ordate\": \"06.11.2015\"},{\"appid\": 910880,\"ordate\": \"18.10.2018\"},{\"appid\": 1926690,\"ordate\": \"22.03.2022\"},{\"appid\": 1346460,\"ordate\": \"20.08.2021\"},{\"appid\": 681280,\"ordate\": \"09.02.2018\"},{\"appid\": 560080,\"ordate\": \"02.04.2017\"},{\"appid\": 2008980,\"ordate\": \"18.08.2023\"},{\"appid\": 1333270,\"ordate\": \"16.06.2020\"},{\"appid\": 1256670,\"ordate\": \"15.05.2020\"},{\"appid\": 1336040,\"ordate\": \"16.06.2020\"},{\"appid\": 1088150,\"ordate\": \"26.07.2019\"},{\"appid\": 1664060,\"ordate\": \"29.07.2021\"},{\"appid\": 1622050,\"ordate\": \"27.07.2021\"},{\"appid\": 684510,\"ordate\": \"25.09.2017\"},{\"appid\": 517160,\"ordate\": \"19.09.2016\"},{\"appid\": 1046210,\"ordate\": \"30.03.2019\"},{\"appid\": 1611060,\"ordate\": \"01.06.2021\"},{\"appid\": 820640,\"ordate\": \"18.05.2018\"},{\"appid\": 900010,\"ordate\": \"17.01.2019\"},{\"appid\": 436320,\"ordate\": \"14.07.2016\"},{\"appid\": 1963040,\"ordate\": \"15.01.2023\"},{\"appid\": 1472660,\"ordate\": \"24.12.2020\"},{\"appid\": 485390,\"ordate\": \"19.07.2016\"},{\"appid\": 374040,\"ordate\": \"25.02.2016\"},{\"appid\": 1315220,\"ordate\": \"26.05.2021\"},{\"appid\": 746110,\"ordate\": \"17.01.2018\"},{\"appid\": 1210320,\"ordate\": \"21.09.2021\"},{\"appid\": 1550730,\"ordate\": \"18.08.2022\"},{\"appid\": 762560,\"ordate\": \"08.03.2019\"},{\"appid\": 671440,\"ordate\": \"09.02.2018\"},{\"appid\": 1460480,\"ordate\": \"16.12.2020\"},{\"appid\": 1453640,\"ordate\": \"31.03.2022\"},{\"appid\": 1797680,\"ordate\": \"23.02.2022\"},{\"appid\": 839350,\"ordate\": \"22.12.2018\"},{\"appid\": 387090,\"ordate\": \"17.07.2015\"},{\"appid\": 300280,\"ordate\": \"28.06.2014\"},{\"appid\": 1646070,\"ordate\": \"07.04.2023\"},{\"appid\": 1714240,\"ordate\": \"04.08.2023\"},{\"appid\": 921970,\"ordate\": \"21.09.2018\"},{\"appid\": 2058500,\"ordate\": \"29.07.2022\"},{\"appid\": 739100,\"ordate\": \"28.09.2018\"},{\"appid\": 1063420,\"ordate\": \"07.09.2023\"},{\"appid\": 1712690,\"ordate\": \"20.12.2021\"},{\"appid\": 1708270,\"ordate\": \"07.02.2023\"},{\"appid\": 1850280,\"ordate\": \"08.02.2022\"},{\"appid\": 448850,\"ordate\": \"13.03.2017\"},{\"appid\": 1199180,\"ordate\": \"04.05.2020\"},{\"appid\": 1351180,\"ordate\": \"27.10.2020\"},{\"appid\": 405710,\"ordate\": \"23.01.2018\"},{\"appid\": 508190,\"ordate\": \"23.11.2016\"},{\"appid\": 732400,\"ordate\": \"27.03.2018\"},{\"appid\": 454330,\"ordate\": \"27.03.2016\"},{\"appid\": 415590,\"ordate\": \"26.04.2017\"},{\"appid\": 2227040,\"ordate\": \"21.01.2023\"},{\"appid\": 1101120,\"ordate\": \"19.07.2023\"},{\"appid\": 1348690,\"ordate\": \"03.05.2022\"},{\"appid\": 2061750,\"ordate\": \"14.10.2022\"},{\"appid\": 397810,\"ordate\": \"03.02.2016\"},{\"appid\": 1341620,\"ordate\": \"26.06.2020\"},{\"appid\": 1745000,\"ordate\": \"22.10.2021\"},{\"appid\": 1687990,\"ordate\": \"09.11.2021\"},{\"appid\": 1450800,\"ordate\": \"20.08.2021\"},{\"appid\": 477900,\"ordate\": \"08.03.2019\"},{\"appid\": 271240,\"ordate\": \"12.02.2015\"},{\"appid\": 1622800,\"ordate\": \"15.02.2022\"},{\"appid\": 348160,\"ordate\": \"26.02.2016\"},{\"appid\": 644150,\"ordate\": \"30.06.2017\"},{\"appid\": 401970,\"ordate\": \"15.06.2017\"},{\"appid\": 993110,\"ordate\": \"05.06.2021\"},{\"appid\": 2254600,\"ordate\": \"16.01.2023\"},{\"appid\": 1907000,\"ordate\": \"11.07.2022\"},{\"appid\": 897410,\"ordate\": \"20.06.2019\"},{\"appid\": 508410,\"ordate\": \"21.03.2017\"},{\"appid\": 1586150,\"ordate\": \"04.12.2021\"},{\"appid\": 676500,\"ordate\": \"03.11.2018\"},{\"appid\": 909660,\"ordate\": \"22.07.2020\"},{\"appid\": 2361450,\"ordate\": \"22.09.2023\"},{\"appid\": 955050,\"ordate\": \"11.01.2019\"},{\"appid\": 1819240,\"ordate\": \"16.02.2022\"},{\"appid\": 1540060,\"ordate\": \"23.02.2021\"},{\"appid\": 884610,\"ordate\": \"01.08.2019\"},{\"appid\": 411120,\"ordate\": \"07.11.2015\"},{\"appid\": 1025260,\"ordate\": \"29.03.2019\"},{\"appid\": 830370,\"ordate\": \"31.07.2020\"},{\"appid\": 1679670,\"ordate\": \"21.07.2021\"},{\"appid\": 1159240,\"ordate\": \"04.11.2019\"},{\"appid\": 2084000,\"ordate\": \"27.06.2023\"},{\"appid\": 2344630,\"ordate\": \"22.05.2023\"},{\"appid\": 1690790,\"ordate\": \"07.03.2022\"},{\"appid\": 1301390,\"ordate\": \"24.06.2020\"},{\"appid\": 2239150,\"ordate\": \"02.08.2023\"},{\"appid\": 1880160,\"ordate\": \"23.09.2022\"},{\"appid\": 1899200,\"ordate\": \"22.07.2022\"},{\"appid\": 861050,\"ordate\": \"04.07.2018\"},{\"appid\": 2288210,\"ordate\": \"14.02.2023\"},{\"appid\": 319830,\"ordate\": \"26.09.2014\"},{\"appid\": 1179580,\"ordate\": \"03.05.2023\"},{\"appid\": 2304130,\"ordate\": \"17.02.2023\"},{\"appid\": 759260,\"ordate\": \"29.03.2018\"},{\"appid\": 1468720,\"ordate\": \"12.05.2022\"},{\"appid\": 298560,\"ordate\": \"27.03.2015\"},{\"appid\": 2292440,\"ordate\": \"18.07.2023\"},{\"appid\": 646570,\"ordate\": \"15.11.2017\"},{\"appid\": 1650610,\"ordate\": \"18.06.2021\"},{\"appid\": 1701760,\"ordate\": \"18.08.2021\"},{\"appid\": 1272010,\"ordate\": \"28.09.2022\"},{\"appid\": 265810,\"ordate\": \"22.04.2014\"},{\"appid\": 342310,\"ordate\": \"06.12.2017\"},{\"appid\": 1696440,\"ordate\": \"30.08.2023\"},{\"appid\": 1040460,\"ordate\": \"12.06.2020\"},{\"appid\": 1152160,\"ordate\": \"14.12.2019\"},{\"appid\": 1260810,\"ordate\": \"17.04.2020\"},{\"appid\": 1034540,\"ordate\": \"30.07.2019\"},{\"appid\": 1145590,\"ordate\": \"11.10.2019\"},{\"appid\": 2327580,\"ordate\": \"30.03.2023\"},{\"appid\": 2125190,\"ordate\": \"29.09.2022\"},{\"appid\": 1918100,\"ordate\": \"23.04.2022\"},{\"appid\": 1881610,\"ordate\": \"25.06.2023\"},{\"appid\": 2559550,\"ordate\": \"29.09.2023\"},{\"appid\": 523940,\"ordate\": \"11.09.2016\"},{\"appid\": 2187230,\"ordate\": \"30.03.2023\"},{\"appid\": 1063280,\"ordate\": \"07.06.2019\"},{\"appid\": 822660,\"ordate\": \"29.04.2020\"},{\"appid\": 1906800,\"ordate\": \"04.03.2022\"},{\"appid\": 2629660,\"ordate\": \"04.11.2023\"},{\"appid\": 644420,\"ordate\": \"24.06.2017\"},{\"appid\": 261490,\"ordate\": \"09.08.2014\"},{\"appid\": 593600,\"ordate\": \"27.03.2018\"},{\"appid\": 1512940,\"ordate\": \"25.12.2021\"},{\"appid\": 445860,\"ordate\": \"05.04.2016\"},{\"appid\": 849670,\"ordate\": \"08.06.2018\"},{\"appid\": 1197820,\"ordate\": \"13.10.2020\"},{\"appid\": 1527710,\"ordate\": \"19.02.2021\"},{\"appid\": 640210,\"ordate\": \"11.07.2017\"},{\"appid\": 1757610,\"ordate\": \"01.03.2023\"},{\"appid\": 2093910,\"ordate\": \"26.09.2022\"},{\"appid\": 762650,\"ordate\": \"20.07.2018\"},{\"appid\": 2277300,\"ordate\": \"15.03.2023\"},{\"appid\": 1421290,\"ordate\": \"03.10.2023\"},{\"appid\": 2196640,\"ordate\": \"07.08.2023\"},{\"appid\": 357670,\"ordate\": \"28.05.2015\"},{\"appid\": 2178590,\"ordate\": \"29.12.2022\"},{\"appid\": 341460,\"ordate\": \"04.02.2015\"},{\"appid\": 416210,\"ordate\": \"10.03.2016\"},{\"appid\": 2117930,\"ordate\": \"01.09.2022\"},{\"appid\": 2451820,\"ordate\": \"31.08.2023\"},{\"appid\": 1864860,\"ordate\": \"19.01.2022\"},{\"appid\": 858260,\"ordate\": \"27.08.2019\"},{\"appid\": 977720,\"ordate\": \"05.09.2019\"},{\"appid\": 1542760,\"ordate\": \"25.01.2022\"},{\"appid\": 2027040,\"ordate\": \"20.10.2022\"},{\"appid\": 469820,\"ordate\": \"17.11.2016\"},{\"appid\": 773540,\"ordate\": \"15.03.2018\"},{\"appid\": 2263980,\"ordate\": \"27.09.2023\"},{\"appid\": 1343670,\"ordate\": \"16.12.2020\"},{\"appid\": 1270580,\"ordate\": \"14.12.2023\"},{\"appid\": 656740,\"ordate\": \"22.11.2017\"},{\"appid\": 1907900,\"ordate\": \"12.03.2022\"},{\"appid\": 399820,\"ordate\": \"18.09.2015\"},{\"appid\": 719180,\"ordate\": \"21.12.2017\"},{\"appid\": 392580,\"ordate\": \"15.08.2015\"},{\"appid\": 2422540,\"ordate\": \"09.06.2023\"},{\"appid\": 1016730,\"ordate\": \"11.04.2019\"},{\"appid\": 1864850,\"ordate\": \"20.01.2022\"},{\"appid\": 416530,\"ordate\": \"15.01.2016\"},{\"appid\": 1893370,\"ordate\": \"12.04.2023\"},{\"appid\": 1860610,\"ordate\": \"08.07.2022\"},{\"appid\": 282860,\"ordate\": \"17.04.2014\"},{\"appid\": 2105460,\"ordate\": \"29.08.2022\"},{\"appid\": 290080,\"ordate\": \"19.09.2014\"},{\"appid\": 988490,\"ordate\": \"30.01.2020\"},{\"appid\": 2181640,\"ordate\": \"27.10.2022\"},{\"appid\": 2097480,\"ordate\": \"13.02.2023\"},{\"appid\": 1863750,\"ordate\": \"07.02.2022\"},{\"appid\": 908100,\"ordate\": \"30.12.2019\"},{\"appid\": 1295910,\"ordate\": \"05.06.2020\"},{\"appid\": 811070,\"ordate\": \"22.12.2019\"},{\"appid\": 861080,\"ordate\": \"23.06.2018\"},{\"appid\": 1291340,\"ordate\": \"30.06.2020\"},{\"appid\": 286160,\"ordate\": \"10.04.2014\"},{\"appid\": 1908500,\"ordate\": \"02.05.2022\"},{\"appid\": 1185780,\"ordate\": \"24.04.2023\"},{\"appid\": 1317950,\"ordate\": \"28.05.2020\"},{\"appid\": 1324780,\"ordate\": \"11.11.2020\"},{\"appid\": 2296550,\"ordate\": \"02.08.2023\"},{\"appid\": 1271280,\"ordate\": \"07.07.2020\"},{\"appid\": 1136730,\"ordate\": \"06.10.2021\"},{\"appid\": 1045010,\"ordate\": \"23.04.2019\"},{\"appid\": 1290000,\"ordate\": \"19.05.2021\"},{\"appid\": 1377450,\"ordate\": \"09.10.2020\"},{\"appid\": 1736550,\"ordate\": \"27.01.2022\"},{\"appid\": 747650,\"ordate\": \"22.02.2018\"},{\"appid\": 2247850,\"ordate\": \"26.05.2023\"},{\"appid\": 1626530,\"ordate\": \"28.04.2022\"},{\"appid\": 1578110,\"ordate\": \"27.07.2021\"},{\"appid\": 2095120,\"ordate\": \"02.11.2022\"},{\"appid\": 1074500,\"ordate\": \"19.05.2020\"},{\"appid\": 1332760,\"ordate\": \"28.01.2022\"},{\"appid\": 297740,\"ordate\": \"23.07.2014\"},{\"appid\": 681330,\"ordate\": \"18.08.2017\"},{\"appid\": 936960,\"ordate\": \"20.10.2018\"},{\"appid\": 1114950,\"ordate\": \"21.10.2022\"},{\"appid\": 861410,\"ordate\": \"19.02.2022\"},{\"appid\": 1255650,\"ordate\": \"08.04.2020\"},{\"appid\": 1757580,\"ordate\": \"26.10.2023\"},{\"appid\": 452060,\"ordate\": \"01.04.2016\"},{\"appid\": 581630,\"ordate\": \"27.01.2017\"},{\"appid\": 1985710,\"ordate\": \"14.01.2023\"},{\"appid\": 1483100,\"ordate\": \"28.07.2021\"},{\"appid\": 1426490,\"ordate\": \"05.06.2021\"},{\"appid\": 2516870,\"ordate\": \"30.11.2023\"},{\"appid\": 1108370,\"ordate\": \"01.11.2019\"},{\"appid\": 2125340,\"ordate\": \"01.10.2022\"},{\"appid\": 2083240,\"ordate\": \"30.09.2023\"},{\"appid\": 1039060,\"ordate\": \"13.04.2019\"},{\"appid\": 230860,\"ordate\": \"30.07.2013\"},{\"appid\": 1920120,\"ordate\": \"29.04.2022\"},{\"appid\": 2435090,\"ordate\": \"31.10.2023\"},{\"appid\": 384940,\"ordate\": \"29.08.2015\"},{\"appid\": 527230,\"ordate\": \"28.02.2017\"},{\"appid\": 2711770,\"ordate\": \"26.12.2023\"},{\"appid\": 1806700,\"ordate\": \"06.03.2022\"},{\"appid\": 2387310,\"ordate\": \"30.05.2023\"},{\"appid\": 1547670,\"ordate\": \"09.05.2023\"},{\"appid\": 841190,\"ordate\": \"14.09.2021\"},{\"appid\": 604510,\"ordate\": \"05.02.2020\"},{\"appid\": 504370,\"ordate\": \"20.09.2016\"},{\"appid\": 1174050,\"ordate\": \"02.11.2019\"},{\"appid\": 1175460,\"ordate\": \"03.03.2021\"},{\"appid\": 1271110,\"ordate\": \"01.09.2020\"},{\"appid\": 226860,\"ordate\": \"27.03.2014\"},{\"appid\": 490490,\"ordate\": \"14.07.2016\"},{\"appid\": 966430,\"ordate\": \"30.04.2019\"},{\"appid\": 291860,\"ordate\": \"13.01.2017\"},{\"appid\": 894940,\"ordate\": \"18.06.2019\"},{\"appid\": 1044220,\"ordate\": \"09.05.2019\"},{\"appid\": 2247670,\"ordate\": \"10.02.2023\"},{\"appid\": 1269300,\"ordate\": \"17.03.2022\"},{\"appid\": 1129730,\"ordate\": \"21.11.2019\"},{\"appid\": 917140,\"ordate\": \"18.10.2022\"},{\"appid\": 1038820,\"ordate\": \"13.06.2020\"},{\"appid\": 562500,\"ordate\": \"06.04.2017\"},{\"appid\": 555880,\"ordate\": \"21.12.2016\"},{\"appid\": 342970,\"ordate\": \"20.03.2015\"},{\"appid\": 1824250,\"ordate\": \"18.12.2021\"},{\"appid\": 1424930,\"ordate\": \"26.01.2021\"},{\"appid\": 265590,\"ordate\": \"24.05.2014\"},{\"appid\": 248610,\"ordate\": \"04.09.2013\"},{\"appid\": 2223170,\"ordate\": \"20.05.2023\"},{\"appid\": 1643180,\"ordate\": \"28.10.2021\"},{\"appid\": 1069660,\"ordate\": \"10.12.2021\"},{\"appid\": 1080410,\"ordate\": \"07.07.2019\"},{\"appid\": 1948800,\"ordate\": \"06.12.2022\"},{\"appid\": 1424330,\"ordate\": \"29.01.2021\"},{\"appid\": 1103550,\"ordate\": \"08.02.2020\"},{\"appid\": 1973080,\"ordate\": \"04.06.2022\"},{\"appid\": 310870,\"ordate\": \"01.07.2014\"},{\"appid\": 345010,\"ordate\": \"27.02.2015\"},{\"appid\": 389220,\"ordate\": \"25.01.2016\"},{\"appid\": 1858120,\"ordate\": \"12.07.2022\"},{\"appid\": 2066490,\"ordate\": \"22.10.2022\"},{\"appid\": 2113010,\"ordate\": \"27.10.2022\"},{\"appid\": 559260,\"ordate\": \"16.07.2018\"},{\"appid\": 2295410,\"ordate\": \"03.10.2023\"},{\"appid\": 1565860,\"ordate\": \"17.03.2021\"},{\"appid\": 1624600,\"ordate\": \"01.10.2021\"},{\"appid\": 278440,\"ordate\": \"16.04.2014\"},{\"appid\": 233980,\"ordate\": \"13.06.2013\"},{\"appid\": 1673650,\"ordate\": \"18.03.2022\"},{\"appid\": 1404660,\"ordate\": \"11.09.2021\"},{\"appid\": 244210,\"ordate\": \"08.11.2013\"},{\"appid\": 1992940,\"ordate\": \"25.05.2022\"},{\"appid\": 1800480,\"ordate\": \"10.01.2022\"},{\"appid\": 1747430,\"ordate\": \"11.02.2022\"},{\"appid\": 1287530,\"ordate\": \"30.09.2021\"},{\"appid\": 978520,\"ordate\": \"19.03.2020\"},{\"appid\": 1495760,\"ordate\": \"12.02.2021\"},{\"appid\": 1460650,\"ordate\": \"08.07.2022\"},{\"appid\": 1807590,\"ordate\": \"06.01.2022\"},{\"appid\": 994220,\"ordate\": \"09.01.2019\"},{\"appid\": 321270,\"ordate\": \"21.08.2015\"},{\"appid\": 1645780,\"ordate\": \"09.06.2021\"},{\"appid\": 2351160,\"ordate\": \"04.08.2023\"},{\"appid\": 419480,\"ordate\": \"14.04.2016\"},{\"appid\": 616520,\"ordate\": \"27.09.2017\"},{\"appid\": 1956800,\"ordate\": \"21.04.2023\"},{\"appid\": 941890,\"ordate\": \"10.02.2021\"},{\"appid\": 1371620,\"ordate\": \"03.08.2020\"},{\"appid\": 1155870,\"ordate\": \"01.09.2021\"},{\"appid\": 1764660,\"ordate\": \"16.09.2022\"},{\"appid\": 1524550,\"ordate\": \"09.06.2022\"},{\"appid\": 486440,\"ordate\": \"31.01.2019\"},{\"appid\": 662960,\"ordate\": \"23.08.2019\"},{\"appid\": 1955830,\"ordate\": \"25.02.2023\"},{\"appid\": 386100,\"ordate\": \"15.08.2016\"},{\"appid\": 2446080,\"ordate\": \"18.06.2023\"},{\"appid\": 1336490,\"ordate\": \"01.11.2022\"},{\"appid\": 2154350,\"ordate\": \"29.11.2022\"},{\"appid\": 1460220,\"ordate\": \"31.10.2022\"},{\"appid\": 2628800,\"ordate\": \"30.10.2023\"},{\"appid\": 812190,\"ordate\": \"23.01.2019\"},{\"appid\": 1778060,\"ordate\": \"08.03.2022\"},{\"appid\": 1840710,\"ordate\": \"25.09.2023\"},{\"appid\": 1155290,\"ordate\": \"21.10.2019\"},{\"appid\": 505220,\"ordate\": \"06.09.2016\"},{\"appid\": 692690,\"ordate\": \"28.09.2018\"},{\"appid\": 1034150,\"ordate\": \"25.08.2021\"},{\"appid\": 697550,\"ordate\": \"25.04.2018\"},{\"appid\": 598700,\"ordate\": \"09.06.2017\"},{\"appid\": 738600,\"ordate\": \"15.12.2017\"},{\"appid\": 611730,\"ordate\": \"15.06.2017\"},{\"appid\": 1334420,\"ordate\": \"07.07.2020\"},{\"appid\": 865980,\"ordate\": \"18.04.2019\"},{\"appid\": 2365120,\"ordate\": \"26.06.2023\"},{\"appid\": 1245370,\"ordate\": \"04.08.2020\"},{\"appid\": 654890,\"ordate\": \"21.08.2020\"},{\"appid\": 520950,\"ordate\": \"07.05.2020\"},{\"appid\": 1018830,\"ordate\": \"28.02.2020\"},{\"appid\": 600610,\"ordate\": \"11.05.2021\"},{\"appid\": 1158160,\"ordate\": \"11.10.2022\"},{\"appid\": 1001860,\"ordate\": \"11.01.2019\"},{\"appid\": 1552620,\"ordate\": \"18.08.2022\"},{\"appid\": 2361390,\"ordate\": \"03.08.2023\"},{\"appid\": 1455840,\"ordate\": \"25.03.2021\"},{\"appid\": 719930,\"ordate\": \"15.05.2020\"},{\"appid\": 1570830,\"ordate\": \"21.02.2023\"},{\"appid\": 1834570,\"ordate\": \"05.03.2022\"},{\"appid\": 1783280,\"ordate\": \"14.04.2022\"},{\"appid\": 917150,\"ordate\": \"10.07.2019\"},{\"appid\": 666870,\"ordate\": \"30.08.2019\"},{\"appid\": 867980,\"ordate\": \"01.08.2019\"},{\"appid\": 1967630,\"ordate\": \"19.04.2023\"},{\"appid\": 493410,\"ordate\": \"28.07.2016\"},{\"appid\": 762850,\"ordate\": \"06.01.2018\"},{\"appid\": 1844410,\"ordate\": \"17.01.2022\"},{\"appid\": 1922060,\"ordate\": \"15.07.2022\"},{\"appid\": 1651560,\"ordate\": \"13.04.2023\"},{\"appid\": 1164690,\"ordate\": \"25.02.2021\"},{\"appid\": 1428880,\"ordate\": \"22.04.2023\"},{\"appid\": 1766350,\"ordate\": \"19.05.2022\"},{\"appid\": 944690,\"ordate\": \"06.02.2019\"},{\"appid\": 1278060,\"ordate\": \"01.05.2020\"},{\"appid\": 1888520,\"ordate\": \"14.02.2022\"},{\"appid\": 1425050,\"ordate\": \"17.11.2020\"},{\"appid\": 2112680,\"ordate\": \"10.01.2023\"},{\"appid\": 726450,\"ordate\": \"30.03.2020\"},{\"appid\": 1117220,\"ordate\": \"02.09.2019\"},{\"appid\": 267750,\"ordate\": \"31.03.2014\"},{\"appid\": 645270,\"ordate\": \"17.02.2020\"},{\"appid\": 1477590,\"ordate\": \"17.03.2021\"},{\"appid\": 968350,\"ordate\": \"03.12.2018\"},{\"appid\": 1098220,\"ordate\": \"06.08.2020\"},{\"appid\": 813630,\"ordate\": \"09.03.2018\"},{\"appid\": 1998510,\"ordate\": \"30.05.2022\"},{\"appid\": 1585650,\"ordate\": \"29.04.2022\"},{\"appid\": 1685940,\"ordate\": \"29.08.2022\"},{\"appid\": 1694420,\"ordate\": \"21.08.2021\"},{\"appid\": 781680,\"ordate\": \"20.02.2018\"},{\"appid\": 1012430,\"ordate\": \"20.06.2020\"},{\"appid\": 1029550,\"ordate\": \"24.03.2020\"},{\"appid\": 1134100,\"ordate\": \"20.05.2021\"},{\"appid\": 278910,\"ordate\": \"16.04.2014\"},{\"appid\": 616250,\"ordate\": \"27.07.2017\"},{\"appid\": 1401970,\"ordate\": \"12.10.2023\"},{\"appid\": 1373260,\"ordate\": \"28.04.2021\"},{\"appid\": 495580,\"ordate\": \"07.09.2016\"},{\"appid\": 1914580,\"ordate\": \"25.05.2022\"},{\"appid\": 1597610,\"ordate\": \"27.09.2022\"},{\"appid\": 1156480,\"ordate\": \"31.10.2020\"},{\"appid\": 2670260,\"ordate\": \"21.11.2023\"},{\"appid\": 1220010,\"ordate\": \"22.01.2021\"},{\"appid\": 272330,\"ordate\": \"17.07.2014\"},{\"appid\": 1269710,\"ordate\": \"11.11.2021\"},{\"appid\": 684450,\"ordate\": \"22.10.2020\"},{\"appid\": 1629300,\"ordate\": \"08.12.2021\"},{\"appid\": 1944660,\"ordate\": \"21.01.2023\"},{\"appid\": 622810,\"ordate\": \"23.05.2017\"},{\"appid\": 2183790,\"ordate\": \"13.12.2022\"},{\"appid\": 1195140,\"ordate\": \"10.01.2020\"},{\"appid\": 1333800,\"ordate\": \"04.01.2021\"},{\"appid\": 2139730,\"ordate\": \"05.12.2022\"},{\"appid\": 898580,\"ordate\": \"26.09.2018\"},{\"appid\": 1621490,\"ordate\": \"27.05.2021\"},{\"appid\": 577360,\"ordate\": \"30.08.2017\"},{\"appid\": 1513820,\"ordate\": \"04.02.2021\"},{\"appid\": 881100,\"ordate\": \"24.09.2019\"},{\"appid\": 1997630,\"ordate\": \"04.11.2022\"},{\"appid\": 957960,\"ordate\": \"31.01.2023\"},{\"appid\": 750240,\"ordate\": \"09.08.2018\"},{\"appid\": 1455300,\"ordate\": \"17.12.2020\"},{\"appid\": 552620,\"ordate\": \"28.11.2017\"},{\"appid\": 386750,\"ordate\": \"12.08.2015\"},{\"appid\": 875240,\"ordate\": \"04.09.2018\"},{\"appid\": 1482980,\"ordate\": \"13.02.2021\"},{\"appid\": 1890170,\"ordate\": \"14.02.2022\"},{\"appid\": 620980,\"ordate\": \"01.05.2018\"},{\"appid\": 1968730,\"ordate\": \"18.08.2022\"},{\"appid\": 1768780,\"ordate\": \"19.10.2022\"},{\"appid\": 406280,\"ordate\": \"30.10.2015\"},{\"appid\": 1848330,\"ordate\": \"03.01.2022\"},{\"appid\": 488920,\"ordate\": \"24.01.2017\"},{\"appid\": 270150,\"ordate\": \"13.03.2014\"},{\"appid\": 1069760,\"ordate\": \"02.08.2019\"},{\"appid\": 1911400,\"ordate\": \"01.06.2022\"},{\"appid\": 1492650,\"ordate\": \"17.03.2021\"},{\"appid\": 760650,\"ordate\": \"27.10.2020\"},{\"appid\": 1096690,\"ordate\": \"08.02.2020\"},{\"appid\": 1185490,\"ordate\": \"04.05.2022\"},{\"appid\": 1251090,\"ordate\": \"01.09.2020\"},{\"appid\": 1520380,\"ordate\": \"20.08.2021\"},{\"appid\": 788250,\"ordate\": \"30.01.2018\"},{\"appid\": 677710,\"ordate\": \"31.12.2017\"},{\"appid\": 1014360,\"ordate\": \"08.03.2019\"},{\"appid\": 916960,\"ordate\": \"09.11.2018\"},{\"appid\": 822800,\"ordate\": \"16.07.2019\"},{\"appid\": 2503690,\"ordate\": \"06.08.2023\"},{\"appid\": 236150,\"ordate\": \"08.09.2013\"},{\"appid\": 282560,\"ordate\": \"30.10.2015\"},{\"appid\": 459150,\"ordate\": \"19.02.2017\"},{\"appid\": 1707570,\"ordate\": \"14.08.2021\"},{\"appid\": 1393570,\"ordate\": \"05.03.2021\"},{\"appid\": 1975860,\"ordate\": \"13.05.2022\"},{\"appid\": 1165910,\"ordate\": \"08.04.2020\"},{\"appid\": 577410,\"ordate\": \"26.10.2018\"},{\"appid\": 602320,\"ordate\": \"29.03.2018\"},{\"appid\": 1680020,\"ordate\": \"20.09.2021\"},{\"appid\": 1182110,\"ordate\": \"03.04.2021\"},{\"appid\": 338040,\"ordate\": \"24.07.2015\"},{\"appid\": 223830,\"ordate\": \"31.05.2013\"},{\"appid\": 377980,\"ordate\": \"30.10.2015\"},{\"appid\": 1004200,\"ordate\": \"28.01.2019\"},{\"appid\": 440730,\"ordate\": \"22.04.2016\"},{\"appid\": 1264790,\"ordate\": \"06.08.2021\"},{\"appid\": 814730,\"ordate\": \"24.12.2022\"},{\"appid\": 1245540,\"ordate\": \"16.10.2020\"},{\"appid\": 455100,\"ordate\": \"03.12.2018\"},{\"appid\": 1111330,\"ordate\": \"03.10.2019\"},{\"appid\": 311930,\"ordate\": \"19.08.2014\"},{\"appid\": 1302290,\"ordate\": \"12.05.2020\"},{\"appid\": 2193370,\"ordate\": \"17.11.2022\"},{\"appid\": 995310,\"ordate\": \"09.09.2019\"},{\"appid\": 1203630,\"ordate\": \"12.03.2020\"},{\"appid\": 1016920,\"ordate\": \"09.09.2019\"},{\"appid\": 1949370,\"ordate\": \"09.05.2022\"},{\"appid\": 844850,\"ordate\": \"28.09.2018\"},{\"appid\": 2473830,\"ordate\": \"06.07.2023\"},{\"appid\": 854770,\"ordate\": \"29.07.2018\"},{\"appid\": 257170,\"ordate\": \"16.05.2014\"},{\"appid\": 895670,\"ordate\": \"25.09.2018\"},{\"appid\": 976950,\"ordate\": \"30.11.2018\"},{\"appid\": 1181830,\"ordate\": \"14.02.2020\"},{\"appid\": 755920,\"ordate\": \"31.08.2018\"},{\"appid\": 981630,\"ordate\": \"21.11.2019\"},{\"appid\": 367450,\"ordate\": \"30.06.2015\"},{\"appid\": 677480,\"ordate\": \"12.07.2018\"},{\"appid\": 1740720,\"ordate\": \"09.03.2022\"},{\"appid\": 466560,\"ordate\": \"22.02.2017\"},{\"appid\": 618740,\"ordate\": \"03.10.2018\"},{\"appid\": 1853780,\"ordate\": \"05.01.2022\"},{\"appid\": 359140,\"ordate\": \"06.11.2015\"},{\"appid\": 1509510,\"ordate\": \"11.10.2021\"},{\"appid\": 1361000,\"ordate\": \"16.10.2020\"},{\"appid\": 1380220,\"ordate\": \"04.11.2021\"},{\"appid\": 428200,\"ordate\": \"15.04.2016\"},{\"appid\": 246090,\"ordate\": \"15.10.2013\"},{\"appid\": 1969010,\"ordate\": \"03.05.2023\"},{\"appid\": 1525370,\"ordate\": \"03.09.2021\"},{\"appid\": 1684660,\"ordate\": \"04.08.2021\"},{\"appid\": 792710,\"ordate\": \"18.04.2019\"},{\"appid\": 2619280,\"ordate\": \"01.12.2023\"},{\"appid\": 1235350,\"ordate\": \"14.04.2020\"},{\"appid\": 1133260,\"ordate\": \"02.10.2019\"},{\"appid\": 503010,\"ordate\": \"19.08.2016\"},{\"appid\": 577080,\"ordate\": \"13.01.2017\"},{\"appid\": 1532080,\"ordate\": \"07.04.2021\"},{\"appid\": 1899210,\"ordate\": \"05.05.2022\"},{\"appid\": 1906020,\"ordate\": \"02.06.2022\"},{\"appid\": 2152630,\"ordate\": \"12.12.2022\"},{\"appid\": 1440910,\"ordate\": \"28.01.2022\"},{\"appid\": 1230800,\"ordate\": \"27.02.2020\"},{\"appid\": 1694310,\"ordate\": \"22.10.2021\"},{\"appid\": 671470,\"ordate\": \"12.08.2018\"},{\"appid\": 2692040,\"ordate\": \"09.01.2024\"},{\"appid\": 1072640,\"ordate\": \"14.08.2020\"},{\"appid\": 1677570,\"ordate\": \"19.10.2021\"},{\"appid\": 321350,\"ordate\": \"11.10.2014\"},{\"appid\": 772060,\"ordate\": \"18.01.2018\"},{\"appid\": 1674780,\"ordate\": \"28.03.2022\"},{\"appid\": 2219410,\"ordate\": \"26.12.2022\"},{\"appid\": 2180340,\"ordate\": \"24.05.2023\"},{\"appid\": 1370370,\"ordate\": \"01.06.2021\"},{\"appid\": 248860,\"ordate\": \"06.12.2013\"},{\"appid\": 846770,\"ordate\": \"06.11.2020\"},{\"appid\": 1704920,\"ordate\": \"20.10.2021\"},{\"appid\": 251170,\"ordate\": \"27.09.2013\"},{\"appid\": 1432650,\"ordate\": \"29.10.2020\"},{\"appid\": 506500,\"ordate\": \"29.07.2016\"},{\"appid\": 783230,\"ordate\": \"15.03.2019\"},{\"appid\": 2338200,\"ordate\": \"09.09.2023\"},{\"appid\": 1389610,\"ordate\": \"01.10.2020\"},{\"appid\": 1210960,\"ordate\": \"23.06.2020\"},{\"appid\": 895040,\"ordate\": \"26.08.2019\"},{\"appid\": 1140740,\"ordate\": \"20.01.2020\"},{\"appid\": 1475780,\"ordate\": \"13.12.2020\"},{\"appid\": 2688400,\"ordate\": \"19.01.2024\"},{\"appid\": 259660,\"ordate\": \"12.01.2014\"},{\"appid\": 375580,\"ordate\": \"11.05.2016\"},{\"appid\": 1708200,\"ordate\": \"16.04.2022\"},{\"appid\": 2093870,\"ordate\": \"19.01.2023\"},{\"appid\": 1360010,\"ordate\": \"17.07.2020\"},{\"appid\": 573410,\"ordate\": \"15.10.2018\"},{\"appid\": 815370,\"ordate\": \"29.08.2018\"},{\"appid\": 365160,\"ordate\": \"10.03.2016\"},{\"appid\": 1698110,\"ordate\": \"04.09.2021\"},{\"appid\": 1378470,\"ordate\": \"28.03.2022\"},{\"appid\": 1557990,\"ordate\": \"29.04.2022\"},{\"appid\": 2128270,\"ordate\": \"01.05.2023\"},{\"appid\": 650940,\"ordate\": \"19.01.2018\"},{\"appid\": 632100,\"ordate\": \"22.03.2018\"},{\"appid\": 1759350,\"ordate\": \"09.11.2023\"},{\"appid\": 1008600,\"ordate\": \"03.10.2019\"},{\"appid\": 1652250,\"ordate\": \"10.08.2023\"},{\"appid\": 2389260,\"ordate\": \"15.07.2023\"},{\"appid\": 1532240,\"ordate\": \"17.01.2023\"},{\"appid\": 1129580,\"ordate\": \"17.09.2020\"},{\"appid\": 1159560,\"ordate\": \"22.10.2020\"},{\"appid\": 2272250,\"ordate\": \"19.10.2023\"},{\"appid\": 323850,\"ordate\": \"16.01.2015\"},{\"appid\": 1785120,\"ordate\": \"25.03.2022\"},{\"appid\": 1299620,\"ordate\": \"20.05.2021\"},{\"appid\": 2190380,\"ordate\": \"16.11.2023\"},{\"appid\": 290530,\"ordate\": \"31.10.2014\"},{\"appid\": 1819980,\"ordate\": \"12.01.2022\"},{\"appid\": 513270,\"ordate\": \"17.12.2016\"},{\"appid\": 1893260,\"ordate\": \"12.03.2022\"},{\"appid\": 248390,\"ordate\": \"20.11.2013\"},{\"appid\": 1001690,\"ordate\": \"03.06.2020\"},{\"appid\": 1551220,\"ordate\": \"30.04.2021\"},{\"appid\": 1794490,\"ordate\": \"23.06.2022\"},{\"appid\": 344240,\"ordate\": \"15.04.2016\"},{\"appid\": 700570,\"ordate\": \"20.10.2017\"},{\"appid\": 303530,\"ordate\": \"08.08.2014\"},{\"appid\": 338290,\"ordate\": \"24.08.2017\"},{\"appid\": 361350,\"ordate\": \"14.05.2015\"},{\"appid\": 342480,\"ordate\": \"27.02.2015\"},{\"appid\": 2195400,\"ordate\": \"10.11.2023\"},{\"appid\": 1015180,\"ordate\": \"03.02.2020\"},{\"appid\": 544810,\"ordate\": \"12.04.2019\"},{\"appid\": 1146730,\"ordate\": \"31.10.2019\"},{\"appid\": 1248150,\"ordate\": \"06.03.2020\"},{\"appid\": 2220870,\"ordate\": \"28.04.2023\"},{\"appid\": 2677310,\"ordate\": \"07.12.2023\"},{\"appid\": 496290,\"ordate\": \"05.05.2017\"},{\"appid\": 997950,\"ordate\": \"28.03.2019\"},{\"appid\": 1829960,\"ordate\": \"17.12.2021\"},{\"appid\": 289760,\"ordate\": \"29.04.2014\"},{\"appid\": 985260,\"ordate\": \"29.03.2019\"},{\"appid\": 1063950,\"ordate\": \"21.05.2019\"},{\"appid\": 1963520,\"ordate\": \"16.12.2022\"},{\"appid\": 1501690,\"ordate\": \"03.04.2023\"},{\"appid\": 500710,\"ordate\": \"16.12.2016\"},{\"appid\": 351730,\"ordate\": \"24.02.2015\"},{\"appid\": 1683000,\"ordate\": \"17.12.2021\"},{\"appid\": 1333990,\"ordate\": \"16.06.2020\"},{\"appid\": 1333980,\"ordate\": \"16.06.2020\"},{\"appid\": 1053720,\"ordate\": \"17.10.2019\"},{\"appid\": 2497900,\"ordate\": \"27.10.2023\"},{\"appid\": 2096080,\"ordate\": \"20.01.2023\"},{\"appid\": 331720,\"ordate\": \"15.11.2014\"},{\"appid\": 2323860,\"ordate\": \"08.08.2023\"},{\"appid\": 1802550,\"ordate\": \"04.05.2023\"},{\"appid\": 1167800,\"ordate\": \"19.11.2019\"},{\"appid\": 1273940,\"ordate\": \"12.08.2020\"},{\"appid\": 1584820,\"ordate\": \"21.02.2023\"},{\"appid\": 2468470,\"ordate\": \"11.10.2023\"},{\"appid\": 497800,\"ordate\": \"26.10.2016\"},{\"appid\": 2316240,\"ordate\": \"01.08.2023\"},{\"appid\": 1745160,\"ordate\": \"04.09.2023\"},{\"appid\": 838110,\"ordate\": \"03.04.2019\"},{\"appid\": 2103140,\"ordate\": \"02.11.2023\"},{\"appid\": 839910,\"ordate\": \"18.09.2019\"},{\"appid\": 982840,\"ordate\": \"30.01.2019\"},{\"appid\": 2759050,\"ordate\": \"30.01.2024\"},{\"appid\": 429780,\"ordate\": \"27.04.2016\"},{\"appid\": 345330,\"ordate\": \"17.05.2018\"},{\"appid\": 2179380,\"ordate\": \"23.11.2022\"},{\"appid\": 1015140,\"ordate\": \"21.10.2019\"},{\"appid\": 1885640,\"ordate\": \"10.02.2022\"},{\"appid\": 2362480,\"ordate\": \"09.05.2023\"},{\"appid\": 989430,\"ordate\": \"25.02.2019\"},{\"appid\": 947430,\"ordate\": \"12.02.2019\"},{\"appid\": 1254410,\"ordate\": \"23.04.2020\"},{\"appid\": 778840,\"ordate\": \"01.02.2018\"},{\"appid\": 382260,\"ordate\": \"01.10.2015\"},{\"appid\": 405370,\"ordate\": \"22.10.2015\"},{\"appid\": 913550,\"ordate\": \"15.11.2018\"},{\"appid\": 1725680,\"ordate\": \"15.09.2021\"},{\"appid\": 1755870,\"ordate\": \"22.10.2021\"},{\"appid\": 502720,\"ordate\": \"09.05.2017\"},{\"appid\": 2321900,\"ordate\": \"14.09.2023\"},{\"appid\": 1966900,\"ordate\": \"08.06.2022\"},{\"appid\": 1141070,\"ordate\": \"28.10.2019\"},{\"appid\": 1478350,\"ordate\": \"03.06.2021\"},{\"appid\": 863590,\"ordate\": \"12.12.2018\"},{\"appid\": 1394100,\"ordate\": \"12.11.2020\"},{\"appid\": 1270620,\"ordate\": \"22.06.2020\"},{\"appid\": 1929250,\"ordate\": \"17.04.2023\"},{\"appid\": 276810,\"ordate\": \"20.11.2014\"},{\"appid\": 921960,\"ordate\": \"07.12.2018\"},{\"appid\": 1034040,\"ordate\": \"26.05.2020\"},{\"appid\": 484870,\"ordate\": \"09.06.2016\"},{\"appid\": 1094410,\"ordate\": \"05.02.2021\"},{\"appid\": 1868540,\"ordate\": \"01.02.2023\"},{\"appid\": 1243360,\"ordate\": \"10.04.2020\"},{\"appid\": 577280,\"ordate\": \"30.03.2017\"},{\"appid\": 1103880,\"ordate\": \"11.09.2019\"},{\"appid\": 747690,\"ordate\": \"01.11.2018\"},{\"appid\": 1827450,\"ordate\": \"19.04.2022\"},{\"appid\": 435150,\"ordate\": \"15.09.2016\"},{\"appid\": 1623310,\"ordate\": \"22.09.2022\"},{\"appid\": 324390,\"ordate\": \"17.10.2014\"},{\"appid\": 1431780,\"ordate\": \"22.10.2020\"},{\"appid\": 1075740,\"ordate\": \"30.07.2020\"},{\"appid\": 1455900,\"ordate\": \"17.09.2021\"},{\"appid\": 1863300,\"ordate\": \"02.01.2024\"},{\"appid\": 1812920,\"ordate\": \"22.12.2021\"},{\"appid\": 1390700,\"ordate\": \"16.12.2021\"},{\"appid\": 1257800,\"ordate\": \"11.11.2021\"},{\"appid\": 1427760,\"ordate\": \"01.01.2021\"},{\"appid\": 314520,\"ordate\": \"04.11.2014\"},{\"appid\": 1326470,\"ordate\": \"24.02.2023\"},{\"appid\": 2353700,\"ordate\": \"13.04.2023\"},{\"appid\": 2348610,\"ordate\": \"02.11.2023\"},{\"appid\": 2579870,\"ordate\": \"23.10.2023\"},{\"appid\": 1162390,\"ordate\": \"04.03.2020\"},{\"appid\": 1273220,\"ordate\": \"14.10.2021\"},{\"appid\": 1818230,\"ordate\": \"12.12.2022\"},{\"appid\": 1354990,\"ordate\": \"29.07.2021\"},{\"appid\": 545600,\"ordate\": \"05.10.2017\"},{\"appid\": 2080510,\"ordate\": \"25.10.2022\"},{\"appid\": 1334010,\"ordate\": \"16.06.2020\"},{\"appid\": 1267910,\"ordate\": \"20.11.2020\"},{\"appid\": 361280,\"ordate\": \"05.06.2015\"},{\"appid\": 1446750,\"ordate\": \"21.12.2020\"},{\"appid\": 1373930,\"ordate\": \"30.04.2021\"},{\"appid\": 1938290,\"ordate\": \"22.06.2022\"},{\"appid\": 1263070,\"ordate\": \"29.07.2020\"},{\"appid\": 2673160,\"ordate\": \"28.11.2023\"},{\"appid\": 794860,\"ordate\": \"29.03.2018\"},{\"appid\": 301500,\"ordate\": \"04.08.2014\"},{\"appid\": 1190910,\"ordate\": \"20.02.2020\"},{\"appid\": 1988530,\"ordate\": \"01.12.2023\"},{\"appid\": 1905980,\"ordate\": \"29.03.2023\"},{\"appid\": 2229110,\"ordate\": \"08.01.2023\"},{\"appid\": 1175250,\"ordate\": \"18.04.2020\"},{\"appid\": 552870,\"ordate\": \"26.12.2016\"},{\"appid\": 1092400,\"ordate\": \"30.08.2019\"},{\"appid\": 1409770,\"ordate\": \"31.05.2021\"},{\"appid\": 397310,\"ordate\": \"16.08.2016\"},{\"appid\": 1478590,\"ordate\": \"11.02.2021\"},{\"appid\": 1945230,\"ordate\": \"26.08.2022\"},{\"appid\": 1498290,\"ordate\": \"30.10.2021\"},{\"appid\": 2546150,\"ordate\": \"30.10.2023\"},{\"appid\": 740170,\"ordate\": \"08.12.2017\"},{\"appid\": 2052770,\"ordate\": \"09.12.2022\"},{\"appid\": 1518940,\"ordate\": \"31.03.2021\"},{\"appid\": 359940,\"ordate\": \"19.03.2016\"},{\"appid\": 1189100,\"ordate\": \"26.09.2022\"},{\"appid\": 727180,\"ordate\": \"09.12.2017\"},{\"appid\": 357310,\"ordate\": \"20.09.2016\"},{\"appid\": 948470,\"ordate\": \"29.01.2019\"},{\"appid\": 1523510,\"ordate\": \"14.09.2021\"},{\"appid\": 1173200,\"ordate\": \"04.02.2020\"},{\"appid\": 970730,\"ordate\": \"08.12.2018\"},{\"appid\": 1574870,\"ordate\": \"25.07.2023\"},{\"appid\": 1019550,\"ordate\": \"12.11.2019\"},{\"appid\": 884340,\"ordate\": \"13.08.2019\"},{\"appid\": 1330660,\"ordate\": \"31.08.2021\"},{\"appid\": 1041690,\"ordate\": \"15.05.2019\"},{\"appid\": 840580,\"ordate\": \"14.05.2018\"},{\"appid\": 1158420,\"ordate\": \"23.11.2020\"},{\"appid\": 2157060,\"ordate\": \"20.01.2023\"},{\"appid\": 1669360,\"ordate\": \"16.09.2021\"},{\"appid\": 1830970,\"ordate\": \"17.01.2024\"},{\"appid\": 1115110,\"ordate\": \"03.01.2020\"},{\"appid\": 960140,\"ordate\": \"11.12.2019\"},{\"appid\": 1086410,\"ordate\": \"13.12.2019\"},{\"appid\": 752170,\"ordate\": \"24.04.2019\"},{\"appid\": 930600,\"ordate\": \"17.11.2018\"},{\"appid\": 684580,\"ordate\": \"03.05.2018\"},{\"appid\": 1919220,\"ordate\": \"15.03.2022\"},{\"appid\": 666140,\"ordate\": \"23.01.2018\"},{\"appid\": 351990,\"ordate\": \"21.05.2015\"},{\"appid\": 656490,\"ordate\": \"12.09.2017\"},{\"appid\": 1341650,\"ordate\": \"26.06.2020\"},{\"appid\": 1717080,\"ordate\": \"09.08.2023\"},{\"appid\": 1341660,\"ordate\": \"26.06.2020\"},{\"appid\": 2122010,\"ordate\": \"17.09.2022\"},{\"appid\": 1372320,\"ordate\": \"09.09.2020\"},{\"appid\": 1123770,\"ordate\": \"03.03.2020\"},{\"appid\": 1883800,\"ordate\": \"05.04.2023\"},{\"appid\": 1291010,\"ordate\": \"29.04.2021\"},{\"appid\": 1365600,\"ordate\": \"25.06.2021\"},{\"appid\": 1581890,\"ordate\": \"04.06.2021\"},{\"appid\": 2231170,\"ordate\": \"24.11.2023\"},{\"appid\": 383930,\"ordate\": \"20.08.2015\"},{\"appid\": 1081200,\"ordate\": \"21.09.2019\"},{\"appid\": 365190,\"ordate\": \"20.05.2015\"},{\"appid\": 362350,\"ordate\": \"08.05.2015\"},{\"appid\": 961420,\"ordate\": \"26.10.2018\"},{\"appid\": 1105600,\"ordate\": \"03.07.2019\"},{\"appid\": 1040420,\"ordate\": \"14.08.2020\"},{\"appid\": 2100730,\"ordate\": \"12.08.2022\"},{\"appid\": 655940,\"ordate\": \"09.08.2018\"},{\"appid\": 819400,\"ordate\": \"25.08.2018\"},{\"appid\": 1751850,\"ordate\": \"30.09.2021\"},{\"appid\": 2269680,\"ordate\": \"27.01.2023\"},{\"appid\": 804850,\"ordate\": \"09.05.2019\"},{\"appid\": 2188260,\"ordate\": \"21.11.2022\"},{\"appid\": 2090760,\"ordate\": \"24.08.2023\"},{\"appid\": 396650,\"ordate\": \"03.09.2015\"},{\"appid\": 2722760,\"ordate\": \"20.12.2023\"},{\"appid\": 1622920,\"ordate\": \"28.10.2021\"},{\"appid\": 2216770,\"ordate\": \"30.01.2024\"},{\"appid\": 403980,\"ordate\": \"17.11.2015\"},{\"appid\": 689040,\"ordate\": \"15.09.2017\"},{\"appid\": 2022060,\"ordate\": \"17.09.2022\"},{\"appid\": 1794600,\"ordate\": \"05.11.2021\"},{\"appid\": 2360260,\"ordate\": \"06.04.2023\"},{\"appid\": 1358990,\"ordate\": \"23.07.2020\"},{\"appid\": 1375900,\"ordate\": \"05.05.2023\"},{\"appid\": 1613470,\"ordate\": \"10.11.2022\"},{\"appid\": 986040,\"ordate\": \"07.11.2022\"},{\"appid\": 1231940,\"ordate\": \"26.05.2020\"},{\"appid\": 1274970,\"ordate\": \"21.08.2020\"},{\"appid\": 438320,\"ordate\": \"13.12.2016\"},{\"appid\": 705050,\"ordate\": \"01.11.2017\"},{\"appid\": 724000,\"ordate\": \"12.04.2022\"},{\"appid\": 1690990,\"ordate\": \"25.08.2021\"},{\"appid\": 2471650,\"ordate\": \"19.01.2024\"},{\"appid\": 968760,\"ordate\": \"29.04.2020\"},{\"appid\": 571660,\"ordate\": \"29.12.2016\"},{\"appid\": 601840,\"ordate\": \"14.06.2020\"},{\"appid\": 1020730,\"ordate\": \"26.07.2019\"},{\"appid\": 1293660,\"ordate\": \"21.06.2023\"},{\"appid\": 1349540,\"ordate\": \"03.09.2020\"},{\"appid\": 1818590,\"ordate\": \"19.01.2023\"},{\"appid\": 1936860,\"ordate\": \"18.04.2022\"},{\"appid\": 1825040,\"ordate\": \"31.08.2022\"},{\"appid\": 656350,\"ordate\": \"20.08.2019\"},{\"appid\": 1474220,\"ordate\": \"02.12.2020\"},{\"appid\": 2305900,\"ordate\": \"16.11.2023\"},{\"appid\": 702360,\"ordate\": \"28.12.2017\"},{\"appid\": 1881370,\"ordate\": \"08.02.2022\"},{\"appid\": 1098570,\"ordate\": \"31.07.2019\"},{\"appid\": 262060,\"ordate\": \"03.02.2015\"},{\"appid\": 1417750,\"ordate\": \"12.08.2022\"},{\"appid\": 342550,\"ordate\": \"30.04.2015\"},{\"appid\": 427240,\"ordate\": \"08.06.2016\"},{\"appid\": 1268810,\"ordate\": \"11.02.2021\"},{\"appid\": 933820,\"ordate\": \"02.04.2020\"},{\"appid\": 2024230,\"ordate\": \"23.06.2022\"},{\"appid\": 1227280,\"ordate\": \"14.10.2021\"},{\"appid\": 1661020,\"ordate\": \"25.08.2021\"},{\"appid\": 1985170,\"ordate\": \"19.10.2023\"},{\"appid\": 1201540,\"ordate\": \"17.02.2023\"},{\"appid\": 750800,\"ordate\": \"08.11.2018\"},{\"appid\": 263060,\"ordate\": \"06.06.2014\"},{\"appid\": 1193090,\"ordate\": \"29.09.2022\"},{\"appid\": 1512050,\"ordate\": \"01.05.2023\"},{\"appid\": 722290,\"ordate\": \"02.10.2018\"},{\"appid\": 500090,\"ordate\": \"29.12.2018\"},{\"appid\": 885950,\"ordate\": \"17.08.2018\"},{\"appid\": 1475460,\"ordate\": \"03.12.2020\"},{\"appid\": 481190,\"ordate\": \"14.10.2016\"},{\"appid\": 935980,\"ordate\": \"15.06.2019\"},{\"appid\": 1836030,\"ordate\": \"25.03.2022\"},{\"appid\": 1212370,\"ordate\": \"28.03.2020\"},{\"appid\": 1017340,\"ordate\": \"22.09.2022\"},{\"appid\": 484930,\"ordate\": \"02.12.2016\"},{\"appid\": 1369970,\"ordate\": \"17.06.2023\"},{\"appid\": 259470,\"ordate\": \"08.12.2013\"},{\"appid\": 1329510,\"ordate\": \"20.08.2020\"},{\"appid\": 2586310,\"ordate\": \"21.09.2023\"},{\"appid\": 1159860,\"ordate\": \"24.12.2020\"},{\"appid\": 2351890,\"ordate\": \"05.12.2023\"},{\"appid\": 1723930,\"ordate\": \"18.02.2022\"},{\"appid\": 237350,\"ordate\": \"10.03.2014\"},{\"appid\": 681530,\"ordate\": \"20.09.2017\"},{\"appid\": 911550,\"ordate\": \"17.09.2018\"},{\"appid\": 591680,\"ordate\": \"17.10.2017\"},{\"appid\": 345140,\"ordate\": \"20.04.2015\"},{\"appid\": 842140,\"ordate\": \"10.07.2018\"},{\"appid\": 1146210,\"ordate\": \"20.11.2019\"},{\"appid\": 466660,\"ordate\": \"28.09.2016\"},{\"appid\": 2094370,\"ordate\": \"16.10.2023\"},{\"appid\": 1131740,\"ordate\": \"13.08.2019\"},{\"appid\": 1175140,\"ordate\": \"04.11.2019\"},{\"appid\": 1944050,\"ordate\": \"28.04.2022\"},{\"appid\": 521620,\"ordate\": \"30.06.2020\"},{\"appid\": 877080,\"ordate\": \"04.07.2018\"},{\"appid\": 1401150,\"ordate\": \"25.09.2020\"},{\"appid\": 502780,\"ordate\": \"16.11.2016\"},{\"appid\": 943920,\"ordate\": \"23.10.2018\"},{\"appid\": 1377590,\"ordate\": \"31.08.2020\"},{\"appid\": 1932260,\"ordate\": \"18.08.2023\"},{\"appid\": 638020,\"ordate\": \"31.05.2017\"},{\"appid\": 671510,\"ordate\": \"08.02.2018\"},{\"appid\": 630030,\"ordate\": \"16.08.2017\"},{\"appid\": 1803390,\"ordate\": \"15.06.2023\"},{\"appid\": 389230,\"ordate\": \"08.10.2015\"},{\"appid\": 611060,\"ordate\": \"06.04.2017\"},{\"appid\": 941300,\"ordate\": \"22.03.2019\"},{\"appid\": 334040,\"ordate\": \"30.01.2015\"},{\"appid\": 1013600,\"ordate\": \"08.02.2019\"},{\"appid\": 1104690,\"ordate\": \"23.07.2019\"},{\"appid\": 1579920,\"ordate\": \"08.03.2022\"},{\"appid\": 1307760,\"ordate\": \"16.05.2020\"},{\"appid\": 305900,\"ordate\": \"03.02.2023\"},{\"appid\": 839330,\"ordate\": \"19.11.2021\"},{\"appid\": 1259440,\"ordate\": \"05.10.2021\"},{\"appid\": 1546280,\"ordate\": \"04.03.2021\"},{\"appid\": 1612570,\"ordate\": \"17.10.2023\"},{\"appid\": 1840140,\"ordate\": \"15.06.2023\"},{\"appid\": 1416180,\"ordate\": \"25.09.2020\"},{\"appid\": 2505430,\"ordate\": \"29.07.2023\"},{\"appid\": 1781960,\"ordate\": \"20.10.2022\"},{\"appid\": 1021680,\"ordate\": \"22.02.2019\"},{\"appid\": 2173680,\"ordate\": \"10.12.2022\"},{\"appid\": 721480,\"ordate\": \"19.10.2017\"},{\"appid\": 1163090,\"ordate\": \"11.04.2020\"},{\"appid\": 852220,\"ordate\": \"14.10.2020\"},{\"appid\": 2307890,\"ordate\": \"04.03.2023\"},{\"appid\": 544680,\"ordate\": \"07.12.2016\"},{\"appid\": 2408110,\"ordate\": \"08.06.2023\"},{\"appid\": 1978460,\"ordate\": \"25.10.2022\"},{\"appid\": 736340,\"ordate\": \"30.12.2017\"},{\"appid\": 680030,\"ordate\": \"24.09.2020\"},{\"appid\": 253190,\"ordate\": \"30.03.2015\"},{\"appid\": 2434620,\"ordate\": \"21.10.2023\"},{\"appid\": 1808460,\"ordate\": \"03.12.2021\"},{\"appid\": 977650,\"ordate\": \"22.10.2020\"},{\"appid\": 1769260,\"ordate\": \"05.11.2021\"},{\"appid\": 1295630,\"ordate\": \"15.02.2024\"},{\"appid\": 814550,\"ordate\": \"13.11.2020\"},{\"appid\": 572660,\"ordate\": \"27.12.2016\"},{\"appid\": 1811870,\"ordate\": \"11.12.2021\"},{\"appid\": 1198860,\"ordate\": \"07.12.2019\"},{\"appid\": 2599700,\"ordate\": \"23.10.2023\"},{\"appid\": 1686290,\"ordate\": \"28.05.2023\"},{\"appid\": 465240,\"ordate\": \"17.10.2016\"},{\"appid\": 1469690,\"ordate\": \"23.08.2021\"},{\"appid\": 878440,\"ordate\": \"12.08.2018\"},{\"appid\": 1674180,\"ordate\": \"18.08.2021\"},{\"appid\": 542030,\"ordate\": \"25.10.2016\"},{\"appid\": 1779760,\"ordate\": \"28.07.2023\"},{\"appid\": 2328710,\"ordate\": \"12.12.2023\"},{\"appid\": 563500,\"ordate\": \"16.08.2018\"},{\"appid\": 1203370,\"ordate\": \"19.02.2020\"},{\"appid\": 614260,\"ordate\": \"03.08.2017\"},{\"appid\": 386180,\"ordate\": \"24.08.2016\"},{\"appid\": 706840,\"ordate\": \"09.11.2017\"},{\"appid\": 594770,\"ordate\": \"06.08.2019\"},{\"appid\": 1927270,\"ordate\": \"23.04.2022\"},{\"appid\": 1926090,\"ordate\": \"18.07.2023\"},{\"appid\": 1147560,\"ordate\": \"19.02.2020\"},{\"appid\": 373880,\"ordate\": \"01.06.2015\"},{\"appid\": 1788390,\"ordate\": \"08.11.2021\"},{\"appid\": 282620,\"ordate\": \"30.07.2014\"},{\"appid\": 2415960,\"ordate\": \"18.07.2023\"},{\"appid\": 940870,\"ordate\": \"23.02.2019\"},{\"appid\": 384500,\"ordate\": \"10.07.2015\"},{\"appid\": 2547140,\"ordate\": \"08.09.2023\"},{\"appid\": 1832950,\"ordate\": \"11.10.2022\"},{\"appid\": 1561040,\"ordate\": \"25.05.2023\"},{\"appid\": 607720,\"ordate\": \"08.06.2017\"},{\"appid\": 1105590,\"ordate\": \"07.09.2021\"},{\"appid\": 1138080,\"ordate\": \"12.08.2019\"},{\"appid\": 1256480,\"ordate\": \"13.04.2020\"},{\"appid\": 1393660,\"ordate\": \"25.11.2020\"},{\"appid\": 2679860,\"ordate\": \"08.12.2023\"},{\"appid\": 490170,\"ordate\": \"21.06.2016\"},{\"appid\": 1099440,\"ordate\": \"24.10.2019\"},{\"appid\": 556860,\"ordate\": \"09.12.2016\"},{\"appid\": 1746520,\"ordate\": \"04.03.2022\"},{\"appid\": 1335500,\"ordate\": \"22.12.2020\"},{\"appid\": 1202410,\"ordate\": \"21.12.2020\"},{\"appid\": 1939940,\"ordate\": \"20.05.2022\"},{\"appid\": 1981570,\"ordate\": \"08.11.2022\"},{\"appid\": 1729410,\"ordate\": \"25.08.2022\"},{\"appid\": 1233040,\"ordate\": \"16.10.2021\"},{\"appid\": 732160,\"ordate\": \"07.03.2019\"},{\"appid\": 519860,\"ordate\": \"11.01.2018\"},{\"appid\": 2541590,\"ordate\": \"18.08.2023\"},{\"appid\": 417910,\"ordate\": \"18.01.2016\"},{\"appid\": 1003760,\"ordate\": \"27.04.2020\"},{\"appid\": 353630,\"ordate\": \"23.05.2015\"},{\"appid\": 505110,\"ordate\": \"03.10.2016\"},{\"appid\": 2765500,\"ordate\": \"07.02.2024\"},{\"appid\": 1167680,\"ordate\": \"22.04.2021\"},{\"appid\": 1974300,\"ordate\": \"27.07.2023\"},{\"appid\": 1029340,\"ordate\": \"27.03.2019\"},{\"appid\": 2248130,\"ordate\": \"12.12.2023\"},{\"appid\": 2220320,\"ordate\": \"17.12.2022\"},{\"appid\": 2121260,\"ordate\": \"09.12.2022\"},{\"appid\": 2530950,\"ordate\": \"26.02.2024\"},{\"appid\": 2071560,\"ordate\": \"18.07.2022\"},{\"appid\": 1646880,\"ordate\": \"25.06.2021\"},{\"appid\": 1096610,\"ordate\": \"19.08.2019\"},{\"appid\": 1835240,\"ordate\": \"03.04.2023\"},{\"appid\": 1698870,\"ordate\": \"08.04.2022\"},{\"appid\": 1855580,\"ordate\": \"28.10.2023\"},{\"appid\": 1141840,\"ordate\": \"13.12.2019\"},{\"appid\": 2078710,\"ordate\": \"20.10.2022\"},{\"appid\": 1968630,\"ordate\": \"27.03.2023\"},{\"appid\": 2488510,\"ordate\": \"23.10.2023\"},{\"appid\": 1844650,\"ordate\": \"07.01.2022\"},{\"appid\": 828350,\"ordate\": \"10.05.2018\"},{\"appid\": 2582540,\"ordate\": \"28.10.2023\"},{\"appid\": 1355200,\"ordate\": \"14.07.2023\"},{\"appid\": 1202790,\"ordate\": \"18.02.2020\"},{\"appid\": 1121590,\"ordate\": \"11.08.2019\"},{\"appid\": 2226750,\"ordate\": \"06.01.2023\"},{\"appid\": 270450,\"ordate\": \"28.03.2014\"},{\"appid\": 1688600,\"ordate\": \"20.04.2022\"},{\"appid\": 2583300,\"ordate\": \"22.09.2023\"},{\"appid\": 404200,\"ordate\": \"17.03.2017\"},{\"appid\": 2025660,\"ordate\": \"13.09.2022\"},{\"appid\": 409460,\"ordate\": \"04.12.2015\"},{\"appid\": 1264050,\"ordate\": \"26.03.2021\"},{\"appid\": 1803400,\"ordate\": \"03.11.2022\"},{\"appid\": 1090440,\"ordate\": \"12.12.2019\"},{\"appid\": 378070,\"ordate\": \"13.08.2015\"},{\"appid\": 391140,\"ordate\": \"01.03.2017\"},{\"appid\": 1120810,\"ordate\": \"14.08.2020\"},{\"appid\": 1191930,\"ordate\": \"15.01.2020\"},{\"appid\": 789760,\"ordate\": \"12.07.2018\"},{\"appid\": 1708570,\"ordate\": \"07.10.2021\"},{\"appid\": 1827640,\"ordate\": \"20.04.2023\"},{\"appid\": 1520710,\"ordate\": \"26.03.2021\"},{\"appid\": 1421200,\"ordate\": \"04.12.2020\"},{\"appid\": 931880,\"ordate\": \"31.12.2018\"},{\"appid\": 1707540,\"ordate\": \"19.08.2021\"},{\"appid\": 422510,\"ordate\": \"22.01.2019\"},{\"appid\": 1561350,\"ordate\": \"21.04.2021\"},{\"appid\": 2173480,\"ordate\": \"04.11.2022\"},{\"appid\": 844760,\"ordate\": \"14.05.2018\"},{\"appid\": 1078200,\"ordate\": \"07.10.2019\"},{\"appid\": 2057770,\"ordate\": \"29.11.2022\"},{\"appid\": 650810,\"ordate\": \"26.08.2017\"},{\"appid\": 2792830,\"ordate\": \"14.02.2024\"},{\"appid\": 1681840,\"ordate\": \"20.06.2022\"},{\"appid\": 643970,\"ordate\": \"18.10.2017\"},{\"appid\": 1786350,\"ordate\": \"31.10.2021\"},{\"appid\": 419130,\"ordate\": \"03.10.2018\"},{\"appid\": 626550,\"ordate\": \"08.11.2017\"},{\"appid\": 943710,\"ordate\": \"12.12.2018\"},{\"appid\": 2176020,\"ordate\": \"17.12.2022\"},{\"appid\": 253610,\"ordate\": \"11.11.2013\"},{\"appid\": 517460,\"ordate\": \"11.09.2016\"},{\"appid\": 768200,\"ordate\": \"29.03.2023\"},{\"appid\": 1313580,\"ordate\": \"31.07.2020\"},{\"appid\": 1062810,\"ordate\": \"22.05.2023\"},{\"appid\": 448320,\"ordate\": \"20.05.2016\"},{\"appid\": 1265690,\"ordate\": \"14.04.2020\"},{\"appid\": 1771180,\"ordate\": \"09.09.2022\"},{\"appid\": 1797300,\"ordate\": \"26.11.2021\"},{\"appid\": 1280270,\"ordate\": \"13.05.2020\"},{\"appid\": 1105740,\"ordate\": \"27.03.2020\"},{\"appid\": 1244800,\"ordate\": \"21.04.2022\"},{\"appid\": 814300,\"ordate\": \"06.04.2018\"},{\"appid\": 868260,\"ordate\": \"15.02.2019\"},{\"appid\": 1063710,\"ordate\": \"16.05.2019\"},{\"appid\": 319050,\"ordate\": \"09.12.2014\"},{\"appid\": 783430,\"ordate\": \"31.10.2019\"},{\"appid\": 1126890,\"ordate\": \"26.03.2020\"},{\"appid\": 1713810,\"ordate\": \"13.04.2022\"},{\"appid\": 816430,\"ordate\": \"15.10.2019\"},{\"appid\": 249050,\"ordate\": \"11.12.2013\"},{\"appid\": 1164480,\"ordate\": \"10.12.2019\"},{\"appid\": 2654120,\"ordate\": \"16.12.2023\"},{\"appid\": 932530,\"ordate\": \"01.03.2021\"},{\"appid\": 1797500,\"ordate\": \"02.08.2023\"},{\"appid\": 1026880,\"ordate\": \"27.02.2019\"},{\"appid\": 2768920,\"ordate\": \"03.02.2024\"},{\"appid\": 501310,\"ordate\": \"05.08.2016\"},{\"appid\": 1458540,\"ordate\": \"30.04.2021\"},{\"appid\": 1184010,\"ordate\": \"16.03.2020\"},{\"appid\": 2294950,\"ordate\": \"17.07.2023\"},{\"appid\": 1371610,\"ordate\": \"03.08.2020\"},{\"appid\": 2061720,\"ordate\": \"10.09.2022\"},{\"appid\": 2079600,\"ordate\": \"31.10.2022\"},{\"appid\": 2191310,\"ordate\": \"13.12.2022\"},{\"appid\": 1371600,\"ordate\": \"03.08.2020\"},{\"appid\": 1514850,\"ordate\": \"29.03.2024\"},{\"appid\": 1081070,\"ordate\": \"19.04.2020\"},{\"appid\": 2026000,\"ordate\": \"30.05.2023\"},{\"appid\": 2063580,\"ordate\": \"28.10.2022\"},{\"appid\": 2560520,\"ordate\": \"15.09.2023\"},{\"appid\": 661920,\"ordate\": \"18.10.2017\"},{\"appid\": 320340,\"ordate\": \"17.09.2014\"},{\"appid\": 1865890,\"ordate\": \"10.05.2022\"},{\"appid\": 1933290,\"ordate\": \"28.05.2022\"},{\"appid\": 1791620,\"ordate\": \"30.11.2021\"},{\"appid\": 1516610,\"ordate\": \"17.02.2021\"},{\"appid\": 1932960,\"ordate\": \"18.04.2023\"},{\"appid\": 570600,\"ordate\": \"20.12.2016\"},{\"appid\": 360170,\"ordate\": \"29.10.2015\"},{\"appid\": 2388600,\"ordate\": \"29.04.2023\"},{\"appid\": 2559050,\"ordate\": \"03.10.2023\"},{\"appid\": 698640,\"ordate\": \"15.11.2017\"},{\"appid\": 1074070,\"ordate\": \"30.09.2020\"},{\"appid\": 2418550,\"ordate\": \"23.07.2023\"},{\"appid\": 2764050,\"ordate\": \"28.02.2024\"},{\"appid\": 990920,\"ordate\": \"29.04.2022\"},{\"appid\": 408960,\"ordate\": \"14.10.2015\"},{\"appid\": 976680,\"ordate\": \"20.05.2020\"},{\"appid\": 1595510,\"ordate\": \"01.09.2021\"},{\"appid\": 2069960,\"ordate\": \"05.08.2022\"},{\"appid\": 494850,\"ordate\": \"20.07.2016\"},{\"appid\": 2570900,\"ordate\": \"05.01.2024\"},{\"appid\": 2492600,\"ordate\": \"27.10.2023\"},{\"appid\": 619140,\"ordate\": \"09.04.2017\"},{\"appid\": 1017670,\"ordate\": \"14.02.2019\"},{\"appid\": 744900,\"ordate\": \"05.09.2018\"},{\"appid\": 374460,\"ordate\": \"29.09.2016\"},{\"appid\": 1751350,\"ordate\": \"09.11.2023\"},{\"appid\": 2669390,\"ordate\": \"08.02.2024\"},{\"appid\": 1927250,\"ordate\": \"08.04.2022\"},{\"appid\": 2058570,\"ordate\": \"25.03.2024\"},{\"appid\": 241240,\"ordate\": \"29.08.2013\"},{\"appid\": 827420,\"ordate\": \"07.04.2018\"},{\"appid\": 2281410,\"ordate\": \"31.03.2023\"},{\"appid\": 845690,\"ordate\": \"20.12.2018\"},{\"appid\": 673190,\"ordate\": \"04.09.2017\"},{\"appid\": 1203600,\"ordate\": \"15.04.2020\"},{\"appid\": 839930,\"ordate\": \"28.04.2018\"},{\"appid\": 1159680,\"ordate\": \"11.04.2020\"},{\"appid\": 1478160,\"ordate\": \"05.08.2022\"},{\"appid\": 1276070,\"ordate\": \"09.10.2021\"},{\"appid\": 553470,\"ordate\": \"15.11.2016\"},{\"appid\": 476670,\"ordate\": \"20.11.2016\"},{\"appid\": 2593850,\"ordate\": \"15.12.2023\"},{\"appid\": 1688350,\"ordate\": \"05.09.2023\"},{\"appid\": 1485080,\"ordate\": \"18.05.2021\"},{\"appid\": 1732920,\"ordate\": \"14.11.2022\"},{\"appid\": 1892900,\"ordate\": \"03.05.2023\"},{\"appid\": 2582100,\"ordate\": \"27.09.2023\"},{\"appid\": 699770,\"ordate\": \"12.12.2017\"},{\"appid\": 2114380,\"ordate\": \"22.09.2023\"},{\"appid\": 812040,\"ordate\": \"09.10.2018\"},{\"appid\": 2363790,\"ordate\": \"21.07.2023\"},{\"appid\": 1389360,\"ordate\": \"10.08.2021\"},{\"appid\": 803800,\"ordate\": \"20.01.2019\"},{\"appid\": 575090,\"ordate\": \"02.02.2017\"},{\"appid\": 758250,\"ordate\": \"04.12.2018\"},{\"appid\": 348030,\"ordate\": \"27.05.2015\"},{\"appid\": 1063540,\"ordate\": \"05.12.2022\"},{\"appid\": 1049910,\"ordate\": \"13.04.2019\"},{\"appid\": 574140,\"ordate\": \"31.03.2017\"},{\"appid\": 906790,\"ordate\": \"30.05.2019\"},{\"appid\": 869400,\"ordate\": \"06.10.2022\"},{\"appid\": 1729290,\"ordate\": \"27.12.2021\"},{\"appid\": 1078490,\"ordate\": \"18.07.2019\"},{\"appid\": 2358770,\"ordate\": \"17.08.2023\"},{\"appid\": 621060,\"ordate\": \"27.03.2018\"},{\"appid\": 1903530,\"ordate\": \"15.03.2022\"},{\"appid\": 551700,\"ordate\": \"31.07.2017\"},{\"appid\": 552920,\"ordate\": \"25.04.2017\"},{\"appid\": 366620,\"ordate\": \"04.08.2015\"},{\"appid\": 511250,\"ordate\": \"21.09.2016\"},{\"appid\": 2244660,\"ordate\": \"15.02.2023\"},{\"appid\": 1564450,\"ordate\": \"12.04.2021\"},{\"appid\": 762030,\"ordate\": \"28.07.2018\"},{\"appid\": 704470,\"ordate\": \"06.01.2018\"},{\"appid\": 2220570,\"ordate\": \"26.09.2023\"},{\"appid\": 1346130,\"ordate\": \"28.10.2020\"},{\"appid\": 1997040,\"ordate\": \"18.10.2022\"},{\"appid\": 1772910,\"ordate\": \"11.08.2022\"},{\"appid\": 285820,\"ordate\": \"08.07.2014\"},{\"appid\": 957570,\"ordate\": \"08.11.2018\"},{\"appid\": 1938380,\"ordate\": \"11.04.2022\"},{\"appid\": 400080,\"ordate\": \"25.04.2019\"},{\"appid\": 837350,\"ordate\": \"21.10.2022\"},{\"appid\": 1794680,\"ordate\": \"17.12.2021\"},{\"appid\": 2371310,\"ordate\": \"15.09.2023\"},{\"appid\": 1497710,\"ordate\": \"27.08.2021\"},{\"appid\": 877870,\"ordate\": \"15.10.2020\"},{\"appid\": 2549200,\"ordate\": \"06.04.2024\"},{\"appid\": 693960,\"ordate\": \"28.07.2018\"},{\"appid\": 1419150,\"ordate\": \"17.12.2021\"},{\"appid\": 1908460,\"ordate\": \"03.03.2022\"},{\"appid\": 869750,\"ordate\": \"18.04.2019\"},{\"appid\": 1955440,\"ordate\": \"18.05.2022\"},{\"appid\": 2614800,\"ordate\": \"20.10.2023\"},{\"appid\": 519190,\"ordate\": \"20.07.2017\"},{\"appid\": 370940,\"ordate\": \"25.06.2015\"},{\"appid\": 1229010,\"ordate\": \"20.04.2020\"},{\"appid\": 2175790,\"ordate\": \"16.12.2022\"},{\"appid\": 691320,\"ordate\": \"27.10.2017\"},{\"appid\": 849140,\"ordate\": \"24.08.2020\"},{\"appid\": 2611550,\"ordate\": \"13.10.2023\"},{\"appid\": 1095750,\"ordate\": \"19.06.2019\"},{\"appid\": 746940,\"ordate\": \"16.02.2018\"},{\"appid\": 920680,\"ordate\": \"17.09.2018\"},{\"appid\": 759830,\"ordate\": \"06.02.2018\"},{\"appid\": 875320,\"ordate\": \"30.11.2018\"},{\"appid\": 1218110,\"ordate\": \"12.02.2020\"},{\"appid\": 2089340,\"ordate\": \"29.07.2022\"},{\"appid\": 1202400,\"ordate\": \"04.02.2020\"},{\"appid\": 1972410,\"ordate\": \"12.01.2023\"},{\"appid\": 1044900,\"ordate\": \"04.01.2020\"},{\"appid\": 2341540,\"ordate\": \"27.03.2023\"},{\"appid\": 2013240,\"ordate\": \"13.09.2023\"},{\"appid\": 2725260,\"ordate\": \"25.03.2024\"},{\"appid\": 1546930,\"ordate\": \"04.03.2021\"},{\"appid\": 2098390,\"ordate\": \"15.12.2022\"},{\"appid\": 346370,\"ordate\": \"03.02.2015\"},{\"appid\": 1004620,\"ordate\": \"13.04.2021\"},{\"appid\": 964240,\"ordate\": \"02.01.2019\"},{\"appid\": 1357670,\"ordate\": \"17.08.2020\"},{\"appid\": 1550010,\"ordate\": \"01.05.2023\"},{\"appid\": 1930920,\"ordate\": \"30.03.2022\"},{\"appid\": 383580,\"ordate\": \"07.07.2015\"},{\"appid\": 959130,\"ordate\": \"05.11.2018\"},{\"appid\": 375210,\"ordate\": \"23.06.2015\"},{\"appid\": 2423620,\"ordate\": \"28.07.2023\"},{\"appid\": 1252170,\"ordate\": \"27.04.2020\"},{\"appid\": 566420,\"ordate\": \"23.12.2016\"},{\"appid\": 279140,\"ordate\": \"04.04.2014\"},{\"appid\": 580040,\"ordate\": \"10.02.2017\"},{\"appid\": 981880,\"ordate\": \"12.09.2019\"},{\"appid\": 968970,\"ordate\": \"30.04.2020\"},{\"appid\": 1094710,\"ordate\": \"28.04.2020\"},{\"appid\": 1456230,\"ordate\": \"20.03.2021\"},{\"appid\": 1437750,\"ordate\": \"06.12.2021\"},{\"appid\": 1005400,\"ordate\": \"30.10.2020\"},{\"appid\": 1231460,\"ordate\": \"15.01.2021\"},{\"appid\": 960150,\"ordate\": \"27.02.2019\"},{\"appid\": 661200,\"ordate\": \"08.08.2019\"},{\"appid\": 833030,\"ordate\": \"04.05.2018\"},{\"appid\": 468330,\"ordate\": \"08.09.2017\"},{\"appid\": 1334000,\"ordate\": \"16.06.2020\"},{\"appid\": 1565060,\"ordate\": \"31.12.2021\"},{\"appid\": 1265650,\"ordate\": \"10.06.2021\"},{\"appid\": 1448610,\"ordate\": \"26.09.2021\"},{\"appid\": 1589490,\"ordate\": \"11.11.2021\"},{\"appid\": 1970440,\"ordate\": \"06.05.2022\"},{\"appid\": 1842050,\"ordate\": \"06.01.2022\"},{\"appid\": 840430,\"ordate\": \"21.02.2019\"},{\"appid\": 382050,\"ordate\": \"29.08.2015\"},{\"appid\": 686200,\"ordate\": \"17.11.2017\"},{\"appid\": 948880,\"ordate\": \"27.03.2023\"},{\"appid\": 2062660,\"ordate\": \"05.07.2022\"},{\"appid\": 683940,\"ordate\": \"10.06.2019\"},{\"appid\": 1234940,\"ordate\": \"31.03.2020\"},{\"appid\": 1972020,\"ordate\": \"15.05.2022\"},{\"appid\": 2696780,\"ordate\": \"30.03.2024\"},{\"appid\": 2191820,\"ordate\": \"15.11.2022\"},{\"appid\": 946990,\"ordate\": \"22.06.2020\"},{\"appid\": 1847250,\"ordate\": \"14.04.2022\"},{\"appid\": 330450,\"ordate\": \"24.12.2014\"},{\"appid\": 621880,\"ordate\": \"17.08.2017\"},{\"appid\": 1144510,\"ordate\": \"25.09.2019\"},{\"appid\": 552110,\"ordate\": \"14.09.2017\"},{\"appid\": 619150,\"ordate\": \"28.03.2018\"},{\"appid\": 771810,\"ordate\": \"09.04.2018\"},{\"appid\": 2365860,\"ordate\": \"10.04.2023\"},{\"appid\": 1377030,\"ordate\": \"17.11.2020\"},{\"appid\": 377570,\"ordate\": \"08.06.2015\"},{\"appid\": 618670,\"ordate\": \"08.05.2017\"},{\"appid\": 980640,\"ordate\": \"31.03.2021\"},{\"appid\": 2189670,\"ordate\": \"29.08.2023\"},{\"appid\": 864610,\"ordate\": \"01.02.2019\"},{\"appid\": 1622640,\"ordate\": \"07.11.2021\"},{\"appid\": 1763290,\"ordate\": \"30.06.2022\"},{\"appid\": 929490,\"ordate\": \"24.11.2020\"},{\"appid\": 2318100,\"ordate\": \"30.04.2023\"},{\"appid\": 1774630,\"ordate\": \"11.10.2022\"},{\"appid\": 239840,\"ordate\": \"13.02.2014\"},{\"appid\": 394430,\"ordate\": \"16.02.2017\"},{\"appid\": 612470,\"ordate\": \"18.05.2017\"},{\"appid\": 476030,\"ordate\": \"16.06.2016\"},{\"appid\": 416180,\"ordate\": \"02.12.2015\"},{\"appid\": 1280940,\"ordate\": \"27.07.2020\"},{\"appid\": 2065000,\"ordate\": \"10.11.2022\"},{\"appid\": 684040,\"ordate\": \"24.08.2017\"},{\"appid\": 916180,\"ordate\": \"14.11.2019\"},{\"appid\": 783790,\"ordate\": \"13.02.2018\"},{\"appid\": 1007070,\"ordate\": \"24.05.2019\"},{\"appid\": 1141160,\"ordate\": \"15.04.2020\"},{\"appid\": 792940,\"ordate\": \"04.08.2018\"},{\"appid\": 1225250,\"ordate\": \"01.07.2020\"},{\"appid\": 493080,\"ordate\": \"20.01.2017\"},{\"appid\": 1304930,\"ordate\": \"18.05.2023\"},{\"appid\": 1767730,\"ordate\": \"18.10.2021\"},{\"appid\": 1924100,\"ordate\": \"30.03.2022\"},{\"appid\": 2489560,\"ordate\": \"03.11.2023\"},{\"appid\": 2284390,\"ordate\": \"01.03.2023\"},{\"appid\": 680860,\"ordate\": \"28.08.2017\"},{\"appid\": 873220,\"ordate\": \"16.06.2018\"},{\"appid\": 2228210,\"ordate\": \"30.03.2023\"},{\"appid\": 1035510,\"ordate\": \"21.02.2020\"},{\"appid\": 872220,\"ordate\": \"30.05.2019\"},{\"appid\": 1638390,\"ordate\": \"30.03.2022\"},{\"appid\": 2327780,\"ordate\": \"27.06.2023\"},{\"appid\": 2665150,\"ordate\": \"03.01.2024\"},{\"appid\": 492200,\"ordate\": \"21.06.2016\"},{\"appid\": 2848460,\"ordate\": \"19.04.2024\"},{\"appid\": 542400,\"ordate\": \"22.11.2016\"},{\"appid\": 2814950,\"ordate\": \"26.04.2024\"},{\"appid\": 981250,\"ordate\": \"28.01.2019\"},{\"appid\": 1772480,\"ordate\": \"19.12.2021\"},{\"appid\": 718010,\"ordate\": \"05.12.2017\"},{\"appid\": 556820,\"ordate\": \"30.11.2016\"},{\"appid\": 733300,\"ordate\": \"24.01.2018\"},{\"appid\": 446550,\"ordate\": \"09.10.2016\"},{\"appid\": 535410,\"ordate\": \"17.10.2016\"},{\"appid\": 1433900,\"ordate\": \"26.11.2020\"},{\"appid\": 837430,\"ordate\": \"13.12.2018\"},{\"appid\": 522210,\"ordate\": \"29.09.2016\"},{\"appid\": 1153930,\"ordate\": \"04.10.2019\"},{\"appid\": 1113770,\"ordate\": \"30.07.2019\"},{\"appid\": 2446700,\"ordate\": \"11.07.2023\"},{\"appid\": 2082420,\"ordate\": \"02.06.2023\"},{\"appid\": 2628680,\"ordate\": \"28.10.2023\"},{\"appid\": 2843050,\"ordate\": \"02.05.2024\"},{\"appid\": 1306770,\"ordate\": \"28.06.2023\"},{\"appid\": 803310,\"ordate\": \"19.03.2018\"},{\"appid\": 1984260,\"ordate\": \"03.08.2022\"},{\"appid\": 431810,\"ordate\": \"23.01.2016\"},{\"appid\": 1924010,\"ordate\": \"19.07.2022\"},{\"appid\": 871930,\"ordate\": \"09.08.2018\"},{\"appid\": 310850,\"ordate\": \"14.11.2014\"},{\"appid\": 1707650,\"ordate\": \"27.05.2022\"},{\"appid\": 1503580,\"ordate\": \"01.01.2021\"},{\"appid\": 1097960,\"ordate\": \"05.07.2019\"},{\"appid\": 2455070,\"ordate\": \"27.08.2023\"},{\"appid\": 520750,\"ordate\": \"15.12.2016\"},{\"appid\": 1454540,\"ordate\": \"17.11.2022\"},{\"appid\": 2226920,\"ordate\": \"21.12.2022\"},{\"appid\": 2330770,\"ordate\": \"06.05.2023\"},{\"appid\": 801890,\"ordate\": \"03.03.2018\"},{\"appid\": 2522270,\"ordate\": \"25.08.2023\"},{\"appid\": 1937540,\"ordate\": \"26.03.2024\"},{\"appid\": 1059740,\"ordate\": \"16.01.2021\"},{\"appid\": 690610,\"ordate\": \"28.09.2017\"},{\"appid\": 1124080,\"ordate\": \"22.04.2022\"},{\"appid\": 1077250,\"ordate\": \"21.06.2019\"},{\"appid\": 356870,\"ordate\": \"29.10.2015\"},{\"appid\": 2507400,\"ordate\": \"07.03.2024\"},{\"appid\": 2286450,\"ordate\": \"20.02.2023\"},{\"appid\": 2405270,\"ordate\": \"28.07.2023\"},{\"appid\": 1091110,\"ordate\": \"19.06.2019\"},{\"appid\": 1422280,\"ordate\": \"28.12.2020\"},{\"appid\": 1802930,\"ordate\": \"14.11.2021\"},{\"appid\": 1305640,\"ordate\": \"17.11.2022\"},{\"appid\": 2557510,\"ordate\": \"19.09.2023\"},{\"appid\": 1898420,\"ordate\": \"25.08.2022\"},{\"appid\": 1986010,\"ordate\": \"08.07.2022\"},{\"appid\": 1169690,\"ordate\": \"09.11.2020\"},{\"appid\": 1278190,\"ordate\": \"10.04.2020\"},{\"appid\": 2060240,\"ordate\": \"14.10.2022\"},{\"appid\": 1643820,\"ordate\": \"21.01.2022\"},{\"appid\": 547970,\"ordate\": \"03.01.2017\"},{\"appid\": 2516430,\"ordate\": \"06.11.2023\"},{\"appid\": 1593170,\"ordate\": \"23.06.2022\"},{\"appid\": 873470,\"ordate\": \"10.01.2019\"},{\"appid\": 2224020,\"ordate\": \"20.02.2023\"},{\"appid\": 1343750,\"ordate\": \"03.03.2021\"},{\"appid\": 1477050,\"ordate\": \"08.12.2020\"},{\"appid\": 2324380,\"ordate\": \"30.03.2023\"},{\"appid\": 1676130,\"ordate\": \"18.10.2022\"},{\"appid\": 1570330,\"ordate\": \"14.06.2022\"},{\"appid\": 1145360,\"ordate\": \"10.12.2019\"},{\"appid\": 1359730,\"ordate\": \"08.11.2023\"},{\"appid\": 1516560,\"ordate\": \"26.03.2021\"},{\"appid\": 1799290,\"ordate\": \"14.12.2021\"},{\"appid\": 425650,\"ordate\": \"19.01.2016\"},{\"appid\": 1305390,\"ordate\": \"21.07.2020\"},{\"appid\": 1265820,\"ordate\": \"24.02.2021\"},{\"appid\": 250560,\"ordate\": \"27.02.2014\"},{\"appid\": 1162430,\"ordate\": \"03.10.2019\"},{\"appid\": 2195690,\"ordate\": \"22.11.2022\"},{\"appid\": 558750,\"ordate\": \"15.05.2017\"},{\"appid\": 998950,\"ordate\": \"07.03.2019\"},{\"appid\": 240760,\"ordate\": \"13.12.2013\"},{\"appid\": 845050,\"ordate\": \"09.09.2019\"},{\"appid\": 344760,\"ordate\": \"11.03.2015\"},{\"appid\": 1298310,\"ordate\": \"15.10.2020\"},{\"appid\": 2164780,\"ordate\": \"13.10.2022\"},{\"appid\": 1228410,\"ordate\": \"27.02.2020\"},{\"appid\": 2070220,\"ordate\": \"14.11.2022\"},{\"appid\": 864680,\"ordate\": \"06.02.2020\"},{\"appid\": 1039870,\"ordate\": \"05.04.2019\"},{\"appid\": 1113240,\"ordate\": \"19.07.2019\"},{\"appid\": 1739880,\"ordate\": \"19.10.2021\"},{\"appid\": 246940,\"ordate\": \"07.12.2013\"},{\"appid\": 247080,\"ordate\": \"18.07.2014\"},{\"appid\": 1859490,\"ordate\": \"01.04.2022\"},{\"appid\": 1554010,\"ordate\": \"24.12.2022\"},{\"appid\": 2385800,\"ordate\": \"27.04.2023\"},{\"appid\": 1329350,\"ordate\": \"15.10.2020\"},{\"appid\": 698790,\"ordate\": \"15.12.2017\"},{\"appid\": 2225220,\"ordate\": \"03.03.2023\"},{\"appid\": 1297490,\"ordate\": \"16.11.2022\"},{\"appid\": 1323470,\"ordate\": \"13.05.2021\"},{\"appid\": 1418630,\"ordate\": \"22.04.2021\"},{\"appid\": 527430,\"ordate\": \"31.08.2017\"},{\"appid\": 1106340,\"ordate\": \"27.11.2020\"},{\"appid\": 2233150,\"ordate\": \"26.11.2023\"},{\"appid\": 335700,\"ordate\": \"23.10.2015\"},{\"appid\": 818780,\"ordate\": \"12.07.2018\"},{\"appid\": 264000,\"ordate\": \"24.07.2014\"},{\"appid\": 1619970,\"ordate\": \"18.06.2021\"},{\"appid\": 821490,\"ordate\": \"19.03.2020\"},{\"appid\": 1222000,\"ordate\": \"26.01.2020\"},{\"appid\": 1679290,\"ordate\": \"15.07.2022\"},{\"appid\": 1887930,\"ordate\": \"11.02.2022\"},{\"appid\": 1490330,\"ordate\": \"11.01.2021\"},{\"appid\": 502740,\"ordate\": \"23.08.2016\"},{\"appid\": 906660,\"ordate\": \"17.12.2018\"},{\"appid\": 1060980,\"ordate\": \"21.09.2019\"},{\"appid\": 635880,\"ordate\": \"23.06.2017\"},{\"appid\": 839300,\"ordate\": \"29.05.2018\"},{\"appid\": 408920,\"ordate\": \"09.10.2015\"},{\"appid\": 1102680,\"ordate\": \"21.08.2019\"},{\"appid\": 992250,\"ordate\": \"31.07.2019\"},{\"appid\": 1518680,\"ordate\": \"08.02.2021\"},{\"appid\": 1668170,\"ordate\": \"02.11.2021\"},{\"appid\": 1169740,\"ordate\": \"22.06.2020\"},{\"appid\": 1510070,\"ordate\": \"05.11.2022\"},{\"appid\": 919370,\"ordate\": \"20.11.2018\"},{\"appid\": 1054290,\"ordate\": \"29.04.2019\"},{\"appid\": 1988020,\"ordate\": \"13.06.2022\"},{\"appid\": 787840,\"ordate\": \"12.04.2018\"},{\"appid\": 381120,\"ordate\": \"20.08.2015\"},{\"appid\": 760510,\"ordate\": \"05.06.2018\"},{\"appid\": 1282610,\"ordate\": \"06.06.2020\"},{\"appid\": 1694430,\"ordate\": \"31.10.2021\"},{\"appid\": 411980,\"ordate\": \"19.03.2018\"},{\"appid\": 2598930,\"ordate\": \"20.11.2023\"},{\"appid\": 807120,\"ordate\": \"24.07.2019\"},{\"appid\": 779730,\"ordate\": \"09.02.2018\"},{\"appid\": 731620,\"ordate\": \"01.08.2019\"},{\"appid\": 1181790,\"ordate\": \"17.01.2020\"},{\"appid\": 596740,\"ordate\": \"28.12.2017\"},{\"appid\": 2519370,\"ordate\": \"27.08.2023\"},{\"appid\": 1225610,\"ordate\": \"02.03.2020\"},{\"appid\": 1492360,\"ordate\": \"04.11.2021\"},{\"appid\": 578080,\"ordate\": \"23.03.2017\"},{\"appid\": 318090,\"ordate\": \"23.10.2015\"},{\"appid\": 452410,\"ordate\": \"19.01.2018\"},{\"appid\": 468920,\"ordate\": \"30.11.2017\"},{\"appid\": 496460,\"ordate\": \"26.08.2016\"},{\"appid\": 512410,\"ordate\": \"09.09.2016\"},{\"appid\": 599080,\"ordate\": \"30.10.2018\"},{\"appid\": 959800,\"ordate\": \"10.05.2024\"},{\"appid\": 1851610,\"ordate\": \"16.03.2023\"},{\"appid\": 2300160,\"ordate\": \"25.05.2023\"},{\"appid\": 2395190,\"ordate\": \"19.05.2023\"},{\"appid\": 1011290,\"ordate\": \"29.08.2019\"},{\"appid\": 2052760,\"ordate\": \"06.03.2023\"},{\"appid\": 2017840,\"ordate\": \"06.01.2023\"},{\"appid\": 2067940,\"ordate\": \"12.05.2023\"},{\"appid\": 1022710,\"ordate\": \"23.05.2019\"},{\"appid\": 2620340,\"ordate\": \"25.10.2023\"},{\"appid\": 254320,\"ordate\": \"20.08.2015\"},{\"appid\": 906930,\"ordate\": \"01.06.2022\"},{\"appid\": 617480,\"ordate\": \"14.07.2017\"},{\"appid\": 2802070,\"ordate\": \"08.02.2024\"},{\"appid\": 917850,\"ordate\": \"20.10.2018\"},{\"appid\": 244590,\"ordate\": \"02.11.2013\"},{\"appid\": 1493160,\"ordate\": \"23.04.2021\"},{\"appid\": 2618170,\"ordate\": \"25.01.2024\"},{\"appid\": 1576370,\"ordate\": \"12.08.2021\"},{\"appid\": 1458690,\"ordate\": \"24.02.2021\"},{\"appid\": 2165620,\"ordate\": \"07.09.2023\"},{\"appid\": 500260,\"ordate\": \"18.05.2017\"},{\"appid\": 446000,\"ordate\": \"09.03.2016\"},{\"appid\": 1900720,\"ordate\": \"06.06.2022\"},{\"appid\": 966470,\"ordate\": \"23.10.2020\"},{\"appid\": 2815370,\"ordate\": \"15.04.2024\"},{\"appid\": 656030,\"ordate\": \"18.12.2017\"},{\"appid\": 1443600,\"ordate\": \"24.06.2021\"},{\"appid\": 2005790,\"ordate\": \"20.10.2022\"},{\"appid\": 2107130,\"ordate\": \"05.09.2022\"},{\"appid\": 2153390,\"ordate\": \"29.09.2022\"},{\"appid\": 2889870,\"ordate\": \"14.04.2024\"},{\"appid\": 431830,\"ordate\": \"18.03.2016\"},{\"appid\": 532120,\"ordate\": \"19.11.2016\"},{\"appid\": 1454650,\"ordate\": \"29.04.2021\"},{\"appid\": 2192570,\"ordate\": \"09.01.2023\"},{\"appid\": 1290170,\"ordate\": \"29.05.2020\"},{\"appid\": 1901810,\"ordate\": \"24.02.2023\"},{\"appid\": 920710,\"ordate\": \"07.02.2019\"},{\"appid\": 2272630,\"ordate\": \"20.10.2023\"},{\"appid\": 288860,\"ordate\": \"14.11.2016\"},{\"appid\": 612840,\"ordate\": \"21.04.2017\"},{\"appid\": 1066630,\"ordate\": \"17.09.2019\"},{\"appid\": 296870,\"ordate\": \"17.06.2014\"},{\"appid\": 1775770,\"ordate\": \"15.10.2021\"},{\"appid\": 1791910,\"ordate\": \"20.10.2023\"},{\"appid\": 835570,\"ordate\": \"11.07.2019\"},{\"appid\": 1000860,\"ordate\": \"22.01.2019\"},{\"appid\": 2392490,\"ordate\": \"04.05.2023\"},{\"appid\": 1603720,\"ordate\": \"19.02.2022\"},{\"appid\": 1942280,\"ordate\": \"27.09.2022\"},{\"appid\": 2139440,\"ordate\": \"09.01.2023\"},{\"appid\": 415270,\"ordate\": \"15.12.2015\"},{\"appid\": 2104270,\"ordate\": \"06.09.2022\"},{\"appid\": 411970,\"ordate\": \"20.03.2017\"},{\"appid\": 2095740,\"ordate\": \"12.08.2022\"},{\"appid\": 1976590,\"ordate\": \"21.06.2022\"},{\"appid\": 1649500,\"ordate\": \"03.10.2023\"},{\"appid\": 315680,\"ordate\": \"10.08.2014\"},{\"appid\": 1668690,\"ordate\": \"19.01.2022\"},{\"appid\": 2578880,\"ordate\": \"25.04.2024\"},{\"appid\": 411960,\"ordate\": \"21.03.2016\"},{\"appid\": 1079300,\"ordate\": \"21.03.2023\"},{\"appid\": 243970,\"ordate\": \"19.08.2014\"},{\"appid\": 1595410,\"ordate\": \"17.05.2021\"},{\"appid\": 340490,\"ordate\": \"30.04.2015\"},{\"appid\": 569720,\"ordate\": \"13.10.2017\"},{\"appid\": 2649780,\"ordate\": \"16.11.2023\"},{\"appid\": 1100990,\"ordate\": \"21.08.2019\"},{\"appid\": 796590,\"ordate\": \"24.10.2019\"},{\"appid\": 2695490,\"ordate\": \"25.04.2024\"},{\"appid\": 1137460,\"ordate\": \"19.02.2021\"},{\"appid\": 1289810,\"ordate\": \"12.03.2021\"},{\"appid\": 851930,\"ordate\": \"10.12.2018\"},{\"appid\": 356180,\"ordate\": \"28.08.2015\"},{\"appid\": 269650,\"ordate\": \"15.08.2014\"},{\"appid\": 648150,\"ordate\": \"25.04.2020\"},{\"appid\": 1264730,\"ordate\": \"14.08.2020\"},{\"appid\": 864970,\"ordate\": \"18.06.2018\"},{\"appid\": 2832560,\"ordate\": \"01.03.2024\"},{\"appid\": 2145720,\"ordate\": \"16.03.2023\"},{\"appid\": 765370,\"ordate\": \"08.04.2018\"},{\"appid\": 1275850,\"ordate\": \"16.04.2020\"},{\"appid\": 1763990,\"ordate\": \"03.12.2021\"},{\"appid\": 1269720,\"ordate\": \"28.06.2021\"},{\"appid\": 741430,\"ordate\": \"25.11.2017\"},{\"appid\": 2146720,\"ordate\": \"22.11.2022\"},{\"appid\": 798790,\"ordate\": \"01.03.2018\"},{\"appid\": 1627850,\"ordate\": \"14.05.2022\"},{\"appid\": 2516980,\"ordate\": \"28.02.2024\"},{\"appid\": 1335240,\"ordate\": \"20.09.2020\"},{\"appid\": 493790,\"ordate\": \"31.03.2017\"},{\"appid\": 1448820,\"ordate\": \"16.02.2023\"},{\"appid\": 2639100,\"ordate\": \"21.12.2023\"},{\"appid\": 1463180,\"ordate\": \"15.12.2020\"},{\"appid\": 840300,\"ordate\": \"19.05.2018\"},{\"appid\": 753370,\"ordate\": \"18.12.2017\"},{\"appid\": 1498600,\"ordate\": \"11.02.2021\"},{\"appid\": 1442040,\"ordate\": \"01.09.2021\"},{\"appid\": 2207490,\"ordate\": \"20.04.2023\"},{\"appid\": 1408680,\"ordate\": \"26.08.2021\"},{\"appid\": 313080,\"ordate\": \"15.09.2014\"},{\"appid\": 1040070,\"ordate\": \"30.07.2019\"},{\"appid\": 1187920,\"ordate\": \"03.09.2020\"},{\"appid\": 890310,\"ordate\": \"26.03.2019\"},{\"appid\": 418180,\"ordate\": \"05.12.2015\"},{\"appid\": 664750,\"ordate\": \"23.08.2017\"},{\"appid\": 1573700,\"ordate\": \"23.03.2021\"},{\"appid\": 1102740,\"ordate\": \"02.08.2019\"},{\"appid\": 1425580,\"ordate\": \"31.01.2021\"},{\"appid\": 553660,\"ordate\": \"20.07.2017\"},{\"appid\": 436230,\"ordate\": \"31.08.2016\"},{\"appid\": 335620,\"ordate\": \"14.11.2017\"},{\"appid\": 590910,\"ordate\": \"17.05.2017\"},{\"appid\": 434510,\"ordate\": \"26.09.2016\"},{\"appid\": 689270,\"ordate\": \"04.01.2018\"},{\"appid\": 527320,\"ordate\": \"12.05.2017\"},{\"appid\": 1073320,\"ordate\": \"06.11.2019\"},{\"appid\": 611260,\"ordate\": \"28.02.2019\"},{\"appid\": 297060,\"ordate\": \"21.05.2014\"},{\"appid\": 2483070,\"ordate\": \"14.07.2023\"},{\"appid\": 600460,\"ordate\": \"29.11.2017\"},{\"appid\": 2323810,\"ordate\": \"30.05.2023\"},{\"appid\": 1418020,\"ordate\": \"04.12.2020\"},{\"appid\": 388370,\"ordate\": \"25.10.2016\"},{\"appid\": 268870,\"ordate\": \"12.12.2014\"},{\"appid\": 805550,\"ordate\": \"12.09.2018\"},{\"appid\": 1704080,\"ordate\": \"20.09.2021\"},{\"appid\": 1409510,\"ordate\": \"25.09.2020\"},{\"appid\": 1978720,\"ordate\": \"12.05.2023\"},{\"appid\": 977500,\"ordate\": \"12.12.2018\"},{\"appid\": 1403020,\"ordate\": \"19.08.2021\"},{\"appid\": 1251210,\"ordate\": \"06.03.2021\"},{\"appid\": 1404870,\"ordate\": \"01.12.2020\"},{\"appid\": 622770,\"ordate\": \"01.06.2017\"},{\"appid\": 1805960,\"ordate\": \"18.11.2021\"},{\"appid\": 2735190,\"ordate\": \"20.01.2024\"},{\"appid\": 773530,\"ordate\": \"05.01.2018\"},{\"appid\": 1990260,\"ordate\": \"15.07.2022\"},{\"appid\": 1711610,\"ordate\": \"25.11.2022\"},{\"appid\": 1000030,\"ordate\": \"30.01.2020\"},{\"appid\": 689700,\"ordate\": \"13.01.2018\"},{\"appid\": 2553510,\"ordate\": \"04.09.2023\"},{\"appid\": 1028340,\"ordate\": \"29.03.2019\"},{\"appid\": 1810220,\"ordate\": \"30.11.2021\"},{\"appid\": 1037020,\"ordate\": \"06.02.2020\"},{\"appid\": 699170,\"ordate\": \"16.08.2018\"},{\"appid\": 1329600,\"ordate\": \"01.08.2020\"},{\"appid\": 468160,\"ordate\": \"15.09.2016\"},{\"appid\": 1898430,\"ordate\": \"28.09.2022\"},{\"appid\": 2653480,\"ordate\": \"09.11.2023\"},{\"appid\": 1716940,\"ordate\": \"20.11.2021\"},{\"appid\": 1395080,\"ordate\": \"08.09.2020\"},{\"appid\": 1660310,\"ordate\": \"20.07.2021\"},{\"appid\": 1003700,\"ordate\": \"08.02.2019\"},{\"appid\": 2591250,\"ordate\": \"09.10.2023\"},{\"appid\": 1012790,\"ordate\": \"06.11.2019\"},{\"appid\": 2304540,\"ordate\": \"14.08.2023\"},{\"appid\": 2421410,\"ordate\": \"10.05.2024\"},{\"appid\": 931650,\"ordate\": \"03.01.2019\"},{\"appid\": 2576960,\"ordate\": \"22.10.2023\"},{\"appid\": 876320,\"ordate\": \"23.09.2018\"},{\"appid\": 1492210,\"ordate\": \"16.02.2021\"},{\"appid\": 2667790,\"ordate\": \"29.11.2023\"},{\"appid\": 1435960,\"ordate\": \"15.03.2021\"},{\"appid\": 921710,\"ordate\": \"02.11.2018\"},{\"appid\": 1652490,\"ordate\": \"25.01.2022\"},{\"appid\": 2456160,\"ordate\": \"01.09.2023\"},{\"appid\": 1066130,\"ordate\": \"26.11.2019\"},{\"appid\": 396750,\"ordate\": \"14.09.2016\"},{\"appid\": 1091580,\"ordate\": \"03.09.2019\"},{\"appid\": 1054450,\"ordate\": \"25.09.2019\"},{\"appid\": 1036240,\"ordate\": \"18.01.2023\"},{\"appid\": 2496000,\"ordate\": \"28.07.2023\"},{\"appid\": 1466840,\"ordate\": \"21.12.2020\"},{\"appid\": 268200,\"ordate\": \"20.02.2014\"},{\"appid\": 374150,\"ordate\": \"23.11.2015\"},{\"appid\": 762630,\"ordate\": \"27.04.2018\"},{\"appid\": 1948980,\"ordate\": \"08.03.2023\"},{\"appid\": 1858860,\"ordate\": \"15.01.2022\"},{\"appid\": 2261570,\"ordate\": \"12.01.2023\"},{\"appid\": 2525190,\"ordate\": \"11.08.2023\"},{\"appid\": 383790,\"ordate\": \"22.02.2016\"},{\"appid\": 282590,\"ordate\": \"18.07.2014\"},{\"appid\": 2201070,\"ordate\": \"20.02.2023\"},{\"appid\": 1839190,\"ordate\": \"15.12.2022\"},{\"appid\": 611960,\"ordate\": \"15.06.2017\"},{\"appid\": 2050510,\"ordate\": \"16.12.2022\"},{\"appid\": 993250,\"ordate\": \"02.08.2019\"},{\"appid\": 1939350,\"ordate\": \"22.06.2022\"},{\"appid\": 2170160,\"ordate\": \"02.12.2022\"},{\"appid\": 1097240,\"ordate\": \"15.08.2019\"},{\"appid\": 1666170,\"ordate\": \"28.07.2021\"},{\"appid\": 439370,\"ordate\": \"25.08.2017\"},{\"appid\": 909570,\"ordate\": \"10.01.2019\"},{\"appid\": 1221990,\"ordate\": \"16.03.2020\"},{\"appid\": 1184320,\"ordate\": \"19.11.2019\"},{\"appid\": 1273270,\"ordate\": \"30.03.2020\"},{\"appid\": 1837750,\"ordate\": \"07.04.2022\"},{\"appid\": 1839540,\"ordate\": \"31.12.2021\"},{\"appid\": 1144020,\"ordate\": \"21.07.2020\"},{\"appid\": 2559270,\"ordate\": \"11.11.2023\"},{\"appid\": 1660580,\"ordate\": \"29.01.2022\"},{\"appid\": 1984610,\"ordate\": \"03.06.2022\"},{\"appid\": 1484250,\"ordate\": \"12.01.2021\"},{\"appid\": 301050,\"ordate\": \"17.06.2014\"},{\"appid\": 959520,\"ordate\": \"09.03.2019\"},{\"appid\": 1351070,\"ordate\": \"06.11.2020\"},{\"appid\": 2518960,\"ordate\": \"15.09.2023\"},{\"appid\": 1578440,\"ordate\": \"14.12.2023\"},{\"appid\": 1114070,\"ordate\": \"22.09.2020\"},{\"appid\": 2724990,\"ordate\": \"26.01.2024\"},{\"appid\": 301120,\"ordate\": \"26.03.2015\"},{\"appid\": 781630,\"ordate\": \"27.05.2018\"},{\"appid\": 2394940,\"ordate\": \"19.12.2023\"},{\"appid\": 1931990,\"ordate\": \"14.09.2023\"},{\"appid\": 1298380,\"ordate\": \"14.05.2020\"},{\"appid\": 326520,\"ordate\": \"13.11.2015\"},{\"appid\": 1628620,\"ordate\": \"19.10.2022\"},{\"appid\": 1565680,\"ordate\": \"24.06.2021\"},{\"appid\": 668610,\"ordate\": \"25.08.2017\"},{\"appid\": 1886440,\"ordate\": \"11.03.2022\"},{\"appid\": 1808620,\"ordate\": \"28.02.2022\"},{\"appid\": 960740,\"ordate\": \"02.05.2019\"},{\"appid\": 455710,\"ordate\": \"07.05.2016\"},{\"appid\": 1290100,\"ordate\": \"31.03.2021\"},{\"appid\": 1934080,\"ordate\": \"20.02.2023\"},{\"appid\": 1338220,\"ordate\": \"01.12.2021\"},{\"appid\": 397660,\"ordate\": \"18.06.2016\"},{\"appid\": 1632930,\"ordate\": \"05.11.2021\"},{\"appid\": 1556660,\"ordate\": \"30.07.2021\"},{\"appid\": 779410,\"ordate\": \"26.11.2018\"},{\"appid\": 1362270,\"ordate\": \"03.08.2020\"},{\"appid\": 1717090,\"ordate\": \"27.01.2024\"},{\"appid\": 416200,\"ordate\": \"29.11.2015\"},{\"appid\": 402560,\"ordate\": \"29.03.2016\"},{\"appid\": 1526180,\"ordate\": \"11.03.2021\"},{\"appid\": 406220,\"ordate\": \"29.10.2015\"},{\"appid\": 731300,\"ordate\": \"14.04.2020\"},{\"appid\": 286040,\"ordate\": \"15.04.2014\"},{\"appid\": 1653100,\"ordate\": \"21.07.2021\"},{\"appid\": 1619330,\"ordate\": \"16.06.2021\"},{\"appid\": 547860,\"ordate\": \"25.07.2018\"},{\"appid\": 1887010,\"ordate\": \"15.11.2022\"},{\"appid\": 608110,\"ordate\": \"30.08.2017\"},{\"appid\": 1973320,\"ordate\": \"24.09.2022\"},{\"appid\": 1023390,\"ordate\": \"05.07.2019\"},{\"appid\": 1125370,\"ordate\": \"24.09.2019\"},{\"appid\": 471220,\"ordate\": \"15.07.2016\"},{\"appid\": 571100,\"ordate\": \"21.05.2020\"},{\"appid\": 1425550,\"ordate\": \"19.11.2020\"},{\"appid\": 2610440,\"ordate\": \"26.03.2024\"},{\"appid\": 1175430,\"ordate\": \"16.10.2019\"},{\"appid\": 2340910,\"ordate\": \"30.03.2023\"},{\"appid\": 1812910,\"ordate\": \"30.08.2023\"},{\"appid\": 293240,\"ordate\": \"25.08.2014\"},{\"appid\": 383070,\"ordate\": \"31.07.2015\"},{\"appid\": 1911360,\"ordate\": \"13.04.2023\"},{\"appid\": 790750,\"ordate\": \"09.03.2018\"},{\"appid\": 1319320,\"ordate\": \"25.08.2020\"},{\"appid\": 727100,\"ordate\": \"14.12.2017\"},{\"appid\": 1928650,\"ordate\": \"16.06.2022\"},{\"appid\": 923570,\"ordate\": \"14.04.2020\"},{\"appid\": 1439010,\"ordate\": \"11.11.2020\"},{\"appid\": 1454550,\"ordate\": \"18.11.2020\"},{\"appid\": 2888580,\"ordate\": \"20.04.2024\"},{\"appid\": 903780,\"ordate\": \"26.03.2019\"},{\"appid\": 1984710,\"ordate\": \"10.06.2022\"},{\"appid\": 2901340,\"ordate\": \"31.05.2024\"},{\"appid\": 705380,\"ordate\": \"03.02.2018\"},{\"appid\": 563380,\"ordate\": \"23.12.2016\"},{\"appid\": 673620,\"ordate\": \"06.09.2017\"},{\"appid\": 2230740,\"ordate\": \"16.08.2023\"},{\"appid\": 1400630,\"ordate\": \"30.11.2021\"},{\"appid\": 1868140,\"ordate\": \"27.10.2022\"},{\"appid\": 1032700,\"ordate\": \"03.06.2022\"},{\"appid\": 605450,\"ordate\": \"01.02.2018\"},{\"appid\": 522740,\"ordate\": \"06.04.2017\"},{\"appid\": 1488670,\"ordate\": \"22.12.2020\"},{\"appid\": 1490460,\"ordate\": \"08.02.2021\"},{\"appid\": 363420,\"ordate\": \"31.07.2015\"},{\"appid\": 401250,\"ordate\": \"12.10.2016\"},{\"appid\": 627220,\"ordate\": \"10.11.2017\"},{\"appid\": 1071290,\"ordate\": \"29.08.2019\"},{\"appid\": 1788650,\"ordate\": \"15.11.2021\"},{\"appid\": 1020340,\"ordate\": \"07.03.2019\"},{\"appid\": 937090,\"ordate\": \"08.08.2020\"},{\"appid\": 2065870,\"ordate\": \"16.09.2023\"},{\"appid\": 1521070,\"ordate\": \"20.10.2022\"},{\"appid\": 613900,\"ordate\": \"28.06.2019\"},{\"appid\": 1448310,\"ordate\": \"16.03.2021\"},{\"appid\": 2613870,\"ordate\": \"06.06.2024\"},{\"appid\": 566980,\"ordate\": \"08.01.2017\"},{\"appid\": 2180330,\"ordate\": \"03.04.2023\"},{\"appid\": 1464320,\"ordate\": \"04.12.2020\"},{\"appid\": 798710,\"ordate\": \"29.09.2018\"},{\"appid\": 1918970,\"ordate\": \"20.04.2023\"},{\"appid\": 2193570,\"ordate\": \"01.12.2023\"},{\"appid\": 375230,\"ordate\": \"26.01.2016\"},{\"appid\": 1371500,\"ordate\": \"02.09.2021\"},{\"appid\": 930780,\"ordate\": \"25.09.2018\"},{\"appid\": 2060230,\"ordate\": \"02.03.2023\"},{\"appid\": 856670,\"ordate\": \"27.05.2018\"},{\"appid\": 1465640,\"ordate\": \"16.07.2021\"},{\"appid\": 1952540,\"ordate\": \"27.02.2023\"},{\"appid\": 502520,\"ordate\": \"16.11.2016\"},{\"appid\": 782250,\"ordate\": \"23.08.2022\"},{\"appid\": 1837550,\"ordate\": \"30.01.2023\"},{\"appid\": 263640,\"ordate\": \"29.10.2014\"},{\"appid\": 719520,\"ordate\": \"15.10.2019\"},{\"appid\": 977390,\"ordate\": \"20.02.2019\"},{\"appid\": 360510,\"ordate\": \"09.07.2015\"},{\"appid\": 879480,\"ordate\": \"30.07.2018\"},{\"appid\": 352370,\"ordate\": \"02.12.2015\"},{\"appid\": 1043150,\"ordate\": \"08.05.2019\"},{\"appid\": 569570,\"ordate\": \"17.03.2017\"},{\"appid\": 1122780,\"ordate\": \"23.01.2020\"},{\"appid\": 477730,\"ordate\": \"03.06.2016\"},{\"appid\": 1995870,\"ordate\": \"30.06.2022\"},{\"appid\": 951430,\"ordate\": \"16.07.2020\"},{\"appid\": 1163660,\"ordate\": \"04.02.2020\"},{\"appid\": 1481600,\"ordate\": \"27.10.2021\"},{\"appid\": 464100,\"ordate\": \"21.07.2016\"},{\"appid\": 1805360,\"ordate\": \"28.04.2022\"},{\"appid\": 2097100,\"ordate\": \"11.08.2022\"},{\"appid\": 298630,\"ordate\": \"20.06.2014\"},{\"appid\": 1583780,\"ordate\": \"09.04.2021\"},{\"appid\": 273500,\"ordate\": \"02.07.2014\"},{\"appid\": 485830,\"ordate\": \"17.06.2016\"},{\"appid\": 1690650,\"ordate\": \"12.03.2022\"},{\"appid\": 252750,\"ordate\": \"12.11.2013\"},{\"appid\": 500790,\"ordate\": \"21.07.2016\"},{\"appid\": 657090,\"ordate\": \"07.06.2018\"},{\"appid\": 2540840,\"ordate\": \"12.01.2024\"},{\"appid\": 356070,\"ordate\": \"23.04.2015\"},{\"appid\": 1411380,\"ordate\": \"28.04.2022\"},{\"appid\": 447820,\"ordate\": \"28.07.2016\"},{\"appid\": 967440,\"ordate\": \"07.11.2018\"},{\"appid\": 985930,\"ordate\": \"08.02.2019\"},{\"appid\": 1403080,\"ordate\": \"21.12.2020\"},{\"appid\": 1579020,\"ordate\": \"26.05.2022\"},{\"appid\": 1285040,\"ordate\": \"25.01.2021\"},{\"appid\": 1597290,\"ordate\": \"21.10.2021\"},{\"appid\": 1772180,\"ordate\": \"20.10.2021\"},{\"appid\": 1060770,\"ordate\": \"25.04.2019\"},{\"appid\": 1934330,\"ordate\": \"25.05.2022\"},{\"appid\": 602160,\"ordate\": \"30.03.2017\"},{\"appid\": 282050,\"ordate\": \"05.03.2015\"},{\"appid\": 1040630,\"ordate\": \"22.08.2019\"},{\"appid\": 2089140,\"ordate\": \"15.05.2023\"},{\"appid\": 1001980,\"ordate\": \"18.01.2019\"},{\"appid\": 2409100,\"ordate\": \"05.03.2024\"},{\"appid\": 839420,\"ordate\": \"29.07.2018\"},{\"appid\": 983160,\"ordate\": \"10.03.2020\"},{\"appid\": 521100,\"ordate\": \"07.09.2016\"},{\"appid\": 1603600,\"ordate\": \"25.08.2021\"},{\"appid\": 1271090,\"ordate\": \"04.04.2020\"},{\"appid\": 1344900,\"ordate\": \"03.07.2020\"},{\"appid\": 1565210,\"ordate\": \"24.03.2023\"},{\"appid\": 1562230,\"ordate\": \"09.07.2021\"},{\"appid\": 500110,\"ordate\": \"05.09.2016\"},{\"appid\": 1950580,\"ordate\": \"18.02.2023\"},{\"appid\": 508300,\"ordate\": \"12.12.2016\"},{\"appid\": 801220,\"ordate\": \"01.06.2019\"},{\"appid\": 1278210,\"ordate\": \"16.04.2020\"},{\"appid\": 1490060,\"ordate\": \"06.01.2021\"},{\"appid\": 1526490,\"ordate\": \"25.02.2021\"},{\"appid\": 2786980,\"ordate\": \"15.06.2024\"},{\"appid\": 1745380,\"ordate\": \"30.09.2021\"},{\"appid\": 1106350,\"ordate\": \"10.07.2019\"},{\"appid\": 981710,\"ordate\": \"14.12.2018\"},{\"appid\": 656400,\"ordate\": \"15.07.2017\"},{\"appid\": 2510760,\"ordate\": \"15.03.2024\"},{\"appid\": 328220,\"ordate\": \"17.04.2015\"},{\"appid\": 2731900,\"ordate\": \"30.01.2024\"},{\"appid\": 2099670,\"ordate\": \"22.01.2024\"},{\"appid\": 1580440,\"ordate\": \"26.05.2021\"},{\"appid\": 618570,\"ordate\": \"11.08.2017\"},{\"appid\": 819650,\"ordate\": \"24.03.2018\"},{\"appid\": 2205510,\"ordate\": \"01.12.2022\"},{\"appid\": 1806610,\"ordate\": \"17.11.2021\"},{\"appid\": 2170680,\"ordate\": \"06.01.2023\"},{\"appid\": 1293540,\"ordate\": \"07.01.2022\"},{\"appid\": 1458390,\"ordate\": \"17.11.2020\"},{\"appid\": 2050980,\"ordate\": \"19.05.2023\"},{\"appid\": 494050,\"ordate\": \"30.03.2019\"},{\"appid\": 2555780,\"ordate\": \"14.10.2023\"},{\"appid\": 1870930,\"ordate\": \"14.02.2024\"},{\"appid\": 958050,\"ordate\": \"19.03.2019\"},{\"appid\": 2375730,\"ordate\": \"04.10.2023\"},{\"appid\": 993690,\"ordate\": \"24.01.2019\"},{\"appid\": 931780,\"ordate\": \"03.04.2019\"},{\"appid\": 2631520,\"ordate\": \"20.10.2023\"},{\"appid\": 609010,\"ordate\": \"23.05.2017\"},{\"appid\": 511800,\"ordate\": \"29.08.2016\"},{\"appid\": 555600,\"ordate\": \"04.04.2017\"},{\"appid\": 2119580,\"ordate\": \"03.08.2023\"},{\"appid\": 614950,\"ordate\": \"01.06.2017\"},{\"appid\": 429350,\"ordate\": \"30.03.2016\"},{\"appid\": 348460,\"ordate\": \"09.07.2015\"},{\"appid\": 760160,\"ordate\": \"07.09.2021\"},{\"appid\": 1619570,\"ordate\": \"28.03.2023\"},{\"appid\": 2378150,\"ordate\": \"12.07.2023\"},{\"appid\": 673950,\"ordate\": \"22.02.2018\"},{\"appid\": 355980,\"ordate\": \"18.03.2015\"},{\"appid\": 1491790,\"ordate\": \"28.01.2021\"},{\"appid\": 862650,\"ordate\": \"22.06.2018\"},{\"appid\": 1593160,\"ordate\": \"31.03.2023\"},{\"appid\": 470040,\"ordate\": \"19.08.2016\"},{\"appid\": 1928350,\"ordate\": \"20.03.2022\"},{\"appid\": 1520420,\"ordate\": \"26.05.2023\"},{\"appid\": 2141690,\"ordate\": \"20.09.2022\"},{\"appid\": 1488250,\"ordate\": \"05.02.2021\"},{\"appid\": 455310,\"ordate\": \"13.12.2018\"},{\"appid\": 2172750,\"ordate\": \"25.08.2023\"},{\"appid\": 2457350,\"ordate\": \"07.07.2023\"},{\"appid\": 1315610,\"ordate\": \"22.09.2021\"},{\"appid\": 860270,\"ordate\": \"02.11.2018\"},{\"appid\": 1367980,\"ordate\": \"17.09.2020\"},{\"appid\": 2067850,\"ordate\": \"27.09.2022\"},{\"appid\": 1872920,\"ordate\": \"05.02.2022\"},{\"appid\": 1968840,\"ordate\": \"28.01.2023\"},{\"appid\": 777470,\"ordate\": \"29.10.2022\"},{\"appid\": 2197930,\"ordate\": \"05.04.2023\"},{\"appid\": 2146430,\"ordate\": \"02.12.2023\"},{\"appid\": 1603800,\"ordate\": \"07.12.2021\"},{\"appid\": 2558200,\"ordate\": \"12.01.2024\"},{\"appid\": 942250,\"ordate\": \"09.01.2019\"},{\"appid\": 1028840,\"ordate\": \"26.09.2019\"},{\"appid\": 1046300,\"ordate\": \"28.08.2019\"},{\"appid\": 675640,\"ordate\": \"01.04.2018\"},{\"appid\": 436530,\"ordate\": \"07.04.2016\"},{\"appid\": 2819970,\"ordate\": \"12.04.2024\"},{\"appid\": 2340870,\"ordate\": \"28.06.2024\"},{\"appid\": 1398300,\"ordate\": \"29.10.2022\"},{\"appid\": 945490,\"ordate\": \"11.02.2019\"},{\"appid\": 1915450,\"ordate\": \"10.03.2022\"},{\"appid\": 2350090,\"ordate\": \"22.04.2023\"},{\"appid\": 388840,\"ordate\": \"08.11.2015\"},{\"appid\": 1485100,\"ordate\": \"18.12.2020\"},{\"appid\": 1078920,\"ordate\": \"11.06.2020\"},{\"appid\": 1477950,\"ordate\": \"29.07.2021\"},{\"appid\": 2509050,\"ordate\": \"07.01.2024\"},{\"appid\": 597230,\"ordate\": \"01.06.2017\"},{\"appid\": 301840,\"ordate\": \"18.09.2017\"},{\"appid\": 1093690,\"ordate\": \"13.06.2019\"},{\"appid\": 922920,\"ordate\": \"03.09.2018\"},{\"appid\": 739820,\"ordate\": \"29.03.2020\"},{\"appid\": 1822120,\"ordate\": \"22.12.2022\"},{\"appid\": 2780140,\"ordate\": \"20.06.2024\"},{\"appid\": 1245080,\"ordate\": \"29.08.2020\"},{\"appid\": 809500,\"ordate\": \"17.03.2018\"},{\"appid\": 846130,\"ordate\": \"30.07.2018\"},{\"appid\": 1250220,\"ordate\": \"19.03.2020\"},{\"appid\": 1776920,\"ordate\": \"19.10.2021\"},{\"appid\": 1911590,\"ordate\": \"07.03.2022\"},{\"appid\": 1493730,\"ordate\": \"19.11.2021\"},{\"appid\": 2608120,\"ordate\": \"08.01.2024\"},{\"appid\": 2484270,\"ordate\": \"15.03.2024\"},{\"appid\": 529630,\"ordate\": \"12.10.2016\"},{\"appid\": 1723390,\"ordate\": \"01.12.2021\"},{\"appid\": 2517190,\"ordate\": \"16.12.2023\"},{\"appid\": 278810,\"ordate\": \"30.07.2014\"},{\"appid\": 1415470,\"ordate\": \"02.11.2020\"},{\"appid\": 314050,\"ordate\": \"21.10.2014\"},{\"appid\": 1735930,\"ordate\": \"15.09.2021\"},{\"appid\": 1760330,\"ordate\": \"08.11.2023\"},{\"appid\": 686770,\"ordate\": \"29.04.2020\"},{\"appid\": 1391570,\"ordate\": \"12.12.2020\"},{\"appid\": 977340,\"ordate\": \"21.11.2018\"},{\"appid\": 1934930,\"ordate\": \"24.08.2022\"},{\"appid\": 2480930,\"ordate\": \"19.07.2023\"},{\"appid\": 280320,\"ordate\": \"23.04.2014\"},{\"appid\": 2071430,\"ordate\": \"24.01.2024\"},{\"appid\": 771680,\"ordate\": \"16.01.2018\"},{\"appid\": 2759640,\"ordate\": \"02.02.2024\"},{\"appid\": 1802880,\"ordate\": \"09.04.2024\"},{\"appid\": 462240,\"ordate\": \"03.05.2017\"},{\"appid\": 266510,\"ordate\": \"07.07.2014\"},{\"appid\": 1488810,\"ordate\": \"27.01.2022\"},{\"appid\": 1664810,\"ordate\": \"18.07.2023\"},{\"appid\": 2196050,\"ordate\": \"13.12.2022\"},{\"appid\": 2390840,\"ordate\": \"25.05.2023\"},{\"appid\": 2508890,\"ordate\": \"24.12.2023\"},{\"appid\": 595770,\"ordate\": \"24.11.2017\"},{\"appid\": 1416230,\"ordate\": \"06.10.2020\"},{\"appid\": 1538640,\"ordate\": \"30.11.2021\"},{\"appid\": 2647060,\"ordate\": \"25.01.2024\"},{\"appid\": 356040,\"ordate\": \"04.08.2015\"},{\"appid\": 1773330,\"ordate\": \"02.12.2021\"},{\"appid\": 1952370,\"ordate\": \"14.06.2023\"},{\"appid\": 392110,\"ordate\": \"06.10.2016\"},{\"appid\": 263020,\"ordate\": \"17.02.2014\"},{\"appid\": 316430,\"ordate\": \"10.12.2014\"},{\"appid\": 1040230,\"ordate\": \"17.06.2020\"},{\"appid\": 352950,\"ordate\": \"23.07.2015\"},{\"appid\": 310560,\"ordate\": \"27.04.2015\"},{\"appid\": 900270,\"ordate\": \"23.10.2018\"},{\"appid\": 2027600,\"ordate\": \"24.06.2022\"},{\"appid\": 1367300,\"ordate\": \"07.06.2021\"},{\"appid\": 1607130,\"ordate\": \"06.08.2021\"},{\"appid\": 1191580,\"ordate\": \"29.11.2019\"},{\"appid\": 939100,\"ordate\": \"12.02.2020\"},{\"appid\": 569420,\"ordate\": \"28.01.2017\"},{\"appid\": 688120,\"ordate\": \"24.07.2020\"},{\"appid\": 400230,\"ordate\": \"06.01.2016\"},{\"appid\": 1658480,\"ordate\": \"25.11.2021\"},{\"appid\": 1888860,\"ordate\": \"12.05.2023\"},{\"appid\": 562230,\"ordate\": \"19.07.2017\"},{\"appid\": 1961770,\"ordate\": \"30.06.2022\"},{\"appid\": 1918040,\"ordate\": \"27.10.2022\"},{\"appid\": 856990,\"ordate\": \"16.01.2020\"},{\"appid\": 2147890,\"ordate\": \"10.11.2022\"},{\"appid\": 1507310,\"ordate\": \"26.01.2021\"},{\"appid\": 2159530,\"ordate\": \"28.06.2023\"},{\"appid\": 1023790,\"ordate\": \"23.12.2020\"},{\"appid\": 586950,\"ordate\": \"28.07.2017\"},{\"appid\": 919220,\"ordate\": \"25.01.2019\"},{\"appid\": 930500,\"ordate\": \"02.02.2019\"},{\"appid\": 2647510,\"ordate\": \"20.06.2024\"},{\"appid\": 491660,\"ordate\": \"11.01.2017\"},{\"appid\": 1020910,\"ordate\": \"11.12.2022\"},{\"appid\": 2347910,\"ordate\": \"03.05.2024\"},{\"appid\": 1679220,\"ordate\": \"15.12.2022\"},{\"appid\": 871420,\"ordate\": \"23.06.2018\"},{\"appid\": 290340,\"ordate\": \"22.01.2015\"},{\"appid\": 2451010,\"ordate\": \"16.08.2023\"},{\"appid\": 1575920,\"ordate\": \"22.09.2021\"},{\"appid\": 814590,\"ordate\": \"16.04.2018\"},{\"appid\": 2604480,\"ordate\": \"20.06.2024\"},{\"appid\": 1664580,\"ordate\": \"26.01.2022\"},{\"appid\": 2102400,\"ordate\": \"31.08.2022\"},{\"appid\": 499400,\"ordate\": \"12.07.2016\"},{\"appid\": 1512480,\"ordate\": \"29.04.2022\"},{\"appid\": 566700,\"ordate\": \"29.04.2017\"},{\"appid\": 2331710,\"ordate\": \"21.04.2023\"},{\"appid\": 288100,\"ordate\": \"08.12.2015\"},{\"appid\": 593530,\"ordate\": \"05.05.2017\"},{\"appid\": 304650,\"ordate\": \"01.07.2014\"},{\"appid\": 2295790,\"ordate\": \"05.09.2023\"},{\"appid\": 707220,\"ordate\": \"18.10.2017\"},{\"appid\": 1614780,\"ordate\": \"16.12.2022\"},{\"appid\": 2701080,\"ordate\": \"05.02.2024\"},{\"appid\": 1528010,\"ordate\": \"11.10.2021\"},{\"appid\": 2103400,\"ordate\": \"20.06.2023\"},{\"appid\": 247730,\"ordate\": \"29.10.2013\"},{\"appid\": 2226700,\"ordate\": \"25.06.2023\"},{\"appid\": 1126300,\"ordate\": \"04.09.2019\"},{\"appid\": 1326270,\"ordate\": \"27.09.2021\"},{\"appid\": 1096530,\"ordate\": \"20.10.2020\"},{\"appid\": 1127330,\"ordate\": \"10.11.2019\"},{\"appid\": 1571090,\"ordate\": \"03.06.2021\"},{\"appid\": 657810,\"ordate\": \"24.07.2018\"},{\"appid\": 398680,\"ordate\": \"08.10.2015\"},{\"appid\": 643980,\"ordate\": \"31.05.2017\"},{\"appid\": 1282080,\"ordate\": \"07.10.2020\"},{\"appid\": 414190,\"ordate\": \"27.04.2016\"},{\"appid\": 1157560,\"ordate\": \"25.02.2020\"},{\"appid\": 1307780,\"ordate\": \"21.05.2020\"},{\"appid\": 1961370,\"ordate\": \"30.11.2022\"},{\"appid\": 995700,\"ordate\": \"01.01.2019\"},{\"appid\": 780390,\"ordate\": \"23.02.2018\"},{\"appid\": 764920,\"ordate\": \"12.12.2018\"},{\"appid\": 1192630,\"ordate\": \"23.03.2021\"},{\"appid\": 418340,\"ordate\": \"01.12.2015\"},{\"appid\": 2591270,\"ordate\": \"23.10.2023\"},{\"appid\": 2113040,\"ordate\": \"12.10.2023\"},{\"appid\": 1384030,\"ordate\": \"19.05.2021\"},{\"appid\": 2051130,\"ordate\": \"28.03.2023\"},{\"appid\": 2095290,\"ordate\": \"17.01.2023\"},{\"appid\": 1558830,\"ordate\": \"24.10.2023\"},{\"appid\": 616830,\"ordate\": \"11.03.2020\"},{\"appid\": 1082220,\"ordate\": \"09.07.2019\"},{\"appid\": 2073540,\"ordate\": \"13.10.2022\"},{\"appid\": 2264340,\"ordate\": \"18.01.2024\"},{\"appid\": 1525620,\"ordate\": \"25.02.2021\"},{\"appid\": 1644490,\"ordate\": \"14.10.2021\"},{\"appid\": 553210,\"ordate\": \"17.02.2017\"},{\"appid\": 716640,\"ordate\": \"18.04.2019\"},{\"appid\": 843860,\"ordate\": \"05.06.2018\"},{\"appid\": 2176090,\"ordate\": \"13.01.2023\"},{\"appid\": 1835120,\"ordate\": \"12.08.2023\"},{\"appid\": 1243520,\"ordate\": \"13.08.2021\"},{\"appid\": 963150,\"ordate\": \"31.10.2018\"},{\"appid\": 992700,\"ordate\": \"05.02.2019\"},{\"appid\": 1944570,\"ordate\": \"05.08.2022\"},{\"appid\": 2050050,\"ordate\": \"22.09.2022\"},{\"appid\": 840420,\"ordate\": \"16.02.2024\"},{\"appid\": 1123080,\"ordate\": \"08.08.2019\"},{\"appid\": 1492290,\"ordate\": \"28.02.2021\"},{\"appid\": 1822340,\"ordate\": \"01.03.2022\"},{\"appid\": 2708790,\"ordate\": \"19.06.2024\"},{\"appid\": 2856370,\"ordate\": \"19.06.2024\"},{\"appid\": 1653190,\"ordate\": \"22.04.2024\"},{\"appid\": 2450100,\"ordate\": \"23.08.2023\"},{\"appid\": 1646240,\"ordate\": \"05.07.2021\"},{\"appid\": 1146660,\"ordate\": \"26.10.2019\"},{\"appid\": 802090,\"ordate\": \"24.03.2018\"},{\"appid\": 1894980,\"ordate\": \"16.02.2022\"},{\"appid\": 563120,\"ordate\": \"20.12.2016\"},{\"appid\": 1608590,\"ordate\": \"29.02.2024\"},{\"appid\": 1723260,\"ordate\": \"19.05.2022\"},{\"appid\": 1018060,\"ordate\": \"12.03.2019\"},{\"appid\": 2899450,\"ordate\": \"01.05.2024\"},{\"appid\": 2553870,\"ordate\": \"01.09.2023\"},{\"appid\": 926540,\"ordate\": \"26.04.2020\"},{\"appid\": 2115020,\"ordate\": \"10.12.2022\"},{\"appid\": 1276370,\"ordate\": \"19.05.2020\"},{\"appid\": 909510,\"ordate\": \"11.03.2019\"},{\"appid\": 1336290,\"ordate\": \"31.07.2020\"},{\"appid\": 1507570,\"ordate\": \"27.12.2021\"},{\"appid\": 498990,\"ordate\": \"13.12.2016\"},{\"appid\": 2233570,\"ordate\": \"06.02.2023\"},{\"appid\": 346220,\"ordate\": \"23.06.2015\"},{\"appid\": 2227860,\"ordate\": \"23.03.2023\"},{\"appid\": 326410,\"ordate\": \"12.10.2014\"},{\"appid\": 1456770,\"ordate\": \"24.11.2020\"},{\"appid\": 2217580,\"ordate\": \"08.08.2023\"},{\"appid\": 2119630,\"ordate\": \"19.09.2022\"},{\"appid\": 1848650,\"ordate\": \"07.03.2022\"},{\"appid\": 1252710,\"ordate\": \"29.07.2020\"},{\"appid\": 1360810,\"ordate\": \"20.05.2024\"},{\"appid\": 877330,\"ordate\": \"06.11.2019\"},{\"appid\": 1214410,\"ordate\": \"15.01.2020\"},{\"appid\": 649190,\"ordate\": \"01.08.2018\"},{\"appid\": 1829120,\"ordate\": \"11.01.2022\"},{\"appid\": 469830,\"ordate\": \"25.07.2017\"},{\"appid\": 628190,\"ordate\": \"17.01.2018\"},{\"appid\": 786850,\"ordate\": \"25.01.2018\"},{\"appid\": 512160,\"ordate\": \"17.10.2017\"},{\"appid\": 1584830,\"ordate\": \"06.04.2021\"},{\"appid\": 2336330,\"ordate\": \"22.11.2023\"},{\"appid\": 2661060,\"ordate\": \"18.01.2024\"},{\"appid\": 2485980,\"ordate\": \"17.02.2024\"},{\"appid\": 911220,\"ordate\": \"26.03.2019\"},{\"appid\": 629220,\"ordate\": \"03.08.2017\"},{\"appid\": 695720,\"ordate\": \"19.11.2018\"},{\"appid\": 1523260,\"ordate\": \"30.06.2021\"},{\"appid\": 2884590,\"ordate\": \"09.05.2024\"},{\"appid\": 1607770,\"ordate\": \"20.05.2021\"},{\"appid\": 1029220,\"ordate\": \"30.01.2020\"},{\"appid\": 686260,\"ordate\": \"16.01.2018\"},{\"appid\": 1429700,\"ordate\": \"11.12.2020\"},{\"appid\": 2718470,\"ordate\": \"19.07.2024\"},{\"appid\": 1183840,\"ordate\": \"11.05.2020\"},{\"appid\": 409910,\"ordate\": \"28.01.2016\"},{\"appid\": 2389560,\"ordate\": \"20.06.2024\"},{\"appid\": 2159670,\"ordate\": \"18.05.2023\"},{\"appid\": 1061400,\"ordate\": \"27.02.2022\"},{\"appid\": 1345820,\"ordate\": \"17.12.2020\"},{\"appid\": 257730,\"ordate\": \"08.02.2014\"},{\"appid\": 842850,\"ordate\": \"08.02.2019\"},{\"appid\": 1797480,\"ordate\": \"22.01.2024\"},{\"appid\": 1441180,\"ordate\": \"29.10.2020\"},{\"appid\": 1273440,\"ordate\": \"26.05.2022\"},{\"appid\": 1454060,\"ordate\": \"09.12.2020\"},{\"appid\": 1665820,\"ordate\": \"03.09.2021\"},{\"appid\": 1001870,\"ordate\": \"01.02.2019\"},{\"appid\": 1974050,\"ordate\": \"11.10.2022\"},{\"appid\": 2870280,\"ordate\": \"24.04.2024\"},{\"appid\": 1984720,\"ordate\": \"26.10.2022\"},{\"appid\": 1016000,\"ordate\": \"21.07.2020\"},{\"appid\": 721960,\"ordate\": \"14.12.2017\"},{\"appid\": 1627680,\"ordate\": \"06.01.2023\"},{\"appid\": 434650,\"ordate\": \"05.02.2016\"},{\"appid\": 647640,\"ordate\": \"21.03.2019\"},{\"appid\": 1994710,\"ordate\": \"23.06.2022\"},{\"appid\": 612370,\"ordate\": \"22.04.2017\"},{\"appid\": 2800170,\"ordate\": \"17.05.2024\"},{\"appid\": 2027560,\"ordate\": \"13.10.2022\"},{\"appid\": 2836450,\"ordate\": \"28.06.2024\"},{\"appid\": 494530,\"ordate\": \"28.12.2016\"},{\"appid\": 1853080,\"ordate\": \"08.01.2022\"},{\"appid\": 2814000,\"ordate\": \"28.05.2024\"},{\"appid\": 384180,\"ordate\": \"19.05.2016\"},{\"appid\": 496080,\"ordate\": \"07.08.2016\"},{\"appid\": 298240,\"ordate\": \"29.05.2015\"},{\"appid\": 2086190,\"ordate\": \"15.09.2022\"},{\"appid\": 1878920,\"ordate\": \"05.08.2022\"},{\"appid\": 1106710,\"ordate\": \"03.01.2020\"},{\"appid\": 2241570,\"ordate\": \"26.12.2022\"},{\"appid\": 2247820,\"ordate\": \"26.01.2023\"},{\"appid\": 921390,\"ordate\": \"14.09.2018\"},{\"appid\": 2667410,\"ordate\": \"16.11.2023\"},{\"appid\": 953880,\"ordate\": \"08.04.2021\"},{\"appid\": 2364800,\"ordate\": \"08.04.2023\"},{\"appid\": 1911420,\"ordate\": \"11.11.2022\"},{\"appid\": 1907400,\"ordate\": \"01.06.2024\"},{\"appid\": 1144250,\"ordate\": \"31.08.2019\"},{\"appid\": 2022360,\"ordate\": \"01.08.2022\"},{\"appid\": 2363590,\"ordate\": \"05.08.2023\"},{\"appid\": 1294780,\"ordate\": \"25.07.2020\"},{\"appid\": 2443150,\"ordate\": \"05.01.2024\"},{\"appid\": 1378870,\"ordate\": \"16.10.2020\"},{\"appid\": 385080,\"ordate\": \"06.10.2015\"},{\"appid\": 928410,\"ordate\": \"09.01.2019\"},{\"appid\": 506900,\"ordate\": \"19.12.2016\"},{\"appid\": 1508200,\"ordate\": \"16.01.2021\"},{\"appid\": 2276850,\"ordate\": \"07.04.2023\"},{\"appid\": 387400,\"ordate\": \"24.08.2015\"},{\"appid\": 1272120,\"ordate\": \"08.05.2020\"},{\"appid\": 2563800,\"ordate\": \"02.10.2023\"},{\"appid\": 1532640,\"ordate\": \"29.07.2021\"},{\"appid\": 1720240,\"ordate\": \"14.09.2021\"},{\"appid\": 2492560,\"ordate\": \"29.08.2023\"},{\"appid\": 1203990,\"ordate\": \"17.12.2019\"},{\"appid\": 283080,\"ordate\": \"01.12.2014\"},{\"appid\": 2003870,\"ordate\": \"04.07.2022\"},{\"appid\": 2262060,\"ordate\": \"26.01.2023\"},{\"appid\": 1671280,\"ordate\": \"26.10.2021\"},{\"appid\": 1598660,\"ordate\": \"28.04.2021\"},{\"appid\": 1816930,\"ordate\": \"23.03.2022\"},{\"appid\": 1906640,\"ordate\": \"25.04.2022\"},{\"appid\": 389190,\"ordate\": \"16.12.2015\"},{\"appid\": 789890,\"ordate\": \"09.05.2018\"},{\"appid\": 716250,\"ordate\": \"23.04.2019\"},{\"appid\": 1448230,\"ordate\": \"21.02.2021\"},{\"appid\": 280600,\"ordate\": \"02.03.2015\"},{\"appid\": 423710,\"ordate\": \"02.12.2015\"},{\"appid\": 2687820,\"ordate\": \"30.01.2024\"},{\"appid\": 1739070,\"ordate\": \"08.04.2022\"},{\"appid\": 2218690,\"ordate\": \"04.04.2023\"},{\"appid\": 448620,\"ordate\": \"15.04.2016\"},{\"appid\": 706990,\"ordate\": \"04.10.2018\"},{\"appid\": 1395830,\"ordate\": \"22.04.2021\"},{\"appid\": 1489310,\"ordate\": \"05.04.2023\"},{\"appid\": 527700,\"ordate\": \"23.09.2016\"},{\"appid\": 613730,\"ordate\": \"14.04.2017\"},{\"appid\": 2425090,\"ordate\": \"16.06.2023\"},{\"appid\": 2979840,\"ordate\": \"15.07.2024\"},{\"appid\": 2217740,\"ordate\": \"31.05.2023\"},{\"appid\": 1374930,\"ordate\": \"26.08.2021\"},{\"appid\": 1422190,\"ordate\": \"17.11.2020\"},{\"appid\": 956060,\"ordate\": \"30.11.2018\"},{\"appid\": 670720,\"ordate\": \"30.03.2020\"},{\"appid\": 1605430,\"ordate\": \"20.10.2021\"},{\"appid\": 2511900,\"ordate\": \"12.02.2024\"},{\"appid\": 2388460,\"ordate\": \"14.09.2023\"},{\"appid\": 246110,\"ordate\": \"11.11.2014\"},{\"appid\": 2643960,\"ordate\": \"01.12.2023\"},{\"appid\": 1270380,\"ordate\": \"21.05.2021\"},{\"appid\": 1878010,\"ordate\": \"02.02.2022\"},{\"appid\": 752380,\"ordate\": \"07.04.2018\"},{\"appid\": 2109460,\"ordate\": \"05.10.2022\"},{\"appid\": 2552680,\"ordate\": \"18.04.2024\"},{\"appid\": 834340,\"ordate\": \"11.05.2018\"},{\"appid\": 459410,\"ordate\": \"16.04.2016\"},{\"appid\": 715520,\"ordate\": \"23.02.2018\"},{\"appid\": 1980770,\"ordate\": \"19.08.2022\"},{\"appid\": 2421560,\"ordate\": \"02.06.2023\"},{\"appid\": 1403520,\"ordate\": \"15.04.2021\"},{\"appid\": 701380,\"ordate\": \"05.10.2017\"},{\"appid\": 1107160,\"ordate\": \"26.07.2019\"},{\"appid\": 1222180,\"ordate\": \"24.01.2020\"},{\"appid\": 527310,\"ordate\": \"19.11.2016\"},{\"appid\": 2456430,\"ordate\": \"06.03.2024\"},{\"appid\": 391820,\"ordate\": \"18.11.2015\"},{\"appid\": 1033210,\"ordate\": \"31.05.2019\"},{\"appid\": 511570,\"ordate\": \"19.08.2016\"},{\"appid\": 1605480,\"ordate\": \"28.05.2021\"},{\"appid\": 2321880,\"ordate\": \"28.07.2023\"},{\"appid\": 2199830,\"ordate\": \"19.11.2022\"},{\"appid\": 806530,\"ordate\": \"30.08.2018\"},{\"appid\": 413830,\"ordate\": \"05.11.2015\"},{\"appid\": 571860,\"ordate\": \"19.03.2017\"},{\"appid\": 560340,\"ordate\": \"20.02.2017\"},{\"appid\": 795430,\"ordate\": \"10.03.2018\"},{\"appid\": 1479840,\"ordate\": \"02.01.2021\"},{\"appid\": 644480,\"ordate\": \"20.06.2017\"},{\"appid\": 1070580,\"ordate\": \"04.05.2019\"},{\"appid\": 316930,\"ordate\": \"08.12.2014\"},{\"appid\": 1993150,\"ordate\": \"02.12.2022\"},{\"appid\": 628290,\"ordate\": \"08.08.2017\"},{\"appid\": 1488860,\"ordate\": \"13.04.2021\"},{\"appid\": 2136470,\"ordate\": \"24.10.2022\"},{\"appid\": 2347550,\"ordate\": \"28.05.2024\"},{\"appid\": 1065550,\"ordate\": \"23.07.2019\"},{\"appid\": 337290,\"ordate\": \"10.07.2017\"},{\"appid\": 1290330,\"ordate\": \"10.03.2023\"},{\"appid\": 2878230,\"ordate\": \"01.05.2024\"},{\"appid\": 1072190,\"ordate\": \"24.05.2022\"},{\"appid\": 844440,\"ordate\": \"11.12.2018\"},{\"appid\": 2174370,\"ordate\": \"31.10.2022\"},{\"appid\": 2000570,\"ordate\": \"31.05.2022\"},{\"appid\": 907410,\"ordate\": \"14.09.2019\"},{\"appid\": 950260,\"ordate\": \"18.03.2019\"},{\"appid\": 1869310,\"ordate\": \"18.02.2022\"},{\"appid\": 628770,\"ordate\": \"19.07.2017\"},{\"appid\": 2382450,\"ordate\": \"20.02.2024\"},{\"appid\": 1398400,\"ordate\": \"06.11.2020\"},{\"appid\": 454070,\"ordate\": \"01.05.2016\"},{\"appid\": 1190820,\"ordate\": \"15.08.2020\"},{\"appid\": 751730,\"ordate\": \"04.01.2018\"},{\"appid\": 2122070,\"ordate\": \"14.09.2022\"},{\"appid\": 1493880,\"ordate\": \"08.07.2021\"},{\"appid\": 1901910,\"ordate\": \"06.06.2024\"},{\"appid\": 1629060,\"ordate\": \"01.06.2021\"},{\"appid\": 1342810,\"ordate\": \"13.04.2021\"},{\"appid\": 433400,\"ordate\": \"11.04.2016\"},{\"appid\": 695970,\"ordate\": \"02.02.2018\"},{\"appid\": 535490,\"ordate\": \"21.10.2016\"},{\"appid\": 1198080,\"ordate\": \"17.01.2020\"},{\"appid\": 2195650,\"ordate\": \"09.11.2023\"},{\"appid\": 506870,\"ordate\": \"10.08.2016\"},{\"appid\": 535170,\"ordate\": \"20.10.2016\"},{\"appid\": 1473740,\"ordate\": \"28.09.2021\"},{\"appid\": 2674370,\"ordate\": \"05.12.2023\"},{\"appid\": 1730650,\"ordate\": \"20.10.2022\"},{\"appid\": 1323220,\"ordate\": \"04.09.2020\"},{\"appid\": 1662940,\"ordate\": \"14.07.2021\"},{\"appid\": 288120,\"ordate\": \"28.05.2014\"},{\"appid\": 811950,\"ordate\": \"17.03.2018\"},{\"appid\": 2052780,\"ordate\": \"02.03.2023\"},{\"appid\": 1844130,\"ordate\": \"25.03.2024\"},{\"appid\": 672040,\"ordate\": \"14.11.2018\"},{\"appid\": 1069910,\"ordate\": \"25.05.2019\"},{\"appid\": 1485140,\"ordate\": \"14.04.2022\"},{\"appid\": 1298010,\"ordate\": \"14.10.2021\"},{\"appid\": 1107860,\"ordate\": \"01.11.2021\"},{\"appid\": 1323900,\"ordate\": \"03.03.2021\"},{\"appid\": 1155660,\"ordate\": \"16.11.2019\"},{\"appid\": 529040,\"ordate\": \"22.10.2016\"},{\"appid\": 990850,\"ordate\": \"21.12.2018\"},{\"appid\": 462940,\"ordate\": \"14.10.2017\"},{\"appid\": 1784550,\"ordate\": \"25.02.2022\"},{\"appid\": 1155390,\"ordate\": \"12.10.2019\"},{\"appid\": 408740,\"ordate\": \"17.10.2015\"},{\"appid\": 1595280,\"ordate\": \"16.07.2021\"},{\"appid\": 1324130,\"ordate\": \"12.10.2022\"},{\"appid\": 1328190,\"ordate\": \"22.02.2021\"},{\"appid\": 964210,\"ordate\": \"11.01.2019\"},{\"appid\": 685690,\"ordate\": \"26.08.2017\"},{\"appid\": 2320040,\"ordate\": \"11.01.2024\"},{\"appid\": 2765460,\"ordate\": \"20.02.2024\"},{\"appid\": 2158800,\"ordate\": \"04.11.2022\"},{\"appid\": 703840,\"ordate\": \"02.11.2017\"},{\"appid\": 506730,\"ordate\": \"04.11.2016\"},{\"appid\": 370140,\"ordate\": \"18.02.2016\"},{\"appid\": 1175070,\"ordate\": \"25.03.2020\"},{\"appid\": 844260,\"ordate\": \"18.02.2021\"},{\"appid\": 451990,\"ordate\": \"11.06.2016\"},{\"appid\": 2304660,\"ordate\": \"06.06.2024\"},{\"appid\": 2094350,\"ordate\": \"18.08.2022\"},{\"appid\": 2844450,\"ordate\": \"01.05.2024\"},{\"appid\": 527720,\"ordate\": \"08.12.2016\"},{\"appid\": 2432190,\"ordate\": \"06.06.2023\"},{\"appid\": 863290,\"ordate\": \"02.06.2018\"},{\"appid\": 730290,\"ordate\": \"27.04.2018\"},{\"appid\": 262210,\"ordate\": \"25.03.2014\"},{\"appid\": 2289780,\"ordate\": \"02.07.2023\"},{\"appid\": 509070,\"ordate\": \"02.09.2016\"},{\"appid\": 661030,\"ordate\": \"28.08.2017\"},{\"appid\": 577000,\"ordate\": \"17.11.2017\"},{\"appid\": 2744670,\"ordate\": \"20.01.2024\"},{\"appid\": 451950,\"ordate\": \"25.09.2016\"},{\"appid\": 2074000,\"ordate\": \"24.04.2023\"},{\"appid\": 694400,\"ordate\": \"14.12.2018\"},{\"appid\": 2345300,\"ordate\": \"28.03.2023\"},{\"appid\": 376250,\"ordate\": \"07.12.2015\"},{\"appid\": 1059040,\"ordate\": \"01.05.2019\"},{\"appid\": 1191730,\"ordate\": \"19.06.2021\"},{\"appid\": 1123910,\"ordate\": \"12.08.2019\"},{\"appid\": 1882040,\"ordate\": \"01.04.2022\"},{\"appid\": 514290,\"ordate\": \"10.09.2016\"},{\"appid\": 1896570,\"ordate\": \"16.12.2023\"},{\"appid\": 667880,\"ordate\": \"23.07.2017\"},{\"appid\": 1749200,\"ordate\": \"02.11.2021\"},{\"appid\": 2905120,\"ordate\": \"15.04.2024\"},{\"appid\": 2439730,\"ordate\": \"12.06.2023\"},{\"appid\": 1825700,\"ordate\": \"18.12.2021\"},{\"appid\": 468740,\"ordate\": \"09.06.2016\"},{\"appid\": 2494270,\"ordate\": \"29.02.2024\"},{\"appid\": 223410,\"ordate\": \"10.04.2014\"},{\"appid\": 1240460,\"ordate\": \"21.04.2020\"},{\"appid\": 1213390,\"ordate\": \"01.07.2020\"},{\"appid\": 1104340,\"ordate\": \"20.10.2020\"},{\"appid\": 562590,\"ordate\": \"17.01.2017\"},{\"appid\": 698110,\"ordate\": \"01.11.2017\"},{\"appid\": 851100,\"ordate\": \"20.08.2018\"},{\"appid\": 384100,\"ordate\": \"13.07.2015\"},{\"appid\": 1184190,\"ordate\": \"02.02.2020\"},{\"appid\": 265970,\"ordate\": \"11.09.2014\"},{\"appid\": 277520,\"ordate\": \"03.10.2014\"},{\"appid\": 1287980,\"ordate\": \"25.06.2020\"},{\"appid\": 1807090,\"ordate\": \"08.11.2023\"},{\"appid\": 976970,\"ordate\": \"30.11.2018\"},{\"appid\": 950300,\"ordate\": \"12.02.2019\"},{\"appid\": 1177330,\"ordate\": \"06.01.2021\"},{\"appid\": 1338790,\"ordate\": \"22.10.2020\"},{\"appid\": 2015940,\"ordate\": \"20.08.2023\"},{\"appid\": 1064650,\"ordate\": \"01.05.2019\"},{\"appid\": 2108400,\"ordate\": \"01.09.2022\"},{\"appid\": 748940,\"ordate\": \"22.02.2019\"},{\"appid\": 1017100,\"ordate\": \"05.03.2019\"},{\"appid\": 1072710,\"ordate\": \"09.01.2020\"},{\"appid\": 2157960,\"ordate\": \"13.02.2024\"},{\"appid\": 2101680,\"ordate\": \"10.10.2022\"},{\"appid\": 1894460,\"ordate\": \"23.02.2024\"},{\"appid\": 2305380,\"ordate\": \"26.01.2024\"},{\"appid\": 773090,\"ordate\": \"03.04.2018\"},{\"appid\": 1096000,\"ordate\": \"11.06.2019\"},{\"appid\": 1285610,\"ordate\": \"24.04.2020\"},{\"appid\": 569530,\"ordate\": \"14.06.2018\"},{\"appid\": 2224330,\"ordate\": \"21.12.2022\"},{\"appid\": 1590320,\"ordate\": \"25.06.2021\"},{\"appid\": 1598470,\"ordate\": \"23.02.2022\"},{\"appid\": 2069220,\"ordate\": \"25.07.2022\"},{\"appid\": 2367650,\"ordate\": \"14.07.2023\"},{\"appid\": 1266820,\"ordate\": \"18.02.2021\"},{\"appid\": 1842450,\"ordate\": \"29.08.2022\"},{\"appid\": 1151200,\"ordate\": \"29.09.2019\"},{\"appid\": 663100,\"ordate\": \"12.08.2017\"},{\"appid\": 926390,\"ordate\": \"08.05.2019\"},{\"appid\": 1084350,\"ordate\": \"04.12.2019\"},{\"appid\": 1349840,\"ordate\": \"17.06.2020\"},{\"appid\": 893720,\"ordate\": \"10.06.2021\"},{\"appid\": 795990,\"ordate\": \"01.08.2019\"},{\"appid\": 2100010,\"ordate\": \"13.08.2022\"},{\"appid\": 1518690,\"ordate\": \"10.12.2021\"},{\"appid\": 398670,\"ordate\": \"20.05.2016\"},{\"appid\": 1963510,\"ordate\": \"21.12.2022\"},{\"appid\": 1079330,\"ordate\": \"25.05.2019\"},{\"appid\": 1740080,\"ordate\": \"18.03.2022\"},{\"appid\": 1709180,\"ordate\": \"18.01.2022\"},{\"appid\": 2102320,\"ordate\": \"24.04.2023\"},{\"appid\": 742700,\"ordate\": \"28.11.2017\"},{\"appid\": 780670,\"ordate\": \"12.03.2020\"},{\"appid\": 815030,\"ordate\": \"12.03.2018\"},{\"appid\": 1417310,\"ordate\": \"05.12.2020\"},{\"appid\": 2314530,\"ordate\": \"06.06.2024\"},{\"appid\": 2521650,\"ordate\": \"05.12.2023\"},{\"appid\": 2162680,\"ordate\": \"07.12.2023\"},{\"appid\": 1482910,\"ordate\": \"17.12.2020\"},{\"appid\": 1558330,\"ordate\": \"28.01.2022\"},{\"appid\": 2447060,\"ordate\": \"10.08.2023\"},{\"appid\": 2492390,\"ordate\": \"12.09.2023\"},{\"appid\": 1439750,\"ordate\": \"24.02.2024\"},{\"appid\": 1273480,\"ordate\": \"29.05.2023\"},{\"appid\": 755520,\"ordate\": \"04.07.2018\"},{\"appid\": 543380,\"ordate\": \"17.06.2017\"},{\"appid\": 1055990,\"ordate\": \"16.04.2019\"},{\"appid\": 1481730,\"ordate\": \"20.06.2022\"},{\"appid\": 671620,\"ordate\": \"23.08.2017\"},{\"appid\": 1283500,\"ordate\": \"17.04.2020\"},{\"appid\": 2815680,\"ordate\": \"05.03.2024\"},{\"appid\": 378090,\"ordate\": \"07.01.2016\"},{\"appid\": 2322550,\"ordate\": \"10.05.2023\"},{\"appid\": 340770,\"ordate\": \"07.12.2015\"},{\"appid\": 1182060,\"ordate\": \"16.04.2020\"},{\"appid\": 350740,\"ordate\": \"20.07.2015\"},{\"appid\": 430930,\"ordate\": \"22.08.2016\"},{\"appid\": 1233250,\"ordate\": \"14.04.2020\"},{\"appid\": 889170,\"ordate\": \"12.07.2018\"},{\"appid\": 1848080,\"ordate\": \"09.06.2022\"},{\"appid\": 1919720,\"ordate\": \"10.10.2022\"},{\"appid\": 1568470,\"ordate\": \"04.05.2021\"},{\"appid\": 1166310,\"ordate\": \"01.04.2020\"},{\"appid\": 2273430,\"ordate\": \"15.08.2023\"},{\"appid\": 2453570,\"ordate\": \"08.08.2023\"},{\"appid\": 586020,\"ordate\": \"19.05.2017\"},{\"appid\": 980190,\"ordate\": \"23.07.2019\"},{\"appid\": 1383760,\"ordate\": \"24.12.2020\"},{\"appid\": 295670,\"ordate\": \"20.07.2016\"},{\"appid\": 2230000,\"ordate\": \"07.04.2023\"},{\"appid\": 717330,\"ordate\": \"26.10.2017\"},{\"appid\": 2171010,\"ordate\": \"18.01.2023\"},{\"appid\": 342260,\"ordate\": \"31.03.2015\"},{\"appid\": 1820460,\"ordate\": \"02.02.2024\"},{\"appid\": 866180,\"ordate\": \"03.07.2018\"},{\"appid\": 398850,\"ordate\": \"30.09.2015\"},{\"appid\": 733570,\"ordate\": \"01.12.2017\"},{\"appid\": 678450,\"ordate\": \"12.09.2017\"},{\"appid\": 1929610,\"ordate\": \"27.03.2023\"},{\"appid\": 951860,\"ordate\": \"15.04.2022\"},{\"appid\": 2448680,\"ordate\": \"04.04.2024\"},{\"appid\": 772570,\"ordate\": \"09.10.2019\"},{\"appid\": 1253320,\"ordate\": \"30.03.2020\"},{\"appid\": 2218320,\"ordate\": \"27.03.2024\"},{\"appid\": 2432000,\"ordate\": \"07.10.2023\"},{\"appid\": 388900,\"ordate\": \"09.06.2016\"},{\"appid\": 458040,\"ordate\": \"17.04.2018\"},{\"appid\": 820530,\"ordate\": \"12.10.2018\"},{\"appid\": 1781590,\"ordate\": \"05.11.2021\"},{\"appid\": 849000,\"ordate\": \"02.06.2018\"},{\"appid\": 568720,\"ordate\": \"15.12.2016\"},{\"appid\": 1866880,\"ordate\": \"02.08.2022\"},{\"appid\": 1382190,\"ordate\": \"11.11.2021\"},{\"appid\": 377260,\"ordate\": \"22.02.2018\"},{\"appid\": 959150,\"ordate\": \"05.09.2020\"},{\"appid\": 422590,\"ordate\": \"28.04.2016\"},{\"appid\": 1059230,\"ordate\": \"11.01.2020\"},{\"appid\": 539330,\"ordate\": \"12.11.2018\"},{\"appid\": 645330,\"ordate\": \"30.12.2017\"},{\"appid\": 458170,\"ordate\": \"27.07.2016\"},{\"appid\": 1787480,\"ordate\": \"15.12.2022\"},{\"appid\": 564080,\"ordate\": \"20.05.2017\"},{\"appid\": 1032790,\"ordate\": \"26.04.2019\"},{\"appid\": 434730,\"ordate\": \"03.02.2016\"},{\"appid\": 1174090,\"ordate\": \"25.12.2019\"},{\"appid\": 1116800,\"ordate\": \"05.09.2019\"},{\"appid\": 1157350,\"ordate\": \"02.10.2019\"},{\"appid\": 1745690,\"ordate\": \"07.01.2022\"},{\"appid\": 2461140,\"ordate\": \"07.05.2024\"},{\"appid\": 2345770,\"ordate\": \"18.04.2023\"},{\"appid\": 1655940,\"ordate\": \"03.08.2022\"},{\"appid\": 2086850,\"ordate\": \"16.06.2023\"},{\"appid\": 1199030,\"ordate\": \"28.11.2020\"},{\"appid\": 876220,\"ordate\": \"02.09.2018\"},{\"appid\": 2371680,\"ordate\": \"26.05.2024\"},{\"appid\": 672300,\"ordate\": \"04.08.2017\"},{\"appid\": 2230540,\"ordate\": \"23.01.2023\"},{\"appid\": 968730,\"ordate\": \"14.12.2018\"},{\"appid\": 1741160,\"ordate\": \"28.07.2022\"},{\"appid\": 1445090,\"ordate\": \"27.11.2020\"},{\"appid\": 769950,\"ordate\": \"05.03.2018\"},{\"appid\": 1809300,\"ordate\": \"11.12.2021\"},{\"appid\": 2743450,\"ordate\": \"09.05.2024\"},{\"appid\": 1550760,\"ordate\": \"14.10.2021\"},{\"appid\": 2870560,\"ordate\": \"29.03.2024\"},{\"appid\": 535690,\"ordate\": \"22.01.2017\"},{\"appid\": 310890,\"ordate\": \"23.01.2015\"},{\"appid\": 637410,\"ordate\": \"12.06.2017\"},{\"appid\": 2185240,\"ordate\": \"22.01.2023\"},{\"appid\": 507120,\"ordate\": \"22.11.2016\"},{\"appid\": 1014110,\"ordate\": \"15.08.2019\"},{\"appid\": 1647440,\"ordate\": \"29.07.2021\"},{\"appid\": 2365250,\"ordate\": \"16.07.2023\"},{\"appid\": 1240630,\"ordate\": \"06.03.2020\"},{\"appid\": 689620,\"ordate\": \"10.11.2017\"},{\"appid\": 2185990,\"ordate\": \"02.05.2024\"},{\"appid\": 2192500,\"ordate\": \"02.12.2022\"},{\"appid\": 708820,\"ordate\": \"30.01.2018\"},{\"appid\": 991810,\"ordate\": \"30.04.2019\"},{\"appid\": 1822130,\"ordate\": \"06.12.2021\"},{\"appid\": 2758490,\"ordate\": \"30.03.2024\"},{\"appid\": 551060,\"ordate\": \"17.04.2017\"},{\"appid\": 448780,\"ordate\": \"01.03.2016\"},{\"appid\": 754850,\"ordate\": \"19.12.2018\"},{\"appid\": 1477300,\"ordate\": \"24.11.2021\"},{\"appid\": 1492150,\"ordate\": \"16.11.2022\"},{\"appid\": 2727210,\"ordate\": \"18.06.2024\"},{\"appid\": 1976100,\"ordate\": \"16.11.2023\"},{\"appid\": 1582070,\"ordate\": \"22.10.2021\"},{\"appid\": 1801110,\"ordate\": \"13.02.2023\"},{\"appid\": 1502630,\"ordate\": \"11.01.2021\"},{\"appid\": 727970,\"ordate\": \"14.11.2017\"},{\"appid\": 367010,\"ordate\": \"31.03.2016\"},{\"appid\": 1303660,\"ordate\": \"24.06.2020\"},{\"appid\": 610500,\"ordate\": \"18.05.2017\"},{\"appid\": 2279410,\"ordate\": \"29.05.2023\"},{\"appid\": 1684710,\"ordate\": \"12.08.2021\"},{\"appid\": 2341560,\"ordate\": \"31.07.2024\"},{\"appid\": 2963880,\"ordate\": \"19.06.2024\"},{\"appid\": 608120,\"ordate\": \"18.06.2019\"},{\"appid\": 385240,\"ordate\": \"29.02.2016\"},{\"appid\": 695600,\"ordate\": \"24.10.2017\"},{\"appid\": 1606280,\"ordate\": \"24.05.2021\"},{\"appid\": 1348810,\"ordate\": \"28.07.2020\"},{\"appid\": 1904820,\"ordate\": \"31.03.2022\"},{\"appid\": 3006100,\"ordate\": \"21.06.2024\"},{\"appid\": 2004960,\"ordate\": \"22.05.2024\"},{\"appid\": 894270,\"ordate\": \"31.07.2018\"},{\"appid\": 800650,\"ordate\": \"14.03.2018\"},{\"appid\": 287900,\"ordate\": \"28.01.2016\"},{\"appid\": 512020,\"ordate\": \"09.09.2016\"},{\"appid\": 1461960,\"ordate\": \"04.11.2021\"},{\"appid\": 1759920,\"ordate\": \"07.12.2022\"},{\"appid\": 423810,\"ordate\": \"24.03.2016\"},{\"appid\": 1314590,\"ordate\": \"11.06.2020\"},{\"appid\": 960940,\"ordate\": \"12.12.2018\"},{\"appid\": 1308500,\"ordate\": \"04.03.2021\"},{\"appid\": 797400,\"ordate\": \"27.05.2019\"},{\"appid\": 742380,\"ordate\": \"21.12.2017\"},{\"appid\": 1256710,\"ordate\": \"08.09.2020\"},{\"appid\": 2464190,\"ordate\": \"01.07.2023\"},{\"appid\": 1357210,\"ordate\": \"27.04.2023\"},{\"appid\": 1297650,\"ordate\": \"22.05.2020\"},{\"appid\": 1425010,\"ordate\": \"09.02.2024\"},{\"appid\": 1763510,\"ordate\": \"18.05.2023\"},{\"appid\": 2254030,\"ordate\": \"06.04.2023\"},{\"appid\": 895610,\"ordate\": \"10.10.2018\"},{\"appid\": 1248060,\"ordate\": \"19.11.2020\"},{\"appid\": 952240,\"ordate\": \"19.11.2020\"},{\"appid\": 1097750,\"ordate\": \"22.10.2020\"},{\"appid\": 2411980,\"ordate\": \"22.03.2024\"},{\"appid\": 1393380,\"ordate\": \"19.10.2021\"},{\"appid\": 2603680,\"ordate\": \"24.05.2024\"},{\"appid\": 1944360,\"ordate\": \"19.08.2022\"},{\"appid\": 1690180,\"ordate\": \"30.01.2024\"},{\"appid\": 725620,\"ordate\": \"22.02.2019\"},{\"appid\": 2056490,\"ordate\": \"02.08.2022\"},{\"appid\": 469710,\"ordate\": \"08.06.2016\"},{\"appid\": 1729060,\"ordate\": \"02.09.2021\"},{\"appid\": 1059150,\"ordate\": \"17.05.2019\"},{\"appid\": 1511830,\"ordate\": \"02.02.2021\"},{\"appid\": 1526360,\"ordate\": \"11.02.2021\"},{\"appid\": 1148570,\"ordate\": \"20.11.2019\"},{\"appid\": 2285280,\"ordate\": \"09.03.2023\"},{\"appid\": 1851240,\"ordate\": \"01.07.2022\"},{\"appid\": 1786010,\"ordate\": \"17.05.2023\"},{\"appid\": 592890,\"ordate\": \"07.09.2017\"},{\"appid\": 829660,\"ordate\": \"01.03.2019\"},{\"appid\": 1270010,\"ordate\": \"29.04.2020\"},{\"appid\": 893610,\"ordate\": \"19.09.2018\"},{\"appid\": 1563970,\"ordate\": \"04.04.2021\"},{\"appid\": 1866470,\"ordate\": \"20.01.2022\"},{\"appid\": 391720,\"ordate\": \"27.08.2015\"},{\"appid\": 2088770,\"ordate\": \"20.06.2024\"},{\"appid\": 1219420,\"ordate\": \"30.06.2020\"},{\"appid\": 454410,\"ordate\": \"18.08.2016\"},{\"appid\": 1127170,\"ordate\": \"18.03.2020\"},{\"appid\": 1338520,\"ordate\": \"02.06.2020\"},{\"appid\": 1726020,\"ordate\": \"29.09.2021\"},{\"appid\": 2598980,\"ordate\": \"18.04.2024\"},{\"appid\": 1692290,\"ordate\": \"22.07.2022\"},{\"appid\": 2452370,\"ordate\": \"20.06.2023\"},{\"appid\": 1224030,\"ordate\": \"20.05.2023\"},{\"appid\": 2746710,\"ordate\": \"05.01.2024\"},{\"appid\": 714640,\"ordate\": \"05.10.2017\"},{\"appid\": 582360,\"ordate\": \"15.05.2017\"},{\"appid\": 719280,\"ordate\": \"28.11.2017\"},{\"appid\": 405000,\"ordate\": \"17.11.2015\"},{\"appid\": 420760,\"ordate\": \"11.12.2023\"},{\"appid\": 1019400,\"ordate\": \"19.04.2019\"},{\"appid\": 1462760,\"ordate\": \"25.11.2020\"},{\"appid\": 370590,\"ordate\": \"28.06.2015\"},{\"appid\": 2498090,\"ordate\": \"18.07.2023\"},{\"appid\": 1611420,\"ordate\": \"02.05.2022\"},{\"appid\": 2107860,\"ordate\": \"07.02.2023\"},{\"appid\": 2954730,\"ordate\": \"18.05.2024\"},{\"appid\": 2865640,\"ordate\": \"27.03.2024\"},{\"appid\": 438480,\"ordate\": \"23.02.2016\"},{\"appid\": 435490,\"ordate\": \"06.04.2016\"},{\"appid\": 406170,\"ordate\": \"06.10.2015\"},{\"appid\": 1456940,\"ordate\": \"13.08.2024\"},{\"appid\": 1194590,\"ordate\": \"16.03.2021\"},{\"appid\": 882210,\"ordate\": \"18.10.2018\"},{\"appid\": 1078670,\"ordate\": \"15.08.2019\"},{\"appid\": 2120310,\"ordate\": \"03.04.2023\"},{\"appid\": 1618020,\"ordate\": \"09.12.2022\"},{\"appid\": 2150460,\"ordate\": \"02.10.2022\"},{\"appid\": 1262470,\"ordate\": \"15.04.2020\"},{\"appid\": 823610,\"ordate\": \"23.01.2019\"},{\"appid\": 1953100,\"ordate\": \"13.08.2024\"},{\"appid\": 279940,\"ordate\": \"05.09.2014\"},{\"appid\": 817680,\"ordate\": \"17.03.2018\"},{\"appid\": 2053080,\"ordate\": \"22.11.2022\"},{\"appid\": 351230,\"ordate\": \"21.04.2015\"},{\"appid\": 759840,\"ordate\": \"21.03.2018\"},{\"appid\": 1144970,\"ordate\": \"13.02.2020\"},{\"appid\": 1165720,\"ordate\": \"21.01.2020\"},{\"appid\": 1729420,\"ordate\": \"16.09.2021\"},{\"appid\": 2215910,\"ordate\": \"21.09.2023\"},{\"appid\": 2266930,\"ordate\": \"17.03.2023\"},{\"appid\": 1593700,\"ordate\": \"10.05.2021\"},{\"appid\": 2307660,\"ordate\": \"27.08.2023\"},{\"appid\": 297110,\"ordate\": \"16.05.2014\"},{\"appid\": 2488590,\"ordate\": \"27.05.2024\"},{\"appid\": 777770,\"ordate\": \"12.10.2018\"},{\"appid\": 772730,\"ordate\": \"08.02.2019\"},{\"appid\": 926810,\"ordate\": \"24.10.2018\"},{\"appid\": 2590910,\"ordate\": \"11.11.2023\"},{\"appid\": 1489660,\"ordate\": \"30.04.2021\"},{\"appid\": 1176160,\"ordate\": \"09.11.2019\"},{\"appid\": 945680,\"ordate\": \"16.08.2019\"},{\"appid\": 1952930,\"ordate\": \"28.07.2022\"},{\"appid\": 383800,\"ordate\": \"08.08.2015\"},{\"appid\": 1409160,\"ordate\": \"30.03.2023\"},{\"appid\": 1431430,\"ordate\": \"08.12.2022\"},{\"appid\": 457340,\"ordate\": \"01.07.2016\"},{\"appid\": 2172120,\"ordate\": \"08.12.2022\"},{\"appid\": 1482870,\"ordate\": \"23.07.2021\"},{\"appid\": 1977270,\"ordate\": \"20.05.2022\"},{\"appid\": 853200,\"ordate\": \"11.07.2018\"},{\"appid\": 2477030,\"ordate\": \"26.07.2023\"},{\"appid\": 2887260,\"ordate\": \"03.05.2024\"},{\"appid\": 1677980,\"ordate\": \"15.09.2022\"},{\"appid\": 1202300,\"ordate\": \"24.03.2020\"},{\"appid\": 1211490,\"ordate\": \"27.12.2019\"},{\"appid\": 1979990,\"ordate\": \"03.02.2023\"},{\"appid\": 1171230,\"ordate\": \"27.11.2019\"},{\"appid\": 2397600,\"ordate\": \"30.06.2023\"},{\"appid\": 2292060,\"ordate\": \"18.09.2023\"},{\"appid\": 1455410,\"ordate\": \"03.02.2021\"},{\"appid\": 2463340,\"ordate\": \"23.06.2023\"},{\"appid\": 1408160,\"ordate\": \"06.11.2020\"},{\"appid\": 230230,\"ordate\": \"17.01.2014\"},{\"appid\": 1537910,\"ordate\": \"25.07.2022\"},{\"appid\": 2729350,\"ordate\": \"02.08.2024\"},{\"appid\": 1273180,\"ordate\": \"18.04.2020\"},{\"appid\": 1234620,\"ordate\": \"01.03.2020\"},{\"appid\": 341540,\"ordate\": \"07.01.2015\"},{\"appid\": 1755350,\"ordate\": \"12.12.2021\"},{\"appid\": 2998040,\"ordate\": \"24.06.2024\"},{\"appid\": 2626860,\"ordate\": \"24.06.2024\"},{\"appid\": 989450,\"ordate\": \"20.02.2019\"},{\"appid\": 2961880,\"ordate\": \"11.06.2024\"},{\"appid\": 606230,\"ordate\": \"30.11.2018\"},{\"appid\": 325630,\"ordate\": \"14.10.2014\"},{\"appid\": 340360,\"ordate\": \"14.01.2015\"},{\"appid\": 3075710,\"ordate\": \"18.07.2024\"},{\"appid\": 1929870,\"ordate\": \"29.04.2022\"},{\"appid\": 1370820,\"ordate\": \"19.02.2021\"},{\"appid\": 1590910,\"ordate\": \"26.10.2021\"},{\"appid\": 1042920,\"ordate\": \"16.11.2021\"},{\"appid\": 503350,\"ordate\": \"27.10.2016\"},{\"appid\": 300570,\"ordate\": \"19.01.2015\"},{\"appid\": 819500,\"ordate\": \"28.08.2018\"},{\"appid\": 1216710,\"ordate\": \"24.08.2020\"},{\"appid\": 1388770,\"ordate\": \"04.01.2021\"},{\"appid\": 2866000,\"ordate\": \"25.03.2024\"},{\"appid\": 644560,\"ordate\": \"08.11.2017\"},{\"appid\": 938220,\"ordate\": \"18.10.2018\"},{\"appid\": 1018270,\"ordate\": \"23.05.2019\"},{\"appid\": 2195410,\"ordate\": \"04.06.2024\"},{\"appid\": 950370,\"ordate\": \"31.10.2018\"},{\"appid\": 1008510,\"ordate\": \"18.01.2019\"},{\"appid\": 1465310,\"ordate\": \"20.07.2021\"},{\"appid\": 1515460,\"ordate\": \"01.07.2021\"},{\"appid\": 742970,\"ordate\": \"28.02.2022\"},{\"appid\": 1001950,\"ordate\": \"02.09.2020\"},{\"appid\": 1871990,\"ordate\": \"12.09.2022\"},{\"appid\": 2916460,\"ordate\": \"23.04.2024\"},{\"appid\": 2094190,\"ordate\": \"03.11.2022\"},{\"appid\": 354770,\"ordate\": \"01.05.2015\"},{\"appid\": 314410,\"ordate\": \"27.03.2015\"},{\"appid\": 404640,\"ordate\": \"30.10.2015\"},{\"appid\": 1723320,\"ordate\": \"16.09.2021\"},{\"appid\": 602480,\"ordate\": \"25.10.2017\"},{\"appid\": 648430,\"ordate\": \"12.09.2017\"},{\"appid\": 2444480,\"ordate\": \"03.11.2023\"},{\"appid\": 546350,\"ordate\": \"11.11.2016\"},{\"appid\": 621940,\"ordate\": \"08.05.2018\"},{\"appid\": 2846320,\"ordate\": \"22.03.2024\"},{\"appid\": 1414180,\"ordate\": \"30.12.2020\"},{\"appid\": 2012570,\"ordate\": \"16.12.2022\"},{\"appid\": 883670,\"ordate\": \"10.07.2018\"},{\"appid\": 2260100,\"ordate\": \"01.08.2023\"},{\"appid\": 1145660,\"ordate\": \"06.09.2019\"},{\"appid\": 1077630,\"ordate\": \"14.03.2020\"},{\"appid\": 1040370,\"ordate\": \"15.11.2019\"},{\"appid\": 2354600,\"ordate\": \"12.04.2023\"},{\"appid\": 1229310,\"ordate\": \"08.04.2020\"},{\"appid\": 1454000,\"ordate\": \"31.05.2023\"},{\"appid\": 793600,\"ordate\": \"09.06.2018\"},{\"appid\": 3003300,\"ordate\": \"05.09.2024\"},{\"appid\": 564230,\"ordate\": \"11.07.2017\"},{\"appid\": 1632140,\"ordate\": \"19.10.2021\"},{\"appid\": 261760,\"ordate\": \"19.03.2014\"},{\"appid\": 426190,\"ordate\": \"23.02.2017\"},{\"appid\": 2242930,\"ordate\": \"24.05.2023\"},{\"appid\": 411480,\"ordate\": \"31.01.2017\"},{\"appid\": 869060,\"ordate\": \"14.02.2019\"},{\"appid\": 256030,\"ordate\": \"13.06.2014\"},{\"appid\": 553690,\"ordate\": \"21.12.2016\"},{\"appid\": 1144860,\"ordate\": \"05.09.2019\"},{\"appid\": 915460,\"ordate\": \"03.11.2018\"},{\"appid\": 731600,\"ordate\": \"01.11.2017\"},{\"appid\": 2319640,\"ordate\": \"18.10.2023\"},{\"appid\": 906650,\"ordate\": \"24.08.2018\"},{\"appid\": 2558700,\"ordate\": \"01.09.2023\"},{\"appid\": 2062840,\"ordate\": \"02.08.2022\"},{\"appid\": 536670,\"ordate\": \"30.06.2018\"},{\"appid\": 1116500,\"ordate\": \"31.07.2019\"},{\"appid\": 2151580,\"ordate\": \"30.11.2022\"},{\"appid\": 1817940,\"ordate\": \"22.12.2021\"},{\"appid\": 2197650,\"ordate\": \"29.09.2023\"},{\"appid\": 1366850,\"ordate\": \"04.05.2023\"},{\"appid\": 1608310,\"ordate\": \"21.07.2022\"},{\"appid\": 1886010,\"ordate\": \"24.02.2022\"},{\"appid\": 2841950,\"ordate\": \"28.06.2024\"},{\"appid\": 836460,\"ordate\": \"03.06.2018\"},{\"appid\": 2443370,\"ordate\": \"06.11.2023\"},{\"appid\": 412600,\"ordate\": \"26.10.2015\"},{\"appid\": 1088070,\"ordate\": \"03.06.2019\"},{\"appid\": 1058740,\"ordate\": \"27.05.2019\"},{\"appid\": 1058430,\"ordate\": \"19.04.2019\"},{\"appid\": 256010,\"ordate\": \"16.05.2014\"},{\"appid\": 658470,\"ordate\": \"16.03.2018\"},{\"appid\": 2263510,\"ordate\": \"17.01.2023\"},{\"appid\": 1667750,\"ordate\": \"29.05.2023\"},{\"appid\": 2369950,\"ordate\": \"04.12.2023\"},{\"appid\": 1798140,\"ordate\": \"10.11.2021\"},{\"appid\": 1992530,\"ordate\": \"01.07.2022\"},{\"appid\": 712530,\"ordate\": \"06.05.2018\"},{\"appid\": 1760340,\"ordate\": \"01.11.2021\"},{\"appid\": 2155280,\"ordate\": \"12.01.2023\"},{\"appid\": 1146230,\"ordate\": \"16.01.2020\"},{\"appid\": 2391640,\"ordate\": \"28.08.2023\"},{\"appid\": 1524400,\"ordate\": \"16.02.2021\"},{\"appid\": 1000080,\"ordate\": \"18.01.2019\"},{\"appid\": 955540,\"ordate\": \"14.12.2018\"},{\"appid\": 1917810,\"ordate\": \"13.06.2023\"},{\"appid\": 556920,\"ordate\": \"13.05.2017\"},{\"appid\": 956870,\"ordate\": \"16.11.2018\"},{\"appid\": 1568590,\"ordate\": \"29.04.2021\"},{\"appid\": 2213910,\"ordate\": \"14.12.2022\"},{\"appid\": 677040,\"ordate\": \"27.09.2017\"},{\"appid\": 2217450,\"ordate\": \"28.12.2022\"},{\"appid\": 838270,\"ordate\": \"26.04.2018\"},{\"appid\": 909270,\"ordate\": \"13.08.2018\"},{\"appid\": 1455490,\"ordate\": \"10.11.2020\"},{\"appid\": 1287920,\"ordate\": \"28.06.2021\"},{\"appid\": 2476720,\"ordate\": \"22.04.2024\"},{\"appid\": 1691320,\"ordate\": \"11.03.2024\"},{\"appid\": 343280,\"ordate\": \"19.02.2015\"},{\"appid\": 1107440,\"ordate\": \"10.09.2019\"},{\"appid\": 330270,\"ordate\": \"17.03.2015\"},{\"appid\": 1882550,\"ordate\": \"24.11.2022\"},{\"appid\": 2196790,\"ordate\": \"28.12.2022\"},{\"appid\": 499560,\"ordate\": \"10.11.2016\"},{\"appid\": 1104640,\"ordate\": \"25.07.2019\"},{\"appid\": 2283470,\"ordate\": \"27.08.2024\"},{\"appid\": 2530540,\"ordate\": \"11.09.2023\"},{\"appid\": 467660,\"ordate\": \"14.03.2017\"},{\"appid\": 427570,\"ordate\": \"01.12.2016\"},{\"appid\": 801750,\"ordate\": \"15.08.2019\"},{\"appid\": 529840,\"ordate\": \"11.04.2017\"},{\"appid\": 402530,\"ordate\": \"27.10.2015\"},{\"appid\": 343630,\"ordate\": \"13.02.2015\"},{\"appid\": 363270,\"ordate\": \"21.08.2015\"},{\"appid\": 463860,\"ordate\": \"14.07.2016\"},{\"appid\": 345180,\"ordate\": \"20.02.2015\"},{\"appid\": 1981000,\"ordate\": \"30.05.2022\"},{\"appid\": 366510,\"ordate\": \"02.07.2015\"},{\"appid\": 1819460,\"ordate\": \"21.08.2024\"},{\"appid\": 2476850,\"ordate\": \"06.11.2023\"},{\"appid\": 436260,\"ordate\": \"05.04.2016\"},{\"appid\": 1592110,\"ordate\": \"16.03.2022\"},{\"appid\": 1208860,\"ordate\": \"13.01.2020\"},{\"appid\": 914260,\"ordate\": \"01.03.2019\"},{\"appid\": 1277500,\"ordate\": \"28.04.2021\"},{\"appid\": 1201940,\"ordate\": \"16.12.2019\"},{\"appid\": 1349120,\"ordate\": \"16.09.2020\"},{\"appid\": 2996990,\"ordate\": \"15.06.2024\"},{\"appid\": 914010,\"ordate\": \"30.04.2020\"},{\"appid\": 1716690,\"ordate\": \"15.10.2021\"},{\"appid\": 2497910,\"ordate\": \"20.10.2023\"},{\"appid\": 318860,\"ordate\": \"04.12.2014\"},{\"appid\": 1479400,\"ordate\": \"24.11.2022\"},{\"appid\": 942900,\"ordate\": \"16.11.2018\"},{\"appid\": 1650600,\"ordate\": \"26.08.2024\"},{\"appid\": 400450,\"ordate\": \"31.03.2016\"},{\"appid\": 2015860,\"ordate\": \"15.07.2022\"},{\"appid\": 2569330,\"ordate\": \"05.10.2023\"},{\"appid\": 318600,\"ordate\": \"24.09.2015\"},{\"appid\": 1050540,\"ordate\": \"03.04.2019\"},{\"appid\": 454540,\"ordate\": \"15.06.2016\"},{\"appid\": 251670,\"ordate\": \"18.04.2014\"},{\"appid\": 2535910,\"ordate\": \"15.09.2023\"},{\"appid\": 711930,\"ordate\": \"21.10.2017\"},{\"appid\": 1993710,\"ordate\": \"05.10.2023\"},{\"appid\": 1700860,\"ordate\": \"27.08.2021\"},{\"appid\": 1063830,\"ordate\": \"28.05.2019\"},{\"appid\": 1494530,\"ordate\": \"20.01.2021\"},{\"appid\": 1840660,\"ordate\": \"22.06.2022\"},{\"appid\": 2014620,\"ordate\": \"17.02.2023\"},{\"appid\": 2360710,\"ordate\": \"21.04.2023\"},{\"appid\": 546410,\"ordate\": \"21.12.2016\"},{\"appid\": 2279640,\"ordate\": \"22.02.2023\"},{\"appid\": 2423770,\"ordate\": \"21.06.2023\"},{\"appid\": 1959050,\"ordate\": \"10.08.2022\"},{\"appid\": 984360,\"ordate\": \"04.04.2019\"},{\"appid\": 451840,\"ordate\": \"16.04.2016\"},{\"appid\": 1394480,\"ordate\": \"01.10.2021\"},{\"appid\": 709880,\"ordate\": \"05.04.2018\"},{\"appid\": 838630,\"ordate\": \"14.11.2019\"},{\"appid\": 1802520,\"ordate\": \"18.03.2022\"},{\"appid\": 2944240,\"ordate\": \"23.05.2024\"},{\"appid\": 1091090,\"ordate\": \"02.10.2019\"},{\"appid\": 1142410,\"ordate\": \"17.10.2019\"},{\"appid\": 773430,\"ordate\": \"04.06.2018\"},{\"appid\": 463670,\"ordate\": \"21.10.2016\"},{\"appid\": 1152120,\"ordate\": \"24.04.2021\"},{\"appid\": 885790,\"ordate\": \"24.08.2018\"},{\"appid\": 1369630,\"ordate\": \"21.01.2021\"},{\"appid\": 1928420,\"ordate\": \"23.04.2023\"},{\"appid\": 2077610,\"ordate\": \"22.07.2022\"},{\"appid\": 1547300,\"ordate\": \"03.04.2021\"},{\"appid\": 2856030,\"ordate\": \"19.03.2024\"},{\"appid\": 1674890,\"ordate\": \"17.08.2021\"},{\"appid\": 542570,\"ordate\": \"20.01.2017\"},{\"appid\": 2620200,\"ordate\": \"26.05.2024\"},{\"appid\": 2521460,\"ordate\": \"03.08.2023\"},{\"appid\": 1412960,\"ordate\": \"31.03.2023\"},{\"appid\": 2641500,\"ordate\": \"30.10.2023\"},{\"appid\": 1294720,\"ordate\": \"06.11.2020\"},{\"appid\": 1609220,\"ordate\": \"24.02.2022\"},{\"appid\": 264300,\"ordate\": \"03.06.2014\"},{\"appid\": 686620,\"ordate\": \"18.11.2017\"},{\"appid\": 464350,\"ordate\": \"20.06.2016\"},{\"appid\": 1253450,\"ordate\": \"23.07.2020\"},{\"appid\": 1255050,\"ordate\": \"04.09.2020\"},{\"appid\": 1751890,\"ordate\": \"21.01.2022\"},{\"appid\": 1341710,\"ordate\": \"21.04.2021\"},{\"appid\": 1946590,\"ordate\": \"14.05.2022\"},{\"appid\": 1528810,\"ordate\": \"22.06.2021\"},{\"appid\": 529360,\"ordate\": \"14.12.2016\"},{\"appid\": 1557180,\"ordate\": \"21.02.2023\"},{\"appid\": 267730,\"ordate\": \"17.02.2014\"},{\"appid\": 584890,\"ordate\": \"20.12.2017\"},{\"appid\": 1316870,\"ordate\": \"06.10.2020\"},{\"appid\": 1848840,\"ordate\": \"23.01.2022\"},{\"appid\": 1690040,\"ordate\": \"30.11.2021\"},{\"appid\": 939510,\"ordate\": \"02.05.2019\"},{\"appid\": 527380,\"ordate\": \"17.11.2016\"},{\"appid\": 1585930,\"ordate\": \"28.04.2021\"},{\"appid\": 524010,\"ordate\": \"17.04.2019\"},{\"appid\": 746660,\"ordate\": \"28.02.2018\"},{\"appid\": 767930,\"ordate\": \"07.05.2018\"},{\"appid\": 544390,\"ordate\": \"02.10.2018\"},{\"appid\": 1641670,\"ordate\": \"22.01.2022\"},{\"appid\": 466240,\"ordate\": \"07.10.2016\"},{\"appid\": 2714910,\"ordate\": \"25.06.2024\"},{\"appid\": 2529740,\"ordate\": \"02.04.2024\"},{\"appid\": 283160,\"ordate\": \"07.06.2016\"},{\"appid\": 2231040,\"ordate\": \"24.08.2023\"},{\"appid\": 681660,\"ordate\": \"29.05.2018\"},{\"appid\": 425670,\"ordate\": \"26.04.2016\"},{\"appid\": 289130,\"ordate\": \"24.04.2014\"},{\"appid\": 1274710,\"ordate\": \"03.09.2021\"},{\"appid\": 422020,\"ordate\": \"08.01.2016\"},{\"appid\": 556310,\"ordate\": \"07.04.2017\"},{\"appid\": 2701770,\"ordate\": \"25.06.2024\"},{\"appid\": 2542110,\"ordate\": \"20.09.2023\"},{\"appid\": 1919740,\"ordate\": \"19.08.2022\"},{\"appid\": 1348750,\"ordate\": \"03.12.2021\"},{\"appid\": 1696670,\"ordate\": \"27.05.2022\"},{\"appid\": 1090930,\"ordate\": \"11.07.2019\"},{\"appid\": 455300,\"ordate\": \"16.05.2019\"},{\"appid\": 1353300,\"ordate\": \"27.07.2020\"},{\"appid\": 1807240,\"ordate\": \"29.12.2021\"},{\"appid\": 2207750,\"ordate\": \"10.03.2023\"},{\"appid\": 1351500,\"ordate\": \"15.12.2020\"},{\"appid\": 428930,\"ordate\": \"28.01.2016\"},{\"appid\": 994340,\"ordate\": \"03.10.2019\"},{\"appid\": 716560,\"ordate\": \"17.10.2018\"},{\"appid\": 960900,\"ordate\": \"29.05.2019\"},{\"appid\": 1050900,\"ordate\": \"03.05.2019\"},{\"appid\": 2623100,\"ordate\": \"25.10.2023\"},{\"appid\": 2084240,\"ordate\": \"16.02.2023\"},{\"appid\": 1395270,\"ordate\": \"02.06.2021\"},{\"appid\": 595270,\"ordate\": \"27.02.2019\"},{\"appid\": 2665940,\"ordate\": \"18.06.2024\"},{\"appid\": 652520,\"ordate\": \"28.06.2017\"},{\"appid\": 475490,\"ordate\": \"19.05.2016\"},{\"appid\": 1673630,\"ordate\": \"09.06.2022\"},{\"appid\": 436520,\"ordate\": \"08.09.2016\"},{\"appid\": 502700,\"ordate\": \"21.09.2016\"},{\"appid\": 753110,\"ordate\": \"30.12.2017\"},{\"appid\": 2106080,\"ordate\": \"27.09.2022\"},{\"appid\": 883560,\"ordate\": \"08.10.2018\"},{\"appid\": 1226640,\"ordate\": \"29.07.2020\"},{\"appid\": 1117350,\"ordate\": \"01.09.2022\"},{\"appid\": 1497640,\"ordate\": \"22.04.2022\"},{\"appid\": 610310,\"ordate\": \"14.04.2017\"},{\"appid\": 503690,\"ordate\": \"26.08.2016\"},{\"appid\": 1303760,\"ordate\": \"14.05.2020\"},{\"appid\": 893790,\"ordate\": \"29.10.2018\"},{\"appid\": 402570,\"ordate\": \"13.05.2016\"},{\"appid\": 2186300,\"ordate\": \"07.11.2022\"},{\"appid\": 2311230,\"ordate\": \"11.03.2024\"},{\"appid\": 1901330,\"ordate\": \"24.11.2022\"},{\"appid\": 2529090,\"ordate\": \"16.09.2024\"},{\"appid\": 1830190,\"ordate\": \"16.12.2022\"},{\"appid\": 2662740,\"ordate\": \"10.11.2023\"},{\"appid\": 1843470,\"ordate\": \"18.09.2023\"},{\"appid\": 710610,\"ordate\": \"21.11.2017\"},{\"appid\": 2518350,\"ordate\": \"20.10.2023\"},{\"appid\": 1688390,\"ordate\": \"29.07.2021\"},{\"appid\": 1990050,\"ordate\": \"02.08.2022\"},{\"appid\": 299440,\"ordate\": \"15.07.2014\"},{\"appid\": 841770,\"ordate\": \"25.05.2018\"},{\"appid\": 2738910,\"ordate\": \"13.08.2024\"},{\"appid\": 963490,\"ordate\": \"13.06.2019\"},{\"appid\": 1202930,\"ordate\": \"10.04.2020\"},{\"appid\": 2296320,\"ordate\": \"09.05.2023\"},{\"appid\": 378810,\"ordate\": \"30.09.2015\"},{\"appid\": 2719400,\"ordate\": \"02.02.2024\"},{\"appid\": 1961060,\"ordate\": \"02.11.2022\"},{\"appid\": 920690,\"ordate\": \"09.10.2018\"},{\"appid\": 798240,\"ordate\": \"25.04.2018\"},{\"appid\": 1720750,\"ordate\": \"05.09.2021\"},{\"appid\": 1154080,\"ordate\": \"07.01.2020\"},{\"appid\": 3022510,\"ordate\": \"17.07.2024\"},{\"appid\": 2853840,\"ordate\": \"05.05.2024\"},{\"appid\": 1519010,\"ordate\": \"15.02.2022\"},{\"appid\": 2077940,\"ordate\": \"04.02.2023\"},{\"appid\": 3101920,\"ordate\": \"31.07.2024\"},{\"appid\": 907380,\"ordate\": \"27.09.2018\"},{\"appid\": 357070,\"ordate\": \"25.03.2015\"},{\"appid\": 521920,\"ordate\": \"01.09.2016\"},{\"appid\": 2860400,\"ordate\": \"05.07.2024\"},{\"appid\": 2196870,\"ordate\": \"18.11.2023\"},{\"appid\": 2607310,\"ordate\": \"28.10.2023\"},{\"appid\": 475530,\"ordate\": \"27.03.2017\"},{\"appid\": 371200,\"ordate\": \"21.04.2016\"},{\"appid\": 369990,\"ordate\": \"22.10.2015\"},{\"appid\": 1013200,\"ordate\": \"26.07.2019\"},{\"appid\": 2604980,\"ordate\": \"29.02.2024\"},{\"appid\": 1642790,\"ordate\": \"30.11.2022\"},{\"appid\": 589730,\"ordate\": \"17.02.2017\"},{\"appid\": 1133070,\"ordate\": \"16.10.2019\"},{\"appid\": 285070,\"ordate\": \"04.09.2015\"},{\"appid\": 453960,\"ordate\": \"25.04.2016\"},{\"appid\": 2646120,\"ordate\": \"27.02.2024\"},{\"appid\": 391280,\"ordate\": \"25.07.2016\"},{\"appid\": 1918080,\"ordate\": \"25.03.2022\"},{\"appid\": 2338950,\"ordate\": \"21.07.2023\"},{\"appid\": 437870,\"ordate\": \"12.02.2016\"},{\"appid\": 738210,\"ordate\": \"17.11.2017\"},{\"appid\": 468100,\"ordate\": \"13.07.2016\"},{\"appid\": 351720,\"ordate\": \"02.12.2015\"},{\"appid\": 1950270,\"ordate\": \"17.01.2023\"},{\"appid\": 1327370,\"ordate\": \"11.06.2020\"},{\"appid\": 494830,\"ordate\": \"08.07.2016\"},{\"appid\": 1188430,\"ordate\": \"22.11.2019\"},{\"appid\": 1322090,\"ordate\": \"04.06.2020\"},{\"appid\": 1174390,\"ordate\": \"18.11.2019\"},{\"appid\": 2376870,\"ordate\": \"13.05.2024\"},{\"appid\": 1621450,\"ordate\": \"07.07.2021\"},{\"appid\": 2163400,\"ordate\": \"09.05.2023\"},{\"appid\": 1497230,\"ordate\": \"23.04.2021\"},{\"appid\": 2281480,\"ordate\": \"07.06.2023\"},{\"appid\": 1029470,\"ordate\": \"28.02.2019\"},{\"appid\": 260330,\"ordate\": \"03.05.2014\"},{\"appid\": 615630,\"ordate\": \"08.04.2017\"},{\"appid\": 2244480,\"ordate\": \"28.02.2023\"},{\"appid\": 331200,\"ordate\": \"13.11.2014\"},{\"appid\": 1743830,\"ordate\": \"02.03.2023\"},{\"appid\": 1314300,\"ordate\": \"19.06.2020\"},{\"appid\": 2595540,\"ordate\": \"10.05.2024\"},{\"appid\": 2080100,\"ordate\": \"29.07.2022\"},{\"appid\": 832140,\"ordate\": \"10.08.2020\"},{\"appid\": 438300,\"ordate\": \"01.07.2016\"},{\"appid\": 825500,\"ordate\": \"13.04.2018\"},{\"appid\": 2068400,\"ordate\": \"10.01.2023\"},{\"appid\": 2821440,\"ordate\": \"17.05.2024\"},{\"appid\": 1895860,\"ordate\": \"09.04.2022\"},{\"appid\": 1422980,\"ordate\": \"18.12.2020\"},{\"appid\": 1577940,\"ordate\": \"11.08.2021\"},{\"appid\": 916930,\"ordate\": \"06.09.2018\"},{\"appid\": 571340,\"ordate\": \"26.04.2017\"},{\"appid\": 2253110,\"ordate\": \"14.07.2023\"},{\"appid\": 2222530,\"ordate\": \"09.01.2023\"},{\"appid\": 446150,\"ordate\": \"20.09.2017\"},{\"appid\": 1593780,\"ordate\": \"17.11.2022\"},{\"appid\": 2736710,\"ordate\": \"06.01.2024\"},{\"appid\": 1491480,\"ordate\": \"30.12.2020\"},{\"appid\": 675270,\"ordate\": \"02.01.2020\"},{\"appid\": 464020,\"ordate\": \"17.02.2018\"},{\"appid\": 2110550,\"ordate\": \"05.11.2022\"},{\"appid\": 1520240,\"ordate\": \"04.03.2021\"},{\"appid\": 1361180,\"ordate\": \"29.08.2020\"},{\"appid\": 521950,\"ordate\": \"01.12.2016\"},{\"appid\": 1162570,\"ordate\": \"02.03.2021\"},{\"appid\": 1111760,\"ordate\": \"05.08.2019\"},{\"appid\": 1386500,\"ordate\": \"06.08.2020\"},{\"appid\": 1978380,\"ordate\": \"24.01.2023\"},{\"appid\": 823910,\"ordate\": \"08.02.2020\"},{\"appid\": 1572220,\"ordate\": \"17.06.2021\"},{\"appid\": 1372630,\"ordate\": \"05.08.2020\"},{\"appid\": 666090,\"ordate\": \"02.10.2017\"},{\"appid\": 1520880,\"ordate\": \"29.01.2022\"},{\"appid\": 610960,\"ordate\": \"21.04.2017\"},{\"appid\": 566530,\"ordate\": \"19.12.2016\"},{\"appid\": 513300,\"ordate\": \"14.10.2016\"},{\"appid\": 1693430,\"ordate\": \"06.08.2021\"},{\"appid\": 1151130,\"ordate\": \"15.10.2022\"},{\"appid\": 347160,\"ordate\": \"18.05.2015\"},{\"appid\": 1514170,\"ordate\": \"21.07.2021\"},{\"appid\": 436490,\"ordate\": \"05.04.2016\"},{\"appid\": 1028680,\"ordate\": \"15.03.2019\"},{\"appid\": 2131020,\"ordate\": \"31.08.2023\"},{\"appid\": 2868920,\"ordate\": \"01.04.2024\"},{\"appid\": 2330870,\"ordate\": \"13.11.2023\"},{\"appid\": 253510,\"ordate\": \"08.07.2014\"},{\"appid\": 658420,\"ordate\": \"23.08.2017\"},{\"appid\": 1586650,\"ordate\": \"07.05.2021\"},{\"appid\": 1870280,\"ordate\": \"09.03.2022\"},{\"appid\": 815290,\"ordate\": \"17.09.2018\"},{\"appid\": 1173380,\"ordate\": \"12.09.2020\"},{\"appid\": 812020,\"ordate\": \"24.04.2018\"},{\"appid\": 355370,\"ordate\": \"31.01.2017\"},{\"appid\": 2318430,\"ordate\": \"31.03.2023\"},{\"appid\": 1617160,\"ordate\": \"11.06.2021\"},{\"appid\": 2093970,\"ordate\": \"18.07.2023\"},{\"appid\": 316370,\"ordate\": \"24.06.2015\"},{\"appid\": 611830,\"ordate\": \"19.07.2017\"},{\"appid\": 1269540,\"ordate\": \"13.04.2020\"},{\"appid\": 379610,\"ordate\": \"04.08.2016\"},{\"appid\": 2878420,\"ordate\": \"22.05.2024\"},{\"appid\": 1179880,\"ordate\": \"13.04.2020\"},{\"appid\": 1720850,\"ordate\": \"15.11.2021\"},{\"appid\": 2533020,\"ordate\": \"15.07.2024\"},{\"appid\": 1041400,\"ordate\": \"15.04.2019\"},{\"appid\": 1318280,\"ordate\": \"30.11.2021\"},{\"appid\": 2510050,\"ordate\": \"25.10.2023\"},{\"appid\": 712060,\"ordate\": \"11.12.2017\"},{\"appid\": 1162900,\"ordate\": \"22.11.2019\"},{\"appid\": 635260,\"ordate\": \"07.07.2017\"},{\"appid\": 593490,\"ordate\": \"26.05.2017\"},{\"appid\": 2220480,\"ordate\": \"01.01.2023\"},{\"appid\": 961040,\"ordate\": \"18.04.2019\"},{\"appid\": 380570,\"ordate\": \"31.07.2015\"},{\"appid\": 2687830,\"ordate\": \"20.06.2024\"},{\"appid\": 376520,\"ordate\": \"10.03.2016\"},{\"appid\": 3027490,\"ordate\": \"22.06.2024\"},{\"appid\": 2775610,\"ordate\": \"16.07.2024\"},{\"appid\": 2203990,\"ordate\": \"16.12.2022\"},{\"appid\": 1491170,\"ordate\": \"11.02.2021\"},{\"appid\": 1403990,\"ordate\": \"04.12.2021\"},{\"appid\": 2762980,\"ordate\": \"01.03.2024\"},{\"appid\": 342020,\"ordate\": \"28.01.2015\"},{\"appid\": 279070,\"ordate\": \"07.06.2016\"},{\"appid\": 1631850,\"ordate\": \"31.05.2021\"},{\"appid\": 353640,\"ordate\": \"07.05.2015\"},{\"appid\": 1625340,\"ordate\": \"07.04.2022\"},{\"appid\": 1127110,\"ordate\": \"20.12.2019\"},{\"appid\": 1437770,\"ordate\": \"12.10.2020\"},{\"appid\": 1641410,\"ordate\": \"21.06.2021\"},{\"appid\": 531270,\"ordate\": \"08.10.2016\"},{\"appid\": 520510,\"ordate\": \"24.09.2016\"},{\"appid\": 2480950,\"ordate\": \"22.03.2024\"},{\"appid\": 1160020,\"ordate\": \"24.01.2020\"},{\"appid\": 1013960,\"ordate\": \"10.05.2019\"},{\"appid\": 2179720,\"ordate\": \"03.12.2022\"},{\"appid\": 2382540,\"ordate\": \"25.05.2023\"},{\"appid\": 427910,\"ordate\": \"11.03.2016\"},{\"appid\": 570420,\"ordate\": \"28.07.2017\"},{\"appid\": 432230,\"ordate\": \"20.05.2016\"},{\"appid\": 320540,\"ordate\": \"26.02.2015\"},{\"appid\": 1175640,\"ordate\": \"19.11.2019\"},{\"appid\": 2796980,\"ordate\": \"27.06.2024\"},{\"appid\": 1859630,\"ordate\": \"21.01.2022\"},{\"appid\": 322750,\"ordate\": \"24.01.2017\"},{\"appid\": 586130,\"ordate\": \"06.04.2017\"},{\"appid\": 2184720,\"ordate\": \"11.11.2022\"},{\"appid\": 1118050,\"ordate\": \"09.08.2019\"},{\"appid\": 2208040,\"ordate\": \"02.06.2023\"},{\"appid\": 2462660,\"ordate\": \"11.07.2023\"},{\"appid\": 1171690,\"ordate\": \"11.06.2024\"},{\"appid\": 385310,\"ordate\": \"15.07.2015\"},{\"appid\": 263760,\"ordate\": \"10.01.2014\"},{\"appid\": 495200,\"ordate\": \"20.07.2016\"},{\"appid\": 1733860,\"ordate\": \"12.11.2021\"},{\"appid\": 1087720,\"ordate\": \"07.06.2019\"},{\"appid\": 2085330,\"ordate\": \"01.03.2023\"},{\"appid\": 1048100,\"ordate\": \"29.03.2019\"},{\"appid\": 992640,\"ordate\": \"18.04.2019\"},{\"appid\": 1199450,\"ordate\": \"26.01.2020\"},{\"appid\": 1347880,\"ordate\": \"28.08.2020\"},{\"appid\": 2142680,\"ordate\": \"29.11.2023\"},{\"appid\": 1536420,\"ordate\": \"13.02.2021\"},{\"appid\": 325790,\"ordate\": \"06.04.2015\"},{\"appid\": 1270100,\"ordate\": \"29.07.2020\"},{\"appid\": 3098850,\"ordate\": \"28.08.2024\"},{\"appid\": 1217310,\"ordate\": \"25.04.2020\"},{\"appid\": 1457220,\"ordate\": \"22.05.2022\"},{\"appid\": 1380010,\"ordate\": \"14.08.2020\"},{\"appid\": 1299260,\"ordate\": \"19.06.2020\"},{\"appid\": 1503850,\"ordate\": \"04.01.2021\"},{\"appid\": 1417540,\"ordate\": \"02.10.2020\"},{\"appid\": 2422590,\"ordate\": \"25.05.2023\"},{\"appid\": 1540570,\"ordate\": \"10.06.2021\"},{\"appid\": 2556670,\"ordate\": \"04.09.2023\"},{\"appid\": 661290,\"ordate\": \"14.03.2019\"},{\"appid\": 462520,\"ordate\": \"30.07.2016\"},{\"appid\": 1223350,\"ordate\": \"25.04.2020\"},{\"appid\": 1288130,\"ordate\": \"24.06.2020\"},{\"appid\": 354030,\"ordate\": \"01.08.2015\"},{\"appid\": 567060,\"ordate\": \"20.01.2017\"},{\"appid\": 1721570,\"ordate\": \"01.11.2021\"},{\"appid\": 1032450,\"ordate\": \"24.01.2020\"},{\"appid\": 2633150,\"ordate\": \"30.10.2023\"},{\"appid\": 1613090,\"ordate\": \"28.05.2021\"},{\"appid\": 1917310,\"ordate\": \"17.03.2022\"},{\"appid\": 2057550,\"ordate\": \"04.04.2023\"},{\"appid\": 3050200,\"ordate\": \"06.08.2024\"},{\"appid\": 858860,\"ordate\": \"07.01.2019\"},{\"appid\": 1747160,\"ordate\": \"18.11.2021\"},{\"appid\": 331500,\"ordate\": \"11.03.2015\"},{\"appid\": 489600,\"ordate\": \"19.10.2016\"},{\"appid\": 2257040,\"ordate\": \"20.01.2023\"},{\"appid\": 873890,\"ordate\": \"26.03.2019\"},{\"appid\": 1073770,\"ordate\": \"12.07.2019\"},{\"appid\": 1278200,\"ordate\": \"18.05.2020\"},{\"appid\": 2198070,\"ordate\": \"12.04.2023\"},{\"appid\": 1714350,\"ordate\": \"13.09.2022\"},{\"appid\": 306660,\"ordate\": \"11.06.2014\"},{\"appid\": 319540,\"ordate\": \"06.11.2019\"},{\"appid\": 1964880,\"ordate\": \"18.07.2022\"},{\"appid\": 1094880,\"ordate\": \"12.06.2019\"},{\"appid\": 322910,\"ordate\": \"04.05.2015\"},{\"appid\": 1983990,\"ordate\": \"12.12.2023\"},{\"appid\": 327890,\"ordate\": \"03.12.2014\"},{\"appid\": 332250,\"ordate\": \"22.01.2015\"},{\"appid\": 765730,\"ordate\": \"03.09.2018\"},{\"appid\": 1694510,\"ordate\": \"12.01.2023\"},{\"appid\": 2452420,\"ordate\": \"22.06.2023\"},{\"appid\": 1237670,\"ordate\": \"26.03.2020\"},{\"appid\": 3073120,\"ordate\": \"31.07.2024\"},{\"appid\": 388260,\"ordate\": \"11.08.2015\"},{\"appid\": 319470,\"ordate\": \"26.05.2015\"},{\"appid\": 1062860,\"ordate\": \"26.10.2023\"},{\"appid\": 584850,\"ordate\": \"01.02.2017\"},{\"appid\": 713450,\"ordate\": \"15.11.2017\"},{\"appid\": 2896000,\"ordate\": \"27.05.2024\"},{\"appid\": 1499220,\"ordate\": \"25.03.2021\"},{\"appid\": 2020090,\"ordate\": \"28.10.2022\"},{\"appid\": 423620,\"ordate\": \"26.01.2016\"},{\"appid\": 464880,\"ordate\": \"15.09.2016\"},{\"appid\": 314430,\"ordate\": \"23.06.2021\"},{\"appid\": 1002930,\"ordate\": \"08.04.2019\"},{\"appid\": 1639500,\"ordate\": \"12.07.2021\"},{\"appid\": 1296580,\"ordate\": \"17.06.2020\"},{\"appid\": 246070,\"ordate\": \"06.05.2014\"},{\"appid\": 907720,\"ordate\": \"31.08.2018\"},{\"appid\": 1495570,\"ordate\": \"25.12.2020\"},{\"appid\": 297120,\"ordate\": \"15.05.2014\"},{\"appid\": 559910,\"ordate\": \"17.05.2017\"},{\"appid\": 1689090,\"ordate\": \"26.04.2022\"},{\"appid\": 428430,\"ordate\": \"22.12.2015\"},{\"appid\": 1371790,\"ordate\": \"18.08.2020\"},{\"appid\": 1510380,\"ordate\": \"05.02.2021\"},{\"appid\": 1756210,\"ordate\": \"23.07.2023\"},{\"appid\": 580300,\"ordate\": \"20.01.2017\"},{\"appid\": 619310,\"ordate\": \"28.04.2017\"},{\"appid\": 1097420,\"ordate\": \"26.07.2019\"},{\"appid\": 1144550,\"ordate\": \"22.06.2020\"},{\"appid\": 1230560,\"ordate\": \"16.04.2020\"},{\"appid\": 1882160,\"ordate\": \"15.04.2022\"},{\"appid\": 295690,\"ordate\": \"19.09.2014\"},{\"appid\": 570230,\"ordate\": \"24.12.2016\"},{\"appid\": 1370040,\"ordate\": \"15.01.2021\"},{\"appid\": 912420,\"ordate\": \"07.11.2018\"},{\"appid\": 1684670,\"ordate\": \"07.04.2022\"},{\"appid\": 1459500,\"ordate\": \"22.12.2020\"},{\"appid\": 1554790,\"ordate\": \"26.03.2021\"},{\"appid\": 1704550,\"ordate\": \"23.12.2021\"},{\"appid\": 2776500,\"ordate\": \"09.07.2024\"},{\"appid\": 214190,\"ordate\": \"08.05.2014\"},{\"appid\": 1528020,\"ordate\": \"13.05.2022\"},{\"appid\": 1170840,\"ordate\": \"18.10.2019\"},{\"appid\": 2187130,\"ordate\": \"25.03.2023\"},{\"appid\": 2428310,\"ordate\": \"15.02.2024\"},{\"appid\": 1037820,\"ordate\": \"21.01.2020\"},{\"appid\": 2364520,\"ordate\": \"28.06.2023\"},{\"appid\": 1260400,\"ordate\": \"10.09.2020\"},{\"appid\": 1755240,\"ordate\": \"18.06.2022\"},{\"appid\": 2818260,\"ordate\": \"16.05.2024\"},{\"appid\": 605200,\"ordate\": \"11.03.2017\"},{\"appid\": 1580250,\"ordate\": \"02.06.2021\"},{\"appid\": 269730,\"ordate\": \"17.04.2014\"},{\"appid\": 2283400,\"ordate\": \"17.02.2023\"},{\"appid\": 1700630,\"ordate\": \"25.05.2022\"},{\"appid\": 1078820,\"ordate\": \"24.06.2019\"},{\"appid\": 1862690,\"ordate\": \"13.12.2022\"},{\"appid\": 501950,\"ordate\": \"12.05.2017\"},{\"appid\": 1707630,\"ordate\": \"06.09.2021\"},{\"appid\": 1384110,\"ordate\": \"15.06.2021\"},{\"appid\": 1284540,\"ordate\": \"18.05.2020\"},{\"appid\": 680360,\"ordate\": \"05.10.2017\"},{\"appid\": 1968500,\"ordate\": \"11.08.2022\"},{\"appid\": 837240,\"ordate\": \"19.05.2018\"},{\"appid\": 3036820,\"ordate\": \"30.06.2024\"},{\"appid\": 3084510,\"ordate\": \"28.07.2024\"},{\"appid\": 3091200,\"ordate\": \"28.07.2024\"},{\"appid\": 2060670,\"ordate\": \"09.12.2022\"},{\"appid\": 1446980,\"ordate\": \"29.10.2020\"},{\"appid\": 507400,\"ordate\": \"13.01.2017\"},{\"appid\": 1194930,\"ordate\": \"18.01.2020\"},{\"appid\": 397390,\"ordate\": \"24.11.2015\"},{\"appid\": 907980,\"ordate\": \"20.11.2020\"},{\"appid\": 914930,\"ordate\": \"15.09.2022\"},{\"appid\": 2516030,\"ordate\": \"13.09.2023\"},{\"appid\": 923590,\"ordate\": \"10.12.2018\"},{\"appid\": 2427470,\"ordate\": \"30.05.2023\"},{\"appid\": 476020,\"ordate\": \"25.10.2016\"},{\"appid\": 1166140,\"ordate\": \"24.11.2023\"},{\"appid\": 1265220,\"ordate\": \"26.05.2020\"},{\"appid\": 493290,\"ordate\": \"07.08.2016\"},{\"appid\": 1030210,\"ordate\": \"13.06.2020\"},{\"appid\": 319910,\"ordate\": \"21.04.2015\"},{\"appid\": 788390,\"ordate\": \"01.08.2018\"},{\"appid\": 2974740,\"ordate\": \"29.05.2024\"},{\"appid\": 321360,\"ordate\": \"04.12.2014\"},{\"appid\": 2532340,\"ordate\": \"31.07.2024\"},{\"appid\": 1358260,\"ordate\": \"01.12.2020\"},{\"appid\": 1177490,\"ordate\": \"16.11.2019\"},{\"appid\": 2168810,\"ordate\": \"27.04.2023\"},{\"appid\": 1745400,\"ordate\": \"23.11.2021\"},{\"appid\": 1930740,\"ordate\": \"13.07.2022\"},{\"appid\": 2827810,\"ordate\": \"08.07.2024\"},{\"appid\": 569130,\"ordate\": \"16.04.2017\"},{\"appid\": 646100,\"ordate\": \"30.05.2017\"},{\"appid\": 1256980,\"ordate\": \"30.04.2020\"},{\"appid\": 384990,\"ordate\": \"29.07.2015\"},{\"appid\": 375320,\"ordate\": \"01.07.2015\"},{\"appid\": 438920,\"ordate\": \"11.02.2016\"},{\"appid\": 1609010,\"ordate\": \"27.03.2022\"},{\"appid\": 1360580,\"ordate\": \"13.08.2020\"},{\"appid\": 1098200,\"ordate\": \"06.07.2019\"},{\"appid\": 608630,\"ordate\": \"06.10.2017\"},{\"appid\": 1499800,\"ordate\": \"13.05.2021\"},{\"appid\": 1586710,\"ordate\": \"25.10.2023\"},{\"appid\": 244450,\"ordate\": \"16.01.2014\"},{\"appid\": 371430,\"ordate\": \"15.09.2015\"},{\"appid\": 1098100,\"ordate\": \"15.08.2019\"},{\"appid\": 1029750,\"ordate\": \"07.03.2019\"},{\"appid\": 881230,\"ordate\": \"15.08.2018\"},{\"appid\": 322540,\"ordate\": \"10.02.2015\"},{\"appid\": 1689500,\"ordate\": \"14.11.2023\"},{\"appid\": 2404530,\"ordate\": \"23.06.2023\"},{\"appid\": 2960770,\"ordate\": \"25.07.2024\"},{\"appid\": 3081810,\"ordate\": \"06.08.2024\"},{\"appid\": 2782520,\"ordate\": \"06.05.2024\"},{\"appid\": 317080,\"ordate\": \"18.09.2014\"},{\"appid\": 1589480,\"ordate\": \"20.04.2021\"},{\"appid\": 838330,\"ordate\": \"02.08.2018\"},{\"appid\": 2738380,\"ordate\": \"17.05.2024\"},{\"appid\": 381050,\"ordate\": \"08.08.2015\"},{\"appid\": 354400,\"ordate\": \"07.05.2016\"},{\"appid\": 1162050,\"ordate\": \"16.05.2020\"},{\"appid\": 1886290,\"ordate\": \"21.06.2022\"},{\"appid\": 1165740,\"ordate\": \"25.10.2019\"},{\"appid\": 268750,\"ordate\": \"11.02.2014\"},{\"appid\": 909630,\"ordate\": \"09.11.2018\"},{\"appid\": 536900,\"ordate\": \"28.02.2020\"},{\"appid\": 1076500,\"ordate\": \"11.10.2019\"},{\"appid\": 1338610,\"ordate\": \"25.11.2020\"},{\"appid\": 2240390,\"ordate\": \"23.02.2023\"},{\"appid\": 365870,\"ordate\": \"12.05.2015\"},{\"appid\": 429620,\"ordate\": \"11.05.2016\"},{\"appid\": 758010,\"ordate\": \"30.03.2021\"},{\"appid\": 1219950,\"ordate\": \"06.06.2020\"},{\"appid\": 335830,\"ordate\": \"10.12.2014\"},{\"appid\": 2716200,\"ordate\": \"28.03.2024\"},{\"appid\": 812900,\"ordate\": \"13.04.2018\"},{\"appid\": 734580,\"ordate\": \"29.11.2017\"},{\"appid\": 887820,\"ordate\": \"17.11.2018\"},{\"appid\": 1384390,\"ordate\": \"03.10.2020\"},{\"appid\": 495030,\"ordate\": \"14.07.2016\"},{\"appid\": 1418430,\"ordate\": \"30.10.2020\"},{\"appid\": 1198440,\"ordate\": \"03.01.2020\"},{\"appid\": 646200,\"ordate\": \"08.06.2017\"},{\"appid\": 2172150,\"ordate\": \"21.10.2022\"},{\"appid\": 1994300,\"ordate\": \"07.12.2022\"},{\"appid\": 697370,\"ordate\": \"04.10.2017\"},{\"appid\": 2411210,\"ordate\": \"23.06.2023\"},{\"appid\": 1108390,\"ordate\": \"16.04.2020\"},{\"appid\": 1452200,\"ordate\": \"03.04.2021\"},{\"appid\": 408110,\"ordate\": \"09.01.2016\"},{\"appid\": 1122120,\"ordate\": \"20.12.2019\"},{\"appid\": 2455080,\"ordate\": \"04.01.2024\"},{\"appid\": 2943280,\"ordate\": \"12.07.2024\"},{\"appid\": 2269530,\"ordate\": \"30.10.2023\"},{\"appid\": 1755530,\"ordate\": \"27.11.2021\"},{\"appid\": 674180,\"ordate\": \"12.08.2017\"},{\"appid\": 388010,\"ordate\": \"07.08.2015\"},{\"appid\": 1249620,\"ordate\": \"25.03.2020\"},{\"appid\": 2701350,\"ordate\": \"21.03.2024\"},{\"appid\": 1937200,\"ordate\": \"19.05.2023\"},{\"appid\": 2159450,\"ordate\": \"06.10.2023\"},{\"appid\": 2006390,\"ordate\": \"11.07.2022\"},{\"appid\": 2773910,\"ordate\": \"11.02.2024\"},{\"appid\": 1089590,\"ordate\": \"10.09.2019\"},{\"appid\": 2133530,\"ordate\": \"31.10.2022\"},{\"appid\": 2057840,\"ordate\": \"24.10.2022\"},{\"appid\": 1116190,\"ordate\": \"22.07.2019\"},{\"appid\": 1790740,\"ordate\": \"01.12.2021\"},{\"appid\": 2219970,\"ordate\": \"13.02.2023\"},{\"appid\": 1372180,\"ordate\": \"19.09.2020\"},{\"appid\": 2142450,\"ordate\": \"03.05.2023\"},{\"appid\": 385020,\"ordate\": \"13.07.2015\"},{\"appid\": 889720,\"ordate\": \"31.10.2018\"},{\"appid\": 1612500,\"ordate\": \"10.03.2022\"},{\"appid\": 1444370,\"ordate\": \"03.11.2020\"},{\"appid\": 522250,\"ordate\": \"19.09.2016\"},{\"appid\": 2086570,\"ordate\": \"29.07.2022\"},{\"appid\": 1937750,\"ordate\": \"23.08.2022\"},{\"appid\": 1033810,\"ordate\": \"01.05.2019\"},{\"appid\": 1569120,\"ordate\": \"23.03.2021\"},{\"appid\": 1595000,\"ordate\": \"24.04.2021\"},{\"appid\": 832610,\"ordate\": \"06.06.2018\"},{\"appid\": 2298300,\"ordate\": \"26.05.2023\"},{\"appid\": 709280,\"ordate\": \"17.10.2017\"},{\"appid\": 2749170,\"ordate\": \"17.01.2024\"},{\"appid\": 1360530,\"ordate\": \"16.07.2020\"},{\"appid\": 2521100,\"ordate\": \"04.08.2023\"},{\"appid\": 820310,\"ordate\": \"05.04.2018\"},{\"appid\": 1933050,\"ordate\": \"12.05.2022\"},{\"appid\": 1543240,\"ordate\": \"22.07.2021\"},{\"appid\": 2627600,\"ordate\": \"15.01.2024\"},{\"appid\": 2734460,\"ordate\": \"03.01.2024\"},{\"appid\": 1589770,\"ordate\": \"21.09.2021\"},{\"appid\": 2391900,\"ordate\": \"01.03.2024\"},{\"appid\": 1240270,\"ordate\": \"31.07.2020\"},{\"appid\": 1700330,\"ordate\": \"06.08.2021\"},{\"appid\": 2664880,\"ordate\": \"01.10.2024\"},{\"appid\": 704300,\"ordate\": \"20.10.2017\"},{\"appid\": 858360,\"ordate\": \"26.06.2018\"},{\"appid\": 2242220,\"ordate\": \"11.01.2023\"},{\"appid\": 1247490,\"ordate\": \"02.03.2020\"},{\"appid\": 3167100,\"ordate\": \"19.09.2024\"},{\"appid\": 1447060,\"ordate\": \"28.10.2020\"},{\"appid\": 2438540,\"ordate\": \"02.09.2023\"},{\"appid\": 2726110,\"ordate\": \"24.01.2024\"},{\"appid\": 1985430,\"ordate\": \"27.06.2022\"},{\"appid\": 2620240,\"ordate\": \"09.05.2024\"},{\"appid\": 296710,\"ordate\": \"29.01.2015\"},{\"appid\": 1038850,\"ordate\": \"17.05.2019\"},{\"appid\": 2065810,\"ordate\": \"08.12.2022\"},{\"appid\": 575970,\"ordate\": \"07.12.2017\"},{\"appid\": 1004210,\"ordate\": \"08.01.2019\"},{\"appid\": 2228220,\"ordate\": \"03.02.2023\"},{\"appid\": 1314410,\"ordate\": \"18.06.2020\"},{\"appid\": 496310,\"ordate\": \"08.07.2016\"},{\"appid\": 1032830,\"ordate\": \"01.07.2019\"},{\"appid\": 2067790,\"ordate\": \"07.12.2022\"},{\"appid\": 1228970,\"ordate\": \"05.02.2020\"},{\"appid\": 1654800,\"ordate\": \"08.10.2021\"},{\"appid\": 545890,\"ordate\": \"13.12.2016\"},{\"appid\": 863420,\"ordate\": \"15.06.2018\"},{\"appid\": 2132450,\"ordate\": \"18.10.2022\"},{\"appid\": 815450,\"ordate\": \"21.03.2018\"},{\"appid\": 2707960,\"ordate\": \"12.12.2023\"},{\"appid\": 2469950,\"ordate\": \"21.09.2024\"},{\"appid\": 932210,\"ordate\": \"16.09.2019\"},{\"appid\": 1254950,\"ordate\": \"22.04.2020\"},{\"appid\": 1791120,\"ordate\": \"12.12.2021\"},{\"appid\": 2367560,\"ordate\": \"28.06.2023\"},{\"appid\": 313630,\"ordate\": \"18.02.2016\"},{\"appid\": 1952630,\"ordate\": \"05.05.2023\"},{\"appid\": 758790,\"ordate\": \"27.12.2017\"},{\"appid\": 2570230,\"ordate\": \"14.02.2024\"},{\"appid\": 1402790,\"ordate\": \"17.09.2020\"},{\"appid\": 1004560,\"ordate\": \"01.02.2019\"},{\"appid\": 1354690,\"ordate\": \"11.02.2021\"},{\"appid\": 1162320,\"ordate\": \"31.10.2019\"},{\"appid\": 414090,\"ordate\": \"30.11.2015\"},{\"appid\": 2347410,\"ordate\": \"13.07.2023\"},{\"appid\": 2378910,\"ordate\": \"03.10.2024\"},{\"appid\": 325260,\"ordate\": \"27.04.2020\"},{\"appid\": 2051620,\"ordate\": \"28.03.2024\"},{\"appid\": 2286320,\"ordate\": \"03.02.2023\"},{\"appid\": 2707350,\"ordate\": \"04.06.2024\"},{\"appid\": 1068510,\"ordate\": \"27.06.2019\"},{\"appid\": 893330,\"ordate\": \"20.07.2018\"},{\"appid\": 2710560,\"ordate\": \"27.09.2024\"},{\"appid\": 2864050,\"ordate\": \"29.04.2024\"},{\"appid\": 761990,\"ordate\": \"19.04.2018\"},{\"appid\": 2444840,\"ordate\": \"08.07.2023\"},{\"appid\": 3023190,\"ordate\": \"13.08.2024\"},{\"appid\": 2358100,\"ordate\": \"25.08.2023\"},{\"appid\": 2584450,\"ordate\": \"01.10.2023\"},{\"appid\": 770320,\"ordate\": \"16.04.2018\"},{\"appid\": 603020,\"ordate\": \"04.11.2017\"},{\"appid\": 511010,\"ordate\": \"14.08.2016\"},{\"appid\": 934120,\"ordate\": \"14.12.2018\"},{\"appid\": 2075170,\"ordate\": \"03.09.2022\"},{\"appid\": 294020,\"ordate\": \"25.07.2014\"},{\"appid\": 2564770,\"ordate\": \"31.10.2023\"},{\"appid\": 3051960,\"ordate\": \"30.08.2024\"},{\"appid\": 2229920,\"ordate\": \"30.03.2023\"},{\"appid\": 2018840,\"ordate\": \"05.07.2022\"},{\"appid\": 2184470,\"ordate\": \"15.08.2024\"},{\"appid\": 973310,\"ordate\": \"14.02.2019\"},{\"appid\": 327500,\"ordate\": \"06.04.2015\"},{\"appid\": 734510,\"ordate\": \"11.11.2017\"},{\"appid\": 1203780,\"ordate\": \"18.02.2020\"},{\"appid\": 577180,\"ordate\": \"03.03.2017\"},{\"appid\": 1243310,\"ordate\": \"31.07.2023\"},{\"appid\": 1183670,\"ordate\": \"11.11.2019\"},{\"appid\": 1196500,\"ordate\": \"21.03.2020\"},{\"appid\": 705640,\"ordate\": \"11.09.2017\"},{\"appid\": 1797510,\"ordate\": \"11.04.2022\"},{\"appid\": 2107090,\"ordate\": \"15.04.2024\"},{\"appid\": 1716770,\"ordate\": \"08.09.2021\"},{\"appid\": 1394830,\"ordate\": \"31.08.2020\"},{\"appid\": 1840870,\"ordate\": \"29.12.2021\"},{\"appid\": 2005810,\"ordate\": \"08.06.2022\"},{\"appid\": 3179280,\"ordate\": \"22.10.2024\"},{\"appid\": 2807860,\"ordate\": \"09.09.2024\"},{\"appid\": 2830770,\"ordate\": \"25.09.2024\"},{\"appid\": 1392520,\"ordate\": \"25.10.2020\"},{\"appid\": 1096600,\"ordate\": \"22.07.2020\"},{\"appid\": 1050560,\"ordate\": \"08.05.2019\"},{\"appid\": 2410260,\"ordate\": \"08.06.2023\"},{\"appid\": 1447080,\"ordate\": \"03.11.2020\"},{\"appid\": 2181770,\"ordate\": \"11.11.2022\"},{\"appid\": 1261700,\"ordate\": \"22.04.2020\"},{\"appid\": 2622850,\"ordate\": \"24.11.2023\"},{\"appid\": 1744570,\"ordate\": \"21.01.2022\"},{\"appid\": 2119210,\"ordate\": \"08.12.2022\"},{\"appid\": 2678280,\"ordate\": \"12.12.2023\"},{\"appid\": 879740,\"ordate\": \"25.07.2018\"},{\"appid\": 1065880,\"ordate\": \"06.05.2019\"},{\"appid\": 2959310,\"ordate\": \"20.06.2024\"},{\"appid\": 1584090,\"ordate\": \"16.06.2021\"},{\"appid\": 751330,\"ordate\": \"31.01.2018\"},{\"appid\": 1558490,\"ordate\": \"26.03.2021\"},{\"appid\": 1431450,\"ordate\": \"19.11.2020\"},{\"appid\": 2211520,\"ordate\": \"22.02.2023\"},{\"appid\": 3138100,\"ordate\": \"22.08.2024\"},{\"appid\": 322920,\"ordate\": \"15.12.2014\"},{\"appid\": 1734970,\"ordate\": \"01.10.2021\"},{\"appid\": 564210,\"ordate\": \"27.02.2017\"},{\"appid\": 826040,\"ordate\": \"06.04.2018\"},{\"appid\": 629410,\"ordate\": \"03.08.2017\"},{\"appid\": 2853180,\"ordate\": \"29.08.2024\"},{\"appid\": 1959880,\"ordate\": \"02.05.2022\"},{\"appid\": 1219240,\"ordate\": \"16.04.2024\"},{\"appid\": 1149710,\"ordate\": \"05.08.2020\"},{\"appid\": 906770,\"ordate\": \"06.11.2018\"},{\"appid\": 1237690,\"ordate\": \"26.03.2020\"},{\"appid\": 1947280,\"ordate\": \"17.04.2022\"},{\"appid\": 2714210,\"ordate\": \"15.01.2024\"},{\"appid\": 1687470,\"ordate\": \"29.06.2022\"},{\"appid\": 2149330,\"ordate\": \"04.10.2022\"},{\"appid\": 2832780,\"ordate\": \"02.03.2024\"},{\"appid\": 822040,\"ordate\": \"19.07.2018\"},{\"appid\": 2000480,\"ordate\": \"08.07.2022\"},{\"appid\": 1406690,\"ordate\": \"24.09.2020\"},{\"appid\": 1694670,\"ordate\": \"27.01.2022\"},{\"appid\": 1297010,\"ordate\": \"23.06.2020\"},{\"appid\": 865220,\"ordate\": \"20.07.2018\"},{\"appid\": 2334130,\"ordate\": \"02.10.2023\"},{\"appid\": 1485120,\"ordate\": \"27.02.2021\"},{\"appid\": 1014730,\"ordate\": \"31.01.2019\"},{\"appid\": 1597280,\"ordate\": \"25.08.2021\"},{\"appid\": 555050,\"ordate\": \"28.07.2017\"},{\"appid\": 1207780,\"ordate\": \"17.01.2020\"},{\"appid\": 1077600,\"ordate\": \"05.07.2019\"},{\"appid\": 1053830,\"ordate\": \"11.07.2019\"},{\"appid\": 2098560,\"ordate\": \"23.10.2023\"},{\"appid\": 1744640,\"ordate\": \"08.10.2021\"},{\"appid\": 1709070,\"ordate\": \"12.02.2022\"},{\"appid\": 2022270,\"ordate\": \"25.06.2022\"},{\"appid\": 2436420,\"ordate\": \"10.08.2023\"},{\"appid\": 814420,\"ordate\": \"04.03.2019\"},{\"appid\": 1433010,\"ordate\": \"25.05.2021\"},{\"appid\": 227060,\"ordate\": \"31.01.2014\"},{\"appid\": 808450,\"ordate\": \"13.03.2018\"},{\"appid\": 788700,\"ordate\": \"11.05.2018\"},{\"appid\": 2299400,\"ordate\": \"18.01.2024\"},{\"appid\": 839230,\"ordate\": \"03.05.2018\"},{\"appid\": 1159640,\"ordate\": \"01.10.2019\"},{\"appid\": 618080,\"ordate\": \"19.10.2017\"},{\"appid\": 310510,\"ordate\": \"23.10.2014\"},{\"appid\": 2999910,\"ordate\": \"11.06.2024\"},{\"appid\": 2150200,\"ordate\": \"21.01.2023\"},{\"appid\": 1239050,\"ordate\": \"29.07.2020\"},{\"appid\": 1489150,\"ordate\": \"19.12.2020\"},{\"appid\": 1604210,\"ordate\": \"21.10.2021\"},{\"appid\": 2708450,\"ordate\": \"15.03.2024\"},{\"appid\": 1236720,\"ordate\": \"16.04.2020\"},{\"appid\": 943130,\"ordate\": \"20.11.2018\"},{\"appid\": 1203160,\"ordate\": \"13.03.2020\"},{\"appid\": 1412030,\"ordate\": \"26.01.2021\"},{\"appid\": 1449170,\"ordate\": \"08.03.2023\"},{\"appid\": 2761940,\"ordate\": \"07.05.2024\"},{\"appid\": 2545740,\"ordate\": \"29.05.2024\"},{\"appid\": 700270,\"ordate\": \"25.10.2017\"},{\"appid\": 321330,\"ordate\": \"29.07.2015\"},{\"appid\": 1065580,\"ordate\": \"23.06.2019\"},{\"appid\": 1585750,\"ordate\": \"06.05.2021\"},{\"appid\": 445720,\"ordate\": \"03.11.2016\"},{\"appid\": 1168170,\"ordate\": \"23.10.2019\"},{\"appid\": 2400880,\"ordate\": \"07.05.2023\"},{\"appid\": 1422540,\"ordate\": \"01.10.2020\"},{\"appid\": 1780620,\"ordate\": \"18.01.2022\"},{\"appid\": 1969570,\"ordate\": \"24.02.2023\"},{\"appid\": 704880,\"ordate\": \"21.02.2019\"},{\"appid\": 914180,\"ordate\": \"28.11.2018\"},{\"appid\": 296570,\"ordate\": \"04.08.2014\"},{\"appid\": 324270,\"ordate\": \"29.05.2015\"},{\"appid\": 1703380,\"ordate\": \"04.02.2023\"},{\"appid\": 2358170,\"ordate\": \"06.04.2023\"},{\"appid\": 3102250,\"ordate\": \"31.08.2024\"},{\"appid\": 260430,\"ordate\": \"19.02.2015\"},{\"appid\": 432870,\"ordate\": \"15.01.2016\"},{\"appid\": 2251430,\"ordate\": \"25.03.2023\"},{\"appid\": 1477250,\"ordate\": \"08.01.2021\"},{\"appid\": 979530,\"ordate\": \"01.12.2018\"},{\"appid\": 364710,\"ordate\": \"17.08.2015\"},{\"appid\": 1169060,\"ordate\": \"09.12.2019\"},{\"appid\": 2620020,\"ordate\": \"24.11.2023\"},{\"appid\": 2673310,\"ordate\": \"22.03.2024\"},{\"appid\": 898780,\"ordate\": \"28.07.2018\"},{\"appid\": 2059550,\"ordate\": \"18.07.2022\"},{\"appid\": 2085240,\"ordate\": \"03.08.2023\"},{\"appid\": 1228490,\"ordate\": \"19.02.2020\"},{\"appid\": 504420,\"ordate\": \"08.08.2016\"},{\"appid\": 522590,\"ordate\": \"05.09.2016\"},{\"appid\": 1947060,\"ordate\": \"30.05.2022\"},{\"appid\": 1129720,\"ordate\": \"12.09.2019\"},{\"appid\": 1440850,\"ordate\": \"10.11.2020\"},{\"appid\": 552450,\"ordate\": \"20.12.2016\"},{\"appid\": 2298650,\"ordate\": \"05.09.2023\"},{\"appid\": 1608860,\"ordate\": \"13.08.2021\"},{\"appid\": 2659050,\"ordate\": \"15.07.2024\"},{\"appid\": 1827550,\"ordate\": \"20.12.2021\"},{\"appid\": 351910,\"ordate\": \"24.08.2015\"},{\"appid\": 758190,\"ordate\": \"31.01.2018\"},{\"appid\": 407880,\"ordate\": \"24.08.2016\"},{\"appid\": 2884070,\"ordate\": \"01.11.2024\"},{\"appid\": 895060,\"ordate\": \"16.02.2019\"},{\"appid\": 1562760,\"ordate\": \"23.06.2021\"},{\"appid\": 2563960,\"ordate\": \"10.12.2023\"},{\"appid\": 3252650,\"ordate\": \"01.11.2024\"},{\"appid\": 875530,\"ordate\": \"04.07.2018\"},{\"appid\": 1559340,\"ordate\": \"07.08.2021\"},{\"appid\": 1212870,\"ordate\": \"15.01.2020\"},{\"appid\": 800700,\"ordate\": \"12.02.2019\"},{\"appid\": 1117200,\"ordate\": \"16.11.2022\"},{\"appid\": 1502660,\"ordate\": \"29.01.2021\"},{\"appid\": 1191940,\"ordate\": \"21.01.2020\"},{\"appid\": 2693650,\"ordate\": \"14.12.2023\"},{\"appid\": 675170,\"ordate\": \"24.05.2018\"},{\"appid\": 2432940,\"ordate\": \"11.03.2024\"},{\"appid\": 116100,\"ordate\": \"27.02.2014\"},{\"appid\": 1234190,\"ordate\": \"19.02.2020\"},{\"appid\": 1720160,\"ordate\": \"12.09.2021\"},{\"appid\": 1427680,\"ordate\": \"17.11.2020\"},{\"appid\": 2939570,\"ordate\": \"02.05.2024\"},{\"appid\": 3205390,\"ordate\": \"28.09.2024\"},{\"appid\": 1348400,\"ordate\": \"04.07.2020\"},{\"appid\": 1522640,\"ordate\": \"18.06.2021\"},{\"appid\": 1118100,\"ordate\": \"13.08.2019\"},{\"appid\": 374830,\"ordate\": \"31.07.2015\"},{\"appid\": 1008890,\"ordate\": \"05.02.2019\"},{\"appid\": 1195020,\"ordate\": \"21.02.2020\"},{\"appid\": 1387200,\"ordate\": \"17.09.2020\"},{\"appid\": 1274840,\"ordate\": \"14.04.2020\"},{\"appid\": 2337710,\"ordate\": \"22.05.2023\"},{\"appid\": 1086900,\"ordate\": \"20.06.2019\"},{\"appid\": 610410,\"ordate\": \"24.10.2017\"},{\"appid\": 1860330,\"ordate\": \"18.10.2022\"},{\"appid\": 684400,\"ordate\": \"14.12.2017\"},{\"appid\": 323900,\"ordate\": \"09.04.2015\"},{\"appid\": 1960570,\"ordate\": \"01.09.2022\"},{\"appid\": 546930,\"ordate\": \"06.02.2017\"},{\"appid\": 789880,\"ordate\": \"15.02.2018\"},{\"appid\": 1619780,\"ordate\": \"19.05.2021\"},{\"appid\": 3220300,\"ordate\": \"11.10.2024\"},{\"appid\": 1101130,\"ordate\": \"13.07.2019\"},{\"appid\": 329460,\"ordate\": \"14.01.2015\"},{\"appid\": 300040,\"ordate\": \"15.08.2014\"},{\"appid\": 2165520,\"ordate\": \"24.10.2022\"},{\"appid\": 1199760,\"ordate\": \"24.05.2021\"},{\"appid\": 1722860,\"ordate\": \"01.12.2022\"},{\"appid\": 820890,\"ordate\": \"22.11.2018\"},{\"appid\": 2340320,\"ordate\": \"27.01.2024\"},{\"appid\": 1725440,\"ordate\": \"10.09.2021\"},{\"appid\": 966760,\"ordate\": \"08.01.2019\"},{\"appid\": 1389520,\"ordate\": \"31.05.2023\"},{\"appid\": 1512470,\"ordate\": \"14.05.2021\"},{\"appid\": 616390,\"ordate\": \"17.07.2023\"},{\"appid\": 1542810,\"ordate\": \"12.05.2021\"},{\"appid\": 2382310,\"ordate\": \"18.08.2024\"},{\"appid\": 1869510,\"ordate\": \"11.03.2022\"},{\"appid\": 592390,\"ordate\": \"21.02.2017\"},{\"appid\": 724470,\"ordate\": \"15.12.2017\"},{\"appid\": 1011870,\"ordate\": \"16.08.2019\"},{\"appid\": 3059240,\"ordate\": \"04.07.2024\"},{\"appid\": 1589440,\"ordate\": \"27.04.2021\"},{\"appid\": 1267240,\"ordate\": \"15.07.2020\"},{\"appid\": 2560120,\"ordate\": \"14.10.2023\"},{\"appid\": 3088040,\"ordate\": \"19.09.2024\"},{\"appid\": 2506130,\"ordate\": \"29.03.2024\"},{\"appid\": 648890,\"ordate\": \"09.09.2018\"},{\"appid\": 879670,\"ordate\": \"23.06.2018\"},{\"appid\": 1101190,\"ordate\": \"22.02.2020\"},{\"appid\": 506540,\"ordate\": \"23.12.2016\"},{\"appid\": 376450,\"ordate\": \"03.03.2016\"},{\"appid\": 1224380,\"ordate\": \"29.01.2020\"},{\"appid\": 856270,\"ordate\": \"01.02.2019\"},{\"appid\": 1249080,\"ordate\": \"15.08.2020\"},{\"appid\": 2429710,\"ordate\": \"31.07.2023\"},{\"appid\": 670280,\"ordate\": \"15.02.2018\"},{\"appid\": 1514100,\"ordate\": \"27.01.2021\"},{\"appid\": 1655660,\"ordate\": \"28.07.2021\"},{\"appid\": 1917020,\"ordate\": \"24.11.2022\"},{\"appid\": 2604240,\"ordate\": \"08.10.2023\"},{\"appid\": 673590,\"ordate\": \"10.08.2017\"},{\"appid\": 2482130,\"ordate\": \"25.08.2023\"},{\"appid\": 387060,\"ordate\": \"31.08.2015\"},{\"appid\": 1206080,\"ordate\": \"29.12.2019\"},{\"appid\": 1180700,\"ordate\": \"04.11.2019\"},{\"appid\": 1552960,\"ordate\": \"02.04.2021\"},{\"appid\": 3129720,\"ordate\": \"25.10.2024\"},{\"appid\": 356670,\"ordate\": \"24.04.2015\"},{\"appid\": 1997170,\"ordate\": \"13.06.2022\"},{\"appid\": 1400190,\"ordate\": \"17.09.2020\"},{\"appid\": 1578710,\"ordate\": \"05.05.2021\"},{\"appid\": 2728950,\"ordate\": \"07.03.2024\"},{\"appid\": 2308890,\"ordate\": \"13.07.2023\"},{\"appid\": 2194400,\"ordate\": \"07.01.2023\"},{\"appid\": 782570,\"ordate\": \"08.06.2018\"},{\"appid\": 1158750,\"ordate\": \"02.11.2019\"},{\"appid\": 1052100,\"ordate\": \"20.12.2019\"},{\"appid\": 1428790,\"ordate\": \"19.11.2020\"},{\"appid\": 2720620,\"ordate\": \"28.04.2024\"},{\"appid\": 2306980,\"ordate\": \"20.10.2023\"},{\"appid\": 815040,\"ordate\": \"23.04.2018\"},{\"appid\": 1391350,\"ordate\": \"12.09.2020\"},{\"appid\": 1985160,\"ordate\": \"21.04.2023\"},{\"appid\": 1840480,\"ordate\": \"24.07.2022\"},{\"appid\": 471730,\"ordate\": \"12.07.2016\"},{\"appid\": 661790,\"ordate\": \"02.06.2018\"},{\"appid\": 961710,\"ordate\": \"02.12.2018\"},{\"appid\": 1188140,\"ordate\": \"10.12.2019\"},{\"appid\": 2077590,\"ordate\": \"09.01.2023\"},{\"appid\": 1057180,\"ordate\": \"16.04.2019\"},{\"appid\": 960220,\"ordate\": \"31.01.2020\"},{\"appid\": 289520,\"ordate\": \"18.05.2014\"},{\"appid\": 2160680,\"ordate\": \"16.11.2022\"},{\"appid\": 1495420,\"ordate\": \"30.01.2021\"},{\"appid\": 2384790,\"ordate\": \"29.04.2023\"},{\"appid\": 2151530,\"ordate\": \"12.10.2022\"},{\"appid\": 340730,\"ordate\": \"13.01.2015\"},{\"appid\": 1088010,\"ordate\": \"15.06.2019\"},{\"appid\": 970140,\"ordate\": \"21.11.2018\"},{\"appid\": 993520,\"ordate\": \"26.04.2020\"},{\"appid\": 1897740,\"ordate\": \"07.09.2022\"},{\"appid\": 960600,\"ordate\": \"05.11.2018\"},{\"appid\": 1060180,\"ordate\": \"15.05.2019\"},{\"appid\": 491180,\"ordate\": \"05.09.2019\"},{\"appid\": 2313130,\"ordate\": \"26.02.2023\"},{\"appid\": 2753130,\"ordate\": \"08.02.2024\"},{\"appid\": 697020,\"ordate\": \"18.10.2017\"},{\"appid\": 562330,\"ordate\": \"14.12.2016\"},{\"appid\": 385360,\"ordate\": \"06.08.2015\"},{\"appid\": 847660,\"ordate\": \"06.06.2018\"},{\"appid\": 317950,\"ordate\": \"18.08.2014\"},{\"appid\": 268220,\"ordate\": \"05.03.2014\"},{\"appid\": 261530,\"ordate\": \"06.03.2014\"},{\"appid\": 356790,\"ordate\": \"27.04.2015\"},{\"appid\": 586150,\"ordate\": \"20.04.2017\"},{\"appid\": 2686580,\"ordate\": \"31.01.2024\"},{\"appid\": 2021170,\"ordate\": \"05.07.2022\"},{\"appid\": 360730,\"ordate\": \"18.09.2015\"},{\"appid\": 693180,\"ordate\": \"31.08.2017\"},{\"appid\": 1129350,\"ordate\": \"30.07.2019\"},{\"appid\": 1692070,\"ordate\": \"28.03.2022\"},{\"appid\": 1021800,\"ordate\": \"12.03.2020\"},{\"appid\": 570460,\"ordate\": \"08.02.2018\"},{\"appid\": 2014780,\"ordate\": \"16.09.2022\"},{\"appid\": 369550,\"ordate\": \"02.03.2016\"},{\"appid\": 1737100,\"ordate\": \"16.11.2021\"},{\"appid\": 2128690,\"ordate\": \"09.12.2022\"},{\"appid\": 1613530,\"ordate\": \"13.02.2022\"},{\"appid\": 827410,\"ordate\": \"27.04.2018\"},{\"appid\": 734570,\"ordate\": \"02.05.2018\"},{\"appid\": 633360,\"ordate\": \"31.10.2017\"},{\"appid\": 1243150,\"ordate\": \"26.02.2020\"},{\"appid\": 641590,\"ordate\": \"23.06.2017\"},{\"appid\": 468250,\"ordate\": \"07.02.2017\"},{\"appid\": 386080,\"ordate\": \"29.01.2016\"},{\"appid\": 2269730,\"ordate\": \"26.05.2023\"},{\"appid\": 1016860,\"ordate\": \"05.12.2019\"},{\"appid\": 3205350,\"ordate\": \"30.09.2024\"},{\"appid\": 1088950,\"ordate\": \"12.09.2019\"},{\"appid\": 654470,\"ordate\": \"10.02.2018\"},{\"appid\": 1207420,\"ordate\": \"07.01.2020\"},{\"appid\": 948020,\"ordate\": \"27.10.2018\"},{\"appid\": 2611800,\"ordate\": \"18.06.2024\"},{\"appid\": 350210,\"ordate\": \"25.08.2015\"},{\"appid\": 984220,\"ordate\": \"01.09.2020\"},{\"appid\": 1325270,\"ordate\": \"30.10.2020\"},{\"appid\": 1935960,\"ordate\": \"09.04.2022\"},{\"appid\": 2140510,\"ordate\": \"26.05.2023\"},{\"appid\": 2440550,\"ordate\": \"04.07.2023\"},{\"appid\": 2450360,\"ordate\": \"27.10.2023\"},{\"appid\": 745940,\"ordate\": \"13.01.2018\"},{\"appid\": 1431020,\"ordate\": \"13.10.2020\"},{\"appid\": 1096340,\"ordate\": \"14.11.2019\"},{\"appid\": 2905040,\"ordate\": \"26.04.2024\"},{\"appid\": 903740,\"ordate\": \"04.08.2018\"},{\"appid\": 682630,\"ordate\": \"07.10.2017\"},{\"appid\": 1729940,\"ordate\": \"22.02.2024\"},{\"appid\": 354230,\"ordate\": \"04.04.2015\"},{\"appid\": 829410,\"ordate\": \"19.04.2018\"},{\"appid\": 1535100,\"ordate\": \"09.11.2022\"},{\"appid\": 992040,\"ordate\": \"08.02.2019\"},{\"appid\": 2390850,\"ordate\": \"28.07.2023\"},{\"appid\": 1925740,\"ordate\": \"04.03.2024\"},{\"appid\": 844490,\"ordate\": \"26.06.2018\"},{\"appid\": 1539640,\"ordate\": \"13.04.2021\"},{\"appid\": 1298410,\"ordate\": \"12.07.2023\"},{\"appid\": 2302840,\"ordate\": \"15.09.2023\"},{\"appid\": 2080010,\"ordate\": \"13.10.2022\"},{\"appid\": 366440,\"ordate\": \"21.05.2016\"},{\"appid\": 1354060,\"ordate\": \"27.05.2021\"},{\"appid\": 1945190,\"ordate\": \"02.07.2022\"},{\"appid\": 641910,\"ordate\": \"18.10.2017\"},{\"appid\": 2116850,\"ordate\": \"01.09.2022\"},{\"appid\": 445600,\"ordate\": \"17.03.2016\"},{\"appid\": 1020660,\"ordate\": \"16.02.2019\"},{\"appid\": 449210,\"ordate\": \"16.03.2016\"},{\"appid\": 602270,\"ordate\": \"08.10.2019\"},{\"appid\": 1082770,\"ordate\": \"07.11.2019\"},{\"appid\": 2021280,\"ordate\": \"15.11.2022\"},{\"appid\": 1266410,\"ordate\": \"01.05.2020\"},{\"appid\": 1550020,\"ordate\": \"21.07.2021\"},{\"appid\": 2578790,\"ordate\": \"06.12.2023\"},{\"appid\": 1383050,\"ordate\": \"21.08.2020\"},{\"appid\": 660980,\"ordate\": \"07.07.2017\"},{\"appid\": 2964280,\"ordate\": \"06.06.2024\"},{\"appid\": 1008870,\"ordate\": \"20.01.2019\"},{\"appid\": 1876150,\"ordate\": \"02.03.2022\"},{\"appid\": 1722870,\"ordate\": \"25.07.2024\"},{\"appid\": 1955380,\"ordate\": \"22.04.2022\"},{\"appid\": 428370,\"ordate\": \"08.01.2016\"},{\"appid\": 1220190,\"ordate\": \"06.02.2020\"},{\"appid\": 919330,\"ordate\": \"31.10.2020\"},{\"appid\": 3213960,\"ordate\": \"09.11.2024\"},{\"appid\": 458110,\"ordate\": \"17.04.2016\"},{\"appid\": 1673520,\"ordate\": \"06.07.2021\"},{\"appid\": 1453010,\"ordate\": \"17.12.2020\"},{\"appid\": 1713100,\"ordate\": \"25.09.2021\"},{\"appid\": 1197590,\"ordate\": \"14.01.2020\"},{\"appid\": 2698250,\"ordate\": \"08.12.2023\"},{\"appid\": 328940,\"ordate\": \"02.12.2014\"},{\"appid\": 2943010,\"ordate\": \"26.07.2024\"},{\"appid\": 581980,\"ordate\": \"27.01.2017\"},{\"appid\": 1703020,\"ordate\": \"01.03.2024\"},{\"appid\": 1063580,\"ordate\": \"21.06.2019\"},{\"appid\": 2401920,\"ordate\": \"09.05.2023\"},{\"appid\": 2273220,\"ordate\": \"20.02.2023\"},{\"appid\": 1786780,\"ordate\": \"16.03.2022\"},{\"appid\": 2087940,\"ordate\": \"28.10.2022\"},{\"appid\": 329130,\"ordate\": \"25.11.2014\"},{\"appid\": 1589380,\"ordate\": \"14.04.2021\"},{\"appid\": 1702180,\"ordate\": \"22.10.2021\"},{\"appid\": 1851320,\"ordate\": \"14.02.2022\"},{\"appid\": 2358440,\"ordate\": \"15.04.2023\"},{\"appid\": 592730,\"ordate\": \"21.02.2017\"},{\"appid\": 752520,\"ordate\": \"13.03.2018\"},{\"appid\": 1479990,\"ordate\": \"09.12.2020\"},{\"appid\": 1028250,\"ordate\": \"24.02.2019\"},{\"appid\": 1049270,\"ordate\": \"17.04.2019\"},{\"appid\": 922450,\"ordate\": \"26.09.2018\"},{\"appid\": 694520,\"ordate\": \"27.12.2017\"},{\"appid\": 658160,\"ordate\": \"27.07.2017\"},{\"appid\": 2806230,\"ordate\": \"18.04.2024\"},{\"appid\": 887370,\"ordate\": \"20.11.2018\"},{\"appid\": 1225810,\"ordate\": \"20.02.2020\"},{\"appid\": 1228330,\"ordate\": \"19.10.2021\"},{\"appid\": 1463120,\"ordate\": \"09.12.2020\"},{\"appid\": 2389490,\"ordate\": \"12.06.2023\"},{\"appid\": 215830,\"ordate\": \"13.11.2017\"},{\"appid\": 1574420,\"ordate\": \"12.09.2022\"},{\"appid\": 1187650,\"ordate\": \"20.04.2020\"},{\"appid\": 1294120,\"ordate\": \"01.09.2020\"},{\"appid\": 603660,\"ordate\": \"06.08.2021\"},{\"appid\": 688370,\"ordate\": \"28.09.2017\"},{\"appid\": 549760,\"ordate\": \"11.11.2016\"},{\"appid\": 655630,\"ordate\": \"02.08.2017\"},{\"appid\": 1301250,\"ordate\": \"13.05.2020\"},{\"appid\": 597150,\"ordate\": \"24.02.2017\"},{\"appid\": 2200930,\"ordate\": \"01.12.2022\"},{\"appid\": 1419430,\"ordate\": \"03.11.2020\"},{\"appid\": 1967520,\"ordate\": \"21.11.2022\"},{\"appid\": 2668250,\"ordate\": \"01.03.2024\"},{\"appid\": 2684080,\"ordate\": \"23.05.2024\"},{\"appid\": 2529770,\"ordate\": \"22.11.2023\"},{\"appid\": 1705220,\"ordate\": \"12.10.2021\"},{\"appid\": 460560,\"ordate\": \"07.06.2016\"},{\"appid\": 2237800,\"ordate\": \"30.12.2022\"},{\"appid\": 2423000,\"ordate\": \"08.06.2023\"},{\"appid\": 729060,\"ordate\": \"14.11.2017\"},{\"appid\": 395500,\"ordate\": \"19.04.2016\"},{\"appid\": 718560,\"ordate\": \"13.06.2018\"},{\"appid\": 904860,\"ordate\": \"30.07.2018\"},{\"appid\": 2925990,\"ordate\": \"25.05.2024\"},{\"appid\": 950510,\"ordate\": \"14.11.2018\"},{\"appid\": 2846060,\"ordate\": \"12.10.2024\"},{\"appid\": 1492870,\"ordate\": \"08.01.2021\"},{\"appid\": 1271600,\"ordate\": \"04.05.2020\"},{\"appid\": 1248490,\"ordate\": \"13.03.2020\"},{\"appid\": 1699860,\"ordate\": \"01.11.2021\"},{\"appid\": 1939630,\"ordate\": \"15.07.2024\"},{\"appid\": 1487870,\"ordate\": \"22.12.2020\"},{\"appid\": 837440,\"ordate\": \"21.04.2018\"},{\"appid\": 1817560,\"ordate\": \"04.08.2022\"},{\"appid\": 960170,\"ordate\": \"18.12.2019\"},{\"appid\": 1022310,\"ordate\": \"28.01.2020\"},{\"appid\": 2858840,\"ordate\": \"11.04.2024\"},{\"appid\": 1863400,\"ordate\": \"09.09.2023\"},{\"appid\": 2837140,\"ordate\": \"04.03.2024\"},{\"appid\": 1871770,\"ordate\": \"22.05.2023\"},{\"appid\": 2452800,\"ordate\": \"18.06.2024\"},{\"appid\": 596390,\"ordate\": \"20.06.2017\"},{\"appid\": 454380,\"ordate\": \"01.04.2016\"},{\"appid\": 1027600,\"ordate\": \"30.04.2019\"},{\"appid\": 2243070,\"ordate\": \"25.08.2023\"},{\"appid\": 1360600,\"ordate\": \"15.01.2021\"},{\"appid\": 1372270,\"ordate\": \"11.08.2020\"},{\"appid\": 1951530,\"ordate\": \"01.12.2022\"},{\"appid\": 1129220,\"ordate\": \"15.08.2019\"},{\"appid\": 575950,\"ordate\": \"28.04.2017\"},{\"appid\": 1758010,\"ordate\": \"18.03.2022\"},{\"appid\": 1999120,\"ordate\": \"10.06.2022\"},{\"appid\": 2253370,\"ordate\": \"12.01.2023\"},{\"appid\": 1508280,\"ordate\": \"13.11.2021\"},{\"appid\": 497460,\"ordate\": \"04.08.2016\"},{\"appid\": 640850,\"ordate\": \"31.03.2018\"},{\"appid\": 1997940,\"ordate\": \"06.06.2024\"},{\"appid\": 410840,\"ordate\": \"23.11.2016\"},{\"appid\": 3126380,\"ordate\": \"26.10.2024\"},{\"appid\": 1552760,\"ordate\": \"03.03.2021\"},{\"appid\": 769940,\"ordate\": \"06.01.2018\"},{\"appid\": 1450180,\"ordate\": \"16.07.2021\"},{\"appid\": 2358790,\"ordate\": \"31.05.2023\"},{\"appid\": 760030,\"ordate\": \"14.02.2018\"},{\"appid\": 496550,\"ordate\": \"15.07.2016\"},{\"appid\": 2772610,\"ordate\": \"14.02.2024\"},{\"appid\": 1510880,\"ordate\": \"27.01.2021\"},{\"appid\": 3013700,\"ordate\": \"26.06.2024\"},{\"appid\": 2329910,\"ordate\": \"22.02.2024\"},{\"appid\": 1851680,\"ordate\": \"22.02.2022\"},{\"appid\": 1444510,\"ordate\": \"09.12.2020\"},{\"appid\": 1045720,\"ordate\": \"07.11.2019\"},{\"appid\": 1046370,\"ordate\": \"24.04.2019\"},{\"appid\": 1468960,\"ordate\": \"25.08.2021\"},{\"appid\": 2964680,\"ordate\": \"17.05.2024\"},{\"appid\": 868950,\"ordate\": \"16.06.2018\"},{\"appid\": 909580,\"ordate\": \"13.08.2018\"},{\"appid\": 605920,\"ordate\": \"20.04.2018\"},{\"appid\": 434020,\"ordate\": \"23.01.2016\"},{\"appid\": 1086840,\"ordate\": \"24.03.2020\"},{\"appid\": 1553230,\"ordate\": \"01.05.2021\"},{\"appid\": 1410070,\"ordate\": \"10.10.2020\"},{\"appid\": 3221190,\"ordate\": \"25.10.2024\"},{\"appid\": 937740,\"ordate\": \"12.10.2018\"},{\"appid\": 1090790,\"ordate\": \"24.09.2019\"},{\"appid\": 967450,\"ordate\": \"19.11.2018\"},{\"appid\": 2658490,\"ordate\": \"21.11.2023\"},{\"appid\": 1812340,\"ordate\": \"10.12.2021\"},{\"appid\": 1514580,\"ordate\": \"26.01.2021\"},{\"appid\": 1065630,\"ordate\": \"26.04.2019\"},{\"appid\": 1678860,\"ordate\": \"13.07.2021\"},{\"appid\": 2681650,\"ordate\": \"04.12.2023\"},{\"appid\": 770100,\"ordate\": \"27.02.2018\"},{\"appid\": 871140,\"ordate\": \"14.09.2018\"},{\"appid\": 1476420,\"ordate\": \"16.12.2020\"},{\"appid\": 635410,\"ordate\": \"16.06.2017\"},{\"appid\": 1404560,\"ordate\": \"15.06.2021\"},{\"appid\": 705220,\"ordate\": \"13.11.2017\"},{\"appid\": 1323420,\"ordate\": \"19.06.2020\"},{\"appid\": 2396640,\"ordate\": \"02.05.2023\"},{\"appid\": 1191840,\"ordate\": \"30.03.2020\"},{\"appid\": 1151430,\"ordate\": \"21.10.2019\"},{\"appid\": 1964540,\"ordate\": \"10.06.2022\"},{\"appid\": 575600,\"ordate\": \"18.02.2017\"},{\"appid\": 1143710,\"ordate\": \"25.10.2019\"},{\"appid\": 656060,\"ordate\": \"06.11.2017\"},{\"appid\": 2281870,\"ordate\": \"31.07.2023\"},{\"appid\": 965460,\"ordate\": \"10.12.2018\"},{\"appid\": 490980,\"ordate\": \"13.07.2016\"},{\"appid\": 2607160,\"ordate\": \"02.11.2024\"},{\"appid\": 905660,\"ordate\": \"22.01.2019\"},{\"appid\": 596950,\"ordate\": \"09.05.2017\"},{\"appid\": 1018170,\"ordate\": \"26.02.2019\"},{\"appid\": 2820750,\"ordate\": \"06.03.2024\"},{\"appid\": 1198740,\"ordate\": \"20.06.2020\"},{\"appid\": 566350,\"ordate\": \"25.12.2016\"},{\"appid\": 2688570,\"ordate\": \"22.10.2024\"},{\"appid\": 718790,\"ordate\": \"27.03.2018\"},{\"appid\": 303550,\"ordate\": \"17.03.2015\"},{\"appid\": 2635490,\"ordate\": \"17.11.2023\"},{\"appid\": 1113390,\"ordate\": \"22.07.2019\"},{\"appid\": 1808640,\"ordate\": \"27.09.2023\"},{\"appid\": 2139890,\"ordate\": \"15.02.2023\"},{\"appid\": 1528120,\"ordate\": \"13.02.2021\"},{\"appid\": 1755110,\"ordate\": \"21.10.2021\"},{\"appid\": 870390,\"ordate\": \"17.03.2020\"},{\"appid\": 1116550,\"ordate\": \"31.07.2019\"},{\"appid\": 1360450,\"ordate\": \"23.01.2021\"},{\"appid\": 404620,\"ordate\": \"18.11.2015\"},{\"appid\": 2335640,\"ordate\": \"14.07.2023\"},{\"appid\": 587460,\"ordate\": \"03.05.2017\"},{\"appid\": 916320,\"ordate\": \"04.10.2018\"},{\"appid\": 3048400,\"ordate\": \"01.07.2024\"},{\"appid\": 1702740,\"ordate\": \"13.12.2021\"},{\"appid\": 2682120,\"ordate\": \"21.12.2023\"},{\"appid\": 1180900,\"ordate\": \"28.04.2020\"},{\"appid\": 666330,\"ordate\": \"15.09.2017\"},{\"appid\": 1098080,\"ordate\": \"26.09.2019\"},{\"appid\": 2289230,\"ordate\": \"07.03.2023\"},{\"appid\": 1967830,\"ordate\": \"21.06.2022\"},{\"appid\": 1870320,\"ordate\": \"28.02.2022\"},{\"appid\": 1990690,\"ordate\": \"16.11.2022\"},{\"appid\": 2367580,\"ordate\": \"27.07.2023\"},{\"appid\": 464620,\"ordate\": \"27.05.2016\"},{\"appid\": 674330,\"ordate\": \"15.09.2017\"},{\"appid\": 1083810,\"ordate\": \"31.07.2019\"},{\"appid\": 700770,\"ordate\": \"11.01.2018\"},{\"appid\": 288260,\"ordate\": \"20.08.2015\"},{\"appid\": 899180,\"ordate\": \"31.08.2018\"},{\"appid\": 2017630,\"ordate\": \"16.06.2022\"},{\"appid\": 878350,\"ordate\": \"14.09.2018\"},{\"appid\": 2463250,\"ordate\": \"20.07.2023\"},{\"appid\": 2262320,\"ordate\": \"08.08.2023\"},{\"appid\": 3068380,\"ordate\": \"25.10.2024\"},{\"appid\": 1302160,\"ordate\": \"18.06.2020\"},{\"appid\": 404850,\"ordate\": \"02.12.2015\"},{\"appid\": 1024010,\"ordate\": \"30.08.2019\"},{\"appid\": 1263370,\"ordate\": \"12.06.2020\"},{\"appid\": 1490860,\"ordate\": \"13.04.2021\"},{\"appid\": 1955960,\"ordate\": \"30.11.2023\"},{\"appid\": 2051500,\"ordate\": \"19.11.2023\"},{\"appid\": 2301790,\"ordate\": \"09.03.2023\"},{\"appid\": 2645600,\"ordate\": \"05.01.2024\"},{\"appid\": 1269510,\"ordate\": \"18.11.2020\"},{\"appid\": 701800,\"ordate\": \"06.10.2017\"},{\"appid\": 778870,\"ordate\": \"08.02.2019\"},{\"appid\": 1554850,\"ordate\": \"23.03.2021\"},{\"appid\": 962220,\"ordate\": \"02.10.2019\"},{\"appid\": 1562800,\"ordate\": \"23.04.2021\"},{\"appid\": 2127590,\"ordate\": \"21.10.2022\"},{\"appid\": 1530440,\"ordate\": \"11.02.2021\"},{\"appid\": 1177080,\"ordate\": \"07.04.2020\"},{\"appid\": 1410680,\"ordate\": \"17.09.2020\"},{\"appid\": 1475140,\"ordate\": \"09.12.2020\"},{\"appid\": 2477160,\"ordate\": \"11.04.2024\"},{\"appid\": 1921390,\"ordate\": \"21.05.2022\"},{\"appid\": 2892310,\"ordate\": \"30.08.2024\"},{\"appid\": 1575100,\"ordate\": \"27.08.2021\"},{\"appid\": 1308550,\"ordate\": \"16.06.2020\"},{\"appid\": 1318560,\"ordate\": \"17.06.2020\"},{\"appid\": 1398080,\"ordate\": \"20.08.2020\"},{\"appid\": 2470690,\"ordate\": \"05.07.2023\"},{\"appid\": 1548430,\"ordate\": \"29.10.2021\"},{\"appid\": 1258830,\"ordate\": \"10.11.2020\"},{\"appid\": 595300,\"ordate\": \"02.05.2018\"},{\"appid\": 681620,\"ordate\": \"09.08.2017\"},{\"appid\": 3065310,\"ordate\": \"11.08.2024\"},{\"appid\": 952090,\"ordate\": \"24.10.2018\"},{\"appid\": 3223680,\"ordate\": \"25.10.2024\"},{\"appid\": 392000,\"ordate\": \"04.12.2015\"},{\"appid\": 2126990,\"ordate\": \"22.11.2022\"},{\"appid\": 1840350,\"ordate\": \"28.07.2022\"},{\"appid\": 914440,\"ordate\": \"18.07.2020\"},{\"appid\": 1235510,\"ordate\": \"05.02.2020\"},{\"appid\": 1340770,\"ordate\": \"03.07.2020\"},{\"appid\": 2168760,\"ordate\": \"29.03.2023\"},{\"appid\": 935930,\"ordate\": \"27.09.2018\"},{\"appid\": 716750,\"ordate\": \"22.01.2018\"},{\"appid\": 716490,\"ordate\": \"09.08.2018\"},{\"appid\": 1283180,\"ordate\": \"20.11.2020\"},{\"appid\": 2619300,\"ordate\": \"29.10.2023\"},{\"appid\": 394760,\"ordate\": \"22.02.2016\"},{\"appid\": 1260560,\"ordate\": \"24.11.2020\"},{\"appid\": 1483870,\"ordate\": \"28.12.2020\"},{\"appid\": 1492250,\"ordate\": \"31.12.2020\"},{\"appid\": 1007630,\"ordate\": \"23.02.2019\"},{\"appid\": 917990,\"ordate\": \"05.11.2018\"},{\"appid\": 1444570,\"ordate\": \"06.12.2020\"},{\"appid\": 783140,\"ordate\": \"30.01.2018\"},{\"appid\": 882080,\"ordate\": \"16.07.2018\"},{\"appid\": 2260480,\"ordate\": \"31.03.2024\"},{\"appid\": 2966190,\"ordate\": \"05.06.2024\"},{\"appid\": 1208900,\"ordate\": \"03.01.2020\"},{\"appid\": 517330,\"ordate\": \"10.09.2016\"},{\"appid\": 965610,\"ordate\": \"01.10.2019\"},{\"appid\": 2981590,\"ordate\": \"15.07.2024\"},{\"appid\": 2512430,\"ordate\": \"30.09.2023\"},{\"appid\": 2918590,\"ordate\": \"27.04.2024\"},{\"appid\": 1170390,\"ordate\": \"03.01.2020\"},{\"appid\": 2535920,\"ordate\": \"14.08.2023\"},{\"appid\": 1087600,\"ordate\": \"26.06.2019\"},{\"appid\": 1326170,\"ordate\": \"16.06.2020\"},{\"appid\": 1628270,\"ordate\": \"21.05.2021\"},{\"appid\": 1474860,\"ordate\": \"08.12.2020\"},{\"appid\": 409560,\"ordate\": \"20.01.2016\"},{\"appid\": 285840,\"ordate\": \"27.03.2014\"},{\"appid\": 849790,\"ordate\": \"24.06.2018\"},{\"appid\": 476930,\"ordate\": \"20.07.2016\"},{\"appid\": 675990,\"ordate\": \"17.08.2017\"},{\"appid\": 1895410,\"ordate\": \"19.05.2022\"},{\"appid\": 712650,\"ordate\": \"29.09.2017\"},{\"appid\": 2176000,\"ordate\": \"01.11.2022\"},{\"appid\": 308420,\"ordate\": \"14.08.2014\"},{\"appid\": 589430,\"ordate\": \"17.02.2017\"},{\"appid\": 3078540,\"ordate\": \"05.09.2024\"},{\"appid\": 1870490,\"ordate\": \"02.05.2022\"},{\"appid\": 949720,\"ordate\": \"27.02.2020\"},{\"appid\": 1475170,\"ordate\": \"02.01.2021\"},{\"appid\": 556340,\"ordate\": \"22.11.2016\"},{\"appid\": 451400,\"ordate\": \"02.06.2016\"},{\"appid\": 1475150,\"ordate\": \"15.12.2020\"},{\"appid\": 602630,\"ordate\": \"05.04.2017\"},{\"appid\": 498470,\"ordate\": \"09.08.2016\"},{\"appid\": 1475080,\"ordate\": \"15.12.2020\"},{\"appid\": 1602390,\"ordate\": \"17.03.2023\"},{\"appid\": 959920,\"ordate\": \"10.11.2018\"},{\"appid\": 2782540,\"ordate\": \"18.07.2024\"},{\"appid\": 971650,\"ordate\": \"14.11.2019\"},{\"appid\": 3248510,\"ordate\": \"25.10.2024\"},{\"appid\": 738440,\"ordate\": \"18.10.2018\"},{\"appid\": 1856030,\"ordate\": \"11.10.2022\"},{\"appid\": 2601320,\"ordate\": \"27.10.2023\"},{\"appid\": 2943780,\"ordate\": \"02.05.2024\"},{\"appid\": 808990,\"ordate\": \"16.03.2018\"},{\"appid\": 1178050,\"ordate\": \"18.11.2019\"},{\"appid\": 1196310,\"ordate\": \"27.08.2020\"},{\"appid\": 1761260,\"ordate\": \"07.04.2022\"},{\"appid\": 790850,\"ordate\": \"06.03.2019\"},{\"appid\": 1487430,\"ordate\": \"03.02.2021\"},{\"appid\": 2814060,\"ordate\": \"20.08.2024\"},{\"appid\": 2872270,\"ordate\": \"04.05.2024\"},{\"appid\": 3066440,\"ordate\": \"23.07.2024\"},{\"appid\": 1226960,\"ordate\": \"10.02.2020\"},{\"appid\": 2881810,\"ordate\": \"19.07.2024\"},{\"appid\": 2414740,\"ordate\": \"01.03.2024\"},{\"appid\": 841340,\"ordate\": \"20.12.2018\"},{\"appid\": 2468540,\"ordate\": \"30.06.2023\"},{\"appid\": 587580,\"ordate\": \"24.02.2017\"},{\"appid\": 741260,\"ordate\": \"18.11.2017\"},{\"appid\": 1475160,\"ordate\": \"17.12.2020\"},{\"appid\": 551170,\"ordate\": \"09.02.2018\"},{\"appid\": 589590,\"ordate\": \"08.04.2017\"},{\"appid\": 1499540,\"ordate\": \"25.08.2021\"},{\"appid\": 2707390,\"ordate\": \"12.04.2024\"},{\"appid\": 511690,\"ordate\": \"10.09.2016\"},{\"appid\": 1449180,\"ordate\": \"27.08.2024\"},{\"appid\": 307960,\"ordate\": \"15.08.2014\"},{\"appid\": 284580,\"ordate\": \"13.04.2014\"},{\"appid\": 866010,\"ordate\": \"23.11.2018\"},{\"appid\": 2431600,\"ordate\": \"18.07.2023\"},{\"appid\": 492710,\"ordate\": \"07.07.2016\"},{\"appid\": 2251120,\"ordate\": \"06.01.2023\"},{\"appid\": 795920,\"ordate\": \"24.02.2018\"},{\"appid\": 391100,\"ordate\": \"15.10.2015\"},{\"appid\": 535350,\"ordate\": \"23.01.2017\"},{\"appid\": 1698140,\"ordate\": \"20.10.2021\"},{\"appid\": 2337280,\"ordate\": \"15.06.2023\"},{\"appid\": 786410,\"ordate\": \"21.01.2018\"},{\"appid\": 783400,\"ordate\": \"19.06.2019\"},{\"appid\": 867420,\"ordate\": \"26.09.2018\"},{\"appid\": 2978270,\"ordate\": \"11.06.2024\"},{\"appid\": 2220520,\"ordate\": \"22.02.2023\"},{\"appid\": 871850,\"ordate\": \"30.07.2018\"},{\"appid\": 467990,\"ordate\": \"20.06.2016\"},{\"appid\": 1192610,\"ordate\": \"05.12.2019\"},{\"appid\": 662930,\"ordate\": \"08.03.2018\"},{\"appid\": 1253870,\"ordate\": \"08.05.2020\"},{\"appid\": 1029170,\"ordate\": \"28.12.2019\"},{\"appid\": 765590,\"ordate\": \"06.02.2018\"},{\"appid\": 1355140,\"ordate\": \"13.07.2020\"},{\"appid\": 706950,\"ordate\": \"18.05.2019\"},{\"appid\": 529260,\"ordate\": \"16.09.2016\"},{\"appid\": 1142530,\"ordate\": \"06.01.2022\"},{\"appid\": 622480,\"ordate\": \"22.04.2017\"},{\"appid\": 2948020,\"ordate\": \"02.12.2024\"},{\"appid\": 2724960,\"ordate\": \"05.01.2024\"},{\"appid\": 2547940,\"ordate\": \"18.11.2023\"},{\"appid\": 3032530,\"ordate\": \"22.06.2024\"},{\"appid\": 1608680,\"ordate\": \"15.10.2021\"},{\"appid\": 2381270,\"ordate\": \"28.04.2023\"},{\"appid\": 2361370,\"ordate\": \"16.05.2023\"},{\"appid\": 1778520,\"ordate\": \"01.12.2021\"},{\"appid\": 1214460,\"ordate\": \"06.01.2020\"},{\"appid\": 3036710,\"ordate\": \"28.06.2024\"},{\"appid\": 1584440,\"ordate\": \"28.05.2021\"},{\"appid\": 360590,\"ordate\": \"13.05.2015\"},{\"appid\": 1101760,\"ordate\": \"21.06.2019\"},{\"appid\": 1680890,\"ordate\": \"27.04.2022\"},{\"appid\": 2769410,\"ordate\": \"19.08.2024\"},{\"appid\": 3285360,\"ordate\": \"20.11.2024\"},{\"appid\": 2762270,\"ordate\": \"25.01.2024\"},{\"appid\": 485590,\"ordate\": \"14.06.2016\"},{\"appid\": 908070,\"ordate\": \"27.11.2018\"},{\"appid\": 1022920,\"ordate\": \"24.02.2019\"},{\"appid\": 1050510,\"ordate\": \"20.03.2019\"},{\"appid\": 1612380,\"ordate\": \"25.05.2021\"},{\"appid\": 2707360,\"ordate\": \"08.04.2024\"},{\"appid\": 1170120,\"ordate\": \"22.01.2020\"},{\"appid\": 2452220,\"ordate\": \"21.06.2023\"},{\"appid\": 1636030,\"ordate\": \"29.08.2023\"},{\"appid\": 2644960,\"ordate\": \"09.11.2023\"},{\"appid\": 1308560,\"ordate\": \"25.06.2020\"},{\"appid\": 386510,\"ordate\": \"12.10.2015\"},{\"appid\": 1949810,\"ordate\": \"15.04.2022\"},{\"appid\": 3332670,\"ordate\": \"23.11.2024\"},{\"appid\": 1926490,\"ordate\": \"11.04.2022\"},{\"appid\": 1095290,\"ordate\": \"06.06.2023\"},{\"appid\": 433450,\"ordate\": \"07.07.2016\"},{\"appid\": 1114910,\"ordate\": \"13.08.2019\"},{\"appid\": 1215750,\"ordate\": \"15.02.2020\"},{\"appid\": 870160,\"ordate\": \"15.06.2018\"},{\"appid\": 2511940,\"ordate\": \"29.08.2023\"},{\"appid\": 870100,\"ordate\": \"24.08.2018\"},{\"appid\": 1462060,\"ordate\": \"26.01.2021\"},{\"appid\": 993990,\"ordate\": \"09.01.2019\"},{\"appid\": 1204040,\"ordate\": \"12.08.2024\"},{\"appid\": 302750,\"ordate\": \"03.06.2014\"},{\"appid\": 1353670,\"ordate\": \"21.09.2020\"},{\"appid\": 3101050,\"ordate\": \"10.10.2024\"},{\"appid\": 264260,\"ordate\": \"09.06.2014\"},{\"appid\": 1613100,\"ordate\": \"14.05.2021\"},{\"appid\": 2826070,\"ordate\": \"21.03.2024\"},{\"appid\": 2900600,\"ordate\": \"06.04.2024\"},{\"appid\": 3222520,\"ordate\": \"09.10.2024\"},{\"appid\": 787040,\"ordate\": \"15.06.2018\"},{\"appid\": 2006770,\"ordate\": \"09.07.2022\"},{\"appid\": 2391090,\"ordate\": \"17.03.2024\"},{\"appid\": 1026770,\"ordate\": \"30.08.2019\"},{\"appid\": 1120210,\"ordate\": \"14.08.2019\"},{\"appid\": 434240,\"ordate\": \"08.03.2016\"},{\"appid\": 671260,\"ordate\": \"28.07.2017\"},{\"appid\": 1181900,\"ordate\": \"12.01.2021\"},{\"appid\": 3120160,\"ordate\": \"12.08.2024\"},{\"appid\": 365020,\"ordate\": \"30.05.2015\"},{\"appid\": 1029980,\"ordate\": \"26.02.2019\"},{\"appid\": 1995680,\"ordate\": \"09.06.2022\"},{\"appid\": 2485870,\"ordate\": \"11.10.2023\"},{\"appid\": 1170950,\"ordate\": \"23.11.2021\"},{\"appid\": 2591030,\"ordate\": \"16.11.2023\"},{\"appid\": 1636370,\"ordate\": \"14.07.2021\"},{\"appid\": 1815000,\"ordate\": \"31.12.2021\"},{\"appid\": 1818610,\"ordate\": \"13.02.2023\"},{\"appid\": 1301730,\"ordate\": \"10.07.2020\"},{\"appid\": 1047480,\"ordate\": \"28.03.2019\"},{\"appid\": 1768550,\"ordate\": \"15.04.2022\"},{\"appid\": 2166500,\"ordate\": \"16.12.2022\"},{\"appid\": 2267350,\"ordate\": \"25.01.2023\"},{\"appid\": 1772720,\"ordate\": \"04.03.2022\"},{\"appid\": 328760,\"ordate\": \"13.12.2014\"},{\"appid\": 1124600,\"ordate\": \"25.02.2021\"},{\"appid\": 1509230,\"ordate\": \"23.01.2021\"},{\"appid\": 755340,\"ordate\": \"12.04.2019\"},{\"appid\": 331790,\"ordate\": \"14.02.2015\"},{\"appid\": 1218680,\"ordate\": \"28.05.2020\"},{\"appid\": 595090,\"ordate\": \"30.05.2017\"},{\"appid\": 2446170,\"ordate\": \"22.08.2023\"},{\"appid\": 594490,\"ordate\": \"18.04.2017\"},{\"appid\": 627410,\"ordate\": \"08.06.2017\"},{\"appid\": 1474850,\"ordate\": \"10.12.2020\"},{\"appid\": 2013740,\"ordate\": \"09.07.2022\"},{\"appid\": 1035410,\"ordate\": \"12.04.2019\"},{\"appid\": 591130,\"ordate\": \"01.07.2017\"},{\"appid\": 3106340,\"ordate\": \"30.08.2024\"},{\"appid\": 2344190,\"ordate\": \"16.06.2023\"},{\"appid\": 2434940,\"ordate\": \"02.07.2023\"},{\"appid\": 2202690,\"ordate\": \"03.03.2023\"},{\"appid\": 2838090,\"ordate\": \"01.08.2024\"},{\"appid\": 2286260,\"ordate\": \"28.02.2023\"},{\"appid\": 2310440,\"ordate\": \"30.09.2024\"},{\"appid\": 2438160,\"ordate\": \"01.03.2024\"},{\"appid\": 314000,\"ordate\": \"07.10.2015\"},{\"appid\": 776140,\"ordate\": \"24.01.2018\"},{\"appid\": 2436440,\"ordate\": \"07.06.2023\"},{\"appid\": 2800770,\"ordate\": \"26.02.2024\"},{\"appid\": 1085160,\"ordate\": \"24.07.2019\"},{\"appid\": 1388740,\"ordate\": \"04.12.2020\"},{\"appid\": 513560,\"ordate\": \"06.10.2016\"},{\"appid\": 1576500,\"ordate\": \"10.06.2021\"},{\"appid\": 1213370,\"ordate\": \"31.01.2020\"},{\"appid\": 2475270,\"ordate\": \"01.07.2023\"},{\"appid\": 1821410,\"ordate\": \"20.12.2021\"},{\"appid\": 1272970,\"ordate\": \"25.04.2020\"},{\"appid\": 2212880,\"ordate\": \"05.12.2022\"},{\"appid\": 1228870,\"ordate\": \"30.07.2020\"},{\"appid\": 2335250,\"ordate\": \"08.12.2023\"},{\"appid\": 1134390,\"ordate\": \"18.09.2019\"},{\"appid\": 2489990,\"ordate\": \"17.07.2023\"},{\"appid\": 2586680,\"ordate\": \"30.09.2023\"},{\"appid\": 2004370,\"ordate\": \"22.09.2022\"},{\"appid\": 2267930,\"ordate\": \"12.02.2023\"},{\"appid\": 2621460,\"ordate\": \"01.11.2023\"},{\"appid\": 2205330,\"ordate\": \"08.07.2024\"},{\"appid\": 3178880,\"ordate\": \"11.10.2024\"},{\"appid\": 2002510,\"ordate\": \"28.06.2022\"},{\"appid\": 534720,\"ordate\": \"14.10.2016\"},{\"appid\": 1405360,\"ordate\": \"26.01.2021\"},{\"appid\": 2895430,\"ordate\": \"17.07.2024\"},{\"appid\": 1032210,\"ordate\": \"01.03.2019\"},{\"appid\": 2144040,\"ordate\": \"18.09.2023\"},{\"appid\": 3131770,\"ordate\": \"20.08.2024\"},{\"appid\": 1253230,\"ordate\": \"24.02.2020\"},{\"appid\": 1535900,\"ordate\": \"16.03.2021\"},{\"appid\": 954300,\"ordate\": \"26.09.2024\"},{\"appid\": 2560740,\"ordate\": \"29.09.2023\"},{\"appid\": 2310190,\"ordate\": \"22.07.2023\"},{\"appid\": 2428020,\"ordate\": \"26.01.2024\"},{\"appid\": 357890,\"ordate\": \"29.03.2015\"},{\"appid\": 1456810,\"ordate\": \"13.11.2020\"},{\"appid\": 1262380,\"ordate\": \"14.08.2020\"},{\"appid\": 1076050,\"ordate\": \"31.05.2019\"},{\"appid\": 1001910,\"ordate\": \"09.01.2019\"},{\"appid\": 1258710,\"ordate\": \"20.03.2020\"},{\"appid\": 1821530,\"ordate\": \"21.12.2021\"},{\"appid\": 1351290,\"ordate\": \"24.10.2020\"},{\"appid\": 372430,\"ordate\": \"09.01.2016\"},{\"appid\": 1058750,\"ordate\": \"30.07.2019\"},{\"appid\": 3082110,\"ordate\": \"30.08.2024\"},{\"appid\": 853580,\"ordate\": \"12.05.2018\"},{\"appid\": 737930,\"ordate\": \"15.11.2017\"},{\"appid\": 999640,\"ordate\": \"24.01.2019\"},{\"appid\": 3328720,\"ordate\": \"19.12.2024\"},{\"appid\": 2663140,\"ordate\": \"27.02.2024\"},{\"appid\": 731890,\"ordate\": \"31.10.2019\"},{\"appid\": 1331120,\"ordate\": \"23.06.2020\"},{\"appid\": 1954670,\"ordate\": \"04.09.2022\"},{\"appid\": 2247640,\"ordate\": \"21.02.2023\"},{\"appid\": 1284550,\"ordate\": \"22.06.2020\"},{\"appid\": 3213590,\"ordate\": \"15.10.2024\"},{\"appid\": 760320,\"ordate\": \"05.06.2018\"},{\"appid\": 323380,\"ordate\": \"13.05.2015\"},{\"appid\": 732520,\"ordate\": \"02.01.2018\"},{\"appid\": 2267260,\"ordate\": \"23.03.2023\"},{\"appid\": 935610,\"ordate\": \"01.05.2019\"},{\"appid\": 1190110,\"ordate\": \"20.11.2019\"},{\"appid\": 1442350,\"ordate\": \"10.11.2020\"},{\"appid\": 2983370,\"ordate\": \"06.07.2024\"},{\"appid\": 771710,\"ordate\": \"08.03.2018\"},{\"appid\": 494220,\"ordate\": \"30.08.2016\"},{\"appid\": 2080250,\"ordate\": \"29.05.2023\"},{\"appid\": 2708280,\"ordate\": \"15.12.2023\"},{\"appid\": 1302570,\"ordate\": \"24.03.2021\"},{\"appid\": 1334800,\"ordate\": \"23.06.2020\"},{\"appid\": 1416730,\"ordate\": \"28.09.2020\"},{\"appid\": 1836220,\"ordate\": \"14.01.2022\"},{\"appid\": 2202990,\"ordate\": \"19.12.2022\"},{\"appid\": 2716540,\"ordate\": \"06.03.2024\"},{\"appid\": 2363290,\"ordate\": \"08.09.2023\"},{\"appid\": 1639930,\"ordate\": \"07.08.2021\"},{\"appid\": 1327720,\"ordate\": \"16.07.2020\"},{\"appid\": 2316930,\"ordate\": \"02.12.2024\"},{\"appid\": 2540820,\"ordate\": \"19.10.2023\"},{\"appid\": 403850,\"ordate\": \"29.01.2016\"},{\"appid\": 2717000,\"ordate\": \"24.12.2023\"},{\"appid\": 1548620,\"ordate\": \"19.04.2021\"},{\"appid\": 378270,\"ordate\": \"12.06.2015\"},{\"appid\": 527990,\"ordate\": \"01.10.2016\"},{\"appid\": 1304320,\"ordate\": \"21.05.2020\"},{\"appid\": 2111630,\"ordate\": \"20.09.2022\"},{\"appid\": 2868760,\"ordate\": \"03.04.2024\"},{\"appid\": 2490750,\"ordate\": \"17.07.2023\"},{\"appid\": 1140950,\"ordate\": \"02.09.2019\"},{\"appid\": 1371000,\"ordate\": \"30.09.2020\"},{\"appid\": 3181290,\"ordate\": \"13.11.2024\"},{\"appid\": 2378840,\"ordate\": \"18.04.2023\"},{\"appid\": 606790,\"ordate\": \"29.03.2019\"},{\"appid\": 2587930,\"ordate\": \"28.09.2023\"},{\"appid\": 1256830,\"ordate\": \"08.10.2021\"},{\"appid\": 1604450,\"ordate\": \"21.05.2021\"},{\"appid\": 1535200,\"ordate\": \"19.02.2021\"},{\"appid\": 1793350,\"ordate\": \"10.12.2021\"},{\"appid\": 3127650,\"ordate\": \"13.09.2024\"},{\"appid\": 1576000,\"ordate\": \"27.06.2022\"},{\"appid\": 793690,\"ordate\": \"21.03.2019\"},{\"appid\": 462680,\"ordate\": \"28.07.2016\"},{\"appid\": 558110,\"ordate\": \"23.02.2017\"},{\"appid\": 682590,\"ordate\": \"09.08.2017\"},{\"appid\": 2641930,\"ordate\": \"05.01.2024\"},{\"appid\": 1495560,\"ordate\": \"14.05.2021\"},{\"appid\": 2450480,\"ordate\": \"14.06.2023\"},{\"appid\": 1381880,\"ordate\": \"14.08.2020\"},{\"appid\": 2778630,\"ordate\": \"26.01.2024\"},{\"appid\": 2932740,\"ordate\": \"06.05.2024\"},{\"appid\": 921450,\"ordate\": \"28.11.2018\"},{\"appid\": 1183410,\"ordate\": \"29.11.2019\"},{\"appid\": 1422090,\"ordate\": \"23.10.2020\"},{\"appid\": 1426530,\"ordate\": \"25.12.2020\"},{\"appid\": 1828870,\"ordate\": \"03.03.2022\"},{\"appid\": 2589440,\"ordate\": \"20.10.2023\"},{\"appid\": 381260,\"ordate\": \"19.08.2015\"},{\"appid\": 3035140,\"ordate\": \"26.11.2024\"},{\"appid\": 1623080,\"ordate\": \"28.05.2021\"},{\"appid\": 2550860,\"ordate\": \"04.09.2023\"},{\"appid\": 815100,\"ordate\": \"02.12.2018\"},{\"appid\": 486320,\"ordate\": \"31.01.2018\"},{\"appid\": 856550,\"ordate\": \"07.06.2018\"},{\"appid\": 1474880,\"ordate\": \"11.12.2020\"},{\"appid\": 2304160,\"ordate\": \"01.03.2023\"},{\"appid\": 1120920,\"ordate\": \"31.07.2019\"},{\"appid\": 2120840,\"ordate\": \"30.05.2023\"},{\"appid\": 1584190,\"ordate\": \"26.08.2021\"},{\"appid\": 973390,\"ordate\": \"22.11.2018\"},{\"appid\": 1597220,\"ordate\": \"22.04.2021\"},{\"appid\": 1896650,\"ordate\": \"02.03.2022\"},{\"appid\": 2717480,\"ordate\": \"12.07.2024\"},{\"appid\": 1114660,\"ordate\": \"10.08.2019\"},{\"appid\": 389310,\"ordate\": \"06.08.2015\"},{\"appid\": 1338980,\"ordate\": \"21.06.2020\"},{\"appid\": 378720,\"ordate\": \"28.09.2015\"},{\"appid\": 569430,\"ordate\": \"19.12.2016\"},{\"appid\": 567200,\"ordate\": \"10.02.2017\"},{\"appid\": 2166850,\"ordate\": \"24.10.2022\"},{\"appid\": 1177400,\"ordate\": \"25.02.2021\"},{\"appid\": 1002270,\"ordate\": \"28.03.2019\"},{\"appid\": 2301850,\"ordate\": \"07.04.2023\"},{\"appid\": 3159680,\"ordate\": \"06.12.2024\"},{\"appid\": 1215960,\"ordate\": \"13.01.2020\"},{\"appid\": 2804200,\"ordate\": \"21.05.2024\"},{\"appid\": 3139930,\"ordate\": \"26.10.2024\"},{\"appid\": 1142860,\"ordate\": \"13.09.2019\"},{\"appid\": 2839420,\"ordate\": \"03.05.2024\"},{\"appid\": 2023810,\"ordate\": \"27.06.2022\"},{\"appid\": 811310,\"ordate\": \"01.06.2018\"},{\"appid\": 2064950,\"ordate\": \"15.07.2022\"},{\"appid\": 853220,\"ordate\": \"10.12.2018\"},{\"appid\": 2593960,\"ordate\": \"09.12.2023\"},{\"appid\": 2975660,\"ordate\": \"19.06.2024\"},{\"appid\": 1052150,\"ordate\": \"17.07.2019\"},{\"appid\": 629230,\"ordate\": \"24.06.2019\"},{\"appid\": 367260,\"ordate\": \"05.05.2015\"},{\"appid\": 2507780,\"ordate\": \"27.09.2023\"},{\"appid\": 1778830,\"ordate\": \"04.11.2021\"},{\"appid\": 1206660,\"ordate\": \"25.12.2019\"},{\"appid\": 1847060,\"ordate\": \"31.12.2021\"},{\"appid\": 1883820,\"ordate\": \"25.03.2022\"},{\"appid\": 1187110,\"ordate\": \"11.12.2019\"},{\"appid\": 985530,\"ordate\": \"08.12.2018\"},{\"appid\": 861280,\"ordate\": \"28.05.2018\"},{\"appid\": 754340,\"ordate\": \"27.05.2018\"},{\"appid\": 871990,\"ordate\": \"28.08.2018\"},{\"appid\": 495350,\"ordate\": \"27.07.2016\"},{\"appid\": 595010,\"ordate\": \"13.12.2017\"},{\"appid\": 2093270,\"ordate\": \"30.09.2022\"},{\"appid\": 2281700,\"ordate\": \"07.02.2023\"},{\"appid\": 532700,\"ordate\": \"21.09.2016\"},{\"appid\": 3337110,\"ordate\": \"28.11.2024\"},{\"appid\": 1399850,\"ordate\": \"02.09.2020\"},{\"appid\": 2128480,\"ordate\": \"10.03.2023\"},{\"appid\": 872630,\"ordate\": \"19.07.2019\"},{\"appid\": 2623690,\"ordate\": \"07.12.2023\"},{\"appid\": 2160710,\"ordate\": \"11.11.2022\"},{\"appid\": 1172120,\"ordate\": \"03.12.2019\"},{\"appid\": 2707400,\"ordate\": \"10.04.2024\"},{\"appid\": 2467590,\"ordate\": \"28.06.2023\"},{\"appid\": 1001960,\"ordate\": \"18.09.2020\"},{\"appid\": 1446560,\"ordate\": \"19.10.2021\"},{\"appid\": 1511950,\"ordate\": \"27.01.2021\"},{\"appid\": 1435470,\"ordate\": \"29.07.2022\"},{\"appid\": 2675620,\"ordate\": \"17.11.2023\"},{\"appid\": 888610,\"ordate\": \"16.08.2018\"},{\"appid\": 349580,\"ordate\": \"06.08.2015\"},{\"appid\": 2255830,\"ordate\": \"18.01.2023\"},{\"appid\": 705060,\"ordate\": \"22.09.2017\"},{\"appid\": 1597040,\"ordate\": \"02.07.2021\"},{\"appid\": 528950,\"ordate\": \"28.10.2016\"},{\"appid\": 3158010,\"ordate\": \"07.09.2024\"},{\"appid\": 2205600,\"ordate\": \"17.01.2024\"},{\"appid\": 1849190,\"ordate\": \"29.03.2022\"},{\"appid\": 2727530,\"ordate\": \"26.12.2023\"},{\"appid\": 890700,\"ordate\": \"30.01.2020\"},{\"appid\": 558990,\"ordate\": \"19.10.2017\"},{\"appid\": 281940,\"ordate\": \"27.01.2015\"},{\"appid\": 370360,\"ordate\": \"01.06.2015\"},{\"appid\": 492080,\"ordate\": \"04.07.2016\"},{\"appid\": 1131400,\"ordate\": \"23.08.2019\"},{\"appid\": 543140,\"ordate\": \"28.10.2016\"},{\"appid\": 594370,\"ordate\": \"06.04.2017\"},{\"appid\": 1547440,\"ordate\": \"10.09.2023\"},{\"appid\": 1370060,\"ordate\": \"12.06.2021\"},{\"appid\": 2694220,\"ordate\": \"26.12.2023\"},{\"appid\": 2981910,\"ordate\": \"19.09.2024\"},{\"appid\": 1104030,\"ordate\": \"06.09.2019\"},{\"appid\": 1078450,\"ordate\": \"27.05.2019\"},{\"appid\": 423180,\"ordate\": \"19.12.2015\"},{\"appid\": 886370,\"ordate\": \"31.08.2018\"},{\"appid\": 1509870,\"ordate\": \"31.01.2024\"},{\"appid\": 1135740,\"ordate\": \"24.10.2019\"},{\"appid\": 1511610,\"ordate\": \"16.01.2021\"},{\"appid\": 1157910,\"ordate\": \"31.10.2019\"},{\"appid\": 1014450,\"ordate\": \"01.02.2019\"},{\"appid\": 3262420,\"ordate\": \"29.11.2024\"},{\"appid\": 1060460,\"ordate\": \"30.05.2019\"},{\"appid\": 1020410,\"ordate\": \"28.03.2019\"},{\"appid\": 1142130,\"ordate\": \"13.09.2019\"},{\"appid\": 1145270,\"ordate\": \"10.09.2019\"},{\"appid\": 1997230,\"ordate\": \"19.06.2022\"},{\"appid\": 2587450,\"ordate\": \"22.02.2024\"},{\"appid\": 2146730,\"ordate\": \"28.09.2022\"},{\"appid\": 1291640,\"ordate\": \"03.05.2020\"},{\"appid\": 1105620,\"ordate\": \"08.07.2019\"},{\"appid\": 2115170,\"ordate\": \"03.09.2022\"},{\"appid\": 1202240,\"ordate\": \"29.02.2020\"},{\"appid\": 3262620,\"ordate\": \"31.10.2024\"},{\"appid\": 1485580,\"ordate\": \"18.12.2020\"},{\"appid\": 648070,\"ordate\": \"25.07.2017\"},{\"appid\": 642170,\"ordate\": \"07.07.2017\"},{\"appid\": 672460,\"ordate\": \"31.10.2017\"},{\"appid\": 1234280,\"ordate\": \"25.02.2020\"},{\"appid\": 988100,\"ordate\": \"08.03.2019\"},{\"appid\": 3109700,\"ordate\": \"29.10.2024\"},{\"appid\": 2629120,\"ordate\": \"17.10.2023\"},{\"appid\": 1789180,\"ordate\": \"10.12.2021\"},{\"appid\": 3206830,\"ordate\": \"18.10.2024\"},{\"appid\": 1412470,\"ordate\": \"11.11.2020\"},{\"appid\": 1449290,\"ordate\": \"15.05.2021\"},{\"appid\": 514240,\"ordate\": \"24.08.2016\"},{\"appid\": 1622560,\"ordate\": \"27.11.2021\"},{\"appid\": 2770250,\"ordate\": \"10.02.2024\"},{\"appid\": 1010450,\"ordate\": \"31.01.2019\"},{\"appid\": 1425920,\"ordate\": \"16.10.2020\"},{\"appid\": 992620,\"ordate\": \"20.03.2019\"},{\"appid\": 1702350,\"ordate\": \"29.09.2021\"},{\"appid\": 1650130,\"ordate\": \"06.07.2021\"},{\"appid\": 293840,\"ordate\": \"15.05.2014\"},{\"appid\": 1678760,\"ordate\": \"07.08.2021\"},{\"appid\": 708340,\"ordate\": \"07.10.2017\"},{\"appid\": 3126470,\"ordate\": \"30.09.2024\"},{\"appid\": 416040,\"ordate\": \"30.09.2016\"},{\"appid\": 3237300,\"ordate\": \"12.11.2024\"},{\"appid\": 3210160,\"ordate\": \"21.11.2024\"},{\"appid\": 2180430,\"ordate\": \"04.01.2023\"},{\"appid\": 325860,\"ordate\": \"19.10.2014\"},{\"appid\": 1216300,\"ordate\": \"26.06.2020\"},{\"appid\": 2620000,\"ordate\": \"19.11.2023\"},{\"appid\": 2154000,\"ordate\": \"06.10.2022\"},{\"appid\": 1300390,\"ordate\": \"24.07.2020\"},{\"appid\": 2739900,\"ordate\": \"03.05.2024\"},{\"appid\": 665930,\"ordate\": \"14.07.2017\"},{\"appid\": 578190,\"ordate\": \"17.01.2017\"},{\"appid\": 706440,\"ordate\": \"14.10.2017\"},{\"appid\": 861710,\"ordate\": \"29.05.2018\"},{\"appid\": 2010370,\"ordate\": \"02.12.2022\"},{\"appid\": 2628400,\"ordate\": \"10.01.2024\"},{\"appid\": 974180,\"ordate\": \"23.11.2018\"},{\"appid\": 317440,\"ordate\": \"20.10.2014\"},{\"appid\": 2440620,\"ordate\": \"19.12.2023\"},{\"appid\": 438820,\"ordate\": \"01.02.2016\"},{\"appid\": 517110,\"ordate\": \"18.01.2017\"},{\"appid\": 1750810,\"ordate\": \"27.09.2021\"},{\"appid\": 387840,\"ordate\": \"20.07.2015\"},{\"appid\": 684770,\"ordate\": \"02.09.2017\"},{\"appid\": 1406340,\"ordate\": \"08.01.2021\"},{\"appid\": 1129200,\"ordate\": \"23.08.2019\"},{\"appid\": 1289770,\"ordate\": \"07.05.2020\"},{\"appid\": 1218250,\"ordate\": \"18.02.2020\"},{\"appid\": 1798770,\"ordate\": \"13.11.2021\"},{\"appid\": 1921250,\"ordate\": \"12.03.2022\"},{\"appid\": 2359220,\"ordate\": \"04.07.2023\"},{\"appid\": 857510,\"ordate\": \"26.05.2018\"},{\"appid\": 600630,\"ordate\": \"03.04.2017\"},{\"appid\": 2894070,\"ordate\": \"09.04.2024\"},{\"appid\": 1063560,\"ordate\": \"24.04.2019\"},{\"appid\": 1744450,\"ordate\": \"25.11.2021\"},{\"appid\": 1405740,\"ordate\": \"21.08.2021\"},{\"appid\": 1671330,\"ordate\": \"02.12.2021\"},{\"appid\": 2192640,\"ordate\": \"08.11.2022\"},{\"appid\": 1054850,\"ordate\": \"30.12.2019\"},{\"appid\": 1976850,\"ordate\": \"28.06.2022\"},{\"appid\": 339280,\"ordate\": \"09.04.2015\"},{\"appid\": 2860800,\"ordate\": \"16.03.2024\"},{\"appid\": 1325380,\"ordate\": \"30.09.2020\"},{\"appid\": 1526500,\"ordate\": \"20.03.2021\"},{\"appid\": 2766020,\"ordate\": \"01.05.2024\"},{\"appid\": 2672510,\"ordate\": \"24.10.2024\"},{\"appid\": 3302960,\"ordate\": \"28.12.2024\"},{\"appid\": 339860,\"ordate\": \"15.01.2015\"},{\"appid\": 1351120,\"ordate\": \"19.07.2020\"},{\"appid\": 1783180,\"ordate\": \"27.01.2022\"},{\"appid\": 386540,\"ordate\": \"19.08.2015\"},{\"appid\": 454060,\"ordate\": \"01.04.2016\"},{\"appid\": 504210,\"ordate\": \"06.10.2016\"},{\"appid\": 1521980,\"ordate\": \"25.03.2021\"},{\"appid\": 2985510,\"ordate\": \"18.07.2024\"},{\"appid\": 3076400,\"ordate\": \"29.08.2024\"},{\"appid\": 1505470,\"ordate\": \"12.01.2021\"},{\"appid\": 555230,\"ordate\": \"05.12.2016\"},{\"appid\": 376350,\"ordate\": \"12.06.2015\"},{\"appid\": 2544870,\"ordate\": \"06.11.2023\"},{\"appid\": 2023250,\"ordate\": \"27.06.2022\"},{\"appid\": 2513240,\"ordate\": \"15.02.2024\"},{\"appid\": 1949930,\"ordate\": \"20.04.2022\"},{\"appid\": 1772920,\"ordate\": \"19.11.2021\"},{\"appid\": 2085790,\"ordate\": \"29.07.2022\"},{\"appid\": 2715370,\"ordate\": \"03.01.2025\"},{\"appid\": 2102000,\"ordate\": \"19.10.2022\"},{\"appid\": 1325420,\"ordate\": \"12.02.2021\"},{\"appid\": 2266740,\"ordate\": \"07.12.2023\"},{\"appid\": 1172050,\"ordate\": \"16.08.2020\"},{\"appid\": 1058370,\"ordate\": \"13.05.2019\"},{\"appid\": 1255660,\"ordate\": \"13.03.2020\"},{\"appid\": 1439340,\"ordate\": \"13.11.2020\"},{\"appid\": 1522010,\"ordate\": \"29.01.2021\"},{\"appid\": 2395620,\"ordate\": \"08.06.2023\"},{\"appid\": 1837140,\"ordate\": \"09.05.2022\"},{\"appid\": 1812950,\"ordate\": \"29.06.2022\"},{\"appid\": 1480810,\"ordate\": \"25.07.2023\"},{\"appid\": 1015090,\"ordate\": \"27.07.2019\"},{\"appid\": 1191510,\"ordate\": \"24.11.2019\"},{\"appid\": 1132540,\"ordate\": \"23.06.2020\"},{\"appid\": 546400,\"ordate\": \"10.01.2017\"},{\"appid\": 528190,\"ordate\": \"18.10.2016\"},{\"appid\": 964920,\"ordate\": \"23.11.2018\"},{\"appid\": 1359650,\"ordate\": \"15.08.2020\"},{\"appid\": 501440,\"ordate\": \"20.07.2016\"},{\"appid\": 2797410,\"ordate\": \"06.03.2024\"},{\"appid\": 790130,\"ordate\": \"21.03.2018\"},{\"appid\": 1281980,\"ordate\": \"23.04.2020\"},{\"appid\": 2606270,\"ordate\": \"24.11.2023\"},{\"appid\": 2114180,\"ordate\": \"16.11.2022\"},{\"appid\": 1505390,\"ordate\": \"22.01.2021\"},{\"appid\": 3098700,\"ordate\": \"17.10.2024\"},{\"appid\": 2719600,\"ordate\": \"17.12.2023\"},{\"appid\": 751320,\"ordate\": \"21.10.2022\"},{\"appid\": 1891270,\"ordate\": \"17.03.2022\"},{\"appid\": 2100040,\"ordate\": \"12.02.2023\"},{\"appid\": 2307690,\"ordate\": \"10.03.2023\"},{\"appid\": 2406870,\"ordate\": \"14.07.2023\"},{\"appid\": 576400,\"ordate\": \"16.02.2017\"},{\"appid\": 1854510,\"ordate\": \"28.01.2022\"},{\"appid\": 2871930,\"ordate\": \"05.06.2024\"},{\"appid\": 1952740,\"ordate\": \"10.05.2022\"},{\"appid\": 470490,\"ordate\": \"31.07.2016\"},{\"appid\": 1322180,\"ordate\": \"02.06.2020\"},{\"appid\": 937970,\"ordate\": \"04.10.2018\"},{\"appid\": 2214890,\"ordate\": \"20.12.2022\"},{\"appid\": 1067060,\"ordate\": \"01.05.2019\"},{\"appid\": 781030,\"ordate\": \"24.01.2019\"},{\"appid\": 1344830,\"ordate\": \"13.08.2020\"},{\"appid\": 981260,\"ordate\": \"30.11.2018\"},{\"appid\": 2020590,\"ordate\": \"21.10.2022\"},{\"appid\": 816650,\"ordate\": \"13.04.2018\"},{\"appid\": 1596240,\"ordate\": \"26.04.2021\"},{\"appid\": 1701380,\"ordate\": \"23.10.2021\"},{\"appid\": 630490,\"ordate\": \"23.07.2019\"},{\"appid\": 2985900,\"ordate\": \"08.06.2024\"},{\"appid\": 412620,\"ordate\": \"16.01.2017\"},{\"appid\": 2093050,\"ordate\": \"17.02.2023\"},{\"appid\": 2455370,\"ordate\": \"17.08.2023\"},{\"appid\": 1691370,\"ordate\": \"30.09.2021\"},{\"appid\": 760930,\"ordate\": \"12.12.2017\"},{\"appid\": 1067110,\"ordate\": \"10.05.2019\"},{\"appid\": 1337340,\"ordate\": \"19.06.2020\"},{\"appid\": 1470670,\"ordate\": \"02.09.2021\"},{\"appid\": 887520,\"ordate\": \"17.07.2018\"},{\"appid\": 1503350,\"ordate\": \"08.01.2021\"},{\"appid\": 547090,\"ordate\": \"28.10.2016\"},{\"appid\": 1538170,\"ordate\": \"01.03.2021\"},{\"appid\": 2222260,\"ordate\": \"17.12.2022\"},{\"appid\": 1339790,\"ordate\": \"02.10.2020\"},{\"appid\": 1261640,\"ordate\": \"23.03.2020\"},{\"appid\": 877230,\"ordate\": \"06.07.2018\"},{\"appid\": 335770,\"ordate\": \"20.12.2014\"},{\"appid\": 1902900,\"ordate\": \"16.03.2022\"},{\"appid\": 1229260,\"ordate\": \"10.02.2020\"},{\"appid\": 2463290,\"ordate\": \"03.08.2024\"},{\"appid\": 1516580,\"ordate\": \"13.08.2021\"},{\"appid\": 933250,\"ordate\": \"29.09.2018\"},{\"appid\": 2190470,\"ordate\": \"07.03.2023\"},{\"appid\": 1553400,\"ordate\": \"29.04.2022\"},{\"appid\": 1393350,\"ordate\": \"13.10.2020\"},{\"appid\": 2510510,\"ordate\": \"23.08.2023\"},{\"appid\": 322580,\"ordate\": \"20.09.2014\"},{\"appid\": 2459870,\"ordate\": \"05.01.2024\"},{\"appid\": 1824570,\"ordate\": \"08.11.2023\"},{\"appid\": 2794140,\"ordate\": \"13.02.2024\"},{\"appid\": 3302650,\"ordate\": \"22.11.2024\"},{\"appid\": 1671310,\"ordate\": \"28.05.2022\"},{\"appid\": 1254150,\"ordate\": \"11.03.2020\"},{\"appid\": 2684410,\"ordate\": \"28.12.2023\"},{\"appid\": 818610,\"ordate\": \"16.05.2018\"},{\"appid\": 1410360,\"ordate\": \"22.02.2021\"},{\"appid\": 802080,\"ordate\": \"07.07.2018\"},{\"appid\": 3260840,\"ordate\": \"30.10.2024\"},{\"appid\": 1683730,\"ordate\": \"22.07.2021\"},{\"appid\": 566270,\"ordate\": \"19.12.2016\"},{\"appid\": 2681100,\"ordate\": \"02.12.2023\"},{\"appid\": 1834620,\"ordate\": \"08.01.2022\"},{\"appid\": 1564950,\"ordate\": \"20.04.2021\"},{\"appid\": 2343460,\"ordate\": \"14.07.2023\"},{\"appid\": 3366120,\"ordate\": \"20.12.2024\"},{\"appid\": 2595860,\"ordate\": \"08.10.2023\"},{\"appid\": 2271560,\"ordate\": \"07.06.2023\"},{\"appid\": 1335810,\"ordate\": \"18.06.2020\"},{\"appid\": 2515210,\"ordate\": \"03.11.2023\"},{\"appid\": 1080240,\"ordate\": \"13.11.2019\"},{\"appid\": 2163100,\"ordate\": \"15.05.2023\"},{\"appid\": 2687160,\"ordate\": \"07.01.2024\"},{\"appid\": 1117930,\"ordate\": \"22.09.2020\"},{\"appid\": 1879000,\"ordate\": \"06.02.2022\"},{\"appid\": 3168390,\"ordate\": \"15.11.2024\"},{\"appid\": 2438290,\"ordate\": \"07.11.2024\"},{\"appid\": 2710590,\"ordate\": \"24.12.2023\"},{\"appid\": 1505460,\"ordate\": \"21.01.2021\"},{\"appid\": 1380830,\"ordate\": \"02.01.2021\"},{\"appid\": 806470,\"ordate\": \"09.03.2018\"},{\"appid\": 571350,\"ordate\": \"27.01.2017\"},{\"appid\": 792720,\"ordate\": \"16.03.2018\"},{\"appid\": 2403940,\"ordate\": \"15.12.2023\"},{\"appid\": 1871000,\"ordate\": \"26.01.2022\"},{\"appid\": 1155120,\"ordate\": \"15.10.2019\"},{\"appid\": 1255550,\"ordate\": \"26.03.2020\"},{\"appid\": 1517150,\"ordate\": \"17.05.2021\"},{\"appid\": 1561560,\"ordate\": \"25.03.2021\"},{\"appid\": 1569620,\"ordate\": \"10.04.2021\"},{\"appid\": 1570720,\"ordate\": \"23.03.2021\"},{\"appid\": 1802570,\"ordate\": \"20.11.2021\"},{\"appid\": 2054220,\"ordate\": \"20.09.2023\"},{\"appid\": 1045650,\"ordate\": \"28.03.2019\"},{\"appid\": 1535500,\"ordate\": \"18.03.2021\"},{\"appid\": 544800,\"ordate\": \"27.10.2016\"},{\"appid\": 529520,\"ordate\": \"26.09.2017\"},{\"appid\": 2591840,\"ordate\": \"01.11.2023\"},{\"appid\": 1681350,\"ordate\": \"19.07.2021\"},{\"appid\": 951220,\"ordate\": \"26.10.2018\"},{\"appid\": 775760,\"ordate\": \"07.03.2019\"},{\"appid\": 610680,\"ordate\": \"25.07.2017\"},{\"appid\": 3155690,\"ordate\": \"13.09.2024\"},{\"appid\": 1456290,\"ordate\": \"28.12.2020\"},{\"appid\": 1288670,\"ordate\": \"15.05.2020\"},{\"appid\": 1935400,\"ordate\": \"11.10.2024\"},{\"appid\": 2544720,\"ordate\": \"11.10.2023\"},{\"appid\": 2253770,\"ordate\": \"08.03.2023\"},{\"appid\": 2767310,\"ordate\": \"04.02.2024\"},{\"appid\": 1874010,\"ordate\": \"01.02.2022\"},{\"appid\": 2491080,\"ordate\": \"06.11.2024\"},{\"appid\": 1197180,\"ordate\": \"01.01.2023\"},{\"appid\": 965580,\"ordate\": \"20.08.2020\"},{\"appid\": 2331040,\"ordate\": \"23.10.2024\"},{\"appid\": 1051870,\"ordate\": \"07.05.2020\"},{\"appid\": 1925500,\"ordate\": \"24.03.2022\"},{\"appid\": 2009300,\"ordate\": \"04.08.2022\"},{\"appid\": 2571350,\"ordate\": \"12.09.2023\"},{\"appid\": 1899400,\"ordate\": \"08.04.2022\"},{\"appid\": 1055620,\"ordate\": \"13.04.2019\"},{\"appid\": 2961510,\"ordate\": \"14.05.2024\"},{\"appid\": 1631090,\"ordate\": \"06.01.2023\"},{\"appid\": 495390,\"ordate\": \"05.07.2016\"},{\"appid\": 274230,\"ordate\": \"27.05.2015\"},{\"appid\": 1843710,\"ordate\": \"22.04.2022\"},{\"appid\": 1864770,\"ordate\": \"26.07.2022\"},{\"appid\": 973860,\"ordate\": \"14.11.2018\"},{\"appid\": 1426990,\"ordate\": \"12.10.2020\"},{\"appid\": 1008680,\"ordate\": \"19.01.2019\"},{\"appid\": 1454390,\"ordate\": \"14.01.2021\"},{\"appid\": 754230,\"ordate\": \"16.12.2017\"},{\"appid\": 2873010,\"ordate\": \"16.05.2024\"},{\"appid\": 1220540,\"ordate\": \"31.01.2020\"},{\"appid\": 1274430,\"ordate\": \"07.05.2020\"},{\"appid\": 1463730,\"ordate\": \"26.05.2021\"},{\"appid\": 2283360,\"ordate\": \"06.05.2023\"},{\"appid\": 692860,\"ordate\": \"10.02.2018\"},{\"appid\": 2228330,\"ordate\": \"28.12.2022\"},{\"appid\": 573040,\"ordate\": \"21.01.2017\"},{\"appid\": 2846380,\"ordate\": \"27.03.2024\"},{\"appid\": 1039370,\"ordate\": \"16.03.2019\"},{\"appid\": 979900,\"ordate\": \"19.12.2018\"},{\"appid\": 931250,\"ordate\": \"04.10.2018\"},{\"appid\": 2613370,\"ordate\": \"13.10.2023\"},{\"appid\": 1559620,\"ordate\": \"25.10.2024\"},{\"appid\": 1724010,\"ordate\": \"30.08.2021\"},{\"appid\": 1135890,\"ordate\": \"04.11.2021\"},{\"appid\": 1832010,\"ordate\": \"02.02.2022\"},{\"appid\": 2966150,\"ordate\": \"10.06.2024\"},{\"appid\": 404870,\"ordate\": \"08.06.2023\"},{\"appid\": 1071970,\"ordate\": \"14.06.2019\"},{\"appid\": 1302180,\"ordate\": \"13.05.2020\"},{\"appid\": 1824450,\"ordate\": \"09.12.2021\"},{\"appid\": 2343240,\"ordate\": \"24.03.2023\"},{\"appid\": 2569240,\"ordate\": \"24.09.2023\"},{\"appid\": 2799110,\"ordate\": \"18.02.2024\"},{\"appid\": 983170,\"ordate\": \"07.03.2019\"},{\"appid\": 1485450,\"ordate\": \"17.12.2020\"},{\"appid\": 1037410,\"ordate\": \"07.06.2019\"},{\"appid\": 1071770,\"ordate\": \"11.05.2019\"},{\"appid\": 1179190,\"ordate\": \"18.11.2019\"},{\"appid\": 1146940,\"ordate\": \"04.11.2019\"},{\"appid\": 1689310,\"ordate\": \"10.12.2021\"},{\"appid\": 2084520,\"ordate\": \"27.08.2022\"},{\"appid\": 1283330,\"ordate\": \"29.05.2020\"},{\"appid\": 486880,\"ordate\": \"12.07.2016\"},{\"appid\": 1208980,\"ordate\": \"20.08.2020\"},{\"appid\": 1923780,\"ordate\": \"12.04.2022\"},{\"appid\": 1352590,\"ordate\": \"29.06.2020\"},{\"appid\": 1877830,\"ordate\": \"14.02.2022\"},{\"appid\": 2751980,\"ordate\": \"29.02.2024\"},{\"appid\": 755570,\"ordate\": \"26.12.2017\"},{\"appid\": 1420980,\"ordate\": \"01.02.2021\"},{\"appid\": 1179540,\"ordate\": \"15.12.2019\"},{\"appid\": 2818510,\"ordate\": \"30.04.2024\"},{\"appid\": 2758730,\"ordate\": \"04.10.2024\"},{\"appid\": 3161510,\"ordate\": \"02.10.2024\"},{\"appid\": 1565840,\"ordate\": \"10.07.2021\"},{\"appid\": 2565550,\"ordate\": \"26.08.2024\"},{\"appid\": 863380,\"ordate\": \"01.07.2018\"},{\"appid\": 1279480,\"ordate\": \"13.05.2020\"},{\"appid\": 2401370,\"ordate\": \"19.01.2024\"},{\"appid\": 2022030,\"ordate\": \"25.12.2023\"},{\"appid\": 1547160,\"ordate\": \"12.06.2021\"},{\"appid\": 2301040,\"ordate\": \"17.02.2023\"},{\"appid\": 886040,\"ordate\": \"04.07.2018\"},{\"appid\": 2057070,\"ordate\": \"01.08.2022\"},{\"appid\": 1391990,\"ordate\": \"26.08.2020\"},{\"appid\": 1390830,\"ordate\": \"24.08.2020\"},{\"appid\": 2107470,\"ordate\": \"02.05.2023\"},{\"appid\": 1676710,\"ordate\": \"17.08.2021\"},{\"appid\": 786020,\"ordate\": \"11.05.2019\"},{\"appid\": 1286370,\"ordate\": \"17.04.2020\"},{\"appid\": 2100840,\"ordate\": \"19.09.2022\"},{\"appid\": 2505160,\"ordate\": \"18.10.2023\"},{\"appid\": 2748530,\"ordate\": \"24.01.2024\"},{\"appid\": 697010,\"ordate\": \"19.12.2017\"},{\"appid\": 2363140,\"ordate\": \"14.04.2023\"},{\"appid\": 1176020,\"ordate\": \"04.11.2019\"},{\"appid\": 2435960,\"ordate\": \"14.07.2023\"},{\"appid\": 895750,\"ordate\": \"18.08.2018\"},{\"appid\": 1505450,\"ordate\": \"04.02.2021\"},{\"appid\": 509850,\"ordate\": \"13.08.2016\"},{\"appid\": 444590,\"ordate\": \"27.04.2016\"},{\"appid\": 2927880,\"ordate\": \"17.05.2024\"},{\"appid\": 1082990,\"ordate\": \"17.06.2019\"},{\"appid\": 756380,\"ordate\": \"28.02.2018\"},{\"appid\": 1066240,\"ordate\": \"30.04.2019\"},{\"appid\": 2848840,\"ordate\": \"24.05.2024\"},{\"appid\": 1576110,\"ordate\": \"01.05.2021\"},{\"appid\": 3315750,\"ordate\": \"15.01.2025\"},{\"appid\": 2751820,\"ordate\": \"05.12.2024\"},{\"appid\": 2706320,\"ordate\": \"23.12.2023\"},{\"appid\": 2254540,\"ordate\": \"20.01.2023\"},{\"appid\": 1345150,\"ordate\": \"23.06.2020\"},{\"appid\": 2614320,\"ordate\": \"09.10.2023\"},{\"appid\": 1264770,\"ordate\": \"19.04.2020\"},{\"appid\": 1095820,\"ordate\": \"01.08.2020\"},{\"appid\": 2626740,\"ordate\": \"16.10.2023\"},{\"appid\": 2519310,\"ordate\": \"20.08.2023\"},{\"appid\": 613020,\"ordate\": \"30.03.2017\"},{\"appid\": 2414920,\"ordate\": \"18.05.2023\"},{\"appid\": 800510,\"ordate\": \"15.03.2018\"},{\"appid\": 470270,\"ordate\": \"28.07.2016\"},{\"appid\": 1071620,\"ordate\": \"07.02.2023\"},{\"appid\": 1459850,\"ordate\": \"21.11.2020\"},{\"appid\": 1557780,\"ordate\": \"21.07.2021\"},{\"appid\": 2358290,\"ordate\": \"31.03.2023\"},{\"appid\": 2392240,\"ordate\": \"28.04.2023\"},{\"appid\": 2413820,\"ordate\": \"15.05.2023\"},{\"appid\": 2482460,\"ordate\": \"06.07.2023\"},{\"appid\": 2494280,\"ordate\": \"18.07.2023\"},{\"appid\": 314980,\"ordate\": \"18.09.2014\"},{\"appid\": 1475180,\"ordate\": \"28.01.2021\"},{\"appid\": 544840,\"ordate\": \"21.11.2016\"},{\"appid\": 971540,\"ordate\": \"25.11.2018\"},{\"appid\": 2674580,\"ordate\": \"30.11.2023\"},{\"appid\": 2808860,\"ordate\": \"14.02.2024\"},{\"appid\": 2380590,\"ordate\": \"25.04.2023\"},{\"appid\": 386350,\"ordate\": \"19.10.2015\"},{\"appid\": 1511780,\"ordate\": \"05.07.2022\"},{\"appid\": 1993530,\"ordate\": \"14.06.2022\"},{\"appid\": 786180,\"ordate\": \"23.02.2018\"},{\"appid\": 1109720,\"ordate\": \"28.02.2020\"},{\"appid\": 2810470,\"ordate\": \"13.06.2024\"},{\"appid\": 569870,\"ordate\": \"21.11.2018\"},{\"appid\": 3398070,\"ordate\": \"04.01.2025\"},{\"appid\": 636220,\"ordate\": \"03.10.2017\"},{\"appid\": 399670,\"ordate\": \"04.09.2015\"},{\"appid\": 2157110,\"ordate\": \"01.11.2022\"},{\"appid\": 2259060,\"ordate\": \"29.01.2023\"},{\"appid\": 1608460,\"ordate\": \"11.06.2021\"},{\"appid\": 443630,\"ordate\": \"07.04.2016\"},{\"appid\": 864110,\"ordate\": \"04.06.2018\"},{\"appid\": 653190,\"ordate\": \"04.08.2017\"},{\"appid\": 2437660,\"ordate\": \"28.10.2023\"},{\"appid\": 2143740,\"ordate\": \"27.09.2022\"},{\"appid\": 2649910,\"ordate\": \"07.11.2023\"},{\"appid\": 597670,\"ordate\": \"09.03.2017\"},{\"appid\": 2170100,\"ordate\": \"10.03.2023\"},{\"appid\": 1290480,\"ordate\": \"15.09.2020\"},{\"appid\": 1820330,\"ordate\": \"14.03.2022\"},{\"appid\": 1084530,\"ordate\": \"24.06.2019\"},{\"appid\": 1268150,\"ordate\": \"22.06.2020\"},{\"appid\": 1352080,\"ordate\": \"15.03.2021\"},{\"appid\": 1797880,\"ordate\": \"04.08.2022\"},{\"appid\": 2050560,\"ordate\": \"22.09.2022\"},{\"appid\": 1525390,\"ordate\": \"16.04.2021\"},{\"appid\": 1080130,\"ordate\": \"25.05.2019\"},{\"appid\": 446070,\"ordate\": \"09.04.2016\"},{\"appid\": 1381290,\"ordate\": \"17.08.2020\"},{\"appid\": 1204670,\"ordate\": \"08.01.2020\"},{\"appid\": 316080,\"ordate\": \"26.03.2015\"},{\"appid\": 1570480,\"ordate\": \"28.04.2021\"},{\"appid\": 2270700,\"ordate\": \"05.02.2023\"},{\"appid\": 2160030,\"ordate\": \"12.11.2022\"},{\"appid\": 896160,\"ordate\": \"10.11.2018\"},{\"appid\": 604500,\"ordate\": \"26.09.2017\"},{\"appid\": 1585400,\"ordate\": \"14.12.2022\"},{\"appid\": 1437600,\"ordate\": \"30.10.2020\"},{\"appid\": 1308950,\"ordate\": \"08.06.2020\"},{\"appid\": 1402740,\"ordate\": \"04.09.2020\"},{\"appid\": 1008800,\"ordate\": \"09.04.2019\"},{\"appid\": 1857580,\"ordate\": \"03.02.2022\"},{\"appid\": 1758460,\"ordate\": \"02.10.2021\"},{\"appid\": 2726720,\"ordate\": \"25.01.2024\"},{\"appid\": 2408700,\"ordate\": \"25.06.2023\"},{\"appid\": 1127290,\"ordate\": \"15.11.2019\"},{\"appid\": 1431190,\"ordate\": \"22.10.2020\"},{\"appid\": 871230,\"ordate\": \"14.07.2018\"},{\"appid\": 1447090,\"ordate\": \"08.11.2020\"},{\"appid\": 1094660,\"ordate\": \"14.06.2019\"},{\"appid\": 1828070,\"ordate\": \"28.12.2021\"},{\"appid\": 363530,\"ordate\": \"26.05.2016\"},{\"appid\": 439880,\"ordate\": \"13.05.2016\"},{\"appid\": 1417670,\"ordate\": \"23.09.2020\"},{\"appid\": 1258840,\"ordate\": \"06.03.2020\"},{\"appid\": 1367110,\"ordate\": \"08.07.2020\"},{\"appid\": 2726240,\"ordate\": \"26.02.2024\"},{\"appid\": 611140,\"ordate\": \"01.04.2017\"},{\"appid\": 2731640,\"ordate\": \"22.02.2024\"},{\"appid\": 834380,\"ordate\": \"20.04.2018\"},{\"appid\": 398970,\"ordate\": \"11.10.2015\"},{\"appid\": 1505420,\"ordate\": \"06.02.2021\"},{\"appid\": 1192730,\"ordate\": \"10.12.2019\"},{\"appid\": 1139240,\"ordate\": \"29.08.2019\"},{\"appid\": 3028880,\"ordate\": \"23.10.2024\"},{\"appid\": 1232130,\"ordate\": \"07.02.2020\"},{\"appid\": 1505400,\"ordate\": \"12.02.2021\"},{\"appid\": 3301040,\"ordate\": \"18.11.2024\"},{\"appid\": 1912170,\"ordate\": \"07.04.2022\"},{\"appid\": 2793810,\"ordate\": \"18.02.2024\"},{\"appid\": 2230680,\"ordate\": \"20.05.2023\"},{\"appid\": 965590,\"ordate\": \"07.03.2020\"},{\"appid\": 1036600,\"ordate\": \"12.03.2019\"},{\"appid\": 3039990,\"ordate\": \"06.09.2024\"},{\"appid\": 3279980,\"ordate\": \"29.11.2024\"},{\"appid\": 461680,\"ordate\": \"29.04.2016\"},{\"appid\": 381220,\"ordate\": \"07.07.2015\"},{\"appid\": 1668800,\"ordate\": \"18.10.2021\"},{\"appid\": 1749170,\"ordate\": \"27.09.2021\"},{\"appid\": 3022340,\"ordate\": \"30.07.2024\"},{\"appid\": 2922030,\"ordate\": \"18.06.2024\"},{\"appid\": 1398180,\"ordate\": \"07.09.2020\"},{\"appid\": 924740,\"ordate\": \"13.12.2019\"},{\"appid\": 890710,\"ordate\": \"31.07.2018\"},{\"appid\": 1138900,\"ordate\": \"15.08.2019\"},{\"appid\": 1651460,\"ordate\": \"14.06.2021\"},{\"appid\": 2797000,\"ordate\": \"25.06.2024\"},{\"appid\": 1164330,\"ordate\": \"15.10.2019\"},{\"appid\": 2907000,\"ordate\": \"10.04.2024\"},{\"appid\": 2463160,\"ordate\": \"21.06.2023\"},{\"appid\": 1139660,\"ordate\": \"03.12.2020\"},{\"appid\": 1481020,\"ordate\": \"07.12.2020\"},{\"appid\": 969970,\"ordate\": \"18.12.2018\"},{\"appid\": 295630,\"ordate\": \"07.05.2014\"},{\"appid\": 2805920,\"ordate\": \"30.06.2024\"},{\"appid\": 1414070,\"ordate\": \"06.10.2020\"},{\"appid\": 2919110,\"ordate\": \"30.06.2024\"},{\"appid\": 1566870,\"ordate\": \"08.04.2021\"},{\"appid\": 2945110,\"ordate\": \"16.05.2024\"},{\"appid\": 2543750,\"ordate\": \"07.05.2024\"},{\"appid\": 1609440,\"ordate\": \"07.05.2021\"},{\"appid\": 946070,\"ordate\": \"30.04.2019\"},{\"appid\": 1053040,\"ordate\": \"25.03.2019\"},{\"appid\": 1265300,\"ordate\": \"04.11.2020\"},{\"appid\": 1517520,\"ordate\": \"04.02.2021\"},{\"appid\": 1969870,\"ordate\": \"27.06.2022\"},{\"appid\": 2643090,\"ordate\": \"01.11.2023\"},{\"appid\": 2419870,\"ordate\": \"02.06.2023\"},{\"appid\": 1132770,\"ordate\": \"31.03.2021\"},{\"appid\": 1031200,\"ordate\": \"13.03.2019\"},{\"appid\": 454030,\"ordate\": \"31.03.2016\"},{\"appid\": 1744050,\"ordate\": \"16.09.2021\"},{\"appid\": 3309620,\"ordate\": \"01.12.2024\"},{\"appid\": 2161630,\"ordate\": \"18.01.2023\"},{\"appid\": 2818420,\"ordate\": \"16.03.2024\"},{\"appid\": 1069270,\"ordate\": \"30.05.2019\"},{\"appid\": 396930,\"ordate\": \"02.11.2015\"},{\"appid\": 1110670,\"ordate\": \"02.08.2019\"},{\"appid\": 1619060,\"ordate\": \"24.06.2021\"},{\"appid\": 1614500,\"ordate\": \"16.06.2021\"},{\"appid\": 2276120,\"ordate\": \"07.02.2023\"},{\"appid\": 463350,\"ordate\": \"27.05.2016\"},{\"appid\": 1201760,\"ordate\": \"22.06.2020\"},{\"appid\": 1773320,\"ordate\": \"17.10.2021\"},{\"appid\": 2954340,\"ordate\": \"03.08.2024\"},{\"appid\": 1215690,\"ordate\": \"13.01.2020\"},{\"appid\": 3341100,\"ordate\": \"09.01.2025\"},{\"appid\": 2752770,\"ordate\": \"22.01.2024\"},{\"appid\": 2668540,\"ordate\": \"20.09.2024\"},{\"appid\": 1929420,\"ordate\": \"11.04.2022\"},{\"appid\": 467790,\"ordate\": \"15.06.2016\"},{\"appid\": 2516820,\"ordate\": \"04.08.2023\"},{\"appid\": 448720,\"ordate\": \"01.04.2016\"},{\"appid\": 1607000,\"ordate\": \"23.06.2021\"},{\"appid\": 1348030,\"ordate\": \"16.07.2020\"},{\"appid\": 2617740,\"ordate\": \"06.04.2024\"},{\"appid\": 3383180,\"ordate\": \"27.12.2024\"},{\"appid\": 2224260,\"ordate\": \"01.09.2023\"},{\"appid\": 570380,\"ordate\": \"03.01.2017\"},{\"appid\": 1897480,\"ordate\": \"03.08.2023\"},{\"appid\": 920460,\"ordate\": \"18.09.2018\"},{\"appid\": 1646280,\"ordate\": \"23.02.2022\"},{\"appid\": 342280,\"ordate\": \"17.11.2015\"},{\"appid\": 1444890,\"ordate\": \"27.10.2020\"},{\"appid\": 773830,\"ordate\": \"04.04.2019\"},{\"appid\": 949930,\"ordate\": \"16.11.2018\"},{\"appid\": 1199540,\"ordate\": \"10.03.2020\"},{\"appid\": 2000040,\"ordate\": \"21.10.2022\"},{\"appid\": 573280,\"ordate\": \"27.12.2016\"},{\"appid\": 916910,\"ordate\": \"25.08.2018\"},{\"appid\": 353580,\"ordate\": \"11.11.2016\"},{\"appid\": 575210,\"ordate\": \"04.01.2017\"},{\"appid\": 1563010,\"ordate\": \"13.03.2021\"},{\"appid\": 573260,\"ordate\": \"26.01.2017\"},{\"appid\": 1496530,\"ordate\": \"06.01.2021\"},{\"appid\": 1447070,\"ordate\": \"29.10.2020\"},{\"appid\": 830620,\"ordate\": \"28.09.2018\"},{\"appid\": 2485900,\"ordate\": \"19.07.2023\"},{\"appid\": 737050,\"ordate\": \"05.01.2021\"},{\"appid\": 2830250,\"ordate\": \"28.02.2024\"},{\"appid\": 1595600,\"ordate\": \"29.05.2021\"},{\"appid\": 3008210,\"ordate\": \"14.08.2024\"},{\"appid\": 2324930,\"ordate\": \"09.03.2023\"},{\"appid\": 2520870,\"ordate\": \"08.09.2023\"},{\"appid\": 574520,\"ordate\": \"26.01.2017\"},{\"appid\": 1403890,\"ordate\": \"13.09.2020\"},{\"appid\": 2379890,\"ordate\": \"12.06.2023\"},{\"appid\": 1668720,\"ordate\": \"02.12.2021\"},{\"appid\": 2562470,\"ordate\": \"15.09.2023\"},{\"appid\": 1505440,\"ordate\": \"12.02.2021\"},{\"appid\": 975710,\"ordate\": \"28.11.2018\"},{\"appid\": 1158690,\"ordate\": \"20.11.2019\"},{\"appid\": 1280100,\"ordate\": \"04.04.2020\"},{\"appid\": 1662740,\"ordate\": \"01.07.2021\"},{\"appid\": 2316480,\"ordate\": \"05.03.2023\"},{\"appid\": 2511280,\"ordate\": \"29.08.2023\"},{\"appid\": 3338570,\"ordate\": \"01.01.2025\"},{\"appid\": 2462450,\"ordate\": \"23.06.2023\"},{\"appid\": 1063820,\"ordate\": \"02.05.2019\"},{\"appid\": 1382370,\"ordate\": \"21.08.2020\"},{\"appid\": 776190,\"ordate\": \"13.01.2018\"},{\"appid\": 845200,\"ordate\": \"26.04.2018\"},{\"appid\": 265670,\"ordate\": \"24.02.2014\"},{\"appid\": 544400,\"ordate\": \"13.03.2017\"},{\"appid\": 698740,\"ordate\": \"01.09.2017\"},{\"appid\": 1713620,\"ordate\": \"19.08.2021\"},{\"appid\": 1327100,\"ordate\": \"01.09.2020\"},{\"appid\": 1281530,\"ordate\": \"15.04.2020\"},{\"appid\": 3003960,\"ordate\": \"10.06.2024\"},{\"appid\": 2264200,\"ordate\": \"23.01.2023\"},{\"appid\": 1007430,\"ordate\": \"01.02.2019\"},{\"appid\": 1578410,\"ordate\": \"15.04.2021\"},{\"appid\": 1164550,\"ordate\": \"21.10.2019\"},{\"appid\": 1198550,\"ordate\": \"20.12.2019\"},{\"appid\": 1547860,\"ordate\": \"01.09.2022\"},{\"appid\": 1594300,\"ordate\": \"23.04.2021\"},{\"appid\": 1379610,\"ordate\": \"01.04.2022\"},{\"appid\": 1558980,\"ordate\": \"13.01.2024\"},{\"appid\": 1451830,\"ordate\": \"13.04.2021\"},{\"appid\": 1268290,\"ordate\": \"03.04.2020\"},{\"appid\": 1252120,\"ordate\": \"01.04.2020\"},{\"appid\": 1507740,\"ordate\": \"09.01.2021\"},{\"appid\": 1653420,\"ordate\": \"01.09.2021\"},{\"appid\": 2318900,\"ordate\": \"15.11.2023\"},{\"appid\": 3146680,\"ordate\": \"12.09.2024\"},{\"appid\": 1285820,\"ordate\": \"25.04.2020\"},{\"appid\": 2298880,\"ordate\": \"29.10.2024\"},{\"appid\": 971430,\"ordate\": \"20.11.2018\"},{\"appid\": 1157340,\"ordate\": \"10.09.2019\"},{\"appid\": 1482060,\"ordate\": \"08.01.2021\"},{\"appid\": 1755270,\"ordate\": \"30.09.2021\"},{\"appid\": 2433820,\"ordate\": \"17.10.2023\"},{\"appid\": 582210,\"ordate\": \"21.01.2017\"},{\"appid\": 2902830,\"ordate\": \"09.08.2024\"},{\"appid\": 2481610,\"ordate\": \"13.07.2023\"},{\"appid\": 1925330,\"ordate\": \"16.08.2022\"},{\"appid\": 1228920,\"ordate\": \"11.07.2020\"},{\"appid\": 2711330,\"ordate\": \"20.02.2024\"},{\"appid\": 3065150,\"ordate\": \"15.08.2024\"},{\"appid\": 494810,\"ordate\": \"30.06.2016\"},{\"appid\": 1114710,\"ordate\": \"30.01.2020\"},{\"appid\": 671600,\"ordate\": \"13.08.2019\"},{\"appid\": 1195410,\"ordate\": \"26.02.2020\"},{\"appid\": 1267860,\"ordate\": \"09.04.2020\"},{\"appid\": 1281080,\"ordate\": \"05.04.2020\"},{\"appid\": 2163210,\"ordate\": \"06.06.2023\"},{\"appid\": 951320,\"ordate\": \"06.11.2018\"},{\"appid\": 304950,\"ordate\": \"04.05.2015\"},{\"appid\": 826160,\"ordate\": \"26.06.2018\"},{\"appid\": 1014810,\"ordate\": \"01.05.2019\"},{\"appid\": 536680,\"ordate\": \"13.10.2016\"},{\"appid\": 1558070,\"ordate\": \"11.03.2021\"},{\"appid\": 1437050,\"ordate\": \"22.12.2020\"},{\"appid\": 1808860,\"ordate\": \"20.11.2021\"},{\"appid\": 1564940,\"ordate\": \"05.05.2021\"},{\"appid\": 1739420,\"ordate\": \"08.03.2022\"},{\"appid\": 673630,\"ordate\": \"29.11.2017\"},{\"appid\": 906050,\"ordate\": \"13.09.2018\"},{\"appid\": 781660,\"ordate\": \"24.01.2018\"},{\"appid\": 1157040,\"ordate\": \"18.09.2019\"},{\"appid\": 1307530,\"ordate\": \"12.05.2020\"},{\"appid\": 1311400,\"ordate\": \"28.05.2020\"},{\"appid\": 1497110,\"ordate\": \"09.06.2021\"},{\"appid\": 1768590,\"ordate\": \"06.06.2022\"},{\"appid\": 2520880,\"ordate\": \"23.08.2023\"},{\"appid\": 2588110,\"ordate\": \"05.11.2023\"},{\"appid\": 760680,\"ordate\": \"15.02.2018\"},{\"appid\": 642190,\"ordate\": \"16.11.2018\"},{\"appid\": 610840,\"ordate\": \"05.10.2017\"},{\"appid\": 382300,\"ordate\": \"21.07.2015\"},{\"appid\": 570470,\"ordate\": \"19.12.2016\"},{\"appid\": 1168880,\"ordate\": \"05.11.2019\"},{\"appid\": 1635480,\"ordate\": \"02.11.2021\"},{\"appid\": 800720,\"ordate\": \"19.03.2018\"},{\"appid\": 424830,\"ordate\": \"21.02.2016\"},{\"appid\": 1656640,\"ordate\": \"24.09.2021\"},{\"appid\": 2265160,\"ordate\": \"24.02.2023\"},{\"appid\": 1505430,\"ordate\": \"04.02.2021\"},{\"appid\": 2832640,\"ordate\": \"26.04.2024\"},{\"appid\": 1019630,\"ordate\": \"07.03.2019\"},{\"appid\": 1067200,\"ordate\": \"12.07.2019\"},{\"appid\": 1077450,\"ordate\": \"20.08.2019\"},{\"appid\": 1169000,\"ordate\": \"03.10.2019\"},{\"appid\": 1251770,\"ordate\": \"21.02.2020\"},{\"appid\": 1318690,\"ordate\": \"24.05.2020\"},{\"appid\": 1319220,\"ordate\": \"14.06.2020\"},{\"appid\": 2377910,\"ordate\": \"27.07.2023\"},{\"appid\": 2842520,\"ordate\": \"04.04.2024\"},{\"appid\": 778410,\"ordate\": \"01.02.2018\"},{\"appid\": 576050,\"ordate\": \"07.01.2017\"},{\"appid\": 2472230,\"ordate\": \"07.09.2023\"},{\"appid\": 1012830,\"ordate\": \"13.02.2019\"},{\"appid\": 578920,\"ordate\": \"08.03.2017\"},{\"appid\": 2308460,\"ordate\": \"21.02.2023\"},{\"appid\": 1804390,\"ordate\": \"18.11.2021\"},{\"appid\": 1650040,\"ordate\": \"14.07.2021\"},{\"appid\": 272890,\"ordate\": \"22.02.2014\"},{\"appid\": 2463500,\"ordate\": \"21.06.2023\"},{\"appid\": 2965370,\"ordate\": \"23.05.2024\"},{\"appid\": 1378390,\"ordate\": \"17.08.2020\"},{\"appid\": 3060850,\"ordate\": \"18.07.2024\"},{\"appid\": 2006430,\"ordate\": \"13.06.2022\"},{\"appid\": 1603200,\"ordate\": \"19.08.2021\"},{\"appid\": 1867480,\"ordate\": \"23.04.2022\"},{\"appid\": 1217720,\"ordate\": \"03.07.2020\"},{\"appid\": 1029920,\"ordate\": \"01.03.2019\"},{\"appid\": 1423780,\"ordate\": \"28.10.2020\"},{\"appid\": 1717130,\"ordate\": \"12.11.2021\"},{\"appid\": 1097400,\"ordate\": \"21.08.2019\"},{\"appid\": 2406860,\"ordate\": \"17.05.2023\"},{\"appid\": 2689380,\"ordate\": \"14.08.2024\"},{\"appid\": 3433030,\"ordate\": \"29.01.2025\"},{\"appid\": 1073960,\"ordate\": \"18.05.2019\"},{\"appid\": 1560130,\"ordate\": \"01.05.2021\"},{\"appid\": 2918120,\"ordate\": \"23.04.2024\"},{\"appid\": 728950,\"ordate\": \"10.11.2017\"},{\"appid\": 1707560,\"ordate\": \"09.12.2021\"},{\"appid\": 1235810,\"ordate\": \"15.02.2020\"},{\"appid\": 913090,\"ordate\": \"02.09.2018\"},{\"appid\": 1667100,\"ordate\": \"22.09.2021\"},{\"appid\": 1420950,\"ordate\": \"28.09.2020\"},{\"appid\": 1146890,\"ordate\": \"09.09.2019\"},{\"appid\": 696490,\"ordate\": \"31.08.2017\"},{\"appid\": 819160,\"ordate\": \"29.09.2018\"},{\"appid\": 1410740,\"ordate\": \"18.01.2021\"},{\"appid\": 579160,\"ordate\": \"05.02.2017\"},{\"appid\": 1150850,\"ordate\": \"07.11.2019\"},{\"appid\": 1927780,\"ordate\": \"19.08.2022\"},{\"appid\": 2699850,\"ordate\": \"15.01.2024\"},{\"appid\": 1017560,\"ordate\": \"14.02.2019\"},{\"appid\": 534320,\"ordate\": \"02.12.2016\"},{\"appid\": 794040,\"ordate\": \"08.10.2019\"},{\"appid\": 1213890,\"ordate\": \"15.01.2020\"},{\"appid\": 2396380,\"ordate\": \"14.05.2023\"},{\"appid\": 1196620,\"ordate\": \"04.01.2020\"},{\"appid\": 2705900,\"ordate\": \"23.01.2024\"},{\"appid\": 1627240,\"ordate\": \"01.07.2021\"},{\"appid\": 1655490,\"ordate\": \"01.07.2021\"},{\"appid\": 2724740,\"ordate\": \"20.12.2023\"},{\"appid\": 1122830,\"ordate\": \"14.08.2019\"},{\"appid\": 2504000,\"ordate\": \"09.08.2023\"},{\"appid\": 2163560,\"ordate\": \"20.11.2022\"},{\"appid\": 1223110,\"ordate\": \"29.01.2020\"},{\"appid\": 899630,\"ordate\": \"11.09.2018\"},{\"appid\": 1694110,\"ordate\": \"02.08.2021\"},{\"appid\": 1427540,\"ordate\": \"22.10.2020\"},{\"appid\": 1216770,\"ordate\": \"24.01.2020\"},{\"appid\": 1607730,\"ordate\": \"06.05.2021\"},{\"appid\": 2437910,\"ordate\": \"07.06.2023\"},{\"appid\": 1564720,\"ordate\": \"20.03.2021\"},{\"appid\": 1427450,\"ordate\": \"25.07.2022\"},{\"appid\": 2598450,\"ordate\": \"28.09.2023\"},{\"appid\": 1353560,\"ordate\": \"03.07.2020\"},{\"appid\": 1174270,\"ordate\": \"05.08.2022\"},{\"appid\": 607350,\"ordate\": \"01.09.2020\"},{\"appid\": 1126840,\"ordate\": \"10.08.2019\"},{\"appid\": 2389800,\"ordate\": \"19.05.2023\"},{\"appid\": 2925330,\"ordate\": \"01.05.2024\"},{\"appid\": 2108640,\"ordate\": \"25.10.2023\"},{\"appid\": 913160,\"ordate\": \"07.01.2019\"},{\"appid\": 1174120,\"ordate\": \"25.10.2019\"},{\"appid\": 1486620,\"ordate\": \"19.01.2021\"},{\"appid\": 2264970,\"ordate\": \"27.02.2023\"},{\"appid\": 1064580,\"ordate\": \"24.04.2019\"},{\"appid\": 1745220,\"ordate\": \"26.11.2021\"},{\"appid\": 1303930,\"ordate\": \"19.05.2020\"},{\"appid\": 2277610,\"ordate\": \"15.02.2023\"},{\"appid\": 1691010,\"ordate\": \"03.08.2021\"},{\"appid\": 934630,\"ordate\": \"14.02.2020\"},{\"appid\": 1822040,\"ordate\": \"23.12.2021\"},{\"appid\": 669320,\"ordate\": \"22.09.2017\"},{\"appid\": 562450,\"ordate\": \"04.12.2016\"},{\"appid\": 1215870,\"ordate\": \"22.04.2020\"},{\"appid\": 1559960,\"ordate\": \"01.04.2021\"},{\"appid\": 914140,\"ordate\": \"16.08.2018\"},{\"appid\": 661180,\"ordate\": \"23.07.2017\"},{\"appid\": 2987010,\"ordate\": \"29.06.2024\"},{\"appid\": 1564920,\"ordate\": \"14.04.2021\"},{\"appid\": 1412510,\"ordate\": \"21.10.2020\"},{\"appid\": 1979550,\"ordate\": \"18.05.2022\"},{\"appid\": 3092040,\"ordate\": \"26.07.2024\"},{\"appid\": 1415750,\"ordate\": \"28.09.2020\"},{\"appid\": 1345050,\"ordate\": \"11.08.2020\"},{\"appid\": 667000,\"ordate\": \"25.07.2017\"},{\"appid\": 977110,\"ordate\": \"21.11.2018\"},{\"appid\": 412370,\"ordate\": \"05.11.2015\"},{\"appid\": 1023060,\"ordate\": \"20.02.2019\"},{\"appid\": 770460,\"ordate\": \"11.01.2018\"},{\"appid\": 3299520,\"ordate\": \"15.11.2024\"},{\"appid\": 1168210,\"ordate\": \"01.03.2020\"},{\"appid\": 2272010,\"ordate\": \"06.02.2023\"},{\"appid\": 1505980,\"ordate\": \"22.01.2021\"},{\"appid\": 2746490,\"ordate\": \"15.01.2024\"},{\"appid\": 1146880,\"ordate\": \"09.10.2019\"},{\"appid\": 2002720,\"ordate\": \"10.06.2022\"},{\"appid\": 1563820,\"ordate\": \"05.04.2021\"},{\"appid\": 2262200,\"ordate\": \"17.05.2024\"},{\"appid\": 2773070,\"ordate\": \"02.02.2024\"},{\"appid\": 1417680,\"ordate\": \"21.10.2020\"},{\"appid\": 1855180,\"ordate\": \"28.12.2022\"},{\"appid\": 2772170,\"ordate\": \"31.10.2024\"},{\"appid\": 1166740,\"ordate\": \"19.10.2019\"},{\"appid\": 2454480,\"ordate\": \"01.07.2023\"},{\"appid\": 2736350,\"ordate\": \"27.01.2024\"},{\"appid\": 1564980,\"ordate\": \"14.05.2021\"},{\"appid\": 1078130,\"ordate\": \"12.06.2019\"},{\"appid\": 440020,\"ordate\": \"03.03.2016\"},{\"appid\": 1447050,\"ordate\": \"06.11.2020\"},{\"appid\": 1765180,\"ordate\": \"21.10.2021\"},{\"appid\": 1361520,\"ordate\": \"18.07.2020\"},{\"appid\": 1563830,\"ordate\": \"09.04.2021\"},{\"appid\": 2347360,\"ordate\": \"24.03.2023\"},{\"appid\": 2767220,\"ordate\": \"28.01.2024\"},{\"appid\": 1635920,\"ordate\": \"15.07.2021\"},{\"appid\": 1429530,\"ordate\": \"15.12.2020\"},{\"appid\": 1425280,\"ordate\": \"15.10.2020\"},{\"appid\": 2848850,\"ordate\": \"11.03.2024\"},{\"appid\": 1564930,\"ordate\": \"23.04.2021\"},{\"appid\": 2984130,\"ordate\": \"01.06.2024\"},{\"appid\": 894000,\"ordate\": \"14.01.2019\"},{\"appid\": 2470700,\"ordate\": \"14.07.2023\"},{\"appid\": 1143680,\"ordate\": \"14.09.2019\"},{\"appid\": 524060,\"ordate\": \"03.09.2016\"},{\"appid\": 1875160,\"ordate\": \"07.10.2022\"},{\"appid\": 916580,\"ordate\": \"15.09.2018\"},{\"appid\": 1294160,\"ordate\": \"21.04.2020\"},{\"appid\": 392040,\"ordate\": \"18.01.2019\"},{\"appid\": 1101200,\"ordate\": \"10.06.2019\"},{\"appid\": 1214360,\"ordate\": \"11.06.2020\"},{\"appid\": 1527460,\"ordate\": \"05.03.2021\"},{\"appid\": 1669930,\"ordate\": \"30.09.2021\"},{\"appid\": 1768540,\"ordate\": \"13.06.2022\"},{\"appid\": 2186000,\"ordate\": \"03.08.2023\"},{\"appid\": 2349870,\"ordate\": \"18.04.2023\"},{\"appid\": 2684720,\"ordate\": \"28.11.2023\"},{\"appid\": 1685610,\"ordate\": \"31.07.2021\"},{\"appid\": 1771880,\"ordate\": \"13.11.2021\"},{\"appid\": 535270,\"ordate\": \"01.11.2016\"},{\"appid\": 977900,\"ordate\": \"01.12.2018\"},{\"appid\": 2630310,\"ordate\": \"20.10.2023\"},{\"appid\": 1069250,\"ordate\": \"20.08.2019\"},{\"appid\": 1256220,\"ordate\": \"08.05.2020\"},{\"appid\": 2262240,\"ordate\": \"17.08.2023\"},{\"appid\": 1406000,\"ordate\": \"26.02.2021\"},{\"appid\": 1333810,\"ordate\": \"13.06.2020\"},{\"appid\": 2308540,\"ordate\": \"02.04.2023\"},{\"appid\": 931150,\"ordate\": \"14.11.2018\"},{\"appid\": 918320,\"ordate\": \"05.10.2018\"},{\"appid\": 1146910,\"ordate\": \"11.09.2019\"},{\"appid\": 3083660,\"ordate\": \"08.08.2024\"},{\"appid\": 471770,\"ordate\": \"24.08.2016\"},{\"appid\": 2376280,\"ordate\": \"20.04.2023\"},{\"appid\": 1041450,\"ordate\": \"17.04.2019\"},{\"appid\": 2009510,\"ordate\": \"07.07.2022\"},{\"appid\": 2875440,\"ordate\": \"31.07.2024\"},{\"appid\": 3147950,\"ordate\": \"31.08.2024\"},{\"appid\": 970530,\"ordate\": \"22.11.2018\"},{\"appid\": 1157020,\"ordate\": \"26.09.2019\"},{\"appid\": 1648550,\"ordate\": \"26.01.2022\"},{\"appid\": 1673920,\"ordate\": \"12.07.2021\"},{\"appid\": 554710,\"ordate\": \"06.05.2022\"},{\"appid\": 763790,\"ordate\": \"23.12.2017\"},{\"appid\": 1064910,\"ordate\": \"23.10.2019\"},{\"appid\": 265120,\"ordate\": \"31.03.2014\"},{\"appid\": 352460,\"ordate\": \"30.07.2015\"},{\"appid\": 417990,\"ordate\": \"04.12.2015\"},{\"appid\": 2268440,\"ordate\": \"14.02.2023\"},{\"appid\": 773510,\"ordate\": \"14.01.2018\"},{\"appid\": 1114990,\"ordate\": \"21.09.2019\"},{\"appid\": 2266980,\"ordate\": \"01.08.2023\"},{\"appid\": 1210740,\"ordate\": \"20.01.2020\"},{\"appid\": 1298830,\"ordate\": \"30.05.2020\"},{\"appid\": 1814360,\"ordate\": \"06.03.2022\"},{\"appid\": 2165120,\"ordate\": \"13.10.2022\"},{\"appid\": 2704260,\"ordate\": \"26.12.2023\"},{\"appid\": 2260700,\"ordate\": \"29.05.2023\"},{\"appid\": 428950,\"ordate\": \"12.01.2016\"},{\"appid\": 1369830,\"ordate\": \"11.08.2020\"},{\"appid\": 3396900,\"ordate\": \"24.01.2025\"},{\"appid\": 708450,\"ordate\": \"22.09.2017\"},{\"appid\": 1151090,\"ordate\": \"05.12.2019\"},{\"appid\": 2558680,\"ordate\": \"21.09.2023\"},{\"appid\": 343360,\"ordate\": \"31.01.2015\"},{\"appid\": 1295990,\"ordate\": \"25.05.2021\"},{\"appid\": 1776350,\"ordate\": \"20.10.2021\"},{\"appid\": 2427640,\"ordate\": \"02.06.2023\"},{\"appid\": 1354510,\"ordate\": \"14.08.2020\"},{\"appid\": 3098490,\"ordate\": \"18.10.2024\"},{\"appid\": 529500,\"ordate\": \"05.10.2016\"},{\"appid\": 1155600,\"ordate\": \"15.10.2019\"},{\"appid\": 1987140,\"ordate\": \"31.07.2022\"},{\"appid\": 498280,\"ordate\": \"30.07.2016\"},{\"appid\": 1102720,\"ordate\": \"09.08.2019\"},{\"appid\": 1567400,\"ordate\": \"25.05.2022\"},{\"appid\": 552990,\"ordate\": \"13.11.2017\"},{\"appid\": 555890,\"ordate\": \"06.01.2017\"},{\"appid\": 814900,\"ordate\": \"26.04.2018\"},{\"appid\": 860870,\"ordate\": \"28.05.2018\"},{\"appid\": 2558660,\"ordate\": \"25.09.2023\"},{\"appid\": 2558650,\"ordate\": \"25.09.2023\"},{\"appid\": 2558690,\"ordate\": \"25.09.2023\"},{\"appid\": 2588960,\"ordate\": \"22.09.2023\"},{\"appid\": 2558670,\"ordate\": \"23.09.2023\"},{\"appid\": 704070,\"ordate\": \"12.09.2017\"},{\"appid\": 1339140,\"ordate\": \"18.02.2022\"},{\"appid\": 1446130,\"ordate\": \"08.11.2020\"},{\"appid\": 1446470,\"ordate\": \"26.11.2020\"},{\"appid\": 1494390,\"ordate\": \"22.01.2021\"},{\"appid\": 2055130,\"ordate\": \"06.09.2022\"},{\"appid\": 2654040,\"ordate\": \"29.11.2023\"},{\"appid\": 2253200,\"ordate\": \"24.08.2023\"},{\"appid\": 2912450,\"ordate\": \"22.06.2024\"},{\"appid\": 841120,\"ordate\": \"07.05.2018\"},{\"appid\": 298050,\"ordate\": \"25.02.2016\"},{\"appid\": 405960,\"ordate\": \"02.12.2015\"},{\"appid\": 493820,\"ordate\": \"31.12.2016\"},{\"appid\": 576320,\"ordate\": \"04.01.2017\"},{\"appid\": 378420,\"ordate\": \"10.06.2015\"},{\"appid\": 454180,\"ordate\": \"27.03.2016\"},{\"appid\": 484350,\"ordate\": \"08.06.2016\"},{\"appid\": 550360,\"ordate\": \"03.11.2016\"},{\"appid\": 614030,\"ordate\": \"06.04.2017\"},{\"appid\": 699680,\"ordate\": \"11.10.2017\"},{\"appid\": 805850,\"ordate\": \"31.03.2018\"},{\"appid\": 1389190,\"ordate\": \"20.01.2021\"},{\"appid\": 2245330,\"ordate\": \"03.04.2023\"},{\"appid\": 1949140,\"ordate\": \"25.05.2022\"},{\"appid\": 564720,\"ordate\": \"18.01.2017\"},{\"appid\": 295110,\"ordate\": \"15.01.2015\"},{\"appid\": 758100,\"ordate\": \"26.04.2018\"},{\"appid\": 2196230,\"ordate\": \"06.01.2023\"},{\"appid\": 1012290,\"ordate\": \"07.02.2019\"},{\"appid\": 454580,\"ordate\": \"18.11.2016\"},{\"appid\": 266370,\"ordate\": \"26.03.2014\"},{\"appid\": 757240,\"ordate\": \"28.01.2018\"},{\"appid\": 539090,\"ordate\": \"27.12.2016\"},{\"appid\": 691720,\"ordate\": \"05.09.2017\"},{\"appid\": 515740,\"ordate\": \"04.10.2016\"},{\"appid\": 444670,\"ordate\": \"11.05.2016\"},{\"appid\": 1495580,\"ordate\": \"13.01.2021\"},{\"appid\": 705390,\"ordate\": \"06.09.2017\"},{\"appid\": 684200,\"ordate\": \"12.07.2018\"},{\"appid\": 1714470,\"ordate\": \"13.07.2024\"},{\"appid\": 667970,\"ordate\": \"03.08.2017\"},{\"appid\": 458660,\"ordate\": \"16.07.2017\"},{\"appid\": 664720,\"ordate\": \"24.11.2018\"},{\"appid\": 789090,\"ordate\": \"14.01.2019\"},{\"appid\": 860960,\"ordate\": \"15.10.2021\"},{\"appid\": 914700,\"ordate\": \"26.12.2018\"},{\"appid\": 994200,\"ordate\": \"18.01.2019\"},{\"appid\": 1012410,\"ordate\": \"14.08.2019\"},{\"appid\": 1078960,\"ordate\": \"16.07.2019\"},{\"appid\": 1099070,\"ordate\": \"11.10.2019\"},{\"appid\": 1105560,\"ordate\": \"28.07.2019\"},{\"appid\": 1116110,\"ordate\": \"08.06.2020\"},{\"appid\": 1163140,\"ordate\": \"26.10.2020\"},{\"appid\": 1369770,\"ordate\": \"14.08.2020\"},{\"appid\": 1424720,\"ordate\": \"11.11.2020\"},{\"appid\": 1450150,\"ordate\": \"31.12.2020\"},{\"appid\": 1465480,\"ordate\": \"25.11.2020\"},{\"appid\": 1481970,\"ordate\": \"10.12.2020\"},{\"appid\": 1759580,\"ordate\": \"05.10.2021\"},{\"appid\": 3137310,\"ordate\": \"13.12.2024\"},{\"appid\": 3156590,\"ordate\": \"31.10.2024\"},{\"appid\": 3327910,\"ordate\": \"04.12.2024\"},{\"appid\": 333950,\"ordate\": \"19.02.2015\"},{\"appid\": 1769740,\"ordate\": \"17.10.2021\"},{\"appid\": 512560,\"ordate\": \"29.12.2016\"},{\"appid\": 674550,\"ordate\": \"26.03.2019\"},{\"appid\": 793280,\"ordate\": \"28.02.2018\"},{\"appid\": 282740,\"ordate\": \"14.05.2014\"},{\"appid\": 564330,\"ordate\": \"22.03.2017\"},{\"appid\": 619080,\"ordate\": \"23.01.2018\"},{\"appid\": 508790,\"ordate\": \"08.09.2016\"},{\"appid\": 1447190,\"ordate\": \"19.02.2021\"},{\"appid\": 744750,\"ordate\": \"12.02.2018\"},{\"appid\": 1086070,\"ordate\": \"06.06.2019\"},{\"appid\": 371100,\"ordate\": \"01.06.2015\"},{\"appid\": 1069650,\"ordate\": \"07.04.2021\"},{\"appid\": 1160550,\"ordate\": \"12.11.2019\"},{\"appid\": 1161440,\"ordate\": \"27.11.2019\"},{\"appid\": 3182930,\"ordate\": \"25.10.2024\"},{\"appid\": 529820,\"ordate\": \"30.09.2016\"},{\"appid\": 457010,\"ordate\": \"08.04.2016\"},{\"appid\": 773520,\"ordate\": \"15.10.2018\"},{\"appid\": 720850,\"ordate\": \"09.11.2017\"},{\"appid\": 446540,\"ordate\": \"12.10.2016\"},{\"appid\": 265770,\"ordate\": \"04.02.2014\"},{\"appid\": 272270,\"ordate\": \"26.01.2016\"},{\"appid\": 321260,\"ordate\": \"14.11.2014\"},{\"appid\": 337820,\"ordate\": \"14.01.2015\"},{\"appid\": 361420,\"ordate\": \"16.12.2016\"},{\"appid\": 364420,\"ordate\": \"06.11.2015\"},{\"appid\": 376410,\"ordate\": \"25.02.2016\"},{\"appid\": 393460,\"ordate\": \"02.03.2016\"},{\"appid\": 402310,\"ordate\": \"01.03.2016\"},{\"appid\": 407840,\"ordate\": \"01.12.2015\"},{\"appid\": 409040,\"ordate\": \"19.02.2016\"},{\"appid\": 411720,\"ordate\": \"14.12.2015\"},{\"appid\": 412400,\"ordate\": \"12.11.2015\"},{\"appid\": 425820,\"ordate\": \"14.12.2015\"},{\"appid\": 427730,\"ordate\": \"23.12.2015\"},{\"appid\": 431870,\"ordate\": \"22.01.2016\"},{\"appid\": 434360,\"ordate\": \"03.02.2016\"},{\"appid\": 434870,\"ordate\": \"26.02.2016\"},{\"appid\": 489370,\"ordate\": \"09.02.2017\"},{\"appid\": 518720,\"ordate\": \"16.11.2016\"},{\"appid\": 556230,\"ordate\": \"09.12.2016\"},{\"appid\": 562430,\"ordate\": \"01.12.2016\"},{\"appid\": 564050,\"ordate\": \"15.12.2017\"},{\"appid\": 572480,\"ordate\": \"17.02.2017\"},{\"appid\": 576750,\"ordate\": \"03.02.2017\"},{\"appid\": 597030,\"ordate\": \"26.01.2018\"},{\"appid\": 667810,\"ordate\": \"11.01.2018\"},{\"appid\": 674860,\"ordate\": \"28.11.2017\"},{\"appid\": 704640,\"ordate\": \"02.02.2018\"},{\"appid\": 705120,\"ordate\": \"06.11.2017\"},{\"appid\": 723880,\"ordate\": \"01.12.2017\"},{\"appid\": 728730,\"ordate\": \"14.12.2017\"},{\"appid\": 735850,\"ordate\": \"15.02.2018\"},{\"appid\": 739950,\"ordate\": \"01.02.2018\"},{\"appid\": 742460,\"ordate\": \"16.12.2017\"},{\"appid\": 763430,\"ordate\": \"08.12.2017\"},{\"appid\": 767310,\"ordate\": \"05.03.2018\"},{\"appid\": 777040,\"ordate\": \"25.01.2018\"},{\"appid\": 777820,\"ordate\": \"30.01.2018\"},{\"appid\": 807070,\"ordate\": \"10.03.2018\"},{\"appid\": 293220,\"ordate\": \"19.05.2015\"},{\"appid\": 313130,\"ordate\": \"20.10.2014\"},{\"appid\": 315130,\"ordate\": \"06.04.2015\"},{\"appid\": 338530,\"ordate\": \"01.07.2015\"},{\"appid\": 339720,\"ordate\": \"20.06.2017\"},{\"appid\": 348490,\"ordate\": \"30.06.2015\"},{\"appid\": 354860,\"ordate\": \"01.05.2015\"},{\"appid\": 360390,\"ordate\": \"02.04.2015\"},{\"appid\": 363930,\"ordate\": \"14.07.2016\"},{\"appid\": 366180,\"ordate\": \"01.10.2015\"},{\"appid\": 368680,\"ordate\": \"20.08.2015\"},{\"appid\": 371010,\"ordate\": \"14.07.2015\"},{\"appid\": 371120,\"ordate\": \"25.06.2015\"},{\"appid\": 371510,\"ordate\": \"10.08.2015\"},{\"appid\": 371530,\"ordate\": \"17.06.2015\"},{\"appid\": 375600,\"ordate\": \"02.06.2015\"},{\"appid\": 376310,\"ordate\": \"10.09.2015\"},{\"appid\": 377250,\"ordate\": \"22.09.2015\"},{\"appid\": 380600,\"ordate\": \"11.08.2015\"},{\"appid\": 384960,\"ordate\": \"29.04.2016\"},{\"appid\": 385830,\"ordate\": \"11.08.2015\"},{\"appid\": 395600,\"ordate\": \"22.10.2015\"},{\"appid\": 397160,\"ordate\": \"29.04.2016\"},{\"appid\": 397860,\"ordate\": \"15.09.2015\"},{\"appid\": 403860,\"ordate\": \"14.10.2015\"},{\"appid\": 407420,\"ordate\": \"13.10.2015\"},{\"appid\": 408340,\"ordate\": \"21.10.2016\"},{\"appid\": 416450,\"ordate\": \"17.03.2016\"},{\"appid\": 423490,\"ordate\": \"21.03.2016\"},{\"appid\": 428690,\"ordate\": \"18.05.2016\"},{\"appid\": 440650,\"ordate\": \"15.09.2016\"},{\"appid\": 444190,\"ordate\": \"25.03.2016\"},{\"appid\": 446100,\"ordate\": \"05.07.2016\"},{\"appid\": 485360,\"ordate\": \"20.06.2016\"},{\"appid\": 485450,\"ordate\": \"04.06.2016\"},{\"appid\": 486780,\"ordate\": \"07.07.2016\"},{\"appid\": 488310,\"ordate\": \"20.06.2016\"},{\"appid\": 494150,\"ordate\": \"01.07.2016\"},{\"appid\": 510130,\"ordate\": \"30.08.2016\"},{\"appid\": 511560,\"ordate\": \"07.10.2016\"},{\"appid\": 517230,\"ordate\": \"09.09.2016\"},{\"appid\": 522020,\"ordate\": \"29.09.2016\"},{\"appid\": 523960,\"ordate\": \"31.10.2017\"},{\"appid\": 526740,\"ordate\": \"02.11.2016\"},{\"appid\": 548340,\"ordate\": \"01.11.2016\"},{\"appid\": 550670,\"ordate\": \"03.11.2016\"},{\"appid\": 565390,\"ordate\": \"11.07.2017\"},{\"appid\": 589320,\"ordate\": \"06.04.2017\"},{\"appid\": 602000,\"ordate\": \"27.03.2017\"},{\"appid\": 602490,\"ordate\": \"17.07.2018\"},{\"appid\": 603330,\"ordate\": \"06.10.2017\"},{\"appid\": 603350,\"ordate\": \"05.05.2017\"},{\"appid\": 610380,\"ordate\": \"21.07.2017\"},{\"appid\": 614630,\"ordate\": \"08.08.2017\"},{\"appid\": 616560,\"ordate\": \"12.04.2017\"},{\"appid\": 623540,\"ordate\": \"12.07.2017\"},{\"appid\": 623880,\"ordate\": \"22.08.2017\"},{\"appid\": 624870,\"ordate\": \"06.07.2017\"},{\"appid\": 625320,\"ordate\": \"18.05.2017\"},{\"appid\": 625730,\"ordate\": \"06.04.2018\"},{\"appid\": 639270,\"ordate\": \"02.06.2017\"},{\"appid\": 640050,\"ordate\": \"14.09.2017\"},{\"appid\": 658320,\"ordate\": \"12.10.2017\"},{\"appid\": 663300,\"ordate\": \"04.08.2017\"},{\"appid\": 667770,\"ordate\": \"16.08.2017\"},{\"appid\": 690200,\"ordate\": \"27.04.2018\"},{\"appid\": 698260,\"ordate\": \"12.10.2017\"},{\"appid\": 698610,\"ordate\": \"09.10.2017\"},{\"appid\": 701760,\"ordate\": \"17.09.2017\"},{\"appid\": 711810,\"ordate\": \"14.09.2018\"},{\"appid\": 712660,\"ordate\": \"27.10.2017\"},{\"appid\": 722960,\"ordate\": \"03.08.2018\"},{\"appid\": 732240,\"ordate\": \"05.10.2018\"},{\"appid\": 735600,\"ordate\": \"27.07.2018\"},{\"appid\": 755790,\"ordate\": \"19.09.2018\"},{\"appid\": 776510,\"ordate\": \"26.04.2018\"},{\"appid\": 783310,\"ordate\": \"01.08.2018\"},{\"appid\": 788640,\"ordate\": \"26.04.2018\"},{\"appid\": 794270,\"ordate\": \"18.09.2018\"},{\"appid\": 796030,\"ordate\": \"27.04.2018\"},{\"appid\": 802200,\"ordate\": \"09.05.2018\"},{\"appid\": 802730,\"ordate\": \"20.03.2018\"},{\"appid\": 820460,\"ordate\": \"17.04.2018\"},{\"appid\": 824070,\"ordate\": \"21.06.2018\"},{\"appid\": 840140,\"ordate\": \"27.07.2018\"},{\"appid\": 842150,\"ordate\": \"30.05.2018\"},{\"appid\": 850780,\"ordate\": \"23.05.2018\"},{\"appid\": 853240,\"ordate\": \"11.10.2018\"},{\"appid\": 857940,\"ordate\": \"21.05.2018\"},{\"appid\": 858680,\"ordate\": \"27.07.2018\"},{\"appid\": 879160,\"ordate\": \"26.09.2018\"},{\"appid\": 897300,\"ordate\": \"11.09.2018\"},{\"appid\": 897950,\"ordate\": \"17.09.2018\"},{\"appid\": 908020,\"ordate\": \"21.09.2018\"},{\"appid\": 918430,\"ordate\": \"16.10.2018\"},{\"appid\": 946380,\"ordate\": \"12.10.2018\"},{\"appid\": 1103510,\"ordate\": \"19.07.2019\"},{\"appid\": 943590,\"ordate\": \"15.10.2018\"},{\"appid\": 3344920,\"ordate\": \"07.12.2024\"},{\"appid\": 747210,\"ordate\": \"16.04.2018\"},{\"appid\": 1594790,\"ordate\": \"21.08.2021\"},{\"appid\": 575050,\"ordate\": \"21.01.2017\"},{\"appid\": 823600,\"ordate\": \"19.06.2018\"},{\"appid\": 3203600,\"ordate\": \"19.10.2024\"},{\"appid\": 979390,\"ordate\": \"28.12.2018\"},{\"appid\": 777240,\"ordate\": \"23.02.2018\"},{\"appid\": 1039830,\"ordate\": \"26.04.2019\"},{\"appid\": 1393220,\"ordate\": \"09.10.2020\"},{\"appid\": 2245040,\"ordate\": \"30.06.2023\"},{\"appid\": 798840,\"ordate\": \"01.03.2018\"},{\"appid\": 833230,\"ordate\": \"02.03.2021\"},{\"appid\": 724870,\"ordate\": \"15.11.2017\"},{\"appid\": 2650110,\"ordate\": \"24.11.2023\"},{\"appid\": 1995580,\"ordate\": \"24.11.2023\"},{\"appid\": 412770,\"ordate\": \"03.11.2015\"},{\"appid\": 2159770,\"ordate\": \"07.04.2023\"},{\"appid\": 1402000,\"ordate\": \"26.10.2020\"},{\"appid\": 2006120,\"ordate\": \"15.07.2022\"},{\"appid\": 970970,\"ordate\": \"01.01.2019\"},{\"appid\": 2333320,\"ordate\": \"31.03.2023\"},{\"appid\": 3376430,\"ordate\": \"23.01.2025\"},{\"appid\": 536230,\"ordate\": \"03.11.2016\"},{\"appid\": 1623560,\"ordate\": \"30.06.2021\"},{\"appid\": 2162350,\"ordate\": \"02.11.2022\"},{\"appid\": 523030,\"ordate\": \"14.10.2016\"},{\"appid\": 1816380,\"ordate\": \"29.01.2022\"},{\"appid\": 1179010,\"ordate\": \"12.02.2020\"},{\"appid\": 1226490,\"ordate\": \"02.03.2020\"},{\"appid\": 703960,\"ordate\": \"05.08.2019\"},{\"appid\": 2225890,\"ordate\": \"07.12.2022\"},{\"appid\": 1027520,\"ordate\": \"21.02.2019\"},{\"appid\": 3134690,\"ordate\": \"13.09.2024\"},{\"appid\": 3383390,\"ordate\": \"23.12.2024\"},{\"appid\": 2006470,\"ordate\": \"05.12.2022\"},{\"appid\": 1689930,\"ordate\": \"24.07.2021\"},{\"appid\": 2110320,\"ordate\": \"16.09.2022\"},{\"appid\": 3314040,\"ordate\": \"22.11.2024\"},{\"appid\": 2056800,\"ordate\": \"26.08.2022\"},{\"appid\": 2517680,\"ordate\": \"03.08.2023\"},{\"appid\": 2107040,\"ordate\": \"06.07.2023\"},{\"appid\": 3327030,\"ordate\": \"13.12.2024\"},{\"appid\": 996710,\"ordate\": \"15.03.2019\"},{\"appid\": 1012990,\"ordate\": \"16.05.2019\"},{\"appid\": 3224340,\"ordate\": \"04.10.2024\"},{\"appid\": 1298680,\"ordate\": \"04.08.2021\"},{\"appid\": 1100500,\"ordate\": \"30.12.2021\"},{\"appid\": 1749460,\"ordate\": \"15.10.2021\"},{\"appid\": 1720740,\"ordate\": \"06.09.2021\"},{\"appid\": 1120680,\"ordate\": \"15.08.2019\"},{\"appid\": 2805230,\"ordate\": \"30.08.2024\"},{\"appid\": 1524990,\"ordate\": \"12.03.2021\"},{\"appid\": 3243230,\"ordate\": \"26.11.2024\"},{\"appid\": 1635630,\"ordate\": \"09.02.2022\"},{\"appid\": 3328500,\"ordate\": \"02.12.2024\"},{\"appid\": 1280090,\"ordate\": \"04.06.2020\"},{\"appid\": 2821860,\"ordate\": \"14.03.2024\"},{\"appid\": 1347970,\"ordate\": \"02.03.2023\"},{\"appid\": 961240,\"ordate\": \"02.11.2018\"},{\"appid\": 1073450,\"ordate\": \"17.10.2023\"},{\"appid\": 989400,\"ordate\": \"19.11.2019\"},{\"appid\": 1647990,\"ordate\": \"26.09.2021\"},{\"appid\": 1789680,\"ordate\": \"11.11.2021\"},{\"appid\": 2304710,\"ordate\": \"16.11.2023\"},{\"appid\": 2340600,\"ordate\": \"28.03.2023\"},{\"appid\": 1337930,\"ordate\": \"16.07.2024\"},{\"appid\": 1589020,\"ordate\": \"04.06.2021\"},{\"appid\": 1199610,\"ordate\": \"09.02.2020\"},{\"appid\": 1690200,\"ordate\": \"02.11.2023\"},{\"appid\": 509580,\"ordate\": \"29.08.2019\"},{\"appid\": 1426100,\"ordate\": \"10.05.2022\"},{\"appid\": 1467190,\"ordate\": \"12.10.2021\"},{\"appid\": 1066090,\"ordate\": \"29.04.2019\"},{\"appid\": 2341530,\"ordate\": \"24.05.2023\"},{\"appid\": 2659750,\"ordate\": \"10.05.2024\"},{\"appid\": 2592470,\"ordate\": \"27.10.2023\"},{\"appid\": 2358860,\"ordate\": \"28.07.2023\"},{\"appid\": 2350810,\"ordate\": \"29.03.2023\"},{\"appid\": 1966310,\"ordate\": \"22.04.2022\"},{\"appid\": 2168800,\"ordate\": \"24.06.2023\"},{\"appid\": 2840330,\"ordate\": \"22.03.2024\"},{\"appid\": 923880,\"ordate\": \"16.11.2018\"},{\"appid\": 2492950,\"ordate\": \"18.07.2023\"},{\"appid\": 1922030,\"ordate\": \"25.03.2022\"},{\"appid\": 988340,\"ordate\": \"31.12.2018\"},{\"appid\": 1947210,\"ordate\": \"10.05.2022\"},{\"appid\": 2286240,\"ordate\": \"24.02.2023\"},{\"appid\": 1796900,\"ordate\": \"25.11.2021\"},{\"appid\": 1485240,\"ordate\": \"06.05.2021\"},{\"appid\": 2348850,\"ordate\": \"29.03.2023\"},{\"appid\": 2251480,\"ordate\": \"20.12.2022\"},{\"appid\": 2303820,\"ordate\": \"02.02.2024\"},{\"appid\": 800170,\"ordate\": \"14.08.2019\"},{\"appid\": 2422180,\"ordate\": \"26.02.2024\"},{\"appid\": 2990340,\"ordate\": \"06.06.2024\"},{\"appid\": 1608220,\"ordate\": \"22.06.2021\"},{\"appid\": 2092000,\"ordate\": \"02.08.2024\"},{\"appid\": 1694610,\"ordate\": \"25.02.2022\"},{\"appid\": 3231370,\"ordate\": \"10.11.2024\"},{\"appid\": 3291270,\"ordate\": \"16.11.2024\"},{\"appid\": 2200700,\"ordate\": \"18.11.2022\"},{\"appid\": 1120750,\"ordate\": \"24.09.2021\"},{\"appid\": 1641220,\"ordate\": \"09.06.2021\"},{\"appid\": 1132850,\"ordate\": \"04.11.2019\"},{\"appid\": 2273390,\"ordate\": \"03.02.2023\"},{\"appid\": 2102080,\"ordate\": \"31.08.2022\"},{\"appid\": 2409260,\"ordate\": \"20.06.2024\"},{\"appid\": 341570,\"ordate\": \"05.11.2015\"},{\"appid\": 346330,\"ordate\": \"20.07.2016\"},{\"appid\": 450860,\"ordate\": \"05.05.2017\"},{\"appid\": 514500,\"ordate\": \"15.10.2018\"},{\"appid\": 651150,\"ordate\": \"15.04.2021\"},{\"appid\": 663690,\"ordate\": \"07.11.2017\"},{\"appid\": 745010,\"ordate\": \"22.05.2019\"},{\"appid\": 766150,\"ordate\": \"30.11.2018\"},{\"appid\": 777130,\"ordate\": \"04.04.2019\"},{\"appid\": 790710,\"ordate\": \"12.09.2018\"},{\"appid\": 831530,\"ordate\": \"01.02.2019\"},{\"appid\": 835910,\"ordate\": \"03.12.2018\"},{\"appid\": 843650,\"ordate\": \"22.03.2019\"},{\"appid\": 852340,\"ordate\": \"25.01.2019\"},{\"appid\": 856060,\"ordate\": \"02.02.2019\"},{\"appid\": 863150,\"ordate\": \"31.01.2019\"},{\"appid\": 886520,\"ordate\": \"28.03.2019\"},{\"appid\": 896890,\"ordate\": \"14.12.2018\"},{\"appid\": 898720,\"ordate\": \"03.07.2019\"},{\"appid\": 906750,\"ordate\": \"24.05.2019\"},{\"appid\": 919290,\"ordate\": \"22.06.2022\"},{\"appid\": 947940,\"ordate\": \"30.04.2020\"},{\"appid\": 949810,\"ordate\": \"04.01.2019\"},{\"appid\": 952340,\"ordate\": \"17.06.2020\"},{\"appid\": 957810,\"ordate\": \"19.02.2019\"},{\"appid\": 958280,\"ordate\": \"09.11.2018\"},{\"appid\": 963930,\"ordate\": \"14.12.2018\"},{\"appid\": 973100,\"ordate\": \"04.04.2019\"},{\"appid\": 977180,\"ordate\": \"20.12.2018\"},{\"appid\": 980610,\"ordate\": \"10.07.2020\"},{\"appid\": 1000540,\"ordate\": \"21.03.2019\"},{\"appid\": 1003530,\"ordate\": \"15.01.2019\"},{\"appid\": 1005490,\"ordate\": \"15.07.2022\"},{\"appid\": 1007740,\"ordate\": \"14.03.2019\"},{\"appid\": 1010850,\"ordate\": \"11.02.2019\"},{\"appid\": 1010860,\"ordate\": \"01.02.2019\"},{\"appid\": 1019030,\"ordate\": \"20.03.2019\"},{\"appid\": 1032090,\"ordate\": \"26.02.2019\"},{\"appid\": 1042750,\"ordate\": \"22.03.2019\"},{\"appid\": 1046930,\"ordate\": \"20.06.2019\"},{\"appid\": 1054120,\"ordate\": \"19.04.2019\"},{\"appid\": 1054690,\"ordate\": \"10.03.2020\"},{\"appid\": 1055180,\"ordate\": \"22.04.2019\"},{\"appid\": 1055210,\"ordate\": \"28.05.2020\"},{\"appid\": 1057990,\"ordate\": \"03.05.2019\"},{\"appid\": 1061100,\"ordate\": \"15.07.2020\"},{\"appid\": 1062260,\"ordate\": \"20.06.2019\"},{\"appid\": 1063140,\"ordate\": \"01.07.2019\"},{\"appid\": 1064060,\"ordate\": \"24.04.2019\"},{\"appid\": 1066810,\"ordate\": \"17.09.2020\"},{\"appid\": 1066890,\"ordate\": \"31.03.2020\"},{\"appid\": 1069080,\"ordate\": \"04.03.2022\"},{\"appid\": 1073140,\"ordate\": \"20.02.2020\"},{\"appid\": 1081370,\"ordate\": \"23.01.2020\"},{\"appid\": 1084840,\"ordate\": \"06.03.2020\"},{\"appid\": 1094780,\"ordate\": \"27.10.2019\"},{\"appid\": 1110230,\"ordate\": \"29.07.2019\"},{\"appid\": 1131720,\"ordate\": \"07.01.2020\"},{\"appid\": 1145520,\"ordate\": \"10.01.2020\"},{\"appid\": 1155440,\"ordate\": \"13.12.2019\"},{\"appid\": 1155580,\"ordate\": \"20.12.2019\"},{\"appid\": 1156290,\"ordate\": \"06.10.2019\"},{\"appid\": 1157360,\"ordate\": \"27.09.2019\"},{\"appid\": 1162760,\"ordate\": \"17.10.2019\"},{\"appid\": 1169760,\"ordate\": \"04.01.2022\"},{\"appid\": 1173340,\"ordate\": \"22.10.2019\"},{\"appid\": 1175320,\"ordate\": \"03.02.2020\"},{\"appid\": 1175500,\"ordate\": \"10.01.2020\"},{\"appid\": 1187410,\"ordate\": \"11.04.2020\"},{\"appid\": 1201550,\"ordate\": \"16.04.2020\"},{\"appid\": 1202990,\"ordate\": \"20.12.2019\"},{\"appid\": 1208830,\"ordate\": \"30.01.2020\"},{\"appid\": 1210680,\"ordate\": \"10.01.2020\"},{\"appid\": 1211350,\"ordate\": \"08.02.2020\"},{\"appid\": 1218030,\"ordate\": \"21.01.2020\"},{\"appid\": 1219500,\"ordate\": \"03.04.2020\"},{\"appid\": 1221440,\"ordate\": \"23.01.2020\"},{\"appid\": 1248450,\"ordate\": \"03.09.2021\"},{\"appid\": 1251270,\"ordate\": \"07.04.2020\"},{\"appid\": 1263720,\"ordate\": \"23.03.2020\"},{\"appid\": 1264550,\"ordate\": \"13.05.2020\"},{\"appid\": 1270420,\"ordate\": \"06.04.2020\"},{\"appid\": 1272830,\"ordate\": \"18.04.2020\"},{\"appid\": 1276010,\"ordate\": \"14.04.2020\"},{\"appid\": 1283990,\"ordate\": \"04.05.2020\"},{\"appid\": 1292240,\"ordate\": \"15.12.2020\"},{\"appid\": 1297320,\"ordate\": \"27.12.2020\"},{\"appid\": 1304450,\"ordate\": \"14.05.2020\"},{\"appid\": 1325430,\"ordate\": \"14.09.2021\"},{\"appid\": 1345120,\"ordate\": \"03.09.2020\"},{\"appid\": 1352740,\"ordate\": \"07.07.2020\"},{\"appid\": 1355450,\"ordate\": \"14.07.2020\"},{\"appid\": 1357220,\"ordate\": \"12.04.2021\"},{\"appid\": 1362760,\"ordate\": \"22.07.2020\"},{\"appid\": 1364340,\"ordate\": \"22.07.2020\"},{\"appid\": 1387510,\"ordate\": \"30.10.2020\"},{\"appid\": 1388910,\"ordate\": \"29.08.2020\"},{\"appid\": 1393460,\"ordate\": \"03.09.2020\"},{\"appid\": 1399030,\"ordate\": \"11.03.2021\"},{\"appid\": 1406750,\"ordate\": \"02.11.2020\"},{\"appid\": 1413490,\"ordate\": \"16.10.2020\"},{\"appid\": 1417490,\"ordate\": \"04.04.2021\"},{\"appid\": 1419580,\"ordate\": \"22.10.2020\"},{\"appid\": 1420780,\"ordate\": \"26.02.2021\"},{\"appid\": 1424250,\"ordate\": \"03.12.2020\"},{\"appid\": 1449380,\"ordate\": \"03.11.2020\"},{\"appid\": 1452600,\"ordate\": \"21.07.2021\"},{\"appid\": 1455120,\"ordate\": \"20.12.2020\"},{\"appid\": 1462470,\"ordate\": \"22.03.2021\"},{\"appid\": 1464380,\"ordate\": \"07.10.2021\"},{\"appid\": 1464840,\"ordate\": \"27.11.2020\"},{\"appid\": 1468250,\"ordate\": \"14.12.2021\"},{\"appid\": 1468800,\"ordate\": \"24.01.2021\"},{\"appid\": 1470550,\"ordate\": \"25.12.2020\"},{\"appid\": 1475430,\"ordate\": \"04.01.2022\"},{\"appid\": 1482320,\"ordate\": \"30.12.2021\"},{\"appid\": 1486800,\"ordate\": \"15.12.2020\"},{\"appid\": 1489120,\"ordate\": \"21.12.2021\"},{\"appid\": 1503090,\"ordate\": \"13.01.2021\"},{\"appid\": 1519790,\"ordate\": \"16.04.2021\"},{\"appid\": 1537830,\"ordate\": \"18.04.2023\"},{\"appid\": 1540550,\"ordate\": \"19.02.2021\"},{\"appid\": 1555470,\"ordate\": \"23.12.2021\"},{\"appid\": 1567580,\"ordate\": \"31.05.2021\"},{\"appid\": 1570730,\"ordate\": \"26.03.2021\"},{\"appid\": 1588540,\"ordate\": \"28.02.2024\"},{\"appid\": 1598190,\"ordate\": \"06.11.2021\"},{\"appid\": 1611650,\"ordate\": \"28.05.2021\"},{\"appid\": 1618180,\"ordate\": \"16.12.2021\"},{\"appid\": 1625260,\"ordate\": \"28.05.2021\"},{\"appid\": 1668780,\"ordate\": \"13.01.2022\"},{\"appid\": 1672280,\"ordate\": \"30.07.2021\"},{\"appid\": 1679330,\"ordate\": \"23.08.2021\"},{\"appid\": 1692270,\"ordate\": \"31.01.2022\"},{\"appid\": 1724630,\"ordate\": \"07.09.2021\"},{\"appid\": 1730140,\"ordate\": \"14.04.2022\"},{\"appid\": 1756800,\"ordate\": \"30.11.2021\"},{\"appid\": 1761730,\"ordate\": \"31.12.2024\"},{\"appid\": 1780330,\"ordate\": \"24.11.2021\"},{\"appid\": 1795390,\"ordate\": \"16.12.2021\"},{\"appid\": 1796100,\"ordate\": \"27.12.2021\"},{\"appid\": 1797410,\"ordate\": \"21.01.2022\"},{\"appid\": 1801490,\"ordate\": \"25.11.2021\"},{\"appid\": 1806690,\"ordate\": \"09.04.2022\"},{\"appid\": 1832110,\"ordate\": \"29.07.2022\"},{\"appid\": 1835350,\"ordate\": \"12.03.2022\"},{\"appid\": 1841630,\"ordate\": \"09.02.2022\"},{\"appid\": 1850610,\"ordate\": \"11.04.2022\"},{\"appid\": 1850930,\"ordate\": \"26.03.2022\"},{\"appid\": 1863170,\"ordate\": \"21.01.2022\"},{\"appid\": 1863570,\"ordate\": \"06.03.2022\"},{\"appid\": 1865160,\"ordate\": \"25.02.2022\"},{\"appid\": 1865650,\"ordate\": \"27.10.2022\"},{\"appid\": 1891920,\"ordate\": \"15.07.2022\"},{\"appid\": 1895760,\"ordate\": \"10.03.2022\"},{\"appid\": 1906910,\"ordate\": \"14.03.2022\"},{\"appid\": 1915550,\"ordate\": \"31.05.2022\"},{\"appid\": 1917350,\"ordate\": \"26.03.2022\"},{\"appid\": 1919850,\"ordate\": \"10.03.2022\"},{\"appid\": 1936250,\"ordate\": \"01.04.2022\"},{\"appid\": 1941710,\"ordate\": \"11.12.2024\"},{\"appid\": 1945780,\"ordate\": \"05.08.2022\"},{\"appid\": 1966910,\"ordate\": \"02.05.2022\"},{\"appid\": 1978750,\"ordate\": \"10.07.2022\"},{\"appid\": 1986930,\"ordate\": \"08.07.2022\"},{\"appid\": 1989800,\"ordate\": \"20.05.2022\"},{\"appid\": 2007010,\"ordate\": \"27.10.2022\"},{\"appid\": 2057690,\"ordate\": \"20.02.2024\"},{\"appid\": 2059760,\"ordate\": \"19.07.2022\"},{\"appid\": 2070060,\"ordate\": \"31.03.2023\"},{\"appid\": 2073970,\"ordate\": \"21.07.2022\"},{\"appid\": 2074040,\"ordate\": \"03.08.2022\"},{\"appid\": 2108580,\"ordate\": \"30.08.2022\"},{\"appid\": 2112090,\"ordate\": \"21.06.2023\"},{\"appid\": 2140460,\"ordate\": \"18.11.2022\"},{\"appid\": 2171600,\"ordate\": \"11.11.2022\"},{\"appid\": 2180050,\"ordate\": \"11.05.2023\"},{\"appid\": 2200030,\"ordate\": \"25.04.2023\"},{\"appid\": 2266400,\"ordate\": \"20.04.2023\"},{\"appid\": 2311140,\"ordate\": \"26.04.2023\"},{\"appid\": 2311310,\"ordate\": \"20.10.2023\"},{\"appid\": 2325880,\"ordate\": \"24.12.2023\"},{\"appid\": 2337170,\"ordate\": \"11.11.2024\"},{\"appid\": 2360410,\"ordate\": \"04.07.2024\"},{\"appid\": 2460480,\"ordate\": \"19.07.2023\"},{\"appid\": 2483220,\"ordate\": \"01.12.2023\"},{\"appid\": 2528400,\"ordate\": \"28.12.2023\"},{\"appid\": 2540960,\"ordate\": \"05.09.2023\"},{\"appid\": 2565000,\"ordate\": \"23.09.2024\"},{\"appid\": 2717450,\"ordate\": \"14.03.2024\"},{\"appid\": 2739600,\"ordate\": \"31.01.2024\"},{\"appid\": 2849840,\"ordate\": \"14.04.2024\"},{\"appid\": 2856650,\"ordate\": \"02.06.2024\"},{\"appid\": 2875450,\"ordate\": \"17.06.2024\"},{\"appid\": 2909370,\"ordate\": \"15.07.2024\"},{\"appid\": 2994910,\"ordate\": \"10.11.2024\"},{\"appid\": 3029830,\"ordate\": \"31.08.2024\"},{\"appid\": 3048660,\"ordate\": \"19.07.2024\"},{\"appid\": 3068680,\"ordate\": \"31.07.2024\"},{\"appid\": 3173940,\"ordate\": \"30.09.2024\"},{\"appid\": 3199930,\"ordate\": \"11.11.2024\"},{\"appid\": 3359210,\"ordate\": \"10.12.2024\"},{\"appid\": 3403860,\"ordate\": \"15.01.2025\"},{\"appid\": 3439670,\"ordate\": \"24.01.2025\"},{\"appid\": 218980,\"ordate\": \"28.01.2013\"},{\"appid\": 221100,\"ordate\": \"16.12.2013\"},{\"appid\": 224500,\"ordate\": \"20.03.2013\"},{\"appid\": 242840,\"ordate\": \"22.05.2014\"},{\"appid\": 256440,\"ordate\": \"09.01.2014\"},{\"appid\": 397060,\"ordate\": \"01.03.2016\"},{\"appid\": 492150,\"ordate\": \"17.03.2017\"},{\"appid\": 969680,\"ordate\": \"08.08.2019\"},{\"appid\": 1269260,\"ordate\": \"04.03.2021\"},{\"appid\": 937870,\"ordate\": \"15.02.2020\"},{\"appid\": 779300,\"ordate\": \"24.08.2018\"},{\"appid\": 263480,\"ordate\": \"18.01.2014\"},{\"appid\": 264690,\"ordate\": \"19.11.2013\"},{\"appid\": 328070,\"ordate\": \"05.11.2014\"},{\"appid\": 337280,\"ordate\": \"07.02.2015\"},{\"appid\": 420020,\"ordate\": \"24.12.2016\"},{\"appid\": 427640,\"ordate\": \"17.12.2015\"},{\"appid\": 427950,\"ordate\": \"19.12.2015\"},{\"appid\": 431600,\"ordate\": \"01.03.2016\"},{\"appid\": 520660,\"ordate\": \"07.03.2018\"},{\"appid\": 525210,\"ordate\": \"30.11.2016\"},{\"appid\": 556540,\"ordate\": \"07.01.2017\"},{\"appid\": 556780,\"ordate\": \"20.12.2016\"},{\"appid\": 569640,\"ordate\": \"21.01.2017\"},{\"appid\": 587390,\"ordate\": \"14.02.2017\"},{\"appid\": 599460,\"ordate\": \"27.02.2017\"},{\"appid\": 604300,\"ordate\": \"10.03.2017\"},{\"appid\": 662320,\"ordate\": \"09.11.2017\"},{\"appid\": 724110,\"ordate\": \"31.01.2018\"},{\"appid\": 738880,\"ordate\": \"25.11.2017\"},{\"appid\": 744220,\"ordate\": \"18.11.2017\"},{\"appid\": 745890,\"ordate\": \"07.12.2017\"},{\"appid\": 749780,\"ordate\": \"08.03.2018\"},{\"appid\": 763680,\"ordate\": \"23.02.2018\"},{\"appid\": 763730,\"ordate\": \"21.12.2017\"},{\"appid\": 772270,\"ordate\": \"20.01.2018\"},{\"appid\": 789220,\"ordate\": \"07.02.2018\"},{\"appid\": 269250,\"ordate\": \"06.05.2014\"},{\"appid\": 324120,\"ordate\": \"27.09.2014\"},{\"appid\": 349220,\"ordate\": \"26.06.2015\"},{\"appid\": 357700,\"ordate\": \"16.09.2015\"},{\"appid\": 357910,\"ordate\": \"25.03.2015\"},{\"appid\": 385270,\"ordate\": \"15.07.2015\"},{\"appid\": 446590,\"ordate\": \"16.03.2016\"},{\"appid\": 448240,\"ordate\": \"10.05.2016\"},{\"appid\": 449730,\"ordate\": \"11.06.2016\"},{\"appid\": 450850,\"ordate\": \"30.03.2016\"},{\"appid\": 457380,\"ordate\": \"24.09.2016\"},{\"appid\": 459820,\"ordate\": \"14.05.2016\"},{\"appid\": 485440,\"ordate\": \"03.06.2016\"},{\"appid\": 487160,\"ordate\": \"02.08.2016\"},{\"appid\": 506150,\"ordate\": \"17.09.2016\"},{\"appid\": 512110,\"ordate\": \"02.09.2016\"},{\"appid\": 519540,\"ordate\": \"10.09.2016\"},{\"appid\": 590250,\"ordate\": \"12.06.2017\"},{\"appid\": 617590,\"ordate\": \"26.10.2017\"},{\"appid\": 618200,\"ordate\": \"29.08.2017\"},{\"appid\": 618270,\"ordate\": \"26.04.2017\"},{\"appid\": 624430,\"ordate\": \"19.04.2017\"},{\"appid\": 666310,\"ordate\": \"16.07.2017\"},{\"appid\": 697530,\"ordate\": \"16.09.2017\"},{\"appid\": 709140,\"ordate\": \"13.10.2017\"},{\"appid\": 710190,\"ordate\": \"09.05.2018\"},{\"appid\": 804730,\"ordate\": \"07.04.2018\"},{\"appid\": 818410,\"ordate\": \"13.10.2018\"},{\"appid\": 832020,\"ordate\": \"21.04.2018\"},{\"appid\": 832380,\"ordate\": \"11.05.2018\"},{\"appid\": 833370,\"ordate\": \"21.07.2018\"},{\"appid\": 840260,\"ordate\": \"27.08.2019\"},{\"appid\": 844330,\"ordate\": \"16.06.2018\"},{\"appid\": 845490,\"ordate\": \"31.08.2018\"},{\"appid\": 856220,\"ordate\": \"22.05.2018\"},{\"appid\": 885780,\"ordate\": \"01.08.2018\"},{\"appid\": 1176170,\"ordate\": \"20.11.2019\"},{\"appid\": 718530,\"ordate\": \"02.11.2017\"},{\"appid\": 959280,\"ordate\": \"27.11.2019\"},{\"appid\": 965250,\"ordate\": \"06.02.2019\"},{\"appid\": 1349830,\"ordate\": \"19.02.2021\"},{\"appid\": 937780,\"ordate\": \"26.09.2018\"},{\"appid\": 439550,\"ordate\": \"03.02.2016\"},{\"appid\": 537020,\"ordate\": \"18.12.2016\"},{\"appid\": 783860,\"ordate\": \"31.01.2018\"},{\"appid\": 283040,\"ordate\": \"28.03.2014\"},{\"appid\": 466210,\"ordate\": \"15.05.2016\"},{\"appid\": 473140,\"ordate\": \"29.05.2016\"},{\"appid\": 479000,\"ordate\": \"26.05.2016\"},{\"appid\": 571430,\"ordate\": \"22.06.2017\"},{\"appid\": 676310,\"ordate\": \"12.09.2018\"},{\"appid\": 849870,\"ordate\": \"13.05.2018\"},{\"appid\": 868710,\"ordate\": \"16.06.2018\"},{\"appid\": 390960,\"ordate\": \"13.01.2017\"},{\"appid\": 821230,\"ordate\": \"15.10.2018\"},{\"appid\": 542620,\"ordate\": \"12.11.2016\"},{\"appid\": 348860,\"ordate\": \"23.02.2015\"},{\"appid\": 809450,\"ordate\": \"15.03.2018\"},{\"appid\": 606850,\"ordate\": \"23.03.2017\"},{\"appid\": 546070,\"ordate\": \"13.01.2017\"},{\"appid\": 645650,\"ordate\": \"17.02.2018\"},{\"appid\": 393660,\"ordate\": \"24.08.2015\"},{\"appid\": 513960,\"ordate\": \"18.09.2016\"},{\"appid\": 1141880,\"ordate\": \"04.09.2019\"},{\"appid\": 1161270,\"ordate\": \"24.10.2019\"},{\"appid\": 1235310,\"ordate\": \"13.02.2020\"},{\"appid\": 345030,\"ordate\": \"14.02.2015\"},{\"appid\": 405550,\"ordate\": \"05.01.2016\"},{\"appid\": 428190,\"ordate\": \"22.12.2015\"},{\"appid\": 451900,\"ordate\": \"15.03.2016\"},{\"appid\": 321060,\"ordate\": \"05.09.2014\"},{\"appid\": 349460,\"ordate\": \"24.04.2015\"},{\"appid\": 466420,\"ordate\": \"11.05.2016\"},{\"appid\": 477170,\"ordate\": \"27.05.2016\"},{\"appid\": 612510,\"ordate\": \"19.08.2017\"},{\"appid\": 636950,\"ordate\": \"21.05.2017\"},{\"appid\": 682790,\"ordate\": \"27.08.2018\"},{\"appid\": 885000,\"ordate\": \"16.07.2018\"},{\"appid\": 473550,\"ordate\": \"23.12.2019\"},{\"appid\": 864920,\"ordate\": \"21.12.2018\"},{\"appid\": 1163130,\"ordate\": \"16.12.2019\"},{\"appid\": 640310,\"ordate\": \"19.06.2017\"},{\"appid\": 951330,\"ordate\": \"16.10.2018\"},{\"appid\": 342350,\"ordate\": \"05.02.2015\"},{\"appid\": 589850,\"ordate\": \"21.06.2017\"},{\"appid\": 833400,\"ordate\": \"03.05.2018\"},{\"appid\": 1002230,\"ordate\": \"03.01.2019\"},{\"appid\": 425300,\"ordate\": \"22.01.2016\"},{\"appid\": 601590,\"ordate\": \"08.03.2017\"},{\"appid\": 728050,\"ordate\": \"22.11.2017\"},{\"appid\": 288000,\"ordate\": \"19.10.2015\"},{\"appid\": 1440510,\"ordate\": \"25.12.2020\"},{\"appid\": 610730,\"ordate\": \"30.12.2017\"},{\"appid\": 448110,\"ordate\": \"23.04.2016\"},{\"appid\": 939000,\"ordate\": \"27.09.2018\"},{\"appid\": 1281990,\"ordate\": \"27.04.2020\"},{\"appid\": 452320,\"ordate\": \"09.04.2016\"},{\"appid\": 465710,\"ordate\": \"02.06.2017\"},{\"appid\": 526290,\"ordate\": \"05.10.2016\"},{\"appid\": 620580,\"ordate\": \"07.05.2017\"},{\"appid\": 516510,\"ordate\": \"23.08.2016\"},{\"appid\": 600120,\"ordate\": \"27.03.2017\"},{\"appid\": 741650,\"ordate\": \"17.12.2017\"},{\"appid\": 641780,\"ordate\": \"27.06.2017\"},{\"appid\": 652030,\"ordate\": \"24.07.2017\"},{\"appid\": 854950,\"ordate\": \"06.08.2018\"},{\"appid\": 735030,\"ordate\": \"02.06.2018\"},{\"appid\": 1542010,\"ordate\": \"15.04.2021\"},{\"appid\": 763300,\"ordate\": \"27.12.2017\"},{\"appid\": 1477870,\"ordate\": \"03.12.2020\"},{\"appid\": 676070,\"ordate\": \"15.08.2017\"},{\"appid\": 657300,\"ordate\": \"10.11.2017\"},{\"appid\": 1452180,\"ordate\": \"16.11.2020\"},{\"appid\": 298220,\"ordate\": \"24.05.2014\"},{\"appid\": 399240,\"ordate\": \"18.04.2016\"},{\"appid\": 745820,\"ordate\": \"07.05.2018\"},{\"appid\": 1564180,\"ordate\": \"25.05.2021\"},{\"appid\": 1072890,\"ordate\": \"20.05.2019\"},{\"appid\": 1482720,\"ordate\": \"16.12.2020\"},{\"appid\": 773490,\"ordate\": \"22.02.2018\"},{\"appid\": 1539780,\"ordate\": \"26.02.2021\"},{\"appid\": 543050,\"ordate\": \"31.01.2017\"},{\"appid\": 868470,\"ordate\": \"08.06.2018\"},{\"appid\": 1121000,\"ordate\": \"31.07.2019\"},{\"appid\": 1325970,\"ordate\": \"18.06.2020\"},{\"appid\": 1224050,\"ordate\": \"25.02.2020\"},{\"appid\": 471710,\"ordate\": \"28.06.2016\"},{\"appid\": 1352520,\"ordate\": \"06.08.2020\"},{\"appid\": 964960,\"ordate\": \"16.01.2019\"},{\"appid\": 1339640,\"ordate\": \"17.07.2020\"},{\"appid\": 677700,\"ordate\": \"09.08.2017\"},{\"appid\": 1053740,\"ordate\": \"18.04.2019\"},{\"appid\": 579130,\"ordate\": \"08.03.2017\"},{\"appid\": 528900,\"ordate\": \"17.12.2017\"},{\"appid\": 801120,\"ordate\": \"09.03.2018\"},{\"appid\": 594200,\"ordate\": \"26.04.2017\"},{\"appid\": 1252250,\"ordate\": \"06.03.2020\"},{\"appid\": 511390,\"ordate\": \"24.12.2016\"},{\"appid\": 615070,\"ordate\": \"10.10.2017\"},{\"appid\": 1463430,\"ordate\": \"08.04.2021\"},{\"appid\": 1540560,\"ordate\": \"11.03.2021\"},{\"appid\": 470470,\"ordate\": \"10.10.2016\"},{\"appid\": 253630,\"ordate\": \"29.10.2013\"},{\"appid\": 1440050,\"ordate\": \"08.12.2020\"},{\"appid\": 1141170,\"ordate\": \"04.01.2020\"},{\"appid\": 867550,\"ordate\": \"20.06.2018\"},{\"appid\": 782460,\"ordate\": \"06.06.2018\"},{\"appid\": 1383580,\"ordate\": \"14.06.2021\"},{\"appid\": 804830,\"ordate\": \"14.03.2018\"},{\"appid\": 820480,\"ordate\": \"27.08.2018\"},{\"appid\": 673480,\"ordate\": \"25.07.2017\"},{\"appid\": 250580,\"ordate\": \"05.09.2013\"},{\"appid\": 661690,\"ordate\": \"18.02.2018\"},{\"appid\": 569370,\"ordate\": \"09.01.2017\"},{\"appid\": 848890,\"ordate\": \"26.10.2018\"},{\"appid\": 535190,\"ordate\": \"12.10.2016\"},{\"appid\": 340860,\"ordate\": \"29.03.2015\"},{\"appid\": 705920,\"ordate\": \"04.12.2017\"},{\"appid\": 924420,\"ordate\": \"23.06.2022\"},{\"appid\": 1049640,\"ordate\": \"26.03.2020\"},{\"appid\": 1178130,\"ordate\": \"14.07.2022\"},{\"appid\": 1049800,\"ordate\": \"01.04.2019\"},{\"appid\": 264380,\"ordate\": \"25.04.2014\"},{\"appid\": 1140620,\"ordate\": \"20.01.2021\"},{\"appid\": 523750,\"ordate\": \"02.06.2018\"}]}","USE_Sledilka_migrated_v2_from_wishlistTracker":"btrue"}},"enabled":true,"position":1,"file_url":"https://update.greasyfork.org/scripts/526180/Ultimate%20Steam%20Enhancer.user.js","uuid":"032824c1-e3d1-4822-8d9c-fb33d7936d7b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBVbHRpbWF0ZSBTdGVhbSBFbmhhbmNlcgovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS8KLy8gQHZlcnNpb24gICAgICAyLjEuMQovLyBAZGVzY3JpcHRpb24gINCU0L7QsdCw0LLQu9GP0LXRgiDQvNC90L7QttC10YHRgtCy0L4g0YTRg9C90LrRhtC40Lkg0LTQu9GPINGD0LvRg9GH0YjQtdC90LjRjyDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNGPINGBINC80LDQs9Cw0LfQuNC90L7QvCDQuCDRgdC+0L7QsdGJ0LXRgdGC0LLQvtC8ICjQn9C+0LvQvdGL0Lkg0YHQv9C40YHQvtC6INC90LAg0YHRgtGA0LDQvdC40YbQtSDRgdC60YDQuNC/0YLQsCkKLy8gQGF1dGhvciAgICAgICAwd24zZGYxeAovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0zLjYuMC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9ub1VpU2xpZGVyLzE1LjcuMS9ub3Vpc2xpZGVyLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vY2hhcnQuanNANC40LjEvZGlzdC9jaGFydC51bWQubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9jaGFydGpzLXBsdWdpbi1kYXRhbGFiZWxzQDIuMi4wL2Rpc3QvY2hhcnRqcy1wbHVnaW4tZGF0YWxhYmVscy5taW4uanMKLy8gQG1hdGNoICAgICAgICBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qc3RlYW1jb21tdW5pdHkuY29tLyoKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX2RlbGV0ZVZhbHVlCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBjb25uZWN0ICAgICAgem9uZW9mZ2FtZXMucnUKLy8gQGNvbm5lY3QgICAgICByYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tCi8vIEBjb25uZWN0ICAgICAgZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20KLy8gQGNvbm5lY3QgICAgICBzdG9yZS5zdGVhbXBvd2VyZWQuY29tCi8vIEBjb25uZWN0ICAgICAgYXBpLnN0ZWFtcG93ZXJlZC5jb20KLy8gQGNvbm5lY3QgICAgICBzdGVhbWNvbW11bml0eS5jb20KLy8gQGNvbm5lY3QgICAgICBjb21tdW5pdHkuYWthbWFpLnN0ZWFtc3RhdGljLmNvbQovLyBAY29ubmVjdCAgICAgIGNvbW11bml0eS5jbG91ZGZsYXJlLnN0ZWFtc3RhdGljLmNvbQovLyBAY29ubmVjdCAgICAgIGNvbW11bml0eS5mYXN0bHkuc3RlYW1zdGF0aWMuY29tCi8vIEBjb25uZWN0ICAgICAgc2hhcmVkLmFrYW1haS5zdGVhbXN0YXRpYy5jb20KLy8gQGNvbm5lY3QgICAgICBzaGFyZWQuY2xvdWRmbGFyZS5zdGVhbXN0YXRpYy5jb20KLy8gQGNvbm5lY3QgICAgICBzaGFyZWQuZmFzdGx5LnN0ZWFtc3RhdGljLmNvbQovLyBAY29ubmVjdCAgICAgIHVtYWRiLnJvCi8vIEBjb25uZWN0ICAgICAgYXBpLmdpdGh1Yi5jb20KLy8gQGNvbm5lY3QgICAgICBob3dsb25ndG9iZWF0LmNvbQovLyBAY29ubmVjdCAgICAgIHZndGltZXMucnUKLy8gQGNvbm5lY3QgICAgICBhcGkuZGlnaXNlbGxlci5jb20KLy8gQGNvbm5lY3QgICAgICBwbGF0aS5tYXJrZXQKLy8gQGNvbm5lY3QgICAgICBkaWdpc2VsbGVyLm15Y2RuLmluawovLyBAY29ubmVjdCAgICAgIHN0ZWFtYnV5LmNvbQovLyBAY29ubmVjdCAgICAgIHN0ZWFtbWFjaGluZS5ydQovLyBAY29ubmVjdCAgICAgIHBsYXlvLnJ1Ci8vIEBjb25uZWN0ICAgICAgc3RlYW1wYXkuY29tCi8vIEBjb25uZWN0ICAgICAgZ2FiZXN0b3JlLnJ1Ci8vIEBjb25uZWN0ICAgICAgc3RhdGljLmdhYmVzdG9yZS5ydQovLyBAY29ubmVjdCAgICAgIGdhbWVyc2Jhc2Uuc3RvcmUKLy8gQGNvbm5lY3QgICAgICBjb3JlcGxhdGZvcm0uYmxvYi5jb3JlLndpbmRvd3MubmV0Ci8vIEBjb25uZWN0ICAgICAgY2RuLWNvbnRlbnRwcm9kLmF6dXJlZWRnZS5uZXQKLy8gQGNvbm5lY3QgICAgICBjZG4tcmVzaXplLmVuYXphLmdhbWVzCi8vIEBjb25uZWN0ICAgICAgY2RuLXN0YXRpYy5lbmF6YS5nYW1lcwovLyBAY29ubmVjdCAgICAgIHd3dy5pZ3JvbWFnYXoucnUKLy8gQGNvbm5lY3QgICAgICBnYW1lc2ZvcmZhcm0uY29tCi8vIEBjb25uZWN0ICAgICAgc2hhcmVkLmZhc3RseS5zdGVhbXN0YXRpYy5jb20KLy8gQGNvbm5lY3QgICAgICBpLmltZ3VyLmNvbQovLyBAY29ubmVjdCAgICAgIHpha2EtemFrYS5jb20KLy8gQGNvbm5lY3QgICAgICBpbWFnZXMuemFrYS16YWthLmNvbQovLyBAY29ubmVjdCAgICAgIGdhbWF6YXZyLnJ1Ci8vIEBjb25uZWN0ICAgICAgZ2FtZXJheS5ydQovLyBAY29ubmVjdCAgICAgIHNob3AuYnVrYS5ydQovLyBAY29ubmVjdCAgICAgIHVwbG9hZC53aWtpbWVkaWEub3JnCi8vIEBjb25uZWN0ICAgICAga2V5c2ZvcmdhbWVycy5jb20KLy8gQGNvbm5lY3QgICAgICBhcGk0Lmdnc2VsLmNvbQovLyBAY29ubmVjdCAgICAgIGdnc2VsLm5ldAovLyBAY29ubmVjdCAgICAgIGNkbi5nZ3NlbC5jb20KLy8gQGNvbm5lY3QgICAgICBleHBsb3Jlci5rdXBpa29kLmNvbQovLyBAY29ubmVjdCAgICAgIHJ1c2hiZS5ydQovLyBAY29ubmVjdCAgICAgIGNkbi5qc2RlbGl2ci5uZXQKLy8gQGNvbm5lY3QgICAgICBpbWcuc2hpZWxkcy5pbwovLyBAZG93bmxvYWRVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy81MjYxODAvVWx0aW1hdGUlMjBTdGVhbSUyMEVuaGFuY2VyLnVzZXIuanMKLy8gQHVwZGF0ZVVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzUyNjE4MC9VbHRpbWF0ZSUyMFN0ZWFtJTIwRW5oYW5jZXIubWV0YS5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgZnVuY3Rpb24gbWFrZUdNUmVxdWVzdChvcHRpb25zKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgb3B0aW9ucy5vbmxvYWQgPSAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDQl9Cw0L/RgNC+0YEg0L3QtSDRg9C00LDQu9GB0Y8sINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c306ICR7b3B0aW9ucy5tZXRob2R9ICR7b3B0aW9ucy51cmx9YCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IgPSAoZXJyKSA9PiByZWplY3QobmV3IEVycm9yKGDQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LA6ICR7b3B0aW9ucy5tZXRob2R9ICR7b3B0aW9ucy51cmx9LiBEZXRhaWxzOiAke0pTT04uc3RyaW5naWZ5KGVycil9YCkpOwogICAgICAgICAgICBvcHRpb25zLm9udGltZW91dCA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYNCi0LDQudC80LDRg9GCOiAke29wdGlvbnMubWV0aG9kfSAke29wdGlvbnMudXJsfWApKTsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3Qob3B0aW9ucyk7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5qZWN0UGFnZUFuZFJ1bk1vZHVsZXMocmVzcG9uc2VUZXh0KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA5OTk5OTsgaSsrKSB7CiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGkpOwogICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGkpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgaW5qZWN0aW9uU2NyaXB0ID0gYAogICAgICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuVVNFX3VubG9ja2VkX3BhZ2VfcmVhZHkgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbVS5TLkUuIEluamVjdGVkIFNjcmlwdF0gRE9NQ29udGVudExvYWRlZCDRgdGA0LDQsdC+0YLQsNC7LCDRgdGC0YDQsNC90LjRhtCwINCz0L7RgtC+0LLQsC4nKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICA8L3NjcmlwdD4KICAgICAgICBgOwoKICAgICAgICBjb25zdCBtb2RpZmllZFJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlVGV4dC5yZXBsYWNlKCc8L2hlYWQ+JywgYCR7aW5qZWN0aW9uU2NyaXB0fTwvaGVhZD5gKTsKCiAgICAgICAgZG9jdW1lbnQub3BlbigpOwogICAgICAgIGRvY3VtZW50LndyaXRlKG1vZGlmaWVkUmVzcG9uc2VUZXh0KTsKICAgICAgICBkb2N1bWVudC5jbG9zZSgpOwoKICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gNDA7CiAgICAgICAgbGV0IHJldHJpZXMgPSAwOwogICAgICAgIGNvbnN0IHJlYWR5Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgaWYgKHVuc2FmZVdpbmRvdy5VU0VfdW5sb2NrZWRfcGFnZV9yZWFkeSkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeUNoZWNrSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tVLlMuRS4gVXNlcnNjcmlwdF0g0J7QsdC90LDRgNGD0LbQtdC9INGB0LjQs9C90LDQuyDQs9C+0YLQvtCy0L3QvtGB0YLQuCDQvtGCINC90L7QstC+0Lkg0YHRgtGA0LDQvdC40YbRiy4g0JfQsNC/0YPRgdC60LDQtdC8INC80L7QtNGD0LvQuCBVU0UuJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJ1blVTRU1vZHVsZXMsIDI1MCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXRyaWVzKys7CiAgICAgICAgICAgICAgICBpZiAocmV0cmllcyA+IG1heFJldHJpZXMpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJlYWR5Q2hlY2tJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1UuUy5FLl0g0JLRgNC10LzRjyDQvtC20LjQtNCw0L3QuNGPINCz0L7RgtC+0LLQvdC+0YHRgtC4INGB0YLRgNCw0L3QuNGG0Ysg0LjRgdGC0LXQutC70L4uINCf0YvRgtCw0Y7RgdGMINC30LDQv9GD0YHRgtC40YLRjCDQvNC+0LTRg9C70Lgg0LLRgdC70LXQv9GD0Y4uLi4nKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJ1blVTRU1vZHVsZXMsIDI1MCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LCAyNTApOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXhCeXBhc3MoKSB7CiAgICAgICAgY29uc3QgYXBwSWQgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvYXBwXC8oXGQrKS8pPy5bMV07CiAgICAgICAgaWYgKCFhcHBJZCkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbVS5TLkUuXSDQndC1INGD0LTQsNC70L7RgdGMINC+0L/RgNC10LTQtdC70LjRgtGMIEFwcElEINC90LAg0YHRgtGA0LDQvdC40YbQtS4nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OiAnTW90aXZhIFNhbnMnLCBzYW5zLXNlcmlmOyBjb2xvcjogI2M3ZDVlMDsgYmFja2dyb3VuZC1jb2xvcjogIzFiMjgzODsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAxMDBweCAyMHB4OyBoZWlnaHQ6IDEwMHZoOyBmb250LXNpemU6IDEuOGVtOyBsaW5lLWhlaWdodDogMS41OyI+CiAgICAgICAgICAgICAgICA8cD7QntCx0L3QsNGA0YPQttC10L3QsCDRgNC10LPQuNC+0L3QsNC70YzQvdCw0Y8g0LHQu9C+0LrQuNGA0L7QstC60LAuPC9wPgogICAgICAgICAgICAgICAgPHA+0JfQsNC/0YPRgdC60LDRjiDQvNC90L7Qs9C+0YHRgtGD0L/QtdC90YfQsNGC0YvQuSDQvtCx0YXQvtC0Li4uPC9wPgogICAgICAgICAgICAgICAgPHAgaWQ9InVzZS11bmJsb2NrLXN0YXR1cyIgc3R5bGU9ImZvbnQtc2l6ZTogMC44ZW07IGNvbG9yOiAjOGY5OGEwOyBtYXJnaW4tdG9wOiAyMHB4OyI+PC9wPgogICAgICAgICAgICAgICAgPHAgc3R5bGU9ImZvbnQtc2l6ZTogMC43ZW07IGNvbG9yOiAjOGY5OGEwOyI+KFVsdGltYXRlIFN0ZWFtIEVuaGFuY2VyKTwvcD4KICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS11bmJsb2NrLXN0YXR1cycpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBzdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gJ9Co0LDQsyAxLzM6INCf0L7Qu9GD0YfQtdC90LjQtSDQsNC90L7QvdC40LzQvdC+0Lkg0YHQtdGB0YHQuNC4Li4uJzsKICAgICAgICAgICAgY29uc3QgeyBzZXNzaW9uaWQsIGJyb3dzZXJpZCB9ID0gYXdhaXQgZ2V0QW5vbnltb3VzU2Vzc2lvbigpOwogICAgICAgICAgICBjb25zdCBiYXNlQ29va2llcyA9IGBzZXNzaW9uaWQ9JHtzZXNzaW9uaWR9OyBicm93c2VyaWQ9JHticm93c2VyaWR9O2A7CiAgICAgICAgICAgIGNvbnN0IGluY29nbml0b1JlZ2lvbiA9IEdNX2dldFZhbHVlKCd1c2VfaW5jb2duaXRvX2RlZmF1bHRfcmVnaW9uJywgJ1VTJyk7CiAgICAgICAgICAgIGNvbnN0IGNvdW50cnlDb29raWUgPSBgc3RlYW1Db3VudHJ5PSR7aW5jb2duaXRvUmVnaW9ufTtgOwoKICAgICAgICAgICAgc3RhdHVzRWxlbWVudC50ZXh0Q29udGVudCA9ICfQqNCw0LMgMi8zOiDQn9GA0L7QstC10YDQutCwINGB0YLRgNCw0L3QuNGG0YsuLi4nOwogICAgICAgICAgICBjb25zdCBnYW1lUGFnZVVybCA9IGBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyR7YXBwSWR9Lz9jYz0ke2luY29nbml0b1JlZ2lvbi50b0xvd2VyQ2FzZSgpfSZsPXJ1c3NpYW5gOwogICAgICAgICAgICBjb25zdCBpbml0aWFsUGFnZVJlc3BvbnNlID0gYXdhaXQgbWFrZUdNUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgdXJsOiBnYW1lUGFnZVVybCwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29va2llJzogYCR7YmFzZUNvb2tpZXN9ICR7Y291bnRyeUNvb2tpZX1gLAogICAgICAgICAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAncnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGFub255bW91czogdHJ1ZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGluaXRpYWxQYWdlUmVzcG9uc2UucmVzcG9uc2VUZXh0OwoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlVGV4dC5pbmNsdWRlcygnYWdlZ2F0ZV9iaXJ0aGRheV9zZWxlY3RvcicpKSB7CiAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gJ9Co0LDQsyAzLzM6INCe0LHRhdC+0LQg0LLQvtC30YDQsNGB0YLQvdC+0LPQviDQvtCz0YDQsNC90LjRh9C10L3QuNGPINC4INC30LDQs9GA0YPQt9C60LAuLi4nOwoKICAgICAgICAgICAgICAgIGNvbnN0IGFnZUJ5cGFzc0Nvb2tpZXMgPSBgYmlydGh0aW1lPTYzMTE1MjAwMTsgd2FudHNfbWF0dXJlX2NvbnRlbnQ9MTtgOwoKICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUGFnZVJlc3BvbnNlID0gYXdhaXQgbWFrZUdNUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICB1cmw6IGdhbWVQYWdlVXJsLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ0Nvb2tpZSc6IGAke2Jhc2VDb29raWVzfSAke2NvdW50cnlDb29raWV9ICR7YWdlQnlwYXNzQ29va2llc31gLAogICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ3J1LVJVLHJ1O3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoZmluYWxQYWdlUmVzcG9uc2UucmVzcG9uc2VUZXh0LmluY2x1ZGVzKCdhZ2VnYXRlX2JpcnRoZGF5X3NlbGVjdG9yJykpIHsKICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC+0LHQvtC50YLQuCDQstC+0LfRgNCw0YHRgtC90L7QtSDQvtCz0YDQsNC90LjRh9C10L3QuNC1INGBINC/0L7QvNC+0YnRjNGOIGNvb2tpZS4g0JLQvtC30LzQvtC20L3QviwgU3RlYW0g0LjQt9C80LXQvdC40Lsg0LvQvtCz0LjQutGDLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGluamVjdFBhZ2VBbmRSdW5Nb2R1bGVzKGZpbmFsUGFnZVJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gJ9CS0L7Qt9GA0LDRgdGC0L3QvtC1INC+0LPRgNCw0L3QuNGH0LXQvdC40LUg0L3QtSDQvdCw0LnQtNC10L3Qvi4g0JfQsNCz0YDRg9C30LrQsCDRgdGC0YDQsNC90LjRhtGLLi4uJzsKICAgICAgICAgICAgICAgIGluamVjdFBhZ2VBbmRSdW5Nb2R1bGVzKHJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1UuUy5FLl0g0J7RiNC40LHQutCwINCyINC/0YDQvtGG0LXRgdGB0LUg0L7QsdGF0L7QtNCwOicsIGVycm9yKTsKICAgICAgICAgICAgaWYgKHN0YXR1c0VsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQudGV4dENvbnRlbnQgPSBg0J7RiNC40LHQutCwOiAke2Vycm9yLm1lc3NhZ2V9YDsKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuY29sb3IgPSAnI2ZmNjk2MSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZ2V0QW5vbnltb3VzU2Vzc2lvbihyZXRyeUNvdW50ID0gMCkgewogICAgICAgIGNvbnN0IE1BWF9SRVRSSUVTID0gMjsKICAgICAgICBjb25zb2xlLmxvZyhgW1UuUy5FLiBVbmJsb2NrZXJdINCf0L7Qv9GL0YLQutCwICMke3JldHJ5Q291bnQgKyAxfSDQv9C+0LvRg9GH0LXQvdC40Y8g0LDQvdC+0L3QuNC80L3QvtC5INGB0LXRgdGB0LjQuC4uLmApOwoKICAgICAgICBjb25zdCBzZXNzaW9uVXJsID0gJ2h0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9qb2luLz9sPXJ1c3NpYW4nOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VHTVJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgIHVybDogc2Vzc2lvblVybCwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ3J1LVJVLHJ1O3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGFub255bW91czogdHJ1ZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSByZXNwb25zZS5yZXNwb25zZUhlYWRlcnM7CiAgICAgICAgICAgIGNvbnN0IGNvb2tpZXMgPSBoZWFkZXJzLnRyaW0oKS5zcGxpdCgvW1xyXG5dKy8pCiAgICAgICAgICAgICAgICAuZmlsdGVyKGggPT4gaC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3NldC1jb29raWU6JykpCiAgICAgICAgICAgICAgICAubWFwKGggPT4gaC5zdWJzdHJpbmcoaC5pbmRleE9mKCc6JykgKyAxKS50cmltKCkpOwoKICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbmlkID0gY29va2llcy5maW5kKGMgPT4gYy5zdGFydHNXaXRoKCdzZXNzaW9uaWQ9JykpPy5zcGxpdCgnOycpWzBdLnNwbGl0KCc9JylbMV0gfHwgbnVsbDsKICAgICAgICAgICAgY29uc3QgYnJvd3NlcmlkID0gY29va2llcy5maW5kKGMgPT4gYy5zdGFydHNXaXRoKCdicm93c2VyaWQ9JykpPy5zcGxpdCgnOycpWzBdLnNwbGl0KCc9JylbMV0gfHwgbnVsbDsKCiAgICAgICAgICAgIGlmIChzZXNzaW9uaWQgJiYgYnJvd3NlcmlkKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1UuUy5FLiBVbmJsb2NrZXJdINCj0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQtdC90Ysgc2Vzc2lvbmlkPSR7c2Vzc2lvbmlkfSwgYnJvd3NlcmlkPSR7YnJvd3NlcmlkfWApOwogICAgICAgICAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbmlkLCBicm93c2VyaWQgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS53YXJuKCdbVS5TLkUuIFVuYmxvY2tlcl0g0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMIGNvb2tpZXMg0YEg0YLQtdC60YPRidC10Lkg0L/QvtC/0YvRgtC60LguINCX0LDQs9C+0LvQvtCy0LrQuCDQvtGC0LLQtdGC0LA6JywgeyBoZWFkZXJzIH0pOwoKICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfUkVUUklFUykgewogICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEFub255bW91c1Nlc3Npb24ocmV0cnlDb3VudCArIDEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LDQvdC+0L3QuNC80L3Ri9C5IHNlc3Npb25pZC9icm93c2VyaWQg0L/QvtGB0LvQtSDQvdC10YHQutC+0LvRjNC60LjRhSDQv9C+0L/Ri9GC0L7Qui4nKTsKICAgICAgICAgICAgfQoKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbVS5TLkUuIFVuYmxvY2tlcl0g0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0L/RgNC+0YHQtSDRgdC10YHRgdC40LggKNC/0L7Qv9GL0YLQutCwICR7cmV0cnlDb3VudCArIDF9KTpgLCBlcnJvcik7CiAgICAgICAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX1JFVFJJRVMpIHsKICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRBbm9ueW1vdXNTZXNzaW9uKHJldHJ5Q291bnQgKyAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aHJvdyBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0LLRi9C/0L7Qu9C90LjRgtGMINC30LDQv9GA0L7RgSDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINCw0L3QvtC90LjQvNC90L7QuSDRgdC10YHRgdC40LguJyk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEluY29nbml0b0J1dHRvbigpIHsKICAgICAgICBjb25zdCBpc0J1dHRvbkVuYWJsZWQgPSBHTV9nZXRWYWx1ZSgndXNlX2luY29nbml0b19idXR0b25fZW5hYmxlZCcsIGZhbHNlKTsKICAgICAgICBpZiAoIWlzQnV0dG9uRW5hYmxlZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1pbmNvZ25pdG8tYnRuJykpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbG9nb0hvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dvX2hvbGRlcicpOwogICAgICAgIGlmICghbG9nb0hvbGRlcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbVS5TLkUuXSDQndC1INGD0LTQsNC70L7RgdGMINC90LDQudGC0LggI2xvZ29faG9sZGVyINC00LvRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutC90L7Qv9C60LguJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGluY29nbml0b0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBpbmNvZ25pdG9CdG4uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JzsKICAgICAgICBpbmNvZ25pdG9CdG4uaWQgPSAndXNlLWluY29nbml0by1idG4nOwogICAgICAgIGluY29nbml0b0J0bi5pbm5lclRleHQgPSAnaW4nOwogICAgICAgIGluY29nbml0b0J0bi50aXRsZSA9ICfQn9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDRgdGC0YDQsNC90LjRhtGDINCyINCy0LjRgNGC0YPQsNC70YzQvdC+0Lwg0YDQtdC20LjQvNC1INC40L3QutC+0LPQvdC40YLQviAoVS5TLkUuKSc7CgogICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgI2xvZ29faG9sZGVyIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAjdXNlLWluY29nbml0by1idG4gewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgdG9wOiAtN3B4OwogICAgICAgICAgICAgICAgcmlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiA0cHggMTBweDsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNDNUMzQzA7CiAgICAgICAgICAgICAgICBjb2xvcjogIzE3MUQyNTsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41OwogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDAsMCwwLDAuNSk7CiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDsKICAgICAgICAgICAgfQogICAgICAgICAgICAjdXNlLWluY29nbml0by1idG46aG92ZXIgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzE3MUQyNTsKICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSBzY2FsZSgxLjA1KTsKICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwwLDAsMC43KTsKICAgICAgICAgICAgfQogICAgICAgIGApOwoKICAgICAgICBsb2dvSG9sZGVyLmFwcGVuZENoaWxkKGluY29nbml0b0J0bik7CgogICAgICAgIGluY29nbml0b0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1tVLlMuRS5dINCQ0LrRgtC40LLQsNGG0LjRjyDRgNC10LbQuNC80LAg0LjQvdC60L7Qs9C90LjRgtC+INCy0YDRg9GH0L3Rg9GOLi4uJyk7CiAgICAgICAgICAgIGxvYWRQYWdlSW5jb2duaXRvKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAgICAgICB9KTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBsb2FkUGFnZUluY29nbml0byh1cmwpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6ICdNb3RpdmEgU2FucycsIHNhbnMtc2VyaWY7IGNvbG9yOiAjYzdkNWUwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMWIyODM4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDEwMHB4IDIwcHg7IGhlaWdodDogMTAwdmg7IGZvbnQtc2l6ZTogMS44ZW07IGxpbmUtaGVpZ2h0OiAxLjU7Ij4KICAgICAgICAgICAgICAgIDxwPtCf0LXRgNC10LfQsNCz0YDRg9C30LrQsCDRgdGC0YDQsNC90LjRhtGLINCyINGA0LXQttC40LzQtSAi0JjQvdC60L7Qs9C90LjRgtC+Ii4uLjwvcD4KICAgICAgICAgICAgICAgIDxwIGlkPSJ1c2UtaW5jb2duaXRvLXN0YXR1cyIgc3R5bGU9ImZvbnQtc2l6ZTogMC44ZW07IGNvbG9yOiAjOGY5OGEwOyBtYXJnaW4tdG9wOiAyMHB4OyI+PC9wPgogICAgICAgICAgICAgICAgPHAgc3R5bGU9ImZvbnQtc2l6ZTogMC43ZW07IGNvbG9yOiAjOGY5OGEwOyI+KFVsdGltYXRlIFN0ZWFtIEVuaGFuY2VyKTwvcD4KICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1pbmNvZ25pdG8tc3RhdHVzJyk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQudGV4dENvbnRlbnQgPSAn0KjQsNCzIDEvMjog0J/QvtC70YPRh9C10L3QuNC1INCw0L3QvtC90LjQvNC90L7QuSDRgdC10YHRgdC40LguLi4nOwogICAgICAgICAgICBjb25zdCB7IHNlc3Npb25pZCwgYnJvd3NlcmlkIH0gPSBhd2FpdCBnZXRBbm9ueW1vdXNTZXNzaW9uKCk7CiAgICAgICAgICAgIGNvbnN0IGJhc2VDb29raWVzID0gYHNlc3Npb25pZD0ke3Nlc3Npb25pZH07IGJyb3dzZXJpZD0ke2Jyb3dzZXJpZH07YDsKICAgICAgICAgICAgY29uc3QgaW5jb2duaXRvUmVnaW9uID0gR01fZ2V0VmFsdWUoJ3VzZV9pbmNvZ25pdG9fZGVmYXVsdF9yZWdpb24nLCAnVVMnKTsKICAgICAgICAgICAgY29uc3QgY291bnRyeUNvb2tpZSA9IGBzdGVhbUNvdW50cnk9JHtpbmNvZ25pdG9SZWdpb259O2A7CiAgICAgICAgICAgIGNvbnN0IGFnZUJ5cGFzc0Nvb2tpZXMgPSBgYmlydGh0aW1lPTYzMTE1MjAwMTsgd2FudHNfbWF0dXJlX2NvbnRlbnQ9MTtgOwoKICAgICAgICAgICAgc3RhdHVzRWxlbWVudC50ZXh0Q29udGVudCA9ICfQqNCw0LMgMi8yOiDQl9Cw0LPRgNGD0LfQutCwINC60L7QvdGC0LXQvdGC0LAg0YHRgtGA0LDQvdC40YbRiy4uLic7CgogICAgICAgICAgICBjb25zdCBwYWdlVXJsID0gbmV3IFVSTCh1cmwpOwogICAgICAgICAgICBwYWdlVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NjJywgaW5jb2duaXRvUmVnaW9uLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICBwYWdlVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2wnLCAncnVzc2lhbicpOwoKICAgICAgICAgICAgY29uc3QgcGFnZVJlc3BvbnNlID0gYXdhaXQgbWFrZUdNUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgdXJsOiBwYWdlVXJsLmhyZWYsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0Nvb2tpZSc6IGAke2Jhc2VDb29raWVzfSAke2NvdW50cnlDb29raWV9ICR7YWdlQnlwYXNzQ29va2llc31gLAogICAgICAgICAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAncnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYW5vbnltb3VzOiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaW5qZWN0UGFnZUFuZFJ1bk1vZHVsZXMocGFnZVJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CgogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVLlMuRS5dINCe0YjQuNCx0LrQsCDQsiDQv9GA0L7RhtC10YHRgdC1INGA0YPRh9C90L7QuSDQt9Cw0LPRgNGD0LfQutC4INCyINGA0LXQttC40LzQtSDQuNC90LrQvtCz0L3QuNGC0L46JywgZXJyb3IpOwogICAgICAgICAgICBpZiAoc3RhdHVzRWxlbWVudCkgewogICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC50ZXh0Q29udGVudCA9IGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwOiAke2Vycm9yLm1lc3NhZ2V9YDsKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuY29sb3IgPSAnI2ZmNjk2MSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgKGZ1bmN0aW9uIHVuYmxvY2tlckRpc3BhdGNoZXIoKSB7CiDCoCDCoCDCoCDCoCBjb25zdCBpc0luY29nbml0b01vZGVFbmFibGVkID0gR01fZ2V0VmFsdWUoJ3VzZV9pbmNvZ25pdG9fbW9kZV9lbmFibGVkJywgdHJ1ZSk7CgogwqAgwqAgwqAgwqAgaWYgKGlzSW5jb2duaXRvTW9kZUVuYWJsZWQgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvYXBwLycpKSB7CiDCoCDCoCDCoCDCoCDCoCDCoCBjb25zdCByZWdpb25Mb2NrTWVzc2FnZSA9ICfQlNCw0L3QvdGL0Lkg0YLQvtCy0LDRgCDQvdC10LTQvtGB0YLRg9C/0LXQvSDQsiDQstCw0YjQtdC8INGA0LXQs9C40L7QvdC1JzsKIMKgIMKgIMKgIMKgIMKgIMKgIGNvbnN0IGVycm9yQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yX2JveCcpOwoKIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChlcnJvckJveCAmJiBlcnJvckJveC5pbm5lclRleHQuaW5jbHVkZXMocmVnaW9uTG9ja01lc3NhZ2UpKSB7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBoYW5kbGVDb21wbGV4QnlwYXNzKCk7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCByZXR1cm47CiDCoCDCoCDCoCDCoCDCoCDCoCB9CiDCoCDCoCDCoCDCoCB9CgogwqAgwqAgwqAgwqAgcnVuVVNFTW9kdWxlcygpOwogwqAgwqAgfSkoKTsKCgogICAgZnVuY3Rpb24gcnVuVVNFTW9kdWxlcygpIHsKICAgIEdNX2FkZFN0eWxlKCcuYmFubmVyX29wZW5faW5fc3RlYW0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICAgIGFkZEluY29nbml0b0J1dHRvbigpOwogICAgY29uc3Qgc2NyaXB0c0NvbmZpZyA9IHsKICAgICAgICAvLyDQntGB0L3QvtCy0L3Ri9C1INGB0LrRgNC40L/RgtGLCiAgICAgICAgZ2FtZVBhZ2U6IHRydWUsIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAo0LjQvdC00LjQutCw0YLQvtGA0Ysg0L4g0L3QsNC70LjRh9C40Lgg0YDRg9GB0YHQutC+0LPQviDQv9C10YDQtdCy0L7QtNCwOyDQv9C+0LvRg9GH0LXQvdC40LUg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvRhSDQvtCx0LfQvtGA0L7QsikgfCBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyoKICAgICAgICBobHRiRGF0YTogdHJ1ZSwgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdGC0YDQsNC90LjRhtGLINC40LPRgNGLIChITFRCOyDQv9C+0LvRg9GH0LXQvdC40LUg0YHQstC10LTQtdC90LjQuSDQviDQstGA0LXQvNC10L3QuCDQv9GA0L7RhdC+0LbQtNC10L3QuNGPKSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgICAgIGZyaWVuZHNQbGF5dGltZTogdHJ1ZSwgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdGC0YDQsNC90LjRhtGLINC40LPRgNGLICjQktGA0LXQvNGPINC00YDRg9C30LXQuSAmINCU0L7RgdGC0LjQttC10L3QuNGPKSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgICAgIGVhcmx5YWNjZGF0YTogdHJ1ZSwgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdGC0YDQsNC90LjRhtGLINC40LPRgNGLICjQoNCw0L3QvdC40Lkg0LTQvtGB0YLRg9C/KSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgICAgIHpvZ0luZm86IHRydWUsIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAoWk9HOyDQv9C+0LvRg9GH0LXQvdC40LUg0YHQstC10LTQtdC90LjQtSDQviDQvdCw0LvQuNGH0LjQuCDRgNGD0YHQuNGE0LjQutCw0YLQvtGA0L7QsikgfCBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyoKICAgICAgICBwbGF0aVNhbGVzOiB0cnVlLCAvLyDQodC60YDQuNC/0YIg0LTQu9GPINGB0YLRgNCw0L3QuNGG0Ysg0LjQs9GA0YsgKFBsYXRpOyDQvtGC0L7QsdGA0LDQttC10L3QuNC1INGG0LXQvSDRgSBQbGF0aS5NYXJrZXQpIHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8qCiAgICAgICAgc2FsZXNNYXN0ZXI6IHRydWUsIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAoJTsg0LDQs9GA0LXQs9Cw0YLQvtGAINGG0LXQvSDQuNC3INGA0LDQt9C90YvRhSDQvNCw0LPQsNC30LjQvdC+0LIpIHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8qCiAgICAgICAgcGFnZUdpZnRIZWxwZXI6IHRydWUsIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiywg0LTQu9GPINC/0YDQvtCy0LXRgNC60Lgg0LLQvtC30LzQvtC20L3QvtGB0YLQuCDQvtGC0L/RgNCw0LLQutC4INC/0L7QtNCw0YDQutCwINC00YDRg9C30YzRj9C8INCyINC00YDRg9Cz0LjRhSDRgdGC0YDQsNC90LDRhSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgICAgIGNhdGFsb2dJbmZvOiB0cnVlLCAvLyDQodC60YDQuNC/0YIg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QvtC5INC40L3RhNC+0YDQvNCw0YbQuNC4INC+0LEg0LjQs9GA0LUg0L/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvdCwINC90LXRkSDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0L/QvtC40YHQutCwINC/0L4g0LrQsNGC0LDQu9C+0LPRgyB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9zZWFyY2gvCiAgICAgICAgY2F0YWxvZ0hpZGVyOiBmYWxzZSwgLy8g0KHQutGA0LjQv9GCINGB0LrRgNGL0YLQuNGPINC40LPRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0L/QvtC40YHQutCwINC/0L4g0LrQsNGC0LDQu9C+0LPRgyB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9zZWFyY2gvCiAgICAgICAgbmV3c0ZpbHRlcjogdHJ1ZSwgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdC60YDRi9GC0LjRjyDQvdC+0LLQvtGB0YLQtdC5INCyINC90L7QstC+0YHRgtC90L7QvCDRhtC10L3RgtGA0LU6IHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL25ld3MvCiAgICAgICAgS2F6bmFjaGVpOiB0cnVlLCAvLyDQodC60YDQuNC/0YIg0LTQu9GPINC/0L7QutCw0LfQsCDQs9C+0LTQvtCy0YvRhSDQuCDQuNGB0YLQvtGA0LjRh9C10YHQutC40YUg0L/RgNC+0LTQsNC2INC/0YDQtdC00LzQtdGC0LAg0L3QsCDRgtC+0YDQs9C+0LLQvtC5INC/0LvQvtGJ0LDQtNC60LUgU3RlYW0gfCBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9tYXJrZXQvbGlzdGluZ3MvKgogICAgICAgIGhvbWVJbmZvOiB0cnVlLCAvLyDQodC60YDQuNC/0YIg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QvtC5INC40L3RhNC+0YDQvNCw0YbQuNC4INC+0LEg0LjQs9GA0LUg0L/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvdCwINC90LXRkSDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LLQsNGI0LXQuSDQsNC60YLQuNCy0L3QvtGB0YLQuCBTdGVhbSB8IGh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL215LwogICAgICAgIHN0ZWxpY2FzUm91bGV0dGU6IHRydWUsIC8v0KHQutGA0LjQv9GCINC00LvRjyDQstGL0LHQvtGA0LAg0YHQu9GD0YfQsNC50L3QvtC5INC40LPRgNGLINC40Lcg0LLQsNGI0LjRhSDQutC+0LvQu9C10LrRhtC40Lkg0YEg0L/QvtC80L7RidGM0Y4gU3RlbGljYXMg0Lgg0YDRg9C70LXRgtC60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtC1INCy0LDRiNC10Lkg0LDQutGC0LjQstC90L7RgdGC0LggU3RlYW0gfCBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9teS8KICAgICAgICBTbGVkaWxrYTogdHJ1ZSwgLy8g0KHQutGA0LjQv9GCINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0YPQstC10LTQvtC80LvQtdC90LjQuSDQvtCxINC40LfQvNC10L3QtdC90LjQuCDQtNCw0YIv0YHRgtCw0YLRg9GB0LAg0LjQs9GAICjQstC40YjQu9C40YHRgi/QsdC40LHQu9C40L7RgtC10LrQsCkg0Lgg0L/QvtC60LDQt9CwINC60LDQu9C10L3QtNCw0YDRjyDRgNC10LvQuNC30L7QsiB8INCT0LvQvtCx0LDQu9GM0L3QvgogICAgICAgIHdpc2hsaXN0R2lmdEhlbHBlcjogdHJ1ZSwgLy8g0KHQutGA0LjQv9GCINC00LvRjyDQv9GA0L7QstC10YDQutC4INCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0L7RgtC/0YDQsNCy0LrQuCDQv9C+0LTQsNGA0LrQsCDQuNC3INGB0L/QuNGB0LrQsCDQttC10LvQsNC10LzQvtCz0L4g0LTRgNGD0LfRjNGP0Lwg0LIg0LTRgNGD0LPQuNGFINGB0YLRgNCw0L3QsNGFIHwgaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vbXkvd2lzaGxpc3QvCiAgICAgICAgUnVSZWdpb25hbFByaWNlQW5hbHl6ZXI6IHRydWUsIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAo0JDQvdCw0LvQuNC30LDRgtC+0YAg0YbQtdC9OyDRhtC10L3QsCDQoNCkIHZzINGA0LXQutC+0LzQtdC90LTQvtCy0LDQvdC90LDRjzsg0YDQtdC50YLQuNC90LMg0YbQtdC9KSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgICAgIC8vINCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0L3QsNGB0YLRgNC+0LnQutC4CiAgICAgICAgYXV0b0V4cGFuZEhsdGI6IGZhbHNlLCAvLyDQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDRgNCw0YHQutGA0YvQstCw0YLRjCDRgdC/0L7QudC70LXRgCBITFRCCiAgICAgICAgYXV0b0xvYWRSZXZpZXdzOiBmYWxzZSwgLy8g0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0LfQsNCz0YDRg9C20LDRgtGMINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0L7QsdC30L7RgNGLCiAgICAgICAgdG9nZ2xlRW5nbGlzaExhbmdJbmZvOiBmYWxzZSAvLyDQntGC0L7QsdGA0LDQttCw0LXRgiDQtNCw0L3QvdGL0LUg0L7QsSDQsNC90LPQu9C40LnRgdC60L7QvCDRj9C30YvQutC1INCyINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/RgNC4INC/0L7QuNGB0LrQtSDQv9C+INC60LDRgtCw0LvQvtCz0YMg0Lgg0LIg0LDQutGC0LjQstC90L7RgdGC0LggKNGE0YPQvdC60YbQuNGPINC00LvRjyDQv9C10YDQtdCy0L7QtNGH0LjQutC+0LIpCiAgICB9OwoKCiAgICAvKiAtLS0g0JrQvtC0INC00LvRjyDQvdCw0YHRgtGA0L7QtdC6IFUuUy5FLiAtLS0gKi8KCWNvbnN0IHVzZURlZmF1bHRTZXR0aW5ncyA9IHsKCSAgICBnYW1lUGFnZTogdHJ1ZSwgaGx0YkRhdGE6IHRydWUsIGZyaWVuZHNQbGF5dGltZTogdHJ1ZSwgZWFybHlhY2NkYXRhOiB0cnVlLCB6b2dJbmZvOiB0cnVlLCBwYWdlR2lmdEhlbHBlcjogdHJ1ZSwKCSAgICBwbGF0aVNhbGVzOiB0cnVlLCBzYWxlc01hc3RlcjogdHJ1ZSwgY2F0YWxvZ0luZm86IHRydWUsIGNhdGFsb2dIaWRlcjogZmFsc2UsIG5ld3NGaWx0ZXI6IHRydWUsCgkgICAgS2F6bmFjaGVpOiB0cnVlLCBob21lSW5mbzogdHJ1ZSwgU2xlZGlsa2E6IHRydWUsIHdpc2hsaXN0R2lmdEhlbHBlcjogdHJ1ZSwgc3RlbGljYXNSb3VsZXR0ZTogdHJ1ZSwgUnVSZWdpb25hbFByaWNlQW5hbHl6ZXI6IHRydWUsCgkgICAgYXV0b0V4cGFuZEhsdGI6IGZhbHNlLCBhdXRvTG9hZFJldmlld3M6IGZhbHNlLCB0b2dnbGVFbmdsaXNoTGFuZ0luZm86IGZhbHNlLAogICAgICAgIGluY29nbml0b01vZGVFbmFibGVkOiB0cnVlLCBzaG93SW5jb2duaXRvQnV0dG9uOiBmYWxzZSwgaW5jb2duaXRvRGVmYXVsdFJlZ2lvbjogJ1VTJwoJfTsKCiAgICBjb25zdCB1c2VJbmNvZ25pdG9SZWdpb25zID0gewogICAgICAgICdBVSc6IHsgbmFtZTogJ9CQ0LLRgdGC0YDQsNC70LjQudGB0LrQuNC5INC00L7Qu9C70LDRgCcgfSwKICAgICAgICAnQlInOiB7IG5hbWU6ICfQkdGA0LDQt9C40LvRjNGB0LrQuNC5INGA0LXQsNC7JyB9LAogICAgICAgICdHQic6IHsgbmFtZTogJ9CR0YDQuNGC0LDQvdGB0LrQuNC5INGE0YPQvdGCJyB9LAogICAgICAgICdWTic6IHsgbmFtZTogJ9CS0YzQtdGC0L3QsNC80YHQutC40Lkg0LTQvtC90LMnIH0sCiAgICAgICAgJ0hLJzogeyBuYW1lOiAn0JPQvtC90LrQvtC90LPRgdC60LjQuSDQtNC+0LvQu9Cw0YAnIH0sCiAgICAgICAgJ0FFJzogeyBuYW1lOiAn0JTQuNGA0YXQsNC8INCe0JDQrScgfSwKICAgICAgICAnVVMnOiB7IG5hbWU6ICfQlNC+0LvQu9Cw0YAg0KHQqNCQJyB9LAogICAgICAgICdFVSc6IHsgbmFtZTogJ9CV0LLRgNC+JyB9LAogICAgICAgICdJTCc6IHsgbmFtZTogJ9CY0LfRgNCw0LjQu9GM0YHQutC40Lkg0L3QvtCy0YvQuSDRiNC10LrQtdC70YwnIH0sCiAgICAgICAgJ0lOJzogeyBuYW1lOiAn0JjQvdC00LjQudGB0LrQsNGPINGA0YPQv9C40Y8nIH0sCiAgICAgICAgJ0lEJzogeyBuYW1lOiAn0JjQvdC00L7QvdC10LfQuNC50YHQutCw0Y8g0YDRg9C/0LjRjycgfSwKICAgICAgICAnS1onOiB7IG5hbWU6ICfQmtCw0LfQsNGF0YHRgtCw0L3RgdC60LjQuSDRgtC10L3Qs9C1JyB9LAogICAgICAgICdDQSc6IHsgbmFtZTogJ9Ca0LDQvdCw0LTRgdC60LjQuSDQtNC+0LvQu9Cw0YAnIH0sCiAgICAgICAgJ1FBJzogeyBuYW1lOiAn0JrQsNGC0LDRgNGB0LrQuNC5INGA0LjQsNC7JyB9LAogICAgICAgICdDTic6IHsgbmFtZTogJ9Ca0LjRgtCw0LnRgdC60LjQuSDRjtCw0L3RjCcgfSwKICAgICAgICAnQ08nOiB7IG5hbWU6ICfQmtC+0LvRg9C80LHQuNC50YHQutC+0LUg0L/QtdGB0L4nIH0sCiAgICAgICAgJ0NSJzogeyBuYW1lOiAn0JrQvtGB0YLQsC3RgNC40LrQsNC90YHQutC40Lkg0LrQvtC70L7QvScgfSwKICAgICAgICAnS1cnOiB7IG5hbWU6ICfQmtGD0LLQtdC50YLRgdC60LjQuSDQtNC40L3QsNGAJyB9LAogICAgICAgICdBUic6IHsgbmFtZTogJ9Cb0LDRgi4g0JDQvC4gLSDQlNC+0LvQu9Cw0YAg0KHQqNCQJyB9LAogICAgICAgICdNWSc6IHsgbmFtZTogJ9Cc0LDQu9Cw0LfQuNC50YHQutC40Lkg0YDQuNC90LPQs9C40YInIH0sCiAgICAgICAgJ1RSJzogeyBuYW1lOiAnTUVOQSAtINCU0L7Qu9C70LDRgCDQodCo0JAnIH0sCiAgICAgICAgJ01YJzogeyBuYW1lOiAn0JzQtdC60YHQuNC60LDQvdGB0LrQvtC1INC/0LXRgdC+JyB9LAogICAgICAgICdOWic6IHsgbmFtZTogJ9Cd0L7QstC+0LfQtdC70LDQvdC00YHQutC40Lkg0LTQvtC70LvQsNGAJyB9LAogICAgICAgICdOTyc6IHsgbmFtZTogJ9Cd0L7RgNCy0LXQttGB0LrQsNGPINC60YDQvtC90LAnIH0sCiAgICAgICAgJ1BFJzogeyBuYW1lOiAn0J/QtdGA0YPQsNC90YHQutC40Lkg0YHQvtC70YwnIH0sCiAgICAgICAgJ1BMJzogeyBuYW1lOiAn0J/QvtC70YzRgdC60LjQuSDQt9C70L7RgtGL0LknIH0sCiAgICAgICAgJ1JVJzogeyBuYW1lOiAn0KDQvtGB0YHQuNC50YHQutC40Lkg0YDRg9Cx0LvRjCcgfSwKICAgICAgICAnU0EnOiB7IG5hbWU6ICfQodCw0YPQtNC+0LLRgdC60LjQuSDRgNC40LDQuycgfSwKICAgICAgICAnU0cnOiB7IG5hbWU6ICfQodC40L3Qs9Cw0L/Rg9GA0YHQutC40Lkg0LTQvtC70LvQsNGAJyB9LAogICAgICAgICdBWic6IHsgbmFtZTogJ9Ch0J3QkyAtINCU0L7Qu9C70LDRgCDQodCo0JAnIH0sCiAgICAgICAgJ1RXJzogeyBuYW1lOiAn0KLQsNC50LLQsNC90YzRgdC60LjQuSDQtNC+0LvQu9Cw0YAnIH0sCiAgICAgICAgJ1RIJzogeyBuYW1lOiAn0KLQsNC50YHQutC40Lkg0LHQsNGCJyB9LAogICAgICAgICdVQSc6IHsgbmFtZTogJ9Cj0LrRgNCw0LjQvdGB0LrQsNGPINCz0YDQuNCy0L3QsCcgfSwKICAgICAgICAnVVknOiB7IG5hbWU6ICfQo9GA0YPQs9Cy0LDQudGB0LrQvtC1INC/0LXRgdC+JyB9LAogICAgICAgICdQSCc6IHsgbmFtZTogJ9Ck0LjQu9C40L/Qv9C40L3RgdC60L7QtSDQv9C10YHQvicgfSwKICAgICAgICAnQ0wnOiB7IG5hbWU6ICfQp9C40LvQuNC50YHQutC+0LUg0L/QtdGB0L4nIH0sCiAgICAgICAgJ0NIJzogeyBuYW1lOiAn0KjQstC10LnRhtCw0YDRgdC60LjQuSDRhNGA0LDQvdC6JyB9LAogICAgICAgICdQSyc6IHsgbmFtZTogJ9Cu0LYuINCQ0LfQuNGPIC0g0JTQvtC70LvQsNGAINCh0KjQkCcgfSwKICAgICAgICAnWkEnOiB7IG5hbWU6ICfQrtC20L3QvtCw0YTRgNC40LrQsNC90YHQutC40Lkg0YDRjdC90LQnIH0sCiAgICAgICAgJ0tSJzogeyBuYW1lOiAn0K7QttC90L7QutC+0YDQtdC50YHQutCw0Y8g0LLQvtC90LAnIH0sCiAgICAgICAgJ0pQJzogeyBuYW1lOiAn0K/Qv9C+0L3RgdC60LDRjyDQuNC10L3QsCcgfQogICAgfTsKCiAgICBjb25zdCBkZXBlbmRlbnRNb2R1bGVzID0gewogICAgICAgIGdhbWVQYWdlOiBbJ2hsdGJEYXRhJywgJ3pvZ0luZm8nLCAnZnJpZW5kc1BsYXl0aW1lJ10KICAgIH07CgogICAgbGV0IHVzZUN1cnJlbnRTZXR0aW5ncyA9IHsgLi4udXNlRGVmYXVsdFNldHRpbmdzLCAuLi5HTV9nZXRWYWx1ZSgndXNlU2V0dGluZ3MnLCB7fSkgfTsKCiAgICBPYmplY3QuYXNzaWduKHNjcmlwdHNDb25maWcsIHVzZUN1cnJlbnRTZXR0aW5ncyk7CgogICAgLy8gLS0tINCU0LDQvdC90YvQtSDQtNC70Y8g0L3QsNGB0YLRgNC+0LXQujog0LzQtdGC0LrQuCwg0LfQsNCz0L7Qu9C+0LLQutC4LCDQvtC/0LjRgdCw0L3QuNGPINC4INC60LDRgtC10LPQvtGA0LjQuCAtLS0KICAgIGNvbnN0IHNldHRpbmdJbmZvID0gewogICAgICAgIC8vIC0tLSDQodGC0YDQsNC90LjRhtCwINC40LPRgNGLIC0tLQogICAgICAgIGdhbWVQYWdlOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnZ2FtZVBhZ2UnLAogICAgICAgICAgICBsYWJlbDogItCY0L3QtNC40LrQsNGC0L7RgNGLIC8g0JTQvtC/LiDQvtCx0LfQvtGA0YsgLyDQnNC+0L3QuNGC0L7RgCDQvtCx0LfQvtGA0L7QsiIsCiAgICAgICAgICAgIHRpdGxlOiAi0JjQvdC00LjQutCw0YLQvtGA0Ysg0L/QtdGA0LXQstC+0LTQsCwg0LTQvtC/LiDQvtCx0LfQvtGA0Ysg0Lgg0LPQu9C+0LHQsNC70YzQvdGL0Lkg0LzQvtC90LjRgtC+0YAg0L7QsdC30L7RgNC+0LIiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+PC9wPgogICAgICAgICAgICAgICAgPG9sIHN0eWxlPSJtYXJnaW4tbGVmdDogMjBweDsgcGFkZGluZy1sZWZ0OiA1cHg7IGxpc3Qtc3R5bGUtdHlwZTogZGVjaW1hbDsiPgogICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC43ZW07Ij7QntGC0L7QsdGA0LDQttCw0LXRgiDQt9C90LDRh9C60Lgt0LjQvdC00LjQutCw0YLQvtGA0Ysg0L3QsNC70LjRh9C40Y8g0YDRg9GB0YHQutC+0LPQviDRj9C30YvQutCwICjQuNC90YLQtdGA0YTQtdC50YEsINC+0LfQstGD0YfQutCwLCDRgdGD0LHRgtC40YLRgNGLKSDQv9GA0Y/QvNC+INC90LAg0YHRgtGA0LDQvdC40YbQtSDQuNCz0YDRiy48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC43ZW07Ij7QlNC+0LHQsNCy0LvRj9C10YIg0L/QvtC0INGB0YLQsNC90LTQsNGA0YLQvdGL0LzQuCDQvtCx0LfQvtGA0LDQvNC4INCx0LvQvtC6INGBINGA0LDRgdGI0LjRgNC10L3QvdC+0Lkg0YHRgtCw0YLQuNGB0YLQuNC60L7QuSAo0LfQsNCz0YDRg9C20LDQtdGC0YHRjyDQv9C+INGJ0LXQu9GH0LrRgyDQuNC70Lgg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LgsINC10YHQu9C4INCy0LrQu9GO0YfQtdC90LAg0L7Qv9GG0LjRjyk6CiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCi0L7RgtCw0LvRjNC90YvQtTo8L3N0cm9uZz4g0JLRgdC1INC+0LHQt9C+0YDRiyBTdGVhbSAo0LLQutC70Y7Rh9Cw0Y8g0LDQutGC0LjQstCw0YbQuNC4INC60LvRjtGH0LDQvNC4KS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0JHQtdC30LrQuNGC0LDQudGB0LrQuNC1Ojwvc3Ryb25nPiDQntCx0LfQvtGA0Ysg0LfQsCDQuNGB0LrQu9GO0YfQtdC90LjQtdC8INC90LDQv9C40YHQsNC90L3Ri9GFINC90LAg0LrQuNGC0LDQudGB0LrQvtC8INGP0LfRi9C60LUuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCg0YPRgdGB0LrQuNC1Ojwvc3Ryb25nPiDQotC+0LvRjNC60L4g0L7QsdC30L7RgNGLINC90LAg0YDRg9GB0YHQutC+0Lwg0Y/Qt9GL0LrQtS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vZmNkWmg4Yi5wbmciIGFsdD0i0J/RgNC40LzQtdGAINC40L3QtNC40LrQsNGC0L7RgNC+0LIg0Lgg0L7QsdC30L7RgNC+0LIgMSIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgICAgICAgICAgPGhyIHN0eWxlPSJib3JkZXI6IG5vbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjNDQ0YTUyOyBtYXJnaW46IDEuNWVtIDA7Ij4KICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuN2VtOyI+0JzQvtC00LDQu9GM0L3Ri9C1INC+0LrQvdCwOgogICAgICAgICAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCf0YDQuCDRidC10LvRh9C60LUg0L/QviDRgdGC0YDQvtC60LUgItCg0YPRgdGB0LrQuNC1IiDQvtGC0LrRgNGL0LLQsNC10YLRgdGPINC+0LrQvdC+INGBINCw0LrRgtGD0LDQu9GM0L3Ri9C80LggPHN0cm9uZz7RgNGD0YHRgdC60L7Rj9C30YvRh9C90YvQvNC4INC+0LHQt9C+0YDQsNC80Lg8L3N0cm9uZz4g0LTQu9GPINGN0YLQvtC5INC40LPRgNGLLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vTU9FeUFsTS5wbmciIGFsdD0i0J/RgNC40LzQtdGAINC40L3QtNC40LrQsNGC0L7RgNC+0LIg0Lgg0L7QsdC30L7RgNC+0LIgMiIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIHN0eWxlPSJib3JkZXI6IG5vbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjNDQ0YTUyOyBtYXJnaW46IDEuNWVtIDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J/RgNC4INGJ0LXQu9GH0LrQtSDQv9C+INGB0YLRgNC+0LrQtSAi0KLQvtGC0LDQu9GM0L3Ri9C1IiDQvtGC0LrRgNGL0LLQsNC10YLRgdGPINC+0LrQvdC+IDxzdHJvbmc+ItCT0LvQvtCx0LDQu9GM0L3Ri9C5INC80L7QvdC40YLQvtGAINC+0LHQt9C+0YDQvtCyIjwvc3Ryb25nPi4g0K3RgtC+0YIg0LjQvdGB0YLRgNGD0LzQtdC90YIg0L/QvtC30LLQvtC70Y/QtdGCINGB0L7QsdGA0LDRgtGMICjQv9C+INC60L3QvtC/0LrQtSAi0KHQvtCx0YDQsNGC0YwiKSDQuCDQstC40LfRg9Cw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0YHRgtCw0YLQuNGB0YLQuNC60YMg0L7QsdC30L7RgNC+0LIg0L/QviA8c3Ryb25nPjI3INGP0LfRi9C60LDQvDwvc3Ryb25nPiBTdGVhbS4g0J7QvSDQv9C+0LrQsNC30YvQstCw0LXRgiDRgtCw0LHQu9C40YbRgyDRgSDRgNC10LnRgtC40L3Qs9C+0Lwg0Y/Qt9GL0LrQvtCyINC/0L4g0LrQvtC70LjRh9C10YHRgtCy0YMg0L7QsdC30L7RgNC+0LIg0Lgg0LTQvtC70LUg0LIg0L7QsdGJ0LXQuSDQvNCw0YHRgdC1LCDQsCDRgtCw0LrQttC1INC40L3RgtC10YDQsNC60YLQuNCy0L3Rg9GOINC60YDRg9Cz0L7QstGD0Y4g0LTQuNCw0LPRgNCw0LzQvNGDINC00LvRjyDQvdCw0LPQu9GP0LTQvdC+0LPQviDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tLzJhelZ5QVcucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQuNC90LTQuNC60LDRgtC+0YDQvtCyINC4INC+0LHQt9C+0YDQvtCyIDMiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICA8L29sPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgbWFyZ2luLWJvdHRvbTogMTBweDsgcGFkZGluZzogMTBweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE3OSwgMCwgMC4xKTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3OSwgMCwgMC40KTsgYm9yZGVyLXJhZGl1czogNHB4OyBmb250LXNpemU6IDAuOTVlbTsgbGluZS1oZWlnaHQ6IDEuNDsiPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDAgMCA1cHggMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjRkZCMzAwOyI+4pqg77iPINCS0LDQttC90L7QtSDQt9Cw0LzQtdGH0LDQvdC40LUg0L4g0LfQsNCy0LjRgdC40LzQvtGB0YLRj9GFOjwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogI2M2ZDRkZjsiPtCe0YLQutC70Y7Rh9C10L3QuNC1INGN0YLQvtCz0L4g0LzQvtC00YPQu9GPINC/0YDQuNCy0LXQtNC10YIg0Log0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7QvNGDINC+0YLQutC70Y7Rh9C10L3QuNGOINC40LvQuCDQvdCw0YDRg9GI0LXQvdC40Y4g0LrQvtGA0YDQtdC60YLQvdC+0Lkg0YDQsNCx0L7RgtGLINC80L7QtNGD0LvQtdC5IMKr0JLRgNC10LzRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPIChITFRCKcK7LCDCq9Cg0YPRgdC40YTQuNC60LDRgtC+0YDRiyAoWk9HKcK7INC4IMKr0JLRgNC10LzRjyDQtNGA0YPQt9C10LkgLyDQk9C70L7QsdCw0LvRjNC90YvQtSDQtNC+0YHRgtC40LbQtdC90LjRj8K7LCDRgtCw0Log0LrQsNC6INC+0L3QuCDQutGA0LjRgtC40YfQtdGB0LrQuCDQt9Cw0LLQuNGB0Y/RgiDQvtGCINC10LPQviDRhNGD0L3QutGG0LjQvtC90LDQu9CwINC/0L4g0L7RgtC+0LHRgNCw0LbQtdC90LjRjiDRjdC70LXQvNC10L3RgtC+0LIg0L3QsCDRgdGC0YDQsNC90LjRhtC1INC40LPRgNGLLjwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgCiAgICAgICAgfSwKICAgICAgICBSdVJlZ2lvbmFsUHJpY2VBbmFseXplcjogewogICAgICAgICAgICBjYXRlZ29yeTogJ2dhbWVQYWdlJywKICAgICAgICAgICAgbGFiZWw6ICLQkNC90LDQu9C40LfQsNGC0L7RgCDRhtC10L0iLAogICAgICAgICAgICB0aXRsZTogItCQ0L3QsNC70LjQt9Cw0YLQvtGAINGG0LXQvSIsCiAgICAgICAgICAgIGRldGFpbHM6IGAKICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KfRgtC+INC00LXQu9Cw0LXRgjo8L3N0cm9uZz4g0JTQvtCx0LDQstC70Y/QtdGCINC60L3QvtC/0LrRgyAi0JDQvdCw0LvQuNC30LDRgtC+0YAg0YbQtdC9IiDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LjQs9GA0YsuINCt0YLQvtGCINC40L3RgdGC0YDRg9C80LXQvdGCINC/0L7Qt9Cy0L7Qu9GP0LXRgiDQsNC90LDQu9C40LfQuNGA0L7QstCw0YLRjCDRgNC10LPQuNC+0L3QsNC70YzQvdGL0LUg0YbQtdC90Ysg0LTQstGD0LzRjyDRgdC/0L7RgdC+0LHQsNC80Lg6INCyINGA0YPQsdC70Y/RhSAo0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4pINC4INCyINC00L7Qu9C70LDRgNCw0YUg0KHQqNCQLjwvcD4KCiAgICAgICAgICAgICAgICA8cD7Qn9C+0YHQu9C1INC90LDQttCw0YLQuNGPINC60L3QvtC/0LrQuCAi0KHQsdC+0YAg0LTQsNC90L3Ri9GFIiDQsiDRgdC/0LXRhtC40LDQu9GM0L3QvtC8INC+0LrQvdC1LCDQvNC+0LTRg9C70Ywg0LLRi9C/0L7Qu9C90Y/QtdGCINGB0LvQtdC00YPRjtGJ0LXQtSDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0LLRi9Cx0YDQsNC90L3QvtCz0L4g0YDQtdC20LjQvNCwOjwvcD4KCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBnYXA6IDIwcHg7IG1hcmdpbi10b3A6MTBweDsgbWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDogMTsgcGFkZGluZzoxMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMSk7IGJvcmRlci1yYWRpdXM6NHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0ibWFyZ2luLXRvcDowOyBjb2xvcjogIzY3YzFmNTsiPtCg0LXQttC40Lwg0KDRg9Cx0LvQtdC5ICjQv9C+INGD0LzQvtC70YfQsNC90LjRjik6PC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCe0L/RgNC10LTQtdC70Y/QtdGCIEFwcElEINGC0LXQutGD0YnQtdC5INC40LPRgNGLINC4INC30LDQv9GA0LDRiNC40LLQsNC10YIg0YbQtdC90Ysg0YfQtdGA0LXQtyDQvtGE0LjRhtC40LDQu9GM0L3QvtC1IEFQSSBTdGVhbSAoPGNvZGU+SVN0b3JlQnJvd3NlU2VydmljZS9HZXRJdGVtczwvY29kZT4pINC00LvRjyDQvNC90L7QttC10YHRgtCy0LAg0YDQtdCz0LjQvtC90L7Qsi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCSINC60LDRh9C10YHRgtCy0LUg0LHQsNC30Ysg0LTQu9GPINGA0LDRgdGH0LXRgtCwIDxzdHJvbmc+0YDQtdC60L7QvNC10L3QtNC+0LLQsNC90L3QvtC5INGA0YPQsdC70LXQstC+0Lkg0YbQtdC90Ys8L3N0cm9uZz4g0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINGG0LXQvdCwINCyINCh0KjQkCAoVVNEKS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCm0LXQvdGLINC40Lcg0LLRgdC10YUg0YDQtdCz0LjQvtC90L7Qsiwg0LLQutC70Y7Rh9Cw0Y8g0KDQvtGB0YHQuNGOLCA8c3Ryb25nPtC60L7QvdCy0LXRgNGC0LjRgNGD0Y7RgtGB0Y8g0LIg0YDRg9Cx0LvQuDwvc3Ryb25nPiDQv9C+INCw0LrRgtGD0LDQu9GM0L3Ri9C8INC+0LHQvNC10L3QvdGL0Lwg0LrRg9GA0YHQsNC8INC00LvRjyDQv9GA0Y/QvNC+0LPQviDRgdC+0L/QvtGB0YLQsNCy0LvQtdC90LjRjy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCf0YDQvtC40LfQstC+0LTQuNGC0YHRjyDQutC70Y7Rh9C10LLQvtC1INGB0YDQsNCy0L3QtdC90LjQtTog0YTQsNC60YLQuNGH0LXRgdC60LDRjyDRhtC10L3QsCDQsiDRgNC+0YHRgdC40LnRgdC60L7QvCBTdGVhbSDRgdC+0L/QvtGB0YLQsNCy0LvRj9C10YLRgdGPINGBIDxzdHJvbmc+0L7RhNC40YbQuNCw0LvRjNC90L4g0YDQtdC60L7QvNC10L3QtNC+0LLQsNC90L3QvtC5IFZhbHZlINGG0LXQvdC+0Lkg0LTQu9GPINCg0L7RgdGB0LjQuDwvc3Ryb25nPi4g0J7RgtC60LvQvtC90LXQvdC40Y8g0L/QvtC00YHQstC10YfQuNCy0LDRjtGC0YHRjy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCe0YLQvtCx0YDQsNC20LDQtdGC0YHRjyA8c3Ryb25nPtGA0LXQudGC0LjQvdCzINGA0L7RgdGB0LjQudGB0LrQvtC5INGG0LXQvdGLPC9zdHJvbmc+INGB0YDQtdC00Lgg0LLRgdC10YUg0L/RgNC+0LDQvdCw0LvQuNC30LjRgNC+0LLQsNC90L3Ri9GFINGB0YLRgNCw0L0sINC/0L7Qt9Cy0L7Qu9GP0Y8g0YPQstC40LTQtdGC0Ywg0LXRkSDQvNC10YHRgtC+INC+0YIg0YHQsNC80L7QuSDQtNC10YjRkdCy0L7QuSDQuiDRgdCw0LzQvtC5INC00L7RgNC+0LPQvtC5INCyINGA0YPQsdC70LXQstC+0Lwg0Y3QutCy0LjQstCw0LvQtdC90YLQtS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6IDE7IHBhZGRpbmc6MTBweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjEpOyBib3JkZXItcmFkaXVzOjRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9Im1hcmdpbi10b3A6MDsgY29sb3I6ICM2N2MxZjU7Ij7QoNC10LbQuNC8INCU0L7Qu9C70LDRgNC+0LIg0KHQqNCQICjQv9C10YDQtdC60LvRjtGH0LDQtdC80YvQuSk6PC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCQ0LrRgtC40LLQuNGA0YPQtdGC0YHRjyDQutC90L7Qv9C60L7QuSAiVVNEIiDQsiDQvtC60L3QtSDQsNC90LDQu9C40LfQsNGC0L7RgNCwLiDQmNC90YLQtdGA0YTQtdC50YEg0Lgg0L3QsNC30LLQsNC90LjRjyDQstCw0LvRjtGCIDxzdHJvbmc+0L/QtdGA0LXQutC70Y7Rh9Cw0Y7RgtGB0Y8g0L3QsCDQsNC90LPQu9C40LnRgdC60LjQuSDRj9C30YvQujwvc3Ryb25nPi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCm0LXQvdGLINCy0YHQtdGFINGA0LXQs9C40L7QvdC+0LIg0YLQsNC60LbQtSDQt9Cw0L/RgNCw0YjQuNCy0LDRjtGC0YHRjyDRh9C10YDQtdC3IEFQSSBTdGVhbSDQuCA8c3Ryb25nPtC60L7QvdCy0LXRgNGC0LjRgNGD0Y7RgtGB0Y8g0LIg0LTQvtC70LvQsNGA0Ysg0KHQqNCQPC9zdHJvbmc+LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0KbQtdC90LAg0LIg0KHQqNCQINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQutCw0LogPHN0cm9uZz7QsdCw0LfQvtCy0YvQuSDQvtGA0LjQtdC90YLQuNGAICgxMDAlKTwvc3Ryb25nPiDQtNC70Y8g0YHRgNCw0LLQvdC10L3QuNGPLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J7RgtC+0LHRgNCw0LbQsNC10YLRgdGPIDxzdHJvbmc+0L/RgNC+0YbQtdC90YLQvdC+0LUg0L7RgtC60LvQvtC90LXQvdC40LU8L3N0cm9uZz4g0YbQtdC9INC00YDRg9Cz0LjRhSDRgNC10LPQuNC+0L3QvtCyINC+0YIg0YbQtdC90Ysg0LIg0KHQqNCQLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J/RgNC10LTRgdGC0LDQstC70Y/QtdGC0YHRjyDQvtCx0YnQuNC5INGA0LXQudGC0LjQvdCzINCy0YHQtdGFINGA0LXQs9C40L7QvdCw0LvRjNC90YvRhSDRhtC10L0g0LIg0LTQvtC70LvQsNGA0L7QstC+0Lwg0Y3QutCy0LjQstCw0LvQtdC90YLQtS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCt0YLQvtGCINGA0LXQttC40Lwg0L/QvtC70LXQt9C10L0g0LTQu9GPINC+0YbQtdC90LrQuCDRhtC10L3QvtCy0L7QuSDQv9C+0LvQuNGC0LjQutC4INC/0YDQuCDQvtCx0YnQtdC90LjQuCDRgSDRgNCw0LfRgNCw0LHQvtGC0YfQuNC60LDQvNC4L9C40LfQtNCw0YLQtdC70Y/QvNC4LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8cD7QkiDQvtCx0L7QuNGFINGA0LXQttC40LzQsNGFLCDQtdGB0LvQuCDQuNCz0YDQsCDQsiDQodCo0JAg0LHQtdGB0L/Qu9Cw0YLQvdCwINC40LvQuCDRhtC10L3QsCDQvdC1INC90LDQudC00LXQvdCwLCDQstC+0LfQvNC+0LbQvdC+0YHRgtC4INCw0L3QsNC70LjQt9CwINC80L7Qs9GD0YIg0LHRi9GC0Ywg0L7Qs9GA0LDQvdC40YfQtdC90YsuINCS0YHRjyDRgdC+0LHRgNCw0L3QvdCw0Y8g0LjQvdGE0L7RgNC80LDRhtC40Y8g0L/RgNC10LTRgdGC0LDQstC70Y/QtdGC0YHRjyDQsiDQvNC+0LTQsNC70YzQvdC+0Lwg0L7QutC90LUuPC9wPgoKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDE1cHg7IHBhZGRpbmc6IDEwcHg7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAzLCAxOTMsIDI0NSwgMC4xKTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjM1KTsgYm9yZGVyLXJhZGl1czogNHB4OyBmb250LXNpemU6IDAuOTVlbTsgbGluZS1oZWlnaHQ6IDEuNDsiPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDAgMCA1cHggMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjdjMWY1OyI+4pqg77iPINCS0LDQttC90LDRjyDQuNC90YTQvtGA0LzQsNGG0LjRjzo8L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICNjNmQ0ZGY7Ij7QmtCw0LbQtNGL0Lkg0L/QvtC70L3Ri9C5INGB0LHQvtGAINC00LDQvdC90YvRhSDQv9C+0LTRgNCw0LfRg9C80LXQstCw0LXRgiDQvtGC0L/RgNCw0LLQutGDIDxzdHJvbmc+fjQxINC30LDQv9GA0L7RgdCwPC9zdHJvbmc+INC6INGB0LXRgNCy0LXRgNCw0LwgU3RlYW0gKNC60L7Qu9C40YfQtdGB0YLQstC+INC30LDQstC40YHQuNGCINC+0YIg0YfQuNGB0LvQsCDQtNC+0YHRgtGD0L/QvdGL0YUg0YDQtdCz0LjQvtC90L7QsikuINCf0L7QttCw0LvRg9C50YHRgtCwLCDQuNGB0L/QvtC70YzQt9GD0LnRgtC1INGN0YLRgyDRhNGD0L3QutGG0LjRjiDQvtCx0LTRg9C80LDQvdC90L4uINCn0LDRgdGC0L7QtSDQvdCw0LbQsNGC0LjQtSDQutC90L7Qv9C60Lgg0L3QsCDRgNCw0LfQvdGL0YUg0LjQs9GA0LDRhSDQsiDRgtC10YfQtdC90LjQtSDQutC+0YDQvtGC0LrQvtCz0L4g0L/QtdGA0LjQvtC00LAg0LLRgNC10LzQtdC90Lgg0LzQvtC20LXRgiDQv9GA0LjQstC10YHRgtC4INC6INCy0YDQtdC80LXQvdC90L7QvNGDINC+0LPRgNCw0L3QuNGH0LXQvdC40Y4g0LTQvtGB0YLRg9C/0LAg0LogQVBJIFN0ZWFtICjQvtCx0YvRh9C90L4g0L3QsCA1LTE1INC80LjQvdGD0YIpLjwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vT3plYnZhQS5wbmciIGFsdD0i0J/RgNC40LzQtdGAINC40L3RgtC10YDRhNC10LnRgdCwINCw0L3QsNC70LjQt9Cw0YLQvtGA0LAg0YbQtdC9IiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgYAogICAgICAgIH0sCiAgICAgICAgaGx0YkRhdGE6IHsKICAgICAgICAgICAgY2F0ZWdvcnk6ICdnYW1lUGFnZScsCiAgICAgICAgICAgIGxhYmVsOiAi0JLRgNC10LzRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPIChITFRCKSIsCiAgICAgICAgICAgIHRpdGxlOiAi0JLRgNC10LzRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPIEhMVEIiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQutC+0LzQv9Cw0LrRgtC90YvQuSDQsdC70L7QuiDRgSDQuNC90YTQvtGA0LzQsNGG0LjQtdC5INC+INCy0YDQtdC80LXQvdC4INC/0YDQvtGF0L7QttC00LXQvdC40Y8g0LjQs9GA0YssINC/0L7Qu9GD0YfQtdC90L3QvtC5INGBINC/0L7Qv9GD0LvRj9GA0L3QvtCz0L4g0YHQsNC50YLQsCBIb3dMb25nVG9CZWF0LmNvbS48L3A+CiAgICAgICAgICAgICAgICA8cD7Qn9C+0LrQsNC30YvQstCw0LXRgiDRgdGA0LXQtNC90LXQtSDQstGA0LXQvNGPINC00LvRjyDRgNCw0LfQvdGL0YUg0YHRgtC40LvQtdC5OjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0KLQvtC70YzQutC+INC+0YHQvdC+0LLQvdC+0Lkg0YHRjtC20LXRgi48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QodGO0LbQtdGCICsg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDQt9Cw0LTQsNC90LjRjy48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7Qn9C+0LvQvdC+0LUg0L/RgNC+0YXQvtC20LTQtdC90LjQtSAoMTAwJSkuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KPRgdGA0LXQtNC90LXQvdC90L7QtSDQstGA0LXQvNGPINC00LvRjyDQstGB0LXRhSDRgdGC0LjQu9C10LkuPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8cD7QoNGP0LTQvtC8INGB0L4g0LLRgNC10LzQtdC90LXQvCDRg9C60LDQt9GL0LLQsNC10YLRgdGPINC60L7Qu9C40YfQtdGB0YLQstC+INC40LPRgNC+0LrQvtCyLCDQvdCwINGH0YzQuNGFINC00LDQvdC90YvRhSDQvtGB0L3QvtCy0LDQvdCwINGB0YLQsNGC0LjRgdGC0LjQutCwLiDQn9C+0LjRgdC6INC40LPRgNGLINCyINCx0LDQt9C1IEhMVEIg0LjQtNC10YIg0L/QviDQvdCw0LfQstCw0L3QuNGOLCDQv9GA0Lgg0L3QtdC+0LTQvdC+0LfQvdCw0YfQvdC+0YHRgtC4INC/0YDQtdC00LvQsNCz0LDQtdGC0YHRjyDQstGL0LHQvtGAINC40Lcg0L/QvtGF0L7QttC40YUg0LLQsNGA0LjQsNC90YLQvtCyLjwvcD4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tLzZ0Z3hBMnMucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCBITFRCIDEiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICBgCiAgICAgICAgfSwKICAgICAgICBwbGF0aVNhbGVzOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnZ2FtZVBhZ2UnLAogICAgICAgICAgICBsYWJlbDogItCf0L7QuNGB0Log0YbQtdC9IFBsYXRpLk1hcmtldCIsCiAgICAgICAgICAgIHRpdGxlOiAi0J/QvtC40YHQuiDRhtC10L0g0L3QsCBQbGF0aS5NYXJrZXQiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQutC90L7Qv9C60YMgIlBsYXRpIiDRgNGP0LTQvtC8INGBINC60L3QvtC/0LrQvtC5ICLQkiDQttC10LvQsNC10LzQvtC1IiDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LjQs9GA0YsuINCd0LDQttCw0YLQuNC1INC+0YLQutGA0YvQstCw0LXRgiDQv9C+0LvQvdC+0Y3QutGA0LDQvdC90L7QtSDQvtC60L3QviDQtNC70Y8g0L/QvtC40YHQutCwINC/0YDQtdC00LvQvtC20LXQvdC40Lkg0L/QviDRjdGC0L7QuSDQuNCz0YDQtSDQvdCwINGC0L7RgNCz0L7QstC+0Lkg0L/Qu9C+0YnQsNC00LrQtSBQbGF0aS5NYXJrZXQuPC9wPgogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7QktC+0LfQvNC+0LbQvdC+0YHRgtC4INC+0LrQvdCwINC/0L7QuNGB0LrQsDo8L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCQ0LLRgtC+0LfQsNC/0L7Qu9C90LXQvdC40LUg0L/QvtC40YHQutCwINC90LDQt9Cy0LDQvdC40LXQvCDRgtC10LrRg9GJ0LXQuSDQuNCz0YDRiy48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QoNGD0YfQvdC+0Lkg0LLQstC+0LQg0Lgg0L/QvtC40YHQui48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7Qn9C+0LTRgdC60LDQt9C60Lgg0L/RgNC4INCy0LLQvtC00LUgKEFQSSBQbGF0aSkuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KHQvtGA0YLQuNGA0L7QstC60LAg0L/QviDRhtC10L3QtSwg0L/RgNC+0LTQsNC20LDQvCwg0YDQtdC70LXQstCw0L3RgtC90L7RgdGC0LgsINC90LDQt9Cy0LDQvdC40Y4sINC00LDRgtC1LCDRgNC10LnRgtC40L3Qs9GDINC/0YDQvtC00LDQstGG0LAg0Lgg0LTRgC48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QpNC40LvRjNGC0YDQsNGG0LjRjyDQv9C+INGG0LXQvdC1IChSVVIsIFVTRCwgRVVSLCBVQUgpLCDQv9GA0L7QtNCw0LbQsNC8LCDRgNC10LnRgtC40L3Qs9GDLCDQvdCw0LvQuNGH0LjRjiDQv9C70L7RhdC40YUg0L7RgtC30YvQstC+0LIv0LLQvtC30LLRgNCw0YLQvtCyLCDRg9GH0LDRgdGC0LjRjiDQsiDRgdC60LjQtNC60LDRhSwg0LTQsNGC0LUg0LTQvtCx0LDQstC70LXQvdC40Y8uPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JjRgdC60LvRjtGH0LXQvdC40LUg0YLQvtCy0LDRgNC+0LIg0L/QviDQutC70Y7Rh9C10LLRi9C8INGB0LvQvtCy0LDQvCAo0L/QsNC90LXQu9GMINGB0L/RgNCw0LLQsCkuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KHQvtGF0YDQsNC90LXQvdC40LUg0YTQuNC70YzRgtGA0L7Qsiwg0YHQvtGA0YLQuNGA0L7QstC60LgsINCy0LDQu9GO0YLRiyDQuCDQuNGB0LrQu9GO0YfQtdC90LjQuS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QktC+0LfQvNC+0LbQvdC+0YHRgtGMINGN0LrRgdC/0L7RgNGC0LjRgNC+0LLQsNGC0Ywg0Lgg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNGC0Ywg0YHQv9C40YHQvtC6INC40YHQutC70Y7Rh9C10L3QuNC5LjwvbGk+CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgIDxwPtCY0YHQv9C+0LvRjNC30YPRjtGC0YHRjyDQvtGE0LjRhtC40LDQu9GM0L3Ri9C1IEFQSSBQbGF0aS5NYXJrZXQuPC9wPgogICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS9seUw4aTVnLnBuZyIgYWx0PSLQmtC90L7Qv9C60LAgUGxhdGkiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vWDVORGg2RC5wbmciIGFsdD0i0J7QutC90L4gUGxhdGkiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICBgCiAgICAgICAgfSwKICAgICAgICB6b2dJbmZvOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnZ2FtZVBhZ2UnLAogICAgICAgICAgICBsYWJlbDogItCg0YPRgdC40YTQuNC60LDRgtC+0YDRiyAoWk9HKSIsCiAgICAgICAgICAgIHRpdGxlOiAi0JjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0L3QsNC70LjRh9C40Lgg0L/QtdGA0LXQstC+0LTQvtCyINGBIFpPRyAoWm9uZU9mR2FtZXMpIiwKICAgICAgICAgICAgZGV0YWlsczogYAogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7Qp9GC0L4g0LTQtdC70LDQtdGCOjwvc3Ryb25nPiDQlNC+0LHQsNCy0LvRj9C10YIg0LHQu9C+0Log0YEg0LjQvdGE0L7RgNC80LDRhtC40LXQuSDQviDQvdCw0LvQuNGH0LjQuCDRgNGD0YHQuNGE0LjQutCw0YLQvtGA0L7QsiDQtNC70Y8g0LjQs9GA0Ysg0L3QsCDRgdCw0LnRgtC1IFpvbmVPZkdhbWVzLnJ1LjwvcD4KICAgICAgICAgICAgICAgIDxwPtCSINCx0LvQvtC60LUg0L7RgtC+0LHRgNCw0LbQsNC10YLRgdGPOjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0J3QsNC30LLQsNC90LjQtSDQuNCz0YDRiyAo0LLQtdC00LXRgiDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LjQs9GA0Ysg0LIg0LHQsNC30LUgWk9HKS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QodC/0LjRgdC+0Log0LTQvtGB0YLRg9C/0L3Ri9GFINGA0YPRgdC40YTQuNC60LDRgtC+0YDQvtCyLiDQmtCw0LbQtNCw0Y8g0LfQsNC/0LjRgdGMINGP0LLQu9GP0LXRgtGB0Y8g0YHRgdGL0LvQutC+0Lkg0L3QsCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0YTQsNC50Lsv0YHRgtGA0LDQvdC40YbRgyDQvdCwIFpPRy48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QldGB0LvQuCDQv9C10YDQtdCy0L7QtNGLINC90LUg0L3QsNC50LTQtdC90YssINCy0YvQstC+0LTQuNGC0YHRjyDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC10LUg0YHQvtC+0LHRidC10L3QuNC1LjwvbGk+CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgPHA+0J/QvtC40YHQuiDQv9GA0L7QuNGB0YXQvtC00LjRgiDQsiA8c3Ryb25nPtGA0LXQsNC70YzQvdC+0Lwg0LLRgNC10LzQtdC90Lg8L3N0cm9uZz4uINCh0LrRgNC40L/RgiDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQvtC/0YDQtdC00LXQu9GP0LXRgiDQvdCw0LfQstCw0L3QuNC1INC40LPRgNGLLCDQstGL0L/QvtC70L3Rj9C10YIg0L/QvtC40YHQuiDQv9C+INCw0LvRhNCw0LLQuNGC0L3QvtC80YMg0YPQutCw0LfQsNGC0LXQu9GOINC90LAgWm9uZU9mR2FtZXMucnUg0Lgg0L/RgNC10LTQu9Cw0LPQsNC10YIg0LLQsNC8INCy0YvQsdGA0LDRgtGMINC90LDQuNCx0L7Qu9C10LUg0YLQvtGH0L3QvtC1INGB0L7QstC/0LDQtNC10L3QuNC1LjwvcD4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL1hnQVZXQXAucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCBaT0cgMjEiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICBgCiAgICAgICAgfSwKICAgICAgICBzYWxlc01hc3RlcjogewogICAgICAgICAgICBjYXRlZ29yeTogJ2dhbWVQYWdlJywKICAgICAgICAgICAgbGFiZWw6ICLQkNCz0YDQtdCz0LDRgtC+0YAg0YbQtdC9ICglKSIsCiAgICAgICAgICAgIHRpdGxlOiAi0JDQs9GA0LXQs9Cw0YLQvtGAINGG0LXQvSAoJSkiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQutC90L7Qv9C60YMgIiUiINGA0Y/QtNC+0Lwg0YEg0LrQvdC+0L/QutC+0LkgItCSINC20LXQu9Cw0LXQvNC+0LUiINC90LAg0YHRgtGA0LDQvdC40YbQtSDQuNCz0YDRiy4g0J3QsNC20LDRgtC40LUg0L7RgtC60YDRi9Cy0LDQtdGCINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDRgSDRhtC10L3QsNC80Lgg0L3QsCDRjdGC0YMg0LjQs9GA0YMg0LjQtyDRgNCw0LfQu9C40YfQvdGL0YUg0YbQuNGE0YDQvtCy0YvRhSDQvNCw0LPQsNC30LjQvdC+0LIuPC9wPgogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7QktC+0LfQvNC+0LbQvdC+0YHRgtC4INC+0LrQvdCwINCw0LPRgNC10LPQsNGC0L7RgNCwOjwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0J7RgtC+0LHRgNCw0LbQtdC90LjQtSDQv9GA0LXQtNC70L7QttC10L3QuNC5INC40Lcg0LzQsNCz0LDQt9C40L3QvtCyOiBTdGVhbUJ1eSwgUGxheW8sIFN0ZWFtUGF5LCBHYWJlc3RvcmUsIEdhbWVyc0Jhc2UsIElncm9tYWdheiwgR2FtZXNGb3JGYXJtLCBHYW1hemF2ciwgR2FtZVJheSwgS3VwaUtvZCwgS2V5c0ZvckdhbWVycywgWmFrYS16YWthLCBCdWthLCBHR1NFTCwgUGxhdGkuTWFya2V0LCBSdXNoYmUg0Lgg0YLQtdC60YPRidC10Lkg0YHRgtGA0LDQvdC40YbRiyBTdGVhbS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7Qn9C10YDQtdC60LvRjtGH0LXQvdC40LUg0LLQsNC70Y7Rgjog0JLQvtC30LzQvtC20L3QvtGB0YLRjCDQv9GA0L7RgdC80L7RgtGA0LAg0LLRgdC10YUg0YbQtdC9INCyINGA0YPQsdC70Y/RhSAoUlVCLCDQv9C+INGD0LzQvtC70YfQsNC90LjRjikg0LjQu9C4INCyINC00L7Qu9C70LDRgNCw0YUg0KHQqNCQIChVU0QpLCDRgSDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQvtC5INC60L7QvdCy0LXRgNGC0LDRhtC40LXQuSDQv9C+INCw0LrRgtGD0LDQu9GM0L3QvtC80YMg0LrRg9GA0YHRgy4g0JLRi9Cx0L7RgCDQstCw0LvRjtGC0Ysg0YHQvtGF0YDQsNC90Y/QtdGC0YHRjy48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QodC+0YDRgtC40YDQvtCy0LrQsCDQv9C+INGG0LXQvdC1LCDQv9GA0L7RhtC10L3RgtGDINGB0LrQuNC00LrQuCwg0YHRg9C80LzQtSDRgdC60LjQtNC60LgsINC90LDQt9Cy0LDQvdC40Y4uPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KTQuNC70YzRgtGA0LDRhtC40Y8g0L/QviDQtNC40LDQv9Cw0LfQvtC90YMg0YbQtdC9LCDQv9GA0L7RhtC10L3RgtGDINC4INGB0YPQvNC80LUg0YHQutC40LTQutC4LCDQvdCw0LvQuNGH0LjRjiDRgdC60LjQtNC60LgsINC90LDQt9Cy0LDQvdC40Y4gKNGB0LvQvtCy0LAg0YfQtdGA0LXQtyAiOyIpLCDQvNCw0LPQsNC30LjQvdCw0LwuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JjRgdC60LvRjtGH0LXQvdC40LUg0YLQvtCy0LDRgNC+0LIg0L/QviDQutC70Y7Rh9C10LLRi9C8INGB0LvQvtCy0LDQvC48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QodC+0YXRgNCw0L3QtdC90LjQtSDRgdC+0YHRgtC+0Y/QvdC40Y8g0YTQuNC70YzRgtGA0L7Qsiwg0YHQvtGA0YLQuNGA0L7QstC60Lgg0Lgg0LjRgdC60LvRjtGH0LXQvdC40LkuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JLQvtC30LzQvtC20L3QvtGB0YLRjCDRjdC60YHQv9C+0YDRgtC40YDQvtCy0LDRgtGMINC4INC40LzQv9C+0YDRgtC40YDQvtCy0LDRgtGMINGB0L/QuNGB0L7QuiDQuNGB0LrQu9GO0YfQtdC90LjQuS48L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICA8cD7QmNGB0L/QvtC70YzQt9GD0LXRgiDRgNCw0LfQu9C40YfQvdGL0LUg0LzQtdGC0L7QtNGLINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0YbQtdC9IChBUEksINC/0LDRgNGB0LjQvdCzIEhUTUwpLjwvcD4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL1Bzcm9jQ3QucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQkNCz0YDQtdCz0LDRgtC+0YDQsCAxIiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL0RjaWRjVGUucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQkNCz0YDQtdCz0LDRgtC+0YDQsCAyIiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgYAogICAgICAgIH0sCiAgICAgICAgZnJpZW5kc1BsYXl0aW1lOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnZ2FtZVBhZ2UnLAogICAgICAgICAgICBsYWJlbDogItCS0YDQtdC80Y8g0LTRgNGD0LfQtdC5IC8g0JPQu9C+0LHQsNC70YzQvdGL0LUg0LTQvtGB0YLQuNC20LXQvdC40Y8iLAogICAgICAgICAgICB0aXRsZTogItCY0L3RhNC+0YDQvNCw0YbQuNGPINC+INCy0YDQtdC80LXQvdC4INC00YDRg9C30LXQuSDQuCDRgdGC0LDRgtC40YHRgtC40LrQtSDQtNC+0YHRgtC40LbQtdC90LjQuSIsCiAgICAgICAgICAgIGRldGFpbHM6IGAKICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KfRgtC+INC00LXQu9Cw0LXRgjo8L3N0cm9uZz4g0JTQvtCx0LDQstC70Y/QtdGCINC90LAg0YHRgtGA0LDQvdC40YbRgyDQuNCz0YDRiyDQtNCy0LAg0L3QtdC30LDQstC40YHQuNC80YvRhSDQsdC70L7QutCwLCDRgNCw0YHRiNC40YDRj9GO0YnQuNGFINC40L3RhNC+0YDQvNCw0YbQuNGOINC+INC00LXQudGB0YLQstC40Y/RhSDQstCw0YjQuNGFINC00YDRg9C30LXQuSDQuCDQs9C70L7QsdCw0LvRjNC90L7QuSDRgdGC0LDRgtC40YHRgtC40LrQtSDQtNC+0YHRgtC40LbQtdC90LjQuS48L3A+CgogICAgICAgICAgICAgICAgPGg0IHN0eWxlPSJjb2xvcjogIzY3YzFmNTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NDRhNTI7IHBhZGRpbmctYm90dG9tOiA1cHg7IG1hcmdpbi10b3A6IDIwcHg7Ij4xLiDQn9C70LDQstCw0Y7RidC40Lkg0LHQu9C+0Log0YHRgtCw0YLQuNGB0YLQuNC60LggKNGDINGI0LDQv9C60Lgg0LjQs9GA0YspPC9oND4KICAgICAgICAgICAgICAgIDxwPtCh0L/RgNCw0LLQsCDQvtGCINC40LfQvtCx0YDQsNC20LXQvdC40Y8g0LjQs9GA0Ysg0L/QvtGP0LLQu9GP0LXRgtGB0Y8g0LrQvtC80L/QsNC60YLQvdGL0Lkg0LfQvdCw0YfQvtC6LCDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDQutC+0YLQvtGA0YvQuSDQt9Cw0LPRgNGD0LbQsNC10YLRgdGPINC4INC+0YLQvtCx0YDQsNC20LDQtdGC0YHRjyDRgdCy0L7QtNC90LDRjyDRgdGC0LDRgtC40YHRgtC40LrQsDo8L3A+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBnYXA6IDIwcHg7IG1hcmdpbi10b3A6MTBweDsgbWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDogMTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCS0YDQtdC80Y8g0LTRgNGD0LfQtdC5Ojwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCc0LDQutGB0LjQvNCw0LvRjNC90L7QtSDQstGA0LXQvNGPINCyINC40LPRgNC1ICjQuCDQvdC40Log0LTRgNGD0LPQsCDRgdC+INGB0YHRi9C70LrQvtC5KS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCh0YDQtdC00L3QtdC1INCy0YDQtdC80Y8gKNGBINGD0LrQsNC30LDQvdC40LXQvCDQutC+0Lst0LLQsCDQtNGA0YPQt9C10LkpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0JzQuNC90LjQvNCw0LvRjNC90L7QtSDQstGA0LXQvNGPINCyINC40LPRgNC1LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDogMTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCT0LvQvtCx0LDQu9GM0L3Ri9C1INC00L7RgdGC0LjQttC10L3QuNGPOjwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCf0YDQvtGG0LXQvdGCICLQv9C70LDRgtC40L3RiyIgKNGB0LDQvNC+0LUg0YDQtdC00LrQvtC1INC00L7RgdGC0LjQttC10L3QuNC1KS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCh0YDQtdC00L3QuNC5INC/0YDQvtCz0YDQtdGB0YEg0LLRi9C/0L7Qu9C90LXQvdC40Y8g0LLRgdC10YUg0LTQvtGB0YLQuNC20LXQvdC40LkuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vOVRhTUNiWi5wbmciIGFsdD0i0J/RgNC40LzQtdGAINCS0YDQtdC80Y8g0LTRgNGD0LfQtdC5IC8g0JDRh9C40LLQutC4IiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KCiAgICAgICAgICAgICAgICA8aHIgc3R5bGU9ImJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM0NDRhNTI7IG1hcmdpbjogMS41ZW0gMDsiPgoKICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0iY29sb3I6ICM2N2MxZjU7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNDQ0YTUyOyBwYWRkaW5nLWJvdHRvbTogNXB4OyBtYXJnaW4tdG9wOiAyMHB4OyI+Mi4g0JjQvdGE0L7RgNC80LDRhtC40L7QvdC90YvQuSDQsdC70L7QuiDQtNGA0YPQt9C10LkgKNCyINC/0YDQsNCy0L7QuSDQutC+0LvQvtC90LrQtSk8L2g0PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTBweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgcGFkZGluZzogMTBweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE3OSwgMCwgMC4xKTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3OSwgMCwgMC40KTsgYm9yZGVyLXJhZGl1czogNHB4OyBmb250LXNpemU6IDAuOTVlbTsgbGluZS1oZWlnaHQ6IDEuNDsiPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDAgMCA1cHggMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjRkZCMzAwOyI+4pqg77iPINCS0LDQttC90L7QtSDQv9GA0LjQvNC10YfQsNC90LjQtTo8L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICNjNmQ0ZGY7Ij7QrdGC0L7RgiDQsdC70L7QuiDQv9C+0Y/QstC70Y/QtdGC0YHRjyDRgtC+0LvRjNC60L4g0LIg0YLQvtC8INGB0LvRg9GH0LDQtSwg0LXRgdC70LggU3RlYW0g0L3QtSDQvtGC0L7QsdGA0LDQttCw0LXRgiDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0YHRgtCw0L3QtNCw0YDRgtC90YvQuSDQsdC70L7QuiDRgSDRgNC10LrQvtC80LXQvdC00LDRhtC40Y/QvNC4INC00YDRg9C30LXQuSAo0L3QsNC/0YDQuNC80LXRgCwg0L3QsCDRgdGC0YDQsNC90LjRhtCw0YUsINC+0YLQutGA0YvRgtGL0YUg0YEg0L/QvtC80L7RidGM0Y4g0LLQuNGA0YLRg9Cw0LvRjNC90L7Qs9C+INGA0LXQttC40LzQsCDQuNC90LrQvtCz0L3QuNGC0L4pLjwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHA+0KHQutGA0LjQv9GCINC00L7QsdCw0LLQu9GP0LXRgiDQsiDQv9GA0LDQstGD0Y4g0LrQvtC70L7QvdC60YMg0L/QvtC00YDQvtCx0L3Ri9C5INGB0L/QuNGB0L7QuiDQtNGA0YPQt9C10LksINCy0LfQsNC40LzQvtC00LXQudGB0YLQstC+0LLQsNCy0YjQuNGFINGBINC40LPRgNC+0LksINGB0LPRgNGD0L/Qv9C40YDQvtCy0LDQvdC90YvQuSDQv9C+INC60LDRgtC10LPQvtGA0LjRj9C8OjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0JTRgNGD0LfRjNGPLCDQuNCz0YDQsNCy0YjQuNC1INC90LXQtNCw0LLQvdC+ICjQt9CwINC/0L7RgdC70LXQtNC90LjQtSAyINC90LXQtNC10LvQuCkuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JLRgdC1INC00YDRg9C30YzRjywg0LrQvtCz0LTQsC3Qu9C40LHQviDQuNCz0YDQsNCy0YjQuNC1INCyINC40LPRgNGDICjQvtCx0YrQtdC00LjQvdGP0LXRgiDQvdC10LTQsNCy0L3QuNGFINC4INC40LPRgNCw0LLRiNC40YUg0YDQsNC90LXQtSkuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JLRgdC1INC00YDRg9C30YzRjywg0LjQvNC10Y7RidC40LUg0LjQs9GA0YMg0LIg0LHQuNCx0LvQuNC+0YLQtdC60LUuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JTRgNGD0LfRjNGPLCDQutC+0YLQvtGA0YvQtSDQtNC+0LHQsNCy0LjQu9C4INC40LPRgNGDINCyINGB0LLQvtC5INGB0L/QuNGB0L7QuiDQttC10LvQsNC10LzQvtCz0L4uPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8cD7QmtCw0LbQtNCw0Y8g0LrQsNGC0LXQs9C+0YDQuNGPINGB0L7Qv9GA0L7QstC+0LbQtNCw0LXRgtGB0Y8g0YHQtdGC0LrQvtC5INC40Lcg0YjQtdGB0YLQuCDQsNCy0LDRgtCw0YDQvtCyINC00YDRg9C30LXQuSDRgdC+INGB0YHRi9C70LrQsNC80Lgg0L3QsCDQuNGFINC/0YDQvtGE0LjQu9C4LjwvcD4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tLzZqYlowM0wucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgIGAKICAgICAgICB9LAogICAgICAgIHBhZ2VHaWZ0SGVscGVyOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnZ2FtZVBhZ2UnLAogICAgICAgICAgICBsYWJlbDogItCU0L7RgdGC0YPQv9C90L7RgdGC0Ywg0L/QvtC00LDRgNC60L7QsiAo0YHRgtGA0LDQvdC40YbQsCDQuNCz0YDRiykiLAogICAgICAgICAgICB0aXRsZTogItCU0L7RgdGC0YPQv9C90L7RgdGC0Ywg0L/QvtC00LDRgNC60L7QsiAo0YHRgtGA0LDQvdC40YbQsCDQuNCz0YDRiykiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQutC90L7Qv9C60YMgIkdJRlQiINCyINCx0LvQvtC6INGBINC60L3QvtC/0LrQvtC5ICLQkiDQttC10LvQsNC10LzQvtC1IiDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LjQs9GA0YsuPC9wPgogICAgICAgICAgICAgICAgPHA+0J3QsNC20LDRgtC40LUg0L7RgtC60YDRi9Cy0LDQtdGCINC+0LrQvdC+LCDQs9C00LUg0LzQvtC20L3Qvjo8L3A+CiAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCS0YvQsdGA0LDRgtGMINGA0LXQs9C40L7QvSDQtNGA0YPQs9CwINC40Lcg0YHQv9C40YHQutCwLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCd0LDQttCw0YLRjCAi0KPQt9C90LDRgtGMIiwg0YfRgtC+0LHRiyDQt9Cw0L/RgNC+0YHQuNGC0Ywg0YbQtdC90YMg0LjQs9GA0Ysg0LIg0Y3RgtC+0Lwg0YDQtdCz0LjQvtC90LUuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KPQstC40LTQtdGC0Ywg0YbQtdC90YMg0LTRgNGD0LPQsCAo0YHQutC+0L3QstC10YDRgtC40YDQvtCy0LDQvdC90YPRjiDQsiDQstCw0YjRgyDQstCw0LvRjtGC0YMpLCDQv9GA0L7RhtC10L3RgiDRgNCw0LfQvdC40YbRiyDQuCDQstC10YDQtNC40LrRgiAoPHNwYW4gc3R5bGU9ImNvbG9yOiM3N2RkNzc7IGZvbnQtd2VpZ2h0OmJvbGQ7Ij7QnNC+0LbQvdC+INC/0L7QtNCw0YDQuNGC0Yw8L3NwYW4+IC8gPHNwYW4gc3R5bGU9ImNvbG9yOiNmZjY5NjE7IGZvbnQtd2VpZ2h0OmJvbGQ7Ij7QndC10LvRjNC30Y8g0L/QvtC00LDRgNC40YLRjDwvc3Bhbj4pLCDQvtGB0L3QvtCy0LDQvdC90YvQuSDQvdCwINC/0YDQsNCy0LjQu9Cw0YUgU3RlYW0g0L4g0YDQsNC30L3QuNGG0LUg0YbQtdC9ICjCsTEwJSkuPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8cD7QmNGB0L/QvtC70YzQt9GD0LXRgiDRgtC1INC20LUg0LzQtdGF0LDQvdC40LfQvNGLINC/0L7Qu9GD0YfQtdC90LjRjyDRhtC10L0g0Lgg0LrRg9GA0YHQvtCyINCy0LDQu9GO0YIsINGH0YLQviDQuCDQv9C+0LzQvtGJ0L3QuNC6INC00LvRjyDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+LjwvcD4KICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS9qRGRmNHBSLnBuZyIgYWx0PSLQn9GA0LjQvNC10YAgUGFnZUdpZnRIZWxwZXIgMSIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgICAgICBgCiAgICAgICAgfSwKICAgICAgICBlYXJseWFjY2RhdGE6IHsKICAgICAgICAgICAgY2F0ZWdvcnk6ICdnYW1lUGFnZScsCiAgICAgICAgICAgIGxhYmVsOiAi0JjQvdC00LjQutCw0YLQvtGAINGA0LDQvdC90LXQs9C+INC00L7RgdGC0YPQv9CwIiwKICAgICAgICAgICAgdGl0bGU6ICLQmNC90LTQuNC60LDRgtC+0YAg0YDQsNC90L3QtdCz0L4g0LTQvtGB0YLRg9C/0LAiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCf0L7QutCw0LfRi9Cy0LDQtdGCINC90LXQsdC+0LvRjNGI0YPRjiDQv9C70LDRiNC60YMg0L3QsNC0INC40LfQvtCx0YDQsNC20LXQvdC40LXQvCDQuNCz0YDRiyDRgSDQuNC90YTQvtGA0LzQsNGG0LjQtdC5INC+INGB0YLQsNGC0YPRgdC1INGA0LDQvdC90LXQs9C+INC00L7RgdGC0YPQv9CwIChFYXJseSBBY2Nlc3MpLjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz7QldGB0LvQuCDQuNCz0YDQsCDQtdGJ0LUg0LIg0YDQsNC90L3QtdC8INC00L7RgdGC0YPQv9C1Ojwvc3Ryb25nPiDQntGC0L7QsdGA0LDQttCw0LXRgtGB0Y8sINGB0LrQvtC70YzQutC+INCy0YDQtdC80LXQvdC4INC40LPRgNCwINGD0LbQtSDQvdCw0YXQvtC00LjRgtGB0Y8g0LIg0L3QtdC8ICjQvdCw0L/RgNC40LzQtdGALCAi0JIg0YDQsNC90L3QtdC8INC00L7RgdGC0YPQv9C1INGD0LbQtSAxINCz0L7QtCDQuCAzINC80LXRgdGP0YbQsCIpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vNmlHbGNUZi5wbmciIGFsdD0i0J/RgNC40LzQtdGAINCg0LDQvdC90LXQs9C+INCU0L7RgdGC0YPQv9CwIDIiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgICAgIDxociBzdHlsZT0iYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQgIzQ0NGE1MjsgbWFyZ2luOiAxLjVlbSAwOyI+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0JXRgdC70Lgg0LjQs9GA0LAg0LLRi9GI0LvQsCDQuNC3INGA0LDQvdC90LXQs9C+INC00L7RgdGC0YPQv9CwOjwvc3Ryb25nPiDQntGC0L7QsdGA0LDQttCw0LXRgtGB0Y8sINGB0LrQvtC70YzQutC+INCy0YDQtdC80LXQvdC4INC40LPRgNCwINC/0YDQvtCy0LXQu9CwINCyINC90LXQvCDQtNC+INGA0LXQu9C40LfQsCAo0L3QsNC/0YDQuNC80LXRgCwgItCS0YvRiNC70LAg0YHQv9GD0YHRgtGPIDIg0LPQvtC00LAg0YDQsNC90L3QtdCz0L4g0LTQvtGB0YLRg9C/0LAiKS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL1NQekpycGkucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQoNCw0L3QvdC10LPQviDQlNC+0YHRgtGD0L/QsCAxIiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8cD7QoNCw0YHRh9C10YIg0LLRgNC10LzQtdC90Lgg0LTQuNC90LDQvNC40YfQtdGB0LrQuNC5LiDQmNGB0L/QvtC70YzQt9GD0LXRgiDQtNCw0YLRiyDRgdC+INGB0YLRgNCw0L3QuNGG0YsgU3RlYW0sINCwINGC0LDQutC20LUg0LzQvtC20LXRgiDQv9C+0LTRgtGP0LPQuNCy0LDRgtGMINC00LDRgtGDINGB0YLQsNGA0YLQsCDRgNCw0L3QvdC10LPQviDQtNC+0YHRgtGD0L/QsCDQuNC3INGB0L7QsdGB0YLQstC10L3QvdC+0Lkg0LHQsNC30Ysg0LTQu9GPINCy0YvRiNC10LTRiNC40YUg0LjQs9GALCDQtdGB0LvQuCBTdGVhbSDQtdC1INC90LUg0L/QvtC60LDQt9GL0LLQsNC10YIuPC9wPgogICAgICAgICAgICBgCiAgICAgICAgfSwKCiAgICAgICAgLy8gLS0tINCa0LDRgtCw0LvQvtCzIC0tLQogICAgICAgIGNhdGFsb2dJbmZvOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnY2F0YWxvZycsCiAgICAgICAgICAgIGxhYmVsOiAi0JTQvtC/LiDQuNC90YTQviAvINCk0LjQu9GM0YLRgNGLIiwKICAgICAgICAgICAgdGl0bGU6ICLQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPINC4INGE0LjQu9GM0YLRgNCw0YbQuNGPINCyINC60LDRgtCw0LvQvtCz0LUg0L/QvtC40YHQutCwIiwKICAgICAgICAgICAgZGV0YWlsczogYAogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7Qp9GC0L4g0LTQtdC70LDQtdGCOjwvc3Ryb25nPiDQoNCw0YHRiNC40YDRj9C10YIg0YTRg9C90LrRhtC40L7QvdCw0Lsg0YHRgtGA0LDQvdC40YbRiyDQv9C+0LjRgdC60LAg0L/QviDQutCw0YLQsNC70L7Qs9GDIFN0ZWFtICg8YSBocmVmPSJodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vc2VhcmNoLyIgdGFyZ2V0PSJfYmxhbmsiIHN0eWxlPSJjb2xvcjojNjdjMWY1OyI+c3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9zZWFyY2gvPC9hPikuPC9wPgogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7Qn9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4Ojwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0J/QvtGP0LLQu9GP0LXRgtGB0Y8g0LLRgdC/0LvRi9Cy0LDRjtGJ0LDRjyDQv9C+0LTRgdC60LDQt9C60LAg0YHQu9C10LLQsCDQvtGCINGB0YLRgNC+0LrQuCDQuNCz0YDRiyDRgSDQv9C+0LTRgNC+0LHQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40LXQuTog0LjQt9C00LDRgtC10LvQuCwg0YDQsNC30YDQsNCx0L7RgtGH0LjQutC4LCDRgdC10YDQuNGPLCDQvtGC0LfRi9Cy0YsgKCUg0Lgg0LrQvtC7LdCy0L4pLCDRgdGC0LDRgtGD0YEg0YDQsNC90L3QtdCz0L4g0LTQvtGB0YLRg9C/0LAsINC/0L7QtNC00LXRgNC20LrQsCDRgNGD0YHRgdC60L7Qs9C+L9Cw0L3Qs9C70LjQudGB0LrQvtCz0L4g0Y/Qt9GL0LrQvtCyLCDQv9C10YDQstGL0LUgNSDQvNC10YLQvtC6LCDQutGA0LDRgtC60L7QtSDQvtC/0LjRgdCw0L3QuNC1LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vVTdEWUl2Si5wbmciIGFsdD0i0J/RgNC40LzQtdGAINCU0L7Qvy4g0JjQvdGE0L4iIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgIDxociBzdHlsZT0iYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQgIzQ0NGE1MjsgbWFyZ2luOiAxLjVlbSAwOyI+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCk0LjQu9GM0YLRgNGLICjQv9Cw0L3QtdC70Ywg0YHQv9GA0LDQstCwKTo8L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0KDRg9GB0YHQutC40Lkg0L/QtdGA0LXQstC+0LQ6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48ZW0+0KLQvtC70YzQutC+INGC0LXQutGB0YI6PC9lbT4g0JjQs9GA0Ysg0YEg0YDRg9GBLiDQuNC90YLQtdGA0YTQtdC50YHQvtC8L9GB0YPQsdGC0LjRgtGA0LDQvNC4ICjQsdC10Lcg0L7Qt9Cy0YPRh9C60LgpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGVtPtCe0LfQstGD0YfQutCwOjwvZW0+INCY0LPRgNGLINGBINGA0YPRgdGB0LrQvtC5INC+0LfQstGD0YfQutC+0LkuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48ZW0+0JHQtdC3INC/0LXRgNC10LLQvtC00LA6PC9lbT4g0JjQs9GA0Ysg0LHQtdC3INGA0YPRgdGB0LrQvtCz0L4g0Y/Qt9GL0LrQsC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL25MZnNCelIucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQpNC40LvRjNGC0YDQsCDQr9C30YvQutCwIiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxociBzdHlsZT0iYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQgIzQ0NGE1MjsgbWFyZ2luOiAxLjVlbSAwOyI+CiAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkRMQzo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxlbT7QotC+0LvRjNC60L4g0LLQsNGI0LggRExDOjwvZW0+INCf0L7QutCw0LfRi9Cy0LDQtdGCINGC0L7Qu9GM0LrQviBETEMg0LTQu9GPINC40LPRgCwg0LrQvtGC0L7RgNGL0LUg0LXRgdGC0Ywg0LIg0LLQsNGI0LXQuSDQsdC40LHQu9C40L7RgtC10LrQtSAo0YHQsNC80LggRExDINC/0L7QtNGB0LLQtdGH0LjQstCw0Y7RgtGB0Y8g0YTQuNC+0LvQtdGC0L7QstGL0Lwg0YTQvtC90L7QvCkuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL01xanVYb0QucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQpNC40LvRjNGC0YDQsCBETEMiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICA8cD7QpNC40LvRjNGC0YDRiyDQv9GA0LjQvNC10L3Rj9GO0YLRgdGPINC00LjQvdCw0LzQuNGH0LXRgdC60Lgg0L/QviDQvNC10YDQtSDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQsNC90L3Ri9GFINC+0YIgQVBJLjwvcD4KICAgICAgICAgICAgYAogICAgICAgIH0sCiAgICAgICAgY2F0YWxvZ0hpZGVyOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnY2F0YWxvZycsCiAgICAgICAgICAgIGxhYmVsOiAi0KHQutGA0YvRgtC40LUg0LjQs9GAIiwKICAgICAgICAgICAgdGl0bGU6ICLQodC40YHRgtC10LzQsCDRgdC60YDRi9GC0LjRjyDQuNCz0YAg0LIg0LrQsNGC0LDQu9C+0LPQtSDQv9C+0LjRgdC60LAiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQuNC90YHRgtGA0YPQvNC10L3RgtGLINC00LvRjyDQvNCw0YHRgdC+0LLQvtCz0L4g0YHQutGA0YvRgtC40Y8g0L3QtdC40L3RgtC10YDQtdGB0YPRjtGJ0LjRhSDQuNCz0YAg0L/RgNGP0LzQviDRgdC+INGB0YLRgNCw0L3QuNGG0Ysg0L/QvtC40YHQutCwINC/0L4g0LrQsNGC0LDQu9C+0LPRgy48L3A+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCt0LvQtdC80LXQvdGC0Ysg0LjQvdGC0LXRgNGE0LXQudGB0LA6PC9zdHJvbmc+PC9wPgogICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgIDxsaT7QodGH0LXRgtGH0LjQuiDQvtGC0L7QsdGA0LDQttCw0LXQvNGL0YUg0LjQs9GAICjRgdC70LXQstCwINCy0LLQtdGA0YXRgykuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KfQtdC60LHQvtC60YEg0YHQu9C10LLQsCDQvtGCINC60LDQttC00L7QuSDQuNCz0YDRiyAo0LrRgNC+0LzQtSDRg9C20LUg0LrRg9C/0LvQtdC90L3Ri9GFL9GB0LrRgNGL0YLRi9GFL9CyINC20LXQu9Cw0LXQvNC+0LwpINC00LvRjyDQvtGC0LzQtdGC0LrQuCDQvdCwINGB0LrRgNGL0YLQuNC1LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCa0L3QvtC/0LrQsCAi0KHQutGA0YvRgtGMINCy0YvQsdGA0LDQvdC90L7QtSIgKNGB0LvQtdCy0LAg0LLQstC10YDRhdGDKS48L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0J/RgNC40L3RhtC40L8g0YDQsNCx0L7RgtGLOjwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgIDxvbD4KICAgICAgICAgICAgICAgICAgICA8bGk+0J7RgtC80LXRh9Cw0LXRgtC1INGH0LXQutCx0L7QutGB0LDQvNC4INC40LPRgNGLLCDQutC+0YLQvtGA0YvQtSDRhdC+0YLQuNGC0LUg0YHQutGA0YvRgtGMLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCd0LDQttC40LzQsNC10YLQtSAi0KHQutGA0YvRgtGMINCy0YvQsdGA0LDQvdC90L7QtSIuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KHQutGA0LjQv9GCINC00L7QsdCw0LLQu9GP0LXRgiDRjdGC0Lgg0LjQs9GA0Ysg0LIg0LLQsNGIINC+0YTQuNGG0LjQsNC70YzQvdGL0Lkg0YHQv9C40YHQvtC6INC40LPQvdC+0YDQuNGA0YPQtdC80YvRhSDQsiBTdGVhbSDQuCDRg9C00LDQu9GP0LXRgiDQuNGFINGN0LvQtdC80LXQvdGC0Ysg0YHQviDRgdGC0YDQsNC90LjRhtGLLjwvbGk+CiAgICAgICAgICAgICAgICA8L29sPgogICAgICAgICAgICAgICAgPHA+0JIg0L7RgtC70LjRh9C40LUg0L7RgiDRgdGC0LDQvdC00LDRgNGC0L3QvtCz0L4g0LzQtdGF0LDQvdC40LfQvNCwIFN0ZWFtLCDRjdC70LXQvNC10L3RgtGLINC/0L7Qu9C90L7RgdGC0YzRjiDRg9C00LDQu9GP0Y7RgtGB0Y8g0LjQtyBET00sINGH0YLQviDRg9C70YPRh9GI0LDQtdGCINC/0YDQvtC40LfQstC+0LTQuNGC0LXQu9GM0L3QvtGB0YLRjCDQv9GA0Lgg0YDQsNCx0L7RgtC1INGBINCx0L7Qu9GM0YjQuNC8INC60L7Qu9C40YfQtdGB0YLQstC+0Lwg0YDQtdC30YPQu9GM0YLQsNGC0L7Qsi48L3A+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCS0L3QuNC80LDQvdC40LU6PC9zdHJvbmc+INCg0LXQutC+0LzQtdC90LTRg9C10YLRgdGPINC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRgtC+0LvRjNC60L4g0L/RgNC4INC90LXQvtCx0YXQvtC00LjQvNC+0YHRgtC4INC80LDRgdGB0L7QstC+0LPQviDRgdC60YDRi9GC0LjRjy4g0JTQu9GPINC+0LHRi9GH0L3QvtCz0L4g0L/RgNC+0YHQvNC+0YLRgNCwINC60LDRgtCw0LvQvtCz0LAg0LvRg9GH0YjQtSDQvtGC0LrQu9GO0YfQsNGC0Ywg0Y3RgtGDINC+0L/RhtC40Y4uPC9wPgogICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vdUNBOHgyUC5wbmciIGFsdD0i0J/RgNC40LzQtdGAINCh0LrRgNGL0YLQuNGPINCY0LPRgCIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgIGAKICAgICAgICB9LAogICAgICAgICAvLyAtLS0g0KHQvtC+0LHRidC10YHRgtCy0L4gLyDQkNC60YLQuNCy0L3QvtGB0YLRjCAtLS0KICAgICAgICBob21lSW5mbzogewogICAgICAgICAgICBjYXRlZ29yeTogJ2NvbW11bml0eScsCiAgICAgICAgICAgIGxhYmVsOiAi0JTQvtC/LiDQuNC90YTQviDQsiDQu9C10L3RgtC1INCw0LrRgtC40LLQvdC+0YHRgtC4IiwKICAgICAgICAgICAgdGl0bGU6ICLQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPINCyINC70LXQvdGC0LUg0LDQutGC0LjQstC90L7RgdGC0LggU3RlYW0iLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQstGB0L/Qu9GL0LLQsNGO0YnRg9GOINC/0L7QtNGB0LrQsNC30LrRgyDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INC90LAg0L3QsNC30LLQsNC90LjQtSDQuNCz0YDRiyDQsiDQstCw0YjQtdC5INC70LXQvdGC0LUg0LDQutGC0LjQstC90L7RgdGC0LggU3RlYW0gKDxhIGhyZWY9Imh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL215L2hvbWUiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IzY3YzFmNTsiPnN0ZWFtY29tbXVuaXR5LmNvbS9teS9ob21lPC9hPikuPC9wPgogICAgICAgICAgICAgICAgPHA+0J/QvtC00YHQutCw0LfQutCwINGB0L7QtNC10YDQttC40YIg0L/QvtC00YDQvtCx0L3Rg9GOINC40L3RhNC+0YDQvNCw0YbQuNGOINC+0LEg0LjQs9GA0LUsINCw0L3QsNC70L7Qs9C40YfQvdGD0Y4g0YLQvtC5LCDRh9GC0L4g0L/QvtC60LDQt9GL0LLQsNC10YLRgdGPINCyINC60LDRgtCw0LvQvtCz0LUg0L/QvtC40YHQutCwOjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0J3QsNC30LLQsNC90LjQtSDQuCDQuNC30L7QsdGA0LDQttC10L3QuNC1LdGI0LDQv9C60LAuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0JTQsNGC0LAg0LLRi9GF0L7QtNCwLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCY0LfQtNCw0YLQtdC70LgsINGA0LDQt9GA0LDQsdC+0YLRh9C40LrQuCwg0YHQtdGA0LjRjyDQuNCz0YAuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0J7RgtC30YvQstGLICglINC4INC60L7Quy3QstC+KS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QodGC0LDRgtGD0YEg0YDQsNC90L3QtdCz0L4g0LTQvtGB0YLRg9C/0LAuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0J/QvtC00LTQtdGA0LbQutCwINGA0YPRgdGB0LrQvtCz0L4g0Lgg0LDQvdCz0LvQuNC50YHQutC+0LPQviDRj9C30YvQutC+0LIuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0J/QtdGA0LLRi9C1IDUg0LzQtdGC0L7Qui48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QmtGA0LDRgtC60L7QtSDQvtC/0LjRgdCw0L3QuNC1LjwvbGk+CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgIDxwPtCU0LDQvdC90YvQtSDQt9Cw0LPRgNGD0LbQsNGO0YLRgdGPINGH0LXRgNC10LcgQVBJIFN0ZWFtLjwvcD4KICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS94RTc1aVU4LnBuZyIgYWx0PSLQn9GA0LjQvNC10YAg0JjQvdGE0L4g0LIg0JvQtdC90YLQtSIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgYAogICAgICAgIH0sCiAgICAgICAgc3RlbGljYXNSb3VsZXR0ZTogewogICAgICAgICAgICBjYXRlZ29yeTogJ2NvbW11bml0eScsCiAgICAgICAgICAgIGxhYmVsOiAi0KDRg9C70LXRgtC60LAgU3RlbGljYXMiLAogICAgICAgICAgICB0aXRsZTogItCg0YPQu9C10YLQutCwIFN0ZWxpY2FzIC0g0KHQu9GD0YfQsNC50L3Ri9C5INCy0YvQsdC+0YAg0LjQs9GA0Ysg0LjQtyDQstCw0YjQuNGFINC60L7Qu9C70LXQutGG0LjQuSIsCiAgICAgICAgICAgIGRldGFpbHM6IGAKICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KfRgtC+INC00LXQu9Cw0LXRgjo8L3N0cm9uZz4g0JTQvtCx0LDQstC70Y/QtdGCINCx0LvQvtC6ICLQoNGD0LvQtdGC0LrQsCBTdGVsaWNhcyIg0L3QsCDRgdGC0YDQsNC90LjRhtGDINCy0LDRiNC10Lkg0LDQutGC0LjQstC90L7RgdGC0LggU3RlYW0gKDxhIGhyZWY9Imh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL215L2hvbWUiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IzY3YzFmNTsiPnN0ZWFtY29tbXVuaXR5LmNvbS9teS9ob21lPC9hPikuINCf0L7Qt9Cy0L7Qu9GP0LXRgiDQt9Cw0LPRgNGD0LfQuNGC0YwgQ1NWLdGE0LDQudC7LCDRgdCz0LXQvdC10YDQuNGA0L7QstCw0L3QvdGL0Lkg0L/RgNC40LvQvtC20LXQvdC40LXQvCA8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vMHduM2RnMGQvU3RlbGljYXMiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IzY3YzFmNTsiPlN0ZWxpY2FzPC9hPiwg0L/RgNC40LzQtdC90LjRgtGMINC6INC90LXQvNGDINGA0LDQt9C90L7QvtCx0YDQsNC30L3Ri9C1INGE0LjQu9GM0YLRgNGLINC4INGB0LvRg9GH0LDQudC90YvQvCDQvtCx0YDQsNC30L7QvCDQstGL0LHRgNCw0YLRjCDQuNCz0YDRgyDQuNC3INCy0LDRiNC10Lkg0LrQvtC70LvQtdC60YbQuNC4LjwvcD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0JLQvtC30LzQvtC20L3QvtGB0YLQuDo8L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICA8dWwgc3R5bGU9Im1hcmdpbi1sZWZ0OiAyMHB4OyBwYWRkaW5nLWxlZnQ6IDVweDsgbGlzdC1zdHlsZS10eXBlOiBkaXNjOyI+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCX0LDQs9GA0YPQt9C60LAgQ1NWLdC00LDQvdC90YvRhSDQuNC3IFN0ZWxpY2FzICjRgdC+0LTQtdGA0LbQsNGJ0LjRhSDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQstCw0YjQuNGFINC40LPRgNCw0YUg0Lgg0LrQvtC70LvQtdC60YbQuNGP0YUpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPjxzdHJvbmc+0KHQuNGB0YLQtdC80LAg0YTQuNC70YzRgtGA0LDRhtC40Lg6PC9zdHJvbmc+INC/0L4g0LrQsNGC0LXQs9C+0YDQuNGP0Lwg0LrQvtC70LvQtdC60YbQuNC5IFN0ZWxpY2FzLCDQtNCw0YLQtSDQstGL0YXQvtC00LAsINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNC8INGC0LXQs9Cw0LwsINC/0L7QtNC00LXRgNC20LrQtSDRgNGD0YHRgdC60L7Qs9C+INGP0LfRi9C60LAgKNC40L3RgtC10YDRhNC10LnRgSwg0YHRg9Cx0YLQuNGC0YDRiywg0L7Qt9Cy0YPRh9C60LApLCDQsCDRgtCw0LrQttC1INC/0L4g0LTQuNCw0L/QsNC30L7QvdCw0Lwg0LrQvtC70LjRh9C10YHRgtCy0LAg0L7RgtC30YvQstC+0LIg0Lgg0L7QsdGJ0LXQs9C+INGA0LXQudGC0LjQvdCz0LAg0LjQs9GA0YsuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuNWVtOyI+0JDQvdC40LzQuNGA0L7QstCw0L3QvdCw0Y8g0YDRg9C70LXRgtC60LAg0LTQu9GPINCy0YvQsdC+0YDQsCDRgdC70YPRh9Cw0LnQvdC+0Lkg0LjQs9GA0Ysg0LjQtyDQvtGC0YTQuNC70YzRgtGA0L7QstCw0L3QvdC+0LPQviDRgdC/0LjRgdC60LAuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuNWVtOyI+0JLQvtC30LzQvtC20L3QvtGB0YLRjCDQstC60LvRjtGH0LjRgtGMINC/0YDQuNC+0YDQuNGC0LXRgiDQv9C+INC+0YLQt9GL0LLQsNC8INC4INGA0LXQudGC0LjQvdCz0YMsINGH0YLQvtCx0Ysg0LjQs9GA0Ysg0YEg0LvRg9GH0YjQuNC80Lgg0L/QvtC60LDQt9Cw0YLQtdC70Y/QvNC4INC40LzQtdC70Lgg0LHQvtC70YzRiNC1INGI0LDQvdGB0L7QsiDQvdCwINCy0YvQv9Cw0LTQtdC90LjQtS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC41ZW07Ij7Qn9C10YDQtdC60LvRjtGH0LXQvdC40LUg0LIg0YDQtdC20LjQvCA8c3Ryb25nPtC/0YDQvtGB0LzQvtGC0YDQsCDQstGB0LXQuSDQvtGC0YTQuNC70YzRgtGA0L7QstCw0L3QvdC+0Lkg0L/QvtC00LHQvtGA0LrQuDwvc3Ryb25nPiDQuNCz0YAg0LIg0LLQuNC00LUg0YPQtNC+0LHQvdGL0YUg0LrQsNGA0YLQvtGH0LXQuiAo0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQuCDQvdCw0LfQstCw0L3QuNC1KS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC41ZW07Ij7QntGC0L7QsdGA0LDQttC10L3QuNC1INC/0L7QtNGA0L7QsdC90L7QuSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQstGL0LHRgNCw0L3QvdC+0LkgKNC40LvQuCDQv9GA0L7RgdC80LDRgtGA0LjQstCw0LXQvNC+0Lkg0LIg0L/QvtC00LHQvtGA0LrQtSkg0LjQs9GA0LU6INC/0L7RgdGC0LXRgCwg0L3QsNC30LLQsNC90LjQtSwg0YDQtdC50YLQuNC90LMg0Lgg0LrQvtC70LjRh9C10YHRgtCy0L4g0L7RgtC30YvQstC+0LIsINC60YDQsNGC0LrQvtC1INC+0L/QuNGB0LDQvdC40LUsINC+0YHQvdC+0LLQvdGL0LUg0YLQtdCz0LgsINGC0L7Rh9C90LDRjyDQtNCw0YLQsCDQstGL0YXQvtC00LAsINGA0LDQt9GA0LDQsdC+0YLRh9C40LrQuC/QuNC30LTQsNGC0LXQu9C4LCDQuNC90YTQvtGA0LzQsNGG0LjRjyDQviDQv9C+0LTQtNC10YDQttC60LUg0YDRg9GB0YHQutC+0LPQviDRj9C30YvQutCwLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCf0YDRj9C80YvQtSDRgdGB0YvQu9C60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtGDINC40LPRgNGLINCyINGB0L7QvtCx0YnQtdGB0YLQstC1IFN0ZWFtINC4INC00LvRjyDQtdGRINC30LDQv9GD0YHQutCwINGH0LXRgNC10Lcg0L/RgNC+0YLQvtC60L7QuyA8Y29kZT5zdGVhbTovL3J1bi8mbHQ7QXBwSUQmZ3Q7PC9jb2RlPi48L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0JrQsNC6INC/0L7Qu9GM0LfQvtCy0LDRgtGM0YHRjzo8L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICA8dWwgc3R5bGU9Im1hcmdpbi1sZWZ0OiAyMHB4OyBwYWRkaW5nLWxlZnQ6IDVweDsgbGlzdC1zdHlsZS10eXBlOiBkaXNjOyI+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCf0L7QtNGA0L7QsdC90LDRjyDQuNC90YHRgtGA0YPQutGG0LjRjyDQv9C+INC/0L7QtNCz0L7RgtC+0LLQutC1IENTVi3RhNCw0LnQu9CwINC4INC40YHQv9C+0LvRjNC30L7QstCw0L3QuNGOINCy0YHQtdGFINGE0YPQvdC60YbQuNC5INGA0YPQu9C10YLQutC4INC00L7RgdGC0YPQv9C90LAg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC30L3QsNGH0L7QuiDQstC+0L/RgNC+0YHQsCA8c3Ryb25nPj88L3N0cm9uZz4g0LIg0L/RgNCw0LLQvtC8INCy0LXRgNGF0L3QtdC8INGD0LPQu9GDINC+0LrQvdCwINGB0LDQvNC+0Lkg0YDRg9C70LXRgtC60LguPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8cD48ZW0+0J/RgNC40LzQtdGH0LDQvdC40LU6INCa0LDRh9C10YHRgtCy0L4g0YDQsNCx0L7RgtGLINC4INC/0L7Qu9C90L7RgtCwINC40L3RhNC+0YDQvNCw0YbQuNC4INCyINGA0YPQu9C10YLQutC1INC90LDQv9GA0Y/QvNGD0Y4g0LfQsNCy0LjRgdGP0YIg0L7RgiDQutC+0YDRgNC10LrRgtC90L7RgdGC0Lgg0Lgg0LDQutGC0YPQsNC70YzQvdC+0YHRgtC4INC00LDQvdC90YvRhSDQsiDQv9GA0LXQtNC+0YHRgtCw0LLQu9C10L3QvdC+0LwgQ1NWLdGE0LDQudC70LUg0LjQtyBTdGVsaWNhcy48L2VtPjwvcD4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL0tEZlcxMG0ucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDQoNGD0LvQtdGC0LrQuCBTdGVsaWNhcyDRgSDRhNC40LvRjNGC0YDQsNC80LgiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgIGAKICAgICAgICB9LAogICAgICAgIC8vIC0tLSDQotC+0YDQs9C+0LLQsNGPINC/0LvQvtGJ0LDQtNC60LAgLS0tCiAgICAgICAgS2F6bmFjaGVpOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnbWFya2V0JywKICAgICAgICAgICAgbGFiZWw6ICLQn9GA0L7QtNCw0LbQuCDQv9GA0LXQtNC80LXRgtCwIiwKICAgICAgICAgICAgdGl0bGU6ICLQmNC90YTQvtGA0LzQsNGG0LjRjyDQvtCxINC40YHRgtC+0YDQuNGH0LXRgdC60LjRhSDQv9GA0L7QtNCw0LbQsNGFINC90LAg0YLQvtGA0LPQvtCy0L7QuSDQv9C70L7RidCw0LTQutC1IFN0ZWFtIiwKICAgICAgICAgICAgZGV0YWlsczogYAogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7Qp9GC0L4g0LTQtdC70LDQtdGCOjwvc3Ryb25nPiDQlNC+0LHQsNCy0LvRj9C10YIg0LjQvdGE0L7RgNC80LDRhtC40L7QvdC90YvQuSDQsdC70L7QuiDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0L/RgNC10LTQvNC10YLQsCDQvdCwINGC0L7RgNCz0L7QstC+0Lkg0L/Qu9C+0YnQsNC00LrQtSBTdGVhbSAoPGEgaHJlZj0iaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vbWFya2V0LyIgdGFyZ2V0PSJfYmxhbmsiIHN0eWxlPSJjb2xvcjojNjdjMWY1OyI+c3RlYW1jb21tdW5pdHkuY29tL21hcmtldC88L2E+KS48L3A+CiAgICAgICAgICAgICAgICA8cD7QkdC70L7QuiDRgdC+0LTQtdGA0LbQuNGCOjwvcD4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGk+0KLQsNCx0LvQuNGG0YMg0YEg0LjRgdGC0L7RgNC40LXQuSDQv9GA0L7QtNCw0LYg0L/QviDQs9C+0LTQsNC8OgogICAgICAgICAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J7QsdGJ0LDRjyDRgdGD0LzQvNCwINC/0YDQvtC00LDQtiDQt9CwINCz0L7QtCAo0LIg0YDRg9Cx0LvRj9GFKS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCf0YDQuNC80LXRgNC90LDRjyDRgdGD0LzQvNCwLCDQv9C+0LvRg9GH0LXQvdC90LDRjyDRgNCw0LfRgNCw0LHQvtGC0YfQuNC60L7QvCDQuNCz0YDRiy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCf0YDQuNC80LXRgNC90LDRjyDRgdGD0LzQvNCwLCDQv9C+0LvRg9GH0LXQvdC90LDRjyBWYWx2ZS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCY0YLQvtCz0L7QstGD0Y4g0YHRg9C80LzRgyDQv9GA0L7QtNCw0LYg0LfQsCDQstGB0LUg0LLRgNC10LzRjy48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QmNGC0L7Qs9C+0LLRi9C1INGB0YPQvNC80YssINC/0L7Qu9GD0YfQtdC90L3Ri9C1INGA0LDQt9GA0LDQsdC+0YLRh9C40LrQvtC8INC4IFZhbHZlLjwvbGk+CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgIDxwPtCU0LDQvdC90YvQtSDQt9Cw0LPRgNGD0LbQsNGO0YLRgdGPINGH0LXRgNC10LcgQVBJINC40YHRgtC+0YDQuNC4INGG0LXQvSBTdGVhbS48L3A+CiAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS9aUG56eU5ILnBuZyIgYWx0PSLQn9GA0LjQvNC10YAg0J/RgNC+0LTQsNC2IDEiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICBgCiAgICAgICAgfSwKICAgICAgICAgLy8gLS0tINCd0L7QstC+0YHRgtC4IC8g0KHQv9C40YHQvtC6INC20LXQu9Cw0LXQvNC+0LPQviAtLS0KICAgICAgICBTbGVkaWxrYTogewogICAgICAgICAgICBjYXRlZ29yeTogJ25ld3Nfd2lzaGxpc3QnLAogICAgICAgICAgICBsYWJlbDogItCd0LDQsdC70Y7QtNCw0YLQtdC70YwgKNCW0LXQu9Cw0LXQvNC+0LUv0JHQuNCx0LvQuNC+0YLQtdC60LApIiwKICAgICAgICAgICAgdGl0bGU6ICLQndCw0LHQu9GO0LTQsNGC0LXQu9GMOiDQntGC0YHQu9C10LbQuNCy0LDQvdC40LUg0LjQt9C80LXQvdC10L3QuNC5INCyINGB0L/QuNGB0LrQtSDQttC10LvQsNC10LzQvtCz0L4g0Lgg0LHQuNCx0LvQuNC+0YLQtdC60LUiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCe0YLRgdC70LXQttC40LLQsNC10YIg0LjQt9C80LXQvdC10L3QuNGPINCyINCy0LDRiNC10Lwg0YHQv9C40YHQutC1INC20LXQu9Cw0LXQvNC+0LPQviBTdGVhbSDQuCDQsiDQstCw0YjQtdC5INCx0LjQsdC70LjQvtGC0LXQutC1INC40LPRgCwg0L7RgtC+0LHRgNCw0LbQsNC10YIg0LrQsNC70LXQvdC00LDRgNGMINGA0LXQu9C40LfQvtCyLjwvcD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0J7RgdC90L7QstC90YvQtSDRhNGD0L3QutGG0LjQuDo8L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICA8b2wgc3R5bGU9Im1hcmdpbi1sZWZ0OiAyMHB4OyBwYWRkaW5nLWxlZnQ6IDVweDsgbGlzdC1zdHlsZS10eXBlOiBkZWNpbWFsOyI+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjdlbTsiPtCSINC/0YDQsNCy0L7QvCDQstC10YDRhdC90LXQvCDRg9Cz0LvRgyDRgdGC0YDQsNC90LjRhiBTdGVhbSDQv9C+0Y/QstC70Y/QtdGC0YHRjyDQutC90L7Qv9C60LAgItCd0LDQsdC70Y7QtNCw0YLQtdC70YwiLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjdlbTsiPjxzdHJvbmc+0JjQvdC00LjQutCw0YLQvtGA0Ysg0YHRgtCw0YLRg9GB0LAgKNCWL9CRKTo8L3N0cm9uZz4g0J/QvtC60LDQt9GL0LLQsNGO0YIsINC60LDQuiDQtNCw0LLQvdC+INC+0LHQvdC+0LLQu9GP0LvQuNGB0Ywg0LTQsNC90L3Ri9C1INC00LvRjyA8c3Ryb25nPtCWPC9zdHJvbmc+0LXQu9Cw0LXQvNC+0LPQviDQuCA8c3Ryb25nPtCRPC9zdHJvbmc+0LjQsdC70LjQvtGC0LXQutC4LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjdlbTsiPjxzdHJvbmc+0KHRh9C10YLRh9C40Log0YPQstC10LTQvtC80LvQtdC90LjQuTo8L3N0cm9uZz4g0J/QvtC60LDQt9GL0LLQsNC10YIg0LrQvtC70LjRh9C10YHRgtCy0L4g0L3QvtCy0YvRhSAo0L3QtdC/0YDQvtGH0LjRgtCw0L3QvdGL0YUpINC40LfQvNC10L3QtdC90LjQuS48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC43ZW07Ij48c3Ryb25nPtCf0LDQvdC10LvRjCDRg9Cy0LXQtNC+0LzQu9C10L3QuNC5ICjQv9C+INGJ0LXQu9GH0LrRgyDQvdCwINC60L3QvtC/0LrRgyk6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT0ibWFyZ2luLXRvcDogMC44ZW07IG1hcmdpbi1sZWZ0OiAxNXB4OyBsaXN0LXN0eWxlLXR5cGU6IGRpc2M7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC41ZW07Ij7QmtC90L7Qv9C60LAgItCe0LHQvdC+0LLQuNGC0YwiINC00LvRjyDRgNGD0YfQvdC+0LPQviDQt9Cw0L/Rg9GB0LrQsCDQv9GA0L7QstC10YDQutC4ICjQuNGB0L/QvtC70YzQt9GD0LXRgiBTdGVhbSBBUEkpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuNWVtOyI+PHN0cm9uZz7QndCw0YHRgtGA0L7QudC60LggKNC30L3QsNGH0L7QuiDimpnvuI8pOjwvc3Ryb25nPiDQntGC0LrRgNGL0LLQsNC10YIg0LLRi9C/0LDQtNCw0Y7RidC10LUg0LzQtdC90Y4g0YEg0L7Qv9GG0LjRj9C80Lg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPSJtYXJnaW4tdG9wOiAwLjVlbTsgbWFyZ2luLWxlZnQ6IDE1cHg7IGxpc3Qtc3R5bGUtdHlwZTogc3F1YXJlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC4zZW07Ij48c3Ryb25nPtCh0L/QuNGB0L7QuiDQttC10LvQsNC10LzQvtCz0L4gLyDQkdC40LHQu9C40L7RgtC10LrQsDo8L3N0cm9uZz4g0J/QvtC30LLQvtC70Y/RjtGCINCy0LrQu9GO0YfQsNGC0Ywv0L7RgtC60LvRjtGH0LDRgtGMINC/0YDQvtCy0LXRgNC60YMg0LTQu9GPINC60LDQttC00L7QuSDQuNC3INGB0LXQutGG0LjQuS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuM2VtOyI+PHN0cm9uZz7Qn9C10YDQtdC/0YDQvtCy0LXRgNGP0YLRjCDQuNCz0YDRiyDRgSDRgNGD0YHRgdC60LjQvDo8L3N0cm9uZz4gPGVtPijQntC/0YbQuNGPINC00LvRjyDQkdC40LHQu9C40L7RgtC10LrQuCk8L2VtPi4g0J/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0LLQutC70Y7Rh9C10L3QsC4g0JXRgdC70Lgg0LXRkSA8c3Ryb25nPtC+0YLQutC70Y7Rh9C40YLRjDwvc3Ryb25nPiwg0YHQutGA0LjQv9GCINC/0YDQvtC/0YPRgdGC0LjRgiDQv9GA0L7QstC10YDQutGDINC40LPRgCwg0LTQu9GPINC60L7RgtC+0YDRi9GFINGD0LbQtSDQuNC30LLQtdGB0YLQvdC+INC+INC90LDQu9C40YfQuNC4IDxzdHJvbmc+0LvRjtCx0L7QuTwvc3Ryb25nPiDRgNGD0YHRgdC60L7QuSDQu9C+0LrQsNC70LjQt9Cw0YbQuNC4LiDQrdGC0L4g0LfQvdCw0YfQuNGC0LXQu9GM0L3QviDRg9GB0LrQvtGA0Y/QtdGCINC/0L7QstGC0L7RgNC90YvQtSDQvtCx0L3QvtCy0LvQtdC90LjRjy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuM2VtOyI+PHN0cm9uZz4uLi7RgtC+0LvRjNC60L4g0LHQtdC3INC/0L7Qu9C90L7QuSDQu9C+0LrQsNC70LjQt9Cw0YbQuNC4Ojwvc3Ryb25nPiA8ZW0+KNCU0L7RgdGC0YPQv9C90LAsINC10YHQu9C4INC/0YDQtdC00YvQtNGD0YnQsNGPINC+0L/RhtC40Y8g0L7RgtC60LvRjtGH0LXQvdCwKTwvZW0+LiDQldGB0LvQuCDQstC60LvRjtGH0LjRgtGMLCDRgtC+INC40Lcg0L/QvtCy0YLQvtGA0L3QvtC5INC/0YDQvtCy0LXRgNC60Lgg0LHRg9C00YPRgiDQuNGB0LrQu9GO0YfQsNGC0YzRgdGPINGC0L7Qu9GM0LrQviDQuNCz0YDRiyDRgSA8c3Ryb25nPtC/0L7Qu9C90L7QuTwvc3Ryb25nPiDQu9C+0LrQsNC70LjQt9Cw0YbQuNC10LkgKNC40L3RgtC10YDRhNC10LnRgSvQvtC30LLRg9GH0LrQsCvRgdGD0LHRgtC40YLRgNGLKS4g0JjQs9GA0Ysg0YEg0YfQsNGB0YLQuNGH0L3Ri9C8INC/0LXRgNC10LLQvtC00L7QvCDQv9GA0L7QtNC+0LvQttCw0YIg0L/RgNC+0LLQtdGA0Y/RgtGM0YHRjy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCh0L/QuNGB0L7QuiDQuNC30LzQtdC90LXQvdC40Lk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPSJtYXJnaW4tdG9wOiAwLjVlbTsgbWFyZ2luLWxlZnQ6IDE1cHg7IGxpc3Qtc3R5bGUtdHlwZTogc3F1YXJlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC4zZW07Ij48c3Ryb25nPtCh0L/QuNGB0L7QuiDQttC10LvQsNC10LzQvtCz0L46PC9zdHJvbmc+INCY0LfQvNC10L3QtdC90LjQtSDQtNCw0YLRiyDQstGL0YXQvtC00LAsINGB0YLQsNGC0YPRgdCwINGA0LDQvdC90LXQs9C+INC00L7RgdGC0YPQv9CwINC40LvQuCDRgNGD0YHRgdC60L7Qs9C+INGP0LfRi9C60LAuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPjxzdHJvbmc+0JHQuNCx0LvQuNC+0YLQtdC60LA6PC9zdHJvbmc+INCS0YvRhdC+0LQg0LjQs9GA0Ysg0LjQtyDRgNCw0L3QvdC10LPQviDQtNC+0YHRgtGD0L/QsCwg0L/QvtGP0LLQu9C10L3QuNC1L9C40LfQvNC10L3QtdC90LjQtSDRgNGD0YHRgdC60L7Qs9C+INGP0LfRi9C60LAgKNC4INGC0LjQvyDQu9C+0LrQsNC70LjQt9Cw0YbQuNC4KS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCa0L3QvtC/0LrQuCDQtNC70Y8g0L7RgtC80LXRgtC60Lgg0YPQstC10LTQvtC80LvQtdC90LjRjyDQutCw0Log0L/RgNC+0YfQuNGC0LDQvdC90L7Qs9C+ICjQutC+0L3QstC10YDRgikg0LjQu9C4INGD0LTQsNC70LXQvdC40Y8gKNC60YDQtdGB0YLQuNC6KS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCa0L3QvtC/0LrQsCAi0J7Rh9C40YHRgtC40YLRjCIg0LTQu9GPINGD0LTQsNC70LXQvdC40Y8g0LLRgdC10YUg0YPQstC10LTQvtC80LvQtdC90LjQuS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCa0L3QvtC/0LrQsCAi0JrQsNC70LXQvdC00LDRgNGMIi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCa0L3QvtC/0LrQsCAi0KXRgNCw0L3QuNC70LjRidC1IiDQtNC70Y8g0L7Rh9C40YHRgtC60Lgg0YHQvtGF0YDQsNC90LXQvdC90YvRhSDQtNCw0L3QvdGL0YUuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vQnB1RHE2VS5wbmciIGFsdD0i0J/RgNC40LzQtdGAINCi0YDQtdC60LXRgNCwIDEiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgICAgICA8aHIgc3R5bGU9ImJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM0NDRhNTI7IG1hcmdpbjogMS41ZW0gMDsiPgogICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuN2VtOyI+PHN0cm9uZz7QmtCw0LvQtdC90LTQsNGA0Ywg0YDQtdC70LjQt9C+0LIgKNC/0L4g0YnQtdC70YfQutGDINC90LAg0LrQvdC+0L/QutGDICLQmtCw0LvQtdC90LTQsNGA0YwiKTo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPSJtYXJnaW4tdG9wOiAwLjhlbTsgbWFyZ2luLWxlZnQ6IDE1cHg7IGxpc3Qtc3R5bGUtdHlwZTogZGlzYzsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCe0YLQvtCx0YDQsNC20LDQtdGCINC40LPRgNGLINC40Lcg0LLQsNGI0LXQs9C+INGB0L/QuNGB0LrQsCDQttC10LvQsNC10LzQvtCz0L4g0LIg0LLQuNC00LUg0LrQsNC70LXQvdC00LDRgNGPINC/0L4g0LzQtdGB0Y/RhtCw0LwuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC41ZW07Ij7Qn9C+0LrQsNC30YvQstCw0LXRgiDQuNCz0YDRiyDRgSDRgtC+0YfQvdGL0LzQuCDQtNCw0YLQsNC80Lgg0LLRi9GF0L7QtNCwINCyINCx0YPQtNGD0YnQtdC8LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuNWVtOyI+0JTQu9GPINC40LPRgCDRgSDQv9GA0LjQvNC10YDQvdC+0Lkg0LTQsNGC0L7QuSAo0LzQtdGB0Y/Rhiwg0LrQstCw0YDRgtCw0LssINCz0L7QtCkg0L7RgtC+0LHRgNCw0LbQsNC10YLRgdGPINC/0L7QtNGB0LrQsNC30LrQsCDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuNWVtOyI+0J/QvtC30LLQvtC70Y/QtdGCINC/0L7QtNCz0YDRg9C20LDRgtGMINGB0LvQtdC00YPRjtGJ0LjQtSDQvNC10YHRj9GG0YsuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vYjVQRFlHMy5wbmciIGFsdD0i0J/RgNC40LzQtdGAINCa0LDQu9C10L3QtNCw0YDRjyIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgICAgICAgICAgIDxociBzdHlsZT0iYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQgIzQ0NGE1MjsgbWFyZ2luOiAxLjVlbSAwOyI+CiAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuN2VtOyI+PHN0cm9uZz7QpdGA0LDQvdC40LvQuNGJ0LUgKNC/0L4g0YnQtdC70YfQutGDINC90LAg0LrQvdC+0L/QutGDICLQpdGA0LDQvdC40LvQuNGJ0LUiKTo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPSJtYXJnaW4tdG9wOiAwLjhlbTsgbWFyZ2luLWxlZnQ6IDE1cHg7IGxpc3Qtc3R5bGUtdHlwZTogZGlzYzsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjVlbTsiPtCf0L7Qt9Cy0L7Qu9GP0LXRgiDQvtGH0LjRgdGC0LjRgtGMINC60Y3RiCDQtNCw0YIv0YHRgtCw0YLRg9GB0L7QsiDQtNC70Y8g0YHQv9C40YHQutCwINC20LXQu9Cw0LXQvNC+0LPQviDQuNC70Lgg0LTQu9GPINC40LPRgCDQsdC40LHQu9C40L7RgtC10LrQuC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS9uSTZVb28wLnBuZyIgYWx0PSLQn9GA0LjQvNC10YAg0KXRgNCw0L3QuNC70LjRidCwIiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgICAgIDwvb2w+CiAgICAgICAgICAgICAgICA8cD7QotGA0LXQsdGD0LXRgiDQsNCy0YLQvtGA0LjQt9Cw0YbQuNC4LiDQntCx0YDQsNCx0L7RgtC60LAg0LHQvtC70YzRiNC40YUg0YHQv9C40YHQutC+0LIv0LHQuNCx0LvQuNC+0YLQtdC6INC80L7QttC10YIg0LfQsNC90Y/RgtGMINCy0YDQtdC80Y8uINCY0YHQv9C+0LvRjNC30YPQudGC0LUg0L3QvtCy0YvQtSDQvtC/0YbQuNC4INCyINC90LDRgdGC0YDQvtC50LrQsNGFINC00LvRjyDRg9GB0LrQvtGA0LXQvdC40Y8g0YHQutCw0L3QuNGA0L7QstCw0L3QuNGPINCx0LjQsdC70LjQvtGC0LXQutC4LjwvcD4KICAgICAgICAgICAgYAogICAgICAgIH0sCiAgICAgICAgbmV3c0ZpbHRlcjogewogICAgICAgICAgICBjYXRlZ29yeTogJ25ld3Nfd2lzaGxpc3QnLAogICAgICAgICAgICBsYWJlbDogItCk0LjQu9GM0YLRgCDQvdC+0LLQvtGB0YLQtdC5IiwKICAgICAgICAgICAgdGl0bGU6ICLQodC40YHRgtC10LzQsCDRgdC60YDRi9GC0LjRjyDQvdC+0LLQvtGB0YLQtdC5INCyINC90L7QstC+0YHRgtC90L7QvCDRhtC10L3RgtGA0LUiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCf0L7Qt9Cy0L7Qu9GP0LXRgiDQs9C40LHQutC+INGD0L/RgNCw0LLQu9GP0YLRjCDQvtGC0L7QsdGA0LDQttC10L3QuNC10Lwg0L3QvtCy0L7RgdGC0LXQuSDQsiDQvdC+0LLQvtGB0YLQvdC+0Lwg0YbQtdC90YLRgNC1IFN0ZWFtICg8YSBocmVmPSJodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vbmV3cy8iIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IzY3YzFmNTsiPnN0b3JlLnN0ZWFtcG93ZXJlZC5jb20vbmV3cy88L2E+KSwg0YHQutGA0YvQstCw0Y8g0L3QtdC40L3RgtC10YDQtdGB0L3Ri9C1INC80LDRgtC10YDQuNCw0LvRiy48L3A+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCe0YHQvdC+0LLQvdGL0LUg0LLQvtC30LzQvtC20L3QvtGB0YLQuCDQuCDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtTo8L3N0cm9uZz48L3A+CiAgICAgICAgICAgICAgICA8b2wgc3R5bGU9Im1hcmdpbi1sZWZ0OiAyMHB4OyBwYWRkaW5nLWxlZnQ6IDVweDsgbGlzdC1zdHlsZS10eXBlOiBkZWNpbWFsOyI+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjdlbTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtCS0YvQsdC+0YAg0L3QvtCy0L7RgdGC0LXQuSDQtNC70Y8g0YHQutGA0YvRgtC40Y86PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7QndCwINC60LDQttC00L7QuSDQvdC+0LLQvtGB0YLQuCDQsiDQv9GA0LDQstC+0Lkg0YfQsNGB0YLQuCDQuNC30L7QsdGA0LDQttC10L3QuNGPINC/0L7Rj9Cy0LvRj9C10YLRgdGPINC60YDRg9C/0L3Ri9C5INC60LLQsNC00YDQsNGC0L3Ri9C5INGH0LXQutCx0L7QutGBLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J/RgNC4INGD0YHRgtCw0L3QvtCy0LrQtSDQs9Cw0LvQvtGH0LrQuCDQvdC+0LLQvtGB0YLRjCDRgdGC0LDQvdC+0LLQuNGC0YHRjyDQv9C+0LvRg9C/0YDQvtC30YDQsNGH0L3QvtC5ICg8ZW0+ItC80Y/Qs9C60L7QtSIg0YHQutGA0YvRgtC40LU8L2VtPikg0Lgg0L7RgtC80LXRh9Cw0LXRgtGB0Y8g0LTQu9GPINC/0L7RgdC70LXQtNGD0Y7RidC10LPQviDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRgdC60YDRi9GC0LjRjy4g0J/QvtCy0YLQvtGA0L3Ri9C5INGJ0LXQu9GH0L7QuiDRgdC90LjQvNCw0LXRgiDQvtGC0LzQtdGC0LrRgy48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjdlbTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtCf0LDQvdC10LvRjCDRg9C/0YDQsNCy0LvQtdC90LjRjyAo0YHQv9GA0LDQstCwINCy0LLQtdGA0YXRgyk6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPiLQodC60YDRi9GC0Ywg0LLRi9Cx0YDQsNC90L3Ri9C1IChYKSI6PC9zdHJvbmc+INCd0LDQttCw0YLQuNC1INGN0YLQvtC5INC60L3QvtC/0LrQuCDQv9C10YDQtdC80LXRidCw0LXRgiDQstGB0LUg0L7RgtC80LXRh9C10L3QvdGL0LUgKNC/0L7Qu9GD0L/RgNC+0LfRgNCw0YfQvdGL0LUpINC90L7QstC+0YHRgtC4INCyINC/0L7RgdGC0L7Rj9C90L3QvtC1INGF0YDQsNC90LjQu9C40YnQtS4g0J3QvtCy0L7RgdGC0Ywg0LjRgdGH0LXQt9Cw0LXRgiDRgSDRjdC60YDQsNC90LAgKNC40LvQuCDRgdGC0LDQvdC+0LLQuNGC0YHRjyDQt9Cw0YLQtdC80L3QtdC90L3QvtC5LCDQtdGB0LvQuCDQstC60LvRjtGH0LXQvSDRgNC10LbQuNC8ICLQn9C+0LrQsNC30LDRgtGMINGB0LrRgNGL0YLQvtC1IikuINCh0YfQtdGC0YfQuNC6INCyINGB0LrQvtCx0LrQsNGFINC/0L7QutCw0LfRi9Cy0LDQtdGCLCDRgdC60L7Qu9GM0LrQviDQvdC+0LLQvtGB0YLQtdC5INGB0LXQudGH0LDRgSDQstGL0LHRgNCw0L3Qvi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+ItCSINGF0YDQsNC90LjQu9C40YnQtTogWCI6PC9zdHJvbmc+INCt0YLQsCDQvdCw0LTQv9C40YHRjCDQv9C+0LrQsNC30YvQstCw0LXRgiDQvtCx0YnQtdC1INC60L7Qu9C40YfQtdGB0YLQstC+INC90L7QstC+0YHRgtC10LksINC90LDRhdC+0LTRj9GJ0LjRhdGB0Y8g0LIg0LLQsNGI0LXQvCDQv9C+0YHRgtC+0Y/QvdC90L7QvCDRhdGA0LDQvdC40LvQuNGJ0LUg0YHQutGA0YvRgtGL0YUg0L3QvtCy0L7RgdGC0LXQuS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+ItCe0YLQvNC10L3QuNGC0YwiOjwvc3Ryb25nPiDQn9C+0Y/QstC70Y/QtdGC0YHRjyDQv9C+0YHQu9C1INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGB0LrRgNGL0YLQuNGPINC4INCw0LrRgtC40LLQvdCwIDYg0YHQtdC60YPQvdC0LiDQn9C+0LfQstC+0LvRj9C10YIg0L7RgtC80LXQvdC40YLRjCDQv9C+0YHQu9C10LTQvdC10LUg0LTQtdC50YHRgtCy0LjQtSDQv9C+INC00L7QsdCw0LLQu9C10L3QuNGOINC90L7QstC+0YHRgtC10Lkg0LIg0YXRgNCw0L3QuNC70LjRidC1LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz4i0J/QvtC60LDQt9Cw0YLRjCDRgdC60YDRi9GC0L7QtSIgLyAi0KHQv9GA0Y/RgtCw0YLRjCDRgdC60YDRi9GC0L7QtSI6PC9zdHJvbmc+INCf0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMLiDQldGB0LvQuCDQstGL0LHRgNCw0L3QviAi0J/QvtC60LDQt9Cw0YLRjCDRgdC60YDRi9GC0L7QtSIsINC90L7QstC+0YHRgtC4INC40Lcg0LLQsNGI0LXQs9C+INGF0YDQsNC90LjQu9C40YnQsCDQsdGD0LTRg9GCINC+0YLQvtCx0YDQsNC20LDRgtGM0YHRjyDQsiDQu9C10L3RgtC1LCDQvdC+INCyINC30LDRgtC10LzQvdC10L3QvdC+0Lwg0LLQuNC00LUuINCSINGA0LXQttC40LzQtSAi0KHQv9GA0Y/RgtCw0YLRjCDRgdC60YDRi9GC0L7QtSIg0L7QvdC4INC/0L7Qu9C90L7RgdGC0YzRjiDQuNGB0YfQtdC30LDRjtGCLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz4i0KXRgNCw0L3QuNC70LjRidC1Ijo8L3N0cm9uZz4g0J7RgtC60YDRi9Cy0LDQtdGCINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0YHQv9C40YHQutC+0Lwg0L/QvtGB0YLQvtGP0L3QvdC+INGB0LrRgNGL0YLRi9GFINC90L7QstC+0YHRgtC10LkuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vaVlUdHlXay5wbmciIGFsdD0i0J/RgNC40LzQtdGAINC40L3RgtC10YDRhNC10LnRgdCwINGE0LjQu9GM0YLRgNCwINC90L7QstC+0YHRgtC10LkiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICAgICAgICAgICA8aHIgc3R5bGU9ImJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM0NDRhNTI7IG1hcmdpbjogMS41ZW0gMDsiPgogICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC43ZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Qn9Cw0L3QtdC70YwgItCl0YDQsNC90LjQu9C40YnQtSDRgdC60YDRi9GC0YvRhSDQvdC+0LLQvtGB0YLQtdC5Ijo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCe0YLQvtCx0YDQsNC20LDQtdGCINGB0L/QuNGB0L7QuiDQstGB0LXRhSDQvdC+0LLQvtGB0YLQtdC5LCDQtNC+0LHQsNCy0LvQtdC90L3Ri9GFINCyINC/0L7RgdGC0L7Rj9C90L3QvtC1INGF0YDQsNC90LjQu9C40YnQtS4g0JTQu9GPINC60LDQttC00L7QuSDQt9Cw0L/QuNGB0Lgg0YPQutCw0LfRi9Cy0LDQtdGC0YHRjyDQvdCw0LfQstCw0L3QuNC1INC40LPRgNGLLCDQt9Cw0LPQvtC70L7QstC+0Log0L3QvtCy0L7RgdGC0Lgg0Lgg0LXQtSBBcHBJRC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+ItCS0LXRgNC90YPRgtGMIjo8L3N0cm9uZz4g0JrQvdC+0L/QutCwINC90LDQv9GA0L7RgtC40LIg0LrQsNC20LTQvtC5INC30LDQv9C40YHQuCDQv9C+0LfQstC+0LvRj9C10YIg0YPQtNCw0LvQuNGC0Ywg0L3QvtCy0L7RgdGC0Ywg0LjQtyDRhdGA0LDQvdC40LvQuNGJ0LAg0Lgg0L3QtdC80LXQtNC70LXQvdC90L4g0L7RgtC+0LHRgNCw0LfQuNGC0Ywg0LXQtSDQsiDQu9C10L3RgtC1ICjQtdGB0LvQuCDQvtC90LAg0LXRidC1INC/0YDQuNGB0YPRgtGB0YLQstGD0LXRgiDQsiBET00pLiDQp9C10LrQsdC+0LrRgSDQvdCwINGN0YLQvtC5INC90L7QstC+0YHRgtC4INGC0LDQutC20LUg0YHQvdC+0LLQsCDRgdGC0LDQvdC10YIg0LDQutGC0LjQstC90YvQvC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+ItCe0YfQuNGB0YLQuNGC0Ywg0YXRgNCw0L3QuNC70LjRidC1Ijo8L3N0cm9uZz4g0KPQtNCw0LvRj9C10YIg0LLRgdC1INC90L7QstC+0YHRgtC4INC40Lcg0LLQsNGI0LXQs9C+INGB0L/QuNGB0LrQsCDQv9C+0YHRgtC+0Y/QvdC90L4g0YHQutGA0YvRgtGL0YUuINCi0YDQtdCx0YPQtdGCINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz4i0JfQsNC60YDRi9GC0YwiOjwvc3Ryb25nPiDQl9Cw0LrRgNGL0LLQsNC10YIg0L/QsNC90LXQu9GMINGF0YDQsNC90LjQu9C40YnQsC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pbWd1ci5jb20vVDVwVWI5YS5wbmciIGFsdD0i0J/RgNC40LzQtdGAINC40L3RgtC10YDRhNC10LnRgdCwINGF0YDQsNC90LjQu9C40YnQsCIgc3R5bGU9Im1heC13aWR0aDogOTAlOyBoZWlnaHQ6IGF1dG87IG1hcmdpbi10b3A6IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogYXV0bzsgbWFyZ2luLXJpZ2h0OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjMzMzOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvb2w+CiAgICAgICAgICAgIGAKICAgICAgICB9LAogICAgICAgIHdpc2hsaXN0R2lmdEhlbHBlcjogewogICAgICAgICAgICBjYXRlZ29yeTogJ25ld3Nfd2lzaGxpc3QnLAogICAgICAgICAgICBsYWJlbDogItCU0L7RgdGC0YPQv9C90L7RgdGC0Ywg0L/QvtC00LDRgNC60L7QsiAo0YHQv9C40YHQvtC6INC20LXQu9Cw0LXQvNC+0LPQvikiLAogICAgICAgICAgICB0aXRsZTogItCU0L7RgdGC0YPQv9C90L7RgdGC0Ywg0L/QvtC00LDRgNC60L7QsiAo0YHQv9C40YHQvtC6INC20LXQu9Cw0LXQvNC+0LPQvikiLAogICAgICAgICAgICBkZXRhaWxzOiBgCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCn0YLQviDQtNC10LvQsNC10YI6PC9zdHJvbmc+INCU0L7QsdCw0LLQu9GP0LXRgiDQutC90L7Qv9C60YMg0YHQviDQt9C90LDRh9C60L7QvCDQu9GD0L/RiyA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3R5bGU9InZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QTYuNDcxIDYuNDcxIDAgMCAwIDE2IDkuNSA2LjUgNi41IDAgMSAwIDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6Ij48L3BhdGg+PC9zdmc+INC90LAg0YHRgtGA0LDQvdC40YbRgyDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+LCDQv9C+0LfQstC+0LvRj9GO0YnRg9GOINC+0L/RgNC10LTQtdC70LjRgtGMLCDQutCw0LrQuNC1INC40LPRgNGLINC80L7QttC90L4g0L/QvtC00LDRgNC40YLRjCDQtNGA0YPQt9GM0Y/QvCDQsiDQtNGA0YPQs9C40YUg0YDQtdCz0LjQvtC90LDRhS48L3A+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtCe0YHQvdC+0LLQvdGL0LUg0YTRg9C90LrRhtC40Lg6PC9zdHJvbmc+PC9wPgogICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgIDxsaT7Ql9Cw0LPRgNGD0LbQsNC10YIg0LjQs9GA0Ysg0LjQtyDQvtGC0L7QsdGA0LDQttCw0LXQvNC+0LPQviDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+INC4INCy0YvQstC+0LTQuNGCINC40YUg0LIg0LLQuNC00LUg0LjQvdGE0L7RgNC80LDRgtC40LLQvdGL0YUg0LrQsNGA0YLQvtGH0LXQui48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT7QndCwINC60LDRgNGC0L7Rh9C60LDRhSDQvtGC0L7QsdGA0LDQttCw0LXRgtGB0Y8g0L/QvtC00YDQvtCx0L3QsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPOiDRhtC10L3QsCwg0YHQutC40LTQutCwLCDRgNC10LnRgtC40L3Qsywg0LTQsNGC0LAg0LLRi9GF0L7QtNCwLCDQuNC30LTQsNGC0LXQu9GMLCDRgNCw0LfRgNCw0LHQvtGC0YfQuNC6LCDRgdC10YDQuNGPLCDQvNC10YLQutC4LCDQv9C+0LTQtNC10YDQttC60LAg0YDRg9GB0YHQutC+0LPQviDRj9C30YvQutCwINC4INGB0YLQsNGC0YPRgSDRgNCw0L3QvdC10LPQviDQtNC+0YHRgtGD0L/QsC48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCU0LvRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuSDQuNC3INCg0KQ6PC9zdHJvbmc+INC90LAg0LrQsNGA0YLQvtGH0LrQsNGFINGC0LDQutC20LUg0L7RgtC+0LHRgNCw0LbQsNC10YLRgdGPINC40L3RhNC+0YDQvNCw0YbQuNGPINC+INGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuCDRgdGC0L7QuNC80L7RgdGC0Lgg0YDQtdC60L7QvNC10L3QtNC+0LLQsNC90L3QvtC5INGA0LXQs9C40L7QvdCw0LvRjNC90L7QuSDRhtC10L3QtSAo0KDQoNCmKSDQvtGCIFZhbHZlLiDQn9C+0LrQsNC30YvQstCw0LXRgtGB0Y8g0YHRgtCw0YLRg9GBICjQtNC+0YDQvtC20LUsINC00LXRiNC10LLQu9C1INC40LvQuCDRgNCw0LLQvdC+INCg0KDQpiksINGB0YPQvNC80LAg0Lgg0L/RgNC+0YbQtdC90YIg0L7RgtC60LvQvtC90LXQvdC40Y8uPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0J/RgNC10LTQvtGB0YLQsNCy0LvRj9C10YIg0LPQuNCx0LrRg9GOINGB0LjRgdGC0LXQvNGDINGE0LjQu9GM0YLRgNCw0YbQuNC4INC/0L4g0YbQtdC90LUsINGB0LrQuNC00LrQtSwg0YDQtdC50YLQuNC90LPRgywg0LTQsNGC0LUg0LLRi9GF0L7QtNCwLCDQv9C+0LTQtNC10YDQttC60LUg0YDRg9GB0YHQutC+0LPQviDRj9C30YvQutCwLCDRgdGC0LDRgtGD0YHRgyDRgNCw0L3QvdC10LPQviDQtNC+0YHRgtGD0L/QsCwg0LAg0YLQsNC60LbQtSA8c3Ryb25nPtC/0L4g0YHQvtC+0YLQstC10YLRgdGC0LLQuNGOINCg0KDQpiAo0LTQu9GPINCg0KQpPC9zdHJvbmc+LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCQ0LrRgtC40LLQuNGA0YPQtdGCINGA0LXQttC40LwgPHN0cm9uZz7Qv9C+0LzQvtGJ0L3QuNC60LAg0L/QvtC00LDRgNC60L7Qsjwvc3Ryb25nPjoKICAgICAgICAgICAgICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCS0Ysg0LLRi9Cx0LjRgNCw0LXRgtC1INGA0LXQs9C40L7QvSDQstCw0YjQtdCz0L4g0LTRgNGD0LPQsC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCh0LrRgNC40L/RgiDQt9Cw0L/RgNCw0YjQuNCy0LDQtdGCINGG0LXQvdGLINC90LAg0LjQs9GA0Ysg0LjQtyDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+INC00LvRjyDQstGL0LHRgNCw0L3QvdC+0LPQviDRgNC10LPQuNC+0L3QsC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCm0LXQvdGLINC00YDRg9Cz0LAg0LrQvtC90LLQtdGA0YLQuNGA0YPRjtGC0YHRjyDQsiDQstCw0YjRgyDQstCw0LvRjtGC0YMgKNC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyBBUEkg0LrRg9GA0YHQvtCyINCy0LDQu9GO0YIpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J7RgtC+0LHRgNCw0LbQsNC10YLRgdGPIDxzdHJvbmc+0YDQsNC30L3QuNGG0LAg0LIg0YbQtdC90LU8L3N0cm9uZz4g0LzQtdC20LTRgyDQstCw0YjQuNC8INGA0LXQs9C40L7QvdC+0Lwg0Lgg0YDQtdCz0LjQvtC90L7QvCDQtNGA0YPQs9CwICjRgSDRhtCy0LXRgtC+0LLQvtC5INC40L3QtNC40LrQsNGG0LjQtdC5OiA8c3BhbiBzdHlsZT0iY29sb3I6Izc3ZGQ3NzsgZm9udC13ZWlnaHQ6Ym9sZDsiPtC30LXQu9GR0L3Ri9C5PC9zcGFuPiAtINC80L7QttC90L4g0LTQsNGA0LjRgtGMICjRgNCw0LfQvdC40YbQsCDQtNC+IMKxMTAlKSwgPHNwYW4gc3R5bGU9ImNvbG9yOiNmZjY5NjE7IGZvbnQtd2VpZ2h0OmJvbGQ7Ij7QutGA0LDRgdC90YvQuTwvc3Bhbj4gLSDQvdC10LvRjNC30Y8pLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0JTQvtGB0YLRg9C/0LXQvSDRhNC40LvRjNGC0YAgPHN0cm9uZz4i0JzQvtC20L3QviDQv9C+0LTQsNGA0LjRgtGMIjwvc3Ryb25nPiwg0LrQvtGC0L7RgNGL0Lkg0L/QvtC60LDQt9GL0LLQsNC10YIg0YLQvtC70YzQutC+INGC0LUg0LjQs9GA0YssINGDINC60L7RgtC+0YDRi9GFINGA0LDQt9C90LjRhtCwINCyINGG0LXQvdC1INC00L4gwrExMCUg0Lgg0LrQvtGC0L7RgNGL0LUgU3RlYW0g0YDQsNC30YDQtdGI0LDQtdGCINC/0L7QutGD0L/QsNGC0Ywg0LIg0L/QvtC00LDRgNC+0LouPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICA8cD7QrdGC0L4g0L/QvtC80L7Qs9Cw0LXRgiDQu9C10LPQutC+INC90LDQudGC0Lgg0L/QvtC00YXQvtC00Y/RidC40LUg0Lgg0Y3QutC+0L3QvtC80LjRh9C10YHQutC4INGG0LXQu9C10YHQvtC+0LHRgNCw0LfQvdGL0LUg0L/QvtC00LDRgNC60Lgg0LTQu9GPINC00YDRg9C30LXQuSDQt9CwINCz0YDQsNC90LjRhtC10LkuPC9wPgogICAgICAgICAgICAgICAgIDxwPjxpPjxzbWFsbD4q0J/RgNC40LzQtdGH0LDQvdC40LU6INCh0LrQvtGA0L7RgdGC0Ywg0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YUg0LfQsNCy0LjRgdC40YIg0L7RgiDRgNCw0LfQvNC10YDQsCDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+Ljwvc21hbGw+PC9pPjwvcD4KICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS93cTllUkNXLnBuZyIgYWx0PSLQn9GA0LjQvNC10YAgV2lzaGxpc3RHaWZ0SGVscGVyIDEiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPmAKICAgICAgICB9LAogICAgICAgIC8vIC0tLSDQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1IC0tLQogICAgICAgIGF1dG9FeHBhbmRIbHRiOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnYWRkaXRpb25hbCcsCiAgICAgICAgICAgIGxhYmVsOiAi0JDQstGC0L4t0YDQsNGB0LrRgNGL0YLQuNC1IEhMVEIiLAogICAgICAgICAgICB0aXRsZTogItCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INGA0LDRgdC60YDRi9Cy0LDRgtGMINGB0L/QvtC50LvQtdGAIEhMVEIiLAogICAgICAgICAgICBkZXRhaWxzOiAiPHA+0JXRgdC70Lgg0LLQutC70Y7Rh9C10L3Qviwg0LHQu9C+0Log0YEg0LjQvdGE0L7RgNC80LDRhtC40LXQuSDQviDQstGA0LXQvNC10L3QuCDQv9GA0L7RhdC+0LbQtNC10L3QuNGPIChITFRCKSDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LjQs9GA0Ysg0LHRg9C00LXRgiDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDRgNCw0YHQutGA0YvQstCw0YLRjNGB0Y8g0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YHRgtGA0LDQvdC40YbRiyAo0LXRgdC70Lgg0L7RgdC90L7QstC90L7QuSDQvNC+0LTRg9C70YwgSExUQiDQstC60LvRjtGH0LXQvSkuPC9wPjxwPtCj0LTQvtCx0L3Qviwg0LXRgdC70Lgg0LLRiyDQstGB0LXQs9C00LAg0YXQvtGC0LjRgtC1INCy0LjQtNC10YLRjCDRjdGC0YMg0LjQvdGE0L7RgNC80LDRhtC40Y4g0LHQtdC3INC70LjRiNC90LXQs9C+INGJ0LXQu9GH0LrQsC48L3A+IgogICAgICAgIH0sCiAgICAgICAgYXV0b0xvYWRSZXZpZXdzOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnYWRkaXRpb25hbCcsCiAgICAgICAgICAgIGxhYmVsOiAi0JDQstGC0L4t0LfQsNCz0YDRg9C30LrQsCDQtNC+0L8uINC+0LHQt9C+0YDQvtCyIiwKICAgICAgICAgICAgdGl0bGU6ICLQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQt9Cw0LPRgNGD0LbQsNGC0Ywg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDQvtCx0LfQvtGA0YsiLAogICAgICAgICAgICBkZXRhaWxzOiAiPHA+0JXRgdC70Lgg0LLQutC70Y7Rh9C10L3Qviwg0LHQu9C+0Log0YEg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQvNC4INC+0LHQt9C+0YDQsNC80LggKNCi0L7RgtCw0LvRjNC90YvQtSwg0JHQtdC30LrQuNGC0LDQudGB0LrQuNC1LCDQoNGD0YHRgdC60LjQtSkg0L3QsCDRgdGC0YDQsNC90LjRhtC1INC40LPRgNGLINCx0YPQtNC10YIg0LfQsNCz0YDRg9C20LDRgtGM0YHRjyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDRgdGC0YDQsNC90LjRhtGLICjQtdGB0LvQuCDQvtGB0L3QvtCy0L3QvtC5INC80L7QtNGD0LvRjCAn0JjQvdC00LjQutCw0YLQvtGA0Ysv0J7QsdC30L7RgNGLJyDQstC60LvRjtGH0LXQvSkuPC9wPjxwPtCt0LrQvtC90L7QvNC40YIg0YnQtdC70YfQvtC6LCDQtdGB0LvQuCDQstCw0Lwg0LLRgdC10LPQtNCwINC90YPQttC90LAg0Y3RgtCwINGB0YLQsNGC0LjRgdGC0LjQutCwLjwvcD4iCiAgICAgICAgfSwKICAgICAgICB0b2dnbGVFbmdsaXNoTGFuZ0luZm86IHsKICAgICAgICAgICAgY2F0ZWdvcnk6ICdhZGRpdGlvbmFsJywKICAgICAgICAgICAgbGFiZWw6ICLQn9C+0LrQsNC3INC40L3RhNC+INC+0LEg0LDQvdCz0LsuINGP0LfRi9C60LUiLAogICAgICAgICAgICB0aXRsZTogItCe0YLQvtCx0YDQsNC20LDRgtGMINC00LDQvdC90YvQtSDQvtCxINCw0L3Qs9C70LjQudGB0LrQvtC8INGP0LfRi9C60LUiLAogICAgICAgICAgICBkZXRhaWxzOiAiPHA+PHN0cm9uZz7QpNGD0L3QutGG0LjRjyDQtNC70Y8g0L/QtdGA0LXQstC+0LTRh9C40LrQvtCyINC4INC40L3RgtC10YDQtdGB0YPRjtGJ0LjRhdGB0Y8uPC9zdHJvbmc+INCV0YHQu9C4INCy0LrQu9GO0YfQtdC90L4sINCyINCx0LvQvtC60LDRhSDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QvtC5INC40L3RhNC+0YDQvNCw0YbQuNC4ICjQsiDQutCw0YLQsNC70L7Qs9C1INC/0YDQuCDQvdCw0LLQtdC00LXQvdC40Lgg0Lgg0LIg0LvQtdC90YLQtSDQsNC60YLQuNCy0L3QvtGB0YLQuCDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4KSDQsdGD0LTQtdGCINGC0LDQutC20LUg0L7RgtC+0LHRgNCw0LbQsNGC0YzRgdGPINC40L3RhNC+0YDQvNCw0YbQuNGPINC+INC/0L7QtNC00LXRgNC20LrQtSDQsNC90LPQu9C40LnRgdC60L7Qs9C+INGP0LfRi9C60LAgKNC40L3RgtC10YDRhNC10LnRgSwg0L7Qt9Cy0YPRh9C60LAsINGB0YPQsdGC0LjRgtGA0YspLCDQsNC90LDQu9C+0LPQuNGH0L3QviDRgNGD0YHRgdC60L7QvNGDLjwvcD48cD7Qn9C+INGD0LzQvtC70YfQsNC90LjRjiDRjdGC0LAg0LjQvdGE0L7RgNC80LDRhtC40Y8g0YHQutGA0YvRgtCwINC00LvRjyDRjdC60L7QvdC+0LzQuNC4INC80LXRgdGC0LAuPC9wPiIKICAgICAgICB9LAogICAgICAgIGluY29nbml0b01vZGVFbmFibGVkOiB7CiAgICAgICAgICAgIGNhdGVnb3J5OiAnaW5jb2duaXRvTW9kZScsCiAgICAgICAgICAgIGxhYmVsOiAi0JLQuNGA0YLRg9Cw0LvRjNC90YvQuSDRgNC10LbQuNC8IMKr0JjQvdC60L7Qs9C90LjRgtC+wrsiLAogICAgICAgICAgICB0aXRsZTogItCT0LvQsNCy0L3Ri9C5INC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMINCy0LjRgNGC0YPQsNC70YzQvdC+0LPQviDRgNC10LbQuNC80LAgwqvQmNC90LrQvtCz0L3QuNGC0L7CuyAo0JIu0KAu0JguKSIsCiAgICAgICAgICAgIGRldGFpbHM6IGAKICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KfRgtC+INC00LXQu9Cw0LXRgjo8L3N0cm9uZz4g0J/QvtC70L3QvtGB0YLRjNGOINCy0LrQu9GO0YfQsNC10YIg0LjQu9C4INC+0YLQutC70Y7Rh9Cw0LXRgiDQvtGB0L3QvtCy0L3Rg9GOINGE0YPQvdC60YbQuNGOINCSLtCgLtCYLiDigJQg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LjQuSDQvtCx0YXQvtC0INGA0LXQs9C40L7QvdCw0LvRjNC90YvRhSDQsdC70L7QutC40YDQvtCy0L7Qui48L3A+CiAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0JLQutC70Y7Rh9C10L3QviAo0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4pOjwvc3Ryb25nPiDQldGB0LvQuCDRgdC60YDQuNC/0YIg0L7QsdC90LDRgNGD0LbQuNGCINC90LAg0YHRgtGA0LDQvdC40YbQtSDQuNCz0YDRiyDRgdC+0L7QsdGJ0LXQvdC40LUgItCU0LDQvdC90YvQuSDRgtC+0LLQsNGAINC90LXQtNC+0YHRgtGD0L/QtdC9INCyINCy0LDRiNC10Lwg0YDQtdCz0LjQvtC90LUiLCDQvtC9INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC/0L7Qv9GL0YLQsNC10YLRgdGPINC30LDQs9GA0YPQt9C40YLRjCDRgdGC0YDQsNC90LjRhtGDINGH0LXRgNC10Lcg0LLRi9Cx0YDQsNC90L3Ri9C5INGA0LXQs9C40L7QvSDQki7QoC7QmC48L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCe0YLQutC70Y7Rh9C10L3Qvjo8L3N0cm9uZz4g0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LjQuSDQvtCx0YXQvtC0INCx0LvQvtC60LjRgNC+0LLQvtC6INC/0YDQvtC40LfQstC+0LTQuNGC0YzRgdGPINC90LUg0LHRg9C00LXRgi4g0KHRgtGA0LDQvdC40YbQsCDRgSDRgNC10LPQuNC+0L3QsNC70YzQvdGL0Lwg0L7Qs9GA0LDQvdC40YfQtdC90LjQtdC8INC+0YHRgtCw0L3QtdGC0YHRjyDQsdC10Lcg0LjQt9C80LXQvdC10L3QuNC5LjwvbGk+CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgcGFkZGluZzogMTBweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE3OSwgMCwgMC4xKTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3OSwgMCwgMC40KTsgYm9yZGVyLXJhZGl1czogNHB4OyBmb250LXNpemU6IDAuOTVlbTsgbGluZS1oZWlnaHQ6IDEuNDsiPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjYzZkNGRmOyI+PHN0cm9uZz7QktCw0LbQvdC+Ojwvc3Ryb25nPiDQrdGC0L4g0LPQu9Cw0LLQvdGL0Lkg0L/QtdGA0LXQutC70Y7Rh9Cw0YLQtdC70YwuINCV0LPQviDQvtGC0LrQu9GO0YfQtdC90LjQtSDQtNC10LDQutGC0LjQstC40YDRg9C10YIg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LjQuSDQvtCx0YXQvtC0LCDQtNCw0LbQtSDQtdGB0LvQuCDQvtGB0YLQsNC70YzQvdGL0LUg0L3QsNGB0YLRgNC+0LnQutC4INCSLtCgLtCYLiAo0LrQvdC+0L/QutCwLCDRgNC10LPQuNC+0L0pINC30LDQtNCw0L3Riy4g0KDRg9GH0L3QvtC5INC30LDQv9GD0YHQuiDRh9C10YDQtdC3INC60L3QvtC/0LrRgyAiaW4iINC/0L4t0L/RgNC10LbQvdC10LzRgyDQsdGD0LTQtdGCINGA0LDQsdC+0YLQsNGC0YwuPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9pLmltZ3VyLmNvbS9UR21Sa09QLnBuZyIgYWx0PSLQn9GA0LjQvNC10YAiIHN0eWxlPSJtYXgtd2lkdGg6IDkwJTsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgIzMzMzsiPgogICAgICAgICAgICBgCiDCoCDCoCDCoCDCoCB9LAogICAgICAgIHNob3dJbmNvZ25pdG9CdXR0b246IHsKICAgICAgICAgICAgY2F0ZWdvcnk6ICdpbmNvZ25pdG9Nb2RlJywKICAgICAgICAgICAgbGFiZWw6ICLQmtC90L7Qv9C60LAg0YDQtdC20LjQvNCwIMKr0JjQvdC60L7Qs9C90LjRgtC+wrsiLAogICAgICAgICAgICB0aXRsZTogItCe0YLQvtCx0YDQsNC20LXQvdC40LUg0LrQvdC+0L/QutC4INGA0YPRh9C90L7Qs9C+INCy0LrQu9GO0YfQtdC90LjRjyDRgNC10LbQuNC80LAgwqvQmNC90LrQvtCz0L3QuNGC0L7CuyIsCiAgICAgICAgICAgIGRldGFpbHM6IGAKICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KfRgtC+INC00LXQu9Cw0LXRgjo8L3N0cm9uZz4g0JTQvtCx0LDQstC70Y/QtdGCINC40LvQuCDRg9Cx0LjRgNCw0LXRgiDQutC90L7Qv9C60YMgImluIiDRgNGP0LTQvtC8INGBINC70L7Qs9C+0YLQuNC/0L7QvCBTdGVhbS48L3A+CiAgICAgICAgICAgICAgICA8cD7QrdGC0LAg0LrQvdC+0L/QutCwINC/0L7Qt9Cy0L7Qu9GP0LXRgiDQstGA0YPRh9C90YPRjiDQv9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDQu9GO0LHRg9GOINGB0YLRgNCw0L3QuNGG0YMgU3RlYW0g0LIgwqvQstC40YDRgtGD0LDQu9GM0L3QvtC8INGA0LXQttC40LzQtSDQuNC90LrQvtCz0L3QuNGC0L7Cuy48L3A+CiAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0JLQutC70Y7Rh9C10L3Qvjo8L3N0cm9uZz4g0JrQvdC+0L/QutCwICJpbiIg0LHRg9C00LXRgiDQstC40LTQvdCwLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0J7RgtC60LvRjtGH0LXQvdC+Ojwvc3Ryb25nPiDQmtC90L7Qv9C60LAgImluIiDQsdGD0LTQtdGCINGB0LrRgNGL0YLQsC48L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgIDxwPjxlbT7Qn9GA0LjQvNC10YfQsNC90LjQtTo8L2VtPiDQntGC0LrQu9GO0YfQtdC90LjQtSDQutC90L7Qv9C60Lgg0L3QtSDQvtGC0LrQu9GO0YfQsNC10YIg0YHQsNC8INGA0LXQttC40Lwg0LjQvdC60L7Qs9C90LjRgtC+LiDQntC9INC30LDQv9GD0YHQutCw0LXRgtGB0Y8g0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0LTQu9GPINC/0YDQvtGB0LzQvtGC0YDQsCDQt9Cw0LHQu9C+0LrQuNGA0L7QstCw0L3QvdGL0YUg0YHRgtGA0LDQvdC40YYuINCt0YLQsCDQvtC/0YbQuNGPINC60L7QvdGC0YDQvtC70LjRgNGD0LXRgiDRgtC+0LvRjNC60L4g0Y3Qu9C10LzQtdC90YIg0LTQu9GPINGA0YPRh9C90L7Qs9C+INC30LDQv9GD0YHQutCwLjwvcD4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaW1ndXIuY29tL0Z5S0JSTWEucG5nIiBhbHQ9ItCf0YDQuNC80LXRgCDQutC90L7Qv9C60Lgg0JjQvdC60L7Qs9C90LjRgtC+IiBzdHlsZT0ibWF4LXdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7Ij4KICAgICAgICAgICAgYAogICAgICAgIH0sCiAgICAgICAgaW5jb2duaXRvRGVmYXVsdFJlZ2lvbjogewogICAgICAgICAgICBjYXRlZ29yeTogJ2luY29nbml0b01vZGUnLAogICAgICAgICAgICBsYWJlbDogItCg0LXQs9C40L7QvSDQki7QoC7QmC4iLAogICAgICAgICAgICB0aXRsZTogItCS0YvQsdC+0YAg0YDQtdCz0LjQvtC90LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0LTQu9GPINCy0LjRgNGC0YPQsNC70YzQvdC+0LPQviDRgNC10LbQuNC80LAgwqvQmNC90LrQvtCz0L3QuNGC0L7CuyIsCiAgICAgICAgICAgIGRldGFpbHM6IGAKICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KfRgtC+INC00LXQu9Cw0LXRgjo8L3N0cm9uZz4g0J/QvtC30LLQvtC70Y/QtdGCINCy0YvQsdGA0LDRgtGMINGA0LXQs9C40L7QvSwg0L7RgiDQutC+0YLQvtGA0L7Qs9C+INCx0YPQtNGD0YIg0L7RgdGD0YnQtdGB0YLQstC70Y/RgtGM0YHRjyDQt9Cw0L/RgNC+0YHRiyDQsiDRgNC10LbQuNC80LUgwqvQmNC90LrQvtCz0L3QuNGC0L7Cuy48L3A+CiAgICAgICAgICAgICAgICA8cD7Qn9C+INGD0LzQvtC70YfQsNC90LjRjiDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8gPHN0cm9uZz5VUyAo0KHQqNCQKTwvc3Ryb25nPiwg0YLQsNC6INC60LDQuiDRjdGC0L4g0L3QsNC40LHQvtC70LXQtSDRg9C90LjQstC10YDRgdCw0LvRjNC90YvQuSDRgNC10LPQuNC+0L0uPC9wPgogICAgICAgICAgICAgICAgPHA+0JjQt9C80LXQvdC10L3QuNC1INGN0YLQvtCz0L4g0L/QsNGA0LDQvNC10YLRgNCwINC/0L7QstC70LjRj9C10YIg0L3QsDo8L3A+CiAgICAgICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAgICAgPGxpPtCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutC40Lkg0L7QsdGF0L7QtCDRgNC10LPQuNC+0L3QsNC70YzQvdGL0YUg0LHQu9C+0LrQuNGA0L7QstC+0LouPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+0KDRg9GH0L3QvtC5INC30LDQv9GD0YHQuiDRgNC10LbQuNC80LAg0LjQvdC60L7Qs9C90LjRgtC+INGH0LXRgNC10Lcg0LrQvdC+0L/QutGDICdpbicuPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIGAKICAgICAgICB9CiAgICB9OwoKICAgIGZ1bmN0aW9uIHNob3dJbmZvTW9kYWwoc2V0dGluZ0tleSkgewogICAgICAgIGNvbnN0IGV4aXN0aW5nSW5mb01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZVNldHRpbmdJbmZvTW9kYWwnKTsKICAgICAgICBpZiAoZXhpc3RpbmdJbmZvTW9kYWwpIGV4aXN0aW5nSW5mb01vZGFsLnJlbW92ZSgpOwoKICAgICAgICBjb25zdCBpbmZvRGF0YSA9IHNldHRpbmdJbmZvW3NldHRpbmdLZXldOwogICAgICAgIGlmICghaW5mb0RhdGEpIHJldHVybjsKCiAgICAgICAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgaW5mb01vZGFsLmlkID0gJ3VzZVNldHRpbmdJbmZvTW9kYWwnOwogICAgICAgIGluZm9Nb2RhbC5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogNTAlOwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYyYzNhOwogICAgICAgICAgICBjb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgcGFkZGluZzogMjVweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjOGY5OGEwOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDVweCAyNXB4IHJnYmEoMCwgMCwgMCwgMC43KTsKICAgICAgICAgICAgei1pbmRleDogMTAwMDI7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICB3aWR0aDogODAwcHg7CiAgICAgICAgICAgIG1heC13aWR0aDogOTB2dzsKICAgICAgICAgICAgbWF4LWhlaWdodDogOTB2aDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJNb3RpdmEgU2FucyIsCiAgICAgICAgICAgIFNhbnMtc2VyaWYsCiAgICAgICAgICAgIEFyaWFsOwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogIzRiNmY5YyAjMWIyODM4OwogICAgICAgICAgICBzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgYDsKICAgICAgICBpbmZvTW9kYWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tc2Nyb2xsYmFyLXRyYWNrLWNvbG9yLWluZm8nLCAnIzFiMjgzOCcpOwogICAgICAgIGluZm9Nb2RhbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zY3JvbGxiYXItdGh1bWItY29sb3ItaW5mbycsICcjNGI2ZjljJyk7CiAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgI3VzZVNldHRpbmdJbmZvTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICAgICAgCXdpZHRoOiA4cHg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICN1c2VTZXR0aW5nSW5mb01vZGFsOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kOiB2YXIoLS1zY3JvbGxiYXItdHJhY2stY29sb3ItaW5mbyk7CiAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICN1c2VTZXR0aW5nSW5mb01vZGFsOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zY3JvbGxiYXItdGh1bWItY29sb3ItaW5mbyk7CiAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIAlib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1zY3JvbGxiYXItdHJhY2stY29sb3ItaW5mbyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICN1c2VTZXR0aW5nSW5mb01vZGFsOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICB9CgogICAgICAgICAgICAjdXNlU2V0dGluZ0luZm9Nb2RhbCBwIHsKICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDFlbTsKICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxLjY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICN1c2VTZXR0aW5nSW5mb01vZGFsIHVsIHsKICAgICAgICAgICAgCW1hcmdpbi1sZWZ0OiAyMHB4OwogICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICAgICAgICAJbGlzdC1zdHlsZS1wb3NpdGlvbjogb3V0c2lkZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI3VzZVNldHRpbmdJbmZvTW9kYWwgbGkgewogICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogMC41ZW07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICN1c2VTZXR0aW5nSW5mb01vZGFsIHN0cm9uZyB7CiAgICAgICAgICAgIAljb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI3VzZVNldHRpbmdJbmZvTW9kYWwgaW1nIHsKICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI3VzZVNldHRpbmdJbmZvTW9kYWwgYSB7CiAgICAgICAgICAgIAljb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI3VzZVNldHRpbmdJbmZvTW9kYWwgYTpob3ZlciB7CiAgICAgICAgICAgIAl0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgICAgICAgICAgfQogICAgICAgIGApOwoKICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7CiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBpbmZvRGF0YS50aXRsZSB8fCAi0JjQvdGE0L7RgNC80LDRhtC40Y8iOwogICAgICAgIHRpdGxlLnN0eWxlLmNzc1RleHQgPSAnbWFyZ2luLXRvcDogMDsgbWFyZ2luLWJvdHRvbTogMjBweDsgY29sb3I6ICM2N2MxZjU7IHRleHQtYWxpZ246IGNlbnRlcjsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC1zaXplOiAxN3B4Oyc7CiAgICAgICAgaW5mb01vZGFsLmFwcGVuZENoaWxkKHRpdGxlKTsKCiAgICAgICAgY29uc3QgZGV0YWlsc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGRldGFpbHNEaXYuaW5uZXJIVE1MID0gaW5mb0RhdGEuZGV0YWlscyB8fCAi0J7Qv9C40YHQsNC90LjQtSDQvtGC0YHRg9GC0YHRgtCy0YPQtdGCLiI7CiAgICAgICAgaW5mb01vZGFsLmFwcGVuZENoaWxkKGRldGFpbHNEaXYpOwoKICAgICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgIGNsb3NlQnV0dG9uLnRleHRDb250ZW50ID0gJ9CX0LDQutGA0YvRgtGMJzsKICAgICAgICBjbG9zZUJ1dHRvbi5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAyNXB4IGF1dG8gMDsgcGFkZGluZzogMTBweCAyNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGY5OGEwOyBjb2xvcjogIzFiMjgzODsgYm9yZGVyOiBub25lOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzOwogICAgICAgIGA7CiAgICAgICAgY2xvc2VCdXR0b24ub25tb3VzZW92ZXIgPSAoKSA9PiBjbG9zZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2FhYjVjMSc7CiAgICAgICAgY2xvc2VCdXR0b24ub25tb3VzZW91dCA9ICgpID0+IGNsb3NlQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjOGY5OGEwJzsKICAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpbmZvTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgfSk7CiAgICAgICAgaW5mb01vZGFsLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTsKCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbmZvTW9kYWwpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZVNldHRpbmdSb3coa2V5KSB7CiDCoCDCoCDCoCDCoCBjb25zdCBzZXR0aW5nRGF0YSA9IHNldHRpbmdJbmZvW2tleV07CiDCoCDCoCDCoCDCoCBpZiAoIXNldHRpbmdEYXRhKSByZXR1cm4gbnVsbDsKCiDCoCDCoCDCoCDCoCBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKIMKgIMKgIMKgIMKgIHJvdy5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgbWluLWhlaWdodDogMjRweDsnOwoKIMKgIMKgIMKgIMKgIGNvbnN0IGxhYmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsKIMKgIMKgIMKgIMKgIGxhYmVsQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgY3Vyc29yOiBwb2ludGVyOyBmbGV4LWdyb3c6IDE7IG1hcmdpbi1yaWdodDogMTBweDsnOwoKIMKgIMKgIMKgIMKgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKIMKgIMKgIMKgIMKgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnOwogwqAgwqAgwqAgwqAgaWYgKGtleSA9PT0gJ3Nob3dJbmNvZ25pdG9CdXR0b24nKSB7CiDCoCDCoCDCoCDCoCDCoCDCoCBjaGVja2JveC5jaGVja2VkID0gR01fZ2V0VmFsdWUoJ3VzZV9pbmNvZ25pdG9fYnV0dG9uX2VuYWJsZWQnLCBmYWxzZSk7CiDCoCDCoCDCoCDCoCB9IGVsc2UgaWYgKGtleSA9PT0gJ2luY29nbml0b01vZGVFbmFibGVkJykgewogwqAgwqAgwqAgwqAgwqAgwqAgY2hlY2tib3guY2hlY2tlZCA9IEdNX2dldFZhbHVlKCd1c2VfaW5jb2duaXRvX21vZGVfZW5hYmxlZCcsIHRydWUpOwogwqAgwqAgwqAgwqAgfSBlbHNlIHsKIMKgIMKgIMKgIMKgIMKgIMKgIGNoZWNrYm94LmNoZWNrZWQgPSB1c2VDdXJyZW50U2V0dGluZ3Nba2V5XTsKIMKgIMKgIMKgIMKgIH0KIMKgIMKgIMKgIMKgIGNoZWNrYm94LmRhdGFzZXQuc2V0dGluZ0tleSA9IGtleTsKIMKgIMKgIMKgIMKgIGNoZWNrYm94LnN0eWxlLmNzc1RleHQgPSAnbWFyZ2luLXJpZ2h0OiAxMHB4OyBhY2NlbnQtY29sb3I6ICM2N2MxZjU7IGN1cnNvcjogcG9pbnRlcjsgd2lkdGg6IDE2cHg7IGhlaWdodDogMTZweDsgZmxleC1zaHJpbms6IDA7JzsKCiDCoCDCoCDCoCDCoCBjb25zdCBsYWJlbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiDCoCDCoCDCoCDCoCBsYWJlbFRleHQudGV4dENvbnRlbnQgPSBzZXR0aW5nRGF0YS5sYWJlbCB8fCBrZXk7CiDCoCDCoCDCoCDCoCBsYWJlbFRleHQuc3R5bGUubGluZUhlaWdodCA9ICcxLjMnOwoKIMKgIMKgIMKgIMKgIGlmIChrZXkgPT09ICdnYW1lUGFnZScpIHsKIMKgIMKgIMKgIMKgIMKgIMKgIGxhYmVsVGV4dC5zdHlsZS5jb2xvciA9ICcjOUU5RTlFJzsKIMKgIMKgIMKgIMKgIMKgIMKgIGNoZWNrYm94LnN0eWxlLmFjY2VudENvbG9yID0gJyNGRkIzMDAnOwoKIMKgIMKgIMKgIMKgIMKgIMKgIGNvbnN0IGRlcGVuZGVudExhYmVsc1Rvb2x0aXAgPSBkZXBlbmRlbnRNb2R1bGVzLmdhbWVQYWdlCiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCAubWFwKGRlcEtleSA9PiBgJyR7c2V0dGluZ0luZm9bZGVwS2V5XT8ubGFiZWwgfHwgZGVwS2V5fSdgKQogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgLmpvaW4oJywgJyk7CiDCoCDCoCDCoCDCoCDCoCDCoCBsYWJlbENvbnRhaW5lci50aXRsZSA9IGDQntGC0LrQu9GO0YfQtdC90LjQtSDRjdGC0L7Qs9C+INC80L7QtNGD0LvRjyDQv9GA0LjQstC10LTQtdGCINC6INC90LDRgNGD0YjQtdC90LjRjiDRgNCw0LHQvtGC0Ysg0LjQu9C4INC/0L7Qu9C90L7QvNGDINC+0YLQutC70Y7Rh9C10L3QuNGOINC80L7QtNGD0LvQtdC5OiAke2RlcGVuZGVudExhYmVsc1Rvb2x0aXB9LiDQrdGC0Lgg0LzQvtC00YPQu9C4INC60YDQuNGC0LjRh9C10YHQutC4INC30LDQstC40YHRj9GCINC+0YIg0LTQsNC90L3QvtCz0L4g0LzQvtC00YPQu9GPLmA7CiDCoCDCoCDCoCDCoCB9CgogwqAgwqAgwqAgwqAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiDCoCDCoCDCoCDCoCDCoCDCoCBjb25zdCBjdXJyZW50U2V0dGluZ0tleSA9IHRoaXMuZGF0YXNldC5zZXR0aW5nS2V5OwogwqAgwqAgwqAgwqAgwqAgwqAgY29uc3QgaXNDaGVja2VkID0gdGhpcy5jaGVja2VkOwoKIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChjdXJyZW50U2V0dGluZ0tleSA9PT0gJ3Nob3dJbmNvZ25pdG9CdXR0b24nKSB7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBHTV9zZXRWYWx1ZSgndXNlX2luY29nbml0b19idXR0b25fZW5hYmxlZCcsIGlzQ2hlY2tlZCk7CiDCoCDCoCDCoCDCoCDCoCDCoCB9IGVsc2UgaWYgKGN1cnJlbnRTZXR0aW5nS2V5ID09PSAnaW5jb2duaXRvTW9kZUVuYWJsZWQnKSB7CiAJCQkgCUdNX3NldFZhbHVlKCd1c2VfaW5jb2duaXRvX21vZGVfZW5hYmxlZCcsIGlzQ2hlY2tlZCk7CiDCoCDCoCDCoCDCoCDCoCDCoCB9IGVsc2UgaWYgKGN1cnJlbnRTZXR0aW5nS2V5ID09PSAnZ2FtZVBhZ2UnICYmICFpc0NoZWNrZWQpIHsKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGNvbnN0IGRlcGVuZGVudEZ1bGxOYW1lcyA9IGRlcGVuZGVudE1vZHVsZXMuZ2FtZVBhZ2UKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIC5tYXAoZGVwS2V5ID0+IGAnJHtzZXR0aW5nSW5mb1tkZXBLZXldPy5sYWJlbCB8fCBkZXBLZXl9J2ApCiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCAuam9pbignLCAnKTsKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHNob3dDb25maXJtYXRpb25Nb2RhbCgKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgICfQn9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtSDQvtGC0LrQu9GO0YfQtdC90LjRjycsCiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBg0J7RgtC60LvRjtGH0LXQvdC40LUg0Y3RgtC+0LPQviDQvNC+0LTRg9C70Y8g0L/RgNC40LLQtdC00ZHRgiDQuiDQvtGC0LrQu9GO0YfQtdC90LjRjiDQvNC+0LTRg9C70LXQuTogJHtkZXBlbmRlbnRGdWxsTmFtZXN9LiDQktGLINGD0LLQtdGA0LXQvdGLP2AsCiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCAoKSA9PiB7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB1c2VDdXJyZW50U2V0dGluZ3NbY3VycmVudFNldHRpbmdLZXldID0gZmFsc2U7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBzY3JpcHRzQ29uZmlnW2N1cnJlbnRTZXR0aW5nS2V5XSA9IGZhbHNlOwoKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGRlcGVuZGVudE1vZHVsZXMuZ2FtZVBhZ2UuZm9yRWFjaChkZXBLZXkgPT4gewogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgdXNlQ3VycmVudFNldHRpbmdzW2RlcEtleV0gPSBmYWxzZTsKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHNjcmlwdHNDb25maWdbZGVwS2V5XSA9IGZhbHNlOwogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgY29uc3QgZGVwQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBpbnB1dFtkYXRhLXNldHRpbmcta2V5PSIke2RlcEtleX0iXWApOwogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgaWYgKGRlcENoZWNrYm94KSB7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBkZXBDaGVja2JveC5jaGVja2VkID0gZmFsc2U7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9KTsKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIEdNX3NldFZhbHVlKCd1c2VTZXR0aW5ncycsIHVzZUN1cnJlbnRTZXR0aW5ncyk7CiDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9LAogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgKCkgPT4gewogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgdGhpcy5jaGVja2VkID0gdHJ1ZTsKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIH0KIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgICk7CiDCoCDCoCDCoCDCoCDCoCDCoCB9IGVsc2UgewogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgdXNlQ3VycmVudFNldHRpbmdzW2N1cnJlbnRTZXR0aW5nS2V5XSA9IGlzQ2hlY2tlZDsKIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHNjcmlwdHNDb25maWdbY3VycmVudFNldHRpbmdLZXldID0gaXNDaGVja2VkOwogwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgR01fc2V0VmFsdWUoJ3VzZVNldHRpbmdzJywgdXNlQ3VycmVudFNldHRpbmdzKTsKIMKgIMKgIMKgIMKgIMKgIMKgIH0KIMKgIMKgIMKgIMKgIH0pOwoKIMKgIMKgIMKgIMKgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTsKIMKgIMKgIMKgIMKgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsVGV4dCk7CiDCoCDCoCDCoCDCoCByb3cuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKIMKgIMKgIMKgIMKgIGNvbnN0IGluZm9CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiDCoCDCoCDCoCDCoCBpbmZvQnV0dG9uLnRleHRDb250ZW50ID0gJ+KTmCc7CiDCoCDCoCDCoCDCoCBpbmZvQnV0dG9uLnN0eWxlLmNzc1RleHQgPSBgCiDCoCDCoCDCoCDCoCDCoCDCoCBjdXJzb3I6IHBvaW50ZXI7IGNvbG9yOiAjNjdjMWY1OyBmb250LXNpemU6IDE4cHg7CiDCoCDCoCDCoCDCoCDCoCDCoCBsaW5lLWhlaWdodDogMTsgZm9udC13ZWlnaHQ6IGJvbGQ7CiDCoCDCoCDCoCDCoCDCoCDCoCBtYXJnaW4tbGVmdDogNXB4OyBwYWRkaW5nOiAwIDRweDsgYm9yZGVyLXJhZGl1czogM3B4OyB1c2VyLXNlbGVjdDogbm9uZTsKIMKgIMKgIMKgIMKgIMKgIMKgIHRyYW5zaXRpb246IGNvbG9yIDAuMnMsIGJhY2tncm91bmQtY29sb3IgMC4yczsKIMKgIMKgIMKgIMKgIMKgIMKgIGZsZXgtc2hyaW5rOiAwOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogwqAgwqAgwqAgwqAgYDsKIMKgIMKgIMKgIMKgIGluZm9CdXR0b24udGl0bGUgPSAn0J/QvtC00YDQvtCx0L3QtdC1Li4uJzsKIMKgIMKgIMKgIMKgIGluZm9CdXR0b24ub25tb3VzZW92ZXIgPSAoKSA9PiB7IGluZm9CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMTAzLCAxOTMsIDI0NSwgMC4yKSc7IH07CiDCoCDCoCDCoCDCoCBpbmZvQnV0dG9uLm9ubW91c2VvdXQgPSAoKSA9PiB7IGluZm9CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JzsgfTsKIMKgIMKgIMKgIMKgIGluZm9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogwqAgwqAgwqAgwqAgwqAgwqAgZS5zdG9wUHJvcGFnYXRpb24oKTsKIMKgIMKgIMKgIMKgIMKgIMKgIHNob3dJbmZvTW9kYWwoa2V5KTsKIMKgIMKgIMKgIMKgIH0pOwoKIMKgIMKgIMKgIMKgIHJvdy5hcHBlbmRDaGlsZChpbmZvQnV0dG9uKTsKIMKgIMKgIMKgIMKgIHJldHVybiByb3c7CiDCoCDCoCB9CgoJZnVuY3Rpb24gY3JlYXRlU2V0dGluZ1NlbGVjdFJvdyhrZXksIG9wdGlvbnMpIHsKCSAgICBjb25zdCBzZXR0aW5nRGF0YSA9IHNldHRpbmdJbmZvW2tleV07CgkgICAgaWYgKCFzZXR0aW5nRGF0YSkgcmV0dXJuIG51bGw7CgoJICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJICAgIHJvdy5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgbWluLWhlaWdodDogMjRweDsgcGFkZGluZzogNXB4IDA7JzsKCgkgICAgY29uc3QgbGFiZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwoJICAgIGxhYmVsQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgY3Vyc29yOiBkZWZhdWx0OyBmbGV4LWdyb3c6IDE7IG1hcmdpbi1yaWdodDogMTBweDsnOwoKCSAgICBjb25zdCBsYWJlbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CgkgICAgbGFiZWxUZXh0LnRleHRDb250ZW50ID0gc2V0dGluZ0RhdGEubGFiZWwgfHwga2V5OwoJICAgIGxhYmVsVGV4dC5zdHlsZS5saW5lSGVpZ2h0ID0gJzEuMyc7CgkgICAgbGFiZWxUZXh0LnN0eWxlLm1hcmdpblJpZ2h0ID0gJzEwcHgnOwoJICAgIGxhYmVsVGV4dC5zdHlsZS5mbGV4U2hyaW5rID0gJzAnOwoJICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsVGV4dCk7CgoJICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwoJICAgIHNlbGVjdC5kYXRhc2V0LnNldHRpbmdLZXkgPSBrZXk7CgkgICAgc2VsZWN0LnN0eWxlLmNzc1RleHQgPSBgCgkgICAgICAgIGZsZXgtZ3JvdzogMTsKCSAgICAgICAgcGFkZGluZzogNHB4IDZweDsKCSAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJhM2Y1YTsKCSAgICAgICAgY29sb3I6ICNjNmQ0ZGY7CgkgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM1NjdkOWM7CgkgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKCSAgICAgICAgY3Vyc29yOiBwb2ludGVyOwoJICAgICAgICBmb250LXNpemU6IDEzcHg7CgkgICAgYDsKCgkgICAgY29uc3Qgc29ydGVkT3B0aW9ucyA9IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpLnNvcnQoKFssIGFdLCBbLCBiXSkgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7CgoJICAgIHNvcnRlZE9wdGlvbnMuZm9yRWFjaCgoW2NvZGUsIGRhdGFdKSA9PiB7CgkgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwoJICAgICAgICBvcHRpb24udmFsdWUgPSBjb2RlOwoJICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtkYXRhLm5hbWV9ICgke2NvZGV9KWA7CgkgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwoJICAgIH0pOwoKCSAgICBzZWxlY3QudmFsdWUgPSBHTV9nZXRWYWx1ZSgndXNlX2luY29nbml0b19kZWZhdWx0X3JlZ2lvbicsICdVUycpOwoKCSAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7CgkgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSB0aGlzLnZhbHVlOwoJICAgICAgICB1c2VDdXJyZW50U2V0dGluZ3Nba2V5XSA9IHNlbGVjdGVkVmFsdWU7CgkgICAgICAgIEdNX3NldFZhbHVlKCd1c2VfaW5jb2duaXRvX2RlZmF1bHRfcmVnaW9uJywgc2VsZWN0ZWRWYWx1ZSk7CgkgICAgfSk7CgoJICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdCk7CgkgICAgcm93LmFwcGVuZENoaWxkKGxhYmVsQ29udGFpbmVyKTsKCgkgICAgY29uc3QgaW5mb0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKCSAgICBpbmZvQnV0dG9uLnRleHRDb250ZW50ID0gJ+KTmCc7CgkgICAgaW5mb0J1dHRvbi5zdHlsZS5jc3NUZXh0ID0gYAoJICAgICAgICBjdXJzb3I6IHBvaW50ZXI7IGNvbG9yOiAjNjdjMWY1OyBmb250LXNpemU6IDE4cHg7IGxpbmUtaGVpZ2h0OiAxOwoJICAgICAgICBmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWxlZnQ6IDVweDsgcGFkZGluZzogMCA0cHg7IGJvcmRlci1yYWRpdXM6IDNweDsKCSAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7IHRyYW5zaXRpb246IGNvbG9yIDAuMnMsIGJhY2tncm91bmQtY29sb3IgMC4yczsKCSAgICAgICAgZmxleC1zaHJpbms6IDA7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CgkgICAgYDsKCSAgICBpbmZvQnV0dG9uLnRpdGxlID0gJ9Cf0L7QtNGA0L7QsdC90LXQtS4uLic7CgkgICAgaW5mb0J1dHRvbi5vbm1vdXNlb3ZlciA9ICgpID0+IHsgaW5mb0J1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgxMDMsIDE5MywgMjQ1LCAwLjIpJzsgfTsKCSAgICBpbmZvQnV0dG9uLm9ubW91c2VvdXQgPSAoKSA9PiB7IGluZm9CdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JzsgfTsKCSAgICBpbmZvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCSAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKCSAgICAgICAgc2hvd0luZm9Nb2RhbChrZXkpOwoJICAgIH0pOwoJICAgIHJvdy5hcHBlbmRDaGlsZChpbmZvQnV0dG9uKTsKCgkgICAgcmV0dXJuIHJvdzsKCX0KCiAgICBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc01vZGFsKCkgewogICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlU2V0dGluZ3NNb2RhbCcpOwogICAgICAgIGlmIChleGlzdGluZ01vZGFsKSBleGlzdGluZ01vZGFsLnJlbW92ZSgpOwoKICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1vZGFsLmlkID0gJ3VzZVNldHRpbmdzTW9kYWwnOwogICAgICAgIG1vZGFsLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNzFhMjE7CiAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICBwYWRkaW5nOiAzMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM2N2MxZjU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjgpOwogICAgICAgICAgICB6LWluZGV4OiAxMDAwMTsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiA4MDBweDsKICAgICAgICAgICAgbWF4LWhlaWdodDogOTB2aDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJNb3RpdmEgU2FucyIsCiAgICAgICAgICAgIFNhbnMtc2VyaWYsCiAgICAgICAgICAgIEFyaWFsOwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogIzRiNmY5YyAjMWIyODM4OwogICAgICAgICAgICBzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgYDsKICAgICAgICBtb2RhbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zY3JvbGxiYXItdHJhY2stY29sb3InLCAnIzFiMjgzOCcpOwogICAgICAgIG1vZGFsLnN0eWxlLnNldFByb3BlcnR5KCctLXNjcm9sbGJhci10aHVtYi1jb2xvcicsICcjNGI2ZjljJyk7CgogICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgI3VzZVNldHRpbmdzTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICAgICAgICAgIHdpZHRoOiA4cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI3VzZVNldHRpbmdzTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNjcm9sbGJhci10cmFjay1jb2xvcik7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI3VzZVNldHRpbmdzTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNjcm9sbGJhci10aHVtYi1jb2xvcik7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1zY3JvbGxiYXItdHJhY2stY29sb3IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICN1c2VTZXR0aW5nc01vZGFsOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICB9CiAgICAgICAgICAgICN1c2VDcmVkaXRzRm9vdGVyIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIGJvdHRvbTogNXB4OwogICAgICAgICAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBjb2xvcjogIzgwOTFhMjsKICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDsKICAgICAgICAgICAgICAgIHotaW5kZXg6IDE7CiAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAjdXNlQ3JlZGl0c0Zvb3RlciBhIHsKICAgICAgICAgICAgICAgIGNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI3VzZUNyZWRpdHNGb290ZXIgYTpob3ZlciB7CiAgICAgICAgICAgICAgICBjb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICAgICAgICB9CiAgICAgICAgICAgICN1c2VDcmVkaXRzRm9vdGVyIC5hdXRob3ItbGluZSB7CiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzcHg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICN1c2VPZmZpY2lhbFBhZ2VGb290ZXIgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgYm90dG9tOiA3cHg7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMTsKICAgICAgICAgICAgICAgIHotaW5kZXg6IDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI3VzZU9mZmljaWFsUGFnZUZvb3RlciBhIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4yczsKICAgICAgICAgICAgfQogICAgICAgICAgICAjdXNlT2ZmaWNpYWxQYWdlRm9vdGVyIGE6aG92ZXIgewogICAgICAgICAgICAgICAgb3BhY2l0eTogMC44NTsKICAgICAgICAgICAgfQogICAgICAgICAgICAjdXNlT2ZmaWNpYWxQYWdlRm9vdGVyIGltZyB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgIHdpZHRoOiAxNzFweDsKICAgICAgICAgICAgICAgIGhlaWdodDogMjRweDsKICAgICAgICAgICAgfQogICAgICAgIGApOwoKICAgICAgICBjb25zdCBtYWluVGl0bGVIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpOwogICAgICAgIG1haW5UaXRsZUhlYWRlci50ZXh0Q29udGVudCA9ICfQndCw0YHRgtGA0L7QudC60LggVWx0aW1hdGUgU3RlYW0gRW5oYW5jZXInOwogICAgICAgIG1haW5UaXRsZUhlYWRlci5zdHlsZS5jc3NUZXh0ID0gJ21hcmdpbi10b3A6IDA7IG1hcmdpbi1ib3R0b206IDI1cHg7IGNvbG9yOiAjNjdjMWY1OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtc2l6ZTogMThweDsnOwogICAgICAgIG1vZGFsLmFwcGVuZENoaWxkKG1haW5UaXRsZUhlYWRlcik7CgogICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7CiAgICAgICAgICAgIGdhbWVQYWdlOiB7IHRpdGxlOiAn0JTQu9GPINGB0YLRgNCw0L3QuNGG0Ysg0LjQs9GA0YsnLCBjb250YWluZXI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIH0sCiAgICAgICAgICAgIGNhdGFsb2c6IHsgdGl0bGU6ICfQlNC70Y8g0LrQsNGC0LDQu9C+0LPQsCcsIGNvbnRhaW5lcjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgfSwKICAgICAgICAgICAgY29tbXVuaXR5OiB7IHRpdGxlOiAn0JTQu9GPINC70LXQvdGC0Ysg0LDQutGC0LjQstC90L7RgdGC0LgnLCBjb250YWluZXI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIH0sCiAgICAgICAgICAgIG1hcmtldDogeyB0aXRsZTogJ9CU0LvRjyDRgtC+0YDQs9C+0LLQvtC5INC/0LvQvtGJ0LDQtNC60LgnLCBjb250YWluZXI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIH0sCiAgICAgICAgICAgIG5ld3Nfd2lzaGxpc3Q6IHsgdGl0bGU6ICfQlNC70Y8g0YHQv9C40YHQutCwINC20LXQu9Cw0LXQvNC+0LPQviAvINCd0L7QstC+0YHRgtC10LknLCBjb250YWluZXI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIH0sCiAgICAgICAgICAgIGFkZGl0aW9uYWw6IHsgdGl0bGU6ICfQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INC90LDRgdGC0YDQvtC50LrQuCcsIGNvbnRhaW5lcjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgfSwKICAgICAgICAgICAgaW5jb2duaXRvTW9kZTogeyB0aXRsZTogJ9CS0LjRgNGC0YPQsNC70YzQvdGL0Lkg0YDQtdC20LjQvCDCq9CY0L3QutC+0LPQvdC40YLQvsK7JywgY29udGFpbmVyOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSB9CiAgICAgICAgfTsKCiAgICAgICAgZm9yIChjb25zdCBjYXRLZXkgaW4gY2F0ZWdvcmllcykgewogICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbY2F0S2V5XTsKICAgICAgICAgICAgY2F0ZWdvcnkuY29udGFpbmVyLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyNXB4JzsKICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7CiAgICAgICAgICAgIGNhdGVnb3J5VGl0bGUudGV4dENvbnRlbnQgPSBjYXRlZ29yeS50aXRsZTsKICAgICAgICAgICAgY2F0ZWdvcnlUaXRsZS5zdHlsZS5jc3NUZXh0ID0gJ2NvbG9yOiAjYzZkNGRmOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzRiNmY5YzsgcGFkZGluZy1ib3R0b206IDZweDsgbWFyZ2luLWJvdHRvbTogMTJweDsgZm9udC1zaXplOiAxNXB4OyBmb250LXdlaWdodDogbm9ybWFsOyc7CiAgICAgICAgICAgIGNhdGVnb3J5LmNvbnRhaW5lci5hcHBlbmRDaGlsZChjYXRlZ29yeVRpdGxlKTsKICAgICAgICAgICAgY29uc3QgY2hlY2tib3hlc0dyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgY2hlY2tib3hlc0dyaWQuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTBweCAyNXB4Oyc7CiAgICAgICAgICAgIGNhdGVnb3J5LmNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveGVzR3JpZCk7CiAgICAgICAgICAgIG1vZGFsLmFwcGVuZENoaWxkKGNhdGVnb3J5LmNvbnRhaW5lcik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzZXR0aW5nSW5mbykpIHsKICAgICAgICAgICAgY29uc3Qgc2V0dGluZ0RhdGEgPSBzZXR0aW5nSW5mb1trZXldOwogICAgICAgICAgICBpZiAoc2V0dGluZ0RhdGEgJiYgc2V0dGluZ0RhdGEuY2F0ZWdvcnkgJiYgY2F0ZWdvcmllc1tzZXR0aW5nRGF0YS5jYXRlZ29yeV0pIHsKICAgICAgICAgICAgICAgIGlmICh1c2VDdXJyZW50U2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgICAgICAgICAgIGxldCBzZXR0aW5nUm93OwogICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdpbmNvZ25pdG9EZWZhdWx0UmVnaW9uJykgewogICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nUm93ID0gY3JlYXRlU2V0dGluZ1NlbGVjdFJvdyhrZXksIHVzZUluY29nbml0b1JlZ2lvbnMpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdSb3cgPSBjcmVhdGVTZXR0aW5nUm93KGtleSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ1JvdykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncmlkQ29udGFpbmVyID0gY2F0ZWdvcmllc1tzZXR0aW5nRGF0YS5jYXRlZ29yeV0uY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2RpdltzdHlsZSo9ImdyaWQtdGVtcGxhdGUtY29sdW1ucyJdJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29udGFpbmVyLmFwcGVuZENoaWxkKHNldHRpbmdSb3cpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zdCBib3R0b21BY3Rpb25zV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGJvdHRvbUFjdGlvbnNXcmFwcGVyLmlkID0gJ3VzZUJvdHRvbUFjdGlvbnNXcmFwcGVyJzsKICAgICAgICBib3R0b21BY3Rpb25zV3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgYm90dG9tQWN0aW9uc1dyYXBwZXIuc3R5bGUubWFyZ2luVG9wID0gJzMwcHgnOwoKICAgICAgICBjb25zdCBjcmVkaXRzRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgY3JlZGl0c0Zvb3Rlci5pZCA9ICd1c2VDcmVkaXRzRm9vdGVyJzsKCiAgICAgICAgY29uc3QgYXV0aG9yTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGF1dGhvckxpbmUuY2xhc3NOYW1lID0gJ2F1dGhvci1saW5lJzsKICAgICAgICBhdXRob3JMaW5lLnRleHRDb250ZW50ID0gJ2J5IDB3bjNkZjF4JzsKICAgICAgICBjcmVkaXRzRm9vdGVyLmFwcGVuZENoaWxkKGF1dGhvckxpbmUpOwoKICAgICAgICBjb25zdCB6b2dMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgem9nTGluZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgn0LggJykpOwogICAgICAgIGNvbnN0IHpvZ0xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgem9nTGluay5ocmVmID0gJ2h0dHBzOi8vd3d3LnpvbmVvZmdhbWVzLnJ1JzsKICAgICAgICB6b2dMaW5rLnRhcmdldCA9ICdfYmxhbmsnOwogICAgICAgIHpvZ0xpbmsudGl0bGUgPSAn0J/QtdGA0LXQudGC0Lgg0L3QsCBab25lT2ZHYW1lcy5ydSc7CiAgICAgICAgem9nTGluay50ZXh0Q29udGVudCA9ICfQutC+0LzQsNC90LTQsCBab25lT2ZHYW1lcy5ydSc7CiAgICAgICAgem9nTGluZS5hcHBlbmRDaGlsZCh6b2dMaW5rKTsKICAgICAgICBjcmVkaXRzRm9vdGVyLmFwcGVuZENoaWxkKHpvZ0xpbmUpOwoKICAgICAgICBib3R0b21BY3Rpb25zV3JhcHBlci5hcHBlbmRDaGlsZChjcmVkaXRzRm9vdGVyKTsKCiAgICAgICAgY29uc3Qgb2ZmaWNpYWxQYWdlRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgb2ZmaWNpYWxQYWdlRm9vdGVyLmlkID0gJ3VzZU9mZmljaWFsUGFnZUZvb3Rlcic7CgogICAgICAgIGNvbnN0IHBhZ2VMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIHBhZ2VMaW5rLmhyZWYgPSAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9ydS9zY3JpcHRzLzUyNjE4MC11bHRpbWF0ZS1zdGVhbS1lbmhhbmNlcic7CiAgICAgICAgcGFnZUxpbmsudGFyZ2V0ID0gJ19ibGFuayc7CiAgICAgICAgcGFnZUxpbmsudGl0bGUgPSAn0KHRgtGA0LDQvdC40YbQsCDQvdCwIEdyZWFzeSBGb3JrJzsKCiAgICAgICAgY29uc3QgYmFkZ2VJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgIGJhZGdlSW1hZ2Uuc3JjID0gJ2h0dHBzOi8vaW1nLnNoaWVsZHMuaW8vYmFkZ2Uv0KHRgtGA0LDQvdC40YbQsF/QvdCwLUdyZWFzeUZvcmstYmx1ZS5zdmcnOwogICAgICAgIGJhZGdlSW1hZ2UuYWx0ID0gJ9Ch0YLRgNCw0L3QuNGG0LAg0L3QsCBHcmVhc3kgRm9yayc7CgogICAgICAgIHBhZ2VMaW5rLmFwcGVuZENoaWxkKGJhZGdlSW1hZ2UpOwogICAgICAgIG9mZmljaWFsUGFnZUZvb3Rlci5hcHBlbmRDaGlsZChwYWdlTGluayk7CiAgICAgICAgYm90dG9tQWN0aW9uc1dyYXBwZXIuYXBwZW5kQ2hpbGQob2ZmaWNpYWxQYWdlRm9vdGVyKTsKCiAgICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICBjbG9zZUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQl9Cw0LrRgNGL0YLRjCc7CiAgICAgICAgY2xvc2VCdXR0b24uc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7IG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDMwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2N2MxZjU7IGNvbG9yOiAjMWIyODM4OyBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDE1cHg7IGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjsKICAgICAgICBgOwogICAgICAgIGNsb3NlQnV0dG9uLm9ubW91c2VvdmVyID0gKCkgPT4gY2xvc2VCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM4YWQzZjcnOwogICAgICAgIGNsb3NlQnV0dG9uLm9ubW91c2VvdXQgPSAoKSA9PiBjbG9zZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzY3YzFmNSc7CiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgICAgfSk7CgogICAgICAgIGJvdHRvbUFjdGlvbnNXcmFwcGVyLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTsKCiAgICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQoYm90dG9tQWN0aW9uc1dyYXBwZXIpOwoKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRMb2dnZWRJblNldHRpbmdzTWVudUl0ZW0oYWNjb3VudERyb3Bkb3duKSB7CiAgICAgICAgY29uc3QgbG9nb3V0TGluayA9IGFjY291bnREcm9wZG93bi5xdWVyeVNlbGVjdG9yKCdhW2hyZWY9ImphdmFzY3JpcHQ6TG9nb3V0KCk7Il0nKTsKICAgICAgICBpZiAoIWxvZ291dExpbmsgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV9zZXR0aW5nc19tZW51X2l0ZW0nKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCBzZXR0aW5nc01lbnVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIHNldHRpbmdzTWVudUl0ZW0uY2xhc3NOYW1lID0gJ3BvcHVwX21lbnVfaXRlbSc7CiAgICAgICAgc2V0dGluZ3NNZW51SXRlbS5pZCA9ICd1c2Vfc2V0dGluZ3NfbWVudV9pdGVtJzsKICAgICAgICBzZXR0aW5nc01lbnVJdGVtLmhyZWYgPSAnIyc7CiAgICAgICAgc2V0dGluZ3NNZW51SXRlbS50ZXh0Q29udGVudCA9ICfQndCw0YHRgtGA0L7QudC60LggVS5TLkUuJzsKICAgICAgICBzZXR0aW5nc01lbnVJdGVtLnN0eWxlLmNvbG9yID0gJyM2N2MxZjUnOwogICAgICAgIHNldHRpbmdzTWVudUl0ZW0uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJzsKCgogICAgICAgIHNldHRpbmdzTWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgY3JlYXRlU2V0dGluZ3NNb2RhbCgpOwogICAgICAgIH0pOwoKICAgICAgICBjb25zdCBwb3B1cEJvZHkgPSBhY2NvdW50RHJvcGRvd24ucXVlcnlTZWxlY3RvcignLnBvcHVwX2JvZHkucG9wdXBfbWVudScpOwogICAgICAgIGlmIChwb3B1cEJvZHkpIHsKICAgICAgICAgICAgcG9wdXBCb2R5Lmluc2VydEJlZm9yZShzZXR0aW5nc01lbnVJdGVtLCBsb2dvdXRMaW5rKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYWRkTG9nZ2VkT3V0U2V0dGluZ3NNZW51SXRlbShnbG9iYWxBY3Rpb25NZW51KSB7CiAgICAgICAgY29uc3QgbGFuZ3VhZ2VQdWxsZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5ndWFnZV9wdWxsZG93bicpOwogICAgICAgIGNvbnN0IGxvZ2luTGluayA9IGdsb2JhbEFjdGlvbk1lbnUucXVlcnlTZWxlY3RvcignYVtocmVmKj0iL2xvZ2luIl0nKTsKCiAgICAgICAgaWYgKCFsYW5ndWFnZVB1bGxkb3duIHx8ICFsb2dpbkxpbmsgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV9zZXR0aW5nc19sb2dnZWRfb3V0X2xpbmsnKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnXHUwMEEwfFx1MDBBMCcpOwoKICAgICAgICBjb25zdCBzZXR0aW5nc0xpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIHNldHRpbmdzTGlua0VsZW1lbnQuaHJlZiA9ICcjJzsKICAgICAgICBzZXR0aW5nc0xpbmtFbGVtZW50LmlkID0gJ3VzZV9zZXR0aW5nc19sb2dnZWRfb3V0X2xpbmsnOwogICAgICAgIHNldHRpbmdzTGlua0VsZW1lbnQuY2xhc3NOYW1lID0gJ2dsb2JhbF9hY3Rpb25fbGluayc7CiAgICAgICAgc2V0dGluZ3NMaW5rRWxlbWVudC50ZXh0Q29udGVudCA9ICfQndCw0YHRgtGA0L7QudC60LggVS5TLkUuJzsKICAgICAgICBzZXR0aW5nc0xpbmtFbGVtZW50LnN0eWxlLmNvbG9yID0gJyM2N2MxZjUnOwogICAgICAgIHNldHRpbmdzTGlua0VsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJzsKCiAgICAgICAgc2V0dGluZ3NMaW5rRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY3JlYXRlU2V0dGluZ3NNb2RhbCgpOwogICAgICAgIH0pOwoKICAgICAgICBnbG9iYWxBY3Rpb25NZW51LmFwcGVuZENoaWxkKHNlcGFyYXRvcik7CiAgICAgICAgZ2xvYmFsQWN0aW9uTWVudS5hcHBlbmRDaGlsZChzZXR0aW5nc0xpbmtFbGVtZW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRTZXR0aW5nc0J1dHRvbkdsb2JhbCgpIHsKICAgICAgICBjb25zdCBnbG9iYWxBY3Rpb25NZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsb2JhbF9hY3Rpb25fbWVudScpOwogICAgICAgIGlmICghZ2xvYmFsQWN0aW9uTWVudSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCBleGlzdGluZ0xvZ2dlZEluQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV9zZXR0aW5nc19tZW51X2l0ZW0nKTsKICAgICAgICBpZiAoZXhpc3RpbmdMb2dnZWRJbkJ1dHRvbikgewogICAgICAgICAgICBleGlzdGluZ0xvZ2dlZEluQnV0dG9uLnJlbW92ZSgpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgZXhpc3RpbmdMb2dnZWRPdXRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV9zZXR0aW5nc19sb2dnZWRfb3V0X2xpbmsnKTsKICAgICAgICBpZiAoZXhpc3RpbmdMb2dnZWRPdXRMaW5rKSB7CiAgICAgICAgICAgIGNvbnN0IHByZXZOb2RlID0gZXhpc3RpbmdMb2dnZWRPdXRMaW5rLnByZXZpb3VzU2libGluZzsKICAgICAgICAgICAgaWYgKHByZXZOb2RlICYmIHByZXZOb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiBwcmV2Tm9kZS50ZXh0Q29udGVudCA9PT0gJ1x1MDBBMHxcdTAwQTAnKSB7CiAgICAgICAgICAgICAgICBwcmV2Tm9kZS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBleGlzdGluZ0xvZ2dlZE91dExpbmsucmVtb3ZlKCk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBhY2NvdW50RHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9kcm9wZG93bicpOwogICAgICAgIGlmIChhY2NvdW50RHJvcGRvd24pIHsKICAgICAgICAgICAgYWRkTG9nZ2VkSW5TZXR0aW5nc01lbnVJdGVtKGFjY291bnREcm9wZG93bik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkTG9nZ2VkT3V0U2V0dGluZ3NNZW51SXRlbShnbG9iYWxBY3Rpb25NZW51KTsKICAgICAgICB9CiAgICB9CgogICAgbGV0IGdsb2JhbFVpQXR0ZW1wdHMgPSAwOwogICAgY29uc3QgZ2xvYmFsVWlNYXhBdHRlbXB0cyA9IDIwOwogICAgY29uc3QgZ2xvYmFsVWlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBjb25zdCBnbG9iYWxIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsX2hlYWRlcicpOwoKICAgICAgICBpZiAoZ2xvYmFsSGVhZGVyIHx8IGdsb2JhbFVpQXR0ZW1wdHMgPj0gZ2xvYmFsVWlNYXhBdHRlbXB0cykgewogICAgICAgICAgICBjbGVhckludGVydmFsKGdsb2JhbFVpSW50ZXJ2YWwpOwogICAgICAgICAgICBpZiAoZ2xvYmFsSGVhZGVyKSB7CiAgICAgICAgICAgICAgICBhZGRTZXR0aW5nc0J1dHRvbkdsb2JhbCgpOwoKICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uc0xpc3QsIG9icykgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTm93TG9nZ2VkSW4gPSAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50X2Ryb3Bkb3duJyk7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluQnV0dG9uUHJlc2VudCA9ICEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV9zZXR0aW5nc19tZW51X2l0ZW0nKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dnZWRPdXRMaW5rUHJlc2VudCA9ICEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV9zZXR0aW5nc19sb2dnZWRfb3V0X2xpbmsnKTsKCiAgICAgICAgICAgICAgICAgICAgbGV0IG5lZWRzUmVidWlsZCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICBpZiAoaXNOb3dMb2dnZWRJbikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvZ2dlZEluQnV0dG9uUHJlc2VudCB8fCBsb2dnZWRPdXRMaW5rUHJlc2VudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNSZWJ1aWxkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2luUGFnZU1hcmtlciA9ICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dsb2JhbF9hY3Rpb25fbWVudSBhW2hyZWYqPSIvbG9naW4iXScpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2luUGFnZU1hcmtlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2dnZWRPdXRMaW5rUHJlc2VudCB8fCBsb2dnZWRJbkJ1dHRvblByZXNlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkc1JlYnVpbGQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvZ2dlZEluQnV0dG9uUHJlc2VudCB8fCBsb2dnZWRPdXRMaW5rUHJlc2VudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNSZWJ1aWxkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRzUmVidWlsZCkgewogICAgICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nc0J1dHRvbkdsb2JhbCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZ2xvYmFsSGVhZGVyLCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGdsb2JhbFVpQXR0ZW1wdHMrKzsKICAgIH0sIDUwMCk7CgogICAgZnVuY3Rpb24gc2hvd0NvbmZpcm1hdGlvbk1vZGFsKHRpdGxlVGV4dCwgbWVzc2FnZVRleHQsIG9uQ29uZmlybSwgb25DYW5jZWwpIHsKICAgICAgICBjb25zdCBleGlzdGluZ0NvbmZpcm1Nb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VDb25maXJtYXRpb25Nb2RhbCcpOwogICAgICAgIGlmIChleGlzdGluZ0NvbmZpcm1Nb2RhbCkgZXhpc3RpbmdDb25maXJtTW9kYWwucmVtb3ZlKCk7CgogICAgICAgIGNvbnN0IGNvbmZpcm1Nb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGNvbmZpcm1Nb2RhbC5pZCA9ICd1c2VDb25maXJtYXRpb25Nb2RhbCc7CiAgICAgICAgY29uZmlybU1vZGFsLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxZjJjM2E7CiAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICBwYWRkaW5nOiAyNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNGRkIzMDA7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjcpOwogICAgICAgICAgICB6LWluZGV4OiAxMDAwMzsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiA1MDBweDsKICAgICAgICAgICAgbWF4LXdpZHRoOiA5MHZ3OwogICAgICAgICAgICBmb250LWZhbWlseTogIk1vdGl2YSBTYW5zIiwgU2Fucy1zZXJpZiwgQXJpYWw7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBgOwoKICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7CiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZVRleHQ7CiAgICAgICAgdGl0bGUuc3R5bGUuY3NzVGV4dCA9ICdtYXJnaW4tdG9wOiAwOyBtYXJnaW4tYm90dG9tOiAxNXB4OyBjb2xvcjogI0ZGQjMwMDsgdGV4dC1hbGlnbjogY2VudGVyOyBmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IDE3cHg7JzsKICAgICAgICBjb25maXJtTW9kYWwuYXBwZW5kQ2hpbGQodGl0bGUpOwoKICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOwogICAgICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlVGV4dDsKICAgICAgICBtZXNzYWdlLnN0eWxlLmNzc1RleHQgPSAnbWFyZ2luLWJvdHRvbTogMjVweDsgbGluZS1oZWlnaHQ6IDEuNjsgdGV4dC1hbGlnbjogY2VudGVyOyc7CiAgICAgICAgY29uZmlybU1vZGFsLmFwcGVuZENoaWxkKG1lc3NhZ2UpOwoKICAgICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBidXR0b25Db250YWluZXIuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsnOwoKICAgICAgICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgY29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQlNCwJzsKICAgICAgICBjb25maXJtQnV0dG9uLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMjVweDsgYmFja2dyb3VuZC1jb2xvcjogI0ZGQjMwMDsgY29sb3I6ICMxYjI4Mzg7IGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4yczsKICAgICAgICBgOwogICAgICAgIGNvbmZpcm1CdXR0b24ub25tb3VzZW92ZXIgPSAoKSA9PiBjb25maXJtQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkZDMTA3JzsKICAgICAgICBjb25maXJtQnV0dG9uLm9ubW91c2VvdXQgPSAoKSA9PiBjb25maXJtQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkZCMzAwJzsKICAgICAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIG9uQ29uZmlybSgpOwogICAgICAgICAgICBjb25maXJtTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgIGNhbmNlbEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQndC10YInOwogICAgICAgIGNhbmNlbEJ1dHRvbi5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDI1cHg7IGJhY2tncm91bmQtY29sb3I6ICM4Zjk4YTA7IGNvbG9yOiAjMWIyODM4OyBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgYDsKICAgICAgICBjYW5jZWxCdXR0b24ub25tb3VzZW92ZXIgPSAoKSA9PiBjYW5jZWxCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNhYWI1YzEnOwogICAgICAgIGNhbmNlbEJ1dHRvbi5vbm1vdXNlb3V0ID0gKCkgPT4gY2FuY2VsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjOGY5OGEwJzsKICAgICAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgb25DYW5jZWwoKTsKICAgICAgICAgICAgY29uZmlybU1vZGFsLnJlbW92ZSgpOwogICAgICAgIH0pOwoKICAgICAgICBidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoY29uZmlybUJ1dHRvbik7CiAgICAgICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7CiAgICAgICAgY29uZmlybU1vZGFsLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7CgogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29uZmlybU1vZGFsKTsKICAgIH0KCiAgICAvLyDQodC60YDQuNC/0YIg0LTQu9GPINGB0YLRgNCw0L3QuNGG0Ysg0LjQs9GA0YsgKNC40L3QtNC40LrQsNGC0L7RgNGLINC+INC90LDQu9C40YfQuNC4INGA0YPRgdGB0LrQvtCz0L4g0L/QtdGA0LXQstC+0LTQsDsg0L/QvtC70YPRh9C10L3QuNC1INC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0YUg0L7QsdC30L7RgNC+0LIpIHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8qCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5nYW1lUGFnZSAmJiB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9hcHAvJykpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgICAgICAgIGlmICh0eXBlb2YgQ2hhcnREYXRhTGFiZWxzICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgQ2hhcnQucmVnaXN0ZXIoQ2hhcnREYXRhTGFiZWxzKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkNoYXJ0RGF0YUxhYmVscyBwbHVnaW4gaXMgbm90IGxvYWRlZC4gTWFrZSBzdXJlIHRoZSBAcmVxdWlyZSBsaW5lIGlzIGNvcnJlY3QuIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZydWl0SW5kaWNhdG9yKGFwcGxlLCBoYXNTdXBwb3J0LCBvcmFuZ2UpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGJhbmFuYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgYmFuYW5hLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgICAgICAgICAgIGJhbmFuYS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CgogICAgICAgICAgICAgICAgY29uc3QgZ3JhcGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGdyYXBlLnN0eWxlLndpZHRoID0gJzYwcHgnOwogICAgICAgICAgICAgICAgZ3JhcGUuc3R5bGUuaGVpZ2h0ID0gJzYwcHgnOwogICAgICAgICAgICAgICAgZ3JhcGUuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7CiAgICAgICAgICAgICAgICBncmFwZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICAgICAgZ3JhcGUuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOwogICAgICAgICAgICAgICAgZ3JhcGUuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJzsKICAgICAgICAgICAgICAgIGdyYXBlLnN0eWxlLmJhY2tncm91bmQgPSBoYXNTdXBwb3J0ID8gJ3JnYmEoNjYsIDEzNSwgMjQ1LCAwLjIpJyA6ICdyZ2JhKDAsIDAsIDAsIDAuMSknOwogICAgICAgICAgICAgICAgZ3JhcGUuc3R5bGUuYm9yZGVyID0gYDFweCBzb2xpZCAke2hhc1N1cHBvcnQgPyAnIzJBNTg5MScgOiAnIzNjM2MzYyd9YDsKICAgICAgICAgICAgICAgIGdyYXBlLnN0eWxlLm9wYWNpdHkgPSAnMC45NSc7CiAgICAgICAgICAgICAgICBncmFwZS5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAwLjNzIGVhc2UsIGJveC1zaGFkb3cgMC4zcyBlYXNlJzsKICAgICAgICAgICAgICAgIGdyYXBlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICAgICAgICBncmFwZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgICAgICAgICBncmFwZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWigwKSc7CgogICAgICAgICAgICAgICAgY29uc3Qga2l3aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAga2l3aS5pbm5lckhUTUwgPSBhcHBsZTsKICAgICAgICAgICAgICAgIGtpd2kuc3R5bGUud2lkdGggPSAnMzBweCc7CiAgICAgICAgICAgICAgICBraXdpLnN0eWxlLmhlaWdodCA9ICczMHB4JzsKICAgICAgICAgICAgICAgIGtpd2kuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICBraXdpLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nOwogICAgICAgICAgICAgICAga2l3aS5zdHlsZS50cmFuc2l0aW9uID0gJ2ZpbGwgMC4zcyBlYXNlJzsKCiAgICAgICAgICAgICAgICBncmFwZS5hcHBlbmRDaGlsZChraXdpKTsKCiAgICAgICAgICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0ga2l3aS5xdWVyeVNlbGVjdG9yKCdzdmcnKTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRDb2xvcihoYXNTdXBwb3J0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyQ29sb3IgPSBoYXNTdXBwb3J0ID8gJyMyQTU4OTEnIDogJyMzYzNjM2MnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN2Z0ZpbGwgPSBoYXNTdXBwb3J0ID8gJyNGRkZGRkYnIDogJyMwRTFDMjUnOwoKICAgICAgICAgICAgICAgICAgICBncmFwZS5zdHlsZS5ib3JkZXIgPSBgMXB4IHNvbGlkICR7Ym9yZGVyQ29sb3J9YDsKICAgICAgICAgICAgICAgICAgICBpZiAoc3ZnRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICBzdmdFbGVtZW50LnN0eWxlLmZpbGwgPSBzdmdGaWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZXRDb2xvcihoYXNTdXBwb3J0KTsKCiAgICAgICAgICAgICAgICBjb25zdCBwaW5lYXBwbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNvbnN0IGhhc0xhYmVsID0gaGFzU3VwcG9ydCA/IG9yYW5nZSA6IGdldEdlbml0aXZlQ2FzZShvcmFuZ2UpOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnRleHRDb250ZW50ID0gaGFzU3VwcG9ydCA/IGDQldGB0YLRjCAke29yYW5nZX1gIDogYNCd0LXRgiAke2hhc0xhYmVsfWA7CiAgICAgICAgICAgICAgICBwaW5lYXBwbGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLnRvcCA9ICc1MCUnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLmxlZnQgPSAnMTAwJSc7CiAgICAgICAgICAgICAgICBwaW5lYXBwbGUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgxMHB4KSc7CiAgICAgICAgICAgICAgICBwaW5lYXBwbGUuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDAsIDAuOCknOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLmNvbG9yID0gJyNmZmYnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLnBhZGRpbmcgPSAnOHB4IDEycHgnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc4cHgnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLmZvbnRTaXplID0gJzE0cHgnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJzsKICAgICAgICAgICAgICAgIHBpbmVhcHBsZS5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLnRyYW5zaXRpb24gPSAnb3BhY2l0eSAwLjNzIGVhc2UnOwogICAgICAgICAgICAgICAgcGluZWFwcGxlLnN0eWxlLnpJbmRleCA9ICcxMDAwMCc7CiAgICAgICAgICAgICAgICBwaW5lYXBwbGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJzsKICAgICAgICAgICAgICAgIGJhbmFuYS5hcHBlbmRDaGlsZChwaW5lYXBwbGUpOwoKICAgICAgICAgICAgICAgIGJhbmFuYS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGdyYXBlLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjEpIHRyYW5zbGF0ZVooMCknOwogICAgICAgICAgICAgICAgICAgIHBpbmVhcHBsZS5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgYmFuYW5hLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZ3JhcGUuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEpIHRyYW5zbGF0ZVooMCknOwogICAgICAgICAgICAgICAgICAgIHBpbmVhcHBsZS5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgYmFuYW5hLmFwcGVuZENoaWxkKGdyYXBlKTsKICAgICAgICAgICAgICAgIHJldHVybiBiYW5hbmE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEdlbml0aXZlQ2FzZShvcmFuZ2UpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAob3JhbmdlKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAn0LjQvdGC0LXRgNGE0LXQudGBJzoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfQuNC90YLQtdGA0YTQtdC50YHQsCc7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAn0L7Qt9Cy0YPRh9C60LAnOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ9C+0LfQstGD0YfQutC4JzsKICAgICAgICAgICAgICAgICAgICBjYXNlICfRgdGD0LHRgtC40YLRgNGLJzoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfRgdGD0LHRgtC40YLRgNC+0LInOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmFuZ2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrUnVzc2lhblN1cHBvcnQoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBtYW5nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYW5ndWFnZVRhYmxlIHRhYmxlLmdhbWVfbGFuZ3VhZ2Vfb3B0aW9ucycpOwogICAgICAgICAgICAgICAgaWYgKCFtYW5nbykgcmV0dXJuIHsgaW50ZXJmYWNlOiBmYWxzZSwgdm9pY2U6IGZhbHNlLCBzdWJ0aXRsZXM6IGZhbHNlIH07CgogICAgICAgICAgICAgICAgY29uc3Qgc3RyYXdiZXJyeSA9IG1hbmdvLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBibHVlYmVycnkgb2Ygc3RyYXdiZXJyeSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdGVybWVsb24gPSBibHVlYmVycnkucXVlcnlTZWxlY3RvcigndGQuZWxsaXBzaXMnKTsKICAgICAgICAgICAgICAgICAgICBpZiAod2F0ZXJtZWxvbiAmJiAv0YDRg9GB0YHQutC40Ll8UnVzc2lhbi9pLnRlc3Qod2F0ZXJtZWxvbi50ZXh0Q29udGVudC50cmltKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZXJyeSA9IGJsdWViZXJyeS5xdWVyeVNlbGVjdG9yKCd0ZC5jaGVja2NvbDpudGgtY2hpbGQoMikgc3BhbicpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXNwYmVycnkgPSBibHVlYmVycnkucXVlcnlTZWxlY3RvcigndGQuY2hlY2tjb2w6bnRoLWNoaWxkKDMpIHNwYW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxhY2tiZXJyeSA9IGJsdWViZXJyeS5xdWVyeVNlbGVjdG9yKCd0ZC5jaGVja2NvbDpudGgtY2hpbGQoNCkgc3BhbicpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJmYWNlOiBjaGVycnkgIT09IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2ljZTogcmFzcGJlcnJ5ICE9PSBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiBibGFja2JlcnJ5ICE9PSBudWxsCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHsgaW50ZXJmYWNlOiBmYWxzZSwgdm9pY2U6IGZhbHNlLCBzdWJ0aXRsZXM6IGZhbHNlIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFJ1c3NpYW5JbmRpY2F0b3JzKCkgewogICAgICAgICAgICAgICAgY29uc3QgcnVzc2lhblN1cHBvcnQgPSBjaGVja1J1c3NpYW5TdXBwb3J0KCk7CiAgICAgICAgICAgICAgICBpZiAoIXJ1c3NpYW5TdXBwb3J0KSByZXR1cm47CgogICAgICAgICAgICAgICAgbGV0IGxlbW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVIZWFkZXJJbWFnZUN0bicpOwogICAgICAgICAgICAgICAgaWYgKCFsZW1vbikgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kaWNhdG9yQ29udGFpbmVyID0gbGVtb24ucXVlcnlTZWxlY3RvcignLnVzZS1ydXMtaW5kaWNhdG9yLWNvbnRhaW5lcicpOwogICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kaWNhdG9yQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdJbmRpY2F0b3JDb250YWluZXIucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgbGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgbGltZS5jbGFzc05hbWUgPSAndXNlLXJ1cy1pbmRpY2F0b3ItY29udGFpbmVyJzsKICAgICAgICAgICAgICAgIGxpbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICAgICAgICAgICAgbGltZS5zdHlsZS50b3AgPSAnLTEwcHgnOwogICAgICAgICAgICAgICAgbGltZS5zdHlsZS5sZWZ0ID0gJ2NhbGMoMTAwJSArIDEwcHgpJzsKICAgICAgICAgICAgICAgIGxpbWUuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgIGxpbWUuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nOwogICAgICAgICAgICAgICAgbGltZS5zdHlsZS5nYXAgPSAnMTVweCc7CiAgICAgICAgICAgICAgICBsaW1lLnN0eWxlLmFsaWduSXRlbXMgPSAnZmxleC1zdGFydCc7CiAgICAgICAgICAgICAgICBsaW1lLnN0eWxlLnpJbmRleCA9ICcyJzsKICAgICAgICAgICAgICAgIGxpbWUuc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnOwoKICAgICAgICAgICAgICAgIGNvbnN0IHBlYWNoID0gY3JlYXRlRnJ1aXRJbmRpY2F0b3IoYDxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMiwwQzUuMzgsMCwwLDUuMzgsMCwxMnM1LjM4LDEyLDEyLDEyczEyLTUuMzgsMTItMTJTMTguNjIsMCwxMiwweiBNMTIsMjJDNi40OSwyMiwyLDE3LjUxLDIsMTJTNi40OSwyLDEyLDIJczEwLDQuNDksMTAsMTBTMTcuNTEsMjIsMTIsMjJ6IE0xMC41LDEwaDN2OGgtM1YxMHogTTEwLjUsNWgzdjNoLTNWNXoiIC8+PC9zdmc+YCwgcnVzc2lhblN1cHBvcnQuaW50ZXJmYWNlLCAn0LjQvdGC0LXRgNGE0LXQudGBJyk7CiAgICAgICAgICAgICAgICBjb25zdCBwbHVtID0gY3JlYXRlRnJ1aXRJbmRpY2F0b3IoYDxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNSwyMXYtMmMzLjg2LDAsNy0zLjE0LDctN3MtMy4xNC03LTctN1YzYzQuOTYsMCw5LDQuMDQsOSw5UzE5Ljk2LDIxLDE1LDIxeiBNMTUsMTd2LTJjMS42NSwwLDMtMS4zNSwzLTNzLTEuMzUtMy0zLTNWNyBjMi43NiwwLDUsMi4yNCw1LDVTMTcuNzYsMTcsMTUsMTd6IE0xLDEydjRoNWw2LDVWM0w2LDhIMVYxMiIgLz48L3N2Zz5gLCBydXNzaWFuU3VwcG9ydC52b2ljZSwgJ9C+0LfQstGD0YfQutCwJyk7CiAgICAgICAgICAgICAgICBjb25zdCBhcHJpY290ID0gY3JlYXRlRnJ1aXRJbmRpY2F0b3IoYDxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxwYXRoIGQ9Ik0xMSwyNGwtNC40LTVIMFYwaDIzdjE5aC03LjZMMTEsMjR6IE0yLDE3aDUuNGwzLjYsNGwzLjYtNEgyMVYySDJWMTd6IiAvPjwvZz48Zz48cmVjdCB4PSI1IiB5PSI4IiB3aWR0aD0iMyIgaGVpZ2h0PSIzIiAvPjwvZz48Zz48cmVjdCB4PSIxMCIgeT0iOCIgd2lkdGg9IjMiIGhlaWdodD0iMyIgLz48L2c+PGc+PHJlY3QgeD0iMTUiIHk9IjgiIHdpZHRoPSIzIiBoZWlnaHQ9IjMiIC8+PC9nPjwvc3ZnPmAsIHJ1c3NpYW5TdXBwb3J0LnN1YnRpdGxlcywgJ9GB0YPQsdGC0LjRgtGA0YsnKTsKCiAgICAgICAgICAgICAgICBsaW1lLmFwcGVuZENoaWxkKHBlYWNoKTsKICAgICAgICAgICAgICAgIGxpbWUuYXBwZW5kQ2hpbGQocGx1bSk7CiAgICAgICAgICAgICAgICBsaW1lLmFwcGVuZENoaWxkKGFwcmljb3QpOwoKICAgICAgICAgICAgICAgIGxlbW9uLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgICAgICAgICAgIGxlbW9uLmFwcGVuZENoaWxkKGxpbWUpOwoKICAgICAgICAgICAgICAgIGNvbnN0IGFwcE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwSHViQXBwTmFtZS5hcHBodWJfQXBwTmFtZScpOwogICAgICAgICAgICAgICAgaWYgKGFwcE5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBhcHBOYW1lLnN0eWxlLm1heFdpZHRoID0gJzUzMHB4JzsKICAgICAgICAgICAgICAgICAgICBhcHBOYW1lLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICAgICAgICAgICAgYXBwTmFtZS5zdHlsZS50ZXh0T3ZlcmZsb3cgPSAnZWxsaXBzaXMnOwogICAgICAgICAgICAgICAgICAgIGFwcE5hbWUuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnOwogICAgICAgICAgICAgICAgICAgIGFwcE5hbWUudGl0bGUgPSBhcHBOYW1lLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsUmV2aWV3c1NldHRpbmdzID0gewogICAgICAgICAgICAgICAgc2hvd1RvdGFsUmV2aWV3czogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dOb25DaGluZXNlUmV2aWV3czogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dSdXNzaWFuUmV2aWV3czogdHJ1ZQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgbGV0IGFsbFJldmlld3NEYXRhR2xvYmFsID0gbnVsbDsKICAgICAgICAgICAgbGV0IHNjaGluZXNlRGF0YUdsb2JhbCA9IG51bGw7CiAgICAgICAgICAgIGxldCBydXNzaWFuRGF0YUdsb2JhbCA9IG51bGw7CiAgICAgICAgICAgIGxldCBhcHBpZEdsb2JhbCA9IG51bGw7CgogICAgICAgICAgICBmdW5jdGlvbiBmZXRjaFJldmlld3MoYXBwaWQsIGxhbmd1YWdlLCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgbGV0IHVybCA9IGBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwcmV2aWV3cy8ke2FwcGlkfT9qc29uPTEmbGFuZ3VhZ2U9JHtsYW5ndWFnZX0mcHVyY2hhc2VfdHlwZT1hbGxgOwogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTUwMDAsCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhLnF1ZXJ5X3N1bW1hcnkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFN0ZWFtIEFQSSBlcnJvciBmb3IgJHtsYW5ndWFnZX06YCwgZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwYXJzaW5nIFN0ZWFtIEFQSSByZXNwb25zZSBmb3IgJHtsYW5ndWFnZX06YCwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTdGVhbSBBUEkgcmVxdWVzdCBmYWlsZWQgZm9yICR7bGFuZ3VhZ2V9LiBTdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5ldHdvcmsgZXJyb3IgZmV0Y2hpbmcgcmV2aWV3cyBmb3IgJHtsYW5ndWFnZX06YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRpbWVvdXQgZmV0Y2hpbmcgcmV2aWV3cyBmb3IgJHtsYW5ndWFnZX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGZldGNoUnVzc2lhblJldmlld3NIVE1MKGFwcGlkLCBmaWx0ZXIsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICBsZXQgdXJsID0gYGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHByZXZpZXdzLyR7YXBwaWR9P2xhbmd1YWdlPXJ1c3NpYW4mcHVyY2hhc2VfdHlwZT1hbGwmZmlsdGVyPSR7ZmlsdGVyfSZkYXlfcmFuZ2U9MzY1YDsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDE1MDAwLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YS5odG1sKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBSdXNzaWFuIHJldmlld3MgSFRNTCAoc3VjY2VzcyAhPSAxKTonLCBkYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJzxwIHN0eWxlPSJjb2xvcjogI2ZmNjk2MTsiPtCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC+0LHQt9C+0YDQvtCyLjwvcD4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBSdXNzaWFuIHJldmlld3MgSFRNTDonLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygnPHAgc3R5bGU9ImNvbG9yOiAjZmY2OTYxOyI+0J7RiNC40LHQutCwINC+0LHRgNCw0LHQvtGC0LrQuCDQvtGC0LLQtdGC0LAuPC9wPicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIFJ1c3NpYW4gcmV2aWV3cyBIVE1MLiBTdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJzxwIHN0eWxlPSJjb2xvcjogI2ZmNjk2MTsiPtCe0YjQuNCx0LrQsCDRgdC10YLQuCDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDQvtCx0LfQvtGA0L7Qsi48L3A+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05ldHdvcmsgZXJyb3IgZmV0Y2hpbmcgUnVzc2lhbiByZXZpZXdzIEhUTUw6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygnPHAgc3R5bGU9ImNvbG9yOiAjZmY2OTYxOyI+0J7RiNC40LHQutCwINGB0LXRgtC4LjwvcD4nKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RpbWVvdXQgZmV0Y2hpbmcgUnVzc2lhbiByZXZpZXdzIEhUTUwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJzxwIHN0eWxlPSJjb2xvcjogI2ZmNjk2MTsiPtCi0LDQudC80LDRg9GCINC30LDQs9GA0YPQt9C60Lgg0L7QsdC30L7RgNC+0LIuPC9wPicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhZGRTdHlsZXMoKSB7CiAgICAgICAgICAgICAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRpdGlvbmFsLXJldmlld3MgewogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmctdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzZTRjNTgzZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZGl0aW9uYWwtcmV2aWV3cyAudXNlcl9yZXZpZXdzX3N1bW1hcnlfcm93IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsaW5lLWhlaWdodDogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZGl0aW9uYWwtcmV2aWV3cyAudXNlcl9yZXZpZXdzX3N1bW1hcnlfcm93LmNsaWNrYWJsZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAycHggNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luOiAwIDVweCA1cHggLTRweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZGl0aW9uYWwtcmV2aWV3cyAudXNlcl9yZXZpZXdzX3N1bW1hcnlfcm93LmNsaWNrYWJsZTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwMywgMTkzLCAyNDUsIDAuMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRpdGlvbmFsLXJldmlld3MgLnN1YnRpdGxlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXg6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzU1Njc3MjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXVzZXItc2VsZWN0OiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuYWRkaXRpb25hbC1yZXZpZXdzIC5zdW1tYXJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXg6IDM7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRpdGlvbmFsLXJldmlld3MgLmdhbWVfcmV2aWV3X3N1bW1hcnkgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZGl0aW9uYWwtcmV2aWV3cyAucG9zaXRpdmUgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM2NmMwZjQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRpdGlvbmFsLXJldmlld3MgLm1peGVkIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjQjlBMDc0OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuYWRkaXRpb25hbC1yZXZpZXdzIC5uZWdhdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2EzNGMyNTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZGl0aW9uYWwtcmV2aWV3cyAubm9fcmV2aWV3cyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzkyOTM5NjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZGl0aW9uYWwtcmV2aWV3cyAucmVzcG9uc2l2ZV9oaWRkZW4gewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM1NTY3NzI7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tbGVmdDogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuYWRkaXRpb25hbC1yZXZpZXdzIC5zdW1tYXJ5LWVycm9yIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZmY2OTYxOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zdHlsZTogaXRhbGljOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAub2Z4bW9kYWwgewogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsZWZ0OiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJdG9wOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZHJvcC1maWx0ZXI6IGJsdXIoM3B4KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLm9meG1vZGFsLWNvbnRlbnQgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzFiMjgzODsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbjogOCUgYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDI1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjNTY3ZDljOwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDgwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1heC13aWR0aDogOTAwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1heC1oZWlnaHQ6IDgwdmg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1mYW1pbHk6ICJNb3RpdmEgU2FucyIsIEFyaWFsLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgICAgICAgICAJc2Nyb2xsYmFyLWNvbG9yOiAjNGI2ZjljICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5vZnhtb2RhbC1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAub2Z4bW9kYWwtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogIzFiMjgzODsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLm9meG1vZGFsLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM0YjZmOWM7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDJweCBzb2xpZCAjMWIyODM4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAub2Z4Y2xvc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYWFhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAzMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjJzIGVhc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwMDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5vZnhjbG9zZTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5vZnhjbG9zZTphY3RpdmUgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAucmVmcmVzaC1idXR0b24gewogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgICAgICAgICAJdG9wOiAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJbGVmdDogMjVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6ICM2NmMwZjQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzFiMjgzODsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDEwcHggMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDEwMDE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnMgZWFzZSwgY29sb3IgMC4ycyBlYXNlOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnJlZnJlc2gtYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6ICM0NWIwZTY7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnJlZnJlc2gtYnV0dG9uOmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMzI5Y2Q0OwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNyZXZpZXdzLWNvbnRhaW5lciAucmV2aWV3X2JveCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMTYyMDJkOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzJhM2Y1YTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNyZXZpZXdzLWNvbnRhaW5lciAudGl0bGUgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNyZXZpZXdzLWNvbnRhaW5lciAuaG91cnMgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM4Zjk4YTA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNyZXZpZXdzLWNvbnRhaW5lciAuY29udGVudCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2FjYjJiODsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3Jldmlld3MtY29udGFpbmVyIC5wb3N0ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICNyZXZpZXdzLWNvbnRhaW5lciAuZm91bmRfaGVscGZ1bCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzU1Njc3MjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTFweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgICAgICAgICAJei1pbmRleDogMTAwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsZWZ0OiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJdG9wOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjkpOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtZmFtaWx5OiAiTW90aXZhIFNhbnMiLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAubW9kYWwtY29udGVudC1pbm5lciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMTAxODIyOwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luOiAzdmggYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDk0JTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1heC13aWR0aDogMTQwMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiA5NHZoOwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDEwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuNik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLm1vZGFsLWhlYWRlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxNXB4IDI1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMTYyMDJkOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyYTNmNWE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5tb2RhbC10aXRsZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLm1vZGFsLWNsb3NlLWJ0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDMwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2FhYTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsaW5lLWhlaWdodDogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDAgNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogY29sb3IgMC4yczsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAubW9kYWwtY2xvc2UtYnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5tb2RhbC1ib2R5IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMjBweCAyNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiAyNXB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5tb2RhbC1sZWZ0LXBhbmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiA1NSU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLm1vZGFsLXJpZ2h0LXBhbmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiA0NSU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzE2MjAyZDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMyYTNmNWE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5jb250cm9scy1hcmVhIHsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5jb2xsZWN0LWJ0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjNjZjMGY0OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxMHB4IDIycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycywgdHJhbnNmb3JtIDAuMXM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLmNvbGxlY3QtYnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6ICM4YWQzZjc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLmNvbGxlY3QtYnRuOmFjdGl2ZTpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2Zvcm06IHNjYWxlKDAuOTgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5jb2xsZWN0LWJ0bjpkaXNhYmxlZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjNTU2NzcyOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM4Zjk4YTA7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgICAgICAgICAgICAgICAgICAJb3BhY2l0eTogMC43OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5wcm9ncmVzcy1hcmVhIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnByb2dyZXNzLWJhci1jb250YWluZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMGExMDE2OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMyYTNmNWE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5wcm9ncmVzcy1iYXItaW5uZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjEpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjEpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAuMSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtc2l6ZTogMzBweCAzMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogd2lkdGggMC40cyBlYXNlOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDExcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLXJpZ2h0OiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LXNoYWRvdzogMXB4IDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5wcm9ncmVzcy10ZXh0IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTFweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMS4yZW07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnRhYmxlLWNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMyYTNmNWE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMTYyMDJkOwogICAgICAgICAgICAgICAgICAgICAgICAJc2Nyb2xsYmFyLWNvbG9yOiAjNGI2ZjljICMxNjIwMmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAlzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnRhYmxlLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAudGFibGUtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMTYyMDJkOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogMCAzcHggM3B4IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnRhYmxlLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMnB4IHNvbGlkICMxNjIwMmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnJldmlld3MtdGFibGUgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIHRoLAogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIHRkIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDlweCAxMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMmEzZjVhOwogICAgICAgICAgICAgICAgICAgICAgICAJd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAucmV2aWV3cy10YWJsZSB0aCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMWYyYzNhOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM4Zjk4YTA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IHN0aWNreTsKICAgICAgICAgICAgICAgICAgICAgICAgCXRvcDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnJldmlld3MtdGFibGUgdGQgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNhY2IyYjg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIHRyOmxhc3QtY2hpbGQgdGQgewogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAucmV2aWV3cy10YWJsZSB0cjpob3ZlciB0ZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwMywgMTkzLCAyNDUsIDAuMDUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIC5jb2wtcmFuayB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogNDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIC5jb2wtY2hlY2sgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDQwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLnJldmlld3MtdGFibGUgLmNvbC1sYW5nIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiBhdXRvOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIC5jb2wtY291bnQgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDkwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAucmV2aWV3cy10YWJsZSAuY29sLXBlcmNlbnQtdG90YWwgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDgwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsIC5yZXZpZXdzLXRhYmxlIC5jb2wtcGVyY2VudC1wb3MgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDcwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAucmV2aWV3cy10YWJsZSBpbnB1dFt0eXBlPWNoZWNrYm94XSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhY2NlbnQtY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNnbG9iYWxSZXZpZXdzTW9kYWwgLm5vLXJldmlld3MtaW5mbyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM4Zjk4YTA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAwIDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAuY2hhcnQtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjZ2xvYmFsUmV2aWV3c01vZGFsICNyZXZpZXdzUGllQ2hhcnQgewogICAgICAgICAgICAgICAgICAgICAgICAJbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJbWF4LWhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI2dsb2JhbFJldmlld3NNb2RhbCAubW9kYWwtZm9vdGVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDE1cHggMjVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci10b3A6IDFweCBzb2xpZCAjMmEzZjVhOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzE2MjAyZDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDEuNDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJldmlld0NsYXNzKHBlcmNlbnQsIHRvdGFsUmV2aWV3cykgewogICAgICAgICAgICAgICAgaWYgKHRvdGFsUmV2aWV3cyA9PT0gMCkgcmV0dXJuICdub19yZXZpZXdzJzsKICAgICAgICAgICAgICAgIGlmIChwZXJjZW50ID09PSBudWxsIHx8IHR5cGVvZiBwZXJjZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuICdub19yZXZpZXdzJzsKICAgICAgICAgICAgICAgIGlmIChwZXJjZW50ID49IDcwKSByZXR1cm4gJ3Bvc2l0aXZlJzsKICAgICAgICAgICAgICAgIGlmIChwZXJjZW50ID49IDQwKSByZXR1cm4gJ21peGVkJzsKICAgICAgICAgICAgICAgIHJldHVybiAnbmVnYXRpdmUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhZGRMb2FkQnV0dG9uKCkgewogICAgICAgICAgICAgICAgbGV0IHJldmlld3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcl9yZXZpZXdzJyk7CiAgICAgICAgICAgICAgICBpZiAocmV2aWV3c0NvbnRhaW5lcikgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWQtcmV2aWV3cy1idXR0b24nKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdCdXR0b24pIGV4aXN0aW5nQnV0dG9uLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUmV2aWV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRpdGlvbmFsLXJldmlld3MnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdSZXZpZXdzKSBleGlzdGluZ1Jldmlld3MucmVtb3ZlKCk7CgogICAgICAgICAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsUmV2aWV3c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxSZXZpZXdzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdhZGRpdGlvbmFsLXJldmlld3MnOwoKICAgICAgICAgICAgICAgICAgICBsZXQgbG9hZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIGxvYWRCdXR0b24uY2xhc3NOYW1lID0gJ3VzZXJfcmV2aWV3c19zdW1tYXJ5X3JvdyBjbGlja2FibGUnOwogICAgICAgICAgICAgICAgICAgIGxvYWRCdXR0b24uaWQgPSAnbG9hZC1yZXZpZXdzLWJ1dHRvbic7CiAgICAgICAgICAgICAgICAgICAgbG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSBjb2x1bW4gYWxsIj7QlNC+0L8uINC+0LHQt9C+0YDRizo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1bW1hcnkgY29sdW1uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ2FtZV9yZXZpZXdfc3VtbWFyeSBub19yZXZpZXdzIj7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0YHRgtCw0YLQuNGB0YLQuNC60YM8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFJldmlld3NDb250YWluZXIuYXBwZW5kQ2hpbGQobG9hZEJ1dHRvbik7CiAgICAgICAgICAgICAgICAgICAgcmV2aWV3c0NvbnRhaW5lci5hcHBlbmRDaGlsZChhZGRpdGlvbmFsUmV2aWV3c0NvbnRhaW5lcik7CgogICAgICAgICAgICAgICAgICAgIGxvYWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsb2FkQWRkaXRpb25hbFJldmlld3MpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0c0NvbmZpZy5hdXRvTG9hZFJldmlld3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFkZGl0aW9uYWxSZXZpZXdzKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBsb2FkQWRkaXRpb25hbFJldmlld3MoKSB7CiAgICAgICAgICAgICAgICBhcHBpZEdsb2JhbCA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXC9hcHBcLyhcZCspLylbMV07CiAgICAgICAgICAgICAgICBpZiAoIWFwcGlkR2xvYmFsKSByZXR1cm47CgogICAgICAgICAgICAgICAgbGV0IGxvYWRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZC1yZXZpZXdzLWJ1dHRvbicpOwogICAgICAgICAgICAgICAgaWYgKGxvYWRCdXR0b24pIHsKICAgICAgICAgICAgICAgICAgICBsb2FkQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJy5nYW1lX3Jldmlld19zdW1tYXJ5JykudGV4dENvbnRlbnQgPSAn0JfQsNCz0YDRg9C30LrQsC4uLic7CiAgICAgICAgICAgICAgICAgICAgbG9hZEJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGxvYWRCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcwLjYnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlc1RvRmV0Y2ggPSBbJ2FsbCcsICdzY2hpbmVzZScsICdydXNzaWFuJ107CiAgICAgICAgICAgICAgICBsZXQgZmV0Y2hlZERhdGEgPSB7fTsKICAgICAgICAgICAgICAgIGxldCBjb21wbGV0ZWRSZXF1ZXN0cyA9IDA7CgogICAgICAgICAgICAgICAgbGFuZ3VhZ2VzVG9GZXRjaC5mb3JFYWNoKGxhbmd1YWdlID0+IHsKICAgICAgICAgICAgICAgICAgICBmZXRjaFJldmlld3MoYXBwaWRHbG9iYWwsIGxhbmd1YWdlLCAoc3VtbWFyeURhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hlZERhdGFbbGFuZ3VhZ2VdID0gc3VtbWFyeURhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFJlcXVlc3RzKys7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkUmVxdWVzdHMgPT09IGxhbmd1YWdlc1RvRmV0Y2gubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxSZXZpZXdzRGF0YUdsb2JhbCA9IGZldGNoZWREYXRhWydhbGwnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGluZXNlRGF0YUdsb2JhbCA9IGZldGNoZWREYXRhWydzY2hpbmVzZSddOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVzc2lhbkRhdGFHbG9iYWwgPSBmZXRjaGVkRGF0YVsncnVzc2lhbiddOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUFkZGl0aW9uYWxSZXZpZXdzKGFsbFJldmlld3NEYXRhR2xvYmFsLCBzY2hpbmVzZURhdGFHbG9iYWwsIHJ1c3NpYW5EYXRhR2xvYmFsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9hZEJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRCdXR0b24ucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBkaXNwbGF5QWRkaXRpb25hbFJldmlld3MoYWxsUmV2aWV3cywgc2NoaW5lc2VSZXZpZXdzLCBydXNzaWFuUmV2aWV3cykgewogICAgICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxSZXZpZXdzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZGl0aW9uYWwtcmV2aWV3cycpOwogICAgICAgICAgICAgICAgaWYgKCFhZGRpdGlvbmFsUmV2aWV3c0NvbnRhaW5lcikgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxSZXZpZXdzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwoKICAgICAgICAgICAgICAgIGNvbnN0IGFkZFJldmlld1JvdyA9IChpZCwgdGl0bGUsIHJldmlld3NEYXRhLCBpc0NsaWNrYWJsZSA9IGZhbHNlLCBvbkNsaWNrID0gbnVsbCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSAndXNlcl9yZXZpZXdzX3N1bW1hcnlfcm93JzsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNDbGlja2FibGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcm93LmNsYXNzTGlzdC5hZGQoJ2NsaWNrYWJsZScpOwogICAgICAgICAgICAgICAgICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcm93LmlkID0gaWQ7CgogICAgICAgICAgICAgICAgICAgIGxldCBwZXJjZW50ID0gMDsKICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAwOwogICAgICAgICAgICAgICAgICAgIGxldCBzdGF0dXNDbGFzcyA9ICdub19yZXZpZXdzJzsKICAgICAgICAgICAgICAgICAgICBsZXQgc3VtbWFyeVRleHQgPSAn0J3QtdGCINC00LDQvdC90YvRhSc7CiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yVGV4dCA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXZpZXdzRGF0YSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvclRleHQgPSAn0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60LgnOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDbGFzcyA9ICdzdW1tYXJ5LWVycm9yJzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJldmlld3NEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gcmV2aWV3c0RhdGEudG90YWxfcmV2aWV3czsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IHRvdGFsID4gMCA/IE1hdGgucm91bmQoKHJldmlld3NEYXRhLnRvdGFsX3Bvc2l0aXZlIC8gdG90YWwpICogMTAwKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDbGFzcyA9IGdldFJldmlld0NsYXNzKHBlcmNlbnQsIHRvdGFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlUZXh0ID0gYCR7cGVyY2VudH0lINC40LcgJHtmb3JtYXROdW1iZXIodG90YWwpfSDQv9C+0LvQvtC20LjRgtC10LvRjNC90YvQtWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5VGV4dCA9ICfQndC10YIg0L7QsdC30L7RgNC+0LInOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ2xhc3MgPSAnbm9fcmV2aWV3cyc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5VGV4dCA9ICfQndC10YIg0LTQsNC90L3Ri9GFJzsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ2xhc3MgPSAnbm9fcmV2aWV3cyc7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByb3cuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUgY29sdW1uIGFsbCI+JHt0aXRsZX06PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdW1tYXJ5IGNvbHVtbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdhbWVfcmV2aWV3X3N1bW1hcnkgJHtzdGF0dXNDbGFzc30iPiR7ZXJyb3JUZXh0IHx8IHN1bW1hcnlUZXh0fTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxSZXZpZXdzQ29udGFpbmVyLmFwcGVuZENoaWxkKHJvdyk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUmV2aWV3c1NldHRpbmdzLnNob3dUb3RhbFJldmlld3MpIHsKICAgICAgICAgICAgICAgICAgICBhZGRSZXZpZXdSb3coJ3RvdGFsLXJldmlld3Mtcm93JywgJ9Ci0L7RgtCw0LvRjNC90YvQtScsIGFsbFJldmlld3MsIHRydWUsIG9wZW5HbG9iYWxSZXZpZXdzTW9kYWwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUmV2aWV3c1NldHRpbmdzLnNob3dOb25DaGluZXNlUmV2aWV3cykgewogICAgICAgICAgICAgICAgICAgIGxldCBub25DaGluZXNlU3VtbWFyeSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5vbkNoaW5lc2VFcnJvciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFJldmlld3MgPT09IG51bGwgfHwgc2NoaW5lc2VSZXZpZXdzID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vbkNoaW5lc2VFcnJvciA9ICfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbGxSZXZpZXdzICYmIHNjaGluZXNlUmV2aWV3cykgewogICAgICAgICAgICAgICAgICAgICAgICBub25DaGluZXNlU3VtbWFyeSA9IHsgdG90YWxfcmV2aWV3czogMCwgdG90YWxfcG9zaXRpdmU6IDAsIHJldmlld19zY29yZTogMCB9OwogICAgICAgICAgICAgICAgICAgICAgICBub25DaGluZXNlU3VtbWFyeS50b3RhbF9yZXZpZXdzID0gTWF0aC5tYXgoMCwgYWxsUmV2aWV3cy50b3RhbF9yZXZpZXdzIC0gc2NoaW5lc2VSZXZpZXdzLnRvdGFsX3Jldmlld3MpOwogICAgICAgICAgICAgICAgICAgICAgICBub25DaGluZXNlU3VtbWFyeS50b3RhbF9wb3NpdGl2ZSA9IE1hdGgubWF4KDAsIGFsbFJldmlld3MudG90YWxfcG9zaXRpdmUgLSBzY2hpbmVzZVJldmlld3MudG90YWxfcG9zaXRpdmUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9uQ2hpbmVzZVN1bW1hcnkudG90YWxfcmV2aWV3cyA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSBNYXRoLnJvdW5kKChub25DaGluZXNlU3VtbWFyeS50b3RhbF9wb3NpdGl2ZSAvIG5vbkNoaW5lc2VTdW1tYXJ5LnRvdGFsX3Jldmlld3MpICogMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50ID49IDcwKSBub25DaGluZXNlU3VtbWFyeS5yZXZpZXdfc2NvcmUgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGVyY2VudCA+PSA0MCkgbm9uQ2hpbmVzZVN1bW1hcnkucmV2aWV3X3Njb3JlID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugbm9uQ2hpbmVzZVN1bW1hcnkucmV2aWV3X3Njb3JlID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbkNoaW5lc2VTdW1tYXJ5LnJldmlld19zY29yZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgcm93LmNsYXNzTmFtZSA9ICd1c2VyX3Jldmlld3Nfc3VtbWFyeV9yb3cnOwogICAgICAgICAgICAgICAgICAgIHJvdy5pZCA9ICdub24tY2hpbmVzZS1yZXZpZXdzLXJvdyc7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAwOwogICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXR1c0NsYXNzID0gJ25vX3Jldmlld3MnOwogICAgICAgICAgICAgICAgICAgIGxldCBzdW1tYXJ5VGV4dCA9ICfQndC10YIg0LTQsNC90L3Ri9GFJzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vbkNoaW5lc2VFcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5VGV4dCA9IG5vbkNoaW5lc2VFcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ2xhc3MgPSAnc3VtbWFyeS1lcnJvcic7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChub25DaGluZXNlU3VtbWFyeSkgewogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IG5vbkNoaW5lc2VTdW1tYXJ5LnRvdGFsX3Jldmlld3M7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBNYXRoLnJvdW5kKChub25DaGluZXNlU3VtbWFyeS50b3RhbF9wb3NpdGl2ZSAvIHRvdGFsKSAqIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDbGFzcyA9IGdldFJldmlld0NsYXNzKHBlcmNlbnQsIHRvdGFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlUZXh0ID0gYCR7cGVyY2VudH0lINC40LcgJHtmb3JtYXROdW1iZXIodG90YWwpfSDQv9C+0LvQvtC20LjRgtC10LvRjNC90YvQtWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5VGV4dCA9ICfQndC10YIg0L7QsdC30L7RgNC+0LInOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ2xhc3MgPSAnbm9fcmV2aWV3cyc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJvdy5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWJ0aXRsZSBjb2x1bW4gYWxsIj7QkdC10LfQutC40YLQsNC50YHQutC40LU6PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdW1tYXJ5IGNvbHVtbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdhbWVfcmV2aWV3X3N1bW1hcnkgJHtzdGF0dXNDbGFzc30iPiR7c3VtbWFyeVRleHR9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFJldmlld3NDb250YWluZXIuYXBwZW5kQ2hpbGQocm93KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbFJldmlld3NTZXR0aW5ncy5zaG93UnVzc2lhblJldmlld3MpIHsKICAgICAgICAgICAgICAgICAgICBhZGRSZXZpZXdSb3coJ3J1c3NpYW4tcmV2aWV3cy1yb3cnLCAn0KDRg9GB0YHQutC40LUnLCBydXNzaWFuUmV2aWV3cywgdHJ1ZSwgb3BlblJ1c3NpYW5SZXZpZXdzTW9kYWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBvcGVuUnVzc2lhblJldmlld3NNb2RhbCgpIHsKICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydXNzaWFuUmV2aWV3c01vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBtb2RhbC5pZCA9ICdydXNzaWFuUmV2aWV3c01vZGFsJzsKICAgICAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSAnb2Z4bW9kYWwnOwogICAgICAgICAgICAgICAgICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9meG1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJvZnhjbG9zZSIgdGl0bGU9ItCX0LDQutGA0YvRgtGMIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InJlZnJlc2gtYnV0dG9uIiBpZD0icmVmcmVzaC1yZXZpZXdzIj7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0LDQutGC0YPQsNC70YzQvdGL0LU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICM2N2MxZjU7IG1hcmdpbi10b3A6IDVweDsgbWFyZ2luLWJvdHRvbTogMjVweDsiPtCg0YPRgdGB0LrQvtGP0LfRi9GH0L3Ri9C1INC+0LHQt9C+0YDRizwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icmV2aWV3cy1jb250YWluZXIiIHN0eWxlPSJwYWRkaW5nLXRvcDogMTBweDsiPtCX0LDQs9GA0YPQt9C60LAuLi48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwoKICAgICAgICAgICAgICAgICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcub2Z4Y2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOwogICAgICAgICAgICAgICAgICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNyZWZyZXNoLXJldmlld3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlZnJlc2hSdXNzaWFuUmV2aWV3cyhtb2RhbCkpOwogICAgICAgICAgICAgICAgICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICBsb2FkUnVzc2lhblJldmlld3MobW9kYWwsICdhbGwnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFJ1c3NpYW5SZXZpZXdzKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjcmV2aWV3cy1jb250YWluZXInKS5pbm5lckhUTUwgPSAn0JfQsNCz0YDRg9C30LrQsCDQsNC60YLRg9Cw0LvRjNC90YvRhS4uLic7CiAgICAgICAgICAgICAgICBsb2FkUnVzc2lhblJldmlld3MobW9kYWwsICdyZWNlbnQnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gbG9hZFJ1c3NpYW5SZXZpZXdzKG1vZGFsLCBmaWx0ZXIpIHsKICAgICAgICAgICAgICAgIGlmICghYXBwaWRHbG9iYWwpIHJldHVybjsKICAgICAgICAgICAgICAgIGZldGNoUnVzc2lhblJldmlld3NIVE1MKGFwcGlkR2xvYmFsLCBmaWx0ZXIsIGZ1bmN0aW9uKGh0bWwpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjcmV2aWV3cy1jb250YWluZXInKTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignI0xvYWRNb3JlUmV2aWV3c2FsbCcpPy5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignI0xvYWRNb3JlUmV2aWV3c3JlY2VudCcpPy5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnYScpLmZvckVhY2goYSA9PiBhLnRhcmdldCA9ICdfYmxhbmsnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgZ2xvYmFsUmV2aWV3c0NoYXJ0ID0gbnVsbDsKICAgICAgICAgICAgbGV0IGFsbExhbmd1YWdlRGF0YSA9IFtdOwoKICAgICAgICAgICAgY29uc3Qgc3RlYW1MYW5ndWFnZXMgPSB7CiAgICAgICAgICAgICAgICAnZW5nbGlzaCc6ICfQkNC90LPQu9C40LnRgdC60LjQuScsICdnZXJtYW4nOiAn0J3QtdC80LXRhtC60LjQuScsICdmcmVuY2gnOiAn0KTRgNCw0L3RhtGD0LfRgdC60LjQuScsICdpdGFsaWFuJzogJ9CY0YLQsNC70YzRj9C90YHQutC40LknLAogICAgICAgICAgICAgICAgJ2tvcmVhbmEnOiAn0JrQvtGA0LXQudGB0LrQuNC5JywgJ3NwYW5pc2gnOiAn0JjRgdC/0LDQvdGB0LrQuNC5JywgJ3NjaGluZXNlJzogJ9Cj0L/RgC4g0LrQuNGC0LDQudGB0LrQuNC5JywKICAgICAgICAgICAgICAgICd0Y2hpbmVzZSc6ICfQotGA0LDQtC4g0LrQuNGC0LDQudGB0LrQuNC5JywKICAgICAgICAgICAgICAgICdydXNzaWFuJzogJ9Cg0YPRgdGB0LrQuNC5JywgJ3RoYWknOiAn0KLQsNC50YHQutC40LknLCAnamFwYW5lc2UnOiAn0K/Qv9C+0L3RgdC60LjQuScsCiAgICAgICAgICAgICAgICAncG9ydHVndWVzZSc6ICfQn9C+0YDRgtGD0LPQsNC70YzRgdC60LjQuScsICdwb2xpc2gnOiAn0J/QvtC70YzRgdC60LjQuScsICdkYW5pc2gnOiAn0JTQsNGC0YHQutC40LknLCAnZHV0Y2gnOiAn0J3QuNC00LXRgNC70LDQvdC00YHQutC40LknLAogICAgICAgICAgICAgICAgJ2Zpbm5pc2gnOiAn0KTQuNC90YHQutC40LknLCAnbm9yd2VnaWFuJzogJ9Cd0L7RgNCy0LXQttGB0LrQuNC5JywgJ3N3ZWRpc2gnOiAn0KjQstC10LTRgdC60LjQuScsICdodW5nYXJpYW4nOiAn0JLQtdC90LPQtdGA0YHQutC40LknLAogICAgICAgICAgICAgICAgJ2N6ZWNoJzogJ9Cn0LXRiNGB0LrQuNC5JywgJ3JvbWFuaWFuJzogJ9Cg0YPQvNGL0L3RgdC60LjQuScsICd0dXJraXNoJzogJ9Ci0YPRgNC10YbQutC40LknLCAnYnVsZ2FyaWFuJzogJ9CR0L7Qu9Cz0LDRgNGB0LrQuNC5JywKICAgICAgICAgICAgICAgICdncmVlayc6ICfQk9GA0LXRh9C10YHQutC40LknLCAndWtyYWluaWFuJzogJ9Cj0LrRgNCw0LjQvdGB0LrQuNC5JywgJ2xhdGFtJzogJ9CY0YHQv9Cw0L3RgdC60LjQuSDQm9Cw0YIuINCQ0LwuJywKICAgICAgICAgICAgICAgICd2aWV0bmFtZXNlJzogJ9CS0YzQtdGC0L3QsNC80YHQutC40LknLCAnaW5kb25lc2lhbic6ICfQmNC90LTQvtC90LXQt9C40LnRgdC60LjQuScsICdicmF6aWxpYW4nOiAn0J/QvtGA0YLRg9CzLiAo0JHRgNCw0LcuKScKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIG9wZW5HbG9iYWxSZXZpZXdzTW9kYWwoKSB7CiAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsUmV2aWV3c01vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgbW9kYWwgPSBjcmVhdGVHbG9iYWxSZXZpZXdzTW9kYWxTdHJ1Y3R1cmUoKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbG9iYWwtcmV2aWV3cy10YWJsZS1ib2R5Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBub1Jldmlld3NJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsb2JhbC1yZXZpZXdzLW5vLXJldmlld3MtaW5mbycpOwogICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbG9iYWwtcmV2aWV3cy1jb2xsZWN0LWJ0bicpOwogICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsLXJldmlld3MtcHJvZ3Jlc3MtYmFyJyk7CiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsLXJldmlld3MtcHJvZ3Jlc3MtdGV4dCcpOwoKICAgICAgICAgICAgICAgIGlmICh0YWJsZUJvZHkpIHsKICAgICAgICAgICAgICAgICAgICB0YWJsZUJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogIzhmOThhMDsiPtCd0LDQttC80LjRgtC1ICLQodC+0LHRgNCw0YLRjCIsINGH0YLQvtCx0Ysg0LfQsNCz0YDRg9C30LjRgtGMINC00LDQvdC90YvQtS48L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChub1Jldmlld3NJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgbm9SZXZpZXdzSW5mby50ZXh0Q29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFbGVtZW50IHdpdGggSUQgJ2dsb2JhbC1yZXZpZXdzLW5vLXJldmlld3MtaW5mbycgbm90IGZvdW5kIGR1cmluZyByZXNldCEiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0QnRuKSB7CiAgICAgICAgICAgICAgICAgICAgY29sbGVjdEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAnMCUnOwogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NUZXh0LnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGdsb2JhbFJldmlld3NDaGFydCkgewogICAgICAgICAgICAgICAgICAgIGdsb2JhbFJldmlld3NDaGFydC5kZXN0cm95KCk7CiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsUmV2aWV3c0NoYXJ0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsUmV2aWV3c01vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAobW9kYWxFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgbW9kYWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJNb2RhbCBlbGVtZW50ICNnbG9iYWxSZXZpZXdzTW9kYWwgbm90IGZvdW5kIHdoZW4gdHJ5aW5nIHRvIGRpc3BsYXkhIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNsb3NlR2xvYmFsUmV2aWV3c01vZGFsKCkgewogICAgICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsUmV2aWV3c01vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbC5fZXNjSGFuZGxlcikgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbW9kYWwuX2VzY0hhbmRsZXIpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbW9kYWwuX2VzY0hhbmRsZXI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVHbG9iYWxSZXZpZXdzTW9kYWxTdHJ1Y3R1cmUoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgbW9kYWwuaWQgPSAnZ2xvYmFsUmV2aWV3c01vZGFsJzsKICAgICAgICAgICAgICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudC1pbm5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtCT0LvQvtCx0LDQu9GM0L3Ri9C5INC80L7QvdC40YLQvtGAINC+0LHQt9C+0YDQvtCyPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJtb2RhbC1jbG9zZS1idG4iIHRpdGxlPSLQl9Cw0LrRgNGL0YLRjCI+JnRpbWVzOzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1sZWZ0LXBhbmVsIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udHJvbHMtYXJlYSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJnbG9iYWwtcmV2aWV3cy1jb2xsZWN0LWJ0biIgY2xhc3M9ImNvbGxlY3QtYnRuIj7QodC+0LHRgNCw0YLRjDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYXJlYSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Imdsb2JhbC1yZXZpZXdzLXByb2dyZXNzLWJhciIgY2xhc3M9InByb2dyZXNzLWJhci1pbm5lciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZ2xvYmFsLXJldmlld3MtcHJvZ3Jlc3MtdGV4dCIgY2xhc3M9InByb2dyZXNzLXRleHQiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJyZXZpZXdzLXRhYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iY29sLXJhbmsiPiM8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJjb2wtY2hlY2siIHRpdGxlPSLQn9C+0LrQsNC30LDRgtGMINC90LAg0LTQuNCw0LPRgNCw0LzQvNC1Ij7wn5OKPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iY29sLWxhbmciPtCv0LfRi9C6PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iY29sLWNvdW50Ij7QntCx0LfQvtGA0Ys8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJjb2wtcGVyY2VudC10b3RhbCI+JSDQntCx0Yk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJjb2wtcGVyY2VudC1wb3MiPiUg8J+RjTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9Imdsb2JhbC1yZXZpZXdzLXRhYmxlLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogIzhmOThhMDsiPtCd0LDQttC80LjRgtC1ICLQodC+0LHRgNCw0YLRjCIsINGH0YLQvtCx0Ysg0LfQsNCz0YDRg9C30LjRgtGMINC00LDQvdC90YvQtS48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJnbG9iYWwtcmV2aWV3cy1uby1yZXZpZXdzLWluZm8iIGNsYXNzPSJuby1yZXZpZXdzLWluZm8iPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLXJpZ2h0LXBhbmVsIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhcnQtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9InJldmlld3NQaWVDaGFydCI+PC9jYW52YXM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+0JLQvdC40LzQsNC90LjQtTo8L3N0cm9uZz4g0JfQsNCz0YDRg9C30LrQsCDQtNCw0L3QvdGL0YUg0LTQu9GPINC60LDQttC00L7Qs9C+INGP0LfRi9C60LAg0L7RgtC/0YDQsNCy0LvRj9C10YIg0L7RgtC00LXQu9GM0L3Ri9C5INC30LDQv9GA0L7RgSDQuiBTdGVhbS48YnI+0KfQsNGB0YLQvtC1INC40YHQv9C+0LvRjNC30L7QstCw0L3QuNC1INC90LAg0LzQvdC+0LbQtdGB0YLQstC1INC40LPRgCDQvNC+0LbQtdGCINC/0YDQuNCy0LXRgdGC0Lgg0Log0LLRgNC10LzQtdC90L3Ri9C8INC+0LPRgNCw0L3QuNGH0LXQvdC40Y/QvCDRgdC+INGB0YLQvtGA0L7QvdGLIFN0ZWFtLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWNsb3NlLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VHbG9iYWxSZXZpZXdzTW9kYWwpOwogICAgICAgICAgICAgICAgbW9kYWwucXVlcnlTZWxlY3RvcignI2dsb2JhbC1yZXZpZXdzLWNvbGxlY3QtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3RhcnRHbG9iYWxSZXZpZXdDb2xsZWN0aW9uKGFwcGlkR2xvYmFsLCBydXNzaWFuRGF0YUdsb2JhbCwgc2NoaW5lc2VEYXRhR2xvYmFsKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbCkgewogICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUdsb2JhbFJldmlld3NNb2RhbCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbW9kYWwuX2VzY0hhbmRsZXIgPSAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAiRXNjYXBlIikgewogICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUdsb2JhbFJldmlld3NNb2RhbCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbW9kYWwuX2VzY0hhbmRsZXIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBtb2RhbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gc3RhcnRHbG9iYWxSZXZpZXdDb2xsZWN0aW9uKGFwcGlkLCBleGlzdGluZ1J1c3NpYW5EYXRhLCBleGlzdGluZ1NjaGluZXNlRGF0YSkgewogICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbG9iYWwtcmV2aWV3cy1jb2xsZWN0LWJ0bicpOwogICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsLXJldmlld3MtcHJvZ3Jlc3MtYmFyJyk7CiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsLXJldmlld3MtcHJvZ3Jlc3MtdGV4dCcpOwogICAgICAgICAgICAgICAgY29uc3QgdGFibGVCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsb2JhbC1yZXZpZXdzLXRhYmxlLWJvZHknKTsKICAgICAgICAgICAgICAgIGNvbnN0IG5vUmV2aWV3c0luZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsLXJldmlld3Mtbm8tcmV2aWV3cy1pbmZvJyk7CgogICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0QnRuIHx8ICFwcm9ncmVzc0JhciB8fCAhcHJvZ3Jlc3NUZXh0IHx8ICF0YWJsZUJvZHkgfHwgIW5vUmV2aWV3c0luZm8pIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJbR2xvYmFsIFJldmlld3MgTW9uaXRvcl0gQ291bGQgbm90IGZpbmQgYWxsIG5lY2Vzc2FyeSBtb2RhbCBlbGVtZW50cy4gQWJvcnRpbmcgY29sbGVjdGlvbi4iKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGFibGVCb2R5KSB0YWJsZUJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogI2ZmNjk2MTsiPtCe0YjQuNCx0LrQsDog0J3QtSDQvdCw0LnQtNC10L3RiyDRjdC70LXQvNC10L3RgtGLINC40L3RgtC10YDRhNC10LnRgdCwLiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQt9Cw0LrRgNGL0YLRjCDQuCDRgdC90L7QstCwINC+0YLQutGA0YvRgtGMINC+0LrQvdC+LjwvdGQ+PC90cj4nOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb2xsZWN0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRhYmxlQm9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI2IiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IGNvbG9yOiAjOGY5OGEwOyI+0JfQsNCz0YDRg9C30LrQsCDQtNCw0L3QvdGL0YUuLi4gPHNwYW4gY2xhc3M9InNwaW5uZXIiPjwvc3Bhbj48L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgIG5vUmV2aWV3c0luZm8udGV4dENvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChnbG9iYWxSZXZpZXdzQ2hhcnQpIHsKICAgICAgICAgICAgICAgICAgICBnbG9iYWxSZXZpZXdzQ2hhcnQuZGVzdHJveSgpOwogICAgICAgICAgICAgICAgICAgIGdsb2JhbFJldmlld3NDaGFydCA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2aWV3c1BpZUNoYXJ0Jyk7CiAgICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFsbExhbmd1YWdlRGF0YSA9IFtdOwoKICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1J1c3NpYW5EYXRhICYmIHR5cGVvZiBleGlzdGluZ1J1c3NpYW5EYXRhID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgIGFsbExhbmd1YWdlRGF0YS5wdXNoKHsgbGFuZ0NvZGU6ICdydXNzaWFuJywgbGFuZ05hbWU6IHN0ZWFtTGFuZ3VhZ2VzWydydXNzaWFuJ10sIHN1bW1hcnk6IGV4aXN0aW5nUnVzc2lhbkRhdGEsIHZpc2libGU6IHRydWUsIGZldGNoZWQ6IHRydWUgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFsbExhbmd1YWdlRGF0YS5wdXNoKHsgbGFuZ0NvZGU6ICdydXNzaWFuJywgbGFuZ05hbWU6IHN0ZWFtTGFuZ3VhZ2VzWydydXNzaWFuJ10sIHN1bW1hcnk6IG51bGwsIHZpc2libGU6IHRydWUsIGZldGNoZWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nU2NoaW5lc2VEYXRhICYmIHR5cGVvZiBleGlzdGluZ1NjaGluZXNlRGF0YSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgICAgICBhbGxMYW5ndWFnZURhdGEucHVzaCh7IGxhbmdDb2RlOiAnc2NoaW5lc2UnLCBsYW5nTmFtZTogc3RlYW1MYW5ndWFnZXNbJ3NjaGluZXNlJ10sIHN1bW1hcnk6IGV4aXN0aW5nU2NoaW5lc2VEYXRhLCB2aXNpYmxlOiB0cnVlLCBmZXRjaGVkOiB0cnVlIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGxMYW5ndWFnZURhdGEucHVzaCh7IGxhbmdDb2RlOiAnc2NoaW5lc2UnLCBsYW5nTmFtZTogc3RlYW1MYW5ndWFnZXNbJ3NjaGluZXNlJ10sIHN1bW1hcnk6IG51bGwsIHZpc2libGU6IHRydWUsIGZldGNoZWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlc1RvRmV0Y2ggPSBPYmplY3Qua2V5cyhzdGVhbUxhbmd1YWdlcykuZmlsdGVyKGxhbmcgPT4gbGFuZyAhPT0gJ3J1c3NpYW4nICYmIGxhbmcgIT09ICdzY2hpbmVzZScpOwogICAgICAgICAgICAgICAgY29uc3QgdG90YWxMYW5ndWFnZXNUb0ZldGNoID0gbGFuZ3VhZ2VzVG9GZXRjaC5sZW5ndGg7CiAgICAgICAgICAgICAgICBsZXQgY29tcGxldGVkRmV0Y2hlcyA9IDA7CiAgICAgICAgICAgICAgICBsZXQgZXJyb3JzID0gMDsKCiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVQcm9ncmVzcyA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbENvbXBsZXRlZCA9IGNvbXBsZXRlZEZldGNoZXMgKyBlcnJvcnM7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHRvdGFsTGFuZ3VhZ2VzVG9GZXRjaCA+IDAgPyBNYXRoLnJvdW5kKCh0b3RhbENvbXBsZXRlZCAvIHRvdGFsTGFuZ3VhZ2VzVG9GZXRjaCkgKiAxMDApIDogMTAwOwogICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzc0JhcikgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWA7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnRleHRDb250ZW50ID0gYCR7cGVyY2VudGFnZX0lYDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1RleHQudGV4dENvbnRlbnQgPSBg0J7QsdGA0LDQsdC+0YLQsNC90L46ICR7dG90YWxDb21wbGV0ZWR9INC40LcgJHt0b3RhbExhbmd1YWdlc1RvRmV0Y2h9INGP0LfRi9C60L7QsiAo0KPRgdC/0LXRiNC90L46ICR7Y29tcGxldGVkRmV0Y2hlc30sINCe0YjQuNCx0L7QujogJHtlcnJvcnN9KWA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci50ZXh0Q29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoKTsKCiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxhbmdDb2RlIG9mIGxhbmd1YWdlc1RvRmV0Y2gpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWFwcGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIltHbG9iYWwgUmV2aWV3cyBNb25pdG9yXSBBcHBJRCBpcyBtaXNzaW5nLCBzdG9wcGluZyBmZXRjaCBsb29wLiIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NUZXh0KSBwcm9ncmVzc1RleHQudGV4dENvbnRlbnQgPSAn0J7RiNC40LHQutCwOiBBcHBJRCDQvdC1INC90LDQudC00LXQvS4nOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdEJ0bikgY29sbGVjdEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5nTmFtZSA9IHN0ZWFtTGFuZ3VhZ2VzW2xhbmdDb2RlXTsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5RGF0YSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJldmlld3MoYXBwaWQsIGxhbmdDb2RlLCByZXNvbHZlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gYWxsTGFuZ3VhZ2VEYXRhLmZpbmRJbmRleChkID0+IGQubGFuZ0NvZGUgPT09IGxhbmdDb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTGFuZ3VhZ2VEYXRhW2V4aXN0aW5nSW5kZXhdLnN1bW1hcnkgPSBzdW1tYXJ5RGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbExhbmd1YWdlRGF0YVtleGlzdGluZ0luZGV4XS5mZXRjaGVkID0gKHN1bW1hcnlEYXRhICE9PSBudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbExhbmd1YWdlRGF0YS5wdXNoKHsgbGFuZ0NvZGUsIGxhbmdOYW1lLCBzdW1tYXJ5OiBzdW1tYXJ5RGF0YSwgdmlzaWJsZTogdHJ1ZSwgZmV0Y2hlZDogKHN1bW1hcnlEYXRhICE9PSBudWxsKSB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1bW1hcnlEYXRhICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRGZXRjaGVzKys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgZmV0Y2ggZm9yICR7bGFuZ05hbWV9OmAsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IGFsbExhbmd1YWdlRGF0YS5maW5kSW5kZXgoZCA9PiBkLmxhbmdDb2RlID09PSBsYW5nQ29kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0luZGV4ID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTGFuZ3VhZ2VEYXRhLnB1c2goeyBsYW5nQ29kZSwgbGFuZ05hbWUsIHN1bW1hcnk6IG51bGwsIHZpc2libGU6IHRydWUsIGZldGNoZWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycysrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzcygpOwogICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZW5kZXJHbG9iYWxSZXZpZXdSZXN1bHRzKCk7CiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdEJ0bikgY29sbGVjdEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzVGV4dCkgcHJvZ3Jlc3NUZXh0LnRleHRDb250ZW50ICs9ICcgLSDQk9C+0YLQvtCy0L4hJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyR2xvYmFsUmV2aWV3UmVzdWx0cygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbG9iYWwtcmV2aWV3cy10YWJsZS1ib2R5Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBub1Jldmlld3NJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsb2JhbC1yZXZpZXdzLW5vLXJldmlld3MtaW5mbycpOwogICAgICAgICAgICAgICAgaWYgKCF0YWJsZUJvZHkgfHwgIW5vUmV2aWV3c0luZm8pIHJldHVybjsKCiAgICAgICAgICAgICAgICB0YWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBub1Jldmlld3NJbmZvLnRleHRDb250ZW50ID0gJyc7CgogICAgICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2VzV2l0aEVycm9ycyA9IGFsbExhbmd1YWdlRGF0YS5maWx0ZXIoZGF0YSA9PiAhZGF0YS5mZXRjaGVkICYmIGRhdGEuc3VtbWFyeSA9PT0gbnVsbCk7CiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZExhbmd1YWdlRGF0YSA9IGFsbExhbmd1YWdlRGF0YS5maWx0ZXIoZGF0YSA9PiBkYXRhLmZldGNoZWQgJiYgZGF0YS5zdW1tYXJ5ICE9PSBudWxsKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlc1dpdGhaZXJvUmV2aWV3cyA9IFtdOwoKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUmV2aWV3cyA9IHZhbGlkTGFuZ3VhZ2VEYXRhLnJlZHVjZSgoc3VtLCBkYXRhKSA9PiBzdW0gKyAoZGF0YS5zdW1tYXJ5Py50b3RhbF9yZXZpZXdzIHx8IDApLCAwKTsKCiAgICAgICAgICAgICAgICB2YWxpZExhbmd1YWdlRGF0YS5zb3J0KChhLCBiKSA9PiAoYi5zdW1tYXJ5Py50b3RhbF9yZXZpZXdzIHx8IDApIC0gKGEuc3VtbWFyeT8udG90YWxfcmV2aWV3cyB8fCAwKSk7CgogICAgICAgICAgICAgICAgaWYgKHZhbGlkTGFuZ3VhZ2VEYXRhLmxlbmd0aCA9PT0gMCAmJiBsYW5ndWFnZXNXaXRoRXJyb3JzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHRhYmxlQm9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI2IiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IGNvbG9yOiAjOGY5OGEwOyI+0J3QtdGCINC+0LHQt9C+0YDQvtCyINC90Lgg0L3QsCDQvtC00L3QvtC8INGP0LfRi9C60LUg0LjQu9C4INC90LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00LDQvdC90YvQtS48L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbGlkTGFuZ3VhZ2VEYXRhLmxlbmd0aCA9PT0gMCAmJiBsYW5ndWFnZXNXaXRoRXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB0YWJsZUJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogI2ZmNjk2MTsiPtCd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00LDQvdC90YvQtSDQvtCxINC+0LHQt9C+0YDQsNGFLjwvdGQ+PC90cj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhbGlkTGFuZ3VhZ2VEYXRhLmZvckVhY2goKGRhdGEsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IGRhdGEuc3VtbWFyeTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZpZXdDb3VudCA9IHN1bW1hcnk/LnRvdGFsX3Jldmlld3MgfHwgMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGl2ZUNvdW50ID0gc3VtbWFyeT8udG90YWxfcG9zaXRpdmUgfHwgMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50VG90YWwgPSB0b3RhbFJldmlld3MgPiAwID8gKChyZXZpZXdDb3VudCAvIHRvdGFsUmV2aWV3cykgKiAxMDApLnRvRml4ZWQoMSkgOiAnMC4wJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50UG9zaXRpdmUgPSByZXZpZXdDb3VudCA+IDAgPyBNYXRoLnJvdW5kKChwb3NpdGl2ZUNvdW50IC8gcmV2aWV3Q291bnQpICogMTAwKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2aWV3Q2xhc3MgPSBnZXRSZXZpZXdDbGFzcyhwZXJjZW50UG9zaXRpdmUsIHJldmlld0NvdW50KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJldmlld0NvdW50ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlc1dpdGhaZXJvUmV2aWV3cy5wdXNoKGRhdGEubGFuZ05hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwogICAgICAgICAgICAgICAgICAgIHJvdy5kYXRhc2V0LmxhbmdDb2RlID0gZGF0YS5sYW5nQ29kZTsKICAgICAgICAgICAgICAgICAgICByb3cuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJjb2wtcmFuayI+JHtpbmRleCArIDF9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iY29sLWNoZWNrIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJjaGFydC10b2dnbGUtY2hlY2tib3giIGRhdGEtbGFuZy1jb2RlPSIke2RhdGEubGFuZ0NvZGV9IiAke2RhdGEudmlzaWJsZSA/ICdjaGVja2VkJyA6ICcnfT48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJjb2wtbGFuZyI+JHtkYXRhLmxhbmdOYW1lfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImNvbC1jb3VudCI+JHtmb3JtYXROdW1iZXIocmV2aWV3Q291bnQpfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImNvbC1wZXJjZW50LXRvdGFsIj4ke3BlcmNlbnRUb3RhbH0lPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iY29sLXBlcmNlbnQtcG9zIj48c3BhbiBjbGFzcz0iZ2FtZV9yZXZpZXdfc3VtbWFyeSAke3Jldmlld0NsYXNzfSI+JHtyZXZpZXdDb3VudCA+IDAgPyBwZXJjZW50UG9zaXRpdmUgKyAnJScgOiAnLSd9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB0YWJsZUJvZHkucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJ0LXRvZ2dsZS1jaGVja2JveCcpLmZvckVhY2goY2hlY2tib3ggPT4gewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUNoYXJ0VG9nZ2xlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGxldCBpbmZvVGV4dFBhcnRzID0gW107CiAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2VzV2l0aFplcm9SZXZpZXdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpbmZvVGV4dFBhcnRzLnB1c2goYNCd0LAg0Y3RgtC40YUg0Y/Qt9GL0LrQsNGFINC90LXRgiDQvtCx0LfQvtGA0L7QsjogJHtsYW5ndWFnZXNXaXRoWmVyb1Jldmlld3Muam9pbignLCAnKX1gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZXNXaXRoRXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpbmZvVGV4dFBhcnRzLnB1c2goYNCe0YjQuNCx0LrQuCDQt9Cw0LPRgNGD0LfQutC4INC00LvRjzogJHtsYW5ndWFnZXNXaXRoRXJyb3JzLm1hcChsID0+IGwubGFuZ05hbWUpLmpvaW4oJywgJyl9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBub1Jldmlld3NJbmZvLnRleHRDb250ZW50ID0gaW5mb1RleHRQYXJ0cy5qb2luKCcuICcpOwoKICAgICAgICAgICAgICAgIHVwZGF0ZUdsb2JhbFJldmlld3NDaGFydCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVDaGFydFRvZ2dsZShldmVudCkgewogICAgICAgICAgICAgICAgY29uc3QgbGFuZ0NvZGUgPSBldmVudC50YXJnZXQuZGF0YXNldC5sYW5nQ29kZTsKICAgICAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkOwoKICAgICAgICAgICAgICAgIGNvbnN0IGxhbmdEYXRhID0gYWxsTGFuZ3VhZ2VEYXRhLmZpbmQoZCA9PiBkLmxhbmdDb2RlID09PSBsYW5nQ29kZSk7CiAgICAgICAgICAgICAgICBpZiAobGFuZ0RhdGEpIHsKICAgICAgICAgICAgICAgICAgICBsYW5nRGF0YS52aXNpYmxlID0gaXNWaXNpYmxlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlR2xvYmFsUmV2aWV3c0NoYXJ0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUdsb2JhbFJldmlld3NDaGFydCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXZpZXdzUGllQ2hhcnQnKT8uZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICAgICAgICAgIGlmICghY3R4KSByZXR1cm47CgogICAgICAgICAgICAgICAgY29uc3QgdmlzaWJsZURhdGEgPSBhbGxMYW5ndWFnZURhdGEKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGRhdGEgPT4gZGF0YS52aXNpYmxlICYmIGRhdGEuc3VtbWFyeSAmJiBkYXRhLnN1bW1hcnkudG90YWxfcmV2aWV3cyA+IDApCiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChiLnN1bW1hcnk/LnRvdGFsX3Jldmlld3MgfHwgMCkgLSAoYS5zdW1tYXJ5Py50b3RhbF9yZXZpZXdzIHx8IDApKTsKCiAgICAgICAgICAgICAgICBjb25zdCBjaGFydExhYmVscyA9IFtdOwogICAgICAgICAgICAgICAgY29uc3QgY2hhcnREYXRhUG9pbnRzID0gW107CiAgICAgICAgICAgICAgICBjb25zdCBjaGFydENvbG9ycyA9IFtdOwogICAgICAgICAgICAgICAgbGV0IG90aGVyQ291bnQgPSAwOwogICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJMYW5ndWFnZXNUb29sdGlwRGV0YWlscyA9IFtdOwoKICAgICAgICAgICAgICAgIGNvbnN0IHRvcE4gPSA2OwoKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsVmlzaWJsZVJldmlld3MgPSB2aXNpYmxlRGF0YS5yZWR1Y2UoKHN1bSwgZGF0YSkgPT4gc3VtICsgZGF0YS5zdW1tYXJ5LnRvdGFsX3Jldmlld3MsIDApOwoKICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yUGFsZXR0ZSA9IFsKICAgICAgICAgICAgICAgICAgICAnIzFmNzdiNCcsICcjZmY3ZjBlJywgJyMyY2EwMmMnLCAnI2Q2MjcyOCcsICcjOTQ2N2JkJywgJyM4YzU2NGInLAogICAgICAgICAgICAgICAgICAgICcjZTM3N2MyJywgJyM3ZjdmN2YnLCAnI2JjYmQyMicsICcjMTdiZWNmJywgJyNhZWM3ZTgnLCAnI2ZmYmI3OCcsCiAgICAgICAgICAgICAgICAgICAgJyM5OGRmOGEnLCAnI2ZmOTg5NicsICcjYzViMGQ1JywgJyNjNDljOTQnLCAnI2Y3YjZkMicsICcjYzdjN2M3JywKICAgICAgICAgICAgICAgICAgICAnI2RiZGI4ZCcsICcjOWVkYWU1JwogICAgICAgICAgICAgICAgXTsKCiAgICAgICAgICAgICAgICB2aXNpYmxlRGF0YS5mb3JFYWNoKChkYXRhLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZGF0YS5zdW1tYXJ5LnRvdGFsX3Jldmlld3M7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdG9wTikgewogICAgICAgICAgICAgICAgICAgICAgICBjaGFydExhYmVscy5wdXNoKGRhdGEubGFuZ05hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBjaGFydERhdGFQb2ludHMucHVzaChjb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0Q29sb3JzLnB1c2goY29sb3JQYWxldHRlW2luZGV4ICUgY29sb3JQYWxldHRlLmxlbmd0aF0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyQ291bnQgKz0gY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyTGFuZ3VhZ2VzVG9vbHRpcERldGFpbHMucHVzaChgJHtkYXRhLmxhbmdOYW1lfTogJHtmb3JtYXROdW1iZXIoY291bnQpfWApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChvdGhlckNvdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgIGNoYXJ0TGFiZWxzLnB1c2goJ9CU0YDRg9Cz0LjQtScpOwogICAgICAgICAgICAgICAgICAgIGNoYXJ0RGF0YVBvaW50cy5wdXNoKG90aGVyQ291bnQpOwogICAgICAgICAgICAgICAgICAgIGNoYXJ0Q29sb3JzLnB1c2goJyM4MDgwODAnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsUmV2aWV3c0NoYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsUmV2aWV3c0NoYXJ0LmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgICAgICBnbG9iYWxSZXZpZXdzQ2hhcnQgPSBudWxsOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChjaGFydERhdGFQb2ludHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGdsb2JhbFJldmlld3NDaGFydCA9IG5ldyBDaGFydChjdHgsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogY2hhcnRMYWJlbHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjaGFydERhdGFQb2ludHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjaGFydENvbG9ycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMxMDE4MjInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyT2Zmc2V0OiA4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyQm9yZGVyQ29sb3I6ICcjRkZGJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZVNjYWxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVSb3RhdGU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYzZkNGRmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogeyBzaXplOiAxMiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94V2lkdGg6IDEyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlUG9pbnRTdHlsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbihjb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gY29udGV4dC5sYWJlbCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbnRleHQucGFyc2VkIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHRvdGFsVmlzaWJsZVJldmlld3MgPiAwID8gKCh2YWx1ZSAvIHRvdGFsVmlzaWJsZVJldmlld3MpICogMTAwKS50b0ZpeGVkKDEpIDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbHRpcFRleHQgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0LnB1c2goYCR7bGFiZWx9OiAke2Zvcm1hdE51bWJlcih2YWx1ZSl9ICgke3BlcmNlbnRhZ2V9JSlgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmxhYmVsID09PSAn0JTRgNGD0LPQuNC1JyAmJiBvdGhlckxhbmd1YWdlc1Rvb2x0aXBEZXRhaWxzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFRleHQucHVzaCgnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0LnB1c2goJ9CS0LrQu9GO0YfQsNC10YI6Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRvb2x0aXBJdGVtcyA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5ZWRJdGVtcyA9IG90aGVyTGFuZ3VhZ2VzVG9vbHRpcERldGFpbHMuc2xpY2UoMCwgbWF4VG9vbHRpcEl0ZW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nSXRlbXMgPSBvdGhlckxhbmd1YWdlc1Rvb2x0aXBEZXRhaWxzLmxlbmd0aCAtIG1heFRvb2x0aXBJdGVtczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFRleHQucHVzaCguLi5kaXNwbGF5ZWRJdGVtcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmdJdGVtcyA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0LnB1c2goYC4uLtC4INC10YnQtSAke3JlbWFpbmluZ0l0ZW1zfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgxNiwgMjQsIDM0LCAwLjkpJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVGb250OiB7IHNpemU6IDEzLCB3ZWlnaHQ6ICdib2xkJyB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5Rm9udDogeyBzaXplOiAxMiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5U3BhY2luZzogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlLZXlCYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhbGFiZWxzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogKHZhbHVlLCBjdHgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSB0b3RhbFZpc2libGVSZXZpZXdzID4gMCA/ICgodmFsdWUgLyB0b3RhbFZpc2libGVSZXZpZXdzKSAqIDEwMCkgOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRhZ2UgPCAzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSBjdHguY2hhcnQuZGF0YS5sYWJlbHNbY3R4LmRhdGFJbmRleF0gfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gMTUgJiYgbGFiZWwgIT09ICfQlNGA0YPQs9C40LUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsYWJlbC5zcGxpdCgnICcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gcGFydHMubGVuZ3RoID4gMSA/IHBhcnRzWzBdIDogbGFiZWwuc3Vic3RyaW5nKDAsIDEyKSArICcuLi4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2xhYmVsfVxuJHtwZXJjZW50YWdlLnRvRml4ZWQoMCl9JWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogJ2JvbGQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6ICciTW90aXZhIFNhbnMiLCBBcmlhbCwgc2Fucy1zZXJpZicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgxNiwgMjQsIDM0LCAwLjc1KScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogNiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiA2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogJ2VuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbihjb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gdG90YWxWaXNpYmxlUmV2aWV3cyA+IDAgPyAoKGNvbnRleHQuZGF0YXNldC5kYXRhW2NvbnRleHQuZGF0YUluZGV4XSAvIHRvdGFsVmlzaWJsZVJldmlld3MpICogMTAwKSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVyY2VudGFnZSA+PSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDI1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jldmlld3NQaWVDaGFydCcpOwogICAgICAgICAgICAgICAgICAgIGlmIChjYW52YXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjOGY5OGEwJzsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9ICcxNHB4ICJNb3RpdmEgU2FucyIsIEFyaWFsLCBzYW5zLXNlcmlmJzsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCfQndC10YIg0LTQsNC90L3Ri9GFINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINC00LjQsNCz0YDQsNC80LzRiycsIGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldExhbmd1YWdlQ29sb3IoaW5kZXgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFsKICAgICAgICAgICAgICAgICAgICAnIzFmNzdiNCcsICcjZmY3ZjBlJywgJyMyY2EwMmMnLCAnI2Q2MjcyOCcsICcjOTQ2N2JkJywgJyM4YzU2NGInLAogICAgICAgICAgICAgICAgICAgICcjZTM3N2MyJywgJyM3ZjdmN2YnLCAnI2JjYmQyMicsICcjMTdiZWNmJywgJyNhZWM3ZTgnLCAnI2ZmYmI3OCcsCiAgICAgICAgICAgICAgICAgICAgJyM5OGRmOGEnLCAnI2ZmOTg5NicsICcjYzViMGQ1JywgJyNjNDljOTQnLCAnI2Y3YjZkMicsICcjYzdjN2M3JywKICAgICAgICAgICAgICAgICAgICAnI2RiZGI4ZCcsICcjOWVkYWU1JwogICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaW5kZXggJSBjb2xvcnMubGVuZ3RoXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gbWFpbigpIHsKICAgICAgICAgICAgICAgIGFkZFN0eWxlcygpOwogICAgICAgICAgICAgICAgYWRkUnVzc2lhbkluZGljYXRvcnMoKTsKICAgICAgICAgICAgICAgIGFkZExvYWRCdXR0b24oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zLCBvYnMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJldmlld3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcl9yZXZpZXdzJyk7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4nKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxhbmdUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYW5ndWFnZVRhYmxlJyk7CgogICAgICAgICAgICAgICAgaWYgKGhlYWRlckltYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFpbigpOwogICAgICAgICAgICAgICAgICAgIG9icy5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICB9KSgpOwogICAgfQoKICAgIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAoSExUQjsg0L/QvtC70YPRh9C10L3QuNC1INGB0LLQtdC00LXQvdC40Lkg0L4g0LLRgNC10LzQtdC90Lgg0L/RgNC+0YXQvtC20LTQtdC90LjRjykgfCBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyoKICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9hcHAvJykgJiYgc2NyaXB0c0NvbmZpZy5obHRiRGF0YSkgewogICAgICAgIChhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICAgICAgbGV0IGhsdGJCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBPYmplY3QuYXNzaWduKGhsdGJCbG9jay5zdHlsZSwgewogICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgICAgICB0b3A6ICcwJywKICAgICAgICAgICAgICAgIGxlZnQ6ICczMzRweCcsCiAgICAgICAgICAgICAgICB3aWR0aDogJzMwcHgnLAogICAgICAgICAgICAgICAgaGVpZ2h0OiAnMzBweCcsCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNywgNDAsIDU2LCAwLjk1KScsCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTVweCcsCiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLAogICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMzYzNjM2MnLAogICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpJywKICAgICAgICAgICAgICAgIHpJbmRleDogJzInLAogICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsLCBzYW5zLXNlcmlmJywKICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJywKICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcwJywKICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuM3MgZWFzZSwgd2lkdGggMC4zcyBlYXNlLCBoZWlnaHQgMC4zcyBlYXNlJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGxldCB0cmlhbmdsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICB0cmlhbmdsZS5jbGFzc05hbWUgPSAndHJpYW5nbGUtZG93bic7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odHJpYW5nbGUuc3R5bGUsIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgICAgICAgYm90dG9tOiAnNXB4JywKICAgICAgICAgICAgICAgIGxlZnQ6ICc1MCUnLAogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsCiAgICAgICAgICAgICAgICB3aWR0aDogJzAnLAogICAgICAgICAgICAgICAgaGVpZ2h0OiAnMCcsCiAgICAgICAgICAgICAgICBib3JkZXJMZWZ0OiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JywKICAgICAgICAgICAgICAgIGJvcmRlclJpZ2h0OiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JywKICAgICAgICAgICAgICAgIGJvcmRlclRvcDogJzVweCBzb2xpZCAjNjdjMWY1JywKICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGl0bGUuc3R5bGUsIHsKICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsCiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsCiAgICAgICAgICAgICAgICBjb2xvcjogJyM2N2MxZjUnLAogICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCcsCiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSAnSExUQic7CgogICAgICAgICAgICBsZXQgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRlbnQuc3R5bGUsIHsKICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsCiAgICAgICAgICAgICAgICBjb2xvcjogJyNjNmQ0ZGYnLAogICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnLAogICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogJ2F1dG8nLAogICAgICAgICAgICAgICAgcGFkZGluZzogJzAgMCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBobHRiQmxvY2suYXBwZW5kKHRyaWFuZ2xlLCB0aXRsZSwgY29udGVudCk7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4nKS5hcHBlbmRDaGlsZChobHRiQmxvY2spOwoKICAgICAgICAgICAgbGV0IGhsdGJfZ2FtZUhlYWRlckltYWdlQ3RuTm9kZSA9IG51bGw7CiAgICAgICAgICAgIGxldCBobHRiX2dhbWVIZWFkZXJJbWFnZUN0bk9ic2VydmVySW5zdGFuY2UgPSBudWxsOwogICAgICAgICAgICBsZXQgaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc05vZGUgPSBudWxsOwogICAgICAgICAgICBsZXQgaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2UgPSBudWxsOwoKCiAgICAgICAgICAgIGNvbnN0IGZhZGVJbkVsZW1lbnQgPSAoZWxlbWVudCkgPT4gewogICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUhsdGJQb3NpdGlvbiA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGxldCB0b3BQb3NpdGlvbiA9ICcwcHgnOwogICAgICAgICAgICAgICAgaWYgKHNjcmlwdHNDb25maWcuZ2FtZVBhZ2UpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBydXNzaWFuSW5kaWNhdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4gPiBkaXZbc3R5bGUqPSJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwcHg7IGxlZnQ6IGNhbGMoMTAwJSArIDEwcHgpOyJdJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1c3NpYW5JbmRpY2F0b3JzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvcFBvc2l0aW9uID0gYCR7cnVzc2lhbkluZGljYXRvcnMub2Zmc2V0VG9wICsgcnVzc2lhbkluZGljYXRvcnMub2Zmc2V0SGVpZ2h0ICsgMTZ9cHhgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGhsdGJCbG9jay5zdHlsZS50b3AgPSB0b3BQb3NpdGlvbjsKICAgICAgICAgICAgICAgIGhsdGJCbG9jay5zdHlsZS5sZWZ0ID0gJzMzNHB4JzsKICAgICAgICAgICAgICAgIGlmIChobHRiQmxvY2suc3R5bGUub3BhY2l0eSA9PT0gJzAnKSB7CiAgICAgICAgICAgICAgICAgICAgZmFkZUluRWxlbWVudChobHRiQmxvY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgaGx0Yl9tYW5hZ2VSdXNzaWFuSW5kaWNhdG9yc09ic2VydmVyID0gKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFJ1c3NpYW5JbmRpY2F0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVIZWFkZXJJbWFnZUN0biA+IGRpdltzdHlsZSo9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTBweDsgbGVmdDogY2FsYygxMDAlICsgMTBweCk7Il0nKTsKCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJ1c3NpYW5JbmRpY2F0b3JzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSdXNzaWFuSW5kaWNhdG9ycyAhPT0gaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc05vZGUgfHwgIWhsdGJfcnVzc2lhbkluZGljYXRvcnNPYnNlcnZlckluc3RhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChobHRiX3J1c3NpYW5JbmRpY2F0b3JzT2JzZXJ2ZXJJbnN0YW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2UuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGhsdGJfcnVzc2lhbkluZGljYXRvcnNOb2RlID0gY3VycmVudFJ1c3NpYW5JbmRpY2F0b3JzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0c0NvbmZpZy5nYW1lUGFnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2UgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSGx0YlBvc2l0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsdGJfcnVzc2lhbkluZGljYXRvcnNPYnNlcnZlckluc3RhbmNlLm9ic2VydmUoaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc05vZGUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhsdGJfcnVzc2lhbkluZGljYXRvcnNPYnNlcnZlckluc3RhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhsdGJfcnVzc2lhbkluZGljYXRvcnNPYnNlcnZlckluc3RhbmNlLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaGx0Yl9ydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2UgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBobHRiX3J1c3NpYW5JbmRpY2F0b3JzTm9kZSA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBobHRiX3NldHVwUGFnZUNoYW5nZU9ic2VydmVycyA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGhsdGJfZ2FtZUhlYWRlckltYWdlQ3RuTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4nKTsKICAgICAgICAgICAgICAgIGlmICghaGx0Yl9nYW1lSGVhZGVySW1hZ2VDdG5Ob2RlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJITFRCOiAjZ2FtZUhlYWRlckltYWdlQ3RuIG5vdCBmb3VuZCBmb3IgbWFpbiBvYnNlcnZlci4iKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGhsdGJfZ2FtZUhlYWRlckltYWdlQ3RuT2JzZXJ2ZXJJbnN0YW5jZSkgewogICAgICAgICAgICAgICAgICAgIGhsdGJfZ2FtZUhlYWRlckltYWdlQ3RuT2JzZXJ2ZXJJbnN0YW5jZS5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaGx0Yl9nYW1lSGVhZGVySW1hZ2VDdG5PYnNlcnZlckluc3RhbmNlID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBuZWVkc1Bvc1VwZGF0ZUR1ZVRvQ29udGFpbmVyQ2hhbmdlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJ1c3NpYW5JbmRpY2F0b3JzUG90ZW50aWFsbHlDaGFuZ2VkID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVzc2lhbkluZGljYXRvcnNQb3RlbnRpYWxseUNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNQb3NVcGRhdGVEdWVUb0NvbnRhaW5lckNoYW5nZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1c3NpYW5JbmRpY2F0b3JzUG90ZW50aWFsbHlDaGFuZ2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhsdGJfbWFuYWdlUnVzc2lhbkluZGljYXRvcnNPYnNlcnZlcigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobmVlZHNQb3NVcGRhdGVEdWVUb0NvbnRhaW5lckNoYW5nZSkgewogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVIbHRiUG9zaXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBobHRiX2dhbWVIZWFkZXJJbWFnZUN0bk9ic2VydmVySW5zdGFuY2Uub2JzZXJ2ZShobHRiX2dhbWVIZWFkZXJJbWFnZUN0bk5vZGUsIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBobHRiX21hbmFnZVJ1c3NpYW5JbmRpY2F0b3JzT2JzZXJ2ZXIoKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHVwZGF0ZUhsdGJQb3NpdGlvbigpOwogICAgICAgICAgICBobHRiX3NldHVwUGFnZUNoYW5nZU9ic2VydmVycygpOwoKCiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHsKICAgICAgICAgICAgICAgICAgICBobHRiQmxvY2suc3R5bGUudHJhbnNpdGlvbiA9ICd3aWR0aCAwLjNzIGVhc2UsIGhlaWdodCAwLjNzIGVhc2UnOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUhsdGJQb3NpdGlvbigpOwogICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MCkpOwoKICAgICAgICAgICAgICAgICAgICBobHRiQmxvY2suc3R5bGUud2lkdGggPSAnMjAwcHgnOwogICAgICAgICAgICAgICAgICAgIGhsdGJCbG9jay5zdHlsZS5oZWlnaHQgPSAnNDBweCc7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpOwoKICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9CY0YnQtdC8INCyINCx0LDQt9C1Li4uJzsKICAgICAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ3RyaWFuZ2xlLWRvd24nKTsKICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5jbGFzc0xpc3QuYWRkKCd0cmlhbmdsZS11cCcpOwogICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLmJvcmRlclRvcCA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5zdHlsZS5ib3JkZXJCb3R0b20gPSAnNXB4IHNvbGlkICM2N2MxZjUnOwoKICAgICAgICAgICAgICAgICAgICBsZXQgZ2FtZU5hbWUgPSBnZXRHYW1lTmFtZSgpOwogICAgICAgICAgICAgICAgICAgIGxldCBnYW1lTmFtZU5vcm1hbGl6ZWQgPSBub3JtYWxpemVHYW1lTmFtZShnYW1lTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IG9yYW5ndXRhbkZldGNoVXJsID0gJ2h0dHBzOi8vdW1hZGIucm8vaGx0Yi9mZXRjaC5waHAnOwogICAgICAgICAgICAgICAgICAgIGxldCBvcmFuZ3V0YW5IbHRiVXJsID0gImh0dHBzOi8vaG93bG9uZ3RvYmVhdC5jb20iOwoKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogb3Jhbmd1dGFuRmV0Y2hVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IHJlamVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6IHJlamVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA3MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yYW5ndXRhbkhsdGJVcmwgPSAiaHR0cHM6Ly9ob3dsb25ndG9iZWF0LmNvbSIgKyBrZXk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBrZXkuIFN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC60LvRjtGH0LAuJzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaW1wUXVlcnkgPSAneyJzZWFyY2hUeXBlIjoiZ2FtZXMiLCJzZWFyY2hUZXJtcyI6WycgKyBnYW1lTmFtZU5vcm1hbGl6ZWQgKyAnXSwic2VhcmNoUGFnZSI6MSwic2l6ZSI6MjAsInNlYXJjaE9wdGlvbnMiOnsiZ2FtZXMiOnsidXNlcklkIjowLCJwbGF0Zm9ybSI6IiIsInNvcnRDYXRlZ29yeSI6InBvcHVsYXIiLCJyYW5nZUNhdGVnb3J5IjoibWFpbiIsInJhbmdlVGltZSI6eyJtaW4iOm51bGwsIm1heCI6bnVsbH0sImdhbWVwbGF5Ijp7InBlcnNwZWN0aXZlIjoiIiwiZmxvdyI6IiIsImdlbnJlIjoiIiwiZGlmZmljdWx0eSI6IiJ9LCJyYW5nZVllYXIiOnsibWluIjoiIiwibWF4IjoiIn0sIm1vZGlmaWVyIjoiIn0sInVzZXJzIjp7InNvcnRDYXRlZ29yeSI6InBvc3Rjb3VudCJ9LCJsaXN0cyI6eyJzb3J0Q2F0ZWdvcnkiOiJmb2xsb3dzIn0sImZpbHRlciI6IiIsInNvcnQiOjAsInJhbmRvbWl6ZXIiOjB9LCJ1c2VDYWNoZSI6dHJ1ZX0nOwogICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogb3Jhbmd1dGFuSGx0YlVybCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY2hpbXBRdWVyeSwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmlnaW4iOiAiaHR0cHM6Ly9ob3dsb25ndG9iZWF0LmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVmZXJlciI6ICJodHRwczovL2hvd2xvbmd0b2JlYXQuY29tLyIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBhc3luYyBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJhYm9vbkRhdGEgPSB7IGNvdW50OiAwLCBkYXRhOiBbXSB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5yZXNwb25zZVRleHQuaW5jbHVkZXMoIjx0aXRsZT5Ib3dMb25nVG9CZWF0IC0gNDA0PC90aXRsZT4iKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhYm9vbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdGA0LDQsdC+0YLQutC1INC00LDQvdC90YvRhS4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWJvb25EYXRhLmNvdW50ID09PSAwICYmIC9b0LAt0Y/RkV0vaS50ZXN0KGdhbWVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlYW1BcGlVcmwgPSBgaHR0cHM6Ly9hcGkuc3RlYW1wb3dlcmVkLmNvbS9JU3RvcmVCcm93c2VTZXJ2aWNlL0dldEl0ZW1zL3YxP2lucHV0X2pzb249eyJpZHMiOiBbeyJhcHBpZCI6ICR7YXBwSWR9fV0sICJjb250ZXh0IjogeyJsYW5ndWFnZSI6ICJlbmdsaXNoIiwgImNvdW50cnlfY29kZSI6ICJVUyIsICJzdGVhbV9yZWFsbSI6IDF9LCAiZGF0YV9yZXF1ZXN0IjogeyJpbmNsdWRlX2Fzc2V0cyI6IHRydWV9fWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlYW1SZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc3RlYW1BcGlVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IHJlamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlYW1SZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlYW1EYXRhID0gSlNPTi5wYXJzZShzdGVhbVJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmdsaXNoTmFtZSA9IHN0ZWFtRGF0YS5yZXNwb25zZS5zdG9yZV9pdGVtc1swXT8ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmdsaXNoTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVOYW1lID0gZW5nbGlzaE5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZU5hbWVOb3JtYWxpemVkID0gbm9ybWFsaXplR2FtZU5hbWUoZ2FtZU5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaW1wUXVlcnkgPSAneyJzZWFyY2hUeXBlIjoiZ2FtZXMiLCJzZWFyY2hUZXJtcyI6WycgKyBnYW1lTmFtZU5vcm1hbGl6ZWQgKyAnXSwic2VhcmNoUGFnZSI6MSwic2l6ZSI6MjAsInNlYXJjaE9wdGlvbnMiOnsiZ2FtZXMiOnsidXNlcklkIjowLCJwbGF0Zm9ybSI6IiIsInNvcnRDYXRlZ29yeSI6InBvcHVsYXIiLCJyYW5nZUNhdGVnb3J5IjoibWFpbiIsInJhbmdlVGltZSI6eyJtaW4iOm51bGwsIm1heCI6bnVsbH0sImdhbWVwbGF5Ijp7InBlcnNwZWN0aXZlIjoiIiwiZmxvdyI6IiIsImdlbnJlIjoiIiwiZGlmZmljdWx0eSI6IiJ9LCJyYW5nZVllYXIiOnsibWluIjoiIiwibWF4IjoiIn0sIm1vZGlmaWVyIjoiIn0sInVzZXJzIjp7InNvcnRDYXRlZ29yeSI6InBvc3Rjb3VudCJ9LCJsaXN0cyI6eyJzb3J0Q2F0ZWdvcnkiOiJmb2xsb3dzIn0sImZpbHRlciI6IiIsInNvcnQiOjAsInJhbmRvbWl6ZXIiOjB9LCJ1c2VDYWNoZSI6dHJ1ZX0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZFJlc3BvbnNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogb3Jhbmd1dGFuSGx0YlVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGNoaW1wUXVlcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZ2luIjogImh0dHBzOi8vaG93bG9uZ3RvYmVhdC5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZWZlcmVyIjogImh0dHBzOi8vaG93bG9uZ3RvYmVhdC5jb20vIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogcmVzb2x2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IHJlamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kUmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFib29uRGF0YSA9IEpTT04ucGFyc2Uoc2Vjb25kUmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC30LDQv9GA0L7RgdC1INC6IFN0ZWFtIEFQSTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWJvb25EYXRhLmNvdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBmaW5kUG9zc2libGVNYXRjaGVzKGdhbWVOYW1lLCBiYWJvb25EYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUG9zc2libGVNYXRjaGVzKG1hdGNoZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHRiQmxvY2suc3R5bGUuaGVpZ2h0ID0gYCR7Y29udGVudC5zY3JvbGxIZWlnaHQgKyAzMH1weGA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJDb250ZW50KGJhYm9vbkRhdGEuZGF0YVswXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHRiQmxvY2suc3R5bGUuaGVpZ2h0ID0gYCR7Y29udGVudC5zY3JvbGxIZWlnaHQgKyAzMH1weGA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7IGNvbnRlbnQudGV4dENvbnRlbnQgPSAn0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0L/RgNC+0YHQtSDQuiBITFRCLic7IH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7IGNvbnRlbnQudGV4dENvbnRlbnQgPSAn0KLQsNC50Lwt0LDRg9GCINC/0YDQuCDQt9Cw0L/RgNC+0YHQtSDQuiBITFRCLic7IH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICBobHRiQmxvY2suc3R5bGUuaGVpZ2h0ID0gJzMwcHgnOwogICAgICAgICAgICAgICAgICAgIGhsdGJCbG9jay5zdHlsZS53aWR0aCA9ICczMHB4JzsKICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5jbGFzc0xpc3QucmVtb3ZlKCd0cmlhbmdsZS11cCcpOwogICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlLmNsYXNzTGlzdC5hZGQoJ3RyaWFuZ2xlLWRvd24nKTsKICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5zdHlsZS5ib3JkZXJCb3R0b20gPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGUuc3R5bGUuYm9yZGVyVG9wID0gJzVweCBzb2xpZCAjNjdjMWY1JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHRpdGxlLm9uY2xpY2sgPSBoYW5kbGVDbGljazsKICAgICAgICAgICAgdHJpYW5nbGUub25jbGljayA9IGhhbmRsZUNsaWNrOwogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlSGx0YlBvc2l0aW9uKTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUdhbWVOYW1lKG5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuYW1lLm5vcm1hbGl6ZSgiTkZEIikucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csICIiKS5yZXBsYWNlKC9bXmEtetCwLdGP0ZEwLTkgXydcLSFdL2dpLCAnJykudG9Mb3dlckNhc2UoKS5zcGxpdCgvXHMrLykubWFwKHdvcmQgPT4gYCIke3dvcmR9ImApLmpvaW4oIiwiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZmluZFBvc3NpYmxlTWF0Y2hlcyhnYW1lTmFtZSwgZGF0YSkgewogICAgICAgICAgICAgICAgY29uc3QgY2xlYW5HYW1lTmFtZSA9IGdhbWVOYW1lLm5vcm1hbGl6ZSgiTkZEIikucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csICIiKS5yZXBsYWNlKC9bXmEtetCwLdGP0ZEwLTkgXydcLSFdL2dpLCAnJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbkl0ZW1OYW1lID0gaXRlbS5nYW1lX25hbWUubm9ybWFsaXplKCJORkQiKS5yZXBsYWNlKC9bXHUwMzAwLVx1MDM2Zl0vZywgIiIpLnJlcGxhY2UoL1teYS160LAt0Y/RkTAtOSBfJ1wtIV0vZ2ksICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSBjYWxjdWxhdGVTaW1pbGFyaXR5KGNsZWFuR2FtZU5hbWUsIGNsZWFuSXRlbU5hbWUpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0c1dpdGggPSBjbGVhbkl0ZW1OYW1lLnN0YXJ0c1dpdGgoY2xlYW5HYW1lTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgcGVyY2VudGFnZTogc2ltaWxhcml0eSwgc3RhcnRzV2l0aDogc3RhcnRzV2l0aCB9OwogICAgICAgICAgICAgICAgfSkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wZXJjZW50YWdlID4gNTAgfHwgaXRlbS5zdGFydHNXaXRoKQogICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoYS5zdGFydHNXaXRoICYmICFiLnN0YXJ0c1dpdGgpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWEuc3RhcnRzV2l0aCAmJiBiLnN0YXJ0c1dpdGgpIHJldHVybiAxOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBiLnBlcmNlbnRhZ2UgLSBhLnBlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICB9KS5zbGljZSgwLCA1KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlU2ltaWxhcml0eShzdHIxLCBzdHIyKSB7CiAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heChzdHIxLmxlbmd0aCwgc3RyMi5sZW5ndGgpOwogICAgICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDEwMDsKICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbGV2ZW5zaHRlaW5EaXN0YW5jZShzdHIxLCBzdHIyKTsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCgobGVuIC0gZGlzdGFuY2UpIC8gbGVuKSAqIDEwMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGxldmVuc2h0ZWluRGlzdGFuY2Uoc3RyMSwgc3RyMikgewogICAgICAgICAgICAgICAgY29uc3QgbSA9IHN0cjEubGVuZ3RoOyBjb25zdCBuID0gc3RyMi5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCBkcCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG0gKyAxIH0sICgpID0+IEFycmF5KG4gKyAxKS5maWxsKDApKTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG07IGkrKykgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IG47IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkgZHBbaV1bal0gPSBqOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChqID09PSAwKSBkcFtpXVtqXSA9IGk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgZHBbaV1bal0gPSBNYXRoLm1pbihkcFtpIC0gMV1baiAtIDFdICsgKHN0cjFbaSAtIDFdID09PSBzdHIyW2ogLSAxXSA/IDAgOiAxKSwgZHBbaSAtIDFdW2pdICsgMSwgZHBbaV1baiAtIDFdICsgMSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGRwW21dW25dOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRUZXh0V2lkdGgodGV4dCwgZm9udCkgewogICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7IGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7IGNvbnN0IG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpOyByZXR1cm4gbWV0cmljcy53aWR0aDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyUG9zc2libGVNYXRjaGVzKG1hdGNoZXMpIHsKICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSAn0JLQvtC30LzQvtC20L3Ri9C1INGB0L7QstC/0LDQtNC10L3QuNGPOic7CiAgICAgICAgICAgICAgICB0aXRsZS5zdHlsZS5jb2xvciA9ICcjNjdjMWY1JzsgdGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gJzEwcHgnOyBjb250ZW50LmFwcGVuZENoaWxkKHRpdGxlKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpOwogICAgICAgICAgICAgICAgbGlzdC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcxNXB4JzsgbGlzdC5zdHlsZS5tYXJnaW5Ub3AgPSAnNXB4JzsgbGlzdC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMCc7CiAgICAgICAgICAgICAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsgbGkuc3R5bGUubWFyZ2luQm90dG9tID0gJzhweCc7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsgbGluay5ocmVmID0gJyMnOwogICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSBgJHttYXRjaC5nYW1lX25hbWV9ICgke21hdGNoLnBlcmNlbnRhZ2V9JSlgOwogICAgICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuY29sb3IgPSAnI2M2ZDRkZic7IGxpbmsuc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLXdvcmQnOyBsaW5rLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGxpbmsub25jbGljayA9ICgpID0+IHsgcmVuZGVyQ29udGVudChtYXRjaCk7IGhsdGJCbG9jay5zdHlsZS5oZWlnaHQgPSBgJHtjb250ZW50LnNjcm9sbEhlaWdodCArIDMwfXB4YDsgcmV0dXJuIGZhbHNlOyB9OwogICAgICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGxpbmspOyBsaXN0LmFwcGVuZENoaWxkKGxpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc3Qgbm9NYXRjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7IG5vTWF0Y2guc3R5bGUubWFyZ2luQm90dG9tID0gJzhweCc7CiAgICAgICAgICAgICAgICBjb25zdCBub01hdGNoTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsgbm9NYXRjaExpbmsuaHJlZiA9ICcjJzsKICAgICAgICAgICAgICAgIG5vTWF0Y2hMaW5rLnRleHRDb250ZW50ID0gJ9Cd0LjRh9C10LPQviDQvdC1INC/0L7QtNGF0L7QtNC40YInOwogICAgICAgICAgICAgICAgbm9NYXRjaExpbmsuc3R5bGUuY29sb3IgPSAnI2M2ZDRkZic7IG5vTWF0Y2hMaW5rLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay13b3JkJzsgbm9NYXRjaExpbmsuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBub01hdGNoTGluay5vbmNsaWNrID0gKCkgPT4geyByZW5kZXJDb250ZW50KG51bGwpOyBobHRiQmxvY2suc3R5bGUuaGVpZ2h0ID0gYCR7Y29udGVudC5zY3JvbGxIZWlnaHQgKyAzMH1weGA7IHJldHVybiBmYWxzZTsgfTsKICAgICAgICAgICAgICAgIG5vTWF0Y2guYXBwZW5kQ2hpbGQobm9NYXRjaExpbmspOyBsaXN0LmFwcGVuZENoaWxkKG5vTWF0Y2gpOyBjb250ZW50LmFwcGVuZENoaWxkKGxpc3QpOwogICAgICAgICAgICAgICAgbGV0IG1heFdpZHRoID0gMDsKICAgICAgICAgICAgICAgIGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnYScpLmZvckVhY2gobGluayA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxpbmsudGV4dENvbnRlbnQ7IGNvbnN0IGZvbnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShsaW5rKS5mb250OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0VGV4dFdpZHRoKHRleHQsIGZvbnQpOyBpZiAod2lkdGggPiBtYXhXaWR0aCkgbWF4V2lkdGggPSB3aWR0aDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaGx0YkJsb2NrLnN0eWxlLndpZHRoID0gYCR7TWF0aC5tYXgobWF4V2lkdGggKyA0MCwgMjUwKX1weGA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoZW50cnkpIHsKICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoIWVudHJ5KSB7IGNvbnRlbnQudGV4dENvbnRlbnQgPSAn0JjQs9GA0LAg0L3QtSDQvdCw0LnQtNC10L3QsCDQsiDQsdCw0LfQtSBITFRCJzsgcmV0dXJuOyB9CiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICB0aXRsZUxpbmsuaHJlZiA9IGBodHRwczovL2hvd2xvbmd0b2JlYXQuY29tL2dhbWUvJHtlbnRyeS5nYW1lX2lkfWA7IHRpdGxlTGluay50YXJnZXQgPSAnX2JsYW5rJzsKICAgICAgICAgICAgICAgIHRpdGxlTGluay50ZXh0Q29udGVudCA9IGVudHJ5LmdhbWVfbmFtZSB8fCAn0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8nOwogICAgICAgICAgICAgICAgdGl0bGVMaW5rLnN0eWxlLmNvbG9yID0gJyM2N2MxZjUnOyB0aXRsZUxpbmsuc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLXdvcmQnOyBjb250ZW50LmFwcGVuZENoaWxkKHRpdGxlTGluayk7CiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTsKICAgICAgICAgICAgICAgIGxpc3Quc3R5bGUucGFkZGluZ0xlZnQgPSAnMTVweCc7IGxpc3Quc3R5bGUubWFyZ2luVG9wID0gJzVweCc7IGxpc3Quc3R5bGUubWFyZ2luQm90dG9tID0gJzAnOwogICAgICAgICAgICAgICAgY29uc3QgdGltZXMgPSBbCiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ9Ci0L7Qu9GM0LrQviDRgdGO0LbQtdGCJywgdGltZTogZW50cnkuY29tcF9tYWluLCBjb3VudDogZW50cnkuY29tcF9tYWluX2NvdW50IH0sCiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ9Ch0Y7QttC10YIgKyDQtNC+0L8uJywgdGltZTogZW50cnkuY29tcF9wbHVzLCBjb3VudDogZW50cnkuY29tcF9wbHVzX2NvdW50IH0sCiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ9Ca0L7QvNC/0LvQtdGG0LjQvtC90LjRgdGCJywgdGltZTogZW50cnkuY29tcF8xMDAsIGNvdW50OiBlbnRyeS5jb21wXzEwMF9jb3VudCB9LAogICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICfQktGB0LUg0YHRgtC40LvQuCcsIHRpbWU6IGVudHJ5LmNvbXBfYWxsLCBjb3VudDogZW50cnkuY29tcF9hbGxfY291bnQgfQogICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICAgIHRpbWVzLmZvckVhY2godGltZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOyBsaS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnOHB4JzsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lVGV4dCA9IHRpbWUudGltZSA/IGZvcm1hdFRpbWUodGltZS50aW1lKSA6ICJYIjsKICAgICAgICAgICAgICAgICAgICBsaS5pbm5lckhUTUwgPSBgJHt0aW1lLmxhYmVsfTogPHNwYW4gc3R5bGU9ImNvbG9yOiAjZmZmOyI+JHt0aW1lVGV4dH08L3NwYW4+ICgke3RpbWUuY291bnR9INGH0LXQuy4pYDsKICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGxpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChsaXN0KTsKICAgICAgICAgICAgICAgIGxldCBtYXhXaWR0aCA9IDA7CiAgICAgICAgICAgICAgICBjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykuZm9yRWFjaChjaGlsZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNoaWxkLnRleHRDb250ZW50OyBjb25zdCBmb250ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY2hpbGQpLmZvbnQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBnZXRUZXh0V2lkdGgodGV4dCwgZm9udCk7IGlmICh3aWR0aCA+IG1heFdpZHRoKSBtYXhXaWR0aCA9IHdpZHRoOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBobHRiQmxvY2suc3R5bGUud2lkdGggPSBgJHtNYXRoLm1heChtYXhXaWR0aCArIDMwLCAyMDApfXB4YDsKICAgICAgICAgICAgICAgIGhsdGJCbG9jay5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kcykgewogICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTsgY29uc3QgbWludXRlcyA9IE1hdGgucm91bmQoKHNlY29uZHMgJSAzNjAwKSAvIDYwKTsKICAgICAgICAgICAgICAgIGlmIChob3VycyA9PT0gMCkgcmV0dXJuIGAke21pbnV0ZXN9INC8LmA7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChob3VycyArIChtaW51dGVzIC8gNjApID49IGhvdXJzICsgMC41KSByZXR1cm4gYCR7aG91cnMgKyAxfSDRhy5gOwogICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gYCR7aG91cnN9INGHLmA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEdhbWVOYW1lKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBodWJfQXBwTmFtZScpLnRleHRDb250ZW50Lm5vcm1hbGl6ZSgiTkZEIikucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csICIiKS5yZXBsYWNlKC9b4oCZXS9nLCAiJyIpLnJlcGxhY2UoL1teYS16QS1a0LAt0Y/RkdCQLdCv0IEwLTkgXydcLSFdL2csICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHNjcmlwdHNDb25maWcuYXV0b0V4cGFuZEhsdGIpIHsKICAgICAgICAgICAgICAgIGhhbmRsZUNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KSgpOwogICAgfQoKICAgIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAoWk9HOyDQv9C+0LvRg9GH0LXQvdC40LUg0YHQstC10LTQtdC90LjQuSDQviDQvdCw0LvQuNGH0LjQuCDRgNGD0YHQuNGE0LjQutCw0YLQvtGA0L7QsikgfCBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyoKICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9hcHAvJykgJiYgc2NyaXB0c0NvbmZpZy56b2dJbmZvKSB7CiAgICAgICAgKGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjb25zdCB6b2dCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBPYmplY3QuYXNzaWduKHpvZ0Jsb2NrLnN0eWxlLCB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzMzNHB4Jywgd2lkdGg6ICczMHB4JywgaGVpZ2h0OiAnMzBweCcsCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNywgNDAsIDU2LCAwLjk1KScsIHBhZGRpbmc6ICcxNXB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywKICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjM2MzYzNjJywgYm94U2hhZG93OiAnMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpJywKICAgICAgICAgICAgICAgIHpJbmRleDogJzInLCBmb250RmFtaWx5OiAnQXJpYWwsIHNhbnMtc2VyaWYnLCBvdmVyZmxvdzogJ2hpZGRlbicsCiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuM3MgZWFzZScsIHZpc2liaWxpdHk6ICdoaWRkZW4nLCBvcGFjaXR5OiAnMCcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBsZXQgaGx0YkJsb2NrRWxlbWVudCwgaGx0Yk9ic2VydmVySW5zdGFuY2UsIGhsdGJUcmFuc2l0aW9uSGFuZGxlckZ1bmMsCiAgICAgICAgICAgICAgICBydXNzaWFuSW5kaWNhdG9yc05vZGUsIHJ1c3NpYW5JbmRpY2F0b3JzT2JzZXJ2ZXJJbnN0YW5jZSwKICAgICAgICAgICAgICAgIGdhbWVIZWFkZXJJbWFnZUN0bk5vZGUsIGdhbWVIZWFkZXJJbWFnZUN0bk9ic2VydmVySW5zdGFuY2U7CiAgICAgICAgICAgIGxldCBpc0ZpcnN0VXBkYXRlID0gdHJ1ZTsKCiAgICAgICAgICAgIGNvbnN0IGFscGhhYmV0TWFwID0gewogICAgICAgICAgICAgICAgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0LCAnZSc6IDUsICdmJzogNiwgJ2cnOiA3LCAnaCc6IDgsICdpJzogOSwgJ2onOiAxMCwKICAgICAgICAgICAgICAgICdrJzogMTEsICdsJzogMTIsICdtJzogMTMsICduJzogMTQsICdvJzogMTUsICdwJzogMTYsICdxJzogMTcsICdyJzogMTgsICdzJzogMTksCiAgICAgICAgICAgICAgICAndCc6IDIwLCAndSc6IDIxLCAndic6IDIyLCAndyc6IDIzLCAneCc6IDI0LCAneSc6IDI1LCAneic6IDI2LCAnIyc6IDAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3QgcnVzc2lhbkFscGhhYmV0TWFwID0gewogICAgICAgICAgICAgICAgJ9CwJzogMSwgJ9CxJzogMiwgJ9CyJzogMywgJ9CzJzogNCwgJ9C0JzogNSwgJ9C1JzogNiwgJ9GRJzogNiwgJ9C2JzogNywgJ9C3JzogOCwgJ9C4JzogOSwKICAgICAgICAgICAgICAgICfQuSc6IDksICfQuic6IDEwLCAn0LsnOiAxMSwgJ9C8JzogMTIsICfQvSc6IDEzLCAn0L4nOiAxNCwgJ9C/JzogMTUsICfRgCc6IDE2LCAn0YEnOiAxNywKICAgICAgICAgICAgICAgICfRgic6IDE4LCAn0YMnOiAxOSwgJ9GEJzogMjAsICfRhSc6IDIxLCAn0YYnOiAyMiwgJ9GHJzogMjMsICfRiCc6IDI0LCAn0YknOiAyNSwgJ9GNJzogMjYsCiAgICAgICAgICAgICAgICAn0Y4nOiAyNywgJ9GPJzogMjgKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVBvc2l0aW9uID0gKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbG9jYWxIbHRiQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZUhlYWRlckltYWdlQ3RuID4gZGl2W3N0eWxlKj0iYmFja2dyb3VuZDogcmdiYSgyNywgNDAsIDU2LCAwLjk1KSJdJyk7CiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFJ1c3NpYW5JbmRpY2F0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVIZWFkZXJJbWFnZUN0biA+IGRpdltzdHlsZSo9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTBweDsgbGVmdDogY2FsYygxMDAlICsgMTBweCk7Il0nKTsKICAgICAgICAgICAgICAgIGlmIChsb2NhbEhsdGJCbG9jayAmJiBzY3JpcHRzQ29uZmlnLmhsdGJEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgem9nQmxvY2suc3R5bGUudG9wID0gYCR7bG9jYWxIbHRiQmxvY2sub2Zmc2V0VG9wICsgbG9jYWxIbHRiQmxvY2sub2Zmc2V0SGVpZ2h0ICsgMTZ9cHhgOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbFJ1c3NpYW5JbmRpY2F0b3JzICYmIHNjcmlwdHNDb25maWcuZ2FtZVBhZ2UpIHsKICAgICAgICAgICAgICAgICAgICB6b2dCbG9jay5zdHlsZS50b3AgPSBgJHtsb2NhbFJ1c3NpYW5JbmRpY2F0b3JzLm9mZnNldFRvcCArIGxvY2FsUnVzc2lhbkluZGljYXRvcnMub2Zmc2V0SGVpZ2h0ICsgMTZ9cHhgOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVIZWFkZXJJbWFnZUN0bicpKSB6b2dCbG9jay5zdHlsZS50b3AgPSAnMHB4JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHpvZ0Jsb2NrLnN0eWxlLmxlZnQgPSAnMzM0cHgnOwogICAgICAgICAgICAgICAgem9nQmxvY2suc3R5bGUuekluZGV4ID0gJzInOwogICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RVcGRhdGUpIHsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB6b2dCbG9jay5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnOwogICAgICAgICAgICAgICAgICAgICAgICB6b2dCbG9jay5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlzRmlyc3RVcGRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnN0IG1hbmFnZUhsdGJPYnNlcnZlciA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRIbHRiQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZUhlYWRlckltYWdlQ3RuID4gZGl2W3N0eWxlKj0iYmFja2dyb3VuZDogcmdiYSgyNywgNDAsIDU2LCAwLjk1KSJdJyk7CiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEhsdGJCbG9jaykgewogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SGx0YkJsb2NrICE9PSBobHRiQmxvY2tFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChobHRiT2JzZXJ2ZXJJbnN0YW5jZSkgaGx0Yk9ic2VydmVySW5zdGFuY2UuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGx0YkJsb2NrRWxlbWVudCAmJiBobHRiVHJhbnNpdGlvbkhhbmRsZXJGdW5jKSBobHRiQmxvY2tFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBobHRiVHJhbnNpdGlvbkhhbmRsZXJGdW5jKTsKICAgICAgICAgICAgICAgICAgICAgICAgaGx0YkJsb2NrRWxlbWVudCA9IGN1cnJlbnRIbHRiQmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHRzQ29uZmlnLmhsdGJEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHRiT2JzZXJ2ZXJJbnN0YW5jZSA9IG5ldyBSZXNpemVPYnNlcnZlcih1cGRhdGVQb3NpdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHRiT2JzZXJ2ZXJJbnN0YW5jZS5vYnNlcnZlKGhsdGJCbG9ja0VsZW1lbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGx0YlRyYW5zaXRpb25IYW5kbGVyRnVuYyA9IHVwZGF0ZVBvc2l0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGx0YkJsb2NrRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGx0YlRyYW5zaXRpb25IYW5kbGVyRnVuYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChobHRiT2JzZXJ2ZXJJbnN0YW5jZSkgaGx0Yk9ic2VydmVySW5zdGFuY2UuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChobHRiQmxvY2tFbGVtZW50ICYmIGhsdGJUcmFuc2l0aW9uSGFuZGxlckZ1bmMpIGhsdGJCbG9ja0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhsdGJUcmFuc2l0aW9uSGFuZGxlckZ1bmMpOwogICAgICAgICAgICAgICAgICAgIGhsdGJCbG9ja0VsZW1lbnQgPSBobHRiT2JzZXJ2ZXJJbnN0YW5jZSA9IGhsdGJUcmFuc2l0aW9uSGFuZGxlckZ1bmMgPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgbWFuYWdlUnVzc2lhbkluZGljYXRvcnNPYnNlcnZlciA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRpY2F0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVIZWFkZXJJbWFnZUN0biA+IGRpdltzdHlsZSo9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTBweDsgbGVmdDogY2FsYygxMDAlICsgMTBweCk7Il0nKTsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kaWNhdG9ycykgewogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kaWNhdG9ycyAhPT0gcnVzc2lhbkluZGljYXRvcnNOb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2UpIHJ1c3NpYW5JbmRpY2F0b3JzT2JzZXJ2ZXJJbnN0YW5jZS5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1c3NpYW5JbmRpY2F0b3JzTm9kZSA9IGN1cnJlbnRJbmRpY2F0b3JzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0c0NvbmZpZy5nYW1lUGFnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVzc2lhbkluZGljYXRvcnNPYnNlcnZlckluc3RhbmNlID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IG11dGF0aW9ucy5mb3JFYWNoKG0gPT4geyBpZiAobS50eXBlID09PSAnYXR0cmlidXRlcycgJiYgbS5hdHRyaWJ1dGVOYW1lID09PSAnc3R5bGUnKSB1cGRhdGVQb3NpdGlvbigpOyB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2Uub2JzZXJ2ZShydXNzaWFuSW5kaWNhdG9yc05vZGUsIHsgYXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbJ3N0eWxlJ10gfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChydXNzaWFuSW5kaWNhdG9yc09ic2VydmVySW5zdGFuY2UpIHJ1c3NpYW5JbmRpY2F0b3JzT2JzZXJ2ZXJJbnN0YW5jZS5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgcnVzc2lhbkluZGljYXRvcnNOb2RlID0gcnVzc2lhbkluZGljYXRvcnNPYnNlcnZlckluc3RhbmNlID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnN0IGluaXREeW5hbWljRWxlbWVudE9ic2VydmVycyA9ICgpID0+IHsKICAgICAgICAgICAgICAgIG1hbmFnZUhsdGJPYnNlcnZlcigpOwogICAgICAgICAgICAgICAgbWFuYWdlUnVzc2lhbkluZGljYXRvcnNPYnNlcnZlcigpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3Qgc2V0dXBQYWdlQ2hhbmdlT2JzZXJ2ZXJzID0gKCkgPT4gewogICAgICAgICAgICAgICAgZ2FtZUhlYWRlckltYWdlQ3RuTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4nKTsKICAgICAgICAgICAgICAgIGlmICghZ2FtZUhlYWRlckltYWdlQ3RuTm9kZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgaWYgKGdhbWVIZWFkZXJJbWFnZUN0bk9ic2VydmVySW5zdGFuY2UpIGdhbWVIZWFkZXJJbWFnZUN0bk9ic2VydmVySW5zdGFuY2UuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgICAgZ2FtZUhlYWRlckltYWdlQ3RuT2JzZXJ2ZXJJbnN0YW5jZSA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9ucy5zb21lKG0gPT4gbS50eXBlID09PSAnY2hpbGRMaXN0JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5pdER5bmFtaWNFbGVtZW50T2JzZXJ2ZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBnYW1lSGVhZGVySW1hZ2VDdG5PYnNlcnZlckluc3RhbmNlLm9ic2VydmUoZ2FtZUhlYWRlckltYWdlQ3RuTm9kZSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICAgICAgICAgICAgICBpbml0RHluYW1pY0VsZW1lbnRPYnNlcnZlcnMoKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGl0bGUuc3R5bGUsIHsgZm9udFNpemU6ICcxMnB4JywgZm9udFdlaWdodDogJ2JvbGQnLCBjb2xvcjogJyM2N2MxZjUnLCBtYXJnaW5Cb3R0b206ICcxMHB4JywgY3Vyc29yOiAncG9pbnRlcicgfSk7CiAgICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1pPRyc7CgogICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGVudC5zdHlsZSwgeyBkaXNwbGF5OiAnbm9uZScsIGNvbG9yOiAnI2M2ZDRkZicsIGZvbnRTaXplOiAnMTRweCcsIG1heFdpZHRoOiAnMzAwcHgnLCBvdmVyZmxvd1k6ICdhdXRvJywgd2hpdGVTcGFjZTogJ25vcm1hbCcsIGxpbmVIZWlnaHQ6ICcxLjQnLCBwYWRkaW5nOiAnMCA1cHgnIH0pOwoKICAgICAgICAgICAgY29uc3QgYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhcnJvdy5zdHlsZSwgeyBwb3NpdGlvbjogJ2Fic29sdXRlJywgYm90dG9tOiAnNXB4JywgbGVmdDogJzUwJScsIHdpZHRoOiAnMCcsIGhlaWdodDogJzAnLCBib3JkZXJMZWZ0OiAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JywgYm9yZGVyUmlnaHQ6ICc1cHggc29saWQgdHJhbnNwYXJlbnQnLCBib3JkZXJUb3A6ICc1cHggc29saWQgIzY3YzFmNScsIGN1cnNvcjogJ3BvaW50ZXInLCB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIDAuM3MgZWFzZScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknIH0pOwoKICAgICAgICAgICAgem9nQmxvY2suYXBwZW5kKGFycm93LCB0aXRsZSwgY29udGVudCk7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4nKS5hcHBlbmRDaGlsZCh6b2dCbG9jayk7CgogICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTsKICAgICAgICAgICAgc2V0dXBQYWdlQ2hhbmdlT2JzZXJ2ZXJzKCk7CiAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9uKCk7CgogICAgICAgICAgICBjb25zdCB0b2dnbGVCbG9jayA9IGFzeW5jIChlbCkgPT4gY29udGVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyBhd2FpdCBleHBhbmRCbG9jayhlbCkgOiBjb2xsYXBzZUJsb2NrKGVsKTsKICAgICAgICAgICAgdGl0bGUub25jbGljayA9ICgpID0+IHRvZ2dsZUJsb2NrKGFycm93KTsKICAgICAgICAgICAgYXJyb3cub25jbGljayA9ICgpID0+IHRvZ2dsZUJsb2NrKGFycm93KTsKCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGV4cGFuZEJsb2NrKGFycm93RWxlbWVudCkgewogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih6b2dCbG9jay5zdHlsZSwgeyB0cmFuc2l0aW9uOiAnd2lkdGggMC4zcyBlYXNlLCBoZWlnaHQgMC4zcyBlYXNlJywgd2lkdGg6ICczMDBweCcsIGhlaWdodDogJzQwcHgnIH0pOwogICAgICAgICAgICAgICAgYXJyb3dFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgxODBkZWcpJzsKICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTsKICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9CX0LDQv9GA0L7RgSDQvdCw0LfQstCw0L3QuNGPINC40LPRgNGLLi4uJzsKICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpKTsKICAgICAgICAgICAgICAgIGNvbnN0IGVuZ2xpc2hOYW1lID0gYXdhaXQgZ2V0RW5nbGlzaEdhbWVOYW1lKGdldEFwcElkKCkpIHx8IGdldEdhbWVOYW1lKCk7CiAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9Cf0L7QuNGB0Log0L3QsCBab25lIG9mIEdhbWVzLi4uJzsKICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVNYXRjaGVzID0gYXdhaXQgZmluZEdhbWVzT25ab2coZW5nbGlzaE5hbWUpOwogICAgICAgICAgICAgICAgICAgIHJlbmRlclBvc3NpYmxlTWF0Y2hlcyhwb3NzaWJsZU1hdGNoZXMsIGVuZ2xpc2hOYW1lKTsKICAgICAgICAgICAgICAgICAgICB6b2dCbG9jay5zdHlsZS5oZWlnaHQgPSBgJHtjb250ZW50LnNjcm9sbEhlaWdodCArIDQwfXB4YDsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbigpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJaT0cgU2VhcmNoIEVycm9yOiIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9Ce0YjQuNCx0LrQsCDQv9C+0LjRgdC60LAg0L3QsCBaT0cuJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VCbG9jayhhcnJvd0VsZW1lbnQpIHsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oem9nQmxvY2suc3R5bGUsIHsgdHJhbnNpdGlvbjogJ3dpZHRoIDAuM3MgZWFzZSwgaGVpZ2h0IDAuM3MgZWFzZScsIHdpZHRoOiAnMzBweCcsIGhlaWdodDogJzMwcHgnIH0pOwogICAgICAgICAgICAgICAgYXJyb3dFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgwZGVnKSc7CiAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgdXBkYXRlUG9zaXRpb24oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2V0RW5nbGlzaEdhbWVOYW1lKGFwcElkKSB7CiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkuc3RlYW1wb3dlcmVkLmNvbS9JU3RvcmVCcm93c2VTZXJ2aWNlL0dldEl0ZW1zL3YxP2lucHV0X2pzb249JHtKU09OLnN0cmluZ2lmeSh7IGlkczogW3sgYXBwaWQ6IHBhcnNlSW50KGFwcElkKSB9XSwgY29udGV4dDogeyBsYW5ndWFnZTogImVuZ2xpc2giLCBjb3VudHJ5X2NvZGU6ICJVUyIgfSwgZGF0YV9yZXF1ZXN0OiB7IGluY2x1ZGVfYmFzaWNfaW5mbzogdHJ1ZSB9IH0pfWA7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gR01feG1saHR0cFJlcXVlc3QoeyBtZXRob2Q6ICJHRVQiLCB1cmwsIG9ubG9hZDogcmVzb2x2ZSwgb25lcnJvcjogcmVqZWN0LCBvbnRpbWVvdXQ6IHJlamVjdCB9KSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpLnJlc3BvbnNlPy5zdG9yZV9pdGVtcz8uWzBdPy5uYW1lOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC30LDQv9GA0L7RgdC1INC6IFN0ZWFtIEFQSTonLCBlKTsgfQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZpbmRHYW1lc09uWm9nKGdhbWVOYW1lKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpc1J1c3NpYW4gPSAvW9CwLdGP0ZFdL2kudGVzdChnYW1lTmFtZSk7CiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVNYXAgPSBpc1J1c3NpYW4gPyBydXNzaWFuQWxwaGFiZXRNYXAgOiBhbHBoYWJldE1hcDsKICAgICAgICAgICAgICAgIGNvbnN0IGFydGljbGVzID0gWyd0aGUnLCAnYScsICdhbiddOwogICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBnYW1lTmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hMZXR0ZXJzID0gbmV3IFNldCgpOwoKICAgICAgICAgICAgICAgIGlmICghaXNSdXNzaWFuICYmIGFydGljbGVzLmluY2x1ZGVzKHdvcmRzWzBdKSAmJiB3b3Jkcy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgc2VhcmNoTGV0dGVycy5hZGQod29yZHNbMF1bMF0pOwogICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVNYXBbd29yZHNbMV1bMF1dKSBzZWFyY2hMZXR0ZXJzLmFkZCh3b3Jkc1sxXVswXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCBmaXJzdENoYXIgPSBnYW1lTmFtZS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKTsKICAgICAgICAgICAgICAgICAgICBzZWFyY2hMZXR0ZXJzLmFkZChhY3RpdmVNYXAuaGFzT3duUHJvcGVydHkoZmlyc3RDaGFyKSA/IGZpcnN0Q2hhciA6ICcjJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgYWxsR2FtZXNGb3VuZCA9IFtdOwogICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlUGF0aHMgPSBuZXcgU2V0KCk7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxldHRlciBvZiBzZWFyY2hMZXR0ZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNOb25BbHBoYSA9IGxldHRlciA9PT0gJyMnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VOdW0gPSBhY3RpdmVNYXBbbGV0dGVyXTsKICAgICAgICAgICAgICAgICAgICBpZiAocGFnZU51bSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlVXJsID0gaXNOb25BbHBoYSA/ICdodHRwczovL3d3dy56b25lb2ZnYW1lcy5ydS9nYW1lcy9lbmcvJyA6IChpc1J1c3NpYW4gPyAnaHR0cHM6Ly93d3cuem9uZW9mZ2FtZXMucnUvZ2FtZXMvcnVzLycgOiAnaHR0cHM6Ly93d3cuem9uZW9mZ2FtZXMucnUvZ2FtZXMvZW5nLycpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVcmx9JHtwYWdlTnVtfS9gOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gR01feG1saHR0cFJlcXVlc3QoeyBtZXRob2Q6ICdHRVQnLCB1cmwsIG9ubG9hZDogcmVzb2x2ZSwgb25lcnJvcjogcmVqZWN0IH0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZS5yZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmdhbWVpbmZvYmxvY2sgYScpLmZvckVhY2gobGluayA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmICF1bmlxdWVQYXRocy5oYXMocGF0aCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdUaXRsZSA9IGxpbmsudGV4dENvbnRlbnQudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFydGljbGVNYXRjaCA9IHJhd1RpdGxlLm1hdGNoKC8sXHMrKFRoZXxBbnxBKSQvaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gYXJ0aWNsZU1hdGNoID8gYCR7YXJ0aWNsZU1hdGNoWzFdfSAke3Jhd1RpdGxlLnJlcGxhY2UoYXJ0aWNsZU1hdGNoWzBdLCAnJykudHJpbSgpfWAgOiByYXdUaXRsZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxHYW1lc0ZvdW5kLnB1c2goeyB0aXRsZSwgcGF0aCB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVQYXRocy5hZGQocGF0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INGB0YLRgNCw0L3QuNGG0YsgJyR7dXJsfSc6YCwgZSk7IH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBhbGxHYW1lc0ZvdW5kOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBmZXRjaEFuZFJlbmRlckxvY2FsaXphdGlvbnMoZ2FtZVBhdGgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBgaHR0cHM6Ly93d3cuem9uZW9mZ2FtZXMucnUke2dhbWVQYXRofWA7CiAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICfQl9Cw0LPRgNGD0LfQutCwINGA0YPRgdC40YTQuNC60LDRgtC+0YDQvtCyLi4uJzsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBHTV94bWxodHRwUmVxdWVzdCh7IG1ldGhvZDogJ0dFVCcsIHVybDogZnVsbFVybCwgb25sb2FkOiByZXNvbHZlLCBvbmVycm9yOiByZWplY3QgfSkpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcocmVzcG9uc2UucmVzcG9uc2VUZXh0LCAndGV4dC9odG1sJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxpemF0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uTGFiZWwgPSBBcnJheS5mcm9tKGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdiJykpLmZpbmQoYiA9PiBiLnRleHRDb250ZW50LnRyaW0oKSA9PT0gJ9Cf0LXRgNC10LLQvtC00Ys6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uTGFiZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGUgPSB0cmFuc2xhdGlvbkxhYmVsLmNsb3Nlc3QoJ3RhYmxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUucXVlcnlTZWxlY3RvckFsbCgndHInKS5mb3JFYWNoKHJvdyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua0VsID0gcm93LnF1ZXJ5U2VsZWN0b3IoJ2EnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlua0VsPy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGl6YXRpb25zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbGlua0VsLnRleHRDb250ZW50LnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHJvdy5xdWVyeVNlbGVjdG9yKCd0ZDpsYXN0LWNoaWxkJyk/LnRleHRDb250ZW50LnRyaW0oKSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbms6IGBodHRwczovL3d3dy56b25lb2ZnYW1lcy5ydSR7bGlua0VsLmdldEF0dHJpYnV0ZSgnaHJlZicpfWAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZVRpdGxlID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ3RkLmJsb2Nrc3R5bGUgPiBiID4gZm9udCcpPy50ZXh0Q29udGVudC50cmltKCkgfHwgJ9CS0YvQsdGA0LDQvdC90LDRjyDQuNCz0YDQsCc7CiAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29udGVudCh7IHRpdGxlOiBnYW1lVGl0bGUsIHVybDogZnVsbFVybCwgbG9jYWxpemF0aW9ucyB9KTsKICAgICAgICAgICAgICAgICAgICB6b2dCbG9jay5zdHlsZS5oZWlnaHQgPSBgJHtjb250ZW50LnNjcm9sbEhlaWdodCArIDQwfXB4YDsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbigpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSAn0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0LvQvtC60LDQu9C40LfQsNGG0LjQuS4nOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoItCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRizoiLCBlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyQ29udGVudChlbnRyeSkgewogICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGlmICghZW50cnkpIHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9CY0LPRgNCwINC90LUg0L3QsNC50LTQtdC90LAg0LIg0LHQsNC30LUgWk9HJzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUxpbmsgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSwgeyBocmVmOiBlbnRyeS51cmwsIHRhcmdldDogJ19ibGFuaycsIHRleHRDb250ZW50OiBlbnRyeS50aXRsZSB8fCAn0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8nIH0pOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aXRsZUxpbmsuc3R5bGUsIHsgY29sb3I6ICcjNjdjMWY1Jywgd29yZEJyZWFrOiAnYnJlYWstd29yZCcsIHRleHREZWNvcmF0aW9uOiAnbm9uZScgfSk7CiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRpdGxlTGluayk7CiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obGlzdC5zdHlsZSwgeyBwYWRkaW5nTGVmdDogJzE1cHgnLCBtYXJnaW5Ub3A6ICc1cHgnLCBtYXJnaW5Cb3R0b206ICcwJyB9KTsKICAgICAgICAgICAgICAgIGlmIChlbnRyeS5sb2NhbGl6YXRpb25zPy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgZW50cnkubG9jYWxpemF0aW9ucy5mb3JFYWNoKGxvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGkuc3R5bGUubWFyZ2luQm90dG9tID0gJzhweCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSwgeyBocmVmOiBsb2MubGluaywgdGFyZ2V0OiAnX2JsYW5rJywgdGV4dENvbnRlbnQ6IGAke2xvYy5uYW1lfSAke2xvYy5zaXplfWAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obGluay5zdHlsZSwgeyBjb2xvcjogJyNjNmQ0ZGYnLCB3b3JkQnJlYWs6ICdicmVhay13b3JkJywgdGV4dERlY29yYXRpb246ICdub25lJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQobGkpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsaSA9IE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKSwgeyB0ZXh0Q29udGVudDogJ9Cg0YPRgdC40YTQuNC60LDRgtC+0YDRiyDQvtGC0YHRg9GC0YHRgtCy0YPRjtGCJyB9KTsKICAgICAgICAgICAgICAgICAgICBsaS5zdHlsZS5jb2xvciA9ICcjOTk5JzsKICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGxpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobGlzdCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbmRlclBvc3NpYmxlTWF0Y2hlcyhtYXRjaGVzLCBvcmlnaW5hbEdhbWVOYW1lKSB7CiAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCB7IHRleHRDb250ZW50OiAn0JLQvtC30LzQvtC20L3Ri9C1INGB0L7QstC/0LDQtNC10L3QuNGPOicgfSk7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRpdGxlLnN0eWxlLCB7IGNvbG9yOiAnIzY3YzFmNScsIG1hcmdpbkJvdHRvbTogJzEwcHgnIH0pOwogICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0aXRsZSk7CiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obGlzdC5zdHlsZSwgeyBwYWRkaW5nTGVmdDogJzE1cHgnLCBtYXJnaW5Ub3A6ICc1cHgnLCBtYXJnaW5Cb3R0b206ICcwJyB9KTsKICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZE1hdGNoZXMgPSBmaW5kUG9zc2libGVNYXRjaGVzKG9yaWdpbmFsR2FtZU5hbWUsIG1hdGNoZXMpOwogICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZE1hdGNoZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29udGVudChudWxsKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwcm9jZXNzZWRNYXRjaGVzLmZvckVhY2gobWF0Y2ggPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgICAgICAgICAgICAgICAgICBsaS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnOHB4JzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksIHsgaHJlZjogYGh0dHBzOi8vd3d3LnpvbmVvZmdhbWVzLnJ1JHttYXRjaC5pdGVtLnBhdGh9YCwgdGFyZ2V0OiAnX2JsYW5rJywgdGV4dENvbnRlbnQ6IGAke21hdGNoLml0ZW0udGl0bGV9ICgke21hdGNoLnBlcmNlbnRhZ2V9JSlgIH0pOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obGluay5zdHlsZSwgeyBjb2xvcjogJyNjNmQ0ZGYnLCB3b3JkQnJlYWs6ICdicmVhay13b3JkJywgdGV4dERlY29yYXRpb246ICdub25lJywgY3Vyc29yOiAncG9pbnRlcicgfSk7CiAgICAgICAgICAgICAgICAgICAgbGluay5vbmNsaWNrID0gKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBmZXRjaEFuZFJlbmRlckxvY2FsaXphdGlvbnMobWF0Y2guaXRlbS5wYXRoKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQobGkpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGxpc3QpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBmaW5kUG9zc2libGVNYXRjaGVzKGdhbWVOYW1lLCBkYXRhKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbkdhbWVOYW1lID0gZ2FtZU5hbWUubm9ybWFsaXplKCJORkQiKS5yZXBsYWNlKC9bXHUwMzAwLVx1MDM2Zl0vZywgIiIpLnJlcGxhY2UoL1teYS160LAt0Y/RkTAtOSBfJ1wtIV0vZ2ksICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbkl0ZW1OYW1lID0gaXRlbS50aXRsZS5ub3JtYWxpemUoIk5GRCIpLnJlcGxhY2UoL1tcdTAzMDAtXHUwMzZmXS9nLCAiIikucmVwbGFjZSgvW15hLXrQsC3Rj9GRMC05IF8nXC0hXS9naSwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGl0ZW0sIHBlcmNlbnRhZ2U6IGNhbGN1bGF0ZVNpbWlsYXJpdHkoY2xlYW5HYW1lTmFtZSwgY2xlYW5JdGVtTmFtZSksIHN0YXJ0c1dpdGg6IGNsZWFuSXRlbU5hbWUuc3RhcnRzV2l0aChjbGVhbkdhbWVOYW1lKSB9OwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0ucGVyY2VudGFnZSA+IDQ1IHx8IGl0ZW0uc3RhcnRzV2l0aCkKICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5zdGFydHNXaXRoICYmICFiLnN0YXJ0c1dpdGgpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhLnN0YXJ0c1dpdGggJiYgYi5zdGFydHNXaXRoKSByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIucGVyY2VudGFnZSAtIGEucGVyY2VudGFnZTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCA1KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlU2ltaWxhcml0eShzdHIxLCBzdHIyKSB7CiAgICAgICAgICAgICAgICBsZXQgbG9uZ2VyID0gc3RyMSwgc2hvcnRlciA9IHN0cjI7CiAgICAgICAgICAgICAgICBpZiAoc3RyMS5sZW5ndGggPCBzdHIyLmxlbmd0aCkgeyBsb25nZXIgPSBzdHIyOyBzaG9ydGVyID0gc3RyMTsgfQogICAgICAgICAgICAgICAgaWYgKGxvbmdlci5sZW5ndGggPT09IDApIHJldHVybiAxMDAuMDsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCgobG9uZ2VyLmxlbmd0aCAtIGxldmVuc2h0ZWluRGlzdGFuY2UobG9uZ2VyLCBzaG9ydGVyKSkgLyBsb25nZXIubGVuZ3RoKSAqIDEwMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGxldmVuc2h0ZWluRGlzdGFuY2UoczEsIHMyKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb3N0cyA9IFtdOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gczEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFZhbHVlID0gaTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBzMi5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkgY29zdHNbal0gPSBqOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChqID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1ZhbHVlID0gY29zdHNbaiAtIDFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxLmNoYXJBdChpIC0gMSkgIT09IHMyLmNoYXJBdChqIC0gMSkpIG5ld1ZhbHVlID0gTWF0aC5taW4obmV3VmFsdWUsIGxhc3RWYWx1ZSwgY29zdHNbal0pICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RzW2ogLSAxXSA9IGxhc3RWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG5ld1ZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkgY29zdHNbczIubGVuZ3RoXSA9IGxhc3RWYWx1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBjb3N0c1tzMi5sZW5ndGhdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRBcHBJZCgpIHsgcmV0dXJuIHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpWzJdOyB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEdhbWVOYW1lKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcGh1Yl9BcHBOYW1lJyk/LnRleHRDb250ZW50LnRyaW0oKSB8fCAnJzsgfQogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdGC0YDQsNC90LjRhtGLINC40LPRgNGLICjQktGA0LXQvNGPINC00YDRg9C30LXQuSAmINCU0L7RgdGC0LjQttC10L3QuNGPKSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnL2FwcC8nKSAmJiBzY3JpcHRzQ29uZmlnLmZyaWVuZHNQbGF5dGltZSkgewogICAgICAgIChhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgYXBwSWRNYXRjaCA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXC9hcHBcLyhcZCspLyk7CiAgICAgICAgICAgIGlmICghYXBwSWRNYXRjaCkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBhcHBJZCA9IGFwcElkTWF0Y2hbMV07CiAgICAgICAgICAgIGNvbnN0IGdhbWVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcEh1YkFwcE5hbWUnKT8udGV4dENvbnRlbnQudHJpbSgpIHx8ICfRjdGC0L7QuSDQuNCz0YDRiyc7CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBmZXRjaEFuZFBhcnNlQWxsRnJpZW5kc0RhdGEoYXBwSWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9teS9mcmllbmRzdGhhdHBsYXkvJHthcHBJZH1gOwogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHsKICAgICAgICAgICAgICAgICAgICByZWNlbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrczogW10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGV2ZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrczogW10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG93bjogewogICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzOiBbXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgd2lzaGxpc3Q6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrczogW10KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDE1MDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCdUaW1lb3V0JykpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHRocm93IG5ldyBFcnJvcihgSFRUUCBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEhlYWRlcnMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnLm1haW5TZWN0aW9uSGVhZGVyLmZyaWVuZExpc3RTZWN0aW9uSGVhZGVyJyk7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRzID0gewogICAgICAgICAgICAgICAgICAgICAgICByZWNlbnQ6IFsn0L/QvtGB0LvQtdC00L3QuNC1IDIg0L3QtdC00LXQu9C4JywgJ9C/0L7RgdC70LXQtNC90LjRhSAyINC90LXQtNC10LvRjCcsICdpbiB0aGUgbGFzdCAyIHdlZWtzJ10sCiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZXI6IFsn0LrQvtCz0LTQsC3Qu9C40LHQviDQuNCz0YDQsNCy0YjQuNC1JywgJ9C60L7Qs9C00LAt0LvQuNCx0L4g0LjQs9GA0LDQstGI0LjQtSDQsicsICdwcmV2aW91c2x5J10sCiAgICAgICAgICAgICAgICAgICAgICAgIG93bjogWyfQuNC80LXRjtGJ0LjQtScsICfQuNC80LXRjtGJ0LjQtSDQsicsICdpbiB0aGVpciBsaWJyYXJ5J10sCiAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0OiBbJ9C60L7RgtC+0YDRi9C1INGF0L7RgtGP0YInLCAnd2hvIHdhbnQnXQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIGFsbEhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gaGVhZGVyLnRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBoZWFkZXIubmV4dEVsZW1lbnRTaWJsaW5nOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5tYXRjaGVzKCcucHJvZmlsZV9mcmllbmRzJykpIHJldHVybjsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrcyA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mcmllbmRCbG9jaycpKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBibG9ja3MubGVuZ3RoOwoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4ga2V5d29yZHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXl3b3Jkc1trZXldLnNvbWUoayA9PiB0ZXh0LmluY2x1ZGVzKGsudG9Mb3dlckNhc2UoKSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1trZXldID0geyBjb3VudCwgYmxvY2tzIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGJ1aWxkQXZhdGFyR3JpZChibG9ja3MpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGdyaWQuY2xhc3NOYW1lID0gJ2ZyaWVuZF9ibG9ja3NfZ3JpZCc7CiAgICAgICAgICAgICAgICBibG9ja3Muc2xpY2UoMCwgNikuZm9yRWFjaChibG9jayA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZmlsZUxpbmsgPSBibG9jay5xdWVyeVNlbGVjdG9yKCdhLmZyaWVuZEJsb2NrTGlua092ZXJsYXknKT8uaHJlZjsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5pcHJvZmlsZSA9IGJsb2NrLmRhdGFzZXQubWluaXByb2ZpbGU7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZhdGFySW1nU3JjID0gYmxvY2sucXVlcnlTZWxlY3RvcignLnBsYXllckF2YXRhciBpbWcnKT8uc3JjOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzID0gYmxvY2suY2xhc3NMaXN0LmNvbnRhaW5zKCdpbi1nYW1lJykgPyAnZnJpZW5kX3N0YXR1c19pbi1nYW1lJyA6IChibG9jay5jbGFzc0xpc3QuY29udGFpbnMoJ29ubGluZScpID8gJ2ZyaWVuZF9zdGF0dXNfb25saW5lJyA6ICdmcmllbmRfc3RhdHVzX29mZmxpbmUnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2ZpbGVMaW5rIHx8ICFtaW5pcHJvZmlsZSB8fCAhYXZhdGFySW1nU3JjKSByZXR1cm47CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICAgICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7CiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gcHJvZmlsZUxpbms7CiAgICAgICAgICAgICAgICAgICAgbGluay5jbGFzc05hbWUgPSBgZnJpZW5kX2Jsb2NrX2hvbGRlciAke3N0YXR1c0NsYXNzfWA7CiAgICAgICAgICAgICAgICAgICAgbGluay5kYXRhc2V0Lm1pbmlwcm9maWxlID0gbWluaXByb2ZpbGU7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGF2YXRhckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIGF2YXRhckRpdi5jbGFzc05hbWUgPSAnZnJpZW5kX2Jsb2NrX2F2YXRhcic7CiAgICAgICAgICAgICAgICAgICAgYXZhdGFyRGl2LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGF2YXRhckltZ1NyYzsKCiAgICAgICAgICAgICAgICAgICAgYXZhdGFyRGl2LmFwcGVuZENoaWxkKGltZyk7CiAgICAgICAgICAgICAgICAgICAgbGluay5hcHBlbmRDaGlsZChhdmF0YXJEaXYpOwogICAgICAgICAgICAgICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBncmlkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBjcmVhdGVGcmllbmRzSW5mb0Jsb2NrKCkgewogICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0Y29sLmdhbWVfbWV0YV9kYXRhJyk7CiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldENvbnRhaW5lcikgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IGZyaWVuZHNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZnJpZW5kc0Jsb2NrLmNsYXNzTmFtZSA9ICdibG9jayByZXNwb25zaXZlX2FwcHBhZ2VfZGV0YWlsc19yaWdodCByZWNvbW1lbmRhdGlvbl9yZWFzb25zJzsKICAgICAgICAgICAgICAgIGZyaWVuZHNCbG9jay5pbm5lckhUTUwgPSBgPHAgY2xhc3M9InJlYXNvbiBpbmZvIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Ij7Ql9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhSDQviDQtNGA0YPQt9GM0Y/RhSAoVS5TLkUuKS4uLjwvcD5gOwogICAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLnByZXBlbmQoZnJpZW5kc0Jsb2NrKTsKCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hBbmRQYXJzZUFsbEZyaWVuZHNEYXRhKGFwcElkKTsKCiAgICAgICAgICAgICAgICBjb25zdCBnZXRVbmlxdWVCbG9ja3MgPSAoYmxvY2tzQXJyYXlzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlID0gbmV3IE1hcCgpOwogICAgICAgICAgICAgICAgICAgIGJsb2Nrc0FycmF5cy5mbGF0KCkuZm9yRWFjaChibG9jayA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYmxvY2suZGF0YXNldC5taW5pcHJvZmlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkICYmICF1bmlxdWUuaGFzKGlkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlLnNldChpZCwgYmxvY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odW5pcXVlLnZhbHVlcygpKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgY29uc3QgYWxsRXZlclBsYXllZEJsb2NrcyA9IGdldFVuaXF1ZUJsb2NrcyhbZGF0YS5yZWNlbnQuYmxvY2tzLCBkYXRhLmV2ZXIuYmxvY2tzXSk7CiAgICAgICAgICAgICAgICBjb25zdCBhbGxPd25lZEJsb2NrcyA9IGdldFVuaXF1ZUJsb2NrcyhbZGF0YS5yZWNlbnQuYmxvY2tzLCBkYXRhLmV2ZXIuYmxvY2tzLCBkYXRhLm93bi5ibG9ja3NdKTsKCiAgICAgICAgICAgICAgICBsZXQgZmluYWxIVE1MID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEucmVjZW50LmNvdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgIGZpbmFsSFRNTCArPSBgPHAgY2xhc3M9InJlYXNvbiBmb3IiPtCU0YDRg9C30LXQuSwg0LjQs9GA0LDQstGI0LjRhSDQvdC10LTQsNCy0L3QvjogJHtkYXRhLnJlY2VudC5jb3VudH08L3A+YDsKICAgICAgICAgICAgICAgICAgICBmaW5hbEhUTUwgKz0gYnVpbGRBdmF0YXJHcmlkKGRhdGEucmVjZW50LmJsb2Nrcykub3V0ZXJIVE1MICsgJzxocj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChhbGxFdmVyUGxheWVkQmxvY2tzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBmaW5hbEhUTUwgKz0gYDxwIGNsYXNzPSJyZWFzb24gZm9yIj48YSBocmVmPSJodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9teS9mcmllbmRzdGhhdHBsYXkvJHthcHBJZH0iIHRhcmdldD0iX2JsYW5rIj7QlNGA0YPQt9C10LksINC60L7Qs9C00LAt0LvQuNCx0L4g0LjQs9GA0LDQstGI0LjRhSDQsiDQuNCz0YDRgzogJHthbGxFdmVyUGxheWVkQmxvY2tzLmxlbmd0aH08L2E+PC9wPmA7CiAgICAgICAgICAgICAgICAgICAgZmluYWxIVE1MICs9IGJ1aWxkQXZhdGFyR3JpZChhbGxFdmVyUGxheWVkQmxvY2tzKS5vdXRlckhUTUwgKyAnPGhyPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGFsbE93bmVkQmxvY2tzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBmaW5hbEhUTUwgKz0gYDxwIGNsYXNzPSJyZWFzb24gZm9yIj48YSBocmVmPSJodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9teS9mcmllbmRzdGhhdHBsYXkvJHthcHBJZH0iIHRhcmdldD0iX2JsYW5rIj7QlNGA0YPQt9C10LksINC40LzQtdGO0YnQuNGFINC40LPRgNGDINCyINCx0LjQsdC70LjQvtGC0LXQutC1OiAke2FsbE93bmVkQmxvY2tzLmxlbmd0aH08L2E+PC9wPmA7CiAgICAgICAgICAgICAgICAgICAgZmluYWxIVE1MICs9IGJ1aWxkQXZhdGFyR3JpZChhbGxPd25lZEJsb2Nrcykub3V0ZXJIVE1MICsgJzxocj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChkYXRhLndpc2hsaXN0LmNvdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgIGZpbmFsSFRNTCArPSBgPHAgY2xhc3M9InJlYXNvbiBmb3IiPjxhIGhyZWY9Imh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL215L2ZyaWVuZHN0aGF0cGxheS8ke2FwcElkfSIgdGFyZ2V0PSJfYmxhbmsiPtCU0YDRg9C30LXQuSwg0LrQvtGC0L7RgNGL0LUg0YXQvtGC0Y/RgiDRjdGC0YMg0LjQs9GA0YM6ICR7ZGF0YS53aXNobGlzdC5jb3VudH08L2E+PC9wPmA7CiAgICAgICAgICAgICAgICAgICAgZmluYWxIVE1MICs9IGJ1aWxkQXZhdGFyR3JpZChkYXRhLndpc2hsaXN0LmJsb2Nrcykub3V0ZXJIVE1MICsgJzxocj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZyaWVuZHNCbG9jay5pbm5lckhUTUwgPSBmaW5hbEhUTUwubGVuZ3RoID4gMCA/IGZpbmFsSFRNTC5yZXBsYWNlKC88aHI+JC8sICcnKSA6IGA8cCBjbGFzcz0icmVhc29uIGluZm8iPtCd0LXRgiDQtNCw0L3QvdGL0YUg0L4g0LTQtdC50YHRgtCy0LjRj9GFINC00YDRg9C30LXQuSDRgSDRjdGC0L7QuSDQuNCz0YDQvtC5LjwvcD5gOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCByZWNvbW1lbmRhdGlvbkJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlY29tbWVuZGF0aW9uX3JlYXNvbnMnKTsKICAgICAgICAgICAgaWYgKCFyZWNvbW1lbmRhdGlvbkJsb2NrKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVGcmllbmRzSW5mb0Jsb2NrKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGhlYWRlckN0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4nKTsKICAgICAgICAgICAgaWYgKGhlYWRlckN0bikgewogICAgICAgICAgICAgICAgY29uc3Qgc3RhdHNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLnRvcCA9ICcwcHgnOwogICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS5sZWZ0ID0gJzQwNnB4JzsKICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suc3R5bGUud2lkdGggPSAnMzBweCc7CiAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLmhlaWdodCA9ICczMHB4JzsKICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDI3LCA0MCwgNTYsIDAuOTUpJzsKICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suc3R5bGUucGFkZGluZyA9ICcxNXB4JzsKICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7CiAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgIzNjM2MzYyc7CiAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuNSknOwogICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS56SW5kZXggPSAnMSc7CiAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLmZvbnRGYW1pbHkgPSAnQXJpYWwsIHNhbnMtc2VyaWYnOwogICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS50cmFuc2l0aW9uID0gJ2FsbCAwLjNzIGVhc2UnOwoKICAgICAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICB0cmlhbmdsZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICAgICAgICAgICAgICB0cmlhbmdsZS5zdHlsZS5ib3R0b20gPSAnNXB4JzsKICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLmxlZnQgPSAnNTAlJzsKICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC01MCUpJzsKICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLndpZHRoID0gJzAnOwogICAgICAgICAgICAgICAgdHJpYW5nbGUuc3R5bGUuaGVpZ2h0ID0gJzAnOwogICAgICAgICAgICAgICAgdHJpYW5nbGUuc3R5bGUuYm9yZGVyTGVmdCA9ICc1cHggc29saWQgdHJhbnNwYXJlbnQnOwogICAgICAgICAgICAgICAgdHJpYW5nbGUuc3R5bGUuYm9yZGVyUmlnaHQgPSAnNXB4IHNvbGlkIHRyYW5zcGFyZW50JzsKICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLmJvcmRlclRvcCA9ICc1cHggc29saWQgIzY3YzFmNSc7CiAgICAgICAgICAgICAgICB0cmlhbmdsZS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CiAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLmFwcGVuZENoaWxkKHRyaWFuZ2xlKTsKCiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgdGl0bGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgIHRpdGxlLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJzsKICAgICAgICAgICAgICAgIHRpdGxlLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc3cHgnOwogICAgICAgICAgICAgICAgdGl0bGUuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOwoKICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb21iaW5lZEltZy5zdHlsZS53aWR0aCA9ICcyOXB4JzsKICAgICAgICAgICAgICAgIGNvbWJpbmVkSW1nLnN0eWxlLmhlaWdodCA9ICcyOXB4JzsKICAgICAgICAgICAgICAgIGNvbWJpbmVkSW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS8wd24zZGcwZC85YzI1OWVlYmM0MGExZTk3Mzk3Y2NmM2RhN2VlN2JkNi9yYXcvU1VFZnRhY2gucG5nKSc7CiAgICAgICAgICAgICAgICBjb21iaW5lZEltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb250YWluJzsKICAgICAgICAgICAgICAgIGNvbWJpbmVkSW1nLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICdjZW50ZXInOwoKICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKGNvbWJpbmVkSW1nKTsKICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suYXBwZW5kQ2hpbGQodGl0bGUpOwoKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZm9udFNpemUgPSAnMTRweCc7CiAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmNvbG9yID0gJyNjNmQ0ZGYnOwogICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS5wYWRkaW5nID0gJzAnOwogICAgICAgICAgICAgICAgc3RhdHNCbG9jay5hcHBlbmRDaGlsZChjb250ZW50KTsKCiAgICAgICAgICAgICAgICBjb25zdCB0b2dnbGVCbG9jayA9IGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS53aWR0aCA9ICcyNTBweCc7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suc3R5bGUuaGVpZ2h0ID0gJzYwcHgnOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ9CX0LDQs9GA0YPQt9C60LAuLi4nOwogICAgICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5zdHlsZS5ib3JkZXJUb3AgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLmJvcmRlckJvdHRvbSA9ICc1cHggc29saWQgIzY3YzFmNSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmllbmRzRGF0YSA9IGF3YWl0IGxvYWRGcmllbmRzRGF0YUZvclN0YXRzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2hpZXZlbWVudHNEYXRhID0gYXdhaXQgbG9hZEFjaGlldmVtZW50c0RhdGFGb3JTdGF0cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyaWVuZHNUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpZW5kc1RpdGxlLnN0eWxlLmZvbnRTaXplID0gJzEycHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpZW5kc1RpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmllbmRzVGl0bGUuc3R5bGUuY29sb3IgPSAnIzY3YzFmNSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmllbmRzVGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmllbmRzVGl0bGUudGV4dENvbnRlbnQgPSAn0JLQoNCV0JzQryDQlNCg0KPQl9CV0JknOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChmcmllbmRzVGl0bGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyaWVuZHNEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhIb3VycyA9IE1hdGgubWF4KC4uLmZyaWVuZHNEYXRhLm1hcChmID0+IGYuaG91cnMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5Ib3VycyA9IE1hdGgubWluKC4uLmZyaWVuZHNEYXRhLm1hcChmID0+IGYuaG91cnMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdmdIb3VycyA9IGZyaWVuZHNEYXRhLnJlZHVjZSgoc3VtLCBmKSA9PiBzdW0gKyBmLmhvdXJzLCAwKSAvIGZyaWVuZHNEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhQbGF5ZXJzID0gZnJpZW5kc0RhdGEuZmlsdGVyKGYgPT4gZi5ob3VycyA9PT0gbWF4SG91cnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RWwuc3R5bGUubWFyZ2luQm90dG9tID0gJzRweCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RWwuaW5uZXJIVE1MID0gYDxzcGFuIHN0eWxlPSJjb2xvcjogIzY3YzFmNTsiPtCc0LDQutGBOjwvc3Bhbj4gJHttYXhIb3Vycy50b0ZpeGVkKDEpfSDRhy5gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhQbGF5ZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RWwuaW5uZXJIVE1MICs9IGAgKCR7bWF4UGxheWVycy5tYXAocCA9PiBgPGEgaHJlZj0iJHtwLnByb2ZpbGV9IiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImNvbG9yOiAjYzZkNGRmOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7Ij4ke3AubmFtZX08L2E+YCkuam9pbignLCAnKX0pYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZnRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmdFbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmdFbC5pbm5lckhUTUwgPSBgPHNwYW4gc3R5bGU9ImNvbG9yOiAjNjdjMWY1OyI+0KHRgNC10LTQvdC10LU6PC9zcGFuPiAke2F2Z0hvdXJzLnRvRml4ZWQoMSl9INGHLiAoJHtmcmllbmRzRGF0YS5sZW5ndGh9INGH0LXQuy4pYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkVsLmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT0iY29sb3I6ICM2N2MxZjU7Ij7QnNC40L3QuNC80LDQu9GM0L3QvtC1Ojwvc3Bhbj4gJHttaW5Ib3Vycy50b0ZpeGVkKDEpfSDRhy5gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kKG1heEVsLCBhdmdFbCwgbWluRWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub0RhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0RhdGEudGV4dENvbnRlbnQgPSAn0JTRgNGD0LfRjNGPINC90LUg0LjQs9GA0LDQu9C4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0RhdGEuc3R5bGUubWFyZ2luQm90dG9tID0gJzEycHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobm9EYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjaFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2hUaXRsZS5zdHlsZS5mb250U2l6ZSA9ICcxMnB4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjaFRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2hUaXRsZS5zdHlsZS5jb2xvciA9ICcjNjdjMWY1JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjaFRpdGxlLnN0eWxlLm1hcmdpbiA9ICcxNnB4IDAgNXB4IDAnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNoVGl0bGUudGV4dENvbnRlbnQgPSAn0JPQm9Ce0JHQkNCb0KzQndCr0JUg0JTQntCh0KLQmNCW0JXQndCY0K8nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChhY2hUaXRsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNoaWV2ZW1lbnRzRGF0YS5oYXNBY2hpZXZlbWVudHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF0aW51bUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGludW1FbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0aW51bUVsLmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT0iY29sb3I6ICM2N2MxZjU7Ij7Qn9C70LDRgtC40L3QsDo8L3NwYW4+ICR7YWNoaWV2ZW1lbnRzRGF0YS5wbGF0aW51bVBlcmNlbnR9JWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZlcmFnZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZUVsLmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT0iY29sb3I6ICM2N2MxZjU7Ij7QodGA0LXQtNC90LjQuSDQv9GA0L7Qs9GA0LXRgdGBOjwvc3Bhbj4gJHthY2hpZXZlbWVudHNEYXRhLmF2ZXJhZ2VBZGp1c3RlZFBlcmNlbnR9JWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQocGxhdGludW1FbCwgYXZlcmFnZUVsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9BY2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0FjaC50ZXh0Q29udGVudCA9IGFjaGlldmVtZW50c0RhdGEuZXJyb3IgPT09ICfQlNC+0YHRgtC40LbQtdC90LjRjyDQvtGC0YHRg9GC0YHRgtCy0YPRjtGCJyA/ICfQlNC+0YHRgtC40LbQtdC90LjQuSDQvdC10YInIDogYWNoaWV2ZW1lbnRzRGF0YS5lcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0FjaC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTJweCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChub0FjaCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLmhlaWdodCA9IGAke2NvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgMzh9cHhgOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC50ZXh0Q29udGVudCA9ICfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0c0Jsb2NrLnN0eWxlLmhlaWdodCA9ICc2MHB4JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHNCbG9jay5zdHlsZS5oZWlnaHQgPSAnMzBweCc7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzQmxvY2suc3R5bGUud2lkdGggPSAnMzBweCc7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnN0eWxlLmJvcmRlckJvdHRvbSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGUuc3R5bGUuYm9yZGVyVG9wID0gJzVweCBzb2xpZCAjNjdjMWY1JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRGcmllbmRzRGF0YUZvclN0YXRzKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyaWVuZHNVcmwgPSBgaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vbXkvZnJpZW5kc3RoYXRwbGF5LyR7YXBwSWR9YDsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZnJpZW5kc1VybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IHJlc29sdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZWRCbG9ja3MgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcubWFpblNlY3Rpb25IZWFkZXIuZnJpZW5kTGlzdFNlY3Rpb25IZWFkZXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVkS2V5d29yZHMgPSBbJ9C/0L7RgdC70LXQtNC90LjQtSAyINC90LXQtNC10LvQuCcsICdpbiB0aGUgbGFzdCAyIHdlZWtzJywgJ9C60L7Qs9C00LAt0LvQuNCx0L4g0LjQs9GA0LDQstGI0LjQtScsICdwcmV2aW91c2x5J107CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyVGV4dCA9IGhlYWRlci50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZWRLZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gaGVhZGVyVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBoZWFkZXIubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLm1hdGNoZXMoJy5wcm9maWxlX2ZyaWVuZHMnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja3MgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZyaWVuZEJsb2NrJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllZEJsb2Nrcy5wdXNoKC4uLmJsb2Nrcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllZEJsb2Nrcy5tYXAoYmxvY2sgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudEJsb2NrID0gYmxvY2sucXVlcnlTZWxlY3RvcignLmZyaWVuZEJsb2NrQ29udGVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50QmxvY2spIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZVRleHQgPSBjb250ZW50QmxvY2sucXVlcnlTZWxlY3RvcignLmZyaWVuZFNtYWxsVGV4dCcpPy50ZXh0Q29udGVudC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG91cnMgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZVBhcnRzID0gdGltZVRleHQuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxldmFudFRpbWVQYXJ0ID0gdGltZVBhcnRzLmxlbmd0aCA+IDEgPyB0aW1lUGFydHNbMV0gOiB0aW1lUGFydHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnNNYXRjaCA9IHJlbGV2YW50VGltZVBhcnQubWF0Y2goLyhcZCtbLC5dP1xkKilccyooPzrRh3xocnMpXC4/Lyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzTWF0Y2ggJiYgaG91cnNNYXRjaFsxXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHBhcnNlRmxvYXQoaG91cnNNYXRjaFsxXS5yZXBsYWNlKCcsJywgJy4nKSkgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnRlbnRCbG9jay5maXJzdENoaWxkLnRleHRDb250ZW50LnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyczogaG91cnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZTogYmxvY2sucXVlcnlTZWxlY3RvcignYS5mcmllbmRCbG9ja0xpbmtPdmVybGF5Jyk/LmhyZWYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihmID0+IGYgJiYgZi5ob3VycyA+IDApOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZEFjaGlldmVtZW50c0RhdGFGb3JTdGF0cygpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2hpZXZlbWVudHNVcmwgPSBgaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vc3RhdHMvJHthcHBJZH0vYWNoaWV2ZW1lbnRzL2A7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGFjaGlldmVtZW50c1VybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IHJlc29sdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDgwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQWNoaWV2ZW1lbnRzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAn0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0YHRgtGA0LDQvdC40YbRiycKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jLnF1ZXJ5U2VsZWN0b3IoJy5ub19hY2hpZXZlbWVudHNfbWVzc2FnZScpKSByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQWNoaWV2ZW1lbnRzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAn0JTQvtGB0YLQuNC20LXQvdC40Y8g0L7RgtGB0YPRgtGB0YLQstGD0Y7RgicKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudEVsZW1lbnRzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2hpZXZlUGVyY2VudCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudEVsZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FjaGlldmVtZW50czogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ9CU0L7RgdGC0LjQttC10L3QuNGPINC+0YLRgdGD0YLRgdGC0LLRg9GO0YInCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRzID0gQXJyYXkuZnJvbShwZXJjZW50RWxlbWVudHMpLm1hcChlbCA9PiBwYXJzZUZsb2F0KGVsLnRleHRDb250ZW50LnRyaW0oKS5yZXBsYWNlKCclJywgJycpKSB8fCAwKS5maWx0ZXIocCA9PiBwID4gMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50cy5sZW5ndGggPT09IDApIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBY2hpZXZlbWVudHM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICfQndC10YIg0LTQsNC90L3Ri9GFJwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhQZXJjZW50ID0gTWF0aC5tYXgoLi4ucGVyY2VudHMpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5QZXJjZW50ID0gTWF0aC5taW4oLi4ucGVyY2VudHMpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGp1c3RtZW50ID0gMTAwIC0gbWF4UGVyY2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRQZXJjZW50cyA9IHBlcmNlbnRzLm1hcChwID0+IHAgKyBhZGp1c3RtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZlcmFnZUFkanVzdGVkID0gYWRqdXN0ZWRQZXJjZW50cy5yZWR1Y2UoKHN1bSwgcCkgPT4gc3VtICsgcCwgMCkgLyBhZGp1c3RlZFBlcmNlbnRzLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FjaGlldmVtZW50czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRpbnVtUGVyY2VudDogKG1pblBlcmNlbnQgKyBhZGp1c3RtZW50KS50b0ZpeGVkKDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZUFkanVzdGVkUGVyY2VudDogYXZlcmFnZUFkanVzdGVkLnRvRml4ZWQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQWNoaWV2ZW1lbnRzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAn0J7RiNC40LHQutCwINGB0L7QtdC00LjQvdC10L3QuNGPJwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlQmxvY2spOwogICAgICAgICAgICAgICAgdHJpYW5nbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVCbG9jayk7CiAgICAgICAgICAgICAgICBoZWFkZXJDdG4uYXBwZW5kQ2hpbGQoc3RhdHNCbG9jayk7CiAgICAgICAgICAgIH0KICAgICAgICB9KSgpOwogICAgfQoKICAgIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAo0KDQsNC90L3QuNC5INC00L7RgdGC0YPQvykgfCBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyoKICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9hcHAvJykgJiYgc2NyaXB0c0NvbmZpZy5lYXJseWFjY2RhdGEpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgICAgICAgIGNvbnN0IEVBT1JEQVRFX1NUT1JBR0VfS0VZID0gJ1VTRV9FYXJseUFjY2Vzc19vcmRhdGVEYXRhJzsKICAgICAgICAgICAgY29uc3QgRUFPUkRBVEVfVVJMID0gJ2h0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vMHduM2RnMGQvNThhOGUzNWYzZDM0MDE0ZWE3NDlhMjJkMDJmN2UyMDMvcmF3L2Vhb3JkYXRlLmpzb24nOwogICAgICAgICAgICBjb25zdCBDQUNIRV9EVVJBVElPTiA9IDE4MCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDYg0LzQtdGB0Y/RhtC10LIKCiAgICAgICAgICAgIGNvbnN0IGdldFllYXJGb3JtID0gKG4pID0+IHsKICAgICAgICAgICAgICAgIG4gPSBNYXRoLmFicyhuKSAlIDEwMDsKICAgICAgICAgICAgICAgIGNvbnN0IG4xID0gbiAlIDEwOwogICAgICAgICAgICAgICAgaWYgKG4gPiAxMCAmJiBuIDwgMjApIHJldHVybiAn0LvQtdGCJzsKICAgICAgICAgICAgICAgIGlmIChuMSA9PT0gMSkgcmV0dXJuICfQs9C+0LQnOwogICAgICAgICAgICAgICAgaWYgKG4xID49IDIgJiYgbjEgPD0gNCkgcmV0dXJuICfQs9C+0LTQsCc7CiAgICAgICAgICAgICAgICByZXR1cm4gJ9C70LXRgic7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBnZXRNb250aEZvcm0gPSAobikgPT4gewogICAgICAgICAgICAgICAgbiA9IE1hdGguYWJzKG4pICUgMTAwOwogICAgICAgICAgICAgICAgY29uc3QgbjEgPSBuICUgMTA7CiAgICAgICAgICAgICAgICBpZiAobiA+IDEwICYmIG4gPCAyMCkgcmV0dXJuICfQvNC10YHRj9GG0LXQsic7CiAgICAgICAgICAgICAgICBpZiAobjEgPT09IDEpIHJldHVybiAn0LzQtdGB0Y/Rhic7CiAgICAgICAgICAgICAgICBpZiAobjEgPj0gMiAmJiBuMSA8PSA0KSByZXR1cm4gJ9C80LXRgdGP0YbQsCc7CiAgICAgICAgICAgICAgICByZXR1cm4gJ9C80LXRgdGP0YbQtdCyJzsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnN0IHBhcnNlU3RlYW1EYXRlID0gKGRhdGVTdHIpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNQYXJ0cyA9IGRhdGVTdHIuc3BsaXQoJy4nKTsKICAgICAgICAgICAgICAgIGlmIChudW1lcmljUGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5ID0gcGFyc2VJbnQobnVtZXJpY1BhcnRzWzBdLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGggPSBwYXJzZUludChudW1lcmljUGFydHNbMV0sIDEwKSAtIDE7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVhciA9IHBhcnNlSW50KG51bWVyaWNQYXJ0c1syXSwgMTApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBtb250aHNNYXAgPSB7CiAgICAgICAgICAgICAgICAgICAgJ9GP0L3Qsic6IDAsCiAgICAgICAgICAgICAgICAgICAgJ9GE0LXQsic6IDEsCiAgICAgICAgICAgICAgICAgICAgJ9C80LDRgCc6IDIsCiAgICAgICAgICAgICAgICAgICAgJ9Cw0L/RgCc6IDMsCiAgICAgICAgICAgICAgICAgICAgJ9C80LDRjyc6IDQsCiAgICAgICAgICAgICAgICAgICAgJ9C40Y7QvSc6IDUsCiAgICAgICAgICAgICAgICAgICAgJ9C40Y7Quyc6IDYsCiAgICAgICAgICAgICAgICAgICAgJ9Cw0LLQsyc6IDcsCiAgICAgICAgICAgICAgICAgICAgJ9GB0LXQvSc6IDgsCiAgICAgICAgICAgICAgICAgICAgJ9C+0LrRgic6IDksCiAgICAgICAgICAgICAgICAgICAgJ9C90L7Rjyc6IDEwLAogICAgICAgICAgICAgICAgICAgICfQtNC10LonOiAxMQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkU3RyID0gZGF0ZVN0ci5yZXBsYWNlKC9cLi9nLCAnJyk7CiAgICAgICAgICAgICAgICBjb25zdCBbZGF5LCBtb250aE5hbWVSYXcsIHllYXJdID0gY2xlYW5lZFN0ci5zcGxpdCgnICcpOwogICAgICAgICAgICAgICAgY29uc3QgbW9udGhOYW1lID0gbW9udGhOYW1lUmF3LnN1YnN0cmluZygwLCAzKTsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh5ZWFyKSwgbW9udGhzTWFwW21vbnRoTmFtZV0sIHBhcnNlSW50KGRheSkpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgZmV0Y2hPcmRhdGVEYXRhID0gYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IEdNX2dldFZhbHVlKEVBT1JEQVRFX1NUT1JBR0VfS0VZLCBudWxsKTsKICAgICAgICAgICAgICAgIGlmIChjYWNoZWREYXRhICYmIERhdGUubm93KCkgLSBjYWNoZWREYXRhLnRpbWVzdGFtcCA8IENBQ0hFX0RVUkFUSU9OKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZERhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IEVBT1JEQVRFX1VSTCwKICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKEVBT1JEQVRFX1NUT1JBR0VfS0VZLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBFQU9yZGF0ZSBkYXRhOicsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY2FjaGVkRGF0YT8uZGF0YSB8fCBbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6ICgpID0+IHJlc29sdmUoY2FjaGVkRGF0YT8uZGF0YSB8fCBbXSkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgZ2V0QXBwSWQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXC9hcHBcLyhcZCspLyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSkgOiBudWxsOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgY3JlYXRlSW5mb0JveCA9IChkdXJhdGlvbiwgaXNSZWxlYXNlZCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgaW5mb0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihpbmZvQm94LnN0eWxlLCB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgICAgICAgICAgdG9wOiAnLTQ2cHgnLAogICAgICAgICAgICAgICAgICAgIGxlZnQ6ICczMzRweCcsCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNSZWxlYXNlZCA/ICdyZ2JhKDEwMywgMTkzLCAyNDUsIDAuMTUpJyA6ICdyZ2JhKDI0NSwgMTY2LCAzNSwgMC4xNSknLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc2LjVweCcsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnM3B4JywKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtpc1JlbGVhc2VkID8gJyMyQTU2OEUnIDogJyNmNWE2MjMnfWAsCiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNjNmQ0ZGYnLAogICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMiknLAogICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICciTW90aXZhIFNhbnMiLCBBcmlhbCwgc2Fucy1zZXJpZicsCiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAzLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLAogICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTsKICAgICAgICAgICAgICAgIGlmIChpc1JlbGVhc2VkKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGR1cmF0aW9uID8KICAgICAgICAgICAgICAgICAgICAgICAgYNCS0YvRiNC70LAg0YHQv9GD0YHRgtGPICR7ZHVyYXRpb259INGA0LDQvdC90LXQs9C+INC00L7RgdGC0YPQv9CwYCA6CiAgICAgICAgICAgICAgICAgICAgICAgICfQmNCz0YDQsCDQstGL0YjQu9CwINC40Lcg0YDQsNC90L3QtdCz0L4g0LTQvtGB0YLRg9C/0LAgKNGB0YDQvtC6INC90LXQuNC30LLQtdGB0YLQtdC9KSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBg0JIg0YDQsNC90L3QtdC8INC00L7RgdGC0YPQv9C1INGD0LbQtSAke2R1cmF0aW9ufWA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaW5mb0JveC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogJHtpc1JlbGVhc2VkID8gJyM2N2MxZjUnIDogJyNmNWE2MjMnfTsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgJHtpc1JlbGVhc2VkID8gJ+Keoe+4jycgOiAn4o+zJ30KICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHttZXNzYWdlfTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgcmV0dXJuIGluZm9Cb3g7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVEdXJhdGlvbiA9IChzdGFydERhdGUsIGVuZERhdGUpID0+IHsKICAgICAgICAgICAgICAgIGxldCBkaWZmTW9udGhzID0gKGVuZERhdGUuZ2V0RnVsbFllYXIoKSAtIHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpKSAqIDEyICsKICAgICAgICAgICAgICAgICAgICAoZW5kRGF0ZS5nZXRNb250aCgpIC0gc3RhcnREYXRlLmdldE1vbnRoKCkpOwoKICAgICAgICAgICAgICAgIGlmIChlbmREYXRlLmdldERhdGUoKSA8IHN0YXJ0RGF0ZS5nZXREYXRlKCkpIGRpZmZNb250aHMtLTsKCiAgICAgICAgICAgICAgICBjb25zdCB5ZWFycyA9IE1hdGguZmxvb3IoZGlmZk1vbnRocyAvIDEyKTsKICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRocyA9IGRpZmZNb250aHMgJSAxMjsKCiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IFtdOwogICAgICAgICAgICAgICAgaWYgKHllYXJzID4gMCkgcGFydHMucHVzaChgJHt5ZWFyc30gJHtnZXRZZWFyRm9ybSh5ZWFycyl9YCk7CiAgICAgICAgICAgICAgICBpZiAobW9udGhzID4gMCkgcGFydHMucHVzaChgJHttb250aHN9ICR7Z2V0TW9udGhGb3JtKG1vbnRocyl9YCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCcg0LggJykgOiAn0LzQtdC90LXQtSDQvNC10YHRj9GG0LAnOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgbWFpbiA9IGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHNCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZW5yZXNBbmRNYW51ZmFjdHVyZXInKTsKICAgICAgICAgICAgICAgIGNvbnN0IGlzU3RpbGxFYXJseUFjY2VzcyA9ICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vhcmx5QWNjZXNzSGVhZGVyJyk7CiAgICAgICAgICAgICAgICBpZiAoIWRldGFpbHNCbG9jaykgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlRGF0ZXMgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVsbFRleHQgPSBkZXRhaWxzQmxvY2sudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZXMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVhcmx5RGF0ZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IG51bGwKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBlYXJseU1hdGNoID0gZnVsbFRleHQubWF0Y2goL9CU0LDRgtCwINCy0YvQv9GD0YHQutCwINCyINGA0LDQvdC90LXQvCDQtNC+0YHRgtGD0L/QtTpccyooXGQrXHNcUytcc1xkezR9KS8pOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VNYXRjaCA9IGZ1bGxUZXh0Lm1hdGNoKC/QlNCw0YLQsCDQstGL0YXQvtC00LA6XHMqKFxkK1xzXFMrXHNcZHs0fSkvKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3RpbGxFYXJseUFjY2VzcyAmJiAhZWFybHlNYXRjaCAmJiByZWxlYXNlTWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMuZWFybHlEYXRlID0gcmVsZWFzZU1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYXJseU1hdGNoKSBkYXRlcy5lYXJseURhdGUgPSBlYXJseU1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsZWFzZU1hdGNoKSBkYXRlcy5yZWxlYXNlRGF0ZSA9IHJlbGVhc2VNYXRjaFsxXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVzOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgZWFybHlEYXRlOiBlYXJseURhdGVTdHIsCiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IHJlbGVhc2VEYXRlU3RyCiAgICAgICAgICAgICAgICB9ID0gcGFyc2VEYXRlcygpOwogICAgICAgICAgICAgICAgY29uc3QgYXBwaWQgPSBnZXRBcHBJZCgpOwoKICAgICAgICAgICAgICAgIGlmICghZWFybHlEYXRlU3RyICYmIGFwcGlkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JkYXRlRGF0YSA9IGF3YWl0IGZldGNoT3JkYXRlRGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gb3JkYXRlRGF0YS5maW5kKGl0ZW0gPT4gaXRlbS5hcHBpZCA9PT0gYXBwaWQpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGF0ZSA9IHBhcnNlU3RlYW1EYXRlKGdhbWVEYXRhLm9yZGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9IHJlbGVhc2VEYXRlU3RyID8gcGFyc2VTdGVhbURhdGUocmVsZWFzZURhdGVTdHIpIDogbmV3IERhdGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkYXRlID49IHJlbGVhc2VEYXRlKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0ZSBvcmRlcicpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gY2FsY3VsYXRlRHVyYXRpb24ob3JkYXRlLCByZWxlYXNlRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvQm94ID0gY3JlYXRlSW5mb0JveChkdXJhdGlvbiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZV9oZWFkZXJfaW1hZ2VfY3RuJyk/LmFwcGVuZENoaWxkKGluZm9Cb3gpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvQm94ID0gY3JlYXRlSW5mb0JveChudWxsLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lX2hlYWRlcl9pbWFnZV9jdG4nKT8uYXBwZW5kQ2hpbGQoaW5mb0JveCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGVhcmx5RGF0ZSA9IGVhcmx5RGF0ZVN0ciA/IHBhcnNlU3RlYW1EYXRlKGVhcmx5RGF0ZVN0cikgOgogICAgICAgICAgICAgICAgICAgIGlzU3RpbGxFYXJseUFjY2VzcyA/IHBhcnNlU3RlYW1EYXRlKHJlbGVhc2VEYXRlU3RyKSA6IG51bGw7CiAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9IHJlbGVhc2VEYXRlU3RyID8gcGFyc2VTdGVhbURhdGUocmVsZWFzZURhdGVTdHIpIDogbnVsbDsKCiAgICAgICAgICAgICAgICBpZiAoIWVhcmx5RGF0ZSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBpc1N0aWxsRWFybHlBY2Nlc3MgPyBuZXcgRGF0ZSgpIDogcmVsZWFzZURhdGU7CiAgICAgICAgICAgICAgICBpZiAoIWVuZERhdGUpIHJldHVybjsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gY2FsY3VsYXRlRHVyYXRpb24oZWFybHlEYXRlLCBlbmREYXRlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvQm94ID0gY3JlYXRlSW5mb0JveChkdXJhdGlvbiwgIWlzU3RpbGxFYXJseUFjY2Vzcyk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVfaGVhZGVyX2ltYWdlX2N0bicpPy5hcHBlbmRDaGlsZChpbmZvQm94KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFYXJseSBhY2Nlc3MgZGF0ZSBjYWxjdWxhdGlvbiBlcnJvcjonLCBlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIG1haW4oKTsKICAgICAgICB9KSgpOwogICAgfQoKICAgIC8vINCh0LrRgNC40L/RgiDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyDQuNCz0YDRiyAo0JDQvdCw0LvQuNC30LDRgtC+0YAg0YbQtdC9OyDRhtC10L3QsCDQoNCkIHZzINGA0LXQutC+0LzQtdC90LTQvtCy0LDQvdC90LDRjzsg0YDQtdC50YLQuNC90LMg0YbQtdC9KSB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvKgogICAgaWYgKHNjcmlwdHNDb25maWcuUnVSZWdpb25hbFByaWNlQW5hbHl6ZXIgJiYgdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvYXBwLycpKSB7CiAgICAgICAgKGZ1bmN0aW9uIHJlZ2lvbmFsUHJpY2VBbmFseXplcigpIHsKICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgICAgICAgbGV0IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPSAnUlVCJzsKICAgICAgICAgICAgbGV0IHJwYV9oaWRlVXNkU3dpdGNoV2FybmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdycGFfaGlkZV91c2Rfc3dpdGNoX3dhcm5pbmcnKSA9PT0gJ3RydWUnOwoKICAgICAgICAgICAgY29uc3QgdXNlclByb3ZpZGVkUmVnaW9uc1JVID0gewogICAgICAgICAgICAgICAgJ1VTJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQlNC+0LvQu9Cw0YAg0KHQqNCQJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3VzZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnRVUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CV0LLRgNC+JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2V1cicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQVInOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cb0LDRgi4g0JDQvC4gLSDQlNC+0LvQu9Cw0YAg0KHQqNCQJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3VzZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQVUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CQ0LLRgdGC0YDQsNC70LjQudGB0LrQuNC5INC00L7Qu9C70LDRgCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnYXVkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdCUic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JHRgNCw0LfQuNC70YzRgdC60LjQuSDRgNC10LDQuycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNywKICAgICAgICAgICAgICAgICAgICBpc286ICdicmwnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0dCJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQkdGA0LjRgtCw0L3RgdC60LjQuSDRhNGD0L3RgicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdnYnAnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtCw0L3QsNC00YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjYWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQp9C40LvQuNC50YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NscCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ04nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ca0LjRgtCw0LnRgdC60LjQuSDRjtCw0L3RjCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjMsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnY255JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdBWic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KHQndCTIC0g0JTQvtC70LvQsNGAINCh0KjQkCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NPJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtC+0LvRg9C80LHQuNC50YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI3LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NvcCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ1InOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ca0L7RgdGC0LAt0YDQuNC60LDQvdGB0LrQuNC5INC60L7Qu9C+0L0nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NyYycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnSEsnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CT0L7QvdC60L7QvdCz0YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyOSwKICAgICAgICAgICAgICAgICAgICBpc286ICdoa2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0lOJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmNC90LTQuNC50YHQutCw0Y8g0YDRg9C/0LjRjycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjQsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnaW5yJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdJRCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JjQvdC00L7QvdC10LfQuNC50YHQutCw0Y8g0YDRg9C/0LjRjycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTAsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnaWRyJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdJTCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JjQt9GA0LDQuNC70YzRgdC60LjQuSDQvdC+0LLRi9C5INGI0LXQutC10LvRjCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMzUsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnaWxzJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdKUCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0K/Qv9C+0L3RgdC60LDRjyDQuNC10L3QsCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogOCwKICAgICAgICAgICAgICAgICAgICBpc286ICdqcHknCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0taJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtCw0LfQsNGF0YHRgtCw0L3RgdC60LjQuSDRgtC10L3Qs9C1JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzNywKICAgICAgICAgICAgICAgICAgICBpc286ICdrenQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0tXJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtGD0LLQtdC50YLRgdC60LjQuSDQtNC40L3QsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzOCwKICAgICAgICAgICAgICAgICAgICBpc286ICdrd2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ01ZJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQnNCw0LvQsNC30LjQudGB0LrQuNC5INGA0LjQvdCz0LPQuNGCJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMSwKICAgICAgICAgICAgICAgICAgICBpc286ICdteXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ01YJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQnNC10LrRgdC40LrQsNC90YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ214bicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnTlonOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cd0L7QstC+0LfQtdC70LDQvdC00YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMiwKICAgICAgICAgICAgICAgICAgICBpc286ICduemQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ05PJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQndC+0YDQstC10LbRgdC60LDRjyDQutGA0L7QvdCwJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ25vaycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUEUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cf0LXRgNGD0LDQvdGB0LrQuNC5INGB0L7Qu9GMJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwZW4nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1BIJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQpNC40LvQuNC/0L/QuNC90YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEyLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3BocCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUEwnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cf0L7Qu9GM0YHQutC40Lkg0LfQu9C+0YLRi9C5JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA2LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3BsbicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUUEnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ca0LDRgtCw0YDRgdC60LjQuSDRgNC40LDQuycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMzksCiAgICAgICAgICAgICAgICAgICAgaXNvOiAncWFyJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdSVSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KDQvtGB0YHQuNC50YHQutC40Lkg0YDRg9Cx0LvRjCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNSwKICAgICAgICAgICAgICAgICAgICBpc286ICdydWInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1NBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQodCw0YPQtNC+0LLRgdC60LjQuSDRgNC40LDQuycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMzEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnc2FyJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdTRyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KHQuNC90LPQsNC/0YPRgNGB0LrQuNC5INC00L7Qu9C70LDRgCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTMsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnc2dkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdaQSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0K7QttC90L7QsNGE0YDQuNC60LDQvdGB0LrQuNC5INGA0Y3QvdC0JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyOCwKICAgICAgICAgICAgICAgICAgICBpc286ICd6YXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1BLJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQrtC2LiDQkNC30LjRjyAtINCU0L7Qu9C70LDRgCDQodCo0JAnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXNkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdLUic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0K7QttC90L7QutC+0YDQtdC50YHQutCw0Y8g0LLQvtC90LAnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE2LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2tydycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ0gnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Co0LLQtdC50YbQsNGA0YHQutC40Lkg0YTRgNCw0L3QuicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjaGYnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1RXJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQotCw0LnQstCw0L3RjNGB0LrQuNC5INC00L7Qu9C70LDRgCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMzAsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndHdkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdUSCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KLQsNC50YHQutC40Lkg0LHQsNGCJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxNCwKICAgICAgICAgICAgICAgICAgICBpc286ICd0aGInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1RSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdNRU5BIC0g0JTQvtC70LvQsNGAINCh0KjQkCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0FFJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQlNC40YDRhdCw0Lwg0J7QkNCtJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdhZWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1VBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQo9C60YDQsNC40L3RgdC60LDRjyDQs9GA0LjQstC90LAnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE4LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3VhaCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVVknOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cj0YDRg9Cz0LLQsNC50YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDQxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3V5dScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVk4nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CS0YzQtdGC0L3QsNC80YHQutC40Lkg0LTQvtC90LMnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3ZuZCcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3QgdXNlclByb3ZpZGVkUmVnaW9uc0VOID0gewogICAgICAgICAgICAgICAgJ1VTJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVbml0ZWQgU3RhdGVzIERvbGxhcicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0VVJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFdXJvJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2V1cicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQVInOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0xhdGluIEFtZXJpY2EgLSBVU0QnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXNkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdBVSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQXVzdHJhbGlhbiBEb2xsYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDIxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2F1ZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQlInOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0JyYXppbGlhbiBSZWFsJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA3LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2JybCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnR0InOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0JyaXRpc2ggUG91bmQnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDIsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnZ2JwJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdDQSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ2FuYWRpYW4gRG9sbGFyJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjYWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDaGlsZWFuIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NscCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ04nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0NoaW5lc2UgWXVhbiBSZW5taW5iaScsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjMsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnY255JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdBWic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ0lTIC0gVVNEJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3VzZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ08nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0NvbG9tYmlhbiBQZXNvJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNywKICAgICAgICAgICAgICAgICAgICBpc286ICdjb3AnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDb3N0YSBSaWNhbiBDb2xvbicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnY3JjJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdISyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSG9uZyBLb25nIERvbGxhcicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjksCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnaGtkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdJTic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSW5kaWFuIFJ1cGVlJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNCwKICAgICAgICAgICAgICAgICAgICBpc286ICdpbnInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0lEJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdJbmRvbmVzaWFuIFJ1cGlhaCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTAsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnaWRyJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdJTCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSXNyYWVsaSBOZXcgU2hla2VsJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzNSwKICAgICAgICAgICAgICAgICAgICBpc286ICdpbHMnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0pQJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdKYXBhbmVzZSBZZW4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDgsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnanB5JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdLWic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnS2F6YWtoc3RhbmkgVGVuZ2UnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDM3LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2t6dCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnS1cnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0t1d2FpdGkgRGluYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDM4LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2t3ZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnTVknOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01hbGF5c2lhbiBSaW5nZ2l0JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMSwKICAgICAgICAgICAgICAgICAgICBpc286ICdteXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ01YJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdNZXhpY2FuIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ214bicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnTlonOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ05ldyBaZWFsYW5kIERvbGxhcicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjIsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnbnpkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdOTyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTm9yd2VnaWFuIEtyb25lJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ25vaycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUEUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1BlcnV2aWFuIFNvbCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjYsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAncGVuJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdQSCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUGhpbGlwcGluZSBQZXNvJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwaHAnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1BMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdQb2xpc2ggWmxvdHknLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDYsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAncGxuJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdRQSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUWF0YXJpIFJpeWFsJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzOSwKICAgICAgICAgICAgICAgICAgICBpc286ICdxYXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1JVJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdSdXNzaWFuIFJ1YmxlJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3J1YicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnU0EnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NhdWRpIFJpeWFsJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMSwKICAgICAgICAgICAgICAgICAgICBpc286ICdzYXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1NHJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTaW5nYXBvcmUgRG9sbGFyJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMywKICAgICAgICAgICAgICAgICAgICBpc286ICdzZ2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1pBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTb3V0aCBBZnJpY2FuIFJhbmQnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI4LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3phcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUEsnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NvdXRoIEFzaWEgLSBVU0QnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXNkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdLUic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU291dGggS29yZWFuIFdvbicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTYsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAna3J3JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdDSCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU3dpc3MgRnJhbmMnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDQsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnY2hmJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdUVyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTmV3IFRhaXdhbiBEb2xsYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDMwLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3R3ZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVEgnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1RoYWkgQmFodCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTQsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndGhiJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdUUic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTUVOQSAtIFVTRCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0FFJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVQUUgRGlyaGFtJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdhZWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1VBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVa3JhaW5pYW4gSHJ5dm5pYScsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTgsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndWFoJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdVWSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVXJ1Z3VheWFuIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDQxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3V5dScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVk4nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1ZpZXRuYW1lc2UgRG9uZycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTUsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndm5kJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgUlBBX0NPTkZJRyA9IHsKICAgICAgICAgICAgICAgIHJlZ2lvbnM6IFtdLAogICAgICAgICAgICAgICAgY3VycmVuY3lBcGlVcmw6ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BmYXdhemFobWVkMC9jdXJyZW5jeS1hcGlAbGF0ZXN0L3YxL2N1cnJlbmNpZXMvJywKICAgICAgICAgICAgICAgIHN0ZWFtQXBpVXJsOiAnaHR0cHM6Ly9hcGkuc3RlYW1wb3dlcmVkLmNvbS9JU3RvcmVCcm93c2VTZXJ2aWNlL0dldEl0ZW1zL3YxLycsCiAgICAgICAgICAgICAgICBwcmlvckJ1dHRvblRleHQ6ICcnLAogICAgICAgICAgICAgICAgbW9kYWxUaXRsZTogJycsCiAgICAgICAgICAgICAgICBmZXRjaEJ1dHRvblRleHQ6ICcnLAogICAgICAgICAgICAgICAgZGVsYXlCZXR3ZWVuQmF0Y2hlczogMzAwLAogICAgICAgICAgICAgICAgYmF0Y2hTaXplOiAxMCwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIHJwYV91cGRhdGVUZXh0c0FuZFJlZ2lvbk5hbWVzKCkgewogICAgICAgICAgICAgICAgY29uc3QgaXNVU0RNb2RlID0gcnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCc7CiAgICAgICAgICAgICAgICBSUEFfQ09ORklHLnByaW9yQnV0dG9uVGV4dCA9IGlzVVNETW9kZSA/ICdQcmljZSBBbmFseXplcicgOiAn0JDQvdCw0LvQuNC30LDRgtC+0YAg0YbQtdC9JzsKICAgICAgICAgICAgICAgIFJQQV9DT05GSUcubW9kYWxUaXRsZSA9IGlzVVNETW9kZSA/ICdSZWdpb25hbCBQcmljZSBBbmFseXplcicgOiAn0JDQvdCw0LvQuNC30LDRgtC+0YAg0YbQtdC9JzsKICAgICAgICAgICAgICAgIFJQQV9DT05GSUcuZmV0Y2hCdXR0b25UZXh0ID0gaXNVU0RNb2RlID8gJ0ZldGNoIERhdGEnIDogJ9Ch0LHQvtGAINC00LDQvdC90YvRhSc7CgogICAgICAgICAgICAgICAgY29uc3Qgc291cmNlUmVnaW9ucyA9IGlzVVNETW9kZSA/IHVzZXJQcm92aWRlZFJlZ2lvbnNFTiA6IHVzZXJQcm92aWRlZFJlZ2lvbnNSVTsKICAgICAgICAgICAgICAgIFJQQV9DT05GSUcucmVnaW9ucyA9IE9iamVjdC5lbnRyaWVzKHNvdXJjZVJlZ2lvbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoewogICAgICAgICAgICAgICAgICAgIGNjOiBrZXkgPT09ICdFVScgPyAnREUnIDoga2V5LAogICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lBcGlDb2RlOiB2YWx1ZS5pc28udG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICAgICAgICBzdGVhbUN1cnJlbmN5SWQ6IHZhbHVlLmNvZGUKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICBpZiAocnBhX3ByaW9yQnV0dG9uKSBycGFfcHJpb3JCdXR0b24udGV4dENvbnRlbnQgPSBSUEFfQ09ORklHLnByaW9yQnV0dG9uVGV4dDsKICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsVGl0bGVFbCA9IHJwYV9tb2RhbCA/IHJwYV9tb2RhbC5xdWVyeVNlbGVjdG9yKCcjcnBhSGVhZGVyQmFyIGgzJykgOiBudWxsOwogICAgICAgICAgICAgICAgaWYgKG1vZGFsVGl0bGVFbCkgbW9kYWxUaXRsZUVsLnRleHRDb250ZW50ID0gUlBBX0NPTkZJRy5tb2RhbFRpdGxlOwogICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hCdG5FbCA9IHJwYV9tb2RhbCA/IHJwYV9tb2RhbC5xdWVyeVNlbGVjdG9yKCcjcnBhRmV0Y2hEYXRhQnV0dG9uJykgOiBudWxsOwogICAgICAgICAgICAgICAgaWYgKGZldGNoQnRuRWwpIGZldGNoQnRuRWwudGV4dENvbnRlbnQgPSBSUEFfQ09ORklHLmZldGNoQnV0dG9uVGV4dDsKICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RlVG9nZ2xlQnV0dG9uVGV4dCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgcnBhX2V4Y2hhbmdlUmF0ZXMgPSB7fTsKICAgICAgICAgICAgbGV0IHJwYV9tb2RhbCA9IG51bGw7CiAgICAgICAgICAgIGxldCBycGFfcHJpb3JCdXR0b24gPSBudWxsOwogICAgICAgICAgICBsZXQgcnBhX2N1cnJlbnRBcHBJZCA9IG51bGw7CiAgICAgICAgICAgIGxldCBycGFfY3VycmVudEdhbWVOYW1lID0gJyc7CiAgICAgICAgICAgIGxldCBycGFfcHJvZ3Jlc3NCYXJGaWxsID0gbnVsbDsKICAgICAgICAgICAgbGV0IHJwYV9mZXRjaENvbnRyb2xsZXIgPSBudWxsOwogICAgICAgICAgICBsZXQgcnBhX21vZGVUb2dnbGVCdXR0b24gPSBudWxsOwoKICAgICAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlUmVjb21tZW5kZWRSdWJQcmljZShwVVNEKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBVU0QgIT09ICdudW1iZXInIHx8IGlzTmFOKHBVU0QpKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIGlmIChwVVNEIDwgMC45OSkgcmV0dXJuIDQyOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMC45OSAmJiBwVVNEIDwgMS45OSkgcmV0dXJuIDQyOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMS45OSAmJiBwVVNEIDwgMi45OSkgcmV0dXJuIDgyOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMi45OSAmJiBwVVNEIDwgMy45OSkgcmV0dXJuIDEyNTsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDMuOTkgJiYgcFVTRCA8IDQuOTkpIHJldHVybiAxNjU7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA0Ljk5ICYmIHBVU0QgPCA1Ljk5KSByZXR1cm4gMjAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNS45OSAmJiBwVVNEIDwgNi45OSkgcmV0dXJuIDI0MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDYuOTkgJiYgcFVTRCA8IDcuOTkpIHJldHVybiAyODA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA3Ljk5ICYmIHBVU0QgPCA4Ljk5KSByZXR1cm4gMzIwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gOC45OSAmJiBwVVNEIDwgOS45OSkgcmV0dXJuIDM1MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDkuOTkgJiYgcFVTRCA8IDEwLjk5KSByZXR1cm4gMzg1OwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTAuOTkgJiYgcFVTRCA8IDExLjk5KSByZXR1cm4gNDIwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTEuOTkgJiYgcFVTRCA8IDEyLjk5KSByZXR1cm4gNDYwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTIuOTkgJiYgcFVTRCA8IDEzLjk5KSByZXR1cm4gNDkwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTMuOTkgJiYgcFVTRCA8IDE0Ljk5KSByZXR1cm4gNTIwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTQuOTkgJiYgcFVTRCA8IDE1Ljk5KSByZXR1cm4gNTUwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTUuOTkgJiYgcFVTRCA8IDE2Ljk5KSByZXR1cm4gNTkwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTYuOTkgJiYgcFVTRCA8IDE3Ljk5KSByZXR1cm4gNjIwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTcuOTkgJiYgcFVTRCA8IDE4Ljk5KSByZXR1cm4gNjUwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTguOTkgJiYgcFVTRCA8IDE5Ljk5KSByZXR1cm4gNjgwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTkuOTkgJiYgcFVTRCA8IDIyLjk5KSByZXR1cm4gNzEwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMjIuOTkgJiYgcFVTRCA8IDI3Ljk5KSByZXR1cm4gODgwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMjcuOTkgJiYgcFVTRCA8IDMyLjk5KSByZXR1cm4gMTEwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDMyLjk5ICYmIHBVU0QgPCAzNy45OSkgcmV0dXJuIDEyMDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSAzNy45OSAmJiBwVVNEIDwgNDMuOTkpIHJldHVybiAxMzAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNDMuOTkgJiYgcFVTRCA8IDQ3Ljk5KSByZXR1cm4gMTUwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDQ3Ljk5ICYmIHBVU0QgPCA1Mi45OSkgcmV0dXJuIDE2MDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA1Mi45OSAmJiBwVVNEIDwgNTcuOTkpIHJldHVybiAxNzUwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNTcuOTkgJiYgcFVTRCA8IDYzLjk5KSByZXR1cm4gMTkwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDYzLjk5ICYmIHBVU0QgPCA2Ny45OSkgcmV0dXJuIDIxMDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA2Ny45OSAmJiBwVVNEIDwgNzQuOTkpIHJldHVybiAyMjUwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNzQuOTkgJiYgcFVTRCA8IDc5Ljk5KSByZXR1cm4gMjQwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDc5Ljk5ICYmIHBVU0QgPCA4NC45OSkgcmV0dXJuIDI2MDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA4NC45OSAmJiBwVVNEIDwgODkuOTkpIHJldHVybiAyNzAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gODkuOTkgJiYgcFVTRCA8IDk5Ljk5KSByZXR1cm4gMjkwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDk5Ljk5ICYmIHBVU0QgPCAxMDkuOTkpIHJldHVybiAzMjAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTA5Ljk5ICYmIHBVU0QgPCAxMTkuOTkpIHJldHVybiAzNTUwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTE5Ljk5ICYmIHBVU0QgPCAxMjkuOTkpIHJldHVybiAzOTAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTI5Ljk5ICYmIHBVU0QgPCAxMzkuOTkpIHJldHVybiA0MjAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTM5Ljk5ICYmIHBVU0QgPCAxNDkuOTkpIHJldHVybiA0NTAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTQ5Ljk5ICYmIHBVU0QgPCAxOTkuOTkpIHJldHVybiA0ODAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMTk5Ljk5KSByZXR1cm4gNjUwMDsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBycGFfZ2V0QXBwSWRGcm9tVXJsKCkgewogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvYXBwXC8oXGQrKS8pOwogICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBycGFfZmV0Y2hFeGNoYW5nZVJhdGVzKGJhc2VDdXJyZW5jeSA9ICd1c2QnLCBzaWduYWwpIHsKICAgICAgICAgICAgICAgIGJhc2VDdXJyZW5jeSA9IGJhc2VDdXJyZW5jeS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgaWYgKHJwYV9leGNoYW5nZVJhdGVzW2Jhc2VDdXJyZW5jeV0gJiYgT2JqZWN0LmtleXMocnBhX2V4Y2hhbmdlUmF0ZXNbYmFzZUN1cnJlbmN5XSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBycGFfZXhjaGFuZ2VSYXRlc1tiYXNlQ3VycmVuY3ldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGJhc2VDdXJyZW5jeSA9PT0gJ3J1YicgJiYgIXJwYV9leGNoYW5nZVJhdGVzWydydWInXSkgcnBhX2V4Y2hhbmdlUmF0ZXNbJ3J1YiddID0ge307CiAgICAgICAgICAgICAgICBpZiAoYmFzZUN1cnJlbmN5ID09PSAncnViJyAmJiBycGFfZXhjaGFuZ2VSYXRlc1sncnViJ11bJ3J1YiddID09PSAxKSByZXR1cm4gcnBhX2V4Y2hhbmdlUmF0ZXNbJ3J1YiddOwogICAgICAgICAgICAgICAgaWYgKGJhc2VDdXJyZW5jeSA9PT0gJ3VzZCcgJiYgIXJwYV9leGNoYW5nZVJhdGVzWyd1c2QnXSkgcnBhX2V4Y2hhbmdlUmF0ZXNbJ3VzZCddID0ge307CiAgICAgICAgICAgICAgICBpZiAoYmFzZUN1cnJlbmN5ID09PSAndXNkJyAmJiBycGFfZXhjaGFuZ2VSYXRlc1sndXNkJ11bJ3VzZCddID09PSAxICYmIE9iamVjdC5rZXlzKHJwYV9leGNoYW5nZVJhdGVzWyd1c2QnXSkubGVuZ3RoID4gMSkgcmV0dXJuIHJwYV9leGNoYW5nZVJhdGVzWyd1c2QnXTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4aHIgPSBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtSUEFfQ09ORklHLmN1cnJlbmN5QXBpVXJsfSR7YmFzZUN1cnJlbmN5fS5qc29uYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDgwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPj0gMjAwICYmIHJlc3Auc3RhdHVzIDwgNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UocmVzcC5yZXNwb25zZVRleHQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgSlNPTiBQYXJzZSBlcnJvciBmb3IgJHtiYXNlQ3VycmVuY3l9OiAke2UubWVzc2FnZX1gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBDdXJyZW5jeSBBUEkgZXJyb3I6ICR7cmVzcC5zdGF0dXN9IGZvciAke2Jhc2VDdXJyZW5jeX1gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnIpID0+IHJlamVjdChuZXcgRXJyb3IoYE5ldHdvcmsgZXJyb3IgZm9yICR7YmFzZUN1cnJlbmN5fTogJHtlcnJ9YCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKGBDdXJyZW5jeSBBUEkgdGltZW91dCBmb3IgJHtiYXNlQ3VycmVuY3l9YCkpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ1JlcXVlc3QgYWJvcnRlZCcsICdBYm9ydEVycm9yJykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBycGFfZXhjaGFuZ2VSYXRlc1tiYXNlQ3VycmVuY3ldID0gcmVzcG9uc2VbYmFzZUN1cnJlbmN5XSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICBycGFfZXhjaGFuZ2VSYXRlc1tiYXNlQ3VycmVuY3ldW2Jhc2VDdXJyZW5jeV0gPSAxOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBycGFfZXhjaGFuZ2VSYXRlc1tiYXNlQ3VycmVuY3ldOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUlBBXSBFeGNoYW5nZSByYXRlIHJlcXVlc3QgZm9yICR7YmFzZUN1cnJlbmN5fSBhYm9ydGVkLmApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtSUEFdIEVycm9yIGZldGNoaW5nIGV4Y2hhbmdlIHJhdGVzIGZvciAke2Jhc2VDdXJyZW5jeX06YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcnBhX2dldFByaWNlSW5DZW50cyhwdXJjaGFzZU9wdGlvbikgewogICAgICAgICAgICAgICAgaWYgKHB1cmNoYXNlT3B0aW9uICYmIHB1cmNoYXNlT3B0aW9uLmRpc2NvdW50X3BjdCA+IDAgJiYgcHVyY2hhc2VPcHRpb24ub3JpZ2luYWxfcHJpY2VfaW5fY2VudHMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocHVyY2hhc2VPcHRpb24ub3JpZ2luYWxfcHJpY2VfaW5fY2VudHMsIDEwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwdXJjaGFzZU9wdGlvbiAmJiBwdXJjaGFzZU9wdGlvbi5maW5hbF9wcmljZV9pbl9jZW50cykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChwdXJjaGFzZU9wdGlvbi5maW5hbF9wcmljZV9pbl9jZW50cywgMTApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJwYV9nZXREaXNwbGF5Rm9ybWF0dGVkUHJpY2UocHVyY2hhc2VPcHRpb24pIHsKICAgICAgICAgICAgICAgIGlmIChwdXJjaGFzZU9wdGlvbikgewogICAgICAgICAgICAgICAgICAgIGlmIChwdXJjaGFzZU9wdGlvbi5kaXNjb3VudF9wY3QgPiAwICYmIHB1cmNoYXNlT3B0aW9uLmZvcm1hdHRlZF9vcmlnaW5hbF9wcmljZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVyY2hhc2VPcHRpb24uZm9ybWF0dGVkX29yaWdpbmFsX3ByaWNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocHVyY2hhc2VPcHRpb24uZm9ybWF0dGVkX2ZpbmFsX3ByaWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwdXJjaGFzZU9wdGlvbi5mb3JtYXR0ZWRfZmluYWxfcHJpY2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuICdOL0EnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBycGFfZmV0Y2hJdGVtRGF0YShhcHBpZCwgY291bnRyeUNvZGUsIHNpZ25hbCkgewogICAgICAgICAgICAgICAgY29uc3QgbGFuZyA9IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ2VuZ2xpc2gnIDogJ3J1c3NpYW4nOwogICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7UlBBX0NPTkZJRy5zdGVhbUFwaVVybH0/aW5wdXRfanNvbj0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgImlkcyI6IFt7ICJhcHBpZCI6IHBhcnNlSW50KGFwcGlkKSB9XSwKICAgICAgICAgICAgICAgICAgICAiY29udGV4dCI6IHsgImNvdW50cnlfY29kZSI6IGNvdW50cnlDb2RlLCAic3RlYW1fcmVhbG0iOiAxLCAibGFuZ3VhZ2UiOiBsYW5nIH0sCiAgICAgICAgICAgICAgICAgICAgImRhdGFfcmVxdWVzdCI6IHsgImluY2x1ZGVfYWxsX3B1cmNoYXNlX29wdGlvbnMiOiB0cnVlLCAiaW5jbHVkZV9iYXNpY19pbmZvIjogdHJ1ZSB9CiAgICAgICAgICAgICAgICB9KSl9YDsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeGhyID0gR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTUwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlICYmIGRhdGEucmVzcG9uc2Uuc3RvcmVfaXRlbXMgJiYgZGF0YS5yZXNwb25zZS5zdG9yZV9pdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEucmVzcG9uc2Uuc3RvcmVfaXRlbXNbMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFN0ZWFtIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9IGZvciAke2NvdW50cnlDb2RlfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRXJyb3IgcGFyc2luZyBTdGVhbSBBUEkgcmVzcG9uc2UgZm9yICR7Y291bnRyeUNvZGV9OiAke2UubWVzc2FnZX1gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnIpID0+IHJlamVjdChuZXcgRXJyb3IoYE5ldHdvcmsgZXJyb3IgZm9yICR7Y291bnRyeUNvZGV9OiAke2Vyci50b1N0cmluZygpfWApKSwKICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKGBUaW1lb3V0IGZvciAke2NvdW50cnlDb2RlfWApKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignUmVxdWVzdCBhYm9ydGVkJywgJ0Fib3J0RXJyb3InKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBycGFfYWRkUHJpb3JCdXR0b24oKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYVByaW9yQnV0dG9uJykpIHJldHVybjsKICAgICAgICAgICAgICAgIGxldCB0YXJnZXRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVfYXJlYV9wdXJjaGFzZV9nYW1lX3dyYXBwZXInKTsKICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0V3JhcHBlcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGFsbFB1cmNoYXNlV3JhcHBlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FtZV9hcmVhX3B1cmNoYXNlX2dhbWVfd3JhcHBlcicpOwogICAgICAgICAgICAgICAgZm9yIChsZXQgd3JhcHBlciBvZiBhbGxQdXJjaGFzZVdyYXBwZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdyYXBwZXIucXVlcnlTZWxlY3RvcignLmdhbWVfcHVyY2hhc2VfYWN0aW9uIC5wcmljZSwgLmdhbWVfcHVyY2hhc2VfYWN0aW9uIC5kaXNjb3VudF9ibG9jaycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFdyYXBwZXIgPSB3cmFwcGVyOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBycGFfcHJpb3JCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIHJwYV9wcmlvckJ1dHRvbi5pZCA9ICdycGFQcmlvckJ1dHRvbic7CiAgICAgICAgICAgICAgICBycGFfcHJpb3JCdXR0b24udGV4dENvbnRlbnQgPSBSUEFfQ09ORklHLnByaW9yQnV0dG9uVGV4dDsKICAgICAgICAgICAgICAgIHJwYV9wcmlvckJ1dHRvbi5jbGFzc05hbWUgPSAnYnRudjZfYmx1ZV9ob3ZlcmZhZGUgYnRuX21lZGl1bSc7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHJwYV9wcmlvckJ1dHRvbi5zdHlsZSwgewogICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCcsCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCcsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMzJweCcsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzAgMTVweCcsCiAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzMycHgnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJwYV9wcmlvckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJwYV9vcGVuTW9kYWwpOwogICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQocnBhX3ByaW9yQnV0dG9uKTsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXRXcmFwcGVyLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXRXcmFwcGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJ1dHRvbkNvbnRhaW5lciwgdGFyZ2V0V3JhcHBlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJwYV91cGRhdGVNb2RlVG9nZ2xlQnV0dG9uVGV4dCgpIHsKICAgICAgICAgICAgICAgIGlmICghcnBhX21vZGVUb2dnbGVCdXR0b24pIHJldHVybjsKICAgICAgICAgICAgICAgIGlmIChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJykgewogICAgICAgICAgICAgICAgICAgIHJwYV9tb2RlVG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gJ1JVQic7CiAgICAgICAgICAgICAgICAgICAgcnBhX21vZGVUb2dnbGVCdXR0b24udGl0bGUgPSAn0JLQtdGA0L3Rg9GC0YzRgdGPINCyINGA0LXQttC40Lwg0YDRg9Cx0LvQtdC5Pyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJwYV9tb2RlVG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gJ1VTRCc7CiAgICAgICAgICAgICAgICAgICAgcnBhX21vZGVUb2dnbGVCdXR0b24udGl0bGUgPSAn0J/QtdGA0LXQutC70Y7Rh9C40YLRjNGB0Y8g0L3QsCDRgNC10LbQuNC8INC00L7Qu9C70LDRgNC+0LI/JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcnBhX2hhbmRsZU1vZGVUb2dnbGUoKSB7CiAgICAgICAgICAgICAgICBpZiAocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1JVQicpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocnBhX2hpZGVVc2RTd2l0Y2hXYXJuaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJwYV9zd2l0Y2hUb1VzZE1vZGUoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBycGFfc2hvd1VzZFN3aXRjaENvbmZpcm1hdGlvbigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcnBhX3N3aXRjaFRvUnViTW9kZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBycGFfc3dpdGNoVG9Vc2RNb2RlKCkgewogICAgICAgICAgICAgICAgcnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9ICdVU0QnOwogICAgICAgICAgICAgICAgcnBhX3VwZGF0ZVRleHRzQW5kUmVnaW9uTmFtZXMoKTsKICAgICAgICAgICAgICAgIGlmIChycGFfbW9kYWwgJiYgcnBhX21vZGFsLnN0eWxlLmRpc3BsYXkgPT09ICdmbGV4JykgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycGFTdW1tYXJ5RGl2JykuaW5uZXJIVE1MID0gYDxwPkNsaWNrICJGZXRjaCBEYXRhIiB0byBiZWdpbi48L3A+YDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnBhUmVzdWx0c0RpdicpLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cygnQ2xpY2sgIkZldGNoIERhdGEiIHRvIHN0YXJ0IGFuYWx5c2lzLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcnBhX3VwZGF0ZU1vZGVUb2dnbGVCdXR0b25UZXh0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJwYV9zd2l0Y2hUb1J1Yk1vZGUoKSB7CiAgICAgICAgICAgICAgICBycGFfY3VycmVudERpc3BsYXlNb2RlID0gJ1JVQic7CiAgICAgICAgICAgICAgICBycGFfdXBkYXRlVGV4dHNBbmRSZWdpb25OYW1lcygpOwogICAgICAgICAgICAgICAgaWYgKHJwYV9tb2RhbCAmJiBycGFfbW9kYWwuc3R5bGUuZGlzcGxheSA9PT0gJ2ZsZXgnKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYVN1bW1hcnlEaXYnKS5pbm5lckhUTUwgPSAnPHA+0J3QsNC20LzQuNGC0LUgItCh0LHQvtGAINC00LDQvdC90YvRhSIg0LTQu9GPINC90LDRh9Cw0LvQsC48L3A+JzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnBhUmVzdWx0c0RpdicpLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cygn0J3QsNC20LzQuNGC0LUgItCh0LHQvtGAINC00LDQvdC90YvRhSIg0LTQu9GPINC90LDRh9Cw0LvQsCDQsNC90LDQu9C40LfQsC4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RlVG9nZ2xlQnV0dG9uVGV4dCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBycGFfc2hvd1VzZFN3aXRjaENvbmZpcm1hdGlvbigpIHsKICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ0RpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycGFVc2RDb25maXJtRGlhbG9nJyk7CiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdEaWFsb2cpIGV4aXN0aW5nRGlhbG9nLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZGlhbG9nLmlkID0gJ3JwYVVzZENvbmZpcm1EaWFsb2cnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihkaWFsb2cuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJywKICAgICAgICAgICAgICAgICAgICB0b3A6ICc1MCUnLAogICAgICAgICAgICAgICAgICAgIGxlZnQ6ICc1MCUnLAogICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFiMjgzOCcsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYzZkNGRmJywKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjVweCcsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNXB4JywKICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDAgMjBweCByZ2JhKDAsMCwwLDAuNyknLAogICAgICAgICAgICAgICAgICAgIHpJbmRleDogJzEwMDAwNScsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMwMDAnLAogICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnNDUwcHgnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOwogICAgICAgICAgICAgICAgbWVzc2FnZS5pbm5lckhUTUwgPSAn0JLRiyDQv9C10YDQtdGF0L7QtNC40YLQtSDQsiDRgNC10LbQuNC8INC00L7Qu9C70LDRgNC+0LIuINCU0LDQvdC90YvQuSDRgNC10LbQuNC8INC/0YDQtdC00L3QsNC30L3QsNGH0LXQvSDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGG0LXQvSDQsiDQtNC+0LvQu9Cw0YDQsNGFINCh0KjQkCDQuCDQvNC+0LbQtdGCINCx0YvRgtGMINC/0L7Qu9C10LfQtdC9INC00LvRjyDQvtGG0LXQvdC60Lgg0YbQtdC90L7QstC+0Lkg0L/QvtC70LjRgtC40LrQuCDQv9GA0Lgg0L7QsdGJ0LXQvdC40Lgg0YEg0YDQsNC30YDQsNCx0L7RgtGH0LjQutCw0LzQuC/QuNC30LTQsNGC0LXQu9GP0LzQuC48YnI+PGJyPtCf0YDQvtC00L7Qu9C20LjRgtGMPyc7CiAgICAgICAgICAgICAgICBtZXNzYWdlLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JzsKICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3R5bGUubGluZUhlaWdodCA9ICcxLjYnOwoKICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjaGVja2JveENvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMjBweCc7CiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JzsKICAgICAgICAgICAgICAgIGNoZWNrYm94LmlkID0gJ3JwYURvbnRTaG93QWdhaW5Vc2QnOwogICAgICAgICAgICAgICAgY2hlY2tib3guc3R5bGUubWFyZ2luUmlnaHQgPSAnOHB4JzsKICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsKICAgICAgICAgICAgICAgIGxhYmVsLmh0bWxGb3IgPSAncnBhRG9udFNob3dBZ2FpblVzZCc7CiAgICAgICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9ICfQkdC+0LvRjNGI0LUg0L3QtSDQv9C+0LrQsNC30YvQstCw0YLRjCDRjdGC0L4g0YHQvtC+0LHRidC10L3QuNC1JzsKICAgICAgICAgICAgICAgIGNoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTsKICAgICAgICAgICAgICAgIGNoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsKTsKCiAgICAgICAgICAgICAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9ICdyaWdodCc7CgogICAgICAgICAgICAgICAgY29uc3QgeWVzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICB5ZXNCdXR0b24udGV4dENvbnRlbnQgPSAn0JTQsCc7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHllc0J1dHRvbi5zdHlsZSwgewogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTVweCcsCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4JywKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNzZiNzJhJywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJywKICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJywKICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLAogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHllc0J1dHRvbi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJwYV9oaWRlVXNkU3dpdGNoV2FybmluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdycGFfaGlkZV91c2Rfc3dpdGNoX3dhcm5pbmcnLCAndHJ1ZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBycGFfc3dpdGNoVG9Vc2RNb2RlKCk7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQntGC0LzQtdC90LAnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjYW5jZWxCdXR0b24uc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE1cHgnLAogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM1NTYwNmUnLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsCiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHllc0J1dHRvbik7CiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7CiAgICAgICAgICAgICAgICBkaWFsb2cuYXBwZW5kQ2hpbGQobWVzc2FnZSk7CiAgICAgICAgICAgICAgICBkaWFsb2cuYXBwZW5kQ2hpbGQoY2hlY2tib3hDb250YWluZXIpOwogICAgICAgICAgICAgICAgZGlhbG9nLmFwcGVuZENoaWxkKGJ1dHRvbnNDb250YWluZXIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaWFsb2cpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBycGFfY3JlYXRlTW9kYWwoKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYVJlZ2lvbmFsUHJpY2VNb2RhbCcpKSByZXR1cm47CiAgICAgICAgICAgICAgICBycGFfbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHJwYV9tb2RhbC5pZCA9ICdycGFSZWdpb25hbFByaWNlTW9kYWwnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihycGFfbW9kYWwuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJywKICAgICAgICAgICAgICAgICAgICB0b3A6ICcwJywKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMCcsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDB2dycsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLAogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjEsIDMzLCA0NSwgMC45ODUpJywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNjNmQ0ZGYnLAogICAgICAgICAgICAgICAgICAgIHpJbmRleDogJzEwMDAwMScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLAogICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLAogICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICciTW90aXZhIFNhbnMiLCBTYW5zLXNlcmlmLCBBcmlhbCcsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzAnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlckJhci5pZCA9ICdycGFIZWFkZXJCYXInOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihoZWFkZXJCYXIuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsCiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JywKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMTcyMDJkJywKICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgIzJhM2Y1YScsCiAgICAgICAgICAgICAgICAgICAgZmxleFNocmluazogJzAnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7CiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IFJQQV9DT05GSUcubW9kYWxUaXRsZTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGl0bGUuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwJywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM2N2MxZjUnLAogICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsCiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVOYW1lRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKICAgICAgICAgICAgICAgIGdhbWVOYW1lRGlzcGxheS5pZCA9ICdycGFHYW1lTmFtZURpc3BsYXknOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihnYW1lTmFtZURpc3BsYXkuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMCAyMHB4JywKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2U1ZTVlNScsCiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLAogICAgICAgICAgICAgICAgICAgIGZsZXhHcm93OiAnMScsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcnBhX21vZGVUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocnBhX21vZGVUb2dnbGVCdXR0b24uc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzRiNmY5YycsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMyYTNmNWEnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JywKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJywKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnLAogICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnMTVweCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcnBhX21vZGVUb2dnbGVCdXR0b24ub25tb3VzZW92ZXIgPSAoKSA9PiBycGFfbW9kZVRvZ2dsZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzY3YzFmNSc7CiAgICAgICAgICAgICAgICBycGFfbW9kZVRvZ2dsZUJ1dHRvbi5vbm1vdXNlb3V0ID0gKCkgPT4gcnBhX21vZGVUb2dnbGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM0YjZmOWMnOwogICAgICAgICAgICAgICAgcnBhX21vZGVUb2dnbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBycGFfaGFuZGxlTW9kZVRvZ2dsZSk7CiAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kZVRvZ2dsZUJ1dHRvblRleHQoKTsKCiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJyZ0aW1lczsnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjbG9zZUJ1dHRvbi5zdHlsZSwgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdub25lJywKICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM4Zjk4YTAnLAogICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzBweCcsCiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsCiAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEnLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwIDhweCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY2xvc2VCdXR0b24ub25tb3VzZW92ZXIgPSAoKSA9PiBjbG9zZUJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjZmZmJzsKICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uLm9ubW91c2VvdXQgPSAoKSA9PiBjbG9zZUJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjOGY5OGEwJzsKICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcnBhX2Nsb3NlTW9kYWwpOwoKICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0Q29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udHJvbHMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udHJvbHMuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOwogICAgICAgICAgICAgICAgcmlnaHRDb250cm9scy5hcHBlbmRDaGlsZChycGFfbW9kZVRvZ2dsZUJ1dHRvbik7CiAgICAgICAgICAgICAgICByaWdodENvbnRyb2xzLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTsKCiAgICAgICAgICAgICAgICBoZWFkZXJCYXIuYXBwZW5kQ2hpbGQodGl0bGUpOwogICAgICAgICAgICAgICAgaGVhZGVyQmFyLmFwcGVuZENoaWxkKGdhbWVOYW1lRGlzcGxheSk7CiAgICAgICAgICAgICAgICBoZWFkZXJCYXIuYXBwZW5kQ2hpbGQocmlnaHRDb250cm9scyk7CiAgICAgICAgICAgICAgICBycGFfbW9kYWwuYXBwZW5kQ2hpbGQoaGVhZGVyQmFyKTsKCiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY29udHJvbHNCYXIuaWQgPSAncnBhQ29udHJvbHNCYXInOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjb250cm9sc0Jhci5zdHlsZSwgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywKICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywKICAgICAgICAgICAgICAgICAgICBnYXA6ICcxNXB4JywKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JywKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWEyNDMwJywKICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgIzIzMzEzZicsCiAgICAgICAgICAgICAgICAgICAgZmxleFNocmluazogJzAnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgZmV0Y2hCdXR0b24udGV4dENvbnRlbnQgPSBSUEFfQ09ORklHLmZldGNoQnV0dG9uVGV4dDsKICAgICAgICAgICAgICAgIGZldGNoQnV0dG9uLmlkID0gJ3JwYUZldGNoRGF0YUJ1dHRvbic7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGZldGNoQnV0dG9uLnN0eWxlLCB7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAyMHB4JywKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNzZiNzJhJywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJywKICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzVjOWUxZicsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnM3B4JywKICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDFweCAzcHggcmdiYSgwLDAsMCwwLjIpJywKICAgICAgICAgICAgICAgICAgICB0ZXh0U2hhZG93OiAnMXB4IDFweCAwcHggcmdiYSgwLDAsMCwwLjMpJywKICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJywKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJywKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLAogICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6ICcxLjUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZldGNoQnV0dG9uLm9ubW91c2VvdmVyID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGZldGNoQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjODVjODNhJzsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmZXRjaEJ1dHRvbi5vbm1vdXNlb3V0ID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGZldGNoQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNzZiNzJhJzsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmZXRjaEJ1dHRvbi5vbm1vdXNlZG93biA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBmZXRjaEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzZhYTQyNCc7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZmV0Y2hCdXR0b24ub25tb3VzZXVwID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGZldGNoQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjODVjODNhJzsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBmZXRjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJwYV9oYW5kbGVGZXRjaERhdGEpOwogICAgICAgICAgICAgICAgY29udHJvbHNCYXIuYXBwZW5kQ2hpbGQoZmV0Y2hCdXR0b24pOwoKICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBwcm9ncmVzc0JhckNvbnRhaW5lci5pZCA9ICdycGFQcm9ncmVzc0JhckNvbnRhaW5lcic7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHByb2dyZXNzQmFyQ29udGFpbmVyLnN0eWxlLCB7CiAgICAgICAgICAgICAgICAgICAgZmxleEdyb3c6ICcxJywKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMHB4JywKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMmEzZjVhJywKICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1cHgnLAogICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcnBhX3Byb2dyZXNzQmFyRmlsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgcnBhX3Byb2dyZXNzQmFyRmlsbC5pZCA9ICdycGFQcm9ncmVzc0JhckZpbGwnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihycGFfcHJvZ3Jlc3NCYXJGaWxsLnN0eWxlLCB7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcwJScsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzY3YzFmNScsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNXB4JywKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnd2lkdGggMC4ycyBlYXNlLW91dCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXJDb250YWluZXIuYXBwZW5kQ2hpbGQocnBhX3Byb2dyZXNzQmFyRmlsbCk7CiAgICAgICAgICAgICAgICBjb250cm9sc0Jhci5hcHBlbmRDaGlsZChwcm9ncmVzc0JhckNvbnRhaW5lcik7CgogICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzdGF0dXNEaXYuaWQgPSAncnBhU3RhdHVzRGl2JzsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3RhdHVzRGl2LnN0eWxlLCB7CiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6ICcyNTBweCcsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAncmlnaHQnLAogICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjOGY5OGEwJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb250cm9sc0Jhci5hcHBlbmRDaGlsZChzdGF0dXNEaXYpOwogICAgICAgICAgICAgICAgcnBhX21vZGFsLmFwcGVuZENoaWxkKGNvbnRyb2xzQmFyKTsKCiAgICAgICAgICAgICAgICBjb25zdCBtYWluQ29udGVudFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIG1haW5Db250ZW50V3JhcHBlci5pZCA9ICdycGFNYWluQ29udGVudFdyYXBwZXInOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtYWluQ29udGVudFdyYXBwZXIuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsCiAgICAgICAgICAgICAgICAgICAgZmxleEdyb3c6ICcxJywKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzE1cHggMjBweCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRTaWRlYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBsZWZ0U2lkZWJhci5pZCA9ICdycGFMZWZ0U2lkZWJhcic7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGxlZnRTaWRlYmFyLnN0eWxlLCB7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcyODBweCcsCiAgICAgICAgICAgICAgICAgICAgZmxleFNocmluazogJzAnLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogJzE1cHgnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlclJpZ2h0OiAnMXB4IHNvbGlkICMyMzMxM2YnLAogICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAndGhpbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyQ29sb3I6ICcjNGI2ZjljICMxZTJjM2EnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxlZnRTaWRlYmFyLmlubmVySFRNTCA9IGA8c3R5bGU+CiAgICAgICAgICAgICAgICAgICAgI3JwYUxlZnRTaWRlYmFyOjotd2Via2l0LXNjcm9sbGJhciB7IHdpZHRoOiA2cHg7IH0KICAgICAgICAgICAgICAgICAgICAjcnBhTGVmdFNpZGViYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsgYmFja2dyb3VuZDogIzFlMmMzYTsgYm9yZGVyLXJhZGl1czogM3B4OyB9CiAgICAgICAgICAgICAgICAgICAgI3JwYUxlZnRTaWRlYmFyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7IGJhY2tncm91bmQtY29sb3I6ICM0YjZmOWM7IGJvcmRlci1yYWRpdXM6IDNweDsgfQogICAgICAgICAgICAgICAgICAgICNycGFMZWZ0U2lkZWJhciBoNCB7IGNvbG9yOiAjNjdjMWY1OyBmb250LXNpemU6IDE1cHg7IG1hcmdpbi10b3A6IDA7IG1hcmdpbi1ib3R0b206IDhweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyYTNmNWE7IHBhZGRpbmctYm90dG9tOiA1cHg7IH0KICAgICAgICAgICAgICAgICAgICAjcnBhTGVmdFNpZGViYXIgLnN1bW1hcnktaXRlbSB7IG1hcmdpbi1ib3R0b206IDEycHg7IH0KICAgICAgICAgICAgICAgICAgICAjcnBhTGVmdFNpZGViYXIgLnN1bW1hcnktbGFiZWwgeyBkaXNwbGF5OiBibG9jazsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjdjMWY1OyBtYXJnaW4tYm90dG9tOiAzcHg7IGZvbnQtc2l6ZTogMTNweDsgfQogICAgICAgICAgICAgICAgICAgICNycGFMZWZ0U2lkZWJhciAuc3VtbWFyeS12YWx1ZSB7IGRpc3BsYXk6IGJsb2NrOyBjb2xvcjogI2U1ZTVlNTsgZm9udC1zaXplOiAxNHB4OyB9CiAgICAgICAgICAgICAgICAgICAgI3JwYUxlZnRTaWRlYmFyIC5zdW1tYXJ5LXN1Yi12YWx1ZSB7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDExcHg7IG1hcmdpbi10b3A6IDJweDsgb3BhY2l0eTogMC44NTsgfQogICAgICAgICAgICAgICAgPC9zdHlsZT5gOwogICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc3VtbWFyeURpdi5pZCA9ICdycGFTdW1tYXJ5RGl2JzsKICAgICAgICAgICAgICAgIGxlZnRTaWRlYmFyLmFwcGVuZENoaWxkKHN1bW1hcnlEaXYpOwogICAgICAgICAgICAgICAgbWFpbkNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKGxlZnRTaWRlYmFyKTsKCiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzQXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgcmVzdWx0c0FyZWEuaWQgPSAncnBhUmVzdWx0c0FyZWEnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHRzQXJlYS5zdHlsZSwgewogICAgICAgICAgICAgICAgICAgIGZsZXhHcm93OiAnMScsCiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJywKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogJzE1cHgnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAndGhpbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyQ29sb3I6ICcjNGI2ZjljICMxZTJjM2EnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJlc3VsdHNBcmVhLmlubmVySFRNTCA9IGA8c3R5bGU+CiAgICAgICAgICAgICAgICAgICAgI3JwYVJlc3VsdHNBcmVhOjotd2Via2l0LXNjcm9sbGJhciB7IHdpZHRoOiA4cHg7IGhlaWdodDogOHB4OyB9CiAgICAgICAgICAgICAgICAgICAgI3JwYVJlc3VsdHNBcmVhOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7IGJhY2tncm91bmQ6ICMxZTJjM2E7IGJvcmRlci1yYWRpdXM6IDRweDsgfQogICAgICAgICAgICAgICAgICAgICNycGFSZXN1bHRzQXJlYTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjNGI2ZjljOyBib3JkZXItcmFkaXVzOiA0cHg7IGJvcmRlcjogMnB4IHNvbGlkICMxZTJjM2E7IH0KICAgICAgICAgICAgICAgICAgICAjcnBhUmVzdWx0c0FyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogIzY3YzFmNTsgfQogICAgICAgICAgICAgICAgPC9zdHlsZT5gOwogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgcmVzdWx0c0Rpdi5pZCA9ICdycGFSZXN1bHRzRGl2JzsKICAgICAgICAgICAgICAgIHJlc3VsdHNBcmVhLmFwcGVuZENoaWxkKHJlc3VsdHNEaXYpOwogICAgICAgICAgICAgICAgbWFpbkNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKHJlc3VsdHNBcmVhKTsKCiAgICAgICAgICAgICAgICBycGFfbW9kYWwuYXBwZW5kQ2hpbGQobWFpbkNvbnRlbnRXcmFwcGVyKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocnBhX21vZGFsKTsKICAgICAgICAgICAgICAgIHJwYV9tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYAogICAgICAgICAgICAgICAgICAgIEBrZXlmcmFtZXMgcnBhX3NwaW4geyAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH0KICAgICAgICAgICAgICAgICAgICAucnBhX3NwaW5uZXIgeyBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7IGJvcmRlci1yYWRpdXM6IDUwJTsgYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjsgd2lkdGg6IDAuOWVtOyBoZWlnaHQ6IDAuOWVtOyBhbmltYXRpb246IHJwYV9zcGluIDFzIGxpbmVhciBpbmZpbml0ZTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyBtYXJnaW4tbGVmdDogOHB4OyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgeyB3aWR0aDogYXV0bzsgbWluLXdpZHRoOiA2ODBweDsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgZm9udC1zaXplOiAxMnB4OyB0YWJsZS1sYXlvdXQ6IGZpeGVkOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMWUyYzNhOyBib3JkZXItcmFkaXVzOiAzcHg7IG1hcmdpbi1sZWZ0OiAwOyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgdGgsIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRkIHsgYm9yZGVyOiAxcHggc29saWQgIzJhM2Y1YTsgcGFkZGluZzogNnB4IDhweDsgdGV4dC1hbGlnbjogbGVmdDsgfQogICAgICAgICAgICAgICAgICAgIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRoIHsgYmFja2dyb3VuZC1jb2xvcjogIzIzMzEzZjsgY29sb3I6ICNhMGIxYzM7IGZvbnQtd2VpZ2h0OiA1MDA7IHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgei1pbmRleDogMTsgfQogICAgICAgICAgICAgICAgICAgIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRoLmNvbC1yYW5rLWhlYWRlciB7IHdpZHRoOiA0NXB4OyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgdGguY29sLXJlZ2lvbi1oZWFkZXIgeyB3aWR0aDogMjMwcHg7IH0KICAgICAgICAgICAgICAgICAgICAucnBhU2luZ2xlUHJpY2VUYWJsZSB0aC5jb2wtbG9jYWwtcHJpY2UtaGVhZGVyIHsgd2lkdGg6IDExMHB4OyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgdGguY29sLXJ1Yi1wcmljZS1oZWFkZXIsIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRoLmNvbC11c2QtcHJpY2UtaGVhZGVyIHsgd2lkdGg6IDExMHB4OyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgdGguY29sLWRpZmYtcnUtaGVhZGVyLCAucnBhU2luZ2xlUHJpY2VUYWJsZSB0aC5jb2wtZGlmZi11cy1oZWFkZXIgeyB3aWR0aDogMTIwcHg7IH0KICAgICAgICAgICAgICAgICAgICAucnBhU2luZ2xlUHJpY2VUYWJsZSB0ZC5jb2wtcmFuayB7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAgICAgICAgICAgICAgIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRkLmNvbC1yZWdpb24geyB3b3JkLWJyZWFrOiBicmVhay13b3JkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgdGQuY29sLWxvY2FsLXByaWNlLCAucnBhU2luZ2xlUHJpY2VUYWJsZSB0ZC5jb2wtcnViLXByaWNlLCAucnBhU2luZ2xlUHJpY2VUYWJsZSB0ZC5jb2wtdXNkLXByaWNlLCAucnBhU2luZ2xlUHJpY2VUYWJsZSB0ZC5jb2wtZGlmZi1ydSwgLnJwYVNpbmdsZVByaWNlVGFibGUgdGQuY29sLWRpZmYtdXMgeyB0ZXh0LWFsaWduOiByaWdodDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgfQogICAgICAgICAgICAgICAgICAgIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRkLmNvbC1kaWZmLXJ1LnBvc2l0aXZlLCAucnBhU2luZ2xlUHJpY2VUYWJsZSB0ZC5jb2wtZGlmZi11cy5wb3NpdGl2ZSB7IGNvbG9yOiBsaWdodGdyZWVuOyB9CiAgICAgICAgICAgICAgICAgICAgLnJwYVNpbmdsZVByaWNlVGFibGUgdGQuY29sLWRpZmYtcnUubmVnYXRpdmUsIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRkLmNvbC1kaWZmLXVzLm5lZ2F0aXZlIHsgY29sb3I6IHNhbG1vbjsgfQogICAgICAgICAgICAgICAgICAgIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRkLmNvbC1kaWZmLXJ1Lm5ldXRyYWwsIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRkLmNvbC1kaWZmLXVzLm5ldXRyYWwgeyBjb2xvcjogI2M2ZDRkZjsgfQogICAgICAgICAgICAgICAgICAgIC5ycGFTaW5nbGVQcmljZVRhYmxlIHRyLmhpZ2hsaWdodC1ydSB0ZCwgLnJwYVNpbmdsZVByaWNlVGFibGUgdHIuaGlnaGxpZ2h0LXVzIHRkIHsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjE1KSAhaW1wb3J0YW50OyBmb250LXdlaWdodDogYm9sZDsgfQogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIocGVyY2VudGFnZSkgewogICAgICAgICAgICAgICAgaWYgKHJwYV9wcm9ncmVzc0JhckZpbGwpIHsKICAgICAgICAgICAgICAgICAgICBycGFfcHJvZ3Jlc3NCYXJGaWxsLnN0eWxlLndpZHRoID0gYCR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwZXJjZW50YWdlKSl9JWA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc0JhckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycGFQcm9ncmVzc0JhckNvbnRhaW5lcicpOwogICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzQmFyQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IChwZXJjZW50YWdlID4gMCAmJiBwZXJjZW50YWdlIDwgMTAwKSA/ICdmbGV4JyA6ICdub25lJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcnBhX29wZW5Nb2RhbCgpIHsKICAgICAgICAgICAgICAgIGlmICghcnBhX21vZGFsKSBycGFfY3JlYXRlTW9kYWwoKTsKICAgICAgICAgICAgICAgIHJwYV91cGRhdGVUZXh0c0FuZFJlZ2lvbk5hbWVzKCk7CiAgICAgICAgICAgICAgICBycGFfY3VycmVudEFwcElkID0gcnBhX2dldEFwcElkRnJvbVVybCgpOwogICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbE1zZyA9IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ0NsaWNrICJGZXRjaCBEYXRhIiB0byBiZWdpbi4nIDogJ9Cd0LDQttC80LjRgtC1ICLQodCx0L7RgCDQtNCw0L3QvdGL0YUiINC00LvRjyDQvdCw0YfQsNC70LAuJzsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c01zZyA9IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ0NsaWNrICJGZXRjaCBEYXRhIiB0byBzdGFydCBhbmFseXNpcy4nIDogJ9Cd0LDQttC80LjRgtC1ICLQodCx0L7RgCDQtNCw0L3QvdGL0YUiINC00LvRjyDQvdCw0YfQsNC70LAg0LDQvdCw0LvQuNC30LAuJzsKCiAgICAgICAgICAgICAgICBpZiAoIXJwYV9jdXJyZW50QXBwSWQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/ICdbUlBBXSBDb3VsZCBub3QgZGV0ZXJtaW5lIEFwcElEIG9mIHRoZSBnYW1lLicgOiAnW1JQQV0g0J3QtSDRg9C00LDQu9C+0YHRjCDQvtC/0YDQtdC00LXQu9C40YLRjCBBcHBJRCDQuNCz0YDRiy4nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgZ2FtZVRpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHBIdWJBcHBOYW1lJyk7CiAgICAgICAgICAgICAgICBycGFfY3VycmVudEdhbWVOYW1lID0gZ2FtZVRpdGxlRWxlbWVudCA/IGdhbWVUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpIDogKHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gYEdhbWUgIyR7cnBhX2N1cnJlbnRBcHBJZH1gIDogYNCY0LPRgNCwICMke3JwYV9jdXJyZW50QXBwSWR9YCk7CiAgICAgICAgICAgICAgICBjb25zdCBnYW1lTmFtZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnBhR2FtZU5hbWVEaXNwbGF5Jyk7CiAgICAgICAgICAgICAgICBpZiAoZ2FtZU5hbWVEaXNwbGF5KSBnYW1lTmFtZURpc3BsYXkudGV4dENvbnRlbnQgPSBycGFfY3VycmVudEdhbWVOYW1lOwoKICAgICAgICAgICAgICAgIHJwYV9tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYVN1bW1hcnlEaXYnKS5pbm5lckhUTUwgPSBgPHA+JHtpbml0aWFsTXNnfTwvcD5gOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYVJlc3VsdHNEaXYnKS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cyhzdGF0dXNNc2cpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYUZldGNoRGF0YUJ1dHRvbicpLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJwYV9jbG9zZU1vZGFsKCkgewogICAgICAgICAgICAgICAgaWYgKHJwYV9mZXRjaENvbnRyb2xsZXIpIHsKICAgICAgICAgICAgICAgICAgICBycGFfZmV0Y2hDb250cm9sbGVyLmFib3J0KCk7CiAgICAgICAgICAgICAgICAgICAgcnBhX2ZldGNoQ29udHJvbGxlciA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocnBhX21vZGFsKSBycGFfbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c01zZyA9IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ1JlYWR5IGZvciBuZXcgYW5hbHlzaXMuJyA6ICfQk9C+0YLQvtCy0L4g0Log0L3QvtCy0L7QvNGDINCw0L3QsNC70LjQt9GDLic7CiAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMoc3RhdHVzTXNnKTsKICAgICAgICAgICAgICAgIHJwYV91cGRhdGVQcm9ncmVzc0JhcigwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcnBhX3VwZGF0ZU1vZGFsU3RhdHVzKG1lc3NhZ2UsIGlzTG9hZGluZyA9IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnBhU3RhdHVzRGl2Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycGFGZXRjaERhdGFCdXR0b24nKTsKICAgICAgICAgICAgICAgIGlmIChzdGF0dXNEaXYpIHsKICAgICAgICAgICAgICAgICAgICBzdGF0dXNEaXYuaW5uZXJIVE1MID0gaXNMb2FkaW5nID8gYCR7bWVzc2FnZX0gPHNwYW4gY2xhc3M9InJwYV9zcGlubmVyIj48L3NwYW4+YCA6IG1lc3NhZ2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZmV0Y2hCdG4pIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaEJ0bi5kaXNhYmxlZCA9IGlzTG9hZGluZzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gcnBhX2hhbmRsZUZldGNoRGF0YSgpIHsKICAgICAgICAgICAgICAgIGlmIChycGFfZmV0Y2hDb250cm9sbGVyKSB7CiAgICAgICAgICAgICAgICAgICAgcnBhX2ZldGNoQ29udHJvbGxlci5hYm9ydCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJbUlBBXSBQcmV2aW91cyBkYXRhIGZldGNoIGFib3J0ZWQuIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBycGFfZmV0Y2hDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwogICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gcnBhX2ZldGNoQ29udHJvbGxlci5zaWduYWw7CgogICAgICAgICAgICAgICAgcnBhX3VwZGF0ZVByb2dyZXNzQmFyKDApOwogICAgICAgICAgICAgICAgcnBhX3VwZGF0ZU1vZGFsU3RhdHVzKHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ0luaXRpYWxpemluZy4uLicgOiAn0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8uLi4nLCB0cnVlKTsKICAgICAgICAgICAgICAgIGNvbnN0IHN1bW1hcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnBhU3VtbWFyeURpdicpOwogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycGFSZXN1bHRzRGl2Jyk7CiAgICAgICAgICAgICAgICBzdW1tYXJ5RGl2LmlubmVySFRNTCA9IGA8aDQ+JHtycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/ICdTdW1tYXJ5OicgOiAn0KHQstC+0LTQvdCw0Y8g0LjQvdGE0L7RgNC80LDRhtC40Y86J308L2g0PmA7CiAgICAgICAgICAgICAgICByZXN1bHRzRGl2LmlubmVySFRNTCA9ICcnOwoKICAgICAgICAgICAgICAgIGlmICghcnBhX2N1cnJlbnRBcHBJZCkgewogICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cyhycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/ICdFcnJvcjogQXBwSUQgbm90IGRlZmluZWQuJyA6ICfQntGI0LjQsdC60LA6IEFwcElEINC90LUg0L7Qv9GA0LXQtNC10LvQtdC9LicsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoMCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwSHViQXBwTmFtZScpOwogICAgICAgICAgICAgICAgcnBhX2N1cnJlbnRHYW1lTmFtZSA9IGdhbWVUaXRsZUVsZW1lbnQgPyBnYW1lVGl0bGVFbGVtZW50LnRleHRDb250ZW50LnRyaW0oKSA6IChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/IGBHYW1lICMke3JwYV9jdXJyZW50QXBwSWR9YCA6IGDQmNCz0YDQsCAjJHtycGFfY3VycmVudEFwcElkfWApOwogICAgICAgICAgICAgICAgY29uc3QgZ2FtZU5hbWVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JwYUdhbWVOYW1lRGlzcGxheScpOwogICAgICAgICAgICAgICAgaWYgKGdhbWVOYW1lRGlzcGxheSkgZ2FtZU5hbWVEaXNwbGF5LnRleHRDb250ZW50ID0gcnBhX2N1cnJlbnRHYW1lTmFtZTsKCiAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoMik7CgogICAgICAgICAgICAgICAgbGV0IHVzRGF0YTsKICAgICAgICAgICAgICAgIGNvbnN0IHVzUmVnaW9uQ29uZmlnID0gUlBBX0NPTkZJRy5yZWdpb25zLmZpbmQociA9PiByLmNjID09PSAnVVMnKTsKICAgICAgICAgICAgICAgIGlmICghdXNSZWdpb25Db25maWcpIHsKICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyAnRXJyb3I6IENvbmZpZ3VyYXRpb24gZm9yIFVTIHJlZ2lvbiBub3QgZm91bmQuJyA6ICfQntGI0LjQsdC60LA6INCa0L7QvdGE0LjQs9GD0YDQsNGG0LjRjyDQtNC70Y8g0YDQtdCz0LjQvtC90LAg0KHQqNCQINC90LUg0L3QsNC50LTQtdC90LAuJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVQcm9ncmVzc0JhcigwKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyAnRmV0Y2hpbmcgVVMgcHJpY2UuLi4nIDogJ9CX0LDQv9GA0L7RgSDRhtC10L3RiyDQtNC70Y8g0KHQqNCQLi4uJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgdXNEYXRhID0gYXdhaXQgcnBhX2ZldGNoSXRlbURhdGEocnBhX2N1cnJlbnRBcHBJZCwgdXNSZWdpb25Db25maWcuY2MsIHNpZ25hbCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdSZXF1ZXN0IGFib3J0ZWQnLCAnQWJvcnRFcnJvcicpOwogICAgICAgICAgICAgICAgICAgIGlmICh1c0RhdGEgJiYgdXNEYXRhLmJhc2ljX2luZm8gJiYgdXNEYXRhLmJhc2ljX2luZm8ubmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBycGFfY3VycmVudEdhbWVOYW1lID0gdXNEYXRhLmJhc2ljX2luZm8ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVOYW1lRGlzcGxheSkgZ2FtZU5hbWVEaXNwbGF5LnRleHRDb250ZW50ID0gcnBhX2N1cnJlbnRHYW1lTmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZU1vZGFsU3RhdHVzKHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ0RhdGEgZmV0Y2ggYWJvcnRlZC4nIDogJ9Ch0LHQvtGAINC00LDQvdC90YvRhSDQvtGC0LzQtdC90LXQvS4nLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZU1vZGFsU3RhdHVzKChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/IGBFcnJvciBmZXRjaGluZyBVUyBwcmljZTogYCA6IGDQntGI0LjQsdC60LAg0L/RgNC4INC30LDQv9GA0L7RgdC1INGG0LXQvdGLINC00LvRjyDQodCo0JA6IGApICsgZXJyb3IubWVzc2FnZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoMCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghdXNEYXRhIHx8ICF1c0RhdGEuYmVzdF9wdXJjaGFzZV9vcHRpb24gfHwgIXVzRGF0YS5iZXN0X3B1cmNoYXNlX29wdGlvbi5maW5hbF9wcmljZV9pbl9jZW50cykgewogICAgICAgICAgICAgICAgICAgIGxldCBtc2cgPSAocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyBgR2FtZSAiJHtycGFfY3VycmVudEdhbWVOYW1lfSIgYCA6IGDQmNCz0YDQsCAiJHtycGFfY3VycmVudEdhbWVOYW1lfSIgYCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGcmVlT3JVbmF2YWlsYWJsZVVTID0gKHVzRGF0YSAmJiB1c0RhdGEuc3VjY2VzcyA9PT0gMSAmJiAoIXVzRGF0YS5iZXN0X3B1cmNoYXNlX29wdGlvbiB8fCB1c0RhdGEuYmVzdF9wdXJjaGFzZV9vcHRpb24uZmluYWxfcHJpY2VfaW5fY2VudHMgPT09ICIwIiB8fCAhdXNEYXRhLmJlc3RfcHVyY2hhc2Vfb3B0aW9uLmZpbmFsX3ByaWNlX2luX2NlbnRzKSk7CiAgICAgICAgICAgICAgICAgICAgbXNnICs9IGlzRnJlZU9yVW5hdmFpbGFibGVVUyA/IChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/ICJpcyBmcmVlIG9yIG5vdCBhdmFpbGFibGUgaW4gdGhlIFVTLiIgOiAi0LHQtdGB0L/Qu9Cw0YLQvdCwINC40LvQuCDQvdC10LTQvtGB0YLRg9C/0L3QsCDQsiDQodCo0JAuIikgOgogICAgICAgICAgICAgICAgICAgICAgICAocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyAiaXMgdW5hdmFpbGFibGUgaW4gdGhlIFVTIG9yIGhhcyBubyBwcmljZS4iIDogItC90LXQtNC+0YHRgtGD0L/QvdCwINCyINCh0KjQkCDQuNC70Lgg0L3QtSDQuNC80LXQtdGCINGG0LXQvdGLLiIpOwogICAgICAgICAgICAgICAgICAgIG1zZyArPSAocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyAiIEFuYWx5c2lzIGNhbm5vdCBwcm9jZWVkLiIgOiAiINCQ0L3QsNC70LjQtyDQvdC10LLQvtC30LzQvtC20LXQvS4iKTsKICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMobXNnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZVByb2dyZXNzQmFyKDApOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlUHJpY2VDZW50cyA9IHJwYV9nZXRQcmljZUluQ2VudHModXNEYXRhLmJlc3RfcHVyY2hhc2Vfb3B0aW9uKTsKICAgICAgICAgICAgICAgIGlmICghYmFzZVByaWNlQ2VudHMpIHsKICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyAnQ291bGQgbm90IGRldGVybWluZSBiYXNlIFVTIHByaWNlIGZvciBjYWxjdWxhdGlvbi4nIDogJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L7Qv9GA0LXQtNC10LvQuNGC0Ywg0LHQsNC30L7QstGD0Y4g0YbQtdC90YMg0LIg0KHQqNCQINC00LvRjyDRgNCw0YHRh9C10YLQsC4nLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZVByb2dyZXNzQmFyKDApOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VVc2RQcmljZSA9IHBhcnNlRmxvYXQoYmFzZVByaWNlQ2VudHMpIC8gMTAwOwogICAgICAgICAgICAgICAgY29uc3QgYmFzZVVzZEZvcm1hdHRlZFByaWNlID0gcnBhX2dldERpc3BsYXlGb3JtYXR0ZWRQcmljZSh1c0RhdGEuYmVzdF9wdXJjaGFzZV9vcHRpb24pOwoKICAgICAgICAgICAgICAgIHJwYV91cGRhdGVQcm9ncmVzc0Jhcig1KTsKCiAgICAgICAgICAgICAgICBpZiAocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcpIHsKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5RGl2LmlubmVySFRNTCArPSBgPGRpdiBjbGFzcz0ic3VtbWFyeS1pdGVtIj48c3BhbiBjbGFzcz0ic3VtbWFyeS1sYWJlbCI+QmFzZSBVUyBQcmljZTo8L3NwYW4+PHNwYW4gY2xhc3M9InN1bW1hcnktdmFsdWUiPiR7YmFzZVVzZFByaWNlLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnVVNEJyB9KX08L3NwYW4+PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBycGFfZmV0Y2hFeGNoYW5nZVJhdGVzKCd1c2QnLCBzaWduYWwpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRocm93IG5ldyBET01FeGNlcHRpb24oJ1JlcXVlc3QgYWJvcnRlZCcsICdBYm9ydEVycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cygnRGF0YSBmZXRjaCBhYm9ydGVkLicsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cygnRXJyb3IgZmV0Y2hpbmcgYmFzZSBVU0QgZXhjaGFuZ2UgcmF0ZXMuJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVQcm9ncmVzc0JhcigwKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeURpdi5pbm5lckhUTUwgKz0gYDxkaXYgY2xhc3M9InN1bW1hcnktaXRlbSI+PHNwYW4gY2xhc3M9InN1bW1hcnktbGFiZWwiPtCR0LDQt9C+0LLQsNGPINGG0LXQvdCwINCyINCh0KjQkCAo0LTQu9GPINGA0LDRgdGH0LXRgtCwKTo8L3NwYW4+PHNwYW4gY2xhc3M9InN1bW1hcnktdmFsdWUiPiQke2Jhc2VVc2RQcmljZS50b0ZpeGVkKDIpfTwvc3Bhbj48L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGVkUnViUHJpY2VWYWwgPSBjYWxjdWxhdGVSZWNvbW1lbmRlZFJ1YlByaWNlKGJhc2VVc2RQcmljZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29tbWVuZGVkUnViUHJpY2VWYWwgPT09IG51bGwgfHwgdHlwZW9mIHJlY29tbWVuZGVkUnViUHJpY2VWYWwgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlEaXYuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPSJzdW1tYXJ5LWl0ZW0iPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LWxhYmVsIj7QoNC10LrQvtC80LXQvdC00YPQtdC80LDRjyDRhtC10L3QsCBTdGVhbSDQsiDQoNCkOjwvc3Bhbj48c3BhbiBjbGFzcz0ic3VtbWFyeS12YWx1ZSI+JHtyZWNvbW1lbmRlZFJ1YlByaWNlVmFsIHx8ICfQndC1INGD0LTQsNC70L7RgdGMINGA0LDRgdGB0YfQuNGC0LDRgtGMJ308L3NwYW4+PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5RGl2LmlubmVySFRNTCArPSBgPGRpdiBjbGFzcz0ic3VtbWFyeS1pdGVtIj48c3BhbiBjbGFzcz0ic3VtbWFyeS1sYWJlbCI+0KDQtdC60L7QvNC10L3QtNGD0LXQvNCw0Y8g0YbQtdC90LAgU3RlYW0g0LIg0KDQpDo8L3NwYW4+PHNwYW4gY2xhc3M9InN1bW1hcnktdmFsdWUiPiR7cmVjb21tZW5kZWRSdWJQcmljZVZhbC50b0xvY2FsZVN0cmluZygncnUtUlUnKX0g0YDRg9CxLjwvc3Bhbj48L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBycGFfZmV0Y2hFeGNoYW5nZVJhdGVzKCdydWInLCBzaWduYWwpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRocm93IG5ldyBET01FeGNlcHRpb24oJ1JlcXVlc3QgYWJvcnRlZCcsICdBYm9ydEVycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cygn0KHQsdC+0YAg0LTQsNC90L3Ri9GFINC+0YLQvNC10L3QtdC9LicsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cygn0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0LHQsNC30L7QstGL0YUg0LrRg9GA0YHQvtCyINCy0LDQu9GO0YIuJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVQcm9ncmVzc0JhcigwKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCByZWdpb25hbFByaWNlcyA9IFtdOwogICAgICAgICAgICAgICAgbGV0IHJ1QWN0dWFsUHJpY2VEYXRhID0gbnVsbDsKICAgICAgICAgICAgICAgIGxldCBydUFjdHVhbFByaWNlSW5SdWIgPSBudWxsOwoKICAgICAgICAgICAgICAgIGlmIChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJykgewogICAgICAgICAgICAgICAgICAgIHJlZ2lvbmFsUHJpY2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICByZWdpb25OYW1lOiB1c1JlZ2lvbkNvbmZpZy5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFByaWNlRm9ybWF0dGVkOiBiYXNlVXNkRm9ybWF0dGVkUHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlSW5Vc2Q6IGJhc2VVc2RQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgY2M6IHVzUmVnaW9uQ29uZmlnLmNjCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJSZWdpb25zID0gUlBBX0NPTkZJRy5yZWdpb25zLmZpbHRlcihyID0+IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gci5jYyAhPT0gdXNSZWdpb25Db25maWcuY2MgOiB0cnVlKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUmVnaW9uc1RvUHJvY2VzcyA9IG90aGVyUmVnaW9ucy5sZW5ndGg7CiAgICAgICAgICAgICAgICBsZXQgcmVnaW9uc1Byb2Nlc3NlZENvdW50ID0gMDsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsUmVnaW9uc1RvUHJvY2VzczsgaSArPSBSUEFfQ09ORklHLmJhdGNoU2l6ZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBvdGhlclJlZ2lvbnMuc2xpY2UoaSwgaSArIFJQQV9DT05GSUcuYmF0Y2hTaXplKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaFByb2dyZXNzVGV4dCA9IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8KICAgICAgICAgICAgICAgICAgICAgICAgYFdvcmtzcGFjZWluZyBwcmljZXM6IGJhdGNoICR7TWF0aC5mbG9vcihpL1JQQV9DT05GSUcuYmF0Y2hTaXplKSsxfS8ke01hdGguY2VpbCh0b3RhbFJlZ2lvbnNUb1Byb2Nlc3MvUlBBX0NPTkZJRy5iYXRjaFNpemUpfWAgOgogICAgICAgICAgICAgICAgICAgICAgICBg0KHQsdC+0YAg0YbQtdC9OiDQs9GA0YPQv9C/0LAgJHtNYXRoLmZsb29yKGkvUlBBX0NPTkZJRy5iYXRjaFNpemUpKzF9LyR7TWF0aC5jZWlsKHRvdGFsUmVnaW9uc1RvUHJvY2Vzcy9SUEFfQ09ORklHLmJhdGNoU2l6ZSl9YDsKICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMoYCR7YmF0Y2hQcm9ncmVzc1RleHR9ICgke2JhdGNoLm1hcChyPT5yLmNjKS5qb2luKCcsICcpfSkuLi5gLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2hQcm9taXNlcyA9IGJhdGNoLm1hcChyZWdpb24gPT4KICAgICAgICAgICAgICAgICAgICAgICAgcnBhX2ZldGNoSXRlbURhdGEocnBhX2N1cnJlbnRBcHBJZCwgcmVnaW9uLmNjLCBzaWduYWwpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB0aHJvdyBlcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW1JQQV0gRXJyb3IgZm9yIHJlZ2lvbiAke3JlZ2lvbi5uYW1lfSAoJHtyZWdpb24uY2N9KTogJHtlcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoYmF0Y2hQcm9taXNlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbignUmVxdWVzdCBhYm9ydGVkJywgJ0Fib3J0RXJyb3InKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIGJhdGNoUmVzdWx0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uc1Byb2Nlc3NlZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFByb2dyZXNzID0gNSArIE1hdGgucm91bmQoKChyZWdpb25zUHJvY2Vzc2VkQ291bnQgKyAxKSAvICh0b3RhbFJlZ2lvbnNUb1Byb2Nlc3MgKyAxKSkgKiA4NSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoY3VycmVudFByb2dyZXNzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgcmVzdWx0LnZhbHVlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVnaW9uRGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gPSByZXN1bHQudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lvbkRhdGEgJiYgcmVnaW9uRGF0YS5iYXNpY19pbmZvICYmIHJlZ2lvbkRhdGEuYmVzdF9wdXJjaGFzZV9vcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVyY2hhc2VPcHRpb24gPSByZWdpb25EYXRhLmJlc3RfcHVyY2hhc2Vfb3B0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpY2VJbkNlbnRzID0gcnBhX2dldFByaWNlSW5DZW50cyhwdXJjaGFzZU9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5Rm9ybWF0dGVkUHJpY2UgPSBycGFfZ2V0RGlzcGxheUZvcm1hdHRlZFByaWNlKHB1cmNoYXNlT3B0aW9uKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUluQ2VudHMgIT09IG51bGwgJiYgcHJpY2VJbkNlbnRzID49IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsUHJpY2UgPSBwYXJzZUZsb2F0KHByaWNlSW5DZW50cykgLyAxMDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByaWNlSW5Vc2QgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb24uY3VycmVuY3lBcGlDb2RlLnRvTG93ZXJDYXNlKCkgPT09ICd1c2QnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlSW5Vc2QgPSBsb2NhbFByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRlcyA9IGF3YWl0IHJwYV9mZXRjaEV4Y2hhbmdlUmF0ZXMocmVnaW9uLmN1cnJlbmN5QXBpQ29kZS50b0xvd2VyQ2FzZSgpLCBzaWduYWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdSZXF1ZXN0IGFib3J0ZWQnLCAnQWJvcnRFcnJvcicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhdGVzICYmIHR5cGVvZiByYXRlcy51c2QgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VJblVzZCA9IGxvY2FsUHJpY2UgKiByYXRlcy51c2Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZEJhc2VkUmF0ZXMgPSBhd2FpdCBycGFfZmV0Y2hFeGNoYW5nZVJhdGVzKCd1c2QnLCBzaWduYWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2RCYXNlZFJhdGVzICYmIHR5cGVvZiB1c2RCYXNlZFJhdGVzW3JlZ2lvbi5jdXJyZW5jeUFwaUNvZGUudG9Mb3dlckNhc2UoKV0gPT09ICdudW1iZXInICYmIHVzZEJhc2VkUmF0ZXNbcmVnaW9uLmN1cnJlbmN5QXBpQ29kZS50b0xvd2VyQ2FzZSgpXSAhPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUluVXNkID0gbG9jYWxQcmljZSAvIHVzZEJhc2VkUmF0ZXNbcmVnaW9uLmN1cnJlbmN5QXBpQ29kZS50b0xvd2VyQ2FzZSgpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtSUEFdIFVTRCByYXRlIG5vdCBmb3VuZCBmb3IgJHtyZWdpb24uY3VycmVuY3lBcGlDb2RlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocmF0ZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF0ZUVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykgdGhyb3cgcmF0ZUVycm9yOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbUlBBXSBSYXRlIGVycm9yIChVU0QpIGZvciAke3JlZ2lvbi5jdXJyZW5jeUFwaUNvZGV9OiAke3JhdGVFcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUluVXNkICE9PSBudWxsICYmIHJlZ2lvbi5jYyAhPT0gJ1VTJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25hbFByaWNlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbk5hbWU6IHJlZ2lvbi5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxQcmljZUZvcm1hdHRlZDogZGlzcGxheUZvcm1hdHRlZFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VJblVzZDogcHJpY2VJblVzZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjOiByZWdpb24uY2MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpY2VJblJ1YiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lvbi5jdXJyZW5jeUFwaUNvZGUudG9Mb3dlckNhc2UoKSA9PT0gJ3J1YicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VJblJ1YiA9IGxvY2FsUHJpY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGVzID0gYXdhaXQgcnBhX2ZldGNoRXhjaGFuZ2VSYXRlcyhyZWdpb24uY3VycmVuY3lBcGlDb2RlLnRvTG93ZXJDYXNlKCksIHNpZ25hbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRocm93IG5ldyBET01FeGNlcHRpb24oJ1JlcXVlc3QgYWJvcnRlZCcsICdBYm9ydEVycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF0ZXMgJiYgdHlwZW9mIHJhdGVzLnJ1YiA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUluUnViID0gbG9jYWxQcmljZSAqIHJhdGVzLnJ1YjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbUlBBXSBSVUIgcmF0ZSBub3QgZm91bmQgZm9yICR7cmVnaW9uLmN1cnJlbmN5QXBpQ29kZX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocmF0ZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF0ZUVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykgdGhyb3cgcmF0ZUVycm9yOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbUlBBXSBSYXRlIGVycm9yIChSVUIpIGZvciAke3JlZ2lvbi5jdXJyZW5jeUFwaUNvZGV9OiAke3JhdGVFcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUluUnViICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbmFsUHJpY2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uTmFtZTogcmVnaW9uLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFByaWNlRm9ybWF0dGVkOiBkaXNwbGF5Rm9ybWF0dGVkUHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUluUnViOiBwcmljZUluUnViLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2M6IHJlZ2lvbi5jYwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lvbi5jYyA9PT0gJ1JVJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydUFjdHVhbFByaWNlRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZDogZGlzcGxheUZvcm1hdHRlZFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnViOiBwcmljZUluUnViCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1QWN0dWFsUHJpY2VJblJ1YiA9IHByaWNlSW5SdWI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb24uY2MgPT09ICdVUycgJiYgcnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1JVQicgJiYgIXJlZ2lvbmFsUHJpY2VzLmZpbmQocCA9PiBwLmNjID09PSAnVVMnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25hbFByaWNlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbk5hbWU6IHJlZ2lvbi5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxQcmljZUZvcm1hdHRlZDogZGlzcGxheUZvcm1hdHRlZFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VJblJ1YjogcHJpY2VJblJ1YiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjOiByZWdpb24uY2MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoYmF0Y2hFcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hFcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwYV91cGRhdGVNb2RhbFN0YXR1cyhycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJyA/ICdEYXRhIGZldGNoIGFib3J0ZWQuJyA6ICfQodCx0L7RgCDQtNCw0L3QvdGL0YUg0L7RgtC80LXQvdC10L0uJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZVByb2dyZXNzQmFyKDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnBhX2ZldGNoQ29udHJvbGxlciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiW1JQQV0gRXJyb3IgcHJvY2Vzc2luZyBiYXRjaDoiLCBiYXRjaEVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGkgKyBSUEFfQ09ORklHLmJhdGNoU2l6ZSA8IHRvdGFsUmVnaW9uc1RvUHJvY2VzcyAmJiAhc2lnbmFsLmFib3J0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFJQQV9DT05GSUcuZGVsYXlCZXR3ZWVuQmF0Y2hlcykpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7CiAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZU1vZGFsU3RhdHVzKHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnID8gJ0RhdGEgZmV0Y2ggYWJvcnRlZC4nIDogJ9Ch0LHQvtGAINC00LDQvdC90YvRhSDQvtGC0LzQtdC90LXQvS4nLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgcnBhX3VwZGF0ZVByb2dyZXNzQmFyKDApOwogICAgICAgICAgICAgICAgICAgIHJwYV9mZXRjaENvbnRyb2xsZXIgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoOTgpOwoKICAgICAgICAgICAgICAgIGlmIChycGFfY3VycmVudERpc3BsYXlNb2RlID09PSAnVVNEJykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb25hbFByaWNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbmFsUHJpY2VzLnNvcnQoKGEsIGIpID0+IGEucHJpY2VJblVzZCAtIGIucHJpY2VJblVzZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWFwZXN0UmVnaW9uID0gcmVnaW9uYWxQcmljZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vc3RFeHBlbnNpdmVSZWdpb24gPSByZWdpb25hbFByaWNlc1tyZWdpb25hbFByaWNlcy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeURpdi5pbm5lckhUTUwgKz0gYDxkaXYgY2xhc3M9InN1bW1hcnktaXRlbSI+PHNwYW4gY2xhc3M9InN1bW1hcnktbGFiZWwiPkNoZWFwZXN0IChVU0QpOjwvc3Bhbj48c3BhbiBjbGFzcz0ic3VtbWFyeS12YWx1ZSI+JHtjaGVhcGVzdFJlZ2lvbi5wcmljZUluVXNkLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnVVNEJyB9KX0gKCR7Y2hlYXBlc3RSZWdpb24ucmVnaW9uTmFtZX0pPC9zcGFuPjwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlEaXYuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPSJzdW1tYXJ5LWl0ZW0iPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LWxhYmVsIj5Nb3N0IEV4cGVuc2l2ZSAoVVNEKTo8L3NwYW4+PHNwYW4gY2xhc3M9InN1bW1hcnktdmFsdWUiPiR7bW9zdEV4cGVuc2l2ZVJlZ2lvbi5wcmljZUluVXNkLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnVVNEJyB9KX0gKCR7bW9zdEV4cGVuc2l2ZVJlZ2lvbi5yZWdpb25OYW1lfSk8L3NwYW4+PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNFbnRyeUluZGV4ID0gcmVnaW9uYWxQcmljZXMuZmluZEluZGV4KHIgPT4gci5jYyA9PT0gJ1VTJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c0VudHJ5SW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5RGl2LmlubmVySFRNTCArPSBgPGRpdiBjbGFzcz0ic3VtbWFyeS1pdGVtIj48c3BhbiBjbGFzcz0ic3VtbWFyeS1sYWJlbCI+VVMgUHJpY2UgUmFuazo8L3NwYW4+PHNwYW4gY2xhc3M9InN1bW1hcnktdmFsdWUiPiR7dXNFbnRyeUluZGV4ICsgMX0gb2YgJHtyZWdpb25hbFByaWNlcy5sZW5ndGh9PC9zcGFuPjwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVQcmljZVRhYmxlKHJlZ2lvbmFsUHJpY2VzLCBiYXNlVXNkUHJpY2UsIHJlc3VsdHNEaXYpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNEaXYuaW5uZXJIVE1MID0gYDxwIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjsgbWFyZ2luLXRvcDoyMHB4OyBjb2xvcjogIzhmOThhMDsiPkNvdWxkIG5vdCByZXRyaWV2ZSByZWdpb25hbCBwcmljZXMgZm9yIGNvbXBhcmlzb24uPC9wPmA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBydUNvbXBhcmlzb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBydUNvbXBhcmlzb25EaXYuaWQgPSAncnBhUnVDb21wYXJpc29uJzsKICAgICAgICAgICAgICAgICAgICBydUNvbXBhcmlzb25EaXYuc3R5bGUuY3NzVGV4dCA9ICJtYXJnaW4tdG9wOjEwcHg7IHBhZGRpbmctdG9wOjEwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjMmEzZjVhOyI7CiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeURpdi5hcHBlbmRDaGlsZChydUNvbXBhcmlzb25EaXYpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGVkUnViUHJpY2VWYWwgPSBjYWxjdWxhdGVSZWNvbW1lbmRlZFJ1YlByaWNlKGJhc2VVc2RQcmljZSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChydUFjdHVhbFByaWNlRGF0YSAmJiB0eXBlb2YgcmVjb21tZW5kZWRSdWJQcmljZVZhbCA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsUnUgPSBydUFjdHVhbFByaWNlRGF0YS5ydWI7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmYWN0UHJpY2VWYWx1ZSA9ICJOL0EiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdFByaWNlU3ViVmFsdWUgPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlZhbHVlQ29sb3IgPSAiI2M2ZDRkZiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3R1YWxSdSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdFByaWNlVmFsdWUgPSBgJHthY3R1YWxSdS50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7bWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLCBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDJ9KX0g0YDRg9CxLmA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gYWN0dWFsUnUgLSByZWNvbW1lbmRlZFJ1YlByaWNlVmFsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZlBlcmNlbnQgPSByZWNvbW1lbmRlZFJ1YlByaWNlVmFsICE9PSAwID8gKGRpZmYgLyByZWNvbW1lbmRlZFJ1YlByaWNlVmFsKSAqIDEwMCA6IChkaWZmID4gMCA/IEluZmluaXR5IDogKGFjdHVhbFJ1ID09PSAwID8gMCA6IC1JbmZpbml0eSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPCAtMC4wMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlZhbHVlQ29sb3IgPSAnbGlnaHRncmVlbic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdFByaWNlU3ViVmFsdWUgPSBgKNC90LAgJHtNYXRoLmFicyhkaWZmKS50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7bWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyfSl9INGA0YPQsS4gLyAke01hdGguYWJzKGRpZmZQZXJjZW50KS50b0ZpeGVkKDEpfSUg0JTQldCo0JXQktCb0JUg0YDQtdC60L7QvNC10L3QtNGD0LXQvNC+0LkpYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDAuMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJWYWx1ZUNvbG9yID0gJ3NhbG1vbic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdFByaWNlU3ViVmFsdWUgPSBgKNC90LAgJHtkaWZmLnRvTG9jYWxlU3RyaW5nKCdydS1SVScsIHttYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDJ9KX0g0YDRg9CxLiAvICR7ZGlmZlBlcmNlbnQudG9GaXhlZCgxKX0lINCU0J7QoNCe0JbQlSDRgNC10LrQvtC80LXQvdC00YPQtdC80L7QuSlgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWN0UHJpY2VTdWJWYWx1ZSA9IGAo0YHQvtC+0YLQstC10YLRgdGC0LLRg9C10YIg0YDQtdC60L7QvNC10L3QtNGD0LXQvNC+0LkpYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY3RQcmljZVZhbHVlID0gYDxzcGFuIHN0eWxlPSJjb2xvcjogb3JhbmdlOyI+0KbQtdC90LAg0LIg0KDQpCDQvdC1INC90LDQudC00LXQvdCwL9C90LXQutC+0L3QstC10YDRgtC40YDRg9C10LzQsC48L3NwYW4+YDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBydUNvbXBhcmlzb25EaXYuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPSJzdW1tYXJ5LWl0ZW0iPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LWxhYmVsIj7QpNCw0LrRgtC40YfQtdGB0LrQsNGPINGG0LXQvdCwINCyINCg0KQ6PC9zcGFuPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LXZhbHVlIj4ke2ZhY3RQcmljZVZhbHVlfSR7ZmFjdFByaWNlU3ViVmFsdWUgPyBgPHNwYW4gY2xhc3M9InN1bW1hcnktc3ViLXZhbHVlIiBzdHlsZT0iY29sb3I6JHtzdWJWYWx1ZUNvbG9yfTsiPiR7ZmFjdFByaWNlU3ViVmFsdWV9PC9zcGFuPmAgOiAnJ308L3NwYW4+PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZWNvbW1lbmRlZFJ1YlByaWNlVmFsID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICAgICAgICBydUNvbXBhcmlzb25EaXYuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPSJzdW1tYXJ5LWl0ZW0iPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LWxhYmVsIj7QpNCw0LrRgtC40YfQtdGB0LrQsNGPINGG0LXQvdCwINCyINCg0KQ6PC9zcGFuPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LXZhbHVlIiBzdHlsZT0iY29sb3I6b3JhbmdlOyI+0J3QtSDQvdCw0LnQtNC10L3QsC48L3NwYW4+PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb25hbFByaWNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbmFsUHJpY2VzLnNvcnQoKGEsIGIpID0+IGEucHJpY2VJblJ1YiAtIGIucHJpY2VJblJ1Yik7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBydVJhbmsgPSAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1QWN0dWFsUHJpY2VJblJ1YiAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVSYW5rID0gcmVnaW9uYWxQcmljZXMuZmluZEluZGV4KHJwID0+IHJwLmNjID09PSAnUlUnICYmIE1hdGguYWJzKHJwLnByaWNlSW5SdWIgLSBydUFjdHVhbFByaWNlSW5SdWIpIDwgMC4wMSkgKyAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1UmFuayA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJ1RW50cnkgPSByZWdpb25hbFByaWNlcy5maW5kKHJwID0+IHJwLmNjID09PSAnUlUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVFbnRyeSkgcnVSYW5rID0gcmVnaW9uYWxQcmljZXMuZmluZEluZGV4KHJwID0+IHJwLnByaWNlSW5SdWIgPj0gcnVFbnRyeS5wcmljZUluUnViKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1UmFuayA9PT0gMCAmJiByZWdpb25hbFByaWNlcy5sZW5ndGggPiAwKSBydVJhbmsgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYW5rVGV4dCA9ICLQptC10L3QsCDQoNCkINC+0YLRgdGD0YLRgdGC0LLRg9C10YIsINC80LjRgNC+0LLQvtC5INGA0LDQvdCzINC90LUg0L7Qv9GA0LXQtNC10LvQtdC9LiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydVJhbmsgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5rVGV4dCA9IGAke3J1UmFua30g0LjQtyAke3JlZ2lvbmFsUHJpY2VzLmxlbmd0aH1gOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJ1QWN0dWFsUHJpY2VJblJ1YiAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFua1RleHQgPSBg0J3QtSDRg9C00LDQu9C+0YHRjCDRgtC+0YfQvdC+INC+0L/RgNC10LTQtdC70LjRgtGMINGA0LDQvdCzINCg0KQuYDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBydUNvbXBhcmlzb25EaXYuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPSJzdW1tYXJ5LWl0ZW0iPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LWxhYmVsIj7QnNC10YHRgtC+INCg0KQg0LIg0LzQuNGA0L7QstC+0Lwg0YDQtdC50YLQuNC90LPQtSDRhtC10L06PC9zcGFuPjxzcGFuIGNsYXNzPSJzdW1tYXJ5LXZhbHVlIj4ke3JhbmtUZXh0fTwvc3Bhbj48L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVByaWNlVGFibGUocmVnaW9uYWxQcmljZXMsIHJ1QWN0dWFsUHJpY2VJblJ1YiwgcmVzdWx0c0Rpdik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0Rpdi5pbm5lckhUTUwgPSBgPHAgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyBtYXJnaW4tdG9wOjIwcHg7IGNvbG9yOiAjOGY5OGEwOyI+0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINGA0LXQs9C40L7QvdCw0LvRjNC90YvQtSDRhtC10L3RiyDQtNC70Y8g0YHRgNCw0LLQvdC10L3QuNGPLjwvcD5gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBycGFfdXBkYXRlTW9kYWxTdGF0dXMocnBhX2N1cnJlbnREaXNwbGF5TW9kZSA9PT0gJ1VTRCcgPyAnQW5hbHlzaXMgY29tcGxldGUuJyA6ICfQkNC90LDQu9C40Lcg0LfQsNCy0LXRgNGI0LXQvS4nLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBycGFfdXBkYXRlUHJvZ3Jlc3NCYXIoMTAwKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcnBhX3VwZGF0ZVByb2dyZXNzQmFyKDApLCAyMDAwKTsKICAgICAgICAgICAgICAgIHJwYV9mZXRjaENvbnRyb2xsZXIgPSBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVByaWNlVGFibGUocHJpY2VzLCBjb21wYXJpc29uUHJpY2VCYXNlLCBjb250YWluZXIpIHsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKICAgICAgICAgICAgICAgIHRhYmxlLmNsYXNzTmFtZSA9ICdycGFTaW5nbGVQcmljZVRhYmxlJzsKICAgICAgICAgICAgICAgIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlVEhlYWQoKTsKICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHRoZWFkLmluc2VydFJvdygpOwoKICAgICAgICAgICAgICAgIGNvbnN0IGlzVVNETW9kZSA9IHJwYV9jdXJyZW50RGlzcGxheU1vZGUgPT09ICdVU0QnOwogICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGlzVVNETW9kZSA/IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcjJywKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb2wtcmFuay1oZWFkZXInCiAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUmVnaW9uIChDQyknLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2NvbC1yZWdpb24taGVhZGVyJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTG9jYWwgUHJpY2UnLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2NvbC1sb2NhbC1wcmljZS1oZWFkZXInCiAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUHJpY2UgKFVTRCknLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2NvbC11c2QtcHJpY2UtaGVhZGVyJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnRGlmZi4gdnMgVVMgKCUpJywKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb2wtZGlmZi11cy1oZWFkZXInCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSA6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfihJYnLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2NvbC1yYW5rLWhlYWRlcicKICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfQoNC10LPQuNC+0L0gKNCa0L7QtCDRgdGC0YDQsNC90YspJywKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb2wtcmVnaW9uLWhlYWRlcicKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ9Cm0LXQvdCwICjQu9C+0LouINCy0LDQuy4pJywKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb2wtbG9jYWwtcHJpY2UtaGVhZGVyJwogICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ9Cm0LXQvdCwIChSVUIpJywKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb2wtcnViLXByaWNlLWhlYWRlcicKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ9Cg0LDQt9C90LjRhtCwINGBINCg0KQgKCUpJywKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb2wtZGlmZi1ydS1oZWFkZXInCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXTsKCiAgICAgICAgICAgICAgICBoZWFkZXJzLmZvckVhY2goaGVhZGVySW5mbyA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpOwogICAgICAgICAgICAgICAgICAgIHRoLnRleHRDb250ZW50ID0gaGVhZGVySW5mby50ZXh0OwogICAgICAgICAgICAgICAgICAgIHRoLmNsYXNzTmFtZSA9IGhlYWRlckluZm8uY2xhc3M7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyUm93LmFwcGVuZENoaWxkKHRoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlVEJvZHkoKTsKICAgICAgICAgICAgICAgIHByaWNlcy5mb3JFYWNoKChycCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0Ym9keS5pbnNlcnRSb3coKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWdobGlnaHRDQyA9IGlzVVNETW9kZSA/ICdVUycgOiAnUlUnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodENsYXNzID0gaXNVU0RNb2RlID8gJ2hpZ2hsaWdodC11cycgOiAnaGlnaGxpZ2h0LXJ1JzsKICAgICAgICAgICAgICAgICAgICBpZiAocnAuY2MgPT09IGhpZ2hsaWdodENDKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jbGFzc0xpc3QuYWRkKGhpZ2hsaWdodENsYXNzKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJvdy5pbnNlcnRDZWxsKCkudGV4dENvbnRlbnQgPSBpbmRleCArIDE7CiAgICAgICAgICAgICAgICAgICAgcm93LmNlbGxzWzBdLmNsYXNzTmFtZSA9ICdjb2wtcmFuayc7CiAgICAgICAgICAgICAgICAgICAgcm93Lmluc2VydENlbGwoKS50ZXh0Q29udGVudCA9IGAke3JwLnJlZ2lvbk5hbWV9ICgke3JwLmNjfSlgOwogICAgICAgICAgICAgICAgICAgIHJvdy5jZWxsc1sxXS5jbGFzc05hbWUgPSAnY29sLXJlZ2lvbic7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlVG9EaXNwbGF5ID0gaXNVU0RNb2RlID8gcnAucHJpY2VJblVzZCA6IHJwLnByaWNlSW5SdWI7CiAgICAgICAgICAgICAgICAgICAgcm93Lmluc2VydENlbGwoKS50ZXh0Q29udGVudCA9IHJwLmxvY2FsUHJpY2VGb3JtYXR0ZWQgfHwgKHByaWNlVG9EaXNwbGF5ID09PSAwID8gKGlzVVNETW9kZSA/ICdGcmVlJyA6ICfQkdC10YHQv9C70LDRgtC90L4nKSA6ICdOL0EnKTsKICAgICAgICAgICAgICAgICAgICByb3cuY2VsbHNbMl0uY2xhc3NOYW1lID0gJ2NvbC1sb2NhbC1wcmljZSc7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFByaWNlQ2VsbCA9IHJvdy5pbnNlcnRDZWxsKCk7CiAgICAgICAgICAgICAgICAgICAgY29udmVydGVkUHJpY2VDZWxsLmNsYXNzTmFtZSA9IGlzVVNETW9kZSA/ICdjb2wtdXNkLXByaWNlJyA6ICdjb2wtcnViLXByaWNlJzsKICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VUb0Rpc3BsYXkgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkUHJpY2VDZWxsLnRleHRDb250ZW50ID0gaXNVU0RNb2RlID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlVG9EaXNwbGF5LnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlVG9EaXNwbGF5LnRvTG9jYWxlU3RyaW5nKCdydS1SVScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICsgJyDigr0nOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFByaWNlQ2VsbC50ZXh0Q29udGVudCA9ICdOL0EnOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZkNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpOwogICAgICAgICAgICAgICAgICAgIGRpZmZDZWxsLmNsYXNzTmFtZSA9IGlzVVNETW9kZSA/ICdjb2wtZGlmZi11cycgOiAnY29sLWRpZmYtcnUnOwogICAgICAgICAgICAgICAgICAgIGlmIChycC5jYyA9PT0gaGlnaGxpZ2h0Q0MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZkNlbGwudGV4dENvbnRlbnQgPSBpc1VTRE1vZGUgPyAnQmFzZScgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZDZWxsLmNsYXNzTGlzdC5hZGQoJ25ldXRyYWwnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmlzb25QcmljZUJhc2UgIT09IG51bGwgJiYgY29tcGFyaXNvblByaWNlQmFzZSA+IDAgJiYgcHJpY2VUb0Rpc3BsYXkgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZlBlcmNlbnQgPSAoKHByaWNlVG9EaXNwbGF5IC0gY29tcGFyaXNvblByaWNlQmFzZSkgLyBjb21wYXJpc29uUHJpY2VCYXNlKSAqIDEwMDsKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZkNlbGwudGV4dENvbnRlbnQgPSAoZGlmZlBlcmNlbnQgPj0gMCA/ICcrJyA6ICcnKSArIGRpZmZQZXJjZW50LnRvRml4ZWQoMSkgKyAnJSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmUGVyY2VudCA8IC0wLjEpIGRpZmZDZWxsLmNsYXNzTGlzdC5hZGQoJ3Bvc2l0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpZmZQZXJjZW50ID4gMC4xKSBkaWZmQ2VsbC5jbGFzc0xpc3QuYWRkKCduZWdhdGl2ZScpOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGRpZmZDZWxsLmNsYXNzTGlzdC5hZGQoJ25ldXRyYWwnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaWNlVG9EaXNwbGF5ID09PSAwICYmIGNvbXBhcmlzb25QcmljZUJhc2UgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZkNlbGwudGV4dENvbnRlbnQgPSAnMCUnOwogICAgICAgICAgICAgICAgICAgICAgICBkaWZmQ2VsbC5jbGFzc0xpc3QuYWRkKCduZXV0cmFsJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZkNlbGwudGV4dENvbnRlbnQgPSAnTi9BJzsKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZkNlbGwuY2xhc3NMaXN0LmFkZCgnbmV1dHJhbCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcnBhX2luaXQoKSB7CiAgICAgICAgICAgICAgICBycGFfdXBkYXRlVGV4dHNBbmRSZWdpb25OYW1lcygpOwogICAgICAgICAgICAgICAgY29uc3QgaW5pdExvYWQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lX2FyZWFfcHVyY2hhc2VfZ2FtZV93cmFwcGVyJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnBhX2FkZFByaW9yQnV0dG9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJwYV9jcmVhdGVNb2RhbCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoaW5pdExvYWQsIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHsKICAgICAgICAgICAgICAgICAgICBpbml0TG9hZCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXRMb2FkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBycGFfaW5pdCgpOwogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy8g0KHQutGA0LjQv9GCINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90L7QuSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQvtCxINC40LPRgNC1INC/0YDQuCDQvdCw0LLQtdC00LXQvdC40Lgg0L3QsCDQvdC10ZEg0L3QsCDRgdGC0YDQsNC90LjRhtC1INC/0L7QuNGB0LrQsCDQv9C+INC60LDRgtCw0LvQvtCz0YMgfCBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vc2VhcmNoLwogICAgaWYgKHNjcmlwdHNDb25maWcuY2F0YWxvZ0luZm8gJiYgdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvc2VhcmNoJykpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgICAgICAgIGNvbnN0IEFMRVhBTkRFUl9BUElfVVJMID0gImh0dHBzOi8vYXBpLnN0ZWFtcG93ZXJlZC5jb20vSVN0b3JlQnJvd3NlU2VydmljZS9HZXRJdGVtcy92MSI7CiAgICAgICAgICAgIGNvbnN0IEhBTk5JQkFMX1dBSVRfVElNRSA9IDIwMDA7CiAgICAgICAgICAgIGNvbnN0IENBRVNBUl9WSVNJQkxFX0VMRU1FTlRTX1NFTEVDVE9SID0gImEuc2VhcmNoX3Jlc3VsdF9yb3dbZGF0YS1kcy1hcHBpZF0iOwogICAgICAgICAgICBjb25zdCBOQVBPTEVPTl9IT1ZFUl9FTEVNRU5UX1NFTEVDVE9SID0gImEuc2VhcmNoX3Jlc3VsdF9yb3ciOwoKICAgICAgICAgICAgbGV0IEdFTmdoaXNfY29sbGVjdGVkQXBwSWRzID0gbmV3IFNldCgpOwogICAgICAgICAgICBsZXQgQVRUSUxBX3Rvb2x0aXAgPSBudWxsOwogICAgICAgICAgICBsZXQgU0FMQURJTl9ob3ZlclRpbWVyID0gbnVsbDsKICAgICAgICAgICAgbGV0IFRBTUVSTEFOX2hpZGVUaW1lciA9IG51bGw7CgogICAgICAgICAgICBsZXQgUlVTU0lBTl9UUkFOU0xBVElPTl9DSEVDS0JPWCA9IG51bGw7CiAgICAgICAgICAgIGxldCBSVVNTSUFOX1ZPSUNFX0NIRUNLQk9YID0gbnVsbDsKICAgICAgICAgICAgbGV0IE5PX1JVU1NJQU5fQ0hFQ0tCT1ggPSBudWxsOwogICAgICAgICAgICBjb25zdCBTVEVBTV9UQUdTX0NBQ0hFX0tFWSA9ICdTdGVhbUVuaGFuY2VyX1RhZ3NDYWNoZV92Mic7CiAgICAgICAgICAgIGNvbnN0IFNURUFNX1RBR1NfVVJMID0gImh0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vMHduM2RnMGQvMjJhMzUxZmY0YzY1ZTUwYTlhOGFmNmRhMzYwZGVmYWQvcmF3L3N0ZWFtcnV0YWdzb3duZC5qc29uIjsKICAgICAgICAgICAgY29uc3QgT1dORURfQVBQU19DQUNIRV9LRVkgPSAnU3RlYW1FbmhhbmNlcl9Pd25lZEFwcHMnOwogICAgICAgICAgICBjb25zdCBVU0VSREFUQV9VUkwgPSAnaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2R5bmFtaWNzdG9yZS91c2VyZGF0YS8nOwogICAgICAgICAgICBjb25zdCBDQUNIRV9EVVJBVElPTiA9IDI0ICogNjAgKiA2MCAqIDEwMDA7CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkU3RlYW1UYWdzKCkgewogICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gR01fZ2V0VmFsdWUoU1RFQU1fVEFHU19DQUNIRV9LRVksIHsKICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLAogICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICAgICAgICAgICAgY29uc3QgQ0FDSEVfRFVSQVRJT04gPSA3NDQgKiA2MCAqIDYwICogMTAwMDsKCiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkLmRhdGEgJiYgKG5vdyAtIGNhY2hlZC50aW1lc3RhbXApIDwgQ0FDSEVfRFVSQVRJT04pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogU1RFQU1fVEFHU19VUkwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IHJlc29sdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiByZWplY3QKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTVEVBTV9UQUdTX0NBQ0hFX0tFWSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbm93CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0YLQtdCz0L7QsjonLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkLmRhdGEgfHwge307CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBmZXRjaE93bmVkQXBwcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IEdNX2dldFZhbHVlKE9XTkVEX0FQUFNfQ0FDSEVfS0VZLCB7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsKCiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkLmRhdGEgJiYgKG5vdyAtIGNhY2hlZC50aW1lc3RhbXApIDwgQ0FDSEVfRFVSQVRJT04pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogVVNFUkRBVEFfVVJMLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3duZWRBcHBzID0gZGF0YS5yZ093bmVkQXBwcyB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoT1dORURfQVBQU19DQUNIRV9LRVksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG93bmVkQXBwcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbm93CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3duZWRBcHBzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDRgdC/0LjRgdC60LAg0LjQs9GAOicsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWQuZGF0YSB8fCBbXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGZldGNoR2FtZURhdGEoYXBwSWRzKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEpzb24gPSB7CiAgICAgICAgICAgICAgICAgICAgaWRzOiBBcnJheS5mcm9tKGFwcElkcykubWFwKGFwcGlkID0+ICh7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGlkCiAgICAgICAgICAgICAgICAgICAgfSkpLAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICJydXNzaWFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeV9jb2RlOiAiVVMiLAogICAgICAgICAgICAgICAgICAgICAgICBzdGVhbV9yZWFsbTogMQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGF0YV9yZXF1ZXN0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYXNzZXRzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3JlbGVhc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcGxhdGZvcm1zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2FsbF9wdXJjaGFzZV9vcHRpb25zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3NjcmVlbnNob3RzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3RyYWlsZXJzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3JhdGluZ3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfdGFnX2NvdW50OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3Jldmlld3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYmFzaWNfaW5mbzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9zdXBwb3J0ZWRfbGFuZ3VhZ2VzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Z1bGxfZGVzY3JpcHRpb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfaW5jbHVkZWRfaXRlbXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVkX2l0ZW1fZGF0YV9yZXF1ZXN0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Fzc2V0czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmVsZWFzZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcGxhdGZvcm1zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9hbGxfcHVyY2hhc2Vfb3B0aW9uczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfc2NyZWVuc2hvdHM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3RyYWlsZXJzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9yYXRpbmdzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV90YWdfY291bnQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3Jldmlld3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Jhc2ljX2luZm86IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3N1cHBvcnRlZF9sYW5ndWFnZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Z1bGxfZGVzY3JpcHRpb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2luY2x1ZGVkX2l0ZW1zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9hc3NldHNfd2l0aG91dF9vdmVycmlkZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseV91c2VyX2ZpbHRlcnM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9saW5rczogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Fzc2V0c193aXRob3V0X292ZXJyaWRlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlfdXNlcl9maWx0ZXJzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9saW5rczogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtBTEVYQU5ERVJfQVBJX1VSTH0/aW5wdXRfanNvbj0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpbnB1dEpzb24pKX1gLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0dhbWVEYXRhKGRhdGEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBwcm9jZXNzR2FtZURhdGEoZGF0YSkgewogICAgICAgICAgICAgICAgY29uc3Qgb3duZWRBcHBzID0gYXdhaXQgZmV0Y2hPd25lZEFwcHMoKTsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZGF0YS5yZXNwb25zZS5zdG9yZV9pdGVtczsKICAgICAgICAgICAgICAgIGNvbnN0IGRsY0ZpbHRlckFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhcmFtPSJ5b3VyX2RsYyJdIC50YWJfZmlsdGVyX2NvbnRyb2wnKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJyk7CgogICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHBJZCA9IGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhLnNlYXJjaF9yZXN1bHRfcm93W2RhdGEtZHMtYXBwaWQ9IiR7YXBwSWR9Il1gKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19lYXJseV9hY2Nlc3M6IGl0ZW0uaXNfZWFybHlfYWNjZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3X2NvdW50OiBpdGVtLnJldmlld3M/LnN1bW1hcnlfZmlsdGVyZWQ/LnJldmlld19jb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRfcG9zaXRpdmU6IGl0ZW0ucmV2aWV3cz8uc3VtbWFyeV9maWx0ZXJlZD8ucGVyY2VudF9wb3NpdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0X2Rlc2NyaXB0aW9uOiBpdGVtLmJhc2ljX2luZm8/LnNob3J0X2Rlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyczogaXRlbS5iYXNpY19pbmZvPy5wdWJsaXNoZXJzPy5tYXAocCA9PiBwLm5hbWUpLmpvaW4oIiwgIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZlbG9wZXJzOiBpdGVtLmJhc2ljX2luZm8/LmRldmVsb3BlcnM/Lm1hcChkID0+IGQubmFtZSkuam9pbigiLCAiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW5jaGlzZXM6IGl0ZW0uYmFzaWNfaW5mbz8uZnJhbmNoaXNlcz8ubWFwKGYgPT4gZi5uYW1lKS5qb2luKCIsICIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnaWRzOiBpdGVtLnRhZ2lkcyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbjogaXRlbS5zdXBwb3J0ZWRfbGFuZ3VhZ2VzPy5maW5kKGxhbmcgPT4gbGFuZy5lbGFuZ3VhZ2UgPT09IDgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2Vfc3VwcG9ydF9lbmdsaXNoOiBpdGVtLnN1cHBvcnRlZF9sYW5ndWFnZXM/LmZpbmQobGFuZyA9PiBsYW5nLmVsYW5ndWFnZSA9PT0gMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfYXBwaWQ6IGl0ZW0ucmVsYXRlZF9pdGVtcz8ucGFyZW50X2FwcGlkCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBnYW1lRWxlbWVudC5kYXRhc2V0LmdhbWVJbmZvID0gSlNPTi5zdHJpbmdpZnkoZ2FtZURhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICBhcHBseVJ1c3NpYW5MYW5ndWFnZUZpbHRlcihnYW1lRWxlbWVudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSA0ICYmIGl0ZW0ucmVsYXRlZF9pdGVtcz8ucGFyZW50X2FwcGlkICYmIG93bmVkQXBwcy5pbmNsdWRlcyhpdGVtLnJlbGF0ZWRfaXRlbXMucGFyZW50X2FwcGlkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZXNfaGlnaGxpZ2h0ZWRfZGxjZm9yeWEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRsY0ZpbHRlckFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEbGNGaWx0ZXIoZ2FtZUVsZW1lbnQsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbGxlY3RBbmRGZXRjaEFwcElkcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHZpc2libGVFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQ0FFU0FSX1ZJU0lCTEVfRUxFTUVOVFNfU0VMRUNUT1IpOwogICAgICAgICAgICAgICAgY29uc3QgbmV3QXBwSWRzID0gbmV3IFNldCgpOwoKICAgICAgICAgICAgICAgIHZpc2libGVFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkID0gZWxlbWVudC5kYXRhc2V0LmRzQXBwaWQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFHRU5naGlzX2NvbGxlY3RlZEFwcElkcy5oYXMoYXBwSWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FwcElkcy5hZGQocGFyc2VJbnQoYXBwSWQsIDEwKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIEdFTmdoaXNfY29sbGVjdGVkQXBwSWRzLmFkZChhcHBJZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKG5ld0FwcElkcy5zaXplID4gMCkgewogICAgICAgICAgICAgICAgICAgIGZldGNoR2FtZURhdGEobmV3QXBwSWRzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlSG92ZXIoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVFbGVtZW50ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoTkFQT0xFT05fSE9WRVJfRUxFTUVOVF9TRUxFQ1RPUik7CgogICAgICAgICAgICAgICAgaWYgKGdhbWVFbGVtZW50ICYmIGdhbWVFbGVtZW50LmRhdGFzZXQuZ2FtZUluZm8pIHsKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoU0FMQURJTl9ob3ZlclRpbWVyKTsKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoVEFNRVJMQU5faGlkZVRpbWVyKTsKCiAgICAgICAgICAgICAgICAgICAgU0FMQURJTl9ob3ZlclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gSlNPTi5wYXJzZShnYW1lRWxlbWVudC5kYXRhc2V0LmdhbWVJbmZvKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUdhbWVJbmZvKGdhbWVFbGVtZW50LCBnYW1lRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KFNBTEFESU5faG92ZXJUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KFRBTUVSTEFOX2hpZGVUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgaWYgKEFUVElMQV90b29sdGlwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFUVElMQV90b29sdGlwLnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFUVElMQV90b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRSZXZpZXdDbGFzc0NhdGFsb2cocGVyY2VudCwgdG90YWxSZXZpZXdzKSB7CiAgICAgICAgICAgICAgICBpZiAodG90YWxSZXZpZXdzID09PSAwKSByZXR1cm4gJ2NhdGFsb2ctbm8tcmV2aWV3cyc7CiAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA+PSA3MCkgcmV0dXJuICdjYXRhbG9nLXBvc2l0aXZlJzsKICAgICAgICAgICAgICAgIGlmIChwZXJjZW50ID49IDQwKSByZXR1cm4gJ2NhdGFsb2ctbWl4ZWQnOwogICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gMSkgcmV0dXJuICdjYXRhbG9nLW5lZ2F0aXZlJzsKICAgICAgICAgICAgICAgIHJldHVybiAnY2F0YWxvZy1uZWdhdGl2ZSc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldFRhZ05hbWVzKHRhZ0lkcykgewogICAgICAgICAgICAgICAgY29uc3QgdGFnc0RhdGEgPSBhd2FpdCBsb2FkU3RlYW1UYWdzKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGFnSWRzLnNsaWNlKDAsIDUpLm1hcCh0YWdJZCA9PgogICAgICAgICAgICAgICAgICAgIHRhZ3NEYXRhW3RhZ0lkXSB8fCBg0KLQtdCzICMke3RhZ0lkfWAKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGRpc3BsYXlHYW1lSW5mbyhlbGVtZW50LCBkYXRhKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFUVElMQV90b29sdGlwKSB7CiAgICAgICAgICAgICAgICAgICAgQVRUSUxBX3Rvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBBVFRJTEFfdG9vbHRpcC5jbGFzc05hbWUgPSAnY3VzdG9tLXRvb2x0aXAnOwogICAgICAgICAgICAgICAgICAgIEFUVElMQV90b29sdGlwLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWNvbnRlbnQiPjwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChBVFRJTEFfdG9vbHRpcCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcENvbnRlbnQgPSBBVFRJTEFfdG9vbHRpcC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1jb250ZW50Jyk7CgogICAgICAgICAgICAgICAgbGV0IGxhbmd1YWdlU3VwcG9ydFJ1c3NpYW5UZXh0ID0gItCe0YLRgdGD0YLRgdGC0LLRg9C10YIiOwogICAgICAgICAgICAgICAgbGV0IGxhbmd1YWdlU3VwcG9ydFJ1c3NpYW5DbGFzcyA9ICdjYXRhbG9nLWxhbmd1YWdlLW5vJzsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbikgewogICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlU3VwcG9ydFJ1c3NpYW5UZXh0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9ydXNzaWFuLnN1cHBvcnRlZCkgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhblRleHQgKz0gIjxicj7QmNC90YLQtdGA0YTQtdC50YE6IOKclCAiOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbi5mdWxsX2F1ZGlvKSBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dCArPSAiPGJyPtCe0LfQstGD0YfQutCwOiDinJQgIjsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sYW5ndWFnZV9zdXBwb3J0X3J1c3NpYW4uc3VidGl0bGVzKSBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dCArPSAiPGJyPtCh0YPQsdGC0LjRgtGA0Ys6IOKclCI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlU3VwcG9ydFJ1c3NpYW5UZXh0ID09PSAiIikgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhblRleHQgPSAi0J7RgtGB0YPRgtGB0YLQstGD0LXRgiI7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuQ2xhc3MgPSAnY2F0YWxvZy1sYW5ndWFnZS15ZXMnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxldCBsYW5ndWFnZVN1cHBvcnRFbmdsaXNoVGV4dCA9ICLQntGC0YHRg9GC0YHRgtCy0YPQtdGCIjsKICAgICAgICAgICAgICAgIGxldCBsYW5ndWFnZVN1cHBvcnRFbmdsaXNoQ2xhc3MgPSAnY2F0YWxvZy1sYW5ndWFnZS1ubyc7CiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0c0NvbmZpZy50b2dnbGVFbmdsaXNoTGFuZ0luZm8gJiYgZGF0YS5sYW5ndWFnZV9zdXBwb3J0X2VuZ2xpc2gpIHsKICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZVN1cHBvcnRFbmdsaXNoVGV4dCA9ICIiOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlX3N1cHBvcnRfZW5nbGlzaC5zdXBwb3J0ZWQpIGxhbmd1YWdlU3VwcG9ydEVuZ2xpc2hUZXh0ICs9ICI8YnI+0JjQvdGC0LXRgNGE0LXQudGBOiDinJQgIjsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sYW5ndWFnZV9zdXBwb3J0X2VuZ2xpc2guZnVsbF9hdWRpbykgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaFRleHQgKz0gIjxicj7QntC30LLRg9GH0LrQsDog4pyUICI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9lbmdsaXNoLnN1YnRpdGxlcykgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaFRleHQgKz0gIjxicj7QodGD0LHRgtC40YLRgNGLOiDinJQiOwogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZVN1cHBvcnRFbmdsaXNoVGV4dCA9PT0gIiIpIGxhbmd1YWdlU3VwcG9ydEVuZ2xpc2hUZXh0ID0gItCe0YLRgdGD0YLRgdGC0LLRg9C10YIiOwogICAgICAgICAgICAgICAgICAgIGVsc2UgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaENsYXNzID0gJ2NhdGFsb2ctbGFuZ3VhZ2UteWVzJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCByZXZpZXdDbGFzcyA9IGdldFJldmlld0NsYXNzQ2F0YWxvZyhkYXRhLnBlcmNlbnRfcG9zaXRpdmUsIGRhdGEucmV2aWV3X2NvdW50KTsKICAgICAgICAgICAgICAgIGNvbnN0IGVhcmx5QWNjZXNzQ2xhc3MgPSBkYXRhLmlzX2Vhcmx5X2FjY2VzcyA/ICdjYXRhbG9nLWVhcmx5LWFjY2Vzcy15ZXMnIDogJ2NhdGFsb2ctZWFybHktYWNjZXNzLW5vJzsKICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCBnZXRUYWdOYW1lcyhkYXRhLnRhZ2lkcyB8fCBbXSk7CiAgICAgICAgICAgICAgICBjb25zdCB0YWdzSHRtbCA9IHRhZ3MubWFwKHRhZyA9PgogICAgICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPSJjdXN0b20tdGFnIj4ke3RhZ308L2Rpdj5gCiAgICAgICAgICAgICAgICApLmpvaW4oJycpOwoKICAgICAgICAgICAgICAgIHRvb2x0aXBDb250ZW50LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwcHg7Ij48c3Ryb25nPtCY0LfQtNCw0YLQtdC70Lg6PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSIkeyFkYXRhLnB1Ymxpc2hlcnMgPyAnY2F0YWxvZy1uby1yZXZpZXdzJyA6ICcnfSI+JHtkYXRhLnB1Ymxpc2hlcnMgfHwgItCd0LXRgiDQtNCw0L3QvdGL0YUifTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwcHg7Ij48c3Ryb25nPtCg0LDQt9GA0LDQsdC+0YLRh9C40LrQuDo8L3N0cm9uZz4gPHNwYW4gY2xhc3M9IiR7IWRhdGEuZGV2ZWxvcGVycyA/ICdjYXRhbG9nLW5vLXJldmlld3MnIDogJyd9Ij4ke2RhdGEuZGV2ZWxvcGVycyB8fCAi0J3QtdGCINC00LDQvdC90YvRhSJ9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCh0LXRgNC40Y8g0LjQs9GAOjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHshZGF0YS5mcmFuY2hpc2VzID8gJ2NhdGFsb2ctbm8tcmV2aWV3cycgOiAnJ30iPiR7ZGF0YS5mcmFuY2hpc2VzIHx8ICLQndC10YIg0LTQsNC90L3Ri9GFIn08L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPjxzdHJvbmc+0J7RgtC30YvQstGLOiA8L3N0cm9uZz48c3BhbiBpZD0icmV2aWV3Q291bnQiPiR7ZGF0YS5yZXZpZXdfY291bnQgfHwgIjAifSA8L3NwYW4+PHNwYW4gY2xhc3M9IiR7cmV2aWV3Q2xhc3N9Ij4oJHtkYXRhLnBlcmNlbnRfcG9zaXRpdmUgfHwgIjAifSUg0L/QvtC70L7QttC40YLQtdC70YzQvdGL0YUpPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCg0LDQvdC90LjQuSDQtNC+0YHRgtGD0L86PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSIke2Vhcmx5QWNjZXNzQ2xhc3N9Ij4ke2RhdGEuaXNfZWFybHlfYWNjZXNzID8gItCU0LAiIDogItCd0LXRgiJ9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCg0YPRgdGB0LrQuNC5INGP0LfRi9C6Ojwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHtsYW5ndWFnZVN1cHBvcnRSdXNzaWFuQ2xhc3N9Ij4ke2xhbmd1YWdlU3VwcG9ydFJ1c3NpYW5UZXh0fTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAke3NjcmlwdHNDb25maWcudG9nZ2xlRW5nbGlzaExhbmdJbmZvID8gYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCQ0L3Qs9C70LjQudGB0LrQuNC5INGP0LfRi9C6Ojwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHtsYW5ndWFnZVN1cHBvcnRFbmdsaXNoQ2xhc3N9Ij4ke2xhbmd1YWdlU3VwcG9ydEVuZ2xpc2hUZXh0fTwvc3Bhbj48L2Rpdj5gIDogJyd9CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPjxzdHJvbmc+0JzQtdGC0LrQuDo8L3N0cm9uZz48YnI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9tLXRhZ3MtY29udGFpbmVyIj4ke3RhZ3NIdG1sfTwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCe0L/QuNGB0LDQvdC40LU6PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSIkeyFkYXRhLnNob3J0X2Rlc2NyaXB0aW9uID8gJ2NhdGFsb2ctbm8tcmV2aWV3cycgOiAnJ30iPiR7ZGF0YS5zaG9ydF9kZXNjcmlwdGlvbiB8fCAi0J3QtdGCINC00LDQvdC90YvRhSJ9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICBBVFRJTEFfdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBSZWN0ID0gQVRUSUxBX3Rvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgICAgICBBVFRJTEFfdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFggLSB0b29sdGlwUmVjdC53aWR0aCAtIDR9cHhgOwogICAgICAgICAgICAgICAgQVRUSUxBX3Rvb2x0aXAuc3R5bGUudG9wID0gYCR7cmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWSAtIDIwfXB4YDsKCiAgICAgICAgICAgICAgICBBVFRJTEFfdG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMDsKICAgICAgICAgICAgICAgIEFUVElMQV90b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgQVRUSUxBX3Rvb2x0aXAuc3R5bGUub3BhY2l0eSA9IDE7CiAgICAgICAgICAgICAgICB9LCAxMCk7CgogICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChUQU1FUkxBTl9oaWRlVGltZXIpOwogICAgICAgICAgICAgICAgICAgIFRBTUVSTEFOX2hpZGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBBVFRJTEFfdG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBVFRJTEFfdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgb25jZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KFRBTUVSTEFOX2hpZGVUaW1lcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlUnVzc2lhbkxhbmd1YWdlRmlsdGVyQmxvY2soKSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZmlsdGVyQmxvY2suY2xhc3NOYW1lID0gJ2Jsb2NrIHNlYXJjaF9jb2xsYXBzZV9ibG9jayc7CiAgICAgICAgICAgICAgICBmaWx0ZXJCbG9jay5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLXBhbmVsPSJ7JnF1b3Q7Zm9jdXNhYmxlJnF1b3Q7OnRydWUsJnF1b3Q7Y2xpY2tPbkFjdGl2YXRlJnF1b3Q7OnRydWV9IiBjbGFzcz0iYmxvY2tfaGVhZGVyIGxhYnNfYmxvY2tfaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj7QoNGD0YHRgdC60LjQuSDQv9C10YDQtdCy0L7QtDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJsb2NrX2NvbnRlbnQgYmxvY2tfY29udGVudF9pbm5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9yb3ciIGRhdGEtcGFyYW09InJ1c3NpYW5fdHJhbnNsYXRpb24iIGRhdGEtdmFsdWU9Il9fdG9nZ2xlIiBkYXRhLWxvYz0i0KLQvtC70YzQutC+INGC0LXQutGB0YIiIGRhdGEtY2xpZW50c2lkZT0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLXBhbmVsPSJ7JnF1b3Q7Zm9jdXNhYmxlJnF1b3Q7OnRydWUsJnF1b3Q7Y2xpY2tPbkFjdGl2YXRlJnF1b3Q7OnRydWV9IiBjbGFzcz0idGFiX2ZpbHRlcl9jb250cm9sIHRhYl9maWx0ZXJfY29udHJvbF9pbmNsdWRlIiBkYXRhLXBhcmFtPSJydXNzaWFuX3RyYW5zbGF0aW9uIiBkYXRhLXZhbHVlPSJfX3RvZ2dsZSIgZGF0YS1sb2M9ItCi0L7Qu9GM0LrQviDRgtC10LrRgdGCIiBkYXRhLWNsaWVudHNpZGU9IjAiIGRhdGEtZ3Bmb2N1cz0iaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY2hlY2tib3giPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9sYWJlbCI+0KLQvtC70YzQutC+INGC0LXQutGB0YI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY291bnQiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9yb3ciIGRhdGEtcGFyYW09InJ1c3NpYW5fdm9pY2UiIGRhdGEtdmFsdWU9Il9fdG9nZ2xlIiBkYXRhLWxvYz0i0J7Qt9Cy0YPRh9C60LAiIGRhdGEtY2xpZW50c2lkZT0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLXBhbmVsPSJ7JnF1b3Q7Zm9jdXNhYmxlJnF1b3Q7OnRydWUsJnF1b3Q7Y2xpY2tPbkFjdGl2YXRlJnF1b3Q7OnRydWV9IiBjbGFzcz0idGFiX2ZpbHRlcl9jb250cm9sIHRhYl9maWx0ZXJfY29udHJvbF9pbmNsdWRlIiBkYXRhLXBhcmFtPSJydXNzaWFuX3ZvaWNlIiBkYXRhLXZhbHVlPSJfX3RvZ2dsZSIgZGF0YS1sb2M9ItCe0LfQstGD0YfQutCwIiBkYXRhLWNsaWVudHNpZGU9IjAiIGRhdGEtZ3Bmb2N1cz0iaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY2hlY2tib3giPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9sYWJlbCI+0J7Qt9Cy0YPRh9C60LA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY291bnQiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9yb3ciIGRhdGEtcGFyYW09Im5vX3J1c3NpYW4iIGRhdGEtdmFsdWU9Il9fdG9nZ2xlIiBkYXRhLWxvYz0i0JHQtdC3INC/0LXRgNC10LLQvtC00LAiIGRhdGEtY2xpZW50c2lkZT0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLXBhbmVsPSJ7JnF1b3Q7Zm9jdXNhYmxlJnF1b3Q7OnRydWUsJnF1b3Q7Y2xpY2tPbkFjdGl2YXRlJnF1b3Q7OnRydWV9IiBjbGFzcz0idGFiX2ZpbHRlcl9jb250cm9sIHRhYl9maWx0ZXJfY29udHJvbF9pbmNsdWRlIiBkYXRhLXBhcmFtPSJub19ydXNzaWFuIiBkYXRhLXZhbHVlPSJfX3RvZ2dsZSIgZGF0YS1sb2M9ItCR0LXQtyDQv9C10YDQtdCy0L7QtNCwIiBkYXRhLWNsaWVudHNpZGU9IjAiIGRhdGEtZ3Bmb2N1cz0iaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY2hlY2tib3giPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9sYWJlbCI+0JHQtdC3INC/0LXRgNC10LLQvtC00LA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY291bnQiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgIGNvbnN0IGRsY0ZpbHRlckJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBkbGNGaWx0ZXJCbG9jay5jbGFzc05hbWUgPSAnYmxvY2sgc2VhcmNoX2NvbGxhcHNlX2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRsY0ZpbHRlckJsb2NrLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtcGFuZWw9InsmcXVvdDtmb2N1c2FibGUmcXVvdDs6dHJ1ZSwmcXVvdDtjbGlja09uQWN0aXZhdGUmcXVvdDs6dHJ1ZX0iIGNsYXNzPSJibG9ja19oZWFkZXIgbGFic19ibG9ja19oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PkRMQzwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJsb2NrX2NvbnRlbnQgYmxvY2tfY29udGVudF9pbm5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9yb3ciIGRhdGEtcGFyYW09InlvdXJfZGxjIiBkYXRhLXZhbHVlPSJfX3RvZ2dsZSIgZGF0YS1sb2M9ItCi0L7Qu9GM0LrQviDQstCw0YjQuCBETEMiIGRhdGEtY2xpZW50c2lkZT0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLXBhbmVsPSJ7JnF1b3Q7Zm9jdXNhYmxlJnF1b3Q7OnRydWUsJnF1b3Q7Y2xpY2tPbkFjdGl2YXRlJnF1b3Q7OnRydWV9IiBjbGFzcz0idGFiX2ZpbHRlcl9jb250cm9sIHRhYl9maWx0ZXJfY29udHJvbF9pbmNsdWRlIiBkYXRhLXBhcmFtPSJ5b3VyX2RsYyIgZGF0YS12YWx1ZT0iX190b2dnbGUiIGRhdGEtbG9jPSLQotC+0LvRjNC60L4g0LLQsNGI0LggRExDIiBkYXRhLWNsaWVudHNpZGU9IjAiIGRhdGEtZ3Bmb2N1cz0iaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0YWJfZmlsdGVyX2NvbnRyb2xfY2hlY2tib3giPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9sYWJlbCI+0KLQvtC70YzQutC+INCy0LDRiNC4IERMQzwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRhYl9maWx0ZXJfY29udHJvbF9jb3VudCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgY29uc3QgcHJpY2VCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG9jay5zZWFyY2hfY29sbGFwc2VfYmxvY2tbZGF0YS1jb2xsYXBzZS1uYW1lPSJwcmljZSJdJyk7CiAgICAgICAgICAgICAgICBwcmljZUJsb2NrLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZpbHRlckJsb2NrLCBwcmljZUJsb2NrLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgICAgIHByaWNlQmxvY2sucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZGxjRmlsdGVyQmxvY2ssIGZpbHRlckJsb2NrLm5leHRTaWJsaW5nKTsKCiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2xhdGlvblJvdyA9IGZpbHRlckJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhcmFtPSJydXNzaWFuX3RyYW5zbGF0aW9uIl0nKTsKICAgICAgICAgICAgICAgIGNvbnN0IHZvaWNlUm93ID0gZmlsdGVyQmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtcGFyYW09InJ1c3NpYW5fdm9pY2UiXScpOwogICAgICAgICAgICAgICAgY29uc3Qgbm9SdXNzaWFuUm93ID0gZmlsdGVyQmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtcGFyYW09Im5vX3J1c3NpYW4iXScpOwogICAgICAgICAgICAgICAgY29uc3QgZGxjUm93ID0gZGxjRmlsdGVyQmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtcGFyYW09InlvdXJfZGxjIl0nKTsKCiAgICAgICAgICAgICAgICBbdHJhbnNsYXRpb25Sb3csIHZvaWNlUm93LCBub1J1c3NpYW5Sb3ddLmZvckVhY2gocm93ID0+IHsKICAgICAgICAgICAgICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2wgPSByb3cucXVlcnlTZWxlY3RvcignLnRhYl9maWx0ZXJfY29udHJvbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXNDaGVja2VkID0gY29udHJvbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFuc2xhdGlvblJvdywgdm9pY2VSb3csIG5vUnVzc2lhblJvd10uZm9yRWFjaChyID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucXVlcnlTZWxlY3RvcignLnRhYl9maWx0ZXJfY29udHJvbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FzQ2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbC5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKENBRVNBUl9WSVNJQkxFX0VMRU1FTlRTX1NFTEVDVE9SKS5mb3JFYWNoKGdhbWVFbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5UnVzc2lhbkxhbmd1YWdlRmlsdGVyKGdhbWVFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBkbGNSb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbCA9IGRsY1Jvdy5xdWVyeVNlbGVjdG9yKCcudGFiX2ZpbHRlcl9jb250cm9sJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDaGVja2VkID0gIWNvbnRyb2wuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJyk7CgogICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuY2xhc3NMaXN0LnRvZ2dsZSgnY2hlY2tlZCcpOwogICAgICAgICAgICAgICAgICAgIGRsY1Jvdy5jbGFzc0xpc3QudG9nZ2xlKCdjaGVja2VkJyk7CgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQ0FFU0FSX1ZJU0lCTEVfRUxFTUVOVFNfU0VMRUNUT1IpLmZvckVhY2goZ2FtZUVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBhcHBseURsY0ZpbHRlcihnYW1lRWxlbWVudCwgaXNDaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhcHBseURsY0ZpbHRlcihnYW1lRWxlbWVudCwgc2hvd09ubHlEbGMpIHsKICAgICAgICAgICAgICAgIGlmICghZ2FtZUVsZW1lbnQuZGF0YXNldC5nYW1lSW5mbykgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gSlNPTi5wYXJzZShnYW1lRWxlbWVudC5kYXRhc2V0LmdhbWVJbmZvKTsKICAgICAgICAgICAgICAgIGNvbnN0IGlzRGxjRm9yT3duZWRHYW1lID0gZ2FtZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlc19oaWdobGlnaHRlZF9kbGNmb3J5YScpOwoKICAgICAgICAgICAgICAgIGlmIChzaG93T25seURsYykgewogICAgICAgICAgICAgICAgICAgIGlmICghaXNEbGNGb3JPd25lZEdhbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZURpc2FwcGVhcmFuY2UoZ2FtZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVBcHBlYXJhbmNlKGdhbWVFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFuaW1hdGVBcHBlYXJhbmNlKGdhbWVFbGVtZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gYXBwbHlSdXNzaWFuTGFuZ3VhZ2VGaWx0ZXIoZ2FtZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGlmICghZ2FtZUVsZW1lbnQuZGF0YXNldC5nYW1lSW5mbykgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gSlNPTi5wYXJzZShnYW1lRWxlbWVudC5kYXRhc2V0LmdhbWVJbmZvKTsKICAgICAgICAgICAgICAgIGNvbnN0IGhhc1J1c3NpYW5UZXh0ID0gZ2FtZURhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9ydXNzaWFuPy5zdXBwb3J0ZWQgfHwgZ2FtZURhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9ydXNzaWFuPy5zdWJ0aXRsZXM7CiAgICAgICAgICAgICAgICBjb25zdCBoYXNSdXNzaWFuVm9pY2UgPSBnYW1lRGF0YS5sYW5ndWFnZV9zdXBwb3J0X3J1c3NpYW4/LmZ1bGxfYXVkaW87CiAgICAgICAgICAgICAgICBjb25zdCBoYXNBbnlSdXNzaWFuID0gaGFzUnVzc2lhblRleHQgfHwgaGFzUnVzc2lhblZvaWNlOwoKICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uQ2hlY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhcmFtPSJydXNzaWFuX3RyYW5zbGF0aW9uIl0gLnRhYl9maWx0ZXJfY29udHJvbCcpLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpOwogICAgICAgICAgICAgICAgY29uc3Qgdm9pY2VDaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFyYW09InJ1c3NpYW5fdm9pY2UiXSAudGFiX2ZpbHRlcl9jb250cm9sJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJyk7CiAgICAgICAgICAgICAgICBjb25zdCBub1J1c3NpYW5DaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFyYW09Im5vX3J1c3NpYW4iXSAudGFiX2ZpbHRlcl9jb250cm9sJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJyk7CiAgICAgICAgICAgICAgICBjb25zdCBkbGNGaWx0ZXJBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYXJhbT0ieW91cl9kbGMiXSAudGFiX2ZpbHRlcl9jb250cm9sJyk/LmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpOwoKICAgICAgICAgICAgICAgIGlmIChkbGNGaWx0ZXJBY3RpdmUgJiYgIWdhbWVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZXNfaGlnaGxpZ2h0ZWRfZGxjZm9yeWEnKSkgewogICAgICAgICAgICAgICAgICAgIGFuaW1hdGVEaXNhcHBlYXJhbmNlKGdhbWVFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uQ2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGlmICghaGFzUnVzc2lhblRleHQgfHwgaGFzUnVzc2lhblZvaWNlKSBhbmltYXRlRGlzYXBwZWFyYW5jZShnYW1lRWxlbWVudCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBhbmltYXRlQXBwZWFyYW5jZShnYW1lRWxlbWVudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZvaWNlQ2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGlmICghaGFzUnVzc2lhblZvaWNlKSBhbmltYXRlRGlzYXBwZWFyYW5jZShnYW1lRWxlbWVudCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBhbmltYXRlQXBwZWFyYW5jZShnYW1lRWxlbWVudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vUnVzc2lhbkNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQW55UnVzc2lhbikgYW5pbWF0ZURpc2FwcGVhcmFuY2UoZ2FtZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgICAgIGVsc2UgYW5pbWF0ZUFwcGVhcmFuY2UoZ2FtZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbmltYXRlQXBwZWFyYW5jZShnYW1lRWxlbWVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFuaW1hdGVEaXNhcHBlYXJhbmNlKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IDAuNXMgZWFzZS1vdXQsIHRyYW5zZm9ybSAwLjVzIGVhc2Utb3V0JzsKICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLTEwMCUpJzsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhbmltYXRlQXBwZWFyYW5jZShlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtMTAwJSknOwogICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC41cyBlYXNlLWluLW91dCwgdHJhbnNmb3JtIDAuNXMgZWFzZS1pbi1vdXQnOwoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJzsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJzsKICAgICAgICAgICAgICAgIH0sIDApOwoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICcnOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZU5ld0VsZW1lbnRzKCkgewogICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RBbmRGZXRjaEFwcElkcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb2xsZWN0QW5kRmV0Y2hBcHBJZHMoKTsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZlTmV3RWxlbWVudHMoKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBoYW5kbGVIb3Zlcik7CiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUnVzc2lhbkxhbmd1YWdlRmlsdGVyQmxvY2soKTsKICAgICAgICAgICAgICAgIH0sIEhBTk5JQkFMX1dBSVRfVElNRSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGluaXRpYWxpemUoKTsKCiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgLmN1c3RvbS10b29sdGlwIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2UzZWFlZiwgI2M3ZDVlMCk7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMzMDQ1NWE7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTJweDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7CiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDEycHggIzAwMDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzMDBweDsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7CiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAudG9vbHRpcC1hcnJvdyB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtOXB4OwogICAgICAgICAgICAgICAgICAgIHRvcDogMzJweDsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMDsKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDA7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMTBweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxMHB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxMHB4IHNvbGlkICNFMUU4RUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY2F0YWxvZy1wb3NpdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyQjgwRTk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY2F0YWxvZy1taXhlZCB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5OTdhMDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY2F0YWxvZy1uZWdhdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNFNTNFM0U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY2F0YWxvZy1uby1yZXZpZXdzIHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzkyOTM5NjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5jYXRhbG9nLWxhbmd1YWdlLXllcyB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyQjgwRTk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY2F0YWxvZy1sYW5ndWFnZS1ubyB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNFNTNFM0U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY2F0YWxvZy1lYXJseS1hY2Nlc3MteWVzIHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzJCODBFOTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5jYXRhbG9nLWVhcmx5LWFjY2Vzcy1ubyB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5MjkzOTY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuc2VhcmNoX3Jlc3VsdF9yb3cgewogICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBlYXNlLWluLW91dCwgdHJhbnNmb3JtIDAuNXMgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY3VzdG9tLXRhZ3MtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgICAgICAgICBnYXA6IDNweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA2cHg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuY3VzdG9tLXRhZyB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzk2YTNhZTsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2UzZWFlZjsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDRweDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4OwogICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDIwMHB4OwogICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogM3B4OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLmVzX2hpZ2hsaWdodGVkX2RsY2ZvcnlhIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjODIyZGJmIGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMCwgMCwgMCwgMC43MCkgMTAlLCByZ2JhKDAsIDAsIDAsIDApIDEwMCUpICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy8g0KHQutGA0LjQv9GCINGB0LrRgNGL0YLQuNGPINC40LPRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0L/QvtC40YHQutCwINC/0L4g0LrQsNGC0LDQu9C+0LPRgyB8IGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9zZWFyY2gvCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5jYXRhbG9nSGlkZXIgJiYgdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvc2VhcmNoJykpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZEJlZXRsZXMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzY2FyYWJMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImEuc2VhcmNoX3Jlc3VsdF9yb3c6bm90KC5kc19pZ25vcmVkKTpub3QoLmRzX2V4Y2x1ZGVkX2J5X3ByZWZlcmVuY2VzKTpub3QoLmRzX3dpc2hsaXN0KTpub3QoLmRzX293bmVkKSIpOwogICAgICAgICAgICAgICAgc2NhcmFiTGlua3MuZm9yRWFjaChsaW5rID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAobGluay5xdWVyeVNlbGVjdG9yKCIubXktY2hlY2tib3giKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhZHlidWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgICAgICAgICAgICAgIGxhZHlidWcudHlwZSA9ICJjaGVja2JveCI7CiAgICAgICAgICAgICAgICAgICAgbGFkeWJ1Zy5jbGFzc05hbWUgPSAibXktY2hlY2tib3giOwogICAgICAgICAgICAgICAgICAgIGxhZHlidWcuZGF0YXNldC5hcGhpZCA9IGxpbmsuZGF0YXNldC5kc0FwcGlkOwogICAgICAgICAgICAgICAgICAgIGxpbmsuaW5zZXJ0QmVmb3JlKGxhZHlidWcsIGxpbmsuZmlyc3RDaGlsZCk7CgogICAgICAgICAgICAgICAgICAgIGxhZHlidWcuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMuY2hlY2tlZCA/ICJsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjMzgxNjE2LCAjNWQxNDE0KSIgOiAiIjsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBoaWRlU2VsZWN0ZWRDcmlja2V0cygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWRMYWR5YnVncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5teS1jaGVja2JveDpjaGVja2VkIik7CiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSUQgPSB0eXBlb2YgdW5zYWZlV2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHVuc2FmZVdpbmRvdy5nX3Nlc3Npb25JRCA6IHdpbmRvdy5nX3Nlc3Npb25JRDsKCiAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25JRCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYXRhbG9nSGlkZXJdINCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC70YPRh9C40YLRjCBnX3Nlc3Npb25JRCEnKTsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMIElEINGB0LXRgdGB0LjQuCDQtNC70Y8g0YHQutGA0YvRgtC40Y8g0LjQs9GALiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YPQsdC10LTQuNGC0LXRgdGMLCDRh9GC0L4g0LLRiyDQsNCy0YLQvtGA0LjQt9C+0LLQsNC90YsuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNoZWNrZWRMYWR5YnVncy5mb3JFYWNoKGxhZHlidWcgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwaGlkID0gbGFkeWJ1Zy5kYXRhc2V0LmFwaGlkOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW2RhdGEtZHMtYXBwaWQ9IiR7YXBoaWR9Il1gKTsKICAgICAgICAgICAgICAgICAgICBpZiAobGluaykgewogICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoImRzX2lnbm9yZWQiLCAiZHNfZmxhZ2dlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICBsYWR5YnVnLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICJodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vcmVjb21tZW5kZWQvaWdub3JlcmVjb21tZW5kYXRpb24vIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGBzZXNzaW9uaWQ9JHtzZXNzaW9uSUR9JmFwcGlkPSR7YXBoaWR9JnJlbW92ZT0wJnNucj0xX2FjY291bnRfbm90aW50ZXJlc3RlZF9gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0NhdGFsb2dIaWRlcl0g0JjQs9GA0LAg0YEgYXBwaWQgJHthcGhpZH0g0LTQvtCx0LDQstC70LXQvdCwINCyINGB0L/QuNGB0L7QuiDQuNCz0L3QvtGA0LjRgNGD0LXQvNC+0LPQvi5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVuc2FmZVdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdW5zYWZlV2luZG93LkdEeW5hbWljU3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LkdEeW5hbWljU3RvcmUuSW52YWxpZGF0ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0NhdGFsb2dIaWRlcl0g0J7RiNC40LHQutCwINC/0YDQuCDRgdC60YDRi9GC0LjQuCDQuNCz0YDRiyAke2FwaGlkfTpgLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCh1cGRhdGVBbnRDb3VudGVyLCA1MDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVJZ25vcmVkRHJhZ29uZmxpZXMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpZ25vcmVkR2FtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJhLnNlYXJjaF9yZXN1bHRfcm93LmRzX2lnbm9yZWQsIGEuc2VhcmNoX3Jlc3VsdF9yb3cuZHNfZXhjbHVkZWRfYnlfcHJlZmVyZW5jZXMsYS5zZWFyY2hfcmVzdWx0X3Jvdy5kc193aXNobGlzdCIpOwogICAgICAgICAgICAgICAgaWdub3JlZEdhbWVzLmZvckVhY2goZ2FtZSA9PiBnYW1lLnJlbW92ZSgpKTsKICAgICAgICAgICAgICAgIHVwZGF0ZUFudENvdW50ZXIoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQW50Q291bnRlcigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHNjYXJhYkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiYS5zZWFyY2hfcmVzdWx0X3Jvdzpub3QoLmRzX2lnbm9yZWQpOm5vdCguZHNfZXhjbHVkZWRfYnlfcHJlZmVyZW5jZXMpOm5vdCguZHNfd2lzaGxpc3QpOm5vdCguZHNfb3duZWQpIik7CiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaXRlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5nYW1lLWNvdW50ZXIiKTsKICAgICAgICAgICAgICAgIGlmICh0ZXJtaXRlRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIHRlcm1pdGVFbGVtZW50LnRleHRDb250ZW50ID0gYNCY0LPRgCDQvtGB0YLQsNC70L7RgdGMOiAke3NjYXJhYkxpbmtzLmxlbmd0aH1gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBncmFzc2hvcHBlckJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgICAgICBncmFzc2hvcHBlckJ1dHRvbi50ZXh0Q29udGVudCA9ICLQodC60YDRi9GC0Ywg0LLRi9Cx0YDQsNC90L3QvtC1IjsKICAgICAgICAgICAgZ3Jhc3Nob3BwZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoaWRlU2VsZWN0ZWRDcmlja2V0cyk7CiAgICAgICAgICAgIGdyYXNzaG9wcGVyQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm15LWJ1dHRvbiIsICJmbG9hdGluZy1idXR0b24iKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChncmFzc2hvcHBlckJ1dHRvbik7CgogICAgICAgICAgICBjb25zdCBjb2Nrcm9hY2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgY29ja3JvYWNoLnRleHRDb250ZW50ID0gItCY0LPRgCDQvtGB0YLQsNC70L7RgdGMOiAwIjsKICAgICAgICAgICAgY29ja3JvYWNoLmNsYXNzTGlzdC5hZGQoImdhbWUtY291bnRlciIsICJmbG9hdGluZy1idXR0b24iKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb2Nrcm9hY2gpOwoKCgogICAgICAgICAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdLm15LWNoZWNrYm94IHsKICAgICAgICAgICAgCS13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgCS1tb3otYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgCWFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgICAgIAlib3JkZXI6IDZweCBpbnNldCByZ2JhKDI1NSwgMCwgMCwgMC44KTsKICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgCXdpZHRoOiA0MnB4OwogICAgICAgICAgICAJaGVpZ2h0OiA0MnB4OwogICAgICAgICAgICAJb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgCXRyYW5zaXRpb246IC4xNXMgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgIAl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgICAgICAJcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAJbGVmdDogMHB4OwogICAgICAgICAgICAJdG9wOiA1MCU7CiAgICAgICAgICAgIAl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMCk7CiAgICAgICAgICAgIAlib3gtc2hhZG93OiBpbnNldCAwIDAgMCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsKICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgCXotaW5kZXg6IDk5OTk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdLm15LWNoZWNrYm94OmNoZWNrZWQgewogICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjYjcxYzFjOwogICAgICAgICAgICAJYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMTJweCByZ2JhKDI1NSwgMCwgMCwgMC41KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaW5wdXRbdHlwZT1jaGVja2JveF0ubXktY2hlY2tib3g6YWZ0ZXIgewogICAgICAgICAgICAJY29udGVudDogIiI7CiAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgCXBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgCWxlZnQ6IDUwJTsKICAgICAgICAgICAgCXRvcDogNTAlOwogICAgICAgICAgICAJdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMCk7CiAgICAgICAgICAgIAl3aWR0aDogMjVweDsKICAgICAgICAgICAgCWhlaWdodDogMjVweDsKICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC45KTsKICAgICAgICAgICAgCW9wYWNpdHk6IDAuOTsKICAgICAgICAgICAgCWJveC1zaGFkb3c6IDAgMCAwIDAgI2I3MWMxYzsKICAgICAgICAgICAgCXRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IC4xNXMgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdLm15LWNoZWNrYm94OmNoZWNrZWQ6YWZ0ZXIgewogICAgICAgICAgICAJdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSk7CiAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDAgMCA0cHggI2I3MWMxYzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLm15LWJ1dHRvbiB7CiAgICAgICAgICAgIAltYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgIAlwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA1MHB4OwogICAgICAgICAgICAJZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgCWNvbG9yOiAjZmZmOwogICAgICAgICAgICAJYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMTYyMDJELCAjMUIyODM4KTsKICAgICAgICAgICAgCWJveC1zaGFkb3c6IDBweCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgCWZvbnQtZmFtaWx5OiAiUm9ib3RvIiwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgCW1hcmdpbi10b3A6IDI0NXB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICAubXktYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgCWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzAwNzJmZiwgIzAwYzZmZik7CiAgICAgICAgICAgIAlib3gtc2hhZG93OiAwcHggNXB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAuZmxvYXRpbmctYnV0dG9uIHsKICAgICAgICAgICAgCXBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgCXRvcDogLTE4OXB4OwogICAgICAgICAgICAJbGVmdDogMjQwcHg7CiAgICAgICAgICAgIAl6LWluZGV4OiAxMDAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAuZ2FtZS1jb3VudGVyIHsKICAgICAgICAgICAgCW1hcmdpbi1yaWdodDogMTBweDsKICAgICAgICAgICAgCXBhZGRpbmc6IDEwcHggMjBweDsKICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDUwcHg7CiAgICAgICAgICAgIAlmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgIAlmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICAJY29sb3I6ICNmZmY7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMxNjIwMkQsICMxQjI4MzgpOwogICAgICAgICAgICAJYm94LXNoYWRvdzogMHB4IDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgICAgICAgICAJZm9udC1mYW1pbHk6ICJSb2JvdG8iLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAJbWFyZ2luLXRvcDogMTk1cHg7CiAgICAgICAgICAgIH0KICAgIGApOwoKICAgICAgICAgICAgY29uc3QgYnV0dGVyZmx5T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4gewogICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAiY2hpbGRMaXN0IiAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICBhZGRCZWV0bGVzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUlnbm9yZWREcmFnb25mbGllcygpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVBbnRDb3VudGVyKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYnV0dGVyZmx5T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYWRkQmVldGxlcygpOwogICAgICAgICAgICByZW1vdmVJZ25vcmVkRHJhZ29uZmxpZXMoKTsKICAgICAgICAgICAgdXBkYXRlQW50Q291bnRlcigpOwogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdC60YDRi9GC0LjRjyDQvdC+0LLQvtGB0YLQtdC5INCyINC90L7QstC+0YHRgtC90L7QvCDRhtC10L3RgtGA0LU6IHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL25ld3MvCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5uZXdzRmlsdGVyICYmIHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnL25ld3MnKSkgewogICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgICAgICAgZnVuY3Rpb24gcnVuTmV3c01pZ3JhdGlvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IE9MRF9TVE9SQUdFX0tFWSA9ICdoaWRkZW5OZXdzJzsKICAgICAgICAgICAgICAgIGNvbnN0IE5FV19TVE9SQUdFX0tFWSA9ICd1c2VfaGlkZGVuTmV3c0RhdGFfdjQnOwoKICAgICAgICAgICAgICAgIGNvbnN0IG9sZERhdGFSYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShPTERfU1RPUkFHRV9LRVkpOwoKICAgICAgICAgICAgICAgIGlmICghb2xkRGF0YVJhdykgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZERhdGEgPSBKU09OLnBhcnNlKG9sZERhdGFSYXcpOwogICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvbGREYXRhKSB8fCBvbGREYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShPTERfU1RPUkFHRV9LRVkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEYXRhID0gR01fZ2V0VmFsdWUoTkVXX1NUT1JBR0VfS0VZLCBbXSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdOZXdJZHMgPSBuZXcgU2V0KG5ld0RhdGEubWFwKGl0ZW0gPT4gaXRlbS5pZCkpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zVG9NaWdyYXRlID0gW107CgogICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2xkSXRlbSBvZiBvbGREYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2xkSXRlbS5saW5rIHx8ICFvbGRJdGVtLnRpdGxlKSBjb250aW51ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gb2xkSXRlbS5saW5rLm1hdGNoKC9cL2FwcFwvKFxkKylcL3ZpZXdcLyhcZCspLyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSAmJiBtYXRjaFsyXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSUQgPSBtYXRjaFsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld3NJRCA9IG1hdGNoWzJdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdOZXdJZHMuaGFzKG5ld3NJRCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbmV3c0lELAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBJRDogYXBwSUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVOYW1lOiAiW04vQTsgMS45LjVdIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3c1RpdGxlOiBvbGRJdGVtLnRpdGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlSGlkZGVuOiBuZXcgRGF0ZShvbGRJdGVtLmRhdGUpLmdldFRpbWUoKSB8fCBEYXRlLm5vdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1RvTWlncmF0ZS5wdXNoKG5ld0l0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nTmV3SWRzLmFkZChuZXdzSUQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNUb01pZ3JhdGUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbERhdGEgPSBbLi4ubmV3RGF0YSwgLi4uaXRlbXNUb01pZ3JhdGVdOwogICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShORVdfU1RPUkFHRV9LRVksIGZpbmFsRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShPTERfU1RPUkFHRV9LRVkpOwoKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShPTERfU1RPUkFHRV9LRVkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bk5ld3NNaWdyYXRpb24oKTsKCiAgICAgICAgICAgIGNvbnN0IEhJRERFTl9ORVdTX0dNX0tFWSA9ICd1c2VfaGlkZGVuTmV3c0RhdGFfdjQnOwogICAgICAgICAgICBjb25zdCBORVdTX0lURU1fU0VMRUNUT1IgPSAnLl8zOTh1MjNLRjE1Z3htZUg3NDFaU3lMJzsKICAgICAgICAgICAgY29uc3QgTkVXU19BUFBfQVJFQV9TRUxFQ1RPUiA9ICcuXzMtMEtPaFlWUVgyeklQM3otakNBZHUnOwogICAgICAgICAgICBjb25zdCBORVdTX0FQUF9OQU1FX1NFTEVDVE9SID0gJy5fNzFwaEZLT3pnOGFRbEJVMXJDQTJUJzsKICAgICAgICAgICAgY29uc3QgTkVXU19MSU5LX1NFTEVDVE9SID0gJ2EuRm9jdXNhYmxlW2hyZWZePSIvbmV3cy9hcHAvIl0nOwogICAgICAgICAgICBjb25zdCBORVdTX1RJVExFX1NFTEVDVE9SID0gJy5fMU04LVBhM2IzV2JvYXlDZ2Q1VkJKVCc7CiAgICAgICAgICAgIGNvbnN0IE5FV1NfSU1BR0VfQ09OVEFJTkVSX1NFTEVDVE9SID0gJy5fM0hGOXRPeV9zb28xQl9vZGYxWEFyayc7CiAgICAgICAgICAgIGNvbnN0IE5FV1NfSU1BR0VfQ09OVEFJTkVSX0ZBTExCQUNLX1NFTEVDVE9SID0gJy5fMkE4c1EzNW81TUtFMFAyQjlDMGJBbic7CiAgICAgICAgICAgIGxldCBsYXN0SGlkZGVuSXRlbXMgPSBbXTsKCiAgICAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgIC51c2UtbmV3c2ZpbHRlci1jaGVja2JveC1hcmVhIHsKICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAJdG9wOiAwOwogICAgICAgICAgICAgICAgCXJpZ2h0OiAwOwogICAgICAgICAgICAgICAgCXdpZHRoOiA5MHB4OwogICAgICAgICAgICAgICAgCWhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgCXotaW5kZXg6IDEwOwogICAgICAgICAgICAgICAgCS13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLWNoZWNrYm94IHsKICAgICAgICAgICAgICAgIAlhcHBlYXJhbmNlOiBub25lOwogICAgICAgICAgICAgICAgCS13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgICAgIAl3aWR0aDogNDZweDsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IDQ2cHg7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAzcHggc29saWQgcmdiYSgxMDIsIDE5MiwgMjQ0LCAwLjYpOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI3LCA0MCwgNTYsIDAuNSk7CiAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0OwogICAgICAgICAgICAgICAgCW9wYWNpdHk6IDAuNTsKICAgICAgICAgICAgICAgIAlwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLWNoZWNrYm94LWFyZWE6aG92ZXIgLnVzZS1uZXdzZmlsdGVyLWNoZWNrYm94IHsKICAgICAgICAgICAgICAgIAlvcGFjaXR5OiAxOwogICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogI2FkZTBmZjsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI3LCA0MCwgNTYsIDAuNzUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC51c2UtbmV3c2ZpbHRlci1jaGVja2JveDpjaGVja2VkIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwMiwgMTkyLCAyNDQsIDEpOwogICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogI2UxZThlZDsKICAgICAgICAgICAgICAgIAlvcGFjaXR5OiAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC51c2UtbmV3c2ZpbHRlci1jaGVja2JveDpjaGVja2VkOjpiZWZvcmUgewogICAgICAgICAgICAgICAgCWNvbnRlbnQ6ICfinJQnOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjMGExMjFjOwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMzBweDsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAudXNlLW5ld3NmaWx0ZXItbmV3c2l0ZW0tc2VsZWN0ZWQgewogICAgICAgICAgICAgICAgCW9wYWNpdHk6IDAuNDU7CiAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAudXNlLW5ld3NmaWx0ZXItbmV3c2l0ZW0tc2VsZWN0ZWQ6aG92ZXIgewogICAgICAgICAgICAgICAgCW9wYWNpdHk6IDAuNzU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLW5ld3NpdGVtLXBlcnNpc3RlbnRseS1oaWRkZW4gewogICAgICAgICAgICAgICAgCW9wYWNpdHk6IDAuMjUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBkYXNoZWQgIzRhNTU2MjsKICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIGJvcmRlciAwLjNzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC51c2UtbmV3c2ZpbHRlci1jb250cm9scy1jb250YWluZXIgewogICAgICAgICAgICAgICAgCXBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgIAl0b3A6IDIwcHg7CiAgICAgICAgICAgICAgICAJcmlnaHQ6IDE1cHg7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogcmdiYSgyMCwgMjMsIDI4LCAwLjkyKTsKICAgICAgICAgICAgICAgIAliYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsKICAgICAgICAgICAgICAgIAktd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDhweDsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAJei1pbmRleDogMTAwMDE7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgCWdhcDogNnB4OwogICAgICAgICAgICAgICAgCXdpZHRoOiAyMDBweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAudXNlLW5ld3NmaWx0ZXItYnV0dG9uIHsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA3cHggMTJweDsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjNThhNmZmOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjMGQxMTE3OwogICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycywgdHJhbnNmb3JtIDAuMXM7CiAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLWJ1dHRvbjpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzc5YmJmZjsKICAgICAgICAgICAgICAgIAl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLWJ1dHRvbjphY3RpdmU6bm90KDpkaXNhYmxlZCkgewogICAgICAgICAgICAgICAgCXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwcHgpOwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM0YTkwZTI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLWJ1dHRvbjpkaXNhYmxlZCB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzMwMzYzZDsKICAgICAgICAgICAgICAgIAljb2xvcjogIzZhNzM3ZDsKICAgICAgICAgICAgICAgIAljdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IG5vbmU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLXN0b3JhZ2UtY291bnQgewogICAgICAgICAgICAgICAgCWNvbG9yOiAjOTlhMWE4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTFweDsKICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAycHg7CiAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICN1c2UtbmV3c2ZpbHRlci1jb25maXJtLWhpZGUtYnV0dG9uOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjZDk1MzRmOwogICAgICAgICAgICAgICAgCWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjdXNlLW5ld3NmaWx0ZXItY29uZmlybS1oaWRlLWJ1dHRvbjpub3QoOmRpc2FibGVkKTpob3ZlciB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogI2M5MzAyYzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjdXNlLW5ld3NmaWx0ZXItY29uZmlybS1oaWRlLWJ1dHRvbjpub3QoOmRpc2FibGVkKTphY3RpdmUgewogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICNhYzI5MjU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3VzZS1uZXdzZmlsdGVyLXVuZG8tYnV0dG9uIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjZjBhZDRlOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjMGQxMTE3OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICN1c2UtbmV3c2ZpbHRlci11bmRvLWJ1dHRvbjpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogI2VjOTcxZjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjdXNlLW5ld3NmaWx0ZXItbWFuYWdlLXBhbmVsIHsKICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAJdG9wOiA1MCU7CiAgICAgICAgICAgICAgICAJbGVmdDogNTAlOwogICAgICAgICAgICAgICAgCXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICAgICAgICAgICAgCXdpZHRoOiA5MCU7CiAgICAgICAgICAgICAgICAJbWF4LXdpZHRoOiA2NTBweDsKICAgICAgICAgICAgICAgIAltYXgtaGVpZ2h0OiA3NXZoOwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMxNzFhMjE7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzRhNTU2MjsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNik7CiAgICAgICAgICAgICAgICAJei1pbmRleDogMTAwMDI7CiAgICAgICAgICAgICAgICAJcGFkZGluZzogMTVweDsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3VzZS1uZXdzZmlsdGVyLW1hbmFnZS1wYW5lbCBoMyB7CiAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogMDsKICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgICAgCWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3VzZS1uZXdzZmlsdGVyLWhpZGRlbi1saXN0IHsKICAgICAgICAgICAgICAgIAlsaXN0LXN0eWxlOiBub25lOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAJbWFyZ2luOiAxMHB4IDA7CiAgICAgICAgICAgICAgICAJb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjE1KTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3VzZS1uZXdzZmlsdGVyLWhpZGRlbi1saXN0IGxpIHsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA3cHggMTBweDsKICAgICAgICAgICAgICAgIAlib3JkZXItYm90dG9tOiAxcHggc29saWQgIzIzMjgzMDsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjdXNlLW5ld3NmaWx0ZXItaGlkZGVuLWxpc3QgbGk6bGFzdC1jaGlsZCB7CiAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogbm9uZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjdXNlLW5ld3NmaWx0ZXItaGlkZGVuLWxpc3QgbGkgLmhpZGRlbi1pdGVtLXRleHQgewogICAgICAgICAgICAgICAgCWZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgIAltYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgIAl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgIAl3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICN1c2UtbmV3c2ZpbHRlci1oaWRkZW4tbGlzdCBsaSAuaGlkZGVuLWl0ZW0tdGV4dCAuZ2FtZS1uYW1lIHsKICAgICAgICAgICAgICAgIAljb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjdXNlLW5ld3NmaWx0ZXItaGlkZGVuLWxpc3QgbGkgLmhpZGRlbi1pdGVtLXRleHQgLm5ld3MtdGl0bGUgewogICAgICAgICAgICAgICAgCWNvbG9yOiAjYjBiOGMwOwogICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMC45ZW07CiAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgIAl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgIAl3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICN1c2UtbmV3c2ZpbHRlci1oaWRkZW4tbGlzdCBsaSAuaGlkZGVuLWl0ZW0tdGV4dCAuYXBwLWlkIHsKICAgICAgICAgICAgICAgIAljb2xvcjogIzc2ODA4YzsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDAuODVlbTsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAudXNlLW5ld3NmaWx0ZXItcmVzdG9yZS1idG4gewogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM1NWM2NTU7CiAgICAgICAgICAgICAgICAJY29sb3I6ICMwZDExMTc7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiBub25lOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDNweCA3cHg7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMHB4OwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAudXNlLW5ld3NmaWx0ZXItcmVzdG9yZS1idG46aG92ZXIgewogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLW1hbmFnZS1idXR0b25zIHsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgCWdhcDogMTBweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAudXNlLW5ld3NmaWx0ZXItbWFuYWdlLWJ1dHRvbnMgLnVzZS1uZXdzZmlsdGVyLWJ1dHRvbiB7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDdweCAxMnB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEBrZXlmcmFtZXMgdXNlLW5ld3NmaWx0ZXItZmFkZW91dCB7CiAgICAgICAgICAgICAgICAJZnJvbSB7CiAgICAgICAgICAgICAgICAJCW9wYWNpdHk6IDE7CiAgICAgICAgICAgICAgICAJCXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCXRvIHsKICAgICAgICAgICAgICAgIAkJb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgIAkJdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsKICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnVzZS1uZXdzZmlsdGVyLWZhZGluZy1vdXQgewogICAgICAgICAgICAgICAgCWFuaW1hdGlvbjogdXNlLW5ld3NmaWx0ZXItZmFkZW91dCAwLjM1cyBmb3J3YXJkcyBlYXNlLW91dDsKICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBgKTsKCiAgICAgICAgICAgIGxldCBwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcyA9IEdNX2dldFZhbHVlKEhJRERFTl9ORVdTX0dNX0tFWSwgW10pOwogICAgICAgICAgICBsZXQgc2hvd1BlcnNpc3RlbnRseUhpZGRlbiA9IGZhbHNlOwoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TmV3c0lkc0Zyb21MaW5rKG5ld3NJdGVtKSB7CiAgICAgICAgICAgICAgICBjb25zdCBsaW5rRWxlbWVudCA9IG5ld3NJdGVtLnF1ZXJ5U2VsZWN0b3IoTkVXU19MSU5LX1NFTEVDVE9SKTsKICAgICAgICAgICAgICAgIGlmIChsaW5rRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhyZWYgPSBsaW5rRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGhyZWYubWF0Y2goL1wvbmV3c1wvYXBwXC8oXGQrKVwvdmlld1wvKFxkKykvKTsKICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gJiYgbWF0Y2hbMl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcElEOiBtYXRjaFsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NJRDogbWF0Y2hbMl0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGFwcElEOiBudWxsLAogICAgICAgICAgICAgICAgICAgIG5ld3NJRDogbnVsbAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TmV3c0l0ZW1EZXRhaWxzKG5ld3NJdGVtKSB7CiAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgYXBwSUQsCiAgICAgICAgICAgICAgICAgICAgbmV3c0lECiAgICAgICAgICAgICAgICB9ID0gZ2V0TmV3c0lkc0Zyb21MaW5rKG5ld3NJdGVtKTsKICAgICAgICAgICAgICAgIGxldCBnYW1lTmFtZSA9IG51bGw7CiAgICAgICAgICAgICAgICBsZXQgbmV3c1RpdGxlID0gbmV3c0l0ZW0ucXVlcnlTZWxlY3RvcihORVdTX1RJVExFX1NFTEVDVE9SKSA/LnRleHRDb250ZW50LnRyaW0oKSB8fCAn0JHQtdC3INC30LDQs9C+0LvQvtCy0LrQsCc7CiAgICAgICAgICAgICAgICBjb25zdCBhcHBBcmVhID0gbmV3c0l0ZW0ucXVlcnlTZWxlY3RvcihORVdTX0FQUF9BUkVBX1NFTEVDVE9SKTsKICAgICAgICAgICAgICAgIGlmIChhcHBBcmVhKSB7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU5hbWUgPSBhcHBBcmVhLnF1ZXJ5U2VsZWN0b3IoTkVXU19BUFBfTkFNRV9TRUxFQ1RPUikgPy50ZXh0Q29udGVudC50cmltKCkgfHwgbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgYXBwSUQsCiAgICAgICAgICAgICAgICAgICAgbmV3c0lELAogICAgICAgICAgICAgICAgICAgIGdhbWVOYW1lLAogICAgICAgICAgICAgICAgICAgIG5ld3NUaXRsZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gYWRkTmV3c0NoZWNrYm94ZXMobmV3c0l0ZW1zKSB7CiAgICAgICAgICAgICAgICBuZXdzSXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NJRAogICAgICAgICAgICAgICAgICAgIH0gPSBnZXROZXdzSXRlbURldGFpbHMoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzRXhpc3RpbmdDaGVja2JveEFyZWEgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy51c2UtbmV3c2ZpbHRlci1jaGVja2JveC1hcmVhJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3NJRCAmJiAhaGFzRXhpc3RpbmdDaGVja2JveEFyZWEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94QXJlYS5jbGFzc05hbWUgPSAndXNlLW5ld3NmaWx0ZXItY2hlY2tib3gtYXJlYSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94QXJlYS50aXRsZSA9ICfQntGC0LzQtdGC0LjRgtGMINC00LvRjyDRgdC60YDRi9GC0LjRjyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTmFtZSA9ICd1c2UtbmV3c2ZpbHRlci1jaGVja2JveCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmRhdGFzZXQubmV3c0lkID0gbmV3c0lEOwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEFyZWEuYXBwZW5kQ2hpbGQoY2hlY2tib3gpOwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVRlbXBvcmFyeUhpZGUoaXRlbSwgY2hlY2tib3guY2hlY2tlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUNvbnRhaW5lciA9IGl0ZW0ucXVlcnlTZWxlY3RvcihORVdTX0lNQUdFX0NPTlRBSU5FUl9TRUxFQ1RPUikgfHwgaXRlbS5xdWVyeVNlbGVjdG9yKE5FV1NfSU1BR0VfQ09OVEFJTkVSX0ZBTExCQUNLX1NFTEVDVE9SKSB8fCBpdGVtOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VDb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGltYWdlQ29udGFpbmVyKS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveEFyZWEpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcy5zb21lKGhpZGRlbiA9PiBoaWRkZW4uaWQgPT09IG5ld3NJRCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5UGVyc2lzdGVudEhpZGVTdHlsZShpdGVtLCBuZXdzSUQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld3NJRCAmJiBoYXNFeGlzdGluZ0NoZWNrYm94QXJlYSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyc2lzdGVudGx5SGlkZGVuSXRlbXMuc29tZShoaWRkZW4gPT4gaGlkZGVuLmlkID09PSBuZXdzSUQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVBlcnNpc3RlbnRIaWRlU3R5bGUoaXRlbSwgbmV3c0lEKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V4aXN0aW5nQ2hlY2tib3hBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFeGlzdGluZ0NoZWNrYm94QXJlYS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlQZXJzaXN0ZW50SGlkZVN0eWxlKGl0ZW0sIG5ld3NJRCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVGVtcG9yYXJ5SGlkZShuZXdzSXRlbSwgc2hvdWxkSGlkZSkgewogICAgICAgICAgICAgICAgaWYgKHNob3VsZEhpZGUpIHsKICAgICAgICAgICAgICAgICAgICBuZXdzSXRlbS5jbGFzc0xpc3QuYWRkKCd1c2UtbmV3c2ZpbHRlci1uZXdzaXRlbS1zZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuZXdzSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd1c2UtbmV3c2ZpbHRlci1uZXdzaXRlbS1zZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlU2VsZWN0ZWRDb3VudCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVTZWxlY3RlZENvdW50KCkgewogICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7TkVXU19JVEVNX1NFTEVDVE9SfS51c2UtbmV3c2ZpbHRlci1uZXdzaXRlbS1zZWxlY3RlZGApOwogICAgICAgICAgICAgICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2UtbmV3c2ZpbHRlci1jb25maXJtLWhpZGUtYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBpZiAoY29uZmlybUJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gMDsKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gYNCh0LrRgNGL0YLRjCDQstGL0LHRgNCw0L3QvdGL0LUgKCR7c2VsZWN0ZWRJdGVtcy5sZW5ndGh9KWA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBlcnNpc3RlbnRIaWRkZW5Db3VudERpc3BsYXkoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb3VudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlLW5ld3NmaWx0ZXItc3RvcmFnZS1jb3VudC1zcGFuJyk7CiAgICAgICAgICAgICAgICBpZiAoY291bnRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgY291bnRFbGVtZW50LnRleHRDb250ZW50ID0gcGVyc2lzdGVudGx5SGlkZGVuSXRlbXMubGVuZ3RoOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb250cm9scygpIHsKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlLW5ld3NmaWx0ZXItY29udHJvbHMtY29udGFpbmVyJykpIHJldHVybjsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb250cm9sc0NvbnRhaW5lci5pZCA9ICd1c2UtbmV3c2ZpbHRlci1jb250cm9scy1jb250YWluZXInOwogICAgICAgICAgICAgICAgY29udHJvbHNDb250YWluZXIuY2xhc3NOYW1lID0gJ3VzZS1uZXdzZmlsdGVyLWNvbnRyb2xzLWNvbnRhaW5lcic7CiAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtSGlkZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgY29uZmlybUhpZGVCdXR0b24uaWQgPSAndXNlLW5ld3NmaWx0ZXItY29uZmlybS1oaWRlLWJ1dHRvbic7CiAgICAgICAgICAgICAgICBjb25maXJtSGlkZUJ1dHRvbi5jbGFzc05hbWUgPSAndXNlLW5ld3NmaWx0ZXItYnV0dG9uJzsKICAgICAgICAgICAgICAgIGNvbmZpcm1IaWRlQnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0LrRgNGL0YLRjCDQstGL0LHRgNCw0L3QvdGL0LUgKDApJzsKICAgICAgICAgICAgICAgIGNvbmZpcm1IaWRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbmZpcm1IaWRlQnV0dG9uLnRpdGxlID0gJ9Cf0LXRgNC10LzQtdGB0YLQuNGC0Ywg0LLRi9Cx0YDQsNC90L3Ri9C1INC90L7QstC+0YHRgtC4INCyINGB0L/QuNGB0L7QuiDQv9C+0YHRgtC+0Y/QvdC90L4g0YHQutGA0YvRgtGL0YUnOwogICAgICAgICAgICAgICAgY29uZmlybUhpZGVCdXR0b24ub25jbGljayA9IGNvbmZpcm1BbmRIaWRlU2VsZWN0ZWROZXdzOwogICAgICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUNvdW50RGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc3RvcmFnZUNvdW50RGlzcGxheS5jbGFzc05hbWUgPSAndXNlLW5ld3NmaWx0ZXItc3RvcmFnZS1jb3VudCc7CiAgICAgICAgICAgICAgICBzdG9yYWdlQ291bnREaXNwbGF5LmlubmVySFRNTCA9IGDQkiDRhdGA0LDQvdC40LvQuNGJ0LU6IDxzcGFuIGlkPSJ1c2UtbmV3c2ZpbHRlci1zdG9yYWdlLWNvdW50LXNwYW4iPiR7cGVyc2lzdGVudGx5SGlkZGVuSXRlbXMubGVuZ3RofTwvc3Bhbj5gOwogICAgICAgICAgICAgICAgY29udHJvbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RvcmFnZUNvdW50RGlzcGxheSk7CiAgICAgICAgICAgICAgICBjb25zdCB1bmRvQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICB1bmRvQnV0dG9uLmlkID0gJ3VzZS1uZXdzZmlsdGVyLXVuZG8tYnV0dG9uJzsKICAgICAgICAgICAgICAgIHVuZG9CdXR0b24uY2xhc3NOYW1lID0gJ3VzZS1uZXdzZmlsdGVyLWJ1dHRvbic7CiAgICAgICAgICAgICAgICB1bmRvQnV0dG9uLnRleHRDb250ZW50ID0gJ9Ce0YLQvNC10L3QuNGC0YwnOwogICAgICAgICAgICAgICAgdW5kb0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgdW5kb0J1dHRvbi50aXRsZSA9ICfQntGC0LzQtdC90LjRgtGMINC/0L7RgdC70LXQtNC90LXQtSDQv9C+0LTRgtCy0LXRgNC20LTQtdC90L3QvtC1INGB0LrRgNGL0YLQuNC1JzsKICAgICAgICAgICAgICAgIHVuZG9CdXR0b24ub25jbGljayA9IHVuZG9MYXN0UGVyc2lzdGVudEhpZGU7CiAgICAgICAgICAgICAgICBjb250cm9sc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bmRvQnV0dG9uKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRvZ2dsZVBlcnNpc3RlbnRseUhpZGRlbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgdG9nZ2xlUGVyc2lzdGVudGx5SGlkZGVuQnV0dG9uLmlkID0gJ3VzZS1uZXdzZmlsdGVyLXRvZ2dsZS1wZXJzaXN0ZW50LWJ1dHRvbic7CiAgICAgICAgICAgICAgICB0b2dnbGVQZXJzaXN0ZW50bHlIaWRkZW5CdXR0b24uY2xhc3NOYW1lID0gJ3VzZS1uZXdzZmlsdGVyLWJ1dHRvbic7CiAgICAgICAgICAgICAgICB0b2dnbGVQZXJzaXN0ZW50bHlIaWRkZW5CdXR0b24udGV4dENvbnRlbnQgPSBzaG93UGVyc2lzdGVudGx5SGlkZGVuID8gJ9Ch0L/RgNGP0YLQsNGC0Ywg0YHQutGA0YvRgtC+0LUnIDogJ9Cf0L7QutCw0LfQsNGC0Ywg0YHQutGA0YvRgtC+0LUnOwogICAgICAgICAgICAgICAgdG9nZ2xlUGVyc2lzdGVudGx5SGlkZGVuQnV0dG9uLnRpdGxlID0gJ9Cf0L7QutCw0LfQsNGC0Ywv0YHQutGA0YvRgtGMINC90L7QstC+0YHRgtC4INC40Lcg0YHQv9C40YHQutCwINC/0L7RgdGC0L7Rj9C90L3QviDRgdC60YDRi9GC0YvRhSc7CiAgICAgICAgICAgICAgICB0b2dnbGVQZXJzaXN0ZW50bHlIaWRkZW5CdXR0b24ub25jbGljayA9IHRvZ2dsZVNob3dQZXJzaXN0ZW50bHlIaWRkZW47CiAgICAgICAgICAgICAgICBjb250cm9sc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2dnbGVQZXJzaXN0ZW50bHlIaWRkZW5CdXR0b24pOwogICAgICAgICAgICAgICAgY29uc3QgbWFuYWdlSGlkZGVuQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBtYW5hZ2VIaWRkZW5CdXR0b24uaWQgPSAndXNlLW5ld3NmaWx0ZXItbWFuYWdlLWJ1dHRvbic7CiAgICAgICAgICAgICAgICBtYW5hZ2VIaWRkZW5CdXR0b24uY2xhc3NOYW1lID0gJ3VzZS1uZXdzZmlsdGVyLWJ1dHRvbic7CiAgICAgICAgICAgICAgICBtYW5hZ2VIaWRkZW5CdXR0b24udGV4dENvbnRlbnQgPSAn0KXRgNCw0L3QuNC70LjRidC1JzsKICAgICAgICAgICAgICAgIG1hbmFnZUhpZGRlbkJ1dHRvbi50aXRsZSA9ICfQn9GA0L7RgdC80L7RgtGA0LXRgtGMINC4INCy0L7RgdGB0YLQsNC90L7QstC40YLRjCDRgdC60YDRi9GC0YvQtSDQvdC+0LLQvtGB0YLQuCc7CiAgICAgICAgICAgICAgICBtYW5hZ2VIaWRkZW5CdXR0b24ub25jbGljayA9IHNob3dNYW5hZ2VIaWRkZW5QYW5lbDsKICAgICAgICAgICAgICAgIGNvbnRyb2xzQ29udGFpbmVyLmFwcGVuZENoaWxkKG1hbmFnZUhpZGRlbkJ1dHRvbik7CiAgICAgICAgICAgICAgICBjb250cm9sc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjb25maXJtSGlkZUJ1dHRvbik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRyb2xzQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIGNyZWF0ZU1hbmFnZUhpZGRlblBhbmVsKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbmZpcm1BbmRIaWRlU2VsZWN0ZWROZXdzKCkgewogICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7TkVXU19JVEVNX1NFTEVDVE9SfS51c2UtbmV3c2ZpbHRlci1uZXdzaXRlbS1zZWxlY3RlZGApOwogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgICAgICAgICBsYXN0SGlkZGVuSXRlbXMgPSBbXTsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zVG9IaWRlRGV0YWlscyA9IFtdOwogICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwSUQsCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NJRCwKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NUaXRsZQogICAgICAgICAgICAgICAgICAgIH0gPSBnZXROZXdzSXRlbURldGFpbHMoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3NJRCAmJiAhcGVyc2lzdGVudGx5SGlkZGVuSXRlbXMuc29tZShoID0+IGguaWQgPT09IG5ld3NJRCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbmV3c0lELAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwSUQ6IGFwcElELAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZU5hbWU6IGdhbWVOYW1lIHx8ICLQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC40LPRgNCwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NUaXRsZTogbmV3c1RpdGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUhpZGRlbjogRGF0ZS5ub3coKQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1RvSGlkZURldGFpbHMucHVzaChuZXdJdGVtRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgndXNlLW5ld3NmaWx0ZXItZmFkaW5nLW91dCcpOwogICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndXNlLW5ld3NmaWx0ZXItbmV3c2l0ZW0tc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveEFyZWEgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy51c2UtbmV3c2ZpbHRlci1jaGVja2JveC1hcmVhJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94QXJlYSkgY2hlY2tib3hBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5UGVyc2lzdGVudEhpZGVTdHlsZShpdGVtLCBuZXdzSUQpOwogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3VzZS1uZXdzZmlsdGVyLWZhZGluZy1vdXQnKTsKICAgICAgICAgICAgICAgICAgICB9LCAzNTApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoaXRlbXNUb0hpZGVEZXRhaWxzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQZXJzaXN0ZW50SXRlbXMgPSBpdGVtc1RvSGlkZURldGFpbHMuZmlsdGVyKG5ld0l0ZW0gPT4KICAgICAgICAgICAgICAgICAgICAgICAgIXBlcnNpc3RlbnRseUhpZGRlbkl0ZW1zLnNvbWUoZXhpc3RpbmdJdGVtID0+IGV4aXN0aW5nSXRlbS5pZCA9PT0gbmV3SXRlbS5pZCkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIHBlcnNpc3RlbnRseUhpZGRlbkl0ZW1zLnB1c2goLi4ubmV3UGVyc2lzdGVudEl0ZW1zKTsKICAgICAgICAgICAgICAgICAgICBsYXN0SGlkZGVuSXRlbXMgPSBuZXdQZXJzaXN0ZW50SXRlbXM7CiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoSElEREVOX05FV1NfR01fS0VZLCBwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcyk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyc2lzdGVudEhpZGRlbkNvdW50RGlzcGxheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlU2VsZWN0ZWRDb3VudCgpOwogICAgICAgICAgICAgICAgY29uc3QgdW5kb0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2UtbmV3c2ZpbHRlci11bmRvLWJ1dHRvbicpOwogICAgICAgICAgICAgICAgaWYgKHVuZG9CdXR0b24gJiYgbGFzdEhpZGRlbkl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB1bmRvQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB1bmRvQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfSwgNjAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHVuZG9MYXN0UGVyc2lzdGVudEhpZGUoKSB7CiAgICAgICAgICAgICAgICBpZiAobGFzdEhpZGRlbkl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgaWRzVG9SZXN0b3JlID0gbGFzdEhpZGRlbkl0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaWQpOwogICAgICAgICAgICAgICAgcGVyc2lzdGVudGx5SGlkZGVuSXRlbXMgPSBwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcy5maWx0ZXIoaXRlbSA9PiAhaWRzVG9SZXN0b3JlLmluY2x1ZGVzKGl0ZW0uaWQpKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKEhJRERFTl9ORVdTX0dNX0tFWSwgcGVyc2lzdGVudGx5SGlkZGVuSXRlbXMpOwogICAgICAgICAgICAgICAgdXBkYXRlUGVyc2lzdGVudEhpZGRlbkNvdW50RGlzcGxheSgpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChORVdTX0lURU1fU0VMRUNUT1IpLmZvckVhY2goaXRlbU9uUGFnZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdzSUQKICAgICAgICAgICAgICAgICAgICB9ID0gZ2V0TmV3c0lkc0Zyb21MaW5rKGl0ZW1PblBhZ2UpOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXdzSUQgJiYgaWRzVG9SZXN0b3JlLmluY2x1ZGVzKG5ld3NJRCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU9uUGFnZS5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1PblBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgndXNlLW5ld3NmaWx0ZXItbmV3c2l0ZW0tcGVyc2lzdGVudGx5LWhpZGRlbicsICd1c2UtbmV3c2ZpbHRlci1mYWRpbmctb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94QXJlYSA9IGl0ZW1PblBhZ2UucXVlcnlTZWxlY3RvcignLnVzZS1uZXdzZmlsdGVyLWNoZWNrYm94LWFyZWEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94QXJlYSkgY2hlY2tib3hBcmVhLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaXRlbU9uUGFnZS5xdWVyeVNlbGVjdG9yKCcudXNlLW5ld3NmaWx0ZXItY2hlY2tib3gnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVRlbXBvcmFyeUhpZGUoaXRlbU9uUGFnZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbGFzdEhpZGRlbkl0ZW1zID0gW107CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlLW5ld3NmaWx0ZXItdW5kby1idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgaWYgKGlzTWFuYWdlUGFuZWxPcGVuKCkpIHBvcHVsYXRlSGlkZGVuTGlzdCgpOwogICAgICAgICAgICAgICAgdXBkYXRlU2VsZWN0ZWRDb3VudCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhcHBseVBlcnNpc3RlbnRIaWRlU3R5bGUobmV3c0l0ZW0sIG5ld3NJRCkgewogICAgICAgICAgICAgICAgY29uc3QgaXNIaWRkZW4gPSBwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcy5zb21lKGggPT4gaC5pZCA9PT0gbmV3c0lEKTsKICAgICAgICAgICAgICAgIGlmIChpc0hpZGRlbikgewogICAgICAgICAgICAgICAgICAgIG5ld3NJdGVtLmNsYXNzTGlzdC5hZGQoJ3VzZS1uZXdzZmlsdGVyLW5ld3NpdGVtLXBlcnNpc3RlbnRseS1oaWRkZW4nKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3dQZXJzaXN0ZW50bHlIaWRkZW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3c0l0ZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdzSXRlbS5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuZXdzSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd1c2UtbmV3c2ZpbHRlci1uZXdzaXRlbS1wZXJzaXN0ZW50bHktaGlkZGVuJyk7CiAgICAgICAgICAgICAgICAgICAgbmV3c0l0ZW0uc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVTaG93UGVyc2lzdGVudGx5SGlkZGVuKCkgewogICAgICAgICAgICAgICAgc2hvd1BlcnNpc3RlbnRseUhpZGRlbiA9ICFzaG93UGVyc2lzdGVudGx5SGlkZGVuOwogICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1uZXdzZmlsdGVyLXRvZ2dsZS1wZXJzaXN0ZW50LWJ1dHRvbicpOwogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IHNob3dQZXJzaXN0ZW50bHlIaWRkZW4gPyAn0KHQv9GA0Y/RgtCw0YLRjCDRgdC60YDRi9GC0L7QtScgOiAn0J/QvtC60LDQt9Cw0YLRjCDRgdC60YDRi9GC0L7QtSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKE5FV1NfSVRFTV9TRUxFQ1RPUikuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NJRAogICAgICAgICAgICAgICAgICAgIH0gPSBnZXROZXdzSWRzRnJvbUxpbmsoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3NJRCkgewogICAgICAgICAgICAgICAgICAgICAgICBhcHBseVBlcnNpc3RlbnRIaWRlU3R5bGUoaXRlbSwgbmV3c0lEKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hBcmVhID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcudXNlLW5ld3NmaWx0ZXItY2hlY2tib3gtYXJlYScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hBcmVhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyc2lzdGVudGx5SGlkZGVuSXRlbXMuc29tZShoID0+IGguaWQgPT09IG5ld3NJRCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEFyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hBcmVhLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gYXBwbHlJbml0aWFsSGlkZSgpIHsKICAgICAgICAgICAgICAgIHBlcnNpc3RlbnRseUhpZGRlbkl0ZW1zID0gR01fZ2V0VmFsdWUoSElEREVOX05FV1NfR01fS0VZLCBbXSk7CiAgICAgICAgICAgICAgICB1cGRhdGVQZXJzaXN0ZW50SGlkZGVuQ291bnREaXNwbGF5KCk7CiAgICAgICAgICAgICAgICBjb25zdCBuZXdzSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKE5FV1NfSVRFTV9TRUxFQ1RPUik7CiAgICAgICAgICAgICAgICBuZXdzSXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NJRAogICAgICAgICAgICAgICAgICAgIH0gPSBnZXROZXdzSWRzRnJvbUxpbmsoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3NJRCkgewogICAgICAgICAgICAgICAgICAgICAgICBhcHBseVBlcnNpc3RlbnRIaWRlU3R5bGUoaXRlbSwgbmV3c0lEKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hBcmVhID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcudXNlLW5ld3NmaWx0ZXItY2hlY2tib3gtYXJlYScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hBcmVhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyc2lzdGVudGx5SGlkZGVuSXRlbXMuc29tZShoID0+IGguaWQgPT09IG5ld3NJRCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEFyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hBcmVhLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlTWFuYWdlSGlkZGVuUGFuZWwoKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1uZXdzZmlsdGVyLW1hbmFnZS1wYW5lbCcpKSByZXR1cm47CiAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgcGFuZWwuaWQgPSAndXNlLW5ld3NmaWx0ZXItbWFuYWdlLXBhbmVsJzsKICAgICAgICAgICAgICAgIHBhbmVsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8aDM+0KXRgNCw0L3QuNC70LjRidC1INGB0LrRgNGL0YLRi9GFINC90L7QstC+0YHRgtC10Lk8L2gzPgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6MTFweDsgY29sb3I6ICM4MDhiOTY7IHRleHQtYWxpZ246Y2VudGVyOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+0J3QvtCy0L7RgdGC0LgsIElEINC60L7RgtC+0YDRi9GFINC10YHRgtGMINCyINGN0YLQvtC8INGB0L/QuNGB0LrQtSwg0L3QtSDQsdGD0LTRg9GCINC+0YLQvtCx0YDQsNC20LDRgtGM0YHRjyAo0LXRgdC70Lgg0L3QtSDQstC60LvRjtGH0LXQvSDRgNC10LbQuNC8ICLQn9C+0LrQsNC30LDRgtGMINGB0LrRgNGL0YLQvtC1IikuPC9wPgogICAgICAgICAgICAgICAgICAgIDx1bCBpZD0idXNlLW5ld3NmaWx0ZXItaGlkZGVuLWxpc3QiPjwvdWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNlLW5ld3NmaWx0ZXItbWFuYWdlLWJ1dHRvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJ1c2UtbmV3c2ZpbHRlci1jbGVhci1hbGwtaGlkZGVuLWJ0biIgY2xhc3M9InVzZS1uZXdzZmlsdGVyLWJ1dHRvbiIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNjOTMwMmM7IGNvbG9yOiAjRENFQkY3OyI+0J7Rh9C40YHRgtC40YLRjCDRhdGA0LDQvdC40LvQuNGJ0LU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0idXNlLW5ld3NmaWx0ZXItY2xvc2UtbWFuYWdlLXBhbmVsLWJ0biIgY2xhc3M9InVzZS1uZXdzZmlsdGVyLWJ1dHRvbiIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICM0YTU1NjI7Ij7Ql9Cw0LrRgNGL0YLRjDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1uZXdzZmlsdGVyLWNsZWFyLWFsbC1oaWRkZW4tYnRuJykub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgn0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDQvtGH0LjRgdGC0LjRgtGMINGF0YDQsNC90LjQu9C40YnQtSDRgdC60YDRi9GC0YvRhSDQvdC+0LLQvtGB0YLQtdC5PyDQrdGC0L4g0LTQtdC50YHRgtCy0LjQtSDQvdC10LvRjNC30Y8g0LHRg9C00LXRgiDQvtGC0LzQtdC90LjRgtGMLicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQWxsUGVyc2lzdGVudEhpZGRlbk5ld3MoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1uZXdzZmlsdGVyLWNsb3NlLW1hbmFnZS1wYW5lbC1idG4nKS5vbmNsaWNrID0gaGlkZU1hbmFnZUhpZGRlblBhbmVsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzaG93TWFuYWdlSGlkZGVuUGFuZWwoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2UtbmV3c2ZpbHRlci1tYW5hZ2UtcGFuZWwnKTsKICAgICAgICAgICAgICAgIGlmIChwYW5lbCkgewogICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlSGlkZGVuTGlzdCgpOwogICAgICAgICAgICAgICAgICAgIHBhbmVsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVNYW5hZ2VIaWRkZW5QYW5lbCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1uZXdzZmlsdGVyLW1hbmFnZS1wYW5lbCcpOwogICAgICAgICAgICAgICAgaWYgKHBhbmVsKSB7CiAgICAgICAgICAgICAgICAgICAgcGFuZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gaXNNYW5hZ2VQYW5lbE9wZW4oKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2UtbmV3c2ZpbHRlci1tYW5hZ2UtcGFuZWwnKTsKICAgICAgICAgICAgICAgIHJldHVybiBwYW5lbCAmJiBwYW5lbC5zdHlsZS5kaXNwbGF5ID09PSAnZmxleCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBvcHVsYXRlSGlkZGVuTGlzdCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZS1uZXdzZmlsdGVyLWhpZGRlbi1saXN0Jyk7CiAgICAgICAgICAgICAgICBpZiAoIWxpc3RFbGVtZW50KSByZXR1cm47CiAgICAgICAgICAgICAgICBsaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBsaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnPGxpIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjsgY29sb3I6IzgwOGI5NjsgcGFkZGluZzogMTBweDsiPtCl0YDQsNC90LjQu9C40YnQtSDQv9GD0YHRgtC+LjwvbGk+JzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRJdGVtcyA9IFsuLi5wZXJzaXN0ZW50bHlIaWRkZW5JdGVtc10uc29ydCgoYSwgYikgPT4oYi5kYXRlSGlkZGVuIHx8IDApIC0gKGEuZGF0ZUhpZGRlbiB8fCAwKSk7CiAgICAgICAgICAgICAgICBzb3J0ZWRJdGVtcy5mb3JFYWNoKGl0ZW1EYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHRleHRDb250YWluZXIuY2xhc3NOYW1lID0gJ2hpZGRlbi1pdGVtLXRleHQnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVOYW1lU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgICAgICAgICBnYW1lTmFtZVNwYW4uY2xhc3NOYW1lID0gJ2dhbWUtbmFtZSc7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU5hbWVTcGFuLnRleHRDb250ZW50ID0gaXRlbURhdGEuZ2FtZU5hbWUgPyBgJHtpdGVtRGF0YS5nYW1lTmFtZX1gIDogJ9CY0LPRgNCwINC90LUg0YPQutCw0LfQsNC90LAnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld3NUaXRsZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgICAgICAgbmV3c1RpdGxlU3Bhbi5jbGFzc05hbWUgPSAnbmV3cy10aXRsZSc7CiAgICAgICAgICAgICAgICAgICAgbmV3c1RpdGxlU3Bhbi50ZXh0Q29udGVudCA9IGl0ZW1EYXRhLm5ld3NUaXRsZSB8fCBgKNCd0L7QstC+0YHRgtGMINCx0LXQtyDQt9Cw0LPQvtC70L7QstC60LApYDsKICAgICAgICAgICAgICAgICAgICBuZXdzVGl0bGVTcGFuLnRpdGxlID0gaXRlbURhdGEubmV3c1RpdGxlIHx8IGDQndC+0LLQvtGB0YLRjCDQtNC70Y8gQXBwSUQ6ICR7aXRlbURhdGEuYXBwSUR9YDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHBJZFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgICAgICAgYXBwSWRTcGFuLmNsYXNzTmFtZSA9ICdhcHAtaWQnOwogICAgICAgICAgICAgICAgICAgIGFwcElkU3Bhbi50ZXh0Q29udGVudCA9IGBOZXdzSUQ6ICR7aXRlbURhdGEuaWR9IChBcHBJRDogJHtpdGVtRGF0YS5hcHBJRH0pYDsKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVOYW1lU3Bhbik7CiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdzVGl0bGVTcGFuKTsKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKGFwcElkU3Bhbik7CiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQodGV4dENvbnRhaW5lcik7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdG9yZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgICAgIHJlc3RvcmVCdXR0b24uY2xhc3NOYW1lID0gJ3VzZS1uZXdzZmlsdGVyLXJlc3RvcmUtYnRuJzsKICAgICAgICAgICAgICAgICAgICByZXN0b3JlQnV0dG9uLnRleHRDb250ZW50ID0gJ9CS0LXRgNC90YPRgtGMJzsKICAgICAgICAgICAgICAgICAgICByZXN0b3JlQnV0dG9uLnRpdGxlID0gYNCS0L7RgdGB0YLQsNC90L7QstC40YLRjCAiJHtpdGVtRGF0YS5uZXdzVGl0bGUgfHwgaXRlbURhdGEuaWR9ImA7CiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gcmVzdG9yZU5ld3NJdGVtKGl0ZW1EYXRhLmlkKTsKICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChyZXN0b3JlQnV0dG9uKTsKICAgICAgICAgICAgICAgICAgICBsaXN0RWxlbWVudC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVzdG9yZU5ld3NJdGVtKG5ld3NJRFRvUmVzdG9yZSkgewogICAgICAgICAgICAgICAgcGVyc2lzdGVudGx5SGlkZGVuSXRlbXMgPSBwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBuZXdzSURUb1Jlc3RvcmUpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoSElEREVOX05FV1NfR01fS0VZLCBwZXJzaXN0ZW50bHlIaWRkZW5JdGVtcyk7CiAgICAgICAgICAgICAgICB1cGRhdGVQZXJzaXN0ZW50SGlkZGVuQ291bnREaXNwbGF5KCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKE5FV1NfSVRFTV9TRUxFQ1RPUikuZm9yRWFjaChpdGVtT25QYWdlID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3NJRAogICAgICAgICAgICAgICAgICAgIH0gPSBnZXROZXdzSWRzRnJvbUxpbmsoaXRlbU9uUGFnZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3NJRCA9PT0gbmV3c0lEVG9SZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1PblBhZ2Uuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBpdGVtT25QYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3VzZS1uZXdzZmlsdGVyLW5ld3NpdGVtLXBlcnNpc3RlbnRseS1oaWRkZW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hBcmVhID0gaXRlbU9uUGFnZS5xdWVyeVNlbGVjdG9yKCcudXNlLW5ld3NmaWx0ZXItY2hlY2tib3gtYXJlYScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hBcmVhKSBjaGVja2JveEFyZWEuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBpdGVtT25QYWdlLnF1ZXJ5U2VsZWN0b3IoJy51c2UtbmV3c2ZpbHRlci1jaGVja2JveCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3gpIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlVGVtcG9yYXJ5SGlkZShpdGVtT25QYWdlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBwb3B1bGF0ZUhpZGRlbkxpc3QoKTsKICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkQ291bnQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJBbGxQZXJzaXN0ZW50SGlkZGVuTmV3cygpIHsKICAgICAgICAgICAgICAgIHBlcnNpc3RlbnRseUhpZGRlbkl0ZW1zID0gW107CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShISURERU5fTkVXU19HTV9LRVksIFtdKTsKICAgICAgICAgICAgICAgIHVwZGF0ZVBlcnNpc3RlbnRIaWRkZW5Db3VudERpc3BsYXkoKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoTkVXU19JVEVNX1NFTEVDVE9SKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndXNlLW5ld3NmaWx0ZXItbmV3c2l0ZW0tcGVyc2lzdGVudGx5LWhpZGRlbicsICd1c2UtbmV3c2ZpbHRlci1mYWRpbmctb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hBcmVhID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcudXNlLW5ld3NmaWx0ZXItY2hlY2tib3gtYXJlYScpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2JveEFyZWEpIGNoZWNrYm94QXJlYS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcudXNlLW5ld3NmaWx0ZXItY2hlY2tib3gnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3gpIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB0b2dnbGVUZW1wb3JhcnlIaWRlKGl0ZW0sIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcG9wdWxhdGVIaWRkZW5MaXN0KCk7CiAgICAgICAgICAgICAgICB1cGRhdGVTZWxlY3RlZENvdW50KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXROZXdzRmlsdGVyRW5oYW5jZWQoKSB7CiAgICAgICAgICAgICAgICBhcHBseUluaXRpYWxIaWRlKCk7CiAgICAgICAgICAgICAgICBhZGROZXdzQ2hlY2tib3hlcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKE5FV1NfSVRFTV9TRUxFQ1RPUikpOwogICAgICAgICAgICAgICAgY3JlYXRlQ29udHJvbHMoKTsKICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkQ291bnQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2V0VGltZW91dChpbml0TmV3c0ZpbHRlckVuaGFuY2VkLCAxNTAwKTsKCiAgICAgICAgICAgIGNvbnN0IG5ld3NPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHsKICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzTmV3c0l0ZW1zID0gZmFsc2U7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JyAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NOZXdzSXRlbXMgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzTmV3c0l0ZW1zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzTmV3c0l0ZW1zKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbE5ld3NJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoTkVXU19JVEVNX1NFTEVDVE9SKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWRkTmV3c0NoZWNrYm94ZXMoYWxsTmV3c0l0ZW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlJbml0aWFsSGlkZSgpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgbmV3c0ZlZWRQYXJlbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbY2xhc3MqPSJldmVudGNhbGVuZGFyX0V2ZW50QmxvY2tDb250YWluZXIiXScpOwogICAgICAgICAgICBpZiAobmV3c0ZlZWRQYXJlbnRDb250YWluZXIpIHsKICAgICAgICAgICAgICAgIG5ld3NPYnNlcnZlci5vYnNlcnZlKG5ld3NGZWVkUGFyZW50Q29udGFpbmVyLCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZUJvZHkgPSAoKSA9PiBuZXdzT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImludGVyYWN0aXZlIikgewogICAgICAgICAgICAgICAgICAgIG9ic2VydmVCb2R5KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgb2JzZXJ2ZUJvZHkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSkoKTsKICAgIH0KCiAgICAvLyDQodC60YDQuNC/0YIg0LTQu9GPINC/0L7QutCw0LfQsCDQs9C+0LTQvtCy0YvRhSDQuCDQuNGB0YLQvtGA0LjRh9C10YHQutC40YUg0L/RgNC+0LTQsNC2INC/0YDQtdC00LzQtdGC0LAg0L3QsCDRgtC+0YDQs9C+0LLQvtC5INC/0LvQvtGJ0LDQtNC60LUgU3RlYW0gfCBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9tYXJrZXQvbGlzdGluZ3MvKgogICAgaWYgKHNjcmlwdHNDb25maWcuS2F6bmFjaGVpICYmIHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnL21hcmtldC9saXN0aW5ncy8nKSkgewogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoU2FsZXNJbmZvKCkgewogICAgICAgICAgICBjb25zdCB1cmxQYXJ0cyA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpOwogICAgICAgICAgICBjb25zdCBhcHBJZCA9IHVybFBhcnRzWzNdOwogICAgICAgICAgICBjb25zdCBtYXJrZXRIYXNoTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJ0c1s0XSk7CiAgICAgICAgICAgIGNvbnN0IGFwaVVybCA9IGBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9tYXJrZXQvcHJpY2VoaXN0b3J5Lz9hcHBpZD0ke2FwcElkfSZtYXJrZXRfaGFzaF9uYW1lPSR7bWFya2V0SGFzaE5hbWV9YDsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCk7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWxlc0RhdGEgPSBkYXRhLnByaWNlczsKICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFybHlTYWxlcyA9IHt9OwogICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbFNhbGVzID0gMDsKCiAgICAgICAgICAgICAgICAgICAgc2FsZXNEYXRhLmZvckVhY2goc2FsZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBzYWxlWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoc2FsZVsxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoc2FsZVsyXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBkYXRlLnNwbGl0KCcgJylbMl07CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEZvckRheSA9IHByaWNlICogcXVhbnRpdHk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXllYXJseVNhbGVzW3llYXJdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFybHlTYWxlc1t5ZWFyXSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXNzaW9uOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmVsb3BlclNoYXJlOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHZlU2hhcmU6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJseVNhbGVzW3llYXJdLnRvdGFsICs9IHRvdGFsRm9yRGF5OwogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFNhbGVzICs9IHRvdGFsRm9yRGF5OwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHllYXIgaW4geWVhcmx5U2FsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWlzc2lvbiA9IHllYXJseVNhbGVzW3llYXJdLnRvdGFsICogMC4xMzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV2ZWxvcGVyU2hhcmUgPSBjb21taXNzaW9uICogMC42NjY3OwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx2ZVNoYXJlID0gY29tbWlzc2lvbiAqIDAuMzMzMzsKCiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJseVNhbGVzW3llYXJdLmNvbW1pc3Npb24gPSBjb21taXNzaW9uOwogICAgICAgICAgICAgICAgICAgICAgICB5ZWFybHlTYWxlc1t5ZWFyXS5kZXZlbG9wZXJTaGFyZSA9IGRldmVsb3BlclNoYXJlOwogICAgICAgICAgICAgICAgICAgICAgICB5ZWFybHlTYWxlc1t5ZWFyXS52YWx2ZVNoYXJlID0gdmFsdmVTaGFyZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlTYWxlc0luZm8oeWVhcmx5U2FsZXMsIHRvdGFsU2FsZXMpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/RgNC+0LTQsNC20LDRhS4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC00LDQvdC90YvRhTonLCBlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRpc3BsYXlTYWxlc0luZm8oeWVhcmx5U2FsZXMsIHRvdGFsU2FsZXMpIHsKICAgICAgICAgICAgY29uc3Qgc2FsZXNJbmZvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHNhbGVzSW5mb0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3AgPSAnMjBweCc7CiAgICAgICAgICAgIHNhbGVzSW5mb0NvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzEwcHgnOwogICAgICAgICAgICBzYWxlc0luZm9Db250YWluZXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjNGE0YTRhJzsKICAgICAgICAgICAgc2FsZXNJbmZvQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMWIyODM4JzsKICAgICAgICAgICAgc2FsZXNJbmZvQ29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHgnOwogICAgICAgICAgICBzYWxlc0luZm9Db250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gJzAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuNSknOwogICAgICAgICAgICBzYWxlc0luZm9Db250YWluZXIuc3R5bGUuY29sb3IgPSAnI2M3ZDVlMCc7CgogICAgICAgICAgICBjb25zdCBzcG9pbGVySGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHNwb2lsZXJIZWFkZXIuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOwogICAgICAgICAgICBzcG9pbGVySGVhZGVyLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7CiAgICAgICAgICAgIHNwb2lsZXJIZWFkZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMxNzFhMjEnOwogICAgICAgICAgICBzcG9pbGVySGVhZGVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHggNHB4IDAgMCc7CiAgICAgICAgICAgIHNwb2lsZXJIZWFkZXIuc3R5bGUuY29sb3IgPSAnI2M3ZDVlMCc7CiAgICAgICAgICAgIHNwb2lsZXJIZWFkZXIuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJzsKICAgICAgICAgICAgc3BvaWxlckhlYWRlci5zdHlsZS5mb250RmFtaWx5ID0gJyJNb3RpdmEgU2FucyIsIHNhbnMtc2VyaWYnOwogICAgICAgICAgICBzcG9pbGVySGVhZGVyLnN0eWxlLmZvbnRTaXplID0gJzE2cHgnOwogICAgICAgICAgICBzcG9pbGVySGVhZGVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgIHNwb2lsZXJIZWFkZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOwogICAgICAgICAgICBzcG9pbGVySGVhZGVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ3NwYWNlLWJldHdlZW4nOwogICAgICAgICAgICBzcG9pbGVySGVhZGVyLmlubmVySFRNTCA9ICfQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDQv9GA0L7QtNCw0LbQsNGFIDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEycHg7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlOyI+JiM5NjYwOzwvc3Bhbj4nOwoKICAgICAgICAgICAgc3BvaWxlckhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzcG9pbGVySGVhZGVyLm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9IGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJ2Jsb2NrJyA6ICdub25lJzsKICAgICAgICAgICAgICAgIGNvbnN0IGFycm93ID0gc3BvaWxlckhlYWRlci5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7CiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS50cmFuc2Zvcm0gPSBjb250ZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdyb3RhdGUoMGRlZyknIDogJ3JvdGF0ZSgxODBkZWcpJzsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zdCBzcG9pbGVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBzcG9pbGVyQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBzcG9pbGVyQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzEwcHgnOwogICAgICAgICAgICBzcG9pbGVyQ29udGVudC5zdHlsZS5ib3JkZXJUb3AgPSAnMXB4IHNvbGlkICM0YTRhNGEnOwoKICAgICAgICAgICAgY29uc3QgeWVhcmx5U2FsZXNUYWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7CiAgICAgICAgICAgIHllYXJseVNhbGVzVGFibGUuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgIHllYXJseVNhbGVzVGFibGUuc3R5bGUuYm9yZGVyQ29sbGFwc2UgPSAnY29sbGFwc2UnOwogICAgICAgICAgICB5ZWFybHlTYWxlc1RhYmxlLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JzsKICAgICAgICAgICAgeWVhcmx5U2FsZXNUYWJsZS5zdHlsZS5mb250RmFtaWx5ID0gJyJNb3RpdmEgU2FucyIsIHNhbnMtc2VyaWYnOwogICAgICAgICAgICB5ZWFybHlTYWxlc1RhYmxlLnN0eWxlLmZvbnRTaXplID0gJzE0cHgnOwoKICAgICAgICAgICAgY29uc3QgeWVhcmx5U2FsZXNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwogICAgICAgICAgICB5ZWFybHlTYWxlc0hlYWRlci5pbm5lckhUTUwgPSAnPHRoIHN0eWxlPSJwYWRkaW5nOiA4cHg7IHRleHQtYWxpZ246IGxlZnQ7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjNGE0YTRhOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMTcxYTIxOyBjb2xvcjogI2M3ZDVlMDsiPtCT0L7QtDwvdGg+PHRoIHN0eWxlPSJwYWRkaW5nOiA4cHg7IHRleHQtYWxpZ246IGxlZnQ7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjNGE0YTRhOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMTcxYTIxOyBjb2xvcjogI2M3ZDVlMDsiPtCh0YPQvNC80LAg0L/RgNC+0LTQsNC2INC30LAg0LPQvtC0PC90aD48dGggc3R5bGU9InBhZGRpbmc6IDhweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM0YTRhNGE7IGJhY2tncm91bmQtY29sb3I6ICMxNzFhMjE7IGNvbG9yOiAjYzdkNWUwOyI+0KPRiNC70L4g0YDQsNC30YDQsNCx0L7RgtGH0LjQutGDPC90aD48dGggc3R5bGU9InBhZGRpbmc6IDhweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM0YTRhNGE7IGJhY2tncm91bmQtY29sb3I6ICMxNzFhMjE7IGNvbG9yOiAjYzdkNWUwOyI+0KPRiNC70L4gVmFsdmU8L3RoPic7CiAgICAgICAgICAgIHllYXJseVNhbGVzVGFibGUuYXBwZW5kQ2hpbGQoeWVhcmx5U2FsZXNIZWFkZXIpOwoKICAgICAgICAgICAgZm9yIChjb25zdCB5ZWFyIGluIHllYXJseVNhbGVzKSB7CiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwogICAgICAgICAgICAgICAgcm93LmlubmVySFRNTCA9IGA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0YTRhNGE7IGJhY2tncm91bmQtY29sb3I6ICMxYjI4Mzg7IGNvbG9yOiAjYzdkNWUwOyI+JHt5ZWFyfTwvdGQ+PHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNGE0YTRhOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMWIyODM4OyBjb2xvcjogI2M3ZDVlMDsiPiR7eWVhcmx5U2FsZXNbeWVhcl0udG90YWwudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX0g0YDRg9CxLjwvdGQ+PHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNGE0YTRhOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMWIyODM4OyBjb2xvcjogI2M3ZDVlMDsiPiR7eWVhcmx5U2FsZXNbeWVhcl0uZGV2ZWxvcGVyU2hhcmUudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX0g0YDRg9CxLjwvdGQ+PHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNGE0YTRhOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMWIyODM4OyBjb2xvcjogI2M3ZDVlMDsiPiR7eWVhcmx5U2FsZXNbeWVhcl0udmFsdmVTaGFyZS50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pfSDRgNGD0LEuPC90ZD5gOwogICAgICAgICAgICAgICAgeWVhcmx5U2FsZXNUYWJsZS5hcHBlbmRDaGlsZChyb3cpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCB0b3RhbFNhbGVzUGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOwogICAgICAgICAgICB0b3RhbFNhbGVzUGFyYWdyYXBoLnRleHRDb250ZW50ID0gYNCh0YPQvNC80LAg0L/RgNC+0LTQsNC2INC30LAg0LLRgdGRINCy0YDQtdC80Y86ICR7dG90YWxTYWxlcy50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pfSDRgNGD0LEuYDsKICAgICAgICAgICAgdG90YWxTYWxlc1BhcmFncmFwaC5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnOwogICAgICAgICAgICB0b3RhbFNhbGVzUGFyYWdyYXBoLnN0eWxlLmZvbnRTaXplID0gJzE2cHgnOwogICAgICAgICAgICB0b3RhbFNhbGVzUGFyYWdyYXBoLnN0eWxlLmNvbG9yID0gJyNjN2Q1ZTAnOwogICAgICAgICAgICB0b3RhbFNhbGVzUGFyYWdyYXBoLnN0eWxlLmZvbnRGYW1pbHkgPSAnIk1vdGl2YSBTYW5zIiwgc2Fucy1zZXJpZic7CgogICAgICAgICAgICBjb25zdCBjb21taXNzaW9uID0gdG90YWxTYWxlcyAqIDAuMTM7CiAgICAgICAgICAgIGNvbnN0IGRldmVsb3BlclNoYXJlID0gY29tbWlzc2lvbiAqIDAuNjY2NzsKICAgICAgICAgICAgY29uc3QgdmFsdmVTaGFyZSA9IGNvbW1pc3Npb24gKiAwLjMzMzM7CgogICAgICAgICAgICBjb25zdCBkZXZlbG9wZXJTaGFyZVBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKICAgICAgICAgICAgZGV2ZWxvcGVyU2hhcmVQYXJhZ3JhcGgudGV4dENvbnRlbnQgPSBg0KPRiNC70L4g0YDQsNC30YDQsNCx0L7RgtGH0LjQutGDOiAke2RldmVsb3BlclNoYXJlLnRvTG9jYWxlU3RyaW5nKCdydS1SVScsIHsgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLCBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIgfSl9INGA0YPQsS5gOwogICAgICAgICAgICBkZXZlbG9wZXJTaGFyZVBhcmFncmFwaC5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JzsKICAgICAgICAgICAgZGV2ZWxvcGVyU2hhcmVQYXJhZ3JhcGguc3R5bGUuY29sb3IgPSAnI2M3ZDVlMCc7CiAgICAgICAgICAgIGRldmVsb3BlclNoYXJlUGFyYWdyYXBoLnN0eWxlLmZvbnRGYW1pbHkgPSAnIk1vdGl2YSBTYW5zIiwgc2Fucy1zZXJpZic7CgogICAgICAgICAgICBjb25zdCB2YWx2ZVNoYXJlUGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOwogICAgICAgICAgICB2YWx2ZVNoYXJlUGFyYWdyYXBoLnRleHRDb250ZW50ID0gYNCj0YjQu9C+IFZhbHZlOiAke3ZhbHZlU2hhcmUudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX0g0YDRg9CxLmA7CiAgICAgICAgICAgIHZhbHZlU2hhcmVQYXJhZ3JhcGguc3R5bGUuZm9udFNpemUgPSAnMTRweCc7CiAgICAgICAgICAgIHZhbHZlU2hhcmVQYXJhZ3JhcGguc3R5bGUuY29sb3IgPSAnI2M3ZDVlMCc7CiAgICAgICAgICAgIHZhbHZlU2hhcmVQYXJhZ3JhcGguc3R5bGUuZm9udEZhbWlseSA9ICciTW90aXZhIFNhbnMiLCBzYW5zLXNlcmlmJzsKCiAgICAgICAgICAgIHNwb2lsZXJDb250ZW50LmFwcGVuZENoaWxkKHllYXJseVNhbGVzVGFibGUpOwogICAgICAgICAgICBzcG9pbGVyQ29udGVudC5hcHBlbmRDaGlsZCh0b3RhbFNhbGVzUGFyYWdyYXBoKTsKICAgICAgICAgICAgc3BvaWxlckNvbnRlbnQuYXBwZW5kQ2hpbGQoZGV2ZWxvcGVyU2hhcmVQYXJhZ3JhcGgpOwogICAgICAgICAgICBzcG9pbGVyQ29udGVudC5hcHBlbmRDaGlsZCh2YWx2ZVNoYXJlUGFyYWdyYXBoKTsKCiAgICAgICAgICAgIHNhbGVzSW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChzcG9pbGVySGVhZGVyKTsKICAgICAgICAgICAgc2FsZXNJbmZvQ29udGFpbmVyLmFwcGVuZENoaWxkKHNwb2lsZXJDb250ZW50KTsKCiAgICAgICAgICAgIGNvbnN0IG1hcmtldEhlYWRlckJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hcmtldF9oZWFkZXJfYmcnKTsKICAgICAgICAgICAgaWYgKG1hcmtldEhlYWRlckJnKSB7CiAgICAgICAgICAgICAgICBtYXJrZXRIZWFkZXJCZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzYWxlc0luZm9Db250YWluZXIsIG1hcmtldEhlYWRlckJnLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgc2V0VGltZW91dChmZXRjaFNhbGVzSW5mbywgMTAwKTsKICAgIH0KCiAgICAvLyDQodC60YDQuNC/0YIg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QvtC5INC40L3RhNC+0YDQvNCw0YbQuNC4INC+0LEg0LjQs9GA0LUg0L/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvdCwINC90LXRkSDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LLQsNGI0LXQuSDQsNC60YLQuNCy0L3QvtGB0YLQuCBTdGVhbSB8IGh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL215LwogICAgaWYgKHNjcmlwdHNDb25maWcuaG9tZUluZm8gJiYgdW5zYWZlV2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ3N0ZWFtY29tbXVuaXR5LmNvbScpICYmIHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnL2hvbWUnKSkgewogICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgICAgICAgY29uc3QgTU9SRUxfQVBJX1VSTCA9ICJodHRwczovL2FwaS5zdGVhbXBvd2VyZWQuY29tL0lTdG9yZUJyb3dzZVNlcnZpY2UvR2V0SXRlbXMvdjEiOwogICAgICAgICAgICBjb25zdCBDSEFOVEVSRUxMRV9XQUlUX1RJTUUgPSAyMDAwOwogICAgICAgICAgICBjb25zdCBQT1JDSU5JX1ZJU0lCTEVfRUxFTUVOVFNfU0VMRUNUT1IgPSAiYVtocmVmKj0nL2FwcC8nXSwgYVtkYXRhLWFwcGlkXSI7CiAgICAgICAgICAgIGNvbnN0IFRSVUZGTEVfSE9WRVJfRUxFTUVOVF9TRUxFQ1RPUiA9ICJhW2hyZWYqPScvYXBwLyddLCBhW2RhdGEtYXBwaWRdIjsKCiAgICAgICAgICAgIGxldCBTSElJVEFLRV9jb2xsZWN0ZWRBcHBJZHMgPSBuZXcgU2V0KCk7CiAgICAgICAgICAgIGxldCBFTk9LSV90b29sdGlwID0gbnVsbDsKICAgICAgICAgICAgbGV0IE1BSVRBS0VfaG92ZXJUaW1lciA9IG51bGw7CiAgICAgICAgICAgIGxldCBIRU5fT0ZfVEhFX1dPT0RTX2hpZGVUaW1lciA9IG51bGw7CgogICAgICAgICAgICBjb25zdCBNVVNIUk9PTV9HQU1FX0RBVEEgPSB7fTsKCiAgICAgICAgICAgIGNvbnN0IFNURUFNX1RBR1NfQ0FDSEVfS0VZID0gJ1N0ZWFtRW5oYW5jZXJfVGFnc0NhY2hlX3YyJzsKICAgICAgICAgICAgY29uc3QgU1RFQU1fVEFHU19VUkwgPSAiaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS8wd24zZGcwZC8yMmEzNTFmZjRjNjVlNTBhOWE4YWY2ZGEzNjBkZWZhZC9yYXcvc3RlYW1ydXRhZ3Nvd25kLmpzb24iOwoKICAgICAgICAgICAgZnVuY3Rpb24gZmV0Y2hHYW1lRGF0YShhcHBJZHMpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0SnNvbiA9IHsKICAgICAgICAgICAgICAgICAgICBpZHM6IEFycmF5LmZyb20oYXBwSWRzKS5tYXAoYXBwaWQgPT4gKHsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwaWQKICAgICAgICAgICAgICAgICAgICB9KSksCiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogInJ1c3NpYW4iLAogICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5X2NvZGU6ICJVUyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZWFtX3JlYWxtOiAxCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkYXRhX3JlcXVlc3Q6IHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9hc3NldHM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmVsZWFzZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9wbGF0Zm9ybXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYWxsX3B1cmNoYXNlX29wdGlvbnM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfc2NyZWVuc2hvdHM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfdHJhaWxlcnM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmF0aW5nczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV90YWdfY291bnQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmV2aWV3czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9iYXNpY19pbmZvOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3N1cHBvcnRlZF9sYW5ndWFnZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfZnVsbF9kZXNjcmlwdGlvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9pbmNsdWRlZF9pdGVtczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZWRfaXRlbV9kYXRhX3JlcXVlc3Q6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYXNzZXRzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9yZWxlYXNlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9wbGF0Zm9ybXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2FsbF9wdXJjaGFzZV9vcHRpb25zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9zY3JlZW5zaG90czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfdHJhaWxlcnM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3JhdGluZ3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3RhZ19jb3VudDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmV2aWV3czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYmFzaWNfaW5mbzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfc3VwcG9ydGVkX2xhbmd1YWdlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfZnVsbF9kZXNjcmlwdGlvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfaW5jbHVkZWRfaXRlbXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Fzc2V0c193aXRob3V0X292ZXJyaWRlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5X3VzZXJfZmlsdGVyczogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2xpbmtzOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYXNzZXRzX3dpdGhvdXRfb3ZlcnJpZGVzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBhcHBseV91c2VyX2ZpbHRlcnM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2xpbmtzOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICB1cmw6IGAke01PUkVMX0FQSV9VUkx9P2lucHV0X2pzb249JHtlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaW5wdXRKc29uKSl9YCwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NHYW1lRGF0YShkYXRhKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0dhbWVEYXRhKGRhdGEpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZGF0YS5yZXNwb25zZS5zdG9yZV9pdGVtczsKICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSWQgPSBpdGVtLmlkOwogICAgICAgICAgICAgICAgICAgIE1VU0hST09NX0dBTUVfREFUQVthcHBJZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzOiBpdGVtLmFzc2V0cywKICAgICAgICAgICAgICAgICAgICAgICAgaXNfZWFybHlfYWNjZXNzOiBpdGVtLmlzX2Vhcmx5X2FjY2VzcywKICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3X2NvdW50OiBpdGVtLnJldmlld3M/LnN1bW1hcnlfZmlsdGVyZWQ/LnJldmlld19jb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudF9wb3NpdGl2ZTogaXRlbS5yZXZpZXdzPy5zdW1tYXJ5X2ZpbHRlcmVkPy5wZXJjZW50X3Bvc2l0aXZlLAogICAgICAgICAgICAgICAgICAgICAgICBzaG9ydF9kZXNjcmlwdGlvbjogaXRlbS5iYXNpY19pbmZvPy5zaG9ydF9kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyczogaXRlbS5iYXNpY19pbmZvPy5wdWJsaXNoZXJzPy5tYXAocCA9PiBwLm5hbWUpLmpvaW4oIiwgIiksCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmVsb3BlcnM6IGl0ZW0uYmFzaWNfaW5mbz8uZGV2ZWxvcGVycz8ubWFwKGQgPT4gZC5uYW1lKS5qb2luKCIsICIpLAogICAgICAgICAgICAgICAgICAgICAgICBmcmFuY2hpc2VzOiBpdGVtLmJhc2ljX2luZm8/LmZyYW5jaGlzZXM/Lm1hcChmID0+IGYubmFtZSkuam9pbigiLCAiKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGFnaWRzOiBpdGVtLnRhZ2lkcyB8fCBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2Vfc3VwcG9ydF9ydXNzaWFuOiBpdGVtLnN1cHBvcnRlZF9sYW5ndWFnZXM/LmZpbmQobGFuZyA9PiBsYW5nLmVsYW5ndWFnZSA9PT0gOCksCiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlX3N1cHBvcnRfZW5nbGlzaDogaXRlbS5zdXBwb3J0ZWRfbGFuZ3VhZ2VzPy5maW5kKGxhbmcgPT4gbGFuZy5lbGFuZ3VhZ2UgPT09IDApLAogICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlX2RhdGU6IGl0ZW0ucmVsZWFzZT8uc3RlYW1fcmVsZWFzZV9kYXRlID8gbmV3IERhdGUoaXRlbS5yZWxlYXNlLnN0ZWFtX3JlbGVhc2VfZGF0ZSAqIDEwMDApLnRvTG9jYWxlRGF0ZVN0cmluZygpIDogItCd0LXRgiDQtNCw0L3QvdGL0YUiCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjb2xsZWN0QW5kRmV0Y2hBcHBJZHMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCB2aXNpYmxlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFBPUkNJTklfVklTSUJMRV9FTEVNRU5UU19TRUxFQ1RPUik7CiAgICAgICAgICAgICAgICBjb25zdCBuZXdBcHBJZHMgPSBuZXcgU2V0KCk7CgogICAgICAgICAgICAgICAgdmlzaWJsZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSWQgPSBlbGVtZW50LmRhdGFzZXQuYXBwaWQgfHwgZWxlbWVudC5ocmVmLm1hdGNoKC9hcHBcLyhcZCspLyk/LlsxXTsKICAgICAgICAgICAgICAgICAgICBpZiAoYXBwSWQgJiYgIVNISUlUQUtFX2NvbGxlY3RlZEFwcElkcy5oYXMoYXBwSWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FwcElkcy5hZGQocGFyc2VJbnQoYXBwSWQsIDEwKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNISUlUQUtFX2NvbGxlY3RlZEFwcElkcy5hZGQoYXBwSWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChuZXdBcHBJZHMuc2l6ZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBmZXRjaEdhbWVEYXRhKG5ld0FwcElkcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUhvdmVyKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBjb25zdCBnYW1lRWxlbWVudCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFRSVUZGTEVfSE9WRVJfRUxFTUVOVF9TRUxFQ1RPUik7CgogICAgICAgICAgICAgICAgaWYgKGdhbWVFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwSWQgPSBnYW1lRWxlbWVudC5kYXRhc2V0LmFwcGlkIHx8IGdhbWVFbGVtZW50LmhyZWYubWF0Y2goL2FwcFwvKFxkKykvKT8uWzFdOwogICAgICAgICAgICAgICAgICAgIGlmIChhcHBJZCAmJiBNVVNIUk9PTV9HQU1FX0RBVEFbYXBwSWRdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChNQUlUQUtFX2hvdmVyVGltZXIpOwogICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoSEVOX09GX1RIRV9XT09EU19oaWRlVGltZXIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgTUFJVEFLRV9ob3ZlclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5R2FtZUluZm8oZ2FtZUVsZW1lbnQsIE1VU0hST09NX0dBTUVfREFUQVthcHBJZF0sIGFwcElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoTUFJVEFLRV9ob3ZlclRpbWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KEhFTl9PRl9USEVfV09PRFNfaGlkZVRpbWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEVOT0tJX3Rvb2x0aXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVOT0tJX3Rvb2x0aXAuc3R5bGUub3BhY2l0eSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFTk9LSV90b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRSZXZpZXdDbGFzc0NhdGFsb2cocGVyY2VudCwgdG90YWxSZXZpZXdzKSB7CiAgICAgICAgICAgICAgICBpZiAodG90YWxSZXZpZXdzID09PSAwKSByZXR1cm4gJ211c2hyb29tLW5vLXJldmlld3MnOwogICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gNzApIHJldHVybiAnbXVzaHJvb20tcG9zaXRpdmUnOwogICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gNDApIHJldHVybiAnbXVzaHJvb20tbWl4ZWQnOwogICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gMSkgcmV0dXJuICdtdXNocm9vbS1uZWdhdGl2ZSc7CiAgICAgICAgICAgICAgICByZXR1cm4gJ211c2hyb29tLW5lZ2F0aXZlJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZFN0ZWFtVGFncygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IEdNX2dldFZhbHVlKFNURUFNX1RBR1NfQ0FDSEVfS0VZLCB7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgICAgIGNvbnN0IENBQ0hFX0RVUkFUSU9OID0gNzQ0ICogNjAgKiA2MCAqIDEwMDA7CgogICAgICAgICAgICAgICAgaWYgKGNhY2hlZC5kYXRhICYmIChub3cgLSBjYWNoZWQudGltZXN0YW1wKSA8IENBQ0hFX0RVUkFUSU9OKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZC5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFNURUFNX1RBR1NfVVJMLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU1RFQU1fVEFHU19DQUNIRV9LRVksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5vdwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGC0LXQs9C+0LI6JywgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZC5kYXRhIHx8IHt9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiB7fTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gZGlzcGxheUdhbWVJbmZvKGVsZW1lbnQsIGRhdGEsIGFwcElkKSB7CiAgICAgICAgICAgICAgICBpZiAoIUVOT0tJX3Rvb2x0aXApIHsKICAgICAgICAgICAgICAgICAgICBFTk9LSV90b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgRU5PS0lfdG9vbHRpcC5jbGFzc05hbWUgPSAnbXVzaHJvb20tdG9vbHRpcCc7CiAgICAgICAgICAgICAgICAgICAgRU5PS0lfdG9vbHRpcC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0idG9vbHRpcC1jb250ZW50Ij48L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoRU5PS0lfdG9vbHRpcCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcENvbnRlbnQgPSBFTk9LSV90b29sdGlwLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwLWNvbnRlbnQnKTsKCiAgICAgICAgICAgICAgICBsZXQgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhblRleHQgPSAi0J7RgtGB0YPRgtGB0YLQstGD0LXRgiI7CiAgICAgICAgICAgICAgICBsZXQgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhbkNsYXNzID0gJ211c2hyb29tLWxhbmd1YWdlLW5vJzsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbikgewogICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlU3VwcG9ydFJ1c3NpYW5UZXh0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9ydXNzaWFuLnN1cHBvcnRlZCkgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhblRleHQgKz0gIjxicj7QmNC90YLQtdGA0YTQtdC50YE6IOKclCAiOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbi5mdWxsX2F1ZGlvKSBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dCArPSAiPGJyPtCe0LfQstGD0YfQutCwOiDinJQgIjsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sYW5ndWFnZV9zdXBwb3J0X3J1c3NpYW4uc3VidGl0bGVzKSBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dCArPSAiPGJyPtCh0YPQsdGC0LjRgtGA0Ys6IOKclCI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlU3VwcG9ydFJ1c3NpYW5UZXh0ID09PSAiIikgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhblRleHQgPSAi0J7RgtGB0YPRgtGB0YLQstGD0LXRgiI7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuQ2xhc3MgPSAnbXVzaHJvb20tbGFuZ3VhZ2UteWVzJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsZXQgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaFRleHQgPSAi0J7RgtGB0YPRgtGB0YLQstGD0LXRgiI7CiAgICAgICAgICAgICAgICBsZXQgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaENsYXNzID0gJ211c2hyb29tLWxhbmd1YWdlLW5vJzsKICAgICAgICAgICAgICAgIGlmIChzY3JpcHRzQ29uZmlnLnRvZ2dsZUVuZ2xpc2hMYW5nSW5mbyAmJiBkYXRhLmxhbmd1YWdlX3N1cHBvcnRfZW5nbGlzaCkgewogICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlU3VwcG9ydEVuZ2xpc2hUZXh0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9lbmdsaXNoLnN1cHBvcnRlZCkgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaFRleHQgKz0gIjxicj7QmNC90YLQtdGA0YTQtdC50YE6IOKclCAiOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlX3N1cHBvcnRfZW5nbGlzaC5mdWxsX2F1ZGlvKSBsYW5ndWFnZVN1cHBvcnRFbmdsaXNoVGV4dCArPSAiPGJyPtCe0LfQstGD0YfQutCwOiDinJQgIjsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sYW5ndWFnZV9zdXBwb3J0X2VuZ2xpc2guc3VidGl0bGVzKSBsYW5ndWFnZVN1cHBvcnRFbmdsaXNoVGV4dCArPSAiPGJyPtCh0YPQsdGC0LjRgtGA0Ys6IOKclCI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlU3VwcG9ydEVuZ2xpc2hUZXh0ID09PSAiIikgbGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaFRleHQgPSAi0J7RgtGB0YPRgtGB0YLQstGD0LXRgiI7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBsYW5ndWFnZVN1cHBvcnRFbmdsaXNoQ2xhc3MgPSAnbXVzaHJvb20tbGFuZ3VhZ2UteWVzJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCByZXZpZXdDbGFzcyA9IGdldFJldmlld0NsYXNzQ2F0YWxvZyhkYXRhLnBlcmNlbnRfcG9zaXRpdmUsIGRhdGEucmV2aWV3X2NvdW50KTsKICAgICAgICAgICAgICAgIGNvbnN0IGVhcmx5QWNjZXNzQ2xhc3MgPSBkYXRhLmlzX2Vhcmx5X2FjY2VzcyA/ICdtdXNocm9vbS1lYXJseS1hY2Nlc3MteWVzJyA6ICdtdXNocm9vbS1lYXJseS1hY2Nlc3Mtbm8nOwoKICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlclVybCA9IGRhdGEuYXNzZXRzPy5oZWFkZXIgPyBgaHR0cHM6Ly9zaGFyZWQuY2xvdWRmbGFyZS5zdGVhbXN0YXRpYy5jb20vc3RvcmVfaXRlbV9hc3NldHMvc3RlYW0vYXBwcy8ke2FwcElkfS8ke2RhdGEuYXNzZXRzLmhlYWRlcn1gIDogJyc7CiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUh0bWwgPSBoZWFkZXJVcmwgPyBgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPjxpbWcgc3JjPSIke2hlYWRlclVybH0iIGFsdD0iJHtkYXRhLm5hbWV9IiBzdHlsZT0id2lkdGg6IDUwJTsgaGVpZ2h0OiBhdXRvOyI+PC9kaXY+YCA6ICcnOwoKICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldFRhZ05hbWVzKHRhZ0lkcykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3NEYXRhID0gYXdhaXQgbG9hZFN0ZWFtVGFncygpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWdJZHMuc2xpY2UoMCwgNSkubWFwKHRhZ0lkID0+CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NEYXRhW3RhZ0lkXSB8fCBg0KLQtdCzICMke3RhZ0lkfWAKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCBnZXRUYWdOYW1lcyhkYXRhLnRhZ2lkcyB8fCBbXSk7CiAgICAgICAgICAgICAgICBjb25zdCB0YWdzSHRtbCA9IHRhZ3MubWFwKHRhZyA9PgogICAgICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPSJtdXNocm9vbS10YWciPiR7dGFnfTwvZGl2PmAKICAgICAgICAgICAgICAgICkuam9pbignJyk7CgogICAgICAgICAgICAgICAgdG9vbHRpcENvbnRlbnQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCd0LDQt9Cy0LDQvdC40LU6PC9zdHJvbmc+ICR7ZGF0YS5uYW1lIHx8ICLQndC10YIg0LTQsNC90L3Ri9GFIn08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAke2ltYWdlSHRtbH0KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+PHN0cm9uZz7QlNCw0YLQsCDQstGL0YXQvtC00LA6PC9zdHJvbmc+ICR7ZGF0YS5yZWxlYXNlX2RhdGV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMHB4OyI+PHN0cm9uZz7QmNC30LTQsNGC0LXQu9C4Ojwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHshZGF0YS5wdWJsaXNoZXJzID8gJ211c2hyb29tLW5vLXJldmlld3MnIDogJyd9Ij4ke2RhdGEucHVibGlzaGVycyB8fCAi0J3QtdGCINC00LDQvdC90YvRhSJ9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDBweDsiPjxzdHJvbmc+0KDQsNC30YDQsNCx0L7RgtGH0LjQutC4Ojwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHshZGF0YS5kZXZlbG9wZXJzID8gJ211c2hyb29tLW5vLXJldmlld3MnIDogJyd9Ij4ke2RhdGEuZGV2ZWxvcGVycyB8fCAi0J3QtdGCINC00LDQvdC90YvRhSJ9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCh0LXRgNC40Y8g0LjQs9GAOjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHshZGF0YS5mcmFuY2hpc2VzID8gJ211c2hyb29tLW5vLXJldmlld3MnIDogJyd9Ij4ke2RhdGEuZnJhbmNoaXNlcyB8fCAi0J3QtdGCINC00LDQvdC90YvRhSJ9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCe0YLQt9GL0LLRizogPC9zdHJvbmc+PHNwYW4gaWQ9InJldmlld0NvdW50Ij4ke2RhdGEucmV2aWV3X2NvdW50IHx8ICIwIn0gPC9zcGFuPjxzcGFuIGNsYXNzPSIke3Jldmlld0NsYXNzfSI+KCR7ZGF0YS5wZXJjZW50X3Bvc2l0aXZlIHx8ICIwIn0lINC/0L7Qu9C+0LbQuNGC0LXQu9GM0L3Ri9GFKTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+PHN0cm9uZz7QoNCw0L3QvdC40Lkg0LTQvtGB0YLRg9C/Ojwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iJHtlYXJseUFjY2Vzc0NsYXNzfSI+JHtkYXRhLmlzX2Vhcmx5X2FjY2VzcyA/ICLQlNCwIiA6ICLQndC10YIifTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+PHN0cm9uZz7QoNGD0YHRgdC60LjQuSDRj9C30YvQujo8L3N0cm9uZz4gPHNwYW4gY2xhc3M9IiR7bGFuZ3VhZ2VTdXBwb3J0UnVzc2lhbkNsYXNzfSI+JHtsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dH08L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgJHtzY3JpcHRzQ29uZmlnLnRvZ2dsZUVuZ2xpc2hMYW5nSW5mbyA/IGA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+PHN0cm9uZz7QkNC90LPQu9C40LnRgdC60LjQuSDRj9C30YvQujo8L3N0cm9uZz4gPHNwYW4gY2xhc3M9IiR7bGFuZ3VhZ2VTdXBwb3J0RW5nbGlzaENsYXNzfSI+JHtsYW5ndWFnZVN1cHBvcnRFbmdsaXNoVGV4dH08L3NwYW4+PC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCc0LXRgtC60Lg6PC9zdHJvbmc+PGJyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im11c2hyb29tLXRhZ3MtY29udGFpbmVyIj4ke3RhZ3NIdG1sfTwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij48c3Ryb25nPtCe0L/QuNGB0LDQvdC40LU6PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSIkeyFkYXRhLnNob3J0X2Rlc2NyaXB0aW9uID8gJ211c2hyb29tLW5vLXJldmlld3MnIDogJyd9Ij4ke2RhdGEuc2hvcnRfZGVzY3JpcHRpb24gfHwgItCd0LXRgiDQtNCw0L3QvdGL0YUifTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgRU5PS0lfdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICAgICAgICBjb25zdCBibG90dGVyRGF5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG90dGVyX2RheScpOwogICAgICAgICAgICAgICAgaWYgKGJsb3R0ZXJEYXlFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvdHRlclJlY3QgPSBibG90dGVyRGF5RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sdGlwUmVjdCA9IEVOT0tJX3Rvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgICAgICAgICAgICAgICAgIEVOT0tJX3Rvb2x0aXAuc3R5bGUubGVmdCA9IGAke2Jsb3R0ZXJSZWN0LmxlZnQgLSB0b29sdGlwUmVjdC53aWR0aCAtIDV9cHhgOwogICAgICAgICAgICAgICAgICAgIEVOT0tJX3Rvb2x0aXAuc3R5bGUudG9wID0gYCR7ZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWSAtIDM1fXB4YDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBFTk9LSV90b29sdGlwLnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICAgICAgICAgICAgRU5PS0lfdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIEVOT0tJX3Rvb2x0aXAuc3R5bGUub3BhY2l0eSA9IDE7CiAgICAgICAgICAgICAgICB9LCAxMCk7CgogICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChIRU5fT0ZfVEhFX1dPT0RTX2hpZGVUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgSEVOX09GX1RIRV9XT09EU19oaWRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgRU5PS0lfdG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFTk9LSV90b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBvbmNlOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoSEVOX09GX1RIRV9XT09EU19oaWRlVGltZXIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIG9ic2VydmVOZXdFbGVtZW50cygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4gewogICAgICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0QW5kRmV0Y2hBcHBJZHMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29sbGVjdEFuZEZldGNoQXBwSWRzKCk7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZU5ld0VsZW1lbnRzKCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgaGFuZGxlSG92ZXIpOwogICAgICAgICAgICAgICAgfSwgQ0hBTlRFUkVMTEVfV0FJVF9USU1FKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaW5pdGlhbGl6ZSgpOwoKICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICBzdHlsZS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAubXVzaHJvb20tdG9vbHRpcCB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNlM2VhZWYsICNjN2Q1ZTApOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMzA0NTVhOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4OwogICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMnB4ICMwMDA7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwOwogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UtaW4tb3V0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLnRvb2x0aXAtYXJyb3cgewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICByaWdodDogLTlweDsKICAgICAgICAgICAgICAgICAgICB0b3A6IDMycHg7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDA7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwOwogICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDEwcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMTBweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItbGVmdDogMTBweCBzb2xpZCAjRTFFOEVEOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLm11c2hyb29tLXBvc2l0aXZlIHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzJCODBFOTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5tdXNocm9vbS1taXhlZCB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5OTdhMDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAubXVzaHJvb20tbmVnYXRpdmUgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjRTUzRTNFOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLm11c2hyb29tLW5vLXJldmlld3MgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjOTI5Mzk2OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLm11c2hyb29tLWxhbmd1YWdlLXllcyB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyQjgwRTk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAubXVzaHJvb20tbGFuZ3VhZ2Utbm8gewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjRTUzRTNFOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLm11c2hyb29tLWVhcmx5LWFjY2Vzcy15ZXMgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMkI4MEU5OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLm11c2hyb29tLWVhcmx5LWFjY2Vzcy1ubyB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5MjkzOTY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIC5tdXNocm9vbS10YWdzLWNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICAgICAgICAgZ2FwOiAzcHg7CiAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA2cHg7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgLm11c2hyb29tLXRhZyB7CiAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTZhM2FlOwogICAgICAgICAgICAgICAgICAgY29sb3I6ICNlM2VhZWY7CiAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDRweDsKICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDsKICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4OwogICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMjAwcHg7CiAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiBub25lOwogICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogM3B4OwogICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy/QodC60YDQuNC/0YIg0LTQu9GPINCy0YvQsdC+0YDQsCDRgdC70YPRh9Cw0LnQvdC+0Lkg0LjQs9GA0Ysg0LjQtyDQstCw0YjQuNGFINC60L7Qu9C70LXQutGG0LjQuSDRgSDQv9C+0LzQvtGJ0YzRjiBTdGVsaWNhcyDQuCDRgNGD0LvQtdGC0LrQuCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LLQsNGI0LXQuSDQsNC60YLQuNCy0L3QvtGB0YLQuCBTdGVhbSB8IGh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL215LwogICAgaWYgKHNjcmlwdHNDb25maWcuc3RlbGljYXNSb3VsZXR0ZSAmJiB1bnNhZmVXaW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnc3RlYW1jb21tdW5pdHkuY29tJykgJiYgdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvaG9tZScpKSB7CiAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAndXNlIHN0cmljdCc7CgogICAgICAgICAgICBsZXQgc3IyX2dhbWVzID0gW107CiAgICAgICAgICAgIGxldCBzcjJfZmlsdGVyZWRHYW1lcyA9IFtdOwogICAgICAgICAgICBsZXQgc3IyX2NhdGVnb3JpZXMgPSBuZXcgTWFwKCk7CiAgICAgICAgICAgIGxldCBzcjJfcmVsZWFzZVllYXJzID0gbmV3IE1hcCgpOwogICAgICAgICAgICBsZXQgc3IyX3RhZ3MgPSBuZXcgTWFwKCk7CiAgICAgICAgICAgIGxldCBzcjJfbGFuZ3VhZ2VTdXBwb3J0U3RhdHMgPSB7IG5vUnVzc2lhbk9yTm9EYXRhOiAwLCBzdWJ0aXRsZXNPckludGVyZmFjZU9ubHk6IDAsIHZvaWNlOiAwIH07CiAgICAgICAgICAgIGxldCBzcjJfc3Bpbm5pbmcgPSBmYWxzZTsKICAgICAgICAgICAgY29uc3QgU1IyX0NMT05FU19DT1VOVCA9IDc7CiAgICAgICAgICAgIGxldCBzcjJfbW9kYWwgPSBudWxsOwogICAgICAgICAgICBsZXQgc3IyX2N1cnJlbnRWaWV3TW9kZSA9ICdyb3VsZXR0ZSc7CiAgICAgICAgICAgIGxldCBzcjJfY29sbGVjdGlvblNlbGVjdGVkR2FtZUFwcElkID0gbnVsbDsKICAgICAgICAgICAgbGV0IHNyMl90b2dnbGVWaWV3QnRuID0gbnVsbDsKCgogICAgICAgICAgICBsZXQgc3IyX2FjdGl2ZUZpbHRlcnMgPSB7CiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBbItCS0YHQtSJdLAogICAgICAgICAgICAgICAgcmVsZWFzZVllYXJzOiBbItCS0YHQtSJdLAogICAgICAgICAgICAgICAgdGFnczogWyLQktGB0LUiXSwKICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBbItCS0YHQtSJdLAogICAgICAgICAgICAgICAgcmV2aWV3Q291bnRNaW46IG51bGwsCiAgICAgICAgICAgICAgICByZXZpZXdDb3VudE1heDogbnVsbCwKICAgICAgICAgICAgICAgIHJhdGluZ01pbjogbnVsbCwKICAgICAgICAgICAgICAgIHJhdGluZ01heDogbnVsbAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2FkZFJvdWxldHRlQmxvY2soKSB7CiAgICAgICAgICAgICAgICBjb25zdCByaWdodENvbHVtbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmllbmRhY3Rpdml0eV9yaWdodF9jb2x1bW4nKTsKICAgICAgICAgICAgICAgIGNvbnN0IGZyaWVuZHNBZGRCbG9jayA9IHJpZ2h0Q29sdW1uID8gcmlnaHRDb2x1bW4ucXVlcnlTZWxlY3RvcignLmZyaWVuZHNfYWRkX2Jsb2NrJykgOiBudWxsOwoKICAgICAgICAgICAgICAgIGlmIChmcmllbmRzQWRkQmxvY2sgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfc3RlbGljYXNSb3VsZXR0ZUJsb2NrJykpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByb3VsZXR0ZUJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGVCbG9jay5pZCA9ICdzcjJfc3RlbGljYXNSb3VsZXR0ZUJsb2NrJzsKICAgICAgICAgICAgICAgICAgICByb3VsZXR0ZUJsb2NrLmNsYXNzTmFtZSA9ICdmcmllbmRzX2FkZF9ibG9jayBwYW5lbCc7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGVCbG9jay5zdHlsZS5tYXJnaW5Ub3AgPSAnMTJweCc7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGVCbG9jay5zdHlsZS5wYWRkaW5nID0gJzEwcHgnOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHRpdGxlRGl2LmNsYXNzTmFtZSA9ICdwcm9maWxlX2FkZF9mcmllbmRzX3RpdGxlJzsKICAgICAgICAgICAgICAgICAgICB0aXRsZURpdi50ZXh0Q29udGVudCA9ICfQoNGD0LvQtdGC0LrQsCBTdGVsaWNhcyc7CiAgICAgICAgICAgICAgICAgICAgdGl0bGVEaXYuc3R5bGUubWFyZ2luQm90dG9tID0gJzEwcHgnOwogICAgICAgICAgICAgICAgICAgIHJvdWxldHRlQmxvY2suYXBwZW5kQ2hpbGQodGl0bGVEaXYpOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCByb3VsZXR0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHJvdWxldHRlQnV0dG9uLmNsYXNzTmFtZSA9ICdidG5fZGFya2JsdWVfd2hpdGVfaW5uZXJmYWRlIGJ0bl9tZWRpdW1fdGFsbCc7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGVCdXR0b24uc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGVCdXR0b24ub25jbGljayA9IHNyMl9zaG93Um91bGV0dGVNb2RhbDsKCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Bhbkluc2lkZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgICAgICAgICBzcGFuSW5zaWRlQnV0dG9uLnRleHRDb250ZW50ID0gJ9Cg0YPQu9C10YLQutCwIFN0ZWxpY2FzJzsKICAgICAgICAgICAgICAgICAgICByb3VsZXR0ZUJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuSW5zaWRlQnV0dG9uKTsKICAgICAgICAgICAgICAgICAgICByb3VsZXR0ZUJsb2NrLmFwcGVuZENoaWxkKHJvdWxldHRlQnV0dG9uKTsKCiAgICAgICAgICAgICAgICAgICAgZnJpZW5kc0FkZEJsb2NrLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJvdWxldHRlQmxvY2ssIGZyaWVuZHNBZGRCbG9jay5uZXh0U2libGluZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9zaG93Um91bGV0dGVNb2RhbCgpIHsKICAgICAgICAgICAgICAgIGlmIChzcjJfbW9kYWwgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhzcjJfbW9kYWwpKSB7CiAgICAgICAgICAgICAgICAgICAgc3IyX21vZGFsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzcjJfbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHNyMl9tb2RhbC5pZCA9ICdzcjJfc3RlbGljYXNSb3VsZXR0ZU1vZGFsJzsKICAgICAgICAgICAgICAgIHNyMl9tb2RhbC5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwRDExMTc7IGNvbG9yOiAjQzlEMUQ5OyB6LWluZGV4OiAyMDAwMDsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAiTW90aXZhIFNhbnMiLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlclBhbmVsLmlkID0gJ3NyMl9oZWFkZXJQYW5lbCc7CiAgICAgICAgICAgICAgICBoZWFkZXJQYW5lbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJzcjJfbW9kYWxUaXRsZSI+0KDRg9C70LXRgtC60LAgU3RlbGljYXM8L2gyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9oZWFkZXJDb250cm9scyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNyMl90b2dnbGVWaWV3QnRuIiBjbGFzcz0ic3IyX2J0biBzcjJfYnRuSWNvbiIgdGl0bGU9ItCf0L7RgdC80L7RgtGA0LXRgtGMINC/0L7QtNCx0L7RgNC60YMiIGRpc2FibGVkPtCf0L7RgdC80L7RgtGA0LXRgtGMINC/0L7QtNCx0L7RgNC60YM8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic3IyX2hlbHBCdG4iIGNsYXNzPSJzcjJfYnRuIHNyMl9idG5JY29uIiB0aXRsZT0i0JrQsNC6INC/0L7Qu9GM0LfQvtCy0LDRgtGM0YHRjyAvINCg0LXQv9C+0LfQuNGC0L7RgNC40LkiPj88L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic3IyX2Nsb3NlQnRuIiBjbGFzcz0ic3IyX2J0biBzcjJfYnRuSWNvbiIgdGl0bGU9ItCX0LDQutGA0YvRgtGMIj4mdGltZXM7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgc3IyX21vZGFsLmFwcGVuZENoaWxkKGhlYWRlclBhbmVsKTsKICAgICAgICAgICAgICAgIHNyMl90b2dnbGVWaWV3QnRuID0gaGVhZGVyUGFuZWwucXVlcnlTZWxlY3RvcignI3NyMl90b2dnbGVWaWV3QnRuJyk7CgoKICAgICAgICAgICAgICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIG1haW5Db250YWluZXIuaWQgPSAnc3IyX21haW5Db250YWluZXInOwoKICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRDb250cm9sc1BhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBsZWZ0Q29udHJvbHNQYW5lbC5pZCA9ICdzcjJfbGVmdENvbnRyb2xzUGFuZWwnOwogICAgICAgICAgICAgICAgbGVmdENvbnRyb2xzUGFuZWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9jb250cm9sU2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InNyMl9jc3ZGaWxlVHJpZ2dlciIgY2xhc3M9InNyMl9sYWJlbCI+MS4g0JfQsNCz0YDRg9C30LjRgtGMINC00LDQvdC90YvQtTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9InNyMl9jc3ZGaWxlIiBhY2NlcHQ9Ii5jc3YiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic3IyX2NzdkZpbGVUcmlnZ2VyIiBjbGFzcz0ic3IyX2J0biBzcjJfYnRuQmxvY2siPtCS0YvQsdGA0LDRgtGMIENTViDQvtGCIFN0ZWxpY2FzPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzcjJfZmlsZU5hbWVEaXNwbGF5IiBjbGFzcz0ic3IyX2ZpbGVOYW1lIj7QpNCw0LnQuyDQvdC1INCy0YvQsdGA0LDQvTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2NvbnRyb2xTZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzcjJfbGFiZWwiPjIuINCk0LjQu9GM0YLRgNGLOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9maWx0ZXJCbG9jayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9InNyMl9maWx0ZXJUaXRsZSI+0JrQsNGC0LXQs9C+0YDQuNC4PC9oNT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9jYXRlZ29yeUxpc3QiIGNsYXNzPSJzcjJfZmlsdGVyTGlzdCIgc3R5bGU9Im1heC1oZWlnaHQ6IDgycHg7Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9maWx0ZXJCbG9jayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9InNyMl9maWx0ZXJUaXRsZSI+0JTQsNGC0LAg0LLRi9GF0L7QtNCwPC9oNT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9yZWxlYXNlWWVhckxpc3QiIGNsYXNzPSJzcjJfZmlsdGVyTGlzdCIgc3R5bGU9Im1heC1oZWlnaHQ6IDgycHg7Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9maWx0ZXJCbG9jayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9InNyMl9maWx0ZXJUaXRsZSI+0KLRjdCz0Lg8L2g1PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzcjJfdGFnU2VhcmNoSW5wdXQiIGNsYXNzPSJzcjJfZmlsdGVyU2VhcmNoSW5wdXQiIHBsYWNlaG9sZGVyPSLQn9C+0LjRgdC6INGC0Y3Qs9CwLi4uIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzcjJfdGFnTGlzdCIgY2xhc3M9InNyMl9maWx0ZXJMaXN0IiBzdHlsZT0ibWF4LWhlaWdodDogODJweDsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2ZpbHRlckJsb2NrIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ic3IyX2ZpbHRlclRpdGxlIj7QoNGD0YHRgdC60LjQuSDRj9C30YvQujwvaDU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzcjJfbGFuZ3VhZ2VMaXN0IiBjbGFzcz0ic3IyX2ZpbHRlckxpc3QiIHN0eWxlPSJtYXgtaGVpZ2h0OiA4MnB4OyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2ZpbHRlckJsb2NrIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ic3IyX2ZpbHRlclRpdGxlIj7QmtC+0LvQuNGH0LXRgdGC0LLQviDQvtGC0LfRi9Cy0L7QsjwvaDU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfaW5wdXRSYW5nZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNyMl9yZXZpZXdDb3VudE1pbiIgY2xhc3M9InNyMl9maWx0ZXJJbnB1dCIgcGxhY2Vob2xkZXI9ItCe0YIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcjJfaW5wdXRSYW5nZVNlcGFyYXRvciI+LTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3IyX3Jldmlld0NvdW50TWF4IiBjbGFzcz0ic3IyX2ZpbHRlcklucHV0IiBwbGFjZWhvbGRlcj0i0JTQviI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9maWx0ZXJCbG9jayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9InNyMl9maWx0ZXJUaXRsZSI+0KDQtdC50YLQuNC90LMgKCUpPC9oNT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9pbnB1dFJhbmdlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3IyX3JhdGluZ01pbiIgY2xhc3M9InNyMl9maWx0ZXJJbnB1dCIgcGxhY2Vob2xkZXI9ItCe0YIiIG1pbj0iMCIgbWF4PSIxMDAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcjJfaW5wdXRSYW5nZVNlcGFyYXRvciI+LTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3IyX3JhdGluZ01heCIgY2xhc3M9InNyMl9maWx0ZXJJbnB1dCIgcGxhY2Vob2xkZXI9ItCU0L4iIG1pbj0iMCIgbWF4PSIxMDAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfYWN0aW9uQnV0dG9uc0NvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzcjJfYXBwbHlGaWx0ZXJzQnRuIiBjbGFzcz0ic3IyX2J0biBzcjJfYnRuQXBwbHlGaWx0ZXJzIiBkaXNhYmxlZD7Qn9GA0LjQvNC10L3QuNGC0Ywg0YTQuNC70YzRgtGA0Ys8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNyMl9yZXNldEFsbEZpbHRlcnNCdG4iIGNsYXNzPSJzcjJfYnRuIHNyMl9idG5SZXNldEZpbHRlcnMiIHRpdGxlPSLQodCx0YDQvtGB0LjRgtGMINGE0LjQu9GM0YLRgNGLIiBkaXNhYmxlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJjdXJyZW50Q29sb3IiPjxwYXRoIGQ9Ik0xMiA0VjFMOCA1bDQgNFY2YzMuMzEgMCA2IDIuNjkgNiA2cy0yLjY5IDYtNiA2cy02LTIuNjktNi02SDRjMCA0LjQyIDMuNTggOCA4IDhzOC0zLjU4IDgtOHMtMy41OC04LTgtOFoiLz48L3N2Zz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2NvbnRyb2xTZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic3IyX3ByaW9yaXR5Q2hlY2tib3giIGNsYXNzPSJzcjJfbGFiZWwgc3IyX3ByaW9yaXR5TGFiZWwiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic3IyX3ByaW9yaXR5Q2hlY2tib3giIGNsYXNzPSJzcjJfY2hlY2tib3giPgogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNC40L7RgNC40YLQtdGCINC/0L4g0L7RgtC30YvQstCw0LwKICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfY29udHJvbFNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzcjJfc3BpbkJ0biIgY2xhc3M9InNyMl9idG4gc3IyX2J0blByaW1hcnkgc3IyX2J0bkJsb2NrIiBkaXNhYmxlZD7QmtCg0KPQotCY0KLQrCE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlZnRDb250cm9sc1BhbmVsKTsKCiAgICAgICAgICAgICAgICBjb25zdCByaWdodENvbnRlbnRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICByaWdodENvbnRlbnRBcmVhLmlkID0gJ3NyMl9yaWdodENvbnRlbnRBcmVhJzsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udGVudEFyZWEuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl92aWV3RmxpcHBlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9mbGlwcGVyX2NvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic3IyX3JvdWxldHRlU2VjdGlvbiIgY2xhc3M9InNyMl9mbGlwcGVyX2ZhY2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9yb3VsZXR0ZUNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9yb3VsZXR0ZSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9zZWxlY3RvciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNyMl9jb2xsZWN0aW9uVmlld1dyYXBwZXIiIGNsYXNzPSJzcjJfZmxpcHBlcl9mYWNlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzcjJfcmVzdWx0IiBjbGFzcz0ic3IyX3Jlc3VsdCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9yZXN1bHRIZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2dhbWVQb3N0ZXIiPjxpbWcgaWQ9InNyMl9yZXN1bHRQb3N0ZXIiIHNyYz0iIiBhbHQ9ItCf0L7RgdGC0LXRgCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfZ2FtZUluZm9NYWluIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgaWQ9InNyMl9yZXN1bHRUaXRsZSIgY2xhc3M9InNyMl9nYW1lVGl0bGUiPjwvaDE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic3IyX3Jlc3VsdFJhdGluZyIgY2xhc3M9InNyMl9yZXZpZXdSYXRpbmciPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJzcjJfc3RlYW1MaW5rIiB0YXJnZXQ9Il9ibGFuayIgaWQ9InNyMl9yZXN1bHRTdGVhbUxpbmsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPSJzcjJfaWNvbiIgdmlld0JveD0iMCAwIDQ5NiA1MTIiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTQ5NiAyNTZjMCAxMzctMTExLjIgMjQ4LTI0OC40IDI0OC0xMTMuOCAwLTIwOS42LTc2LjMtMjM5LTE4MC40bDk1LjIgMzkuM2M2LjQgMzIuMSAzNC45IDU2LjQgNjguOSA1Ni40IDM5LjIgMCA3MS45LTMyLjQgNzAuMi03My41bDg0LjUtNjAuMmM1Mi4xIDEuMyA5NS44LTQwLjkgOTUuOC05My41IDAtNTEuNi00Mi05My41LTkzLjctOTMuNXMtOTMuNyA0Mi05My43IDkzLjV2MS4yTDE3Ni42IDI3OWMtMTUuNS0uOS0zMC43IDMuNC00My41IDEyLjFMMCAyMzYuMUMxMC4yIDEwOC40IDExNy4xIDggMjQ4LjQgOCAzODUuNyA4IDQ5NiAxMTkgNDk2IDI1NnpNMTU1LjcgMzg0LjNsLTMwLjUtMTIuNmE1Mi43OSA1Mi43OSAwIDAgMCAyNy4yIDI1LjhjMjYuOSAxMS4yIDU3LjgtMS42IDY5LTI4LjQgNS40LTEzIDUuNS0yNy4zLjEtNDAuMy01LjQtMTMtMTUuNS0yMy4yLTI4LjUtMjguNi0xMi45LTUuNC0yNi43LTUuMi0zOC45LS42bDMxLjUgMTNjMTkuOCA4LjIgMjkuMiAzMC45IDIwLjkgNTAuNy04LjMgMTkuOS0zMSAyOS4yLTUwLjggMjF6bTE3My44LTEyOS45Yy0zNC40IDAtNjIuNC0yOC02Mi40LTYyLjNzMjgtNjIuMyA2Mi40LTYyLjMgNjIuNCAyOCA2Mi40IDYyLjMtMjcuOSA2Mi4zLTYyLjQgNjIuM3ptLjEtMTUuNmMyNS45IDAgNDYuOS0yMSA0Ni45LTQ2LjggMC0yNS45LTIxLTQ2LjgtNDYuOS00Ni44cy00Ni45IDIxLTQ2LjkgNDYuOGMuMSAyNS44IDIxLjEgNDYuOCA0Ni45IDQ2Ljh6Ii8+PC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YLRgNCw0L3QuNGG0LAg0LIg0YHQvtC+0LHRidC10YHRgtCy0LUgU3RlYW0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9nYW1lQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfZ2FtZURlc2NyaXB0aW9uU2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9InNyMl9yZXN1bHREZXNjcmlwdGlvbiIgY2xhc3M9InNyMl9nYW1lRGVzY3JpcHRpb24iPjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzcjJfcmVzdWx0VGFncyIgY2xhc3M9InNyMl9nYW1lVGFncyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9InNyMl9idG4gc3IyX2J0blByaW1hcnkgc3IyX2xhdW5jaEJ1dHRvbiIgaWQ9InNyMl9yZXN1bHRMYXVuY2hMaW5rIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0ic3IyX2ljb24iIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik00MjQuNCAyMTQuN0w3Mi40IDYuNkM0My44LTEwLjMgMCA2LjEgMCA0Ny45VjQ2NGMwIDM3LjUgNDAuNyA2MC4xIDcyLjQgNDEuM2wzNTItMjA4YzMxLjQtMTguNSAzMS41LTY0LjEgMC04Mi42eiIvPjwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQl9Cw0L/Rg9GB0YLQuNGC0Ywg0LjQs9GA0YMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9nYW1lRGV0YWlscyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2RldGFpbEl0ZW0iPjxkaXYgY2xhc3M9InNyMl9kZXRhaWxMYWJlbCI+0JTQsNGC0LAg0LLRi9GF0L7QtNCwPC9kaXY+PGRpdiBpZD0ic3IyX3Jlc3VsdFJlbGVhc2VEYXRlIiBjbGFzcz0ic3IyX2RldGFpbFZhbHVlIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfZGV0YWlsSXRlbSI+PGRpdiBjbGFzcz0ic3IyX2RldGFpbExhYmVsIj7QmNC30LTQsNGC0LXQu9GMPC9kaXY+PGRpdiBpZD0ic3IyX3Jlc3VsdFB1Ymxpc2hlciIgY2xhc3M9InNyMl9kZXRhaWxWYWx1ZSI+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3IyX2RldGFpbEl0ZW0iPjxkaXYgY2xhc3M9InNyMl9kZXRhaWxMYWJlbCI+0KDQsNC30YDQsNCx0L7RgtGH0LjQujwvZGl2PjxkaXYgaWQ9InNyMl9yZXN1bHREZXZlbG9wZXIiIGNsYXNzPSJzcjJfZGV0YWlsVmFsdWUiPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNyMl9kZXRhaWxJdGVtIj48ZGl2IGNsYXNzPSJzcjJfZGV0YWlsTGFiZWwiPtCg0YPRgdGB0LrQuNC5INGP0LfRi9C6PC9kaXY+PGRpdiBpZD0ic3IyX3Jlc3VsdExhbmd1YWdlcyIgY2xhc3M9InNyMl9kZXRhaWxWYWx1ZSI+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChyaWdodENvbnRlbnRBcmVhKTsKICAgICAgICAgICAgICAgIHNyMl9tb2RhbC5hcHBlbmRDaGlsZChtYWluQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3IyX21vZGFsKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsKCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3RvZ2dsZVZpZXdCdG4nKS5vbmNsaWNrID0gc3IyX3RvZ2dsZVZpZXc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX2hlbHBCdG4nKS5vbmNsaWNrID0gc3IyX3Nob3dIZWxwTW9kYWw7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX2Nsb3NlQnRuJykub25jbGljayA9IHNyMl9oaWRlUm91bGV0dGVNb2RhbDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfY3N2RmlsZVRyaWdnZXInKS5vbmNsaWNrID0gKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9jc3ZGaWxlJykuY2xpY2soKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfY3N2RmlsZScpLm9uY2hhbmdlID0gc3IyX2hhbmRsZUZpbGVTZWxlY3Q7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX2FwcGx5RmlsdGVyc0J0bicpLm9uY2xpY2sgPSBzcjJfYXBwbHlBbGxGaWx0ZXJzQW5kUm91bGV0dGVVcGRhdGU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jlc2V0QWxsRmlsdGVyc0J0bicpLm9uY2xpY2sgPSBzcjJfY29uZmlybVJlc2V0QWxsRmlsdGVyczsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfc3BpbkJ0bicpLm9uY2xpY2sgPSBzcjJfc3BpbjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfdGFnU2VhcmNoSW5wdXQnKS5vbmlucHV0ID0gc3IyX2ZpbHRlclRhZ0xpc3Q7CgogICAgICAgICAgICAgICAgWydzcjJfcmV2aWV3Q291bnRNaW4nLCAnc3IyX3Jldmlld0NvdW50TWF4JywgJ3NyMl9yYXRpbmdNaW4nLCAnc3IyX3JhdGluZ01heCddLmZvckVhY2goaWQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbCkgZWwub25pbnB1dCA9IHNyMl9oYW5kbGVSYW5nZUZpbHRlckNoYW5nZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHNyMl9tb2RhbC5fZXNjSGFuZGxlciA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICJFc2NhcGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlbHBNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfc3RlbGljYXNSb3VsZXR0ZUhlbHBNb2RhbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVscE1vZGFsICYmIGhlbHBNb2RhbC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhlbHBNb2RhbC5fZXNjSGFuZGxlcikgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhlbHBNb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uZmlybU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9jb25maXJtUmVzZXRNb2RhbCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtTW9kYWwgJiYgY29uZmlybU1vZGFsLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbmZpcm1Nb2RhbC5fZXNjSGFuZGxlcikgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNvbmZpcm1Nb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcjJfaGlkZVJvdWxldHRlTW9kYWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHNyMl9tb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl90b2dnbGVWaWV3KCkgewogICAgICAgICAgICAgICAgY29uc3QgZmxpcHBlckNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX2ZsaXBwZXJfY29udGVudCcpOwogICAgICAgICAgICAgICAgY29uc3Qgc3BpbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfc3BpbkJ0bicpOwogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yZXN1bHQnKTsKCiAgICAgICAgICAgICAgICBpZiAoc3IyX2N1cnJlbnRWaWV3TW9kZSA9PT0gJ3JvdWxldHRlJykgewogICAgICAgICAgICAgICAgICAgIHNyMl9jdXJyZW50Vmlld01vZGUgPSAnY29sbGVjdGlvbic7CiAgICAgICAgICAgICAgICAgICAgc3IyX3RvZ2dsZVZpZXdCdG4udGV4dENvbnRlbnQgPSAn0JLQtdGA0L3Rg9GC0YzRgdGPINC6INGA0YPQu9C10YLQutC1JzsKICAgICAgICAgICAgICAgICAgICBzcjJfdG9nZ2xlVmlld0J0bi50aXRsZSA9ICfQktC10YDQvdGD0YLRjNGB0Y8g0Log0YDRg9C70LXRgtC60LUnOwogICAgICAgICAgICAgICAgICAgIGZsaXBwZXJDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2ZsaXBwZWQnKTsKICAgICAgICAgICAgICAgICAgICBzcGluQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzcjJfcG9wdWxhdGVDb2xsZWN0aW9uVmlldygpOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIHNyMl9jb2xsZWN0aW9uU2VsZWN0ZWRHYW1lQXBwSWQgPSBudWxsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzcjJfY3VycmVudFZpZXdNb2RlID0gJ3JvdWxldHRlJzsKICAgICAgICAgICAgICAgICAgICBzcjJfdG9nZ2xlVmlld0J0bi50ZXh0Q29udGVudCA9ICfQn9C+0YHQvNC+0YLRgNC10YLRjCDQv9C+0LTQsdC+0YDQutGDJzsKICAgICAgICAgICAgICAgICAgICBzcjJfdG9nZ2xlVmlld0J0bi50aXRsZSA9ICfQn9C+0YHQvNC+0YLRgNC10YLRjCDQv9C+0LTQsdC+0YDQutGDJzsKICAgICAgICAgICAgICAgICAgICBmbGlwcGVyQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdmbGlwcGVkJyk7CiAgICAgICAgICAgICAgICAgICAgc3BpbkJ0bi5kaXNhYmxlZCA9IHNyMl9maWx0ZXJlZEdhbWVzLmxlbmd0aCA9PT0gMDsKICAgICAgICAgICAgICAgICAgICByZXN1bHREaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX3BvcHVsYXRlQ29sbGVjdGlvblZpZXcoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uVmlld1dyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX2NvbGxlY3Rpb25WaWV3V3JhcHBlcicpOwogICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0aW9uVmlld1dyYXBwZXIpIHJldHVybjsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25WaWV3V3JhcHBlci5pbm5lckhUTUwgPSAnJzsKCiAgICAgICAgICAgICAgICBpZiAoc3IyX2ZpbHRlcmVkR2FtZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvblZpZXdXcmFwcGVyLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJjb2xvcjogIzhCOTQ5RTsgdGV4dC1hbGlnbjogY2VudGVyOyB3aWR0aDogMTAwJTsgcGFkZGluZzogMjBweDsgYWxpZ24tc2VsZjogY2VudGVyOyI+0J3QtdGCINC40LPRgCDQv9C+INGE0LjQu9GM0YLRgNCw0Lwg0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0LIg0L/QvtC00LHQvtGA0LrQtS48L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzcjJfZmlsdGVyZWRHYW1lcy5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBjYXJkLmNsYXNzTmFtZSA9ICdzcjJfY29sbGVjdGlvbkdhbWVDYXJkJzsKICAgICAgICAgICAgICAgICAgICBjYXJkLmRhdGFzZXQuZ2FtZUlkID0gZ2FtZS5nYW1lX2lkOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5QaWMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBnYW1lLlBpYzsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmFsdCA9IGdhbWUubmFtZSB8fCAnR2FtZSBQb3N0ZXInOwogICAgICAgICAgICAgICAgICAgICAgICBpbWcubG9hZGluZyA9ICdsYXp5JzsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgdGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzsgY2FyZC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCAnPGRpdiBzdHlsZT0iaGVpZ2h0OjEyMHB4OyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgY29sb3I6IzY2NjsiPtCd0LXRgiDQv9C+0YHRgtC10YDQsDwvZGl2PicpOyB9OwogICAgICAgICAgICAgICAgICAgICAgICBjYXJkLmFwcGVuZENoaWxkKGltZyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgJzxkaXYgc3R5bGU9ImhlaWdodDoxMjBweDsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpjZW50ZXI7IGNvbG9yOiM2NjY7Ij7QndC10YIg0L/QvtGB0YLQtdGA0LA8L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBuYW1lRGl2LmNsYXNzTmFtZSA9ICdzcjJfY29sbGVjdGlvbkdhbWVDYXJkTmFtZSc7CiAgICAgICAgICAgICAgICAgICAgbmFtZURpdi50ZXh0Q29udGVudCA9IGdhbWUubmFtZSB8fCAnVW5uYW1lZCBHYW1lJzsKICAgICAgICAgICAgICAgICAgICBjYXJkLmFwcGVuZENoaWxkKG5hbWVEaXYpOwoKICAgICAgICAgICAgICAgICAgICBjYXJkLm9uY2xpY2sgPSAoKSA9PiBzcjJfaGFuZGxlQ29sbGVjdGlvbkdhbWVDbGljayhnYW1lKTsKICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uVmlld1dyYXBwZXIuYXBwZW5kQ2hpbGQoY2FyZCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9oYW5kbGVDb2xsZWN0aW9uR2FtZUNsaWNrKGdhbWUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0Jyk7CiAgICAgICAgICAgICAgICBpZiAoc3IyX2NvbGxlY3Rpb25TZWxlY3RlZEdhbWVBcHBJZCA9PT0gZ2FtZS5nYW1lX2lkICYmIHJlc3VsdERpdi5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgc3IyX2NvbGxlY3Rpb25TZWxlY3RlZEdhbWVBcHBJZCA9IG51bGw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNyMl9zaG93UmVzdWx0KGdhbWUpOwogICAgICAgICAgICAgICAgICAgIHNyMl9jb2xsZWN0aW9uU2VsZWN0ZWRHYW1lQXBwSWQgPSBnYW1lLmdhbWVfaWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfc2hvd0hlbHBNb2RhbCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGhlbHBNb2RhbElkID0gJ3NyMl9zdGVsaWNhc1JvdWxldHRlSGVscE1vZGFsJzsKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWxwTW9kYWxJZCkpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWxwTW9kYWxJZCkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgaGVscE1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBoZWxwTW9kYWwuaWQgPSBoZWxwTW9kYWxJZDsKICAgICAgICAgICAgICAgIGhlbHBNb2RhbC5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTMsIDE3LCAyMywgMC44NSk7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpOwogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDIwMDAyOyBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIGNvbnN0IGhlbHBDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBoZWxwQ29udGVudC5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNjFCMjI7IGNvbG9yOiAjQzlEMUQ5OyBwYWRkaW5nOiAyNXB4OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsgYm9yZGVyOiAxcHggc29saWQgIzMwMzYzRDsgd2lkdGg6IDkwJTsgbWF4LXdpZHRoOiA3MDBweDsKICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAzMHB4IHJnYmEoMCwwLDAsMC41KTsgbWF4LWhlaWdodDogODV2aDsgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIk1vdGl2YSBTYW5zIiwgQXJpYWwsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBoZWxwQ29udGVudC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogIzU4QTZGRjsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tdG9wOjA7IG1hcmdpbi1ib3R0b206IDIwcHg7IGZvbnQtc2l6ZTogMThweDsiPtCg0YPQu9C10YLQutCwIFN0ZWxpY2FzIC0g0JjQvdGB0YLRgNGD0LrRhtC40Y88L2gzPgogICAgICAgICAgICAgICAgICAgIDxwPtCt0YLQvtGCINC80L7QtNGD0LvRjCDQv9C+0LzQvtC20LXRgiDQstCw0Lwg0YHQu9GD0YfQsNC50L3Ri9C8INC+0LHRgNCw0LfQvtC8INCy0YvQsdGA0LDRgtGMINC40LPRgNGDINC00LvRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPINC40Lcg0LLQsNGI0LXQuSDQsdC40LHQu9C40L7RgtC10LrQuCBTdGVhbSwg0LjRgdC/0L7Qu9GM0LfRg9GPINC00LDQvdC90YvQtSwg0Y3QutGB0L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0LUg0LjQtyDQv9GA0LjQu9C+0LbQtdC90LjRjyA8c3Ryb25nPlN0ZWxpY2FzPC9zdHJvbmc+LjwvcD4KICAgICAgICAgICAgICAgICAgICA8aDQ+0J/QvtGA0Y/QtNC+0Log0LTQtdC50YHRgtCy0LjQuTo8L2g0PgogICAgICAgICAgICAgICAgICAgIDxvbCBzdHlsZT0ibGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWxlZnQ6IDIwcHg7IHBhZGRpbmctbGVmdDogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC44ZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+0J/QvtC00LPQvtGC0L7QstC60LAgQ1NWLdGE0LDQudC70LA6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgc3R5bGU9Im1hcmdpbi10b3A6IDAuNWVtOyBtYXJnaW4tbGVmdDogMTVweDsgbGlzdC1zdHlsZS10eXBlOiBkaXNjOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPtCX0LDQv9GD0YHRgtC40YLQtSDQv9GA0LjQu9C+0LbQtdC90LjQtSA8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vMHduM2RnMGQvU3RlbGljYXMiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IzU4QTZGRjsiPlN0ZWxpY2FzPC9hPi4gPHN0cm9uZz7QktCw0LbQvdC+Ojwvc3Ryb25nPiDQutC70LjQtdC90YIgU3RlYW0g0LTQvtC70LbQtdC9INCx0YvRgtGMINC30LDQutGA0YvRgiDQstC+INCy0YDQtdC80Y8g0YDQsNCx0L7RgtGLIFN0ZWxpY2FzLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPtCSIFN0ZWxpY2FzINCy0LLQtdC00LjRgtC1INCy0LDRiCBBY2NvdW50SUQgKFN0ZWFtMyBJRCkg0Lgg0LLRi9Cx0LXRgNC40YLQtSDQvdC10L7QsdGF0L7QtNC40LzRi9C1INC90LDRgdGC0YDQvtC50LrQuCDRj9C30YvQutCwINC4INGA0LXQs9C40L7QvdCwLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPtCd0LDQttC80LjRgtC1ICJTdGFydCIuINCf0YDQvtCz0YDQsNC80LzQsCDRgdC+0LHQtdGA0LXRgiDQtNCw0L3QvdGL0LUg0L4g0LLQsNGI0LjRhSDQuNCz0YDQsNGFINC4INC60LDRgtC10LPQvtGA0LjRj9GFLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPtCf0L7RgdC70LUg0LfQsNCy0LXRgNGI0LXQvdC40Y8sINC90LDQudC00LjRgtC1INGE0LDQudC7IDxjb2RlPmZpbmFsX2RhdGEuY3N2PC9jb2RlPiDQsiDQv9Cw0L/QutC1IDxjb2RlPm91dHB1dDwvY29kZT4gKNGA0Y/QtNC+0Lwg0YEg0L/RgNC+0LPRgNCw0LzQvNC+0LkgU3RlbGljYXMpLiDQrdGC0L7RgiDRhNCw0LnQuyDQv9C+0L3QsNC00L7QsdC40YLRgdGPINC00LvRjyDRgNGD0LvQtdGC0LrQuC48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjhlbTsiPjxzdHJvbmc+0JfQsNCz0YDRg9C30LrQsCBDU1Yg0LIg0YDRg9C70LXRgtC60YM6PC9zdHJvbmc+INCSINC70LXQstC+0Lkg0L/QsNC90LXQu9C4INGC0LXQutGD0YnQtdCz0L4g0L7QutC90LAg0L3QsNC20LzQuNGC0LUgItCS0YvQsdGA0LDRgtGMIENTViDQvtGCIFN0ZWxpY2FzIiDQuCDRg9C60LDQttC40YLQtSDQv9GD0YLRjCDQuiDRhNCw0LnQu9GDIDxjb2RlPmZpbmFsX2RhdGEuY3N2PC9jb2RlPi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuOGVtOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtCS0YvQsdC+0YAg0YTQuNC70YzRgtGA0L7Qsjo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT0ibWFyZ2luLXRvcDogMC41ZW07IG1hcmdpbi1sZWZ0OiAxNXB4OyBsaXN0LXN0eWxlLXR5cGU6IHNxdWFyZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCa0LDRgtC10LPQvtGA0LjQuDo8L3N0cm9uZz4g0J7RgtC80LXRgtGM0YLQtSDQvtC00L3RgyDQuNC70Lgg0L3QtdGB0LrQvtC70YzQutC+INC40L3RgtC10YDQtdGB0YPRjtGJ0LjRhSDQstCw0YEg0LrQsNGC0LXQs9C+0YDQuNC5LiDQntC/0YbQuNGPICLQktGB0LUiICjQv9C10YDQstCw0Y8g0LIg0YHQv9C40YHQutC1KSDQv9C+0LfQstC+0LvRj9C10YIg0L7RgtC80LXRgtC40YLRjCDQuNC70Lgg0YHQvdGP0YLRjCDQstGB0LUg0LPQsNC70L7Rh9C60Lgg0LIg0YHQtdC60YbQuNC4ICLQmtCw0YLQtdCz0L7RgNC40LgiINC+0LTQvdC+0LLRgNC10LzQtdC90L3Qvi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCU0LDRgtCwINCy0YvRhdC+0LTQsDo8L3N0cm9uZz4g0JLRi9Cx0LXRgNC40YLQtSDQutC+0L3QutGA0LXRgtC90YvQtSDQs9C+0LTRiywgItCR0LXQtyDQtNCw0YLRiyIg0LjQu9C4ICLQktGB0LUiLiDQntC/0YbQuNGPICLQktGB0LUiINGC0LDQutC20LUg0YPQv9GA0LDQstC70Y/QtdGCINCy0YHQtdC80Lgg0LPQsNC70L7Rh9C60LDQvNC4INCyINGN0YLQvtC5INGB0LXQutGG0LjQuC4g0JPQvtC00Ysg0YPQv9C+0YDRj9C00L7Rh9C10L3RiyDQvtGCINC90L7QstGL0YUg0Log0YHRgtCw0YDRi9C8LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0KLRjdCz0Lg6PC9zdHJvbmc+INCS0YvQsdC10YDQuNGC0LUg0YLRjdCz0LguINCY0YHQv9C+0LvRjNC30YPQudGC0LUg0L/QvtC40YHQuiDQtNC70Y8g0LHRi9GB0YLRgNC+0LPQviDQvdCw0YXQvtC20LTQtdC90LjRjyDQvdGD0LbQvdC+0LPQviDRgtGN0LPQsC4g0KLRjdCz0Lgg0L7RgtGB0L7RgNGC0LjRgNC+0LLQsNC90Ysg0L/QviDQv9C+0L/Rg9C70Y/RgNC90L7RgdGC0LguICLQktGB0LUiINC4ICLQkdC10Lcg0YLRjdCz0L7QsiIg0YLQsNC60LbQtSDQtNC+0YHRgtGD0L/QvdGLLCAi0JLRgdC1IiDRg9C/0YDQsNCy0LvRj9C10YIg0LLRgdC10LzQuCDQs9Cw0LvQvtGH0LrQsNC80Lgg0YLRjdCz0L7Qsi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCg0YPRgdGB0LrQuNC5INGP0LfRi9C6Ojwvc3Ryb25nPiDQo9C60LDQttC40YLQtSDRgtGA0LXQsdGD0LXQvNGL0Lkg0YPRgNC+0LLQtdC90Ywg0LvQvtC60LDQu9C40LfQsNGG0LjQuCAoItCR0LXQtyDRgNGD0YHRgdC60L7Qs9C+INGP0LfRi9C60LAiLCAi0KDRg9GB0YHQutC40LUg0YHRg9Cx0YLQuNGC0YDRiy/QuNC90YLQtdGA0YTQtdC50YEiLCAi0KDRg9GB0YHQutCw0Y8g0L7Qt9Cy0YPRh9C60LAiKSDQuNC70LggItCS0YHQtSIgKNGD0L/RgNCw0LLQu9GP0LXRgiDQstGB0LXQvNC4INC+0L/RhtC40Y/QvNC4INGP0LfRi9C60LApLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+0JrQvtC70LjRh9C10YHRgtCy0L4g0L7RgtC30YvQstC+0LI6PC9zdHJvbmc+INCX0LDQtNCw0LnRgtC1INC00LjQsNC/0LDQt9C+0L0gKNC90LDQv9GA0LjQvNC10YAsINC+0YIgMTAwINC00L4gMTAwMDApLiDQn9C70LXQudGB0YXQvtC70LTQtdGA0Ysg0L/QvtC60LDQt9GL0LLQsNGO0YIg0LTQvtGB0YLRg9C/0L3Ri9C1INC80LjQvS/QvNCw0LrRgSDQt9C90LDRh9C10L3QuNGPINGBINGD0YfRkdGC0L7QvCDQtNGA0YPQs9C40YUg0YTQuNC70YzRgtGA0L7Qsi48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPtCg0LXQudGC0LjQvdCzOjwvc3Ryb25nPiDQl9Cw0LTQsNC50YLQtSDQtNC40LDQv9Cw0LfQvtC9INCyINC/0YDQvtGG0LXQvdGC0LDRhSAo0L3QsNC/0YDQuNC80LXRgCwg0L7RgiA3MCDQtNC+IDEwMCkuINCf0LvQtdC50YHRhdC+0LvQtNC10YDRiyDRgtCw0LrQttC1INC00LjQvdCw0LzQuNGH0LXRgdC60LjQtS48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCf0L7RgdC70LUg0LLRi9Cx0L7RgNCwINCy0YHQtdGFINGE0LjQu9GM0YLRgNC+0LIg0L3QsNC20LzQuNGC0LUg0LrQvdC+0L/QutGDICLQn9GA0LjQvNC10L3QuNGC0Ywg0YTQuNC70YzRgtGA0YsiLiDQodGH0ZHRgtGH0LjQutC4INGDINGE0LjQu9GM0YLRgNC+0LIg0L7QsdC90L7QstC70Y/RjtGC0YHRjyDQsiDRgNC10LDQu9GM0L3QvtC8INCy0YDQtdC80LXQvdC4INC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0LTRgNGD0LPQuNGFINGE0LjQu9GM0YLRgNC+0LIuINCU0LvRjyDRgdCx0YDQvtGB0LAg0LLRgdC10YUg0YTQuNC70YzRgtGA0L7QsiDQuiDRgdC+0YHRgtC+0Y/QvdC40Y4g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0LjRgdC/0L7Qu9GM0LfRg9C50YLQtSDQutC90L7Qv9C60YMg0YHQviDQt9C90LDRh9C60L7QvCDQstC+0LfQstGA0LDRgtCwINGA0Y/QtNC+0Lwg0YEgItCf0YDQuNC80LXQvdC40YLRjCDRhNC40LvRjNGC0YDRiyIuCiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC44ZW07Ij48c3Ryb25nPtCd0LDRgdGC0YDQvtC50LrQsCDQv9GA0LjQvtGA0LjRgtC10YLQvtCyICjQvtC/0YbQuNC+0L3QsNC70YzQvdC+KTo8L3N0cm9uZz4g0JXRgdC70Lgg0LDQutGC0LjQstC40YDQvtCy0LDRgtGMINC+0L/RhtC40Y4gItCf0YDQuNC+0YDQuNGC0LXRgiDQv9C+INC+0YLQt9GL0LLQsNC8Iiwg0LjQs9GA0Ysg0YEg0LHQvtC70LXQtSDQstGL0YHQvtC60LjQvCDRgNC10LnRgtC40L3Qs9C+0Lwg0Lgg0LHQvtC70YzRiNC40Lwg0LrQvtC70LjRh9C10YHRgtCy0L7QvCDQvtCx0LfQvtGA0L7QsiDQsdGD0LTRg9GCINC40LzQtdGC0Ywg0LHQvtC70YzRiNC1INGI0LDQvdGB0L7QsiDQvdCwINCy0YvQv9Cw0LTQtdC90LjQtSAo0YHRgNC10LTQuCDQvtGC0YTQuNC70YzRgtGA0L7QstCw0L3QvdGL0YUpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC44ZW07Ij48c3Ryb25nPtCX0LDQv9GD0YHQuiDRgNGD0LvQtdGC0LrQuDo8L3N0cm9uZz4g0J3QsNC20LzQuNGC0LUg0LHQvtC70YzRiNGD0Y4g0LrQvdC+0L/QutGDICLQmtCg0KPQotCY0KLQrCEiLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC44ZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+0J/RgNC+0YHQvNC+0YLRgCDQv9C+0LTQsdC+0YDQutC4Ojwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPSJtYXJnaW4tdG9wOiAwLjVlbTsgbWFyZ2luLWxlZnQ6IDE1cHg7IGxpc3Qtc3R5bGUtdHlwZTogZGlzYzsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMC4zZW07Ij7QktGLINC80L7QttC10YLQtSDQv9C+0YHQvNC+0YLRgNC10YLRjCDQuNCz0YDRiyDQuNC3INGC0LXQutGD0YnQtdC5INC/0L7QtNCx0L7RgNC60LggKNGBINCw0LrRgtC40LLQvdGL0Lwg0YTQuNC70YzRgtGA0L7QvCkg0YEg0L/QvtC80L7RidGM0Y4g0LrQvdC+0L/QutC4ICLQn9C+0YHQvNC+0YLRgNC10YLRjCDQv9C+0LTQsdC+0YDQutGDIiDQsiDQt9Cw0LPQvtC70L7QstC60LUg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9Im1hcmdpbi1ib3R0b206IDAuM2VtOyI+0J3QsNC20LDRgtC40LUg0L3QsCDQvdC10ZEg0L/QtdGA0LXQutC70Y7Rh9C40YIg0L/RgNCw0LLRg9GOINC/0LDQvdC10LvRjCDQsiDRgNC10LbQuNC8INC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0LLRgdC10YUg0L7RgtGE0LjQu9GM0YLRgNC+0LLQsNC90L3Ri9GFINC40LPRgCDQsiDQstC40LTQtSDQutCw0YDRgtC+0YfQtdC6ICjQuNC30L7QsdGA0LDQttC10L3QuNC1INC4INC90LDQt9Cy0LDQvdC40LUpLiDQmtC90L7Qv9C60LAgItCa0KDQo9Ci0JjQotCsISIg0LHRg9C00LXRgiDQvdC10LDQutGC0LjQstC90LAg0LIg0Y3RgtC+0Lwg0YDQtdC20LjQvNC1LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPtCp0LXQu9GH0L7QuiDQv9C+INC60LDRgNGC0L7Rh9C60LUg0LjQs9GA0Ysg0LIg0L/QvtC00LHQvtGA0LrQtSDQv9C+0LrQsNC20LXRgiDQv9C+0LTRgNC+0LHQvdGD0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L3QtdC5INCyINCx0LvQvtC60LUg0L3QuNC20LUgKNCw0L3QsNC70L7Qs9C40YfQvdC+INGA0LXQt9GD0LvRjNGC0LDRgtGDINGA0YPQu9C10YLQutC4KS4g0J/QvtCy0YLQvtGA0L3Ri9C5INGJ0LXQu9GH0L7QuiDQv9C+INGC0L7QuSDQttC1INC60LDRgNGC0L7Rh9C60LUg0YHQutGA0L7QtdGCINC40L3RhNC+0YDQvNCw0YbQuNGOLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAwLjNlbTsiPtCn0YLQvtCx0Ysg0LLQtdGA0L3Rg9GC0YzRgdGPINC6INGA0YPQu9C10YLQutC1LCDQvdCw0LbQvNC40YLQtSDQutC90L7Qv9C60YMgItCS0LXRgNC90YPRgtGM0YHRjyDQuiDRgNGD0LvQtdGC0LrQtSIg0LIg0LfQsNCz0L7Qu9C+0LLQutC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDwvb2w+CiAgICAgICAgICAgICAgICAgICAgPHA+0J/QvtGB0LvQtSDQvtGB0YLQsNC90L7QstC60Lgg0YDRg9C70LXRgtC60Lgg0LLRiyDRg9Cy0LjQtNC40YLQtSDQv9C+0LTRgNC+0LHQvdGD0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0LLRi9Cx0YDQsNC90L3QvtC5INC40LPRgNC1LjwvcD4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUhlbHBCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGNsb3NlSGVscEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQn9C+0L3Rj9GC0L3Qvic7CiAgICAgICAgICAgICAgICBjbG9zZUhlbHBCdXR0b24uY2xhc3NOYW1lID0gJ3NyMl9idG4gc3IyX2J0blByaW1hcnknOwogICAgICAgICAgICAgICAgY2xvc2VIZWxwQnV0dG9uLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogYmxvY2s7IG1hcmdpbjogMjVweCBhdXRvIDA7IHBhZGRpbmc6IDEwcHggMjVweDsnOwogICAgICAgICAgICAgICAgY2xvc2VIZWxwQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaGVscE1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoZWxwTW9kYWwuX2VzY0hhbmRsZXIpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGhlbHBDb250ZW50LmFwcGVuZENoaWxkKGNsb3NlSGVscEJ1dHRvbik7CiAgICAgICAgICAgICAgICBoZWxwTW9kYWwuYXBwZW5kQ2hpbGQoaGVscENvbnRlbnQpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoZWxwTW9kYWwpOwoKICAgICAgICAgICAgICAgIGhlbHBNb2RhbC5fZXNjSGFuZGxlciA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICJFc2NhcGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhlbHBNb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoZWxwTW9kYWwuX2VzY0hhbmRsZXIpOwogICAgICAgICAgICAgICAgaGVscENvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpOwogICAgICAgICAgICAgICAgaGVscE1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBoZWxwTW9kYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVscE1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGVscE1vZGFsLl9lc2NIYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2hpZGVSb3VsZXR0ZU1vZGFsKCkgewogICAgICAgICAgICAgICAgaWYgKHNyMl9tb2RhbCkgewogICAgICAgICAgICAgICAgICAgIHNyMl9tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJzsKICAgICAgICAgICAgICAgICAgICBpZiAoc3IyX21vZGFsLl9lc2NIYW5kbGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBzcjJfbW9kYWwuX2VzY0hhbmRsZXIpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc3IyX21vZGFsLl9lc2NIYW5kbGVyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX3Jlc2V0RmlsdGVyc1RvRGVmYXVsdFN0YXRlQW5kVUkoKSB7CiAgICAgICAgICAgICAgICBzcjJfYWN0aXZlRmlsdGVycyA9IHsKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBbItCS0YHQtSJdLCByZWxlYXNlWWVhcnM6IFsi0JLRgdC1Il0sIHRhZ3M6IFsi0JLRgdC1Il0sIGxhbmd1YWdlOiBbItCS0YHQtSJdLAogICAgICAgICAgICAgICAgICAgIHJldmlld0NvdW50TWluOiBudWxsLCByZXZpZXdDb3VudE1heDogbnVsbCwgcmF0aW5nTWluOiBudWxsLCByYXRpbmdNYXg6IG51bGwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jldmlld0NvdW50TWluJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmV2aWV3Q291bnRNYXgnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yYXRpbmdNaW4nKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yYXRpbmdNYXgnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl90YWdTZWFyY2hJbnB1dCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBzcjJfZmlsdGVyVGFnTGlzdCgpOwoKCiAgICAgICAgICAgICAgICBpZiAoc3IyX2N1cnJlbnRWaWV3TW9kZSA9PT0gJ2NvbGxlY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgc3IyX2N1cnJlbnRWaWV3TW9kZSA9ICdyb3VsZXR0ZSc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9mbGlwcGVyX2NvbnRlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdmbGlwcGVkJyk7CiAgICAgICAgICAgICAgICAgICAgaWYoc3IyX3RvZ2dsZVZpZXdCdG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3IyX3RvZ2dsZVZpZXdCdG4udGV4dENvbnRlbnQgPSAn0J/QvtGB0LzQvtGC0YDQtdGC0Ywg0L/QvtC00LHQvtGA0LrRgyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHNyMl90b2dnbGVWaWV3QnRuLnRpdGxlID0gJ9Cf0L7RgdC80L7RgtGA0LXRgtGMINC/0L7QtNCx0L7RgNC60YMnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzcjJfdXBkYXRlQWxsRmlsdGVyQ291bnRzKCk7CiAgICAgICAgICAgICAgICBzcjJfYXBwbHlBbGxGaWx0ZXJzQW5kUm91bGV0dGVVcGRhdGUoKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIHNyMl9jb2xsZWN0aW9uU2VsZWN0ZWRHYW1lQXBwSWQgPSBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfaGFuZGxlRmlsZVNlbGVjdChldmVudCkgewogICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgICAgICAgICAgIGlmICghZmlsZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9maWxlTmFtZURpc3BsYXknKTsKICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZURpc3BsYXkpIGZpbGVOYW1lRGlzcGxheS50ZXh0Q29udGVudCA9IGZpbGUubmFtZTsKICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIHNyMl9wYXJzZUNTVihlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIHNyMl9yZXNldEZpbHRlcnNUb0RlZmF1bHRTdGF0ZUFuZFVJKCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9hcHBseUZpbHRlcnNCdG4nKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzZXRBbGxGaWx0ZXJzQnRuJykuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBzcjJfYXBwbHlBbGxGaWx0ZXJzQW5kUm91bGV0dGVVcGRhdGUoKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlLCAnVVRGLTgnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX3BhcnNlQ1NWKGRhdGEpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJvd3MgPSBkYXRhLnNwbGl0KC9ccj9cbi8pLnNsaWNlKDEpOwogICAgICAgICAgICAgICAgc3IyX2dhbWVzID0gW107CiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJvdy50cmltKCkpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSByb3cuc3BsaXQoJ1x0Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPCAxNykgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBnYW1lID0gewogICAgICAgICAgICAgICAgICAgICAgICBnYW1lX2lkOiBmaWVsZHNbMF0/LnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmllbGRzWzFdPy50cmltKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IGZpZWxkc1syXT8udHJpbSgpLnNwbGl0KCc7JykubWFwKGMgPT4gYy50cmltKCkpLmZpbHRlcihjID0+IGMpLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaWVsZHNbM10/LnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogZmllbGRzWzRdPy50cmltKCkuc3BsaXQoJzsnKS5tYXAodCA9PiB0LnRyaW0oKSkuZmlsdGVyKHQgPT4gdCksCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VfZGF0ZTogZmllbGRzWzVdPy50cmltKCksCiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld19wZXJjZW50YWdlOiBwYXJzZUludChmaWVsZHNbNl0pIHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld19jb3VudDogcGFyc2VJbnQoZmllbGRzWzddKSB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICBpc19mcmVlOiBmaWVsZHNbOF0/LnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Vhcmx5X2FjY2VzczogZmllbGRzWzldPy50cmltKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnLAogICAgICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXJzOiBmaWVsZHNbMTBdPy50cmltKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmVsb3BlcnM6IGZpZWxkc1sxMV0/LnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgZnJhbmNoaXNlczogZmllbGRzWzEyXT8udHJpbSgpLAogICAgICAgICAgICAgICAgICAgICAgICBzaG9ydF9kZXNjcmlwdGlvbjogZmllbGRzWzEzXT8udHJpbSgpLnJlcGxhY2UoL14ifCIkL2csICcnKS5yZXBsYWNlKC8iIi9nLCAnIicpLAogICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWRfbGFuZ3VhZ2U6IGZpZWxkc1sxNF0/LnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAgICAgJ1N0ZWFtLUxpbmsnOiBmaWVsZHNbMTVdPy50cmltKCksCiAgICAgICAgICAgICAgICAgICAgICAgIFBpYzogZmllbGRzWzE2XT8udHJpbSgpLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRfcmVsZWFzZV95ZWFyOiBzcjJfcGFyc2VSZWxlYXNlWWVhcihmaWVsZHNbNV0/LnRyaW0oKSksCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZF9sYW5ndWFnZV9zdXBwb3J0OiBzcjJfcGFyc2VHYW1lTGFuZ3VhZ2VTdXBwb3J0KGZpZWxkc1sxNF0/LnRyaW0oKSkKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLmdhbWVfaWQgJiYgZ2FtZS5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNyMl9nYW1lcy5wdXNoKGdhbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3IyX2ZpbHRlcmVkR2FtZXMgPSBbLi4uc3IyX2dhbWVzXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX3BhcnNlUmVsZWFzZVllYXIoZGF0ZVN0cikgewogICAgICAgICAgICAgICAgaWYgKCFkYXRlU3RyIHx8IGRhdGVTdHIudG9Mb3dlckNhc2UoKSA9PT0gJ3Vua25vd24nIHx8IGRhdGVTdHIudG9Mb3dlckNhc2UoKSA9PT0gJ3RiZCcgfHwgZGF0ZVN0ci50cmltKCkgPT09ICcnKSByZXR1cm4gJ9CR0LXQtyDQtNCw0YLRiyc7CiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyTWF0Y2ggPSBkYXRlU3RyLm1hdGNoKC9cYihcZHs0fSlcYi8pOwogICAgICAgICAgICAgICAgcmV0dXJuIHllYXJNYXRjaCA/IHllYXJNYXRjaFsxXSA6ICfQkdC10Lcg0LTQsNGC0YsnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfcGFyc2VHYW1lTGFuZ3VhZ2VTdXBwb3J0KGxhbmdTdHIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN1cHBvcnQgPSB7IGhhc1J1c3NpYW46IGZhbHNlLCBpbnRlcmZhY2U6IGZhbHNlLCBzdWJ0aXRsZXM6IGZhbHNlLCB2b2ljZTogZmFsc2UsIHJhdzogbGFuZ1N0ciwgbm9EYXRhOiBmYWxzZSB9OwogICAgICAgICAgICAgICAgaWYgKCFsYW5nU3RyIHx8IHR5cGVvZiBsYW5nU3RyICE9PSAnc3RyaW5nJyB8fCBsYW5nU3RyLnRyaW0oKSA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBzdXBwb3J0Lm5vRGF0YSA9IHRydWU7IHJldHVybiBzdXBwb3J0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IGxhbmdTdHIucmVwbGFjZSgvW3t9XS9nLCAnJykudHJpbSgpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2xlYW5lZCA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydC5oYXNSdXNzaWFuID0gdHJ1ZTsgc3VwcG9ydC5pbnRlcmZhY2UgPSB0cnVlOyBzdXBwb3J0LnN1YnRpdGxlcyA9IHRydWU7IHN1cHBvcnQudm9pY2UgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbGVhbmVkID09PSAnZmFsc2UnKSB7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gY2xlYW5lZC5zcGxpdCgnOycpOwogICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdID09PSAndHJ1ZScpIHN1cHBvcnQuaW50ZXJmYWNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAndHJ1ZScpIHN1cHBvcnQudm9pY2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHNbMl0gPT09ICd0cnVlJykgc3VwcG9ydC5zdWJ0aXRsZXMgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0Lmhhc1J1c3NpYW4gPSBzdXBwb3J0LmludGVyZmFjZSB8fCBzdXBwb3J0LnN1YnRpdGxlcyB8fCBzdXBwb3J0LnZvaWNlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0Lm5vRGF0YSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9wb3B1bGF0ZUZpbHRlckxpc3QoZWxlbWVudElkLCBpdGVtc01hcCwgdHlwZSkgewogICAgICAgICAgICAgICAgY29uc3QgbGlzdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7CiAgICAgICAgICAgICAgICBpZiAoIWxpc3REaXYpIHJldHVybjsKICAgICAgICAgICAgICAgIGxpc3REaXYuaW5uZXJIVE1MID0gJyc7CgogICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlQ2hlY2tib3ggPSAodmFsdWUsIHRleHQsIGNvdW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwogICAgICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICdzcjJfZmlsdGVySXRlbSc7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnOwogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc3IyX2hhbmRsZUZpbHRlckNoYW5nZSh0eXBlLCBldmVudCk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChjaGVja2JveCk7CiAgICAgICAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCAke3RleHR9ICgke2NvdW50fSlgKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBsZXQgdG90YWxDb3VudEZvckZpbHRlclR5cGUgPSBzcjJfYXBwbHlDdXJyZW50RmlsdGVyc1RvR2FtZUxpc3Qoc3IyX2dhbWVzLCB7IGV4Y2x1ZGVGaWx0ZXI6IHR5cGUgfSkubGVuZ3RoOwogICAgICAgICAgICAgICAgbGlzdERpdi5hcHBlbmRDaGlsZChjcmVhdGVDaGVja2JveCgn0JLRgdC1JywgJ9CS0YHQtScsIHRvdGFsQ291bnRGb3JGaWx0ZXJUeXBlKSk7CgogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdyZWxlYXNlWWVhcnMnKSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdERpdi5hcHBlbmRDaGlsZChjcmVhdGVDaGVja2JveCgn0JHQtdC3INC00LDRgtGLJywgJ9CR0LXQtyDQtNCw0YLRiycsIGl0ZW1zTWFwLmdldCgn0JHQtdC3INC00LDRgtGLJykgfHwgMCkpOwogICAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20oaXRlbXNNYXAua2V5cygpKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ9CR0LXQtyDQtNCw0YLRiycpLnNvcnQoKGEsYikgPT4gYi1hKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REaXYuYXBwZW5kQ2hpbGQoY3JlYXRlQ2hlY2tib3goa2V5LCBrZXksIGl0ZW1zTWFwLmdldChrZXkpIHx8IDApKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3RhZ3MnKXsKICAgICAgICAgICAgICAgICAgICBsaXN0RGl2LmFwcGVuZENoaWxkKGNyZWF0ZUNoZWNrYm94KCfQkdC10Lcg0YLRjdCz0L7QsicsICfQkdC10Lcg0YLRjdCz0L7QsicsIGl0ZW1zTWFwLmdldCgn0JHQtdC3INGC0Y3Qs9C+0LInKSB8fCAwKSk7CiAgICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbShpdGVtc01hcC5lbnRyaWVzKCkpCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtrZXldKSA9PiBrZXkgIT09ICfQkdC10Lcg0YLRjdCz0L7QsicpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChbLCBjb3VudEFdLCBbLCBjb3VudEJdKSA9PiBjb3VudEIgLSBjb3VudEEpCiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChba2V5LCBjb3VudF0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REaXYuYXBwZW5kQ2hpbGQoY3JlYXRlQ2hlY2tib3goa2V5LCBrZXksIGNvdW50KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbGFuZ3VhZ2UnKSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdERpdi5hcHBlbmRDaGlsZChjcmVhdGVDaGVja2JveCgnbm9SdXNzaWFuT3JOb0RhdGEnLCAn0JHQtdC3INGA0YPRgdGB0LrQvtCz0L4g0Y/Qt9GL0LrQsCcsIHNyMl9sYW5ndWFnZVN1cHBvcnRTdGF0cy5ub1J1c3NpYW5Pck5vRGF0YSkpOwogICAgICAgICAgICAgICAgICAgIGxpc3REaXYuYXBwZW5kQ2hpbGQoY3JlYXRlQ2hlY2tib3goJ3N1YnRpdGxlc09ySW50ZXJmYWNlT25seScsICfQoNGD0YHRgdC60LjQtSDRgdGD0LHRgtC40YLRgNGLL9C40L3RgtC10YDRhNC10LnRgScsIHNyMl9sYW5ndWFnZVN1cHBvcnRTdGF0cy5zdWJ0aXRsZXNPckludGVyZmFjZU9ubHkpKTsKICAgICAgICAgICAgICAgICAgICBsaXN0RGl2LmFwcGVuZENoaWxkKGNyZWF0ZUNoZWNrYm94KCd2b2ljZScsICfQoNGD0YHRgdC60LDRjyDQvtC30LLRg9GH0LrQsCcsIHNyMl9sYW5ndWFnZVN1cHBvcnRTdGF0cy52b2ljZSkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGl0ZW1zTWFwLmVudHJpZXMoKSkKICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVswXSA9PT0gJ9CY0LfQsdGA0LDQvdC90L7QtScpIHJldHVybiAtMTsgaWYgKGJbMF0gPT09ICfQmNC30LHRgNCw0L3QvdC+0LUnKSByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdLCAncnUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW2tleSwgY291bnRdKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REaXYuYXBwZW5kQ2hpbGQoY3JlYXRlQ2hlY2tib3goa2V5LCBrZXksIGNvdW50KSk7CiAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9maWx0ZXJUYWdMaXN0KCkgewogICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfdGFnU2VhcmNoSW5wdXQnKS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgY29uc3QgdGFnTGlzdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfdGFnTGlzdCcpOwogICAgICAgICAgICAgICAgdGFnTGlzdERpdi5xdWVyeVNlbGVjdG9yQWxsKCcuc3IyX2ZpbHRlckl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94LnZhbHVlID09PSAi0JLRgdC1IiB8fCBjaGVja2JveC52YWx1ZSA9PT0gItCR0LXQtyDRgtGN0LPQvtCyIikgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IGNoZWNrYm94LnZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybSkgPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl91cGRhdGVBbGxGaWx0ZXJDb3VudHMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wRmlsdGVyZWRHYW1lc0NhdGVnb3JpZXMgPSBzcjJfYXBwbHlDdXJyZW50RmlsdGVyc1RvR2FtZUxpc3Qoc3IyX2dhbWVzLCB7IGV4Y2x1ZGVGaWx0ZXI6ICdjYXRlZ29yaWVzJ30pOwogICAgICAgICAgICAgICAgY29uc3QgdGVtcEZpbHRlcmVkR2FtZXNZZWFycyA9IHNyMl9hcHBseUN1cnJlbnRGaWx0ZXJzVG9HYW1lTGlzdChzcjJfZ2FtZXMsIHsgZXhjbHVkZUZpbHRlcjogJ3JlbGVhc2VZZWFycyd9KTsKICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBGaWx0ZXJlZEdhbWVzVGFncyA9IHNyMl9hcHBseUN1cnJlbnRGaWx0ZXJzVG9HYW1lTGlzdChzcjJfZ2FtZXMsIHsgZXhjbHVkZUZpbHRlcjogJ3RhZ3MnfSk7CiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wRmlsdGVyZWRHYW1lc0xhbmcgPSBzcjJfYXBwbHlDdXJyZW50RmlsdGVyc1RvR2FtZUxpc3Qoc3IyX2dhbWVzLCB7IGV4Y2x1ZGVGaWx0ZXI6ICdsYW5ndWFnZSd9KTsKICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBGaWx0ZXJlZEZvclJhbmdlcyA9IHNyMl9hcHBseUN1cnJlbnRGaWx0ZXJzVG9HYW1lTGlzdChzcjJfZ2FtZXMsIHt9KTsKCiAgICAgICAgICAgICAgICBzcjJfY2FsY3VsYXRlQ2F0ZWdvcnlDb3VudHModGVtcEZpbHRlcmVkR2FtZXNDYXRlZ29yaWVzKTsKICAgICAgICAgICAgICAgIHNyMl9jYWxjdWxhdGVSZWxlYXNlWWVhckNvdW50cyh0ZW1wRmlsdGVyZWRHYW1lc1llYXJzKTsKICAgICAgICAgICAgICAgIHNyMl9jYWxjdWxhdGVUYWdDb3VudHModGVtcEZpbHRlcmVkR2FtZXNUYWdzKTsKICAgICAgICAgICAgICAgIHNyMl9jYWxjdWxhdGVMYW5ndWFnZUNvdW50cyh0ZW1wRmlsdGVyZWRHYW1lc0xhbmcpOwoKICAgICAgICAgICAgICAgIHNyMl9wb3B1bGF0ZUZpbHRlckxpc3QoJ3NyMl9jYXRlZ29yeUxpc3QnLCBzcjJfY2F0ZWdvcmllcywgJ2NhdGVnb3JpZXMnKTsKICAgICAgICAgICAgICAgIHNyMl9wb3B1bGF0ZUZpbHRlckxpc3QoJ3NyMl9yZWxlYXNlWWVhckxpc3QnLCBzcjJfcmVsZWFzZVllYXJzLCAncmVsZWFzZVllYXJzJyk7CiAgICAgICAgICAgICAgICBzcjJfcG9wdWxhdGVGaWx0ZXJMaXN0KCdzcjJfdGFnTGlzdCcsIHNyMl90YWdzLCAndGFncycpOwogICAgICAgICAgICAgICAgc3IyX3BvcHVsYXRlRmlsdGVyTGlzdCgnc3IyX2xhbmd1YWdlTGlzdCcsIG51bGwsICdsYW5ndWFnZScpOwoKICAgICAgICAgICAgICAgIHNyMl91cGRhdGVSYW5nZVBsYWNlaG9sZGVycyh0ZW1wRmlsdGVyZWRGb3JSYW5nZXMpOwogICAgICAgICAgICAgICAgc3IyX3Jlc3RvcmVDaGVja2JveFN0YXRlcygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfcmVzdG9yZUNoZWNrYm94U3RhdGVzKCkgewogICAgICAgICAgICAgICAgWydjYXRlZ29yaWVzJywgJ3JlbGVhc2VZZWFycycsICd0YWdzJywgJ2xhbmd1YWdlJ10uZm9yRWFjaCh0eXBlID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVGb3JUeXBlID0gc3IyX2FjdGl2ZUZpbHRlcnNbdHlwZV07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNyMl9nZXREaXZJZEZvckZpbHRlclR5cGUodHlwZSkpOwogICAgICAgICAgICAgICAgICAgIGlmKCFsaXN0RGl2KSByZXR1cm47CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbENiID0gbGlzdERpdi5xdWVyeVNlbGVjdG9yKCdpbnB1dFt2YWx1ZT0i0JLRgdC1Il0nKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpY0NoZWNrYm94ZXMgPSBBcnJheS5mcm9tKGxpc3REaXYucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXTpub3QoW3ZhbHVlPSLQktGB0LUiXSknKSk7CgogICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlRm9yVHlwZSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRm9yVHlwZS5pbmNsdWRlcygi0JLRgdC1IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbENiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDYi5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENiLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY0NoZWNrYm94ZXMuZm9yRWFjaChjYiA9PiBjYi5jaGVja2VkID0gdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVGb3JUeXBlLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsQ2IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENiLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENiLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpY0NoZWNrYm94ZXMuZm9yRWFjaChjYiA9PiBjYi5jaGVja2VkID0gZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxTcGVjaWZpY0FjdHVhbGx5Q2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb21lU3BlY2lmaWNBY3R1YWxseUNoZWNrZWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljQ2hlY2tib3hlcy5mb3JFYWNoKGNiID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVGb3JUeXBlLmluY2x1ZGVzKGNiLnZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvbWVTcGVjaWZpY0FjdHVhbGx5Q2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTcGVjaWZpY0FjdHVhbGx5Q2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxDYikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFNwZWNpZmljQWN0dWFsbHlDaGVja2VkICYmIHNwZWNpZmljQ2hlY2tib3hlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ2IuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ2IuaW5kZXRlcm1pbmF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzb21lU3BlY2lmaWNBY3R1YWxseUNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDYi5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ2IuaW5kZXRlcm1pbmF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENiLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDYi5pbmRldGVybWluYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2dldERpdklkRm9yRmlsdGVyVHlwZSh0eXBlKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2godHlwZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NhdGVnb3JpZXMnOiByZXR1cm4gJ3NyMl9jYXRlZ29yeUxpc3QnOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlbGVhc2VZZWFycyc6IHJldHVybiAnc3IyX3JlbGVhc2VZZWFyTGlzdCc7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGFncyc6IHJldHVybiAnc3IyX3RhZ0xpc3QnOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhbmd1YWdlJzogcmV0dXJuICdzcjJfbGFuZ3VhZ2VMaXN0JzsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9oYW5kbGVGaWx0ZXJDaGFuZ2UoZmlsdGVyVHlwZSwgZXZlbnQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpc3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcjJfZ2V0RGl2SWRGb3JGaWx0ZXJUeXBlKGZpbHRlclR5cGUpKTsKICAgICAgICAgICAgICAgIGlmICghbGlzdERpdikgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IHNwZWNpZmljQ2hlY2tib3hlcyA9IEFycmF5LmZyb20obGlzdERpdi5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdOm5vdChbdmFsdWU9ItCS0YHQtSJdKScpKTsKICAgICAgICAgICAgICAgIGNvbnN0IGNsaWNrZWRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkOwoKICAgICAgICAgICAgICAgIGlmIChjbGlja2VkVmFsdWUgPT09ICLQktGB0LUiKSB7CiAgICAgICAgICAgICAgICAgICAgc3IyX2FjdGl2ZUZpbHRlcnNbZmlsdGVyVHlwZV0gPSBpc0NoZWNrZWQgPyBbItCS0YHQtSJdIDogW107CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsdWVzID0gW107CiAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNDaGVja2JveGVzLmZvckVhY2goY2IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2IudmFsdWUgPT09IGNsaWNrZWRWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2hlY2tlZCkgc2VsZWN0ZWRWYWx1ZXMucHVzaChjYi52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2IuY2hlY2tlZCkgc2VsZWN0ZWRWYWx1ZXMucHVzaChjYi52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzLmxlbmd0aCA9PT0gc3BlY2lmaWNDaGVja2JveGVzLmxlbmd0aCAmJiBzcGVjaWZpY0NoZWNrYm94ZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzcjJfYWN0aXZlRmlsdGVyc1tmaWx0ZXJUeXBlXSA9IFsi0JLRgdC1Il07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFZhbHVlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgIHNyMl9hY3RpdmVGaWx0ZXJzW2ZpbHRlclR5cGVdID0gW107CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3IyX2FjdGl2ZUZpbHRlcnNbZmlsdGVyVHlwZV0gPSBzZWxlY3RlZFZhbHVlczsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzcjJfdXBkYXRlQWxsRmlsdGVyQ291bnRzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9oYW5kbGVSYW5nZUZpbHRlckNoYW5nZSgpIHsKICAgICAgICAgICAgICAgIHNyMl9hY3RpdmVGaWx0ZXJzLnJldmlld0NvdW50TWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yZXZpZXdDb3VudE1pbicpLnZhbHVlID09PSAnJyA/IG51bGwgOiBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jldmlld0NvdW50TWluJykudmFsdWUpOwogICAgICAgICAgICAgICAgc3IyX2FjdGl2ZUZpbHRlcnMucmV2aWV3Q291bnRNYXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jldmlld0NvdW50TWF4JykudmFsdWUgPT09ICcnID8gbnVsbCA6IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmV2aWV3Q291bnRNYXgnKS52YWx1ZSk7CiAgICAgICAgICAgICAgICBzcjJfYWN0aXZlRmlsdGVycy5yYXRpbmdNaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3JhdGluZ01pbicpLnZhbHVlID09PSAnJyA/IG51bGwgOiBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3JhdGluZ01pbicpLnZhbHVlKTsKICAgICAgICAgICAgICAgIHNyMl9hY3RpdmVGaWx0ZXJzLnJhdGluZ01heCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmF0aW5nTWF4JykudmFsdWUgPT09ICcnID8gbnVsbCA6IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmF0aW5nTWF4JykudmFsdWUpOwogICAgICAgICAgICAgICAgc3IyX3VwZGF0ZUFsbEZpbHRlckNvdW50cygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2NvbmZpcm1SZXNldEFsbEZpbHRlcnMoKSB7CiAgICAgICAgICAgICAgICAgY29uc3QgY29uZmlybU1vZGFsSWQgPSAnc3IyX2NvbmZpcm1SZXNldE1vZGFsJzsKICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlybU1vZGFsSWQpKSByZXR1cm47CgogICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1Nb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5pZCA9IGNvbmZpcm1Nb2RhbElkOwogICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5jbGFzc05hbWUgPSAnc3IyX2NvbmZpcm1Nb2RhbCc7CiAgICAgICAgICAgICAgICAgY29uZmlybU1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfY29uZmlybU1vZGFsQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoND7QodCx0YDQvtGB0LjRgtGMINGE0LjQu9GM0YLRgNGLPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDRgdCx0YDQvtGB0LjRgtGMINCy0YHQtSDRhNC40LvRjNGC0YDRiyDQuiDQt9C90LDRh9C10L3QuNGP0Lwg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4/PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcjJfY29uZmlybU1vZGFsQWN0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzcjJfY29uZmlybVJlc2V0WWVzIiBjbGFzcz0ic3IyX2J0biBzcjJfYnRuUHJpbWFyeSI+0JTQsDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic3IyX2NvbmZpcm1SZXNldE5vIiBjbGFzcz0ic3IyX2J0biI+0J3QtdGCPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbmZpcm1Nb2RhbCk7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9jb25maXJtUmVzZXRZZXMnKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNyMl9yZXNldEZpbHRlcnNUb0RlZmF1bHRTdGF0ZUFuZFVJKCk7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybU1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmKGNvbmZpcm1Nb2RhbC5fZXNjSGFuZGxlcikgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNvbmZpcm1Nb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9jb25maXJtUmVzZXRObycpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybU1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICBpZihjb25maXJtTW9kYWwuX2VzY0hhbmRsZXIpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjb25maXJtTW9kYWwuX2VzY0hhbmRsZXIpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5fZXNjSGFuZGxlciA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICJFc2NhcGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNvbmZpcm1Nb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjb25maXJtTW9kYWwuX2VzY0hhbmRsZXIpOwogICAgICAgICAgICAgICAgY29uZmlybU1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zcjJfY29uZmlybU1vZGFsQ29udGVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKTsKICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldCA9PT0gY29uZmlybU1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29uZmlybU1vZGFsLl9lc2NIYW5kbGVyKSBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY29uZmlybU1vZGFsLl9lc2NIYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2NhbGN1bGF0ZUNhdGVnb3J5Q291bnRzKGdhbWVzVG9Db3VudCkgewogICAgICAgICAgICAgICAgc3IyX2NhdGVnb3JpZXMuY2xlYXIoKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBDYXRlZ29yaWVzID0gbmV3IE1hcCgpOwogICAgICAgICAgICAgICAgZ2FtZXNUb0NvdW50LmZvckVhY2goZ2FtZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZ2FtZS5jYXRlZ29yaWVzLmZvckVhY2goY2F0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdCkgdGVtcENhdGVnb3JpZXMuc2V0KGNhdCwgKHRlbXBDYXRlZ29yaWVzLmdldChjYXQpIHx8IDApICsgMSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRDYXRlZ29yaWVzQXJyYXkgPSBBcnJheS5mcm9tKHRlbXBDYXRlZ29yaWVzLmVudHJpZXMoKSkuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjYXRBXSA9IGE7IGNvbnN0IFtjYXRCXSA9IGI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNhdEEgPT09ICfQmNC30LHRgNCw0L3QvdC+0LUnKSByZXR1cm4gLTE7IGlmIChjYXRCID09PSAn0JjQt9Cx0YDQsNC90L3QvtC1JykgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdEEubG9jYWxlQ29tcGFyZShjYXRCLCAncnUnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3IyX2NhdGVnb3JpZXMgPSBuZXcgTWFwKHNvcnRlZENhdGVnb3JpZXNBcnJheSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9jYWxjdWxhdGVSZWxlYXNlWWVhckNvdW50cyhnYW1lc1RvQ291bnQpIHsKICAgICAgICAgICAgICAgIHNyMl9yZWxlYXNlWWVhcnMuY2xlYXIoKTsKICAgICAgICAgICAgICAgIGxldCBub0RhdGVDb3VudCA9IDA7CiAgICAgICAgICAgICAgICBnYW1lc1RvQ291bnQuZm9yRWFjaChnYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gZ2FtZS5wYXJzZWRfcmVsZWFzZV95ZWFyOwogICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyID09PSAn0JHQtdC3INC00LDRgtGLJykgewogICAgICAgICAgICAgICAgICAgICAgICBub0RhdGVDb3VudCsrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeWVhcikgewogICAgICAgICAgICAgICAgICAgICAgICBzcjJfcmVsZWFzZVllYXJzLnNldCh5ZWFyLCAoc3IyX3JlbGVhc2VZZWFycy5nZXQoeWVhcikgfHwgMCkgKyAxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmKG5vRGF0ZUNvdW50ID4gMCB8fCBnYW1lc1RvQ291bnQuc29tZShnID0+IGcucGFyc2VkX3JlbGVhc2VfeWVhciA9PT0gJ9CR0LXQtyDQtNCw0YLRiycpIHx8IHNyMl9yZWxlYXNlWWVhcnMuc2l6ZSA9PT0gMCAmJiBnYW1lc1RvQ291bnQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICBzcjJfcmVsZWFzZVllYXJzLnNldCgn0JHQtdC3INC00LDRgtGLJywgbm9EYXRlQ291bnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfY2FsY3VsYXRlVGFnQ291bnRzKGdhbWVzVG9Db3VudCkgewogICAgICAgICAgICAgICAgc3IyX3RhZ3MuY2xlYXIoKTsKICAgICAgICAgICAgICAgIGxldCBub1RhZ0NvdW50ID0gMDsKICAgICAgICAgICAgICAgIGdhbWVzVG9Db3VudC5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnRhZ3MgJiYgZ2FtZS50YWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS50YWdzLmZvckVhY2godGFnID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcpIHNyMl90YWdzLnNldCh0YWcsIChzcjJfdGFncy5nZXQodGFnKSB8fCAwKSArIDEpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBub1RhZ0NvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgaWYobm9UYWdDb3VudCA+IDAgfHwgZ2FtZXNUb0NvdW50LnNvbWUoZyA9PiAhZy50YWdzIHx8IGcudGFncy5sZW5ndGggPT09IDApIHx8IHNyMl90YWdzLnNpemUgPT09IDAgJiYgZ2FtZXNUb0NvdW50Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBzcjJfdGFncy5zZXQoJ9CR0LXQtyDRgtGN0LPQvtCyJywgbm9UYWdDb3VudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9jYWxjdWxhdGVMYW5ndWFnZUNvdW50cyhnYW1lc1RvQ291bnQpIHsKICAgICAgICAgICAgICAgIHNyMl9sYW5ndWFnZVN1cHBvcnRTdGF0cyA9IHsgbm9SdXNzaWFuT3JOb0RhdGE6IDAsIHN1YnRpdGxlc09ySW50ZXJmYWNlT25seTogMCwgdm9pY2U6IDAgfTsKICAgICAgICAgICAgICAgIGdhbWVzVG9Db3VudC5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmcgPSBnYW1lLnBhcnNlZF9sYW5ndWFnZV9zdXBwb3J0OwogICAgICAgICAgICAgICAgICAgIGlmIChsYW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYW5nLnZvaWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcjJfbGFuZ3VhZ2VTdXBwb3J0U3RhdHMudm9pY2UrKzsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYW5nLmludGVyZmFjZSB8fCBsYW5nLnN1YnRpdGxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3IyX2xhbmd1YWdlU3VwcG9ydFN0YXRzLnN1YnRpdGxlc09ySW50ZXJmYWNlT25seSsrOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3IyX2xhbmd1YWdlU3VwcG9ydFN0YXRzLm5vUnVzc2lhbk9yTm9EYXRhKys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgc3IyX2xhbmd1YWdlU3VwcG9ydFN0YXRzLm5vUnVzc2lhbk9yTm9EYXRhKys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl91cGRhdGVSYW5nZVBsYWNlaG9sZGVycyhnYW1lc1RvVXBkYXRlRnJvbSkgewogICAgICAgICAgICAgICAgbGV0IG1pblJldmlld3MgPSBJbmZpbml0eSwgbWF4UmV2aWV3cyA9IDAsIG1pblJhdGluZyA9IDEwMSwgbWF4UmF0aW5nID0gLTE7CiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZEdhbWVzRm9yU3RhdHMgPSBnYW1lc1RvVXBkYXRlRnJvbS5maWx0ZXIoZ2FtZSA9PiBnYW1lLnJldmlld19jb3VudCA+IDAgfHwgZ2FtZS5yZXZpZXdfcGVyY2VudGFnZSA+IDApOwoKICAgICAgICAgICAgICAgIGlmICh2YWxpZEdhbWVzRm9yU3RhdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHZhbGlkR2FtZXNGb3JTdGF0cy5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBtaW5SZXZpZXdzID0gTWF0aC5taW4obWluUmV2aWV3cywgZ2FtZS5yZXZpZXdfY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgICBtYXhSZXZpZXdzID0gTWF0aC5tYXgobWF4UmV2aWV3cywgZ2FtZS5yZXZpZXdfY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5yZXZpZXdfY291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pblJhdGluZyA9IE1hdGgubWluKG1pblJhdGluZywgZ2FtZS5yZXZpZXdfcGVyY2VudGFnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFJhdGluZyA9IE1hdGgubWF4KG1heFJhdGluZywgZ2FtZS5yZXZpZXdfcGVyY2VudGFnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbWluUmV2aWV3cyA9IDA7IG1heFJldmlld3MgPSAwOyBtaW5SYXRpbmcgPSAwOyBtYXhSYXRpbmcgPSAxMDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtaW5SZXZpZXdzID0gbWluUmV2aWV3cyA9PT0gSW5maW5pdHkgPyAwIDogbWluUmV2aWV3czsKICAgICAgICAgICAgICAgIG1pblJhdGluZyA9IG1pblJhdGluZyA9PT0gMTAxID8gMCA6IG1pblJhdGluZzsKICAgICAgICAgICAgICAgIG1heFJhdGluZyA9IG1heFJhdGluZyA9PT0gLTEgPyAxMDAgOiBtYXhSYXRpbmc7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yZXZpZXdDb3VudE1pbicpLnBsYWNlaG9sZGVyID0gYNCe0YIgJHttaW5SZXZpZXdzfWA7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jldmlld0NvdW50TWF4JykucGxhY2Vob2xkZXIgPSBg0JTQviAke21heFJldmlld3N9YDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmF0aW5nTWluJykucGxhY2Vob2xkZXIgPSBg0J7RgiAke21pblJhdGluZ31gOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yYXRpbmdNYXgnKS5wbGFjZWhvbGRlciA9IGDQlNC+ICR7bWF4UmF0aW5nfWA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9nYW1lUGFzc2VzT3RoZXJGaWx0ZXJzKGdhbWUsIG9wdGlvbnMpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgZXhjbHVkZUZpbHRlciB9ID0gb3B0aW9ucyB8fCB7fTsKCiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZUZpbHRlciAhPT0gJ2NhdGVnb3JpZXMnICYmICFzcjJfYWN0aXZlRmlsdGVycy5jYXRlZ29yaWVzLmluY2x1ZGVzKCLQktGB0LUiKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzcjJfYWN0aXZlRmlsdGVycy5jYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmICghc3IyX2FjdGl2ZUZpbHRlcnMuY2F0ZWdvcmllcy5zb21lKGNhdCA9PiBnYW1lLmNhdGVnb3JpZXMuaW5jbHVkZXMoY2F0KSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChleGNsdWRlRmlsdGVyICE9PSAncmVsZWFzZVllYXJzJyAmJiAhc3IyX2FjdGl2ZUZpbHRlcnMucmVsZWFzZVllYXJzLmluY2x1ZGVzKCLQktGB0LUiKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzcjJfYWN0aXZlRmlsdGVycy5yZWxlYXNlWWVhcnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IHllYXJNYXRjaCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChzcjJfYWN0aXZlRmlsdGVycy5yZWxlYXNlWWVhcnMuaW5jbHVkZXMoJ9CR0LXQtyDQtNCw0YLRiycpICYmIGdhbWUucGFyc2VkX3JlbGVhc2VfeWVhciA9PT0gJ9CR0LXQtyDQtNCw0YLRiycpIHllYXJNYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF5ZWFyTWF0Y2ggJiYgc3IyX2FjdGl2ZUZpbHRlcnMucmVsZWFzZVllYXJzLmluY2x1ZGVzKGdhbWUucGFyc2VkX3JlbGVhc2VfeWVhcikpIHllYXJNYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF5ZWFyTWF0Y2gpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChleGNsdWRlRmlsdGVyICE9PSAndGFncycgJiYgIXNyMl9hY3RpdmVGaWx0ZXJzLnRhZ3MuaW5jbHVkZXMoItCS0YHQtSIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNyMl9hY3RpdmVGaWx0ZXJzLnRhZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRhZ01hdGNoID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzR2FtZVRhZ3MgPSBnYW1lLnRhZ3MgJiYgZ2FtZS50YWdzLmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNyMl9hY3RpdmVGaWx0ZXJzLnRhZ3MuaW5jbHVkZXMoJ9CR0LXQtyDRgtGN0LPQvtCyJykgJiYgIWhhc0dhbWVUYWdzKSB0YWdNYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdNYXRjaCAmJiBoYXNHYW1lVGFncyAmJiBzcjJfYWN0aXZlRmlsdGVycy50YWdzLnNvbWUodGFnID0+IGdhbWUudGFncy5pbmNsdWRlcyh0YWcpKSkgdGFnTWF0Y2ggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGlmICghdGFnTWF0Y2gpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChleGNsdWRlRmlsdGVyICE9PSAnbGFuZ3VhZ2UnICYmICFzcjJfYWN0aXZlRmlsdGVycy5sYW5ndWFnZS5pbmNsdWRlcygi0JLRgdC1IikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc3IyX2FjdGl2ZUZpbHRlcnMubGFuZ3VhZ2UubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxhbmdNYXRjaCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmdTdXAgPSBnYW1lLnBhcnNlZF9sYW5ndWFnZV9zdXBwb3J0OwogICAgICAgICAgICAgICAgICAgIGlmIChzcjJfYWN0aXZlRmlsdGVycy5sYW5ndWFnZS5pbmNsdWRlcygnbm9SdXNzaWFuT3JOb0RhdGEnKSAmJiAoIWxhbmdTdXAuaGFzUnVzc2lhbiB8fCBsYW5nU3VwLm5vRGF0YSkpIGxhbmdNYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYW5nTWF0Y2ggJiYgc3IyX2FjdGl2ZUZpbHRlcnMubGFuZ3VhZ2UuaW5jbHVkZXMoJ3N1YnRpdGxlc09ySW50ZXJmYWNlT25seScpICYmIChsYW5nU3VwLmludGVyZmFjZSB8fCBsYW5nU3VwLnN1YnRpdGxlcykgJiYgIWxhbmdTdXAudm9pY2UpIGxhbmdNYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYW5nTWF0Y2ggJiYgc3IyX2FjdGl2ZUZpbHRlcnMubGFuZ3VhZ2UuaW5jbHVkZXMoJ3ZvaWNlJykgJiYgbGFuZ1N1cC52b2ljZSkgbGFuZ01hdGNoID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWxhbmdNYXRjaCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVGaWx0ZXIgIT09ICdyZXZpZXdDb3VudCcpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc3IyX2FjdGl2ZUZpbHRlcnMucmV2aWV3Q291bnRNaW4gIT09IG51bGwgJiYgZ2FtZS5yZXZpZXdfY291bnQgPCBzcjJfYWN0aXZlRmlsdGVycy5yZXZpZXdDb3VudE1pbikgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChzcjJfYWN0aXZlRmlsdGVycy5yZXZpZXdDb3VudE1heCAhPT0gbnVsbCAmJiBnYW1lLnJldmlld19jb3VudCA+IHNyMl9hY3RpdmVGaWx0ZXJzLnJldmlld0NvdW50TWF4KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZUZpbHRlciAhPT0gJ3JhdGluZycpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc3IyX2FjdGl2ZUZpbHRlcnMucmF0aW5nTWluICE9PSBudWxsICYmIGdhbWUucmV2aWV3X3BlcmNlbnRhZ2UgPCBzcjJfYWN0aXZlRmlsdGVycy5yYXRpbmdNaW4pIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpZiAoc3IyX2FjdGl2ZUZpbHRlcnMucmF0aW5nTWF4ICE9PSBudWxsICYmIGdhbWUucmV2aWV3X3BlcmNlbnRhZ2UgPiBzcjJfYWN0aXZlRmlsdGVycy5yYXRpbmdNYXgpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfYXBwbHlDdXJyZW50RmlsdGVyc1RvR2FtZUxpc3QoYmFzZUdhbWVMaXN0LCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VHYW1lTGlzdC5maWx0ZXIoZ2FtZSA9PiBzcjJfZ2FtZVBhc3Nlc090aGVyRmlsdGVycyhnYW1lLCBvcHRpb25zKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9hcHBseUFsbEZpbHRlcnNBbmRSb3VsZXR0ZVVwZGF0ZSgpIHsKICAgICAgICAgICAgICAgIHNyMl9maWx0ZXJlZEdhbWVzID0gc3IyX2FwcGx5Q3VycmVudEZpbHRlcnNUb0dhbWVMaXN0KHNyMl9nYW1lcywge30pOwogICAgICAgICAgICAgICAgY29uc3Qgc3BpbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfc3BpbkJ0bicpOwogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yZXN1bHQnKTsKCiAgICAgICAgICAgICAgICBpZiAoc3IyX2N1cnJlbnRWaWV3TW9kZSA9PT0gJ3JvdWxldHRlJykgewogICAgICAgICAgICAgICAgICAgIHNwaW5CdG4uZGlzYWJsZWQgPSBzcjJfZmlsdGVyZWRHYW1lcy5sZW5ndGggPT09IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNwaW5CdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHNyMl9wb3B1bGF0ZUNvbGxlY3Rpb25WaWV3KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoc3IyX3RvZ2dsZVZpZXdCdG4pIHNyMl90b2dnbGVWaWV3QnRuLmRpc2FibGVkID0gc3IyX2ZpbHRlcmVkR2FtZXMubGVuZ3RoID09PSAwOwoKICAgICAgICAgICAgICAgIHNyMl91cGRhdGVSb3VsZXR0ZSgpOwogICAgICAgICAgICAgICAgcmVzdWx0RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBzcjJfY29sbGVjdGlvblNlbGVjdGVkR2FtZUFwcElkID0gbnVsbDsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl91cGRhdGVSb3VsZXR0ZSgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJvdWxldHRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yb3VsZXR0ZScpOwogICAgICAgICAgICAgICAgaWYgKCFyb3VsZXR0ZSB8fCAhcm91bGV0dGUucGFyZW50RWxlbWVudCkgcmV0dXJuOwogICAgICAgICAgICAgICAgcm91bGV0dGUuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoc3IyX2ZpbHRlcmVkR2FtZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGUuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9InNyMl9nYW1lSXRlbSIgc3R5bGU9IndpZHRoOiAxMDAlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjOEI5NDlFOyBoZWlnaHQ6MTAwJTsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpjZW50ZXI7Ij7QndC10YIg0LjQs9GAINC/0L4g0YTQuNC70YzRgtGA0LDQvDwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgcm91bGV0dGUuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtQWN0dWFsV2lkdGggPSAxNjQ7CgogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTUjJfQ0xPTkVTX0NPVU5UOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBzcjJfZmlsdGVyZWRHYW1lcy5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdzcjJfZ2FtZUl0ZW0nOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5QaWMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGdhbWUuUGljOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmFsdCA9IGdhbWUubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5sb2FkaW5nID0gJ2xhenknOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgdGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzsgZGl2LnRleHRDb250ZW50ID0gZ2FtZS5uYW1lIHx8IGdhbWUuZ2FtZV9pZDsgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbWcpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gZ2FtZS5uYW1lIHx8IGdhbWUuZ2FtZV9pZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChkaXYpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcm91bGV0dGUuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpOwogICAgICAgICAgICAgICAgcm91bGV0dGUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknOwogICAgICAgICAgICAgICAgIGlmIChzcjJfZmlsdGVyZWRHYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICByb3VsZXR0ZS5zdHlsZS53aWR0aCA9IGAke2l0ZW1BY3R1YWxXaWR0aCAqIHNyMl9maWx0ZXJlZEdhbWVzLmxlbmd0aCAqIFNSMl9DTE9ORVNfQ09VTlR9cHhgOwogICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICByb3VsZXR0ZS5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNyMl9zcGluKCkgewogICAgICAgICAgICAgICAgaWYgKHNyMl9zcGlubmluZyB8fCAhc3IyX2ZpbHRlcmVkR2FtZXMubGVuZ3RoIHx8IHNyMl9jdXJyZW50Vmlld01vZGUgPT09ICdjb2xsZWN0aW9uJykgcmV0dXJuOwogICAgICAgICAgICAgICAgc3IyX3NwaW5uaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIHNyMl9jb2xsZWN0aW9uU2VsZWN0ZWRHYW1lQXBwSWQgPSBudWxsOwogICAgICAgICAgICAgICAgY29uc3Qgcm91bGV0dGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3JvdWxldHRlJyk7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtQWN0dWFsV2lkdGggPSAxNjQ7CiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbENvdW50ID0gc3IyX2ZpbHRlcmVkR2FtZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ291bnQgPT09IDApIHsgc3IyX3NwaW5uaW5nID0gZmFsc2U7IHJldHVybjsgfQoKICAgICAgICAgICAgICAgIGxldCB0YXJnZXRJbmRleDsKICAgICAgICAgICAgICAgIGNvbnN0IHVzZVByaW9yaXRpZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3ByaW9yaXR5Q2hlY2tib3gnKS5jaGVja2VkOwoKICAgICAgICAgICAgICAgIGlmICh1c2VQcmlvcml0aWVzICYmIG9yaWdpbmFsQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IHNyMl9maWx0ZXJlZEdhbWVzLm1hcChnYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IGdhbWUucmV2aWV3X3BlcmNlbnRhZ2UgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBnYW1lLnJldmlld19jb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMSwgKHBlcmNlbnQvMTAwKSAqIE1hdGgubG9nMXAoY291bnQpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFdlaWdodCA9IHdlaWdodHMucmVkdWNlKChzdW0sIHcpID0+IHN1bSArIHcsIDApOwogICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbFdlaWdodCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHdlaWdodHMubWFwKHcgPT4gdyAvIHRvdGFsV2VpZ2h0KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1bXVsYXRpdmUgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vcm1hbGl6ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1bXVsYXRpdmUgKz0gbm9ybWFsaXplZFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5kb20gPD0gY3VtdWxhdGl2ZSkgeyB0YXJnZXRJbmRleCA9IGk7IGJyZWFrOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5kZXggPSAodGFyZ2V0SW5kZXggPT09IHVuZGVmaW5lZCkgPyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBvcmlnaW5hbENvdW50KSA6IHRhcmdldEluZGV4OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogb3JpZ2luYWxDb3VudCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG9yaWdpbmFsQ291bnQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lc0JlZm9yZVRhcmdldCA9IE1hdGguZmxvb3IoU1IyX0NMT05FU19DT1VOVCAvIDIpOwogICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2xvbmVJbmRleCA9IGNsb25lc0JlZm9yZVRhcmdldCAqIG9yaWdpbmFsQ291bnQgKyB0YXJnZXRJbmRleDsKICAgICAgICAgICAgICAgIGNvbnN0IHJvdWxldHRlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yb3VsZXR0ZUNvbnRhaW5lcicpOwogICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0YXJnZXRDbG9uZUluZGV4ICogaXRlbUFjdHVhbFdpZHRoIC0gKHJvdWxldHRlQ29udGFpbmVyLm9mZnNldFdpZHRoIC8gMikgKyAoaXRlbUFjdHVhbFdpZHRoIC8gMik7CgogICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRUcmFuc2xhdGVYID0gMDsKICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVZhbHVlID0gcm91bGV0dGUuc3R5bGUudHJhbnNmb3JtOwogICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVZhbHVlICYmIHRyYW5zZm9ybVZhbHVlLnN0YXJ0c1dpdGgoJ3RyYW5zbGF0ZVgoJykpIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJhbnNsYXRlWCA9IHBhcnNlRmxvYXQodHJhbnNmb3JtVmFsdWUucmVwbGFjZSgndHJhbnNsYXRlWCgnLCAnJykucmVwbGFjZSgncHgpJywgJycpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSAtY3VycmVudFRyYW5zbGF0ZVg7CgogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGgubWF4KDMwMDAsIE1hdGgubWluKDcwMDAsIG9yaWdpbmFsQ291bnQgKiAxMDApKTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhbmltYXRlKHRpbWVzdGFtcCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSB0aW1lc3RhbXAgLSBzdGFydFRpbWU7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbihlbGFwc2VkIC8gZHVyYXRpb24sIDEpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSAxIC0gTWF0aC5wb3coMSAtIHByb2dyZXNzLCA0KTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFggPSBzdGFydFBvc2l0aW9uICsgKHRhcmdldFBvc2l0aW9uIC0gc3RhcnRQb3NpdGlvbikgKiBlYXNlZFByb2dyZXNzOwogICAgICAgICAgICAgICAgICAgIHJvdWxldHRlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2N1cnJlbnRYfXB4KWA7CgogICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJvdWxldHRlLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJvdWxldHRlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3RhcmdldFBvc2l0aW9ufXB4KWA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyByb3VsZXR0ZS5zdHlsZS50cmFuc2l0aW9uID0gJyc7IH0sIDUwKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3IyX3NwaW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHNyMl9zaG93UmVzdWx0KHNyMl9maWx0ZXJlZEdhbWVzW3RhcmdldEluZGV4XSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzcjJfc2hvd1Jlc3VsdChnYW1lKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jlc3VsdCcpOwogICAgICAgICAgICAgICAgaWYgKCFyZXN1bHREaXYgfHwgIWdhbWUpIHsgcmV0dXJuOyB9CiAgICAgICAgICAgICAgICBjb25zdCBzdGVhbUxpbmsgPSBnYW1lWydTdGVhbS1MaW5rJ10gfHwgYGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvJHtnYW1lLmdhbWVfaWR9L2A7CiAgICAgICAgICAgICAgICBjb25zdCBsYXVuY2hMaW5rID0gYHN0ZWFtOi8vcnVuLyR7Z2FtZS5nYW1lX2lkfWA7CiAgICAgICAgICAgICAgICBjb25zdCBwb3N0ZXJJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jlc3VsdFBvc3RlcicpOwogICAgICAgICAgICAgICAgcG9zdGVySW1nLnNyYyA9IGdhbWUuUGljIHx8ICcnOyBwb3N0ZXJJbWcuYWx0ID0gZ2FtZS5uYW1lIHx8ICfQn9C+0YHRgtC10YAg0LjQs9GA0YsnOwogICAgICAgICAgICAgICAgcG9zdGVySW1nLnN0eWxlLmRpc3BsYXkgPSBnYW1lLlBpYyA/ICdibG9jaycgOiAnbm9uZSc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jlc3VsdFRpdGxlJykudGV4dENvbnRlbnQgPSBnYW1lLm5hbWUgfHwgJ9CR0LXQtyDQvdCw0LfQstCw0L3QuNGPJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0U3RlYW1MaW5rJykuaHJlZiA9IHN0ZWFtTGluazsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0TGF1bmNoTGluaycpLmhyZWYgPSBsYXVuY2hMaW5rOwogICAgICAgICAgICAgICAgY29uc3QgcmF0aW5nRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0UmF0aW5nJyk7CiAgICAgICAgICAgICAgICBsZXQgcmF0aW5nQ2xhc3MgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChnYW1lLnJldmlld19wZXJjZW50YWdlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IGdhbWUucmV2aWV3X3BlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gNzApIHJhdGluZ0NsYXNzID0gJ3Bvc2l0aXZlJzsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwZXJjZW50ID49IDQwKSByYXRpbmdDbGFzcyA9ICdtaXhlZCc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGVyY2VudCA+IDApIHJhdGluZ0NsYXNzID0gJ25lZ2F0aXZlJzsKICAgICAgICAgICAgICAgICAgICBlbHNlIHJhdGluZ0NsYXNzID0gJyc7CiAgICAgICAgICAgICAgICAgICAgcmF0aW5nRWxlbS5pbm5lckhUTUwgPSBwZXJjZW50ID4gMCA/CiAgICAgICAgICAgICAgICAgICAgICAgIGA8c3Bhbj4ke3BlcmNlbnR9JTwvc3Bhbj48c3Bhbj4gKCR7Z2FtZS5yZXZpZXdfY291bnQgfHwgMH0g0L7RgtC30YvQstC+0LIpPC9zcGFuPmAgOgogICAgICAgICAgICAgICAgICAgICAgICAn0J3QtdGCINC+0YbQtdC90L7Quic7CiAgICAgICAgICAgICAgICAgICAgcmF0aW5nRWxlbS5jbGFzc05hbWUgPSBgc3IyX3Jldmlld1JhdGluZyAke3JhdGluZ0NsYXNzfWA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJhdGluZ0VsZW0udGV4dENvbnRlbnQgPSAn0J3QtdGCINC+0YbQtdC90L7Quic7CiAgICAgICAgICAgICAgICAgICAgcmF0aW5nRWxlbS5jbGFzc05hbWUgPSAnc3IyX3Jldmlld1JhdGluZyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jlc3VsdERlc2NyaXB0aW9uJykudGV4dENvbnRlbnQgPSBnYW1lLnNob3J0X2Rlc2NyaXB0aW9uIHx8ICfQntC/0LjRgdCw0L3QuNC1INC+0YLRgdGD0YLRgdGC0LLRg9C10YIuJzsKICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3NDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3IyX3Jlc3VsdFRhZ3MnKTsKICAgICAgICAgICAgICAgIHRhZ3NDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoZ2FtZS50YWdzKSB7CiAgICAgICAgICAgICAgICAgICAgZ2FtZS50YWdzLnNsaWNlKDAsIDEyKS5mb3JFYWNoKHRhZyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcudHJpbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSAnc3IyX3RhZyc7IHNwYW4udGV4dENvbnRlbnQgPSB0YWcudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyMl9yZXN1bHRSZWxlYXNlRGF0ZScpLnRleHRDb250ZW50ID0gZ2FtZS5yZWxlYXNlX2RhdGUgfHwgJ9Cd0LXQuNC30LLQtdGB0YLQvdC+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0UHVibGlzaGVyJykudGV4dENvbnRlbnQgPSBnYW1lLnB1Ymxpc2hlcnMgfHwgJ9Cd0LUg0YPQutCw0LfQsNC9JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0RGV2ZWxvcGVyJykudGV4dENvbnRlbnQgPSBnYW1lLmRldmVsb3BlcnMgfHwgJ9Cd0LUg0YPQutCw0LfQsNC9JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcjJfcmVzdWx0TGFuZ3VhZ2VzJykudGV4dENvbnRlbnQgPSBzcjJfZm9ybWF0RGlzcGxheUxhbmd1YWdlKGdhbWUucGFyc2VkX2xhbmd1YWdlX3N1cHBvcnQpOwogICAgICAgICAgICAgICAgcmVzdWx0RGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0RGl2LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ25lYXJlc3QnIH0pOwogICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2Zvcm1hdERpc3BsYXlMYW5ndWFnZShwYXJzZWRTdXBwb3J0KSB7CiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFN1cHBvcnQpIHJldHVybiAn0J3QtdGCINC00LDQvdC90YvRhSc7CiAgICAgICAgICAgICAgICBpZiAocGFyc2VkU3VwcG9ydC52b2ljZSkgcmV0dXJuICfQn9C+0LvQvdCw0Y8g0LvQvtC60LDQu9C40LfQsNGG0LjRjyc7CiAgICAgICAgICAgICAgICBpZiAocGFyc2VkU3VwcG9ydC5pbnRlcmZhY2UgJiYgcGFyc2VkU3VwcG9ydC5zdWJ0aXRsZXMpIHJldHVybiAn0JjQvdGC0LXRgNGE0LXQudGBICsg0KHRg9Cx0YLQuNGC0YDRiyc7CiAgICAgICAgICAgICAgICBpZiAocGFyc2VkU3VwcG9ydC5pbnRlcmZhY2UpIHJldHVybiAn0KLQvtC70YzQutC+INC40L3RgtC10YDRhNC10LnRgSc7CiAgICAgICAgICAgICAgICBpZiAocGFyc2VkU3VwcG9ydC5zdWJ0aXRsZXMpIHJldHVybiAn0KLQvtC70YzQutC+INGB0YPQsdGC0LjRgtGA0YsnOwogICAgICAgICAgICAgICAgaWYgKHBhcnNlZFN1cHBvcnQubm9EYXRhKSByZXR1cm4gJ9Cd0LXRgiDQtNCw0L3QvdGL0YUnOwogICAgICAgICAgICAgICAgcmV0dXJuICfQkdC10Lcg0YDRg9GB0YHQutC+0LPQviDRj9C30YvQutCwJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3IyX2FkZE1vZGFsU3R5bGVzKCkgewogICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVJZCA9ICdzcjItbW9kYWwtc3R5bGVzJzsKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHlsZUlkKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICAgICAgc3R5bGUuaWQgPSBzdHlsZUlkOwogICAgICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfc3RlbGljYXNSb3VsZXR0ZU1vZGFsICogewogICAgICAgICAgICAgICAgICAgICAgICAJYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9zdGVsaWNhc1JvdWxldHRlTW9kYWwgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzBEMTExNzsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjQzlEMUQ5OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2hlYWRlclBhbmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweCAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzBCMEYxMzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjEyNjJEOwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfbW9kYWxUaXRsZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMjJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LWZhbWlseTogQXJpYWw7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9oZWFkZXJDb250cm9scyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2J0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMjEyNjJEOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzAzNjNEOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDExcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzLCBib3JkZXItY29sb3IgMC4yczsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtZmFtaWx5OiAiTW90aXZhIFNhbnMiLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9idG46aG92ZXI6bm90KDpkaXNhYmxlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzMwMzYzRDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzhCOTQ5RTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9idG46ZGlzYWJsZWQgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzIxMjYyRDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjNmE3MzdkOwogICAgICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBub3QtYWxsb3dlZDsKICAgICAgICAgICAgICAgICAgICAgICAgCW9wYWNpdHk6IDAuNzsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9idG5JY29uIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDZweCAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfdG9nZ2xlVmlld0J0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDExcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfY2xvc2VCdG4gewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAyMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogNHB4IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOEI5NDlFOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2Nsb3NlQnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjQzlEMUQ5OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzksIDE0OCwgMTU4LCAwLjEpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2J0blByaW1hcnkgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzIzODYzNjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzJlYTA0MzsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZmZmZmZmOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfYnRuUHJpbWFyeTpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMmVhMDQzOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjM2ZiOTUwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2J0bkJsb2NrIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfYWN0aW9uQnV0dG9uc0NvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2J0bkFwcGx5RmlsdGVycyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfYnRuUmVzZXRGaWx0ZXJzIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDhweCAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9tYWluQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2xlZnRDb250cm9sc1BhbmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAzMDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMTYxQjIyOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzIxMjYyRDsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2xlZnRDb250cm9sc1BhbmVsOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogNnB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2xlZnRDb250cm9sc1BhbmVsOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMEQxMTE3OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2xlZnRDb250cm9sc1BhbmVsOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMzAzNjNEOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzBEMTExNzsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9sZWZ0Q29udHJvbHNQYW5lbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9jb250cm9sU2VjdGlvbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyMTI2MkQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfY29udHJvbFNlY3Rpb246bGFzdC1jaGlsZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItYm90dG9tOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy1ib3R0b206IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfbGFiZWwgewogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzhCOTQ5RTsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZmlsZU5hbWUgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM1OEE2RkY7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgCXdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9maWx0ZXJCbG9jayB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZmlsdGVyVGl0bGUgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM1OEE2RkY7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW46IDAgMCA0cHggMDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZmlsdGVyTGlzdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzAzNjNEOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogNnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzBEMTExNzsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZmlsdGVySXRlbSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjQzlEMUQ5OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2ZpbHRlckl0ZW0gaW5wdXRbdHlwZT0iY2hlY2tib3giXSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tcmlnaHQ6IDZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFjY2VudC1jb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTRweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9maWx0ZXJTZWFyY2hJbnB1dCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogY2FsYygxMDAlIC0gMTJweCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA0cHggNnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzBEMTExNzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzMDM2M0Q7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI0M5RDFEOTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbjogMCBhdXRvIDVweCBhdXRvOwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfaW5wdXRSYW5nZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2ZpbHRlcklucHV0IHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiBjYWxjKDUwJSAtIDEwcHgpOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogNHB4IDZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMwRDExMTc7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzAzNjNEOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfaW5wdXRSYW5nZVNlcGFyYXRvciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzhCOTQ5RTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9wcmlvcml0eUxhYmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfY2hlY2tib3ggewogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXJpZ2h0OiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFjY2VudC1jb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMwRDExMTc7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzAzNjNEOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3JpZ2h0Q29udGVudEFyZWEgewogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1ncm93OiAxOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9yaWdodENvbnRlbnRBcmVhOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3JpZ2h0Q29udGVudEFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6ICMwRDExMTc7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfcmlnaHRDb250ZW50QXJlYTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzMwMzYzRDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMnB4IHNvbGlkICMwRDExMTc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfcmlnaHRDb250ZW50QXJlYTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl92aWV3RmxpcHBlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltaW4taGVpZ2h0OiAyMDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgCXBlcnNwZWN0aXZlOiAxMDAwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1ncm93OiAxOwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9mbGlwcGVyX2NvbnRlbnQgewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkOwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuN3MgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX2ZsaXBwZXJfY29udGVudC5mbGlwcGVkIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2ZsaXBwZXJfZmFjZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsZWZ0OiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzBCMEYxMzsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfcm91bGV0dGVTZWN0aW9uIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLXRvcDogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmctYm90dG9tOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3JvdWxldHRlQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiA5MCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxNzBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzMDM2M0Q7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMEQxMTE3OwogICAgICAgICAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogaW5zZXQgMCAwIDE1cHggcmdiYSgwLCAwLCAwLCAwLjcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3JvdWxldHRlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZ2FtZUl0ZW0gewogICAgICAgICAgICAgICAgICAgICAgICAJbWluLXdpZHRoOiAxNjRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxNjRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjMjEyNjJEOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzE2MUIyMjsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOEI5NDlFOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2dhbWVJdGVtIGltZyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXgtd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXgtaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJb2JqZWN0LWZpdDogY29udGFpbjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9zZWxlY3RvciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsZWZ0OiA1MCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0b3A6IC01cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3R0b206IC01cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogI2Y5ODI2YzsKICAgICAgICAgICAgICAgICAgICAgICAgCXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IDAgMCAxMHB4IDNweCAjZjk4MjZjOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYW5pbWF0aW9uOiBzcjJfcHVsc2UgMS4zcyBpbmZpbml0ZSBlYXNlLWluLW91dDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgQGtleWZyYW1lcyBzcjJfcHVsc2UgewoKICAgICAgICAgICAgICAgICAgICAgICAgCTAlLAogICAgICAgICAgICAgICAgICAgICAgICAJMTAwJSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJb3BhY2l0eTogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCQl0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgc2NhbGVZKDEuMDUpOwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCTUwJSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJb3BhY2l0eTogMC43OwogICAgICAgICAgICAgICAgICAgICAgICAJCXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSBzY2FsZVkoMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfY29sbGVjdGlvblZpZXdXcmFwcGVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBncmlkOwogICAgICAgICAgICAgICAgICAgICAgICAJZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTUwcHgsIDFmcikpOwogICAgICAgICAgICAgICAgICAgICAgICAJZ2FwOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24tY29udGVudDogZmxleC1zdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9jb2xsZWN0aW9uR2FtZUNhcmQgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzE2MUIyMjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzMDM2M0Q7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIGJveC1zaGFkb3cgMC4yczsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1pbi1oZWlnaHQ6IDE4MHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2NvbGxlY3Rpb25HYW1lQ2FyZDpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDhweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9jb2xsZWN0aW9uR2FtZUNhcmQgaW1nIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2NvbGxlY3Rpb25HYW1lQ2FyZE5hbWUgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3b3JkLWJyZWFrOiBicmVhay13b3JkOwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogLXdlYmtpdC1ib3g7CiAgICAgICAgICAgICAgICAgICAgICAgIAktd2Via2l0LWxpbmUtY2xhbXA6IDI7CiAgICAgICAgICAgICAgICAgICAgICAgIAktd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOwogICAgICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICAgICAgCXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9yZXN1bHQgewogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6ICMxNjFCMjI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAyNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzMDM2M0Q7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDVweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDQwMHB4KTsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfcmVzdWx0SGVhZGVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogMjVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDI1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZ2FtZVBvc3RlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1heC13aWR0aDogMzIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzIxMjYyRDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9nYW1lUG9zdGVyIGltZyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2dhbWVJbmZvTWFpbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZ2FtZVRpdGxlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMjZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjQzlEMUQ5OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luOiAwIDAgMTJweCAwOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxLjI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfcmV2aWV3UmF0aW5nIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA2cHggMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzAzNjNEOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX3Jldmlld1JhdGluZy5wb3NpdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiByZ2JhKDM1LCAxMzQsIDU0LCAwLjIpOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM1NmQzNjQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6IHJnYmEoNTYsIDEzOSwgMjUzLCAwLjMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX3Jldmlld1JhdGluZy5taXhlZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiByZ2JhKDE4NywgMTI4LCA5LCAwLjIpOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNlM2IzNDE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6IHJnYmEoMTg3LCAxMjgsIDksIDAuNCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfcmV2aWV3UmF0aW5nLm5lZ2F0aXZlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6IHJnYmEoMjQ4LCA4MSwgNzMsIDAuMTUpOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNmODUxNDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6IHJnYmEoMjQ4LCA4MSwgNzMsIDAuMyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfc3RlYW1MaW5rIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM1OEE2RkY7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogOXB4IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzg4QkZEOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzLCBjb2xvciAwLjJzOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9zdGVhbUxpbms6aG92ZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzM4OEJGRDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZmZmZmZmOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2ljb24gewogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tcmlnaHQ6IDZweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9nYW1lQ29udGVudCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBncmlkOwogICAgICAgICAgICAgICAgICAgICAgICAJZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBtaW5tYXgoMCwgM2ZyKSBtaW5tYXgoMCwgMmZyKTsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogMjVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZ2FtZURlc2NyaXB0aW9uIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxLjY7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzhCOTQ5RTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXgtaGVpZ2h0OiAxNTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLXJpZ2h0OiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZ2FtZURlc2NyaXB0aW9uOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogNnB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2dhbWVEZXNjcmlwdGlvbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogIzBEMTExNzsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9nYW1lRGVzY3JpcHRpb246Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQ6ICMzMDM2M0Q7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZ2FtZVRhZ3MgewogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl90YWcgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogcmdiYSg4OCwgMTY2LCAyNTUsIDAuMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDVweCAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkIHJnYmEoODgsIDE2NiwgMjU1LCAwLjIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAuc3IyX2xhdW5jaEJ1dHRvbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBpbmxpbmUtZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlnYXA6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxMnB4IDI1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9nYW1lRGV0YWlscyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMEQxMTE3OwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMyMTI2MkQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZGV0YWlsSXRlbSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy1ib3R0b206IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItYm90dG9tOiAxcHggc29saWQgIzIxMjYyRDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9kZXRhaWxJdGVtOmxhc3QtY2hpbGQgewogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLWJvdHRvbTogMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9kZXRhaWxMYWJlbCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzU4QTZGRjsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsZXR0ZXItc3BhY2luZzogMC41cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfZGV0YWlsVmFsdWUgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfY29uZmlybU1vZGFsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRvcDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgCWxlZnQ6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTsKICAgICAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDIwMDAzOwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9jb25maXJtTW9kYWxDb250ZW50IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMxNjFCMjI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzMwMzYzRDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLnNyMl9jb25maXJtTW9kYWxDb250ZW50IGg0IHsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNDOUQxRDk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfY29uZmlybU1vZGFsQ29udGVudCBwIHsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC5zcjJfY29uZmlybU1vZGFsQWN0aW9ucyBidXR0b24gewogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luOiAwIDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDkwMHB4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkjc3IyX21haW5Db250YWluZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3NyMl9sZWZ0Q29udHJvbHNQYW5lbCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJYm9yZGVyLXJpZ2h0OiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAJCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjEyNjJEOwogICAgICAgICAgICAgICAgICAgICAgICAJCW1heC1oZWlnaHQ6IDQwdmg7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAgICAgICAgIAkjc3IyX3JpZ2h0Q29udGVudEFyZWEgewogICAgICAgICAgICAgICAgICAgICAgICAJCXBhZGRpbmctdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJCWZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAgICAgICAgIAkuc3IyX2dhbWVDb250ZW50IHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAgICAgICAgIAkjc3IyX3ZpZXdGbGlwcGVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQltaW4taGVpZ2h0OiAyNTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkjc3IyX2hlYWRlclBhbmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3NyMl9tb2RhbFRpdGxlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3NyMl9sZWZ0Q29udHJvbHNQYW5lbCwKICAgICAgICAgICAgICAgICAgICAgICAgCSNzcjJfcmlnaHRDb250ZW50QXJlYSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJcGFkZGluZzogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAgICAgICAgIAkuc3IyX3Jlc3VsdEhlYWRlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgCQlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCS5zcjJfZ2FtZVBvc3RlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCS5zcjJfcmVzdWx0IHsKICAgICAgICAgICAgICAgICAgICAgICAgCQltYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMzUwcHgpOwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCSNzcjJfdmlld0ZsaXBwZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJCW1pbi1oZWlnaHQ6IDIwMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3N0ZWxpY2FzUm91bGV0dGVIZWxwTW9kYWwgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMywgMTcsIDIzLCAwLjkpOwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfc3RlbGljYXNSb3VsZXR0ZUhlbHBNb2RhbD5kaXYgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzE2MUIyMjsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjQzlEMUQ5OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzMwMzYzRDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjYpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3N0ZWxpY2FzUm91bGV0dGVIZWxwTW9kYWwgaDMgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM1OEE2RkY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICNzcjJfc3RlbGljYXNSb3VsZXR0ZUhlbHBNb2RhbCBhIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjNThBNkZGOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjc3IyX3N0ZWxpY2FzUm91bGV0dGVIZWxwTW9kYWwgYnV0dG9uLnNyMl9idG5QcmltYXJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMyMzg2MzY7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6ICMyZWEwNDM7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2ZmZmZmZjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3NyMl9zdGVsaWNhc1JvdWxldHRlSGVscE1vZGFsIGJ1dHRvbi5zcjJfYnRuUHJpbWFyeTpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMmVhMDQzOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjM2ZiOTUwOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNyMl9hZGRNb2RhbFN0eWxlcygpOwogICAgICAgICAgICBzcjJfYWRkUm91bGV0dGVCbG9jaygpOwoKICAgICAgICB9KSgpOwogICAgfQoKICAgIC8vINCh0LrRgNC40L/RgiAi0J3QsNCx0LvRjtC00LDRgtC10LvRjCI6INCe0YLRgdC70LXQttC40LLQsNC90LjQtSDQuNC30LzQtdC90LXQvdC40Lkg0LTQsNGCL9GB0YLQsNGC0YPRgdCwINC40LPRgCAo0LLQuNGI0LvQuNGB0YIv0LHQuNCx0LvQuNC+0YLQtdC60LApINC4INC/0L7QutCw0Lcg0LrQsNC70LXQvdC00LDRgNGPINGA0LXQu9C40LfQvtCyCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5TbGVkaWxrYSkgewogICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgICAgICAgZnVuY3Rpb24gcnVuRGF0YU1pZ3JhdGlvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IE1JR1JBVElPTl9GTEFHID0gJ1VTRV9TbGVkaWxrYV9taWdyYXRlZF92Ml9mcm9tX3dpc2hsaXN0VHJhY2tlcic7CiAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoTUlHUkFUSU9OX0ZMQUcsIGZhbHNlKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBPTERfS0VZUyA9IHsKICAgICAgICAgICAgICAgICAgICBOT1RJRklDQVRJT05TOiAnVVNFX1dpc2hsaXN0X25vdGlmaWNhdGlvbnMnLAogICAgICAgICAgICAgICAgICAgIEdBTUVfREFUQTogJ1VTRV9XaXNobGlzdF9nYW1lRGF0YScsCiAgICAgICAgICAgICAgICAgICAgTEFTVF9VUERBVEU6ICdVU0VfV2lzaGxpc3RfbGFzdFVwZGF0ZScKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgY29uc3QgTkVXX0tFWVMgPSB7CiAgICAgICAgICAgICAgICAgICAgTk9USUZJQ0FUSU9OUzogJ1VTRV9TbGVkaWxrYV9ub3RpZmljYXRpb25zJywKICAgICAgICAgICAgICAgICAgICBXSVNITElTVF9HQU1FX0RBVEE6ICdVU0VfU2xlZGlsa2Ffd2lzaGxpc3RHYW1lRGF0YScsCiAgICAgICAgICAgICAgICAgICAgTEFTVF9VUERBVEVfV0lTSExJU1Q6ICdVU0VfU2xlZGlsa2FfbGFzdFVwZGF0ZVdpc2hsaXN0JwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjb25zdCBvbGRHYW1lRGF0YSA9IEdNX2dldFZhbHVlKE9MRF9LRVlTLkdBTUVfREFUQSk7CiAgICAgICAgICAgICAgICBjb25zdCBuZXdHYW1lRGF0YSA9IEdNX2dldFZhbHVlKE5FV19LRVlTLldJU0hMSVNUX0dBTUVfREFUQSk7CgogICAgICAgICAgICAgICAgaWYgKG9sZEdhbWVEYXRhICE9PSB1bmRlZmluZWQgJiYgbmV3R2FtZURhdGEgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKE9MRF9LRVlTLkdBTUVfREFUQSk7CiAgICAgICAgICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUoT0xEX0tFWVMuTk9USUZJQ0FUSU9OUyk7CiAgICAgICAgICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUoT0xEX0tFWVMuTEFTVF9VUERBVEUpOwogICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKE1JR1JBVElPTl9GTEFHLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKG9sZEdhbWVEYXRhICE9PSB1bmRlZmluZWQgJiYgbmV3R2FtZURhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZE5vdGlmaWNhdGlvbnMgPSBHTV9nZXRWYWx1ZShPTERfS0VZUy5OT1RJRklDQVRJT05TKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRMYXN0VXBkYXRlID0gR01fZ2V0VmFsdWUoT0xEX0tFWVMuTEFTVF9VUERBVEUpOwoKICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShORVdfS0VZUy5XSVNITElTVF9HQU1FX0RBVEEsIG9sZEdhbWVEYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZE5vdGlmaWNhdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBBcnJheS5pc0FycmF5KG9sZE5vdGlmaWNhdGlvbnMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVkTm90aWZpY2F0aW9ucyA9IG9sZE5vdGlmaWNhdGlvbnMubWFwKG4gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld05vdGlmID0geyAuLi5uIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Tm90aWYuaGFzT3duUHJvcGVydHkoJ3d0cmVhZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm90aWYucmVhZCA9IG5ld05vdGlmLnd0cmVhZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV3Tm90aWYud3RyZWFkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb3RpZi5yZWFkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld05vdGlmLnNvdXJjZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vdGlmLnNvdXJjZSA9ICd3aXNobGlzdCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3Tm90aWY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShORVdfS0VZUy5OT1RJRklDQVRJT05TLCBtaWdyYXRlZE5vdGlmaWNhdGlvbnMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAob2xkTGFzdFVwZGF0ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKE5FV19LRVlTLkxBU1RfVVBEQVRFX1dJU0hMSVNULCBvbGRMYXN0VXBkYXRlKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKE9MRF9LRVlTLkdBTUVfREFUQSk7CiAgICAgICAgICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUoT0xEX0tFWVMuTk9USUZJQ0FUSU9OUyk7CiAgICAgICAgICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUoT0xEX0tFWVMuTEFTVF9VUERBVEUpOwoKICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShNSUdSQVRJT05fRkxBRywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoTUlHUkFUSU9OX0ZMQUcsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bkRhdGFNaWdyYXRpb24oKTsKCiAgICAgICAgICAgIGNvbnN0IFNMRURJTEtBX1BSRUZJWCA9ICdVU0VfU2xlZGlsa2FfJzsKICAgICAgICAgICAgY29uc3QgU1RPUkFHRV9LRVlTID0gewogICAgICAgICAgICAgICAgTEFTVF9VUERBVEVfV0lTSExJU1Q6IFNMRURJTEtBX1BSRUZJWCArICdsYXN0VXBkYXRlV2lzaGxpc3QnLAogICAgICAgICAgICAgICAgTEFTVF9VUERBVEVfTElCUkFSWTogU0xFRElMS0FfUFJFRklYICsgJ2xhc3RVcGRhdGVMaWJyYXJ5JywKICAgICAgICAgICAgICAgIE5PVElGSUNBVElPTlM6IFNMRURJTEtBX1BSRUZJWCArICdub3RpZmljYXRpb25zJywKICAgICAgICAgICAgICAgIFdJU0hMSVNUX0dBTUVfREFUQTogU0xFRElMS0FfUFJFRklYICsgJ3dpc2hsaXN0R2FtZURhdGEnLAogICAgICAgICAgICAgICAgT1dORURfQVBQU19EQVRBOiBTTEVESUxLQV9QUkVGSVggKyAnb3duZWRBcHBzRGF0YScsCiAgICAgICAgICAgICAgICBPV05FRF9DSEVDS0VEX1YyOiBTTEVESUxLQV9QUkVGSVggKyAnb3duZWRDaGVja2VkVjInLAogICAgICAgICAgICAgICAgVVBEQVRFX1NFVFRJTkdTOiBTTEVESUxLQV9QUkVGSVggKyAndXBkYXRlU2V0dGluZ3MnCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBjYWxlbmRhckljb24gPSBgPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xOSA0aC0xVjJoLTJ2Mkg4VjJINnYySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNmMwLTEuMS0uOS0yLTItMnpNNSAyMFYxMGgxNHYxMEg1ek05IDE0SDd2LTJoMnYyem00IDBoLTJ2LTJoMnYyem00IDBoLTJ2LTJoMnYyem0tOCA0SDd2LTJoMnYyem00IDBoLTJ2LTJoMnYyem00IDBoLTJ2LTJoMnYyeiIvPjwvc3ZnPmA7CiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VJY29uID0gYDxzdmcgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB2ZXJzaW9uPSIxLjEiIGlkPSJfeDMyXyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MF9zbGVkaWxrYV9zdG9yYWdle2ZpbGw6I0M2RDRERjt9PC9zdHlsZT48Zz48cGF0aCBjbGFzcz0ic3QwX3NsZWRpbGthX3N0b3JhZ2UiIGQ9Ik0wLDE3LjA2N1YxNTMuNmg1MTJWMTcuMDY3SDB6IE0xMTAuOTMzLDExMC45MjVoLTUxLjJ2LTUxLjJoNTEuMlYxMTAuOTI1eiIvPjxwYXRoIGNsYXNzPSJzdDBfc2xlZGlsa2Ffc3RvcmFnZSIgZD0iTTAsMzI0LjI2N2g1MTJWMTg3LjczM0gwVjMyNC4yNjd6IE01OS43MzMsMjMwLjM5MWg1MS4ydjUxLjJoLTUxLjJWMjMwLjM5MXoiLz48cGF0aCBjbGFzcz0ic3QwX3NsZWRpbGthX3N0b3JhZ2UiIGQ9Ik0wLDQ5NC45MzNoNTEyVjM1OC40SDBWNDk0LjkzM3ogTTU5LjczMyw0MDEuMDU4aDUxLjJ2NTEuMmgtNTEuMlY0MDEuMDU4eiIvPjwvZz48L3N2Zz5gOwogICAgICAgICAgICBjb25zdCBzZXR0aW5nc0ljb24gPSBgPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIj48cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLS4wOS40OSAwIC42MS0uMjJsMi0zLjQ2Yy4xMi0uMjIuMDctLjQ5LS4xMi0uNjRsLTIuMTEtMS42NXpNMTIgMTUuNWMtMS45MyAwLTMuNS0xLjU3LTMuNS0zLjVzMS41Ny0zLjUgMy41LTMuNSAzLjUgMS41NyAzLjUgMy41LTEuNTcgMy41LTMuNSAzLjV6Ii8+PC9zdmc+YDsKICAgICAgICAgICAgY29uc3QgZW52ZWxvcGVJY29ucyA9IHsKICAgICAgICAgICAgICAgIHVucmVhZDogYDxzdmcgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMzIgMzIiIGZpbGw9IiM2N2MxZjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE2LjAxNSAxOC44NjFsLTQuMDcyLTMuMzQzLTguODYyIDEwLjQ2M2gyNS44NzZsLTguODYzLTEwLjU2Ny00LjA3OSAzLjQ0N3pNMjkuOTI2IDYuMDE5aC0yNy44MTVsMTMuOTA4IDExLjY5OCAxMy45MDctMTEuNjk4ek0yMC43MDUgMTQuODg3bDkuMjkxIDExLjA4NHYtMTguOTUybC05LjI5MSA3Ljg2OHpNMi4wMDQgNy4wMTl2MTguOTUybDkuMjkxLTExLjA4NC05LjI5MS03Ljg2OHoiLz48L3N2Zz5gLAogICAgICAgICAgICAgICAgcmVhZDogYDxzdmcgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMzIgMzIiIGZpbGw9IiM4Zjk4YTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIwLjEzOSAxOC45MzRsOS43ODctNy45OTktMTMuOTI2LTkuODMzLTEzLjg5IDkuODMzIDkuODI0IDguMDMyIDguMjA1LTAuMDMzek0xMi4zNiAxOS45MzZsLTkuMjc5IDEwLjk2MmgyNS44NzZsLTkuMzYzLTEwLjktNy4yMzQtMC4wNjJ6TTIwLjcwNSAxOS44MDNsOS4yOTEgMTEuMDg0di0xOC45NTJsLTkuMjkxIDcuODY4ek0yLjAwNCAxMS45MzV2MTguOTUybDkuMjkxLTExLjA4NC05LjI5MS03Ljg2OHoiLz48L3N2Zz5gCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBCQVRDSF9TSVpFID0gMjAwOwogICAgICAgICAgICBjb25zdCBNSUxMSVNFQ09ORFNfSU5fSE9VUiA9IDYwICogNjAgKiAxMDAwOwogICAgICAgICAgICBjb25zdCBBUElfUkVUUllfREVMQVkgPSAzMDAwOwogICAgICAgICAgICBjb25zdCBNQVhfQVBJX1JFVFJJRVMgPSAyOwoKICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBHTV9nZXRWYWx1ZShTVE9SQUdFX0tFWVMuTk9USUZJQ0FUSU9OUywgW10pOwogICAgICAgICAgICBsZXQgaXNQYW5lbE9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgbGV0IHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgICAgICAgbGV0IHBvc2l0aW9uQ2hlY2tJbnRlcnZhbDsKICAgICAgICAgICAgbGV0IG11dGF0aW9uT2JzZXJ2ZXI7CgogICAgICAgICAgICBmdW5jdGlvbiBydW5PbmVUaW1lTWlncmF0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdVU0VfU2xlZGlsa2Ffb3duZWRDaGVja2VkJykgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdVU0VfU2xlZGlsa2Ffb3duZWRDaGVja2VkJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ1VTRV9TbGVkaWxrYV9sYXN0VXBkYXRlJykgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdVU0VfU2xlZGlsa2FfbGFzdFVwZGF0ZScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bk9uZVRpbWVNaWdyYXRpb24oKTsKCiAgICAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1jb250YWluZXIgewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogOTk5OwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMsIDI2LCAzMywgMC45KTsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNjN2Q1ZTA7CiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJNb3RpdmEgU2FucyIsIFNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLWJ1dHRvbiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjEpOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDdweCAxMnB4OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOwogICAgICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLWJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1ub3RpZmljYXRpb24tYmFkZ2UgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDNweCA2cHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMjBweDsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc3RhdHVzLWluZGljYXRvci1ncm91cCB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICBnYXA6IDRweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc3RhdHVzLWluZGljYXRvciB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzRhNTU2MjsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogM3B4IDZweDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiA0MHB4OwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogaGVscDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc3RhdHVzLW9rIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNGE1NTYyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zdGF0dXMtd2FybmluZyB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzRhNTU2MjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc3RhdHVzLWFsZXJ0MSB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzY2NWMzYTsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZDcwMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc3RhdHVzLWFsZXJ0MiB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzgwNGQ0ZDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmYjNiMzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc3RhdHVzLWNyaXRpY2FsIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZTYwMDAwOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zdGF0dXMtdW5rbm93biB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzFiMjgzODsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2EtcGFuZWwgewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgICAgICByaWdodDogMTMycHg7CiAgICAgICAgICAgICAgICAgICAgdG9wOiA1MHB4OwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogNTUwcHg7CiAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogNzB2aDsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7CiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2EtcGFuZWwtaGVhZGVyIHsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzE3MWEyMTsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMmE0NzVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1wYW5lbC10aXRsZSB7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXBhbmVsLWNvbnRyb2xzIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIGdhcDogNXB4OwogICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXBhbmVsLWNvbnRyb2xzIGJ1dHRvbiB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgzMCwgNDUsIDYwLCAwLjcpOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA2cHggMTBweDsKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OwogICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzIGVhc2UsIGJveC1zaGFkb3cgMC4ycyBlYXNlOwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgZ2FwOiA0cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXBhbmVsLWNvbnRyb2xzIGJ1dHRvbjpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSg0MCwgNjAsIDgwLCAwLjkpOwogICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuNCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXBhbmVsLWNvbnRyb2xzIGJ1dHRvbjphY3RpdmU6bm90KDpkaXNhYmxlZCkgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDQ1LCA2MCwgMC42KTsKICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1wYW5lbC1jb250cm9scyBidXR0b246ZGlzYWJsZWQgewogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNTsKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1wYW5lbC1jb250cm9scyBidXR0b24gc3ZnIHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTZweDsKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE2cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXNldHRpbmdzLWNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1zZXR0aW5ncy1idG4gewogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDZweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc2V0dGluZ3MtZHJvcGRvd24gewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNzFhMjE7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzJhNDc1ZTsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjUwcHg7CiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAzcHggOHB4IHJnYmEoMCwgMCwgMCwgMC40KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc2V0dGluZ3MtZHJvcGRvd24gbGFiZWwgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1zZXR0aW5ncy1kcm9wZG93biBsYWJlbC5kaXNhYmxlZCB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM1YzYyNmE7CiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1zZXR0aW5ncy1kcm9wZG93biBpbnB1dCB7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICAgICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAgICAgICAgICAgICBhY2NlbnQtY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NsZWRpbGthTGlicmFyeVN1YlNldHRpbmdzIHsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMmE0NzVlOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctdG9wOiA1cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXBhbmVsLWNvbnRlbnQgewogICAgICAgICAgICAgICAgICAgIGZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjsKICAgICAgICAgICAgICAgICAgICBzY3JvbGxiYXItY29sb3I6ICM0YjZmOWMgIzFiMjgzODsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2EtcGFuZWwtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXBhbmVsLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMWIyODM4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1wYW5lbC1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLW5vdGlmaWNhdGlvbi1pdGVtIHsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyYTQ3NWU7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zczsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etbm90aWZpY2F0aW9uLWNvbnRlbnQgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgZ2FwOiAxMnB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1ub3RpZmljYXRpb24taW1hZ2UgewogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MHB4OwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDVweDsKICAgICAgICAgICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgICAgICAgICBmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLW5vdGlmaWNhdGlvbi10ZXh0IHsKICAgICAgICAgICAgICAgICAgICBmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLW5vdGlmaWNhdGlvbi1nYW1lLXRpdGxlIHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzY2YzBmNDsKICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etbm90aWZpY2F0aW9uLXR5cGUgewogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etbm90aWZpY2F0aW9uLWRldGFpbHMgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDsKICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS40OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1ub3RpZmljYXRpb24tdGltZXN0YW1wIHsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDExcHg7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM1NTY3NzI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLW5vdGlmaWNhdGlvbi11bnJlYWQgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTAyLCAxOTIsIDI0NCwgMC4xKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etbm90aWZpY2F0aW9uLWNvbnRyb2xzIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLW5vdGlmaWNhdGlvbi1jb250cm9sIHsKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE4cHg7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxOHB4OwogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNzsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1ub3RpZmljYXRpb24tY29udHJvbDpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2EtZGVsZXRlLWJ0biB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2Qzc3ODE7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxOwogICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMnMgZWFzZSwgdHJhbnNmb3JtIDAuMXMgZWFzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2EtZGVsZXRlLWJ0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM4Rjk4QTA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLWRlbGV0ZS1idG46YWN0aXZlIHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzgwMDAwMDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLWxvYWRpbmctaW5kaWNhdG9yLAogICAgICAgICAgICAgICAgLnNsZWRpbGthLWVycm9yLWluZGljYXRvciB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1lcnJvci1pbmRpY2F0b3IgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmY0NzQ3OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbGVkaWxrYS1wcm9ncmVzcy1iYXIgewogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNHB4OwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYTQ3NWU7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogLTFweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2EtcHJvZ3Jlc3MtYmFyLWlubmVyIHsKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAlOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5jYWxlbmRhci13dG1vZGFsLmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5jYWxlbmRhci13dG1vZGFsIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA4MHZoOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMzBweCByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwMDAwOwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5jYWxlbmRhci1oZWFkZXIgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyYTQ3NWU7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItdGl0bGUgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjVweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItY2xvc2UgewogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDU0cHg7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5jYWxlbmRhci1jbG9zZTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLmNhbGVuZGFyLWNvbnRlbnQgewogICAgICAgICAgICAgICAgICAgIGZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluOwogICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogIzRiNmY5YyAjMWIyODM4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5jYWxlbmRhci1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDZweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLmNhbGVuZGFyLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGI2ZjljOwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItbW9udGggewogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLm1vbnRoLWhlYWRlciB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLmNhbGVuZGFyLWdyaWQgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTsKICAgICAgICAgICAgICAgICAgICBnYXA6IDJweDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItZ3JpZD5kaXY6bm90KC5jYWxlbmRhci1kYXkpIHsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDA7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzFiMjgzODsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItZGF5IHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMmE0NzVlOwogICAgICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDY5cHg7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjBweCA1cHggNXB4IDVweDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgIGdhcDogM3B4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5kYXktbnVtYmVyIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgdG9wOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDVweDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwMDAzCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLmNhbGVuZGFyLWdhbWUgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDVweCAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDVweDsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDQyLCA3MSwgOTQsIDAuNSk7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4yczsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogaW5oZXJpdDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItZ2FtZTpub3QoOmxhc3QtY2hpbGQpOjphZnRlciB7CiAgICAgICAgICAgICAgICAgICAgY29udGVudDogIiI7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgICAgIGJvdHRvbTogLTdweDsKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMXB4OwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdHJhbnNwYXJlbnQgMCUsIHJnYmEoMTAzLCAxOTMsIDI0NSwgMC4zKSAyMCUsIHJnYmEoMTAzLCAxOTMsIDI0NSwgMC40KSA1MCUsIHJnYmEoMTAzLCAxOTMsIDI0NSwgMC4zKSA4MCUsIHRyYW5zcGFyZW50IDEwMCUpOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuY2FsZW5kYXItZ2FtZS1hcHByb3hpbWF0ZSAuY2FsZW5kYXItZ2FtZS10aXRsZSB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNGRkQ1ODAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLmNhbGVuZGFyLWdhbWU6aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoNjcsIDEwMywgMTMzLCAwLjUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5jYWxlbmRhci1nYW1lLWltYWdlIHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwcHg7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0NXB4OwogICAgICAgICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgICAgICAgICAgICAgICAgICBmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLmNhbGVuZGFyLWdhbWUtdGl0bGUgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS4yOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5sb2FkLW1vcmUtbW9udGhzIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAubG9hZC1tb3JlLWJ0biB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjEpOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAubG9hZC1tb3JlLWJ0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC53dC10b29sdGlwIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC53dC10b29sdGlwIC53dC10b29sdGlwdGV4dCB7CiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMjBweDsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTcxYTIxOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTJweDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAycHg7CiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzY3YzFmNTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAud3QtdG9vbHRpcDpob3ZlciAud3QtdG9vbHRpcHRleHQgewogICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7CiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc3RvcmFnZS1tb2RhbCB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwMDAxOwogICAgICAgICAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDNweCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXN0b3JhZ2UtbW9kYWwtY29udGVudCB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFmMmMzYTsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDE1JSBhdXRvOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDI1cHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogODAlOwogICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXN0b3JhZ2UtbW9kYWwtY2xvc2UgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYWFhOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICB0b3A6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyOHB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc3RvcmFnZS1tb2RhbC1jbG9zZTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXN0b3JhZ2UtbW9kYWwgaDMgewogICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNsZWRpbGthLXN0b3JhZ2UtbW9kYWwgYnV0dG9uIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGE1NTYyOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTJweCAyMHB4OwogICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTBweDsKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiAyMDBweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc2xlZGlsa2Etc3RvcmFnZS1tb2RhbCBidXR0b246aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1YTY5Nzg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBgKTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXRyeVBvc2l0aW9uQ2hlY2soKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uQ2hlY2tJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChwb3NpdGlvbkNoZWNrSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGNyZWF0ZVNsZWRpbGthVUkucG9zaXRpb25CdXR0b25TYWZlbHksIDMwMCk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbkNoZWNrSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwocG9zaXRpb25DaGVja0ludGVydmFsKTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc3RvcFBvc2l0aW9uVHJhY2tpbmcoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uQ2hlY2tJbnRlcnZhbCkgewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHBvc2l0aW9uQ2hlY2tJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2hlY2tJbnRlcnZhbCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldHVwTXV0YXRpb25PYnNlcnZlcih0YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb25PYnNlcnZlcikgbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5lZWRzVXBkYXRlID0gbXV0YXRpb25zLnNvbWUobXV0YXRpb24gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGggPiAwOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyZWF0ZVNsZWRpbGthVUkucG9zaXRpb25CdXR0b25TYWZlbHkgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGVkaWxrYVVJLnBvc2l0aW9uQnV0dG9uU2FmZWx5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ3N0eWxlJywgJ2NsYXNzJ10KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNsZWRpbGthVUkoKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbEdsb2JhbEFjdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsX2FjdGlvbnMnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWluaXRpYWxHbG9iYWxBY3Rpb25zQ29udGFpbmVyKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxBdmF0YXJMaW5rID0gaW5pdGlhbEdsb2JhbEFjdGlvbnNDb250YWluZXIucXVlcnlTZWxlY3RvcignYS51c2VyX2F2YXRhcicpOwogICAgICAgICAgICAgICAgICAgIGlmICghaW5pdGlhbEF2YXRhckxpbmspIHsgcmV0dXJuOyB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGVkaWxrYS1jb250YWluZXInKSkgeyByZXR1cm47IH0KCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlU2V0dGluZ3MgPSBHTV9nZXRWYWx1ZShTVE9SQUdFX0tFWVMuVVBEQVRFX1NFVFRJTkdTLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUnVzc2lhbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVjaGVja1BhcnRpYWw6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2EtYnV0dG9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7QndCw0LHQu9GO0LTQsNGC0LXQu9GMPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsZWRpbGthLXN0YXR1cy1pbmRpY2F0b3ItZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2Etc3RhdHVzLWluZGljYXRvciBzbGVkaWxrYS1zdGF0dXMtd2lzaGxpc3Qgc3RhdHVzLXVua25vd24iIHRpdGxlPSLQktGA0LXQvNGPINC+0LHQvdC+0LLQu9C10L3QuNGPINGB0L/QuNGB0LrQsCDQttC10LvQsNC10LzQvtCz0L4iPtCWOj8/PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1zdGF0dXMtaW5kaWNhdG9yIHNsZWRpbGthLXN0YXR1cy1saWJyYXJ5IHN0YXR1cy11bmtub3duIiB0aXRsZT0i0JLRgNC10LzRjyDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsdC40LHQu9C40L7RgtC10LrQuCI+0JE6Pz88L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1ub3RpZmljYXRpb24tYmFkZ2UiPiR7Z2V0VW5yZWFkQ291bnQoKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2EtcGFuZWwiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1wYW5lbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1wYW5lbC10aXRsZSI+0KPQstC10LTQvtC80LvQtdC90LjRjzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1wYW5lbC1jb250cm9scyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1zZXR0aW5ncy1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNsZWRpbGthLXNldHRpbmdzLWJ0biIgdGl0bGU9ItCd0LDRgdGC0YDQvtC50LrQuCDQvtCx0L3QvtCy0LvQtdC90LjRjyI+JHtzZXR0aW5nc0ljb259PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2Etc2V0dGluZ3MtZHJvcGRvd24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic2xlZGlsa2FVcGRhdGVXaXNobGlzdCIgJHt1cGRhdGVTZXR0aW5ncy53aXNobGlzdCA/ICdjaGVja2VkJyA6ICcnfT4g0KHQv9C40YHQvtC6INC20LXQu9Cw0LXQvNC+0LPQvjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzbGVkaWxrYVVwZGF0ZUxpYnJhcnkiICR7dXBkYXRlU2V0dGluZ3MubGlicmFyeSA/ICdjaGVja2VkJyA6ICcnfT4g0JHQuNCx0LvQuNC+0YLQtdC60LA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzbGVkaWxrYUxpYnJhcnlTdWJTZXR0aW5ncyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic2xlZGlsa2FSZWNoZWNrUnVzc2lhbiIgJHt1cGRhdGVTZXR0aW5ncy5yZWNoZWNrUnVzc2lhbiA/ICdjaGVja2VkJyA6ICcnfT4g0J/QtdGA0LXQv9GA0L7QstC10YDRj9GC0Ywg0LjQs9GA0Ysg0YEg0YDRg9GB0YHQutC40Lw8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGlkPSJzbGVkaWxrYVJlY2hlY2tQYXJ0aWFsTGFiZWwiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNsZWRpbGthUmVjaGVja1BhcnRpYWwiICR7dXBkYXRlU2V0dGluZ3MucmVjaGVja1BhcnRpYWwgPyAnY2hlY2tlZCcgOiAnJ30+IC4uLtGC0L7Qu9GM0LrQviDQsdC10Lcg0L/QvtC70L3QvtC5INC70L7QutCw0LvQuNC30LDRhtC40Lg8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2xlZGlsa2EtcmVmcmVzaC1idG4iPuKfsyDQntCx0L3QvtCy0LjRgtGMPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzbGVkaWxrYS1jbGVhci1idG4iPsOXINCe0YfQuNGB0YLQuNGC0Yw8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNsZWRpbGthLWNhbGVuZGFyLWJ0biI+JHtjYWxlbmRhckljb259PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzbGVkaWxrYS1zdG9yYWdlLWJ0biI+JHtzdG9yYWdlSWNvbn08L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsZWRpbGthLXByb2dyZXNzLWJhciI+PGRpdiBjbGFzcz0ic2xlZGlsa2EtcHJvZ3Jlc3MtYmFyLWlubmVyIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2EtcGFuZWwtY29udGVudCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCk7CiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEdsb2JhbEFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyWzBdKTsKCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcG9zaXRpb25CdXR0b25TYWZlbHkoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRHbG9iYWxBY3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsb2JhbF9hY3Rpb25zJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudEdsb2JhbEFjdGlvbnNDb250YWluZXIgfHwgIWNvbnRhaW5lclswXSB8fCAhY29udGFpbmVyWzBdLmlzQ29ubmVjdGVkKSB7IHN0b3BQb3NpdGlvblRyYWNraW5nKCk7IHJldHVybjsgfQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXZhdGFyTGluayA9IGN1cnJlbnRHbG9iYWxBY3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2EudXNlcl9hdmF0YXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50QXZhdGFyTGluaykgeyByZXRyeVBvc2l0aW9uQ2hlY2soKTsgcmV0dXJuOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEocmVjdC53aWR0aCA9PT0gMCAmJiByZWN0LmhlaWdodCA9PT0gMCAmJiBlbGVtZW50Lm9mZnNldFdpZHRoID09PSAwICYmIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID09PSAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Zpc2libGUoY3VycmVudEF2YXRhckxpbmspKSB7IHJldHJ5UG9zaXRpb25DaGVjaygpOyByZXR1cm47IH0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZhdGFyUmVjdCA9IGN1cnJlbnRBdmF0YXJMaW5rLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxBY3Rpb25zUmVjdCA9IGN1cnJlbnRHbG9iYWxBY3Rpb25zQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbGVkaWxrYVZpZXdwb3J0VG9wID0gYXZhdGFyUmVjdC50b3A7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsZWRpbGthVmlld3BvcnRMZWZ0ID0gYXZhdGFyUmVjdC5yaWdodCArIDQ1OwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbGVkaWxrYUNvbnRhaW5lclRvcCA9IHNsZWRpbGthVmlld3BvcnRUb3AgLSBnbG9iYWxBY3Rpb25zUmVjdC50b3A7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsZWRpbGthQ29udGFpbmVyTGVmdCA9IHNsZWRpbGthVmlld3BvcnRMZWZ0IC0gZ2xvYmFsQWN0aW9uc1JlY3QubGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNzcyh7IHRvcDogc2xlZGlsa2FDb250YWluZXJUb3AgKyAncHgnLCBsZWZ0OiBzbGVkaWxrYUNvbnRhaW5lckxlZnQgKyAncHgnLCB2aXNpYmlsaXR5OiAndmlzaWJsZScgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lclswXSAmJiBjb250YWluZXJbMF0uaXNDb25uZWN0ZWQgJiYgY3VycmVudEF2YXRhckxpbmsgJiYgY3VycmVudEF2YXRhckxpbmsuaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3N0UmVjdCA9IGNvbnRhaW5lclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXZlQXZhdGFyUmVjdCA9IGN1cnJlbnRBdmF0YXJMaW5rLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0UmVjdC5sZWZ0IDwgbGl2ZUF2YXRhclJlY3QucmlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNzcygnbGVmdCcsIChzbGVkaWxrYUNvbnRhaW5lckxlZnQgKyA1MCkgKyAncHgnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BQb3NpdGlvblRyYWNraW5nKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwTXV0YXRpb25PYnNlcnZlcihjdXJyZW50R2xvYmFsQWN0aW9uc0NvbnRhaW5lcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNsZWRpbGthVUkucG9zaXRpb25CdXR0b25TYWZlbHkgPSBwb3NpdGlvbkJ1dHRvblNhZmVseTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHBvc2l0aW9uQnV0dG9uU2FmZWx5LCA3MDApOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IGNvbnRhaW5lci5maW5kKCcuc2xlZGlsa2EtcGFuZWwnKTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmluZCgnLnNsZWRpbGthLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgdG9nZ2xlUGFuZWwoKTsgfSk7CiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5zbGVkaWxrYS1yZWZyZXNoLWJ0bicpLm9uKCdjbGljaycsIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGlmICghdXBkYXRlSW5Qcm9ncmVzcykgdXBkYXRlRGF0YSgpOyB9KTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmluZCgnLnNsZWRpbGthLWNsZWFyLWJ0bicpLm9uKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INC+0YfQuNGB0YLQuNGC0Ywg0JLQodCVINGD0LLQtdC00L7QvNC70LXQvdC40Y8/IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNUT1JBR0VfS0VZUy5OT1RJRklDQVRJT05TLCBub3RpZmljYXRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU5vdGlmaWNhdGlvblBhbmVsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWRnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9JbmRpY2F0b3IoItCS0YHQtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPINC+0YfQuNGJ0LXQvdGLLiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5zbGVkaWxrYS1jYWxlbmRhci1idG4nKS5vbignY2xpY2snLCAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBzaG93Q2FsZW5kYXJNb2RhbCgpOyB9KTsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmluZCgnLnNsZWRpbGthLXN0b3JhZ2UtYnRuJykub24oJ2NsaWNrJywgKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgc2hvd1N0b3JhZ2VNb2RhbCgpOyB9KTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3NCdG4gPSBjb250YWluZXIuZmluZCgnLnNsZWRpbGthLXNldHRpbmdzLWJ0bicpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzRHJvcGRvd24gPSBjb250YWluZXIuZmluZCgnLnNsZWRpbGthLXNldHRpbmdzLWRyb3Bkb3duJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGliQ2hlY2sgPSAkKCcjc2xlZGlsa2FVcGRhdGVMaWJyYXJ5Jyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjaGVja1J1Q2hlY2sgPSAkKCcjc2xlZGlsa2FSZWNoZWNrUnVzc2lhbicpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2hlY2tQYXJ0aWFsQ2hlY2sgPSAkKCcjc2xlZGlsa2FSZWNoZWNrUGFydGlhbCcpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2hlY2tQYXJ0aWFsTGFiZWwgPSAkKCcjc2xlZGlsa2FSZWNoZWNrUGFydGlhbExhYmVsJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGliU3ViU2V0dGluZ3MgPSAkKCcjc2xlZGlsa2FMaWJyYXJ5U3ViU2V0dGluZ3MnKTsKCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlU3ViU2V0dGluZ3MoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpYklzQ2hlY2tlZCA9IGxpYkNoZWNrLmlzKCc6Y2hlY2tlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBsaWJTdWJTZXR0aW5ncy50b2dnbGUobGliSXNDaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaWJJc0NoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2hlY2tSdUNoZWNrLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUGFydGlhbENoZWNrLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUGFydGlhbExhYmVsLmFkZENsYXNzKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaGVja1J1Q2hlY2sucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVQYXJ0aWFsUmVjaGVja09wdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVQYXJ0aWFsUmVjaGVja09wdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjaGVja1J1SXNDaGVja2VkID0gcmVjaGVja1J1Q2hlY2suaXMoJzpjaGVja2VkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWNoZWNrUnVJc0NoZWNrZWQgfHwgIWxpYkNoZWNrLmlzKCc6Y2hlY2tlZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUGFydGlhbENoZWNrLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUGFydGlhbENoZWNrLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUGFydGlhbExhYmVsLmFkZENsYXNzKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaGVja1BhcnRpYWxDaGVjay5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2hlY2tQYXJ0aWFsTGFiZWwucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzRHJvcGRvd24uaXMoJzp2aXNpYmxlJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzRHJvcGRvd24uaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnRuUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkcm9wZG93bldpZHRoID0gc2V0dGluZ3NEcm9wZG93bi5vdXRlcldpZHRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0Ryb3Bkb3duLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAoYnRuUmVjdC5ib3R0b20gKyA1KSArICdweCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogKGJ0blJlY3QucmlnaHQgLSBkcm9wZG93bldpZHRoKSArICdweCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0Ryb3Bkb3duLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgJCgnI3NsZWRpbGthVXBkYXRlV2lzaGxpc3QsICNzbGVkaWxrYVVwZGF0ZUxpYnJhcnksICNzbGVkaWxrYVJlY2hlY2tSdXNzaWFuLCAjc2xlZGlsa2FSZWNoZWNrUGFydGlhbCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU3ViU2V0dGluZ3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXNobGlzdDogJCgnI3NsZWRpbGthVXBkYXRlV2lzaGxpc3QnKS5pcygnOmNoZWNrZWQnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnk6ICQoJyNzbGVkaWxrYVVwZGF0ZUxpYnJhcnknKS5pcygnOmNoZWNrZWQnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2hlY2tSdXNzaWFuOiAkKCcjc2xlZGlsa2FSZWNoZWNrUnVzc2lhbicpLmlzKCc6Y2hlY2tlZCcpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaGVja1BhcnRpYWw6ICQoJyNzbGVkaWxrYVJlY2hlY2tQYXJ0aWFsJykuaXMoJzpjaGVja2VkJykKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU1RPUkFHRV9LRVlTLlVQREFURV9TRVRUSU5HUywgbmV3U2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICB0b2dnbGVTdWJTZXR0aW5ncygpOwoKICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb3RpZmljYXRpb25QYW5lbCgpOwogICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQYW5lbE9wZW4gJiYgcGFuZWwuaXMoIjp2aXNpYmxlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0YXJnZXQuY2xvc2VzdCgnLnNsZWRpbGthLWNvbnRhaW5lcicpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVQYW5lbChmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2V0dGluZ3NEcm9wZG93bi5pcygnOnZpc2libGUnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRhcmdldC5jbG9zZXN0KCcuc2xlZGlsa2Etc2V0dGluZ3MtY29udGFpbmVyJykubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzRHJvcGRvd24uaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVQYW5lbCgpIHsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXNJbmRpY2F0b3IoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9ICQoJy5zbGVkaWxrYS1wYW5lbCcpOwogICAgICAgICAgICAgICAgICAgIHBhbmVsLnRvZ2dsZSgpOwogICAgICAgICAgICAgICAgICAgIGlzUGFuZWxPcGVuID0gIWlzUGFuZWxPcGVuOwogICAgICAgICAgICAgICAgICAgIGlmIChpc1BhbmVsT3BlbikgewogICAgICAgICAgICAgICAgICAgICAgICBwYW5lbC5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWRnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb3RpZmljYXRpb25QYW5lbCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaG93TG9hZGluZ0luZGljYXRvcihtZXNzYWdlID0gItCe0LHQvdC+0LLQu9C10L3QuNC1INC00LDQvdC90YvRhS4uLiIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYW5lbENvbnRlbnQgPSAkKCcuc2xlZGlsa2EtcGFuZWwtY29udGVudCcpOwogICAgICAgICAgICAgICAgICAgIHBhbmVsQ29udGVudC5maW5kKCcuc2xlZGlsa2EtbG9hZGluZy1pbmRpY2F0b3IsIC5zbGVkaWxrYS1lcnJvci1pbmRpY2F0b3InKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICBwYW5lbENvbnRlbnQucHJlcGVuZCgkKGA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1sb2FkaW5nLWluZGljYXRvciI+JHttZXNzYWdlfSA8c3BhbiBjbGFzcz0ic3Bpbm5lciI+PC9zcGFuPjwvZGl2PmApKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVMb2FkaW5nSW5kaWNhdG9yKCkgewogICAgICAgICAgICAgICAgICAgICQoJy5zbGVkaWxrYS1wYW5lbC1jb250ZW50IC5zbGVkaWxrYS1sb2FkaW5nLWluZGljYXRvcicpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dFcnJvckluZGljYXRvcihtZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFuZWxDb250ZW50ID0gJCgnLnNsZWRpbGthLXBhbmVsLWNvbnRlbnQnKTsKICAgICAgICAgICAgICAgICAgICBwYW5lbENvbnRlbnQuZmluZCgnLnNsZWRpbGthLWxvYWRpbmctaW5kaWNhdG9yLCAuc2xlZGlsa2EtZXJyb3ItaW5kaWNhdG9yJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSAkKGA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1lcnJvci1pbmRpY2F0b3IiPiR7bWVzc2FnZX08L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICBwYW5lbENvbnRlbnQucHJlcGVuZChlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBlcnJvci5yZW1vdmUoKSwgODAwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd0luZm9JbmRpY2F0b3IobWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhbmVsQ29udGVudCA9ICQoJy5zbGVkaWxrYS1wYW5lbC1jb250ZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgcGFuZWxDb250ZW50LmZpbmQoJy5zbGVkaWxrYS1sb2FkaW5nLWluZGljYXRvciwgLnNsZWRpbGthLWVycm9yLWluZGljYXRvcicpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSAkKGA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1sb2FkaW5nLWluZGljYXRvciIgc3R5bGU9ImNvbG9yOiAjNjdjMWY1OyI+JHttZXNzYWdlfTwvZGl2PmApOwogICAgICAgICAgICAgICAgICAgIHBhbmVsQ29udGVudC5wcmVwZW5kKGluZm8pOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaW5mby5yZW1vdmUoKSwgNDAwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3NCYXIocGVyY2VudGFnZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gJCgnLnNsZWRpbGthLXByb2dyZXNzLWJhcicpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFySW5uZXIgPSBwcm9ncmVzc0Jhci5maW5kKCcuc2xlZGlsa2EtcHJvZ3Jlc3MtYmFyLWlubmVyJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRhZ2UgPiAwICYmIHBlcmNlbnRhZ2UgPD0gMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXJJbm5lci5jc3MoJ3dpZHRoJywgYCR7cGVyY2VudGFnZX0lYCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0JhcklubmVyLmNzcygnd2lkdGgnLCAnMCUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9uVHlwZShub3RpZmljYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLnNvdXJjZSA9PT0gJ3dpc2hsaXN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdvbGREYXRlJyBpbiBub3RpZmljYXRpb24pIHJldHVybiAnd2lzaGxpc3RfZGF0ZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLmNoYW5nZVR5cGUgPT09ICdlYV9zdGF0dXMnKSByZXR1cm4gJ3dpc2hsaXN0X2VhJzsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24uY2hhbmdlVHlwZSA9PT0gJ3J1X2xhbmcnKSByZXR1cm4gJ3dpc2hsaXN0X3J1JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbi5zb3VyY2UgPT09ICdsaWJyYXJ5JykgewogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbi5jaGFuZ2VUeXBlID09PSAnZWFfc3RhdHVzJykgcmV0dXJuICdvd25lZF9lYSc7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLmNoYW5nZVR5cGUgPT09ICdydV9sYW5nJykgcmV0dXJuICdvd25lZF9ydSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgnb2xkRGF0ZScgaW4gbm90aWZpY2F0aW9uKSByZXR1cm4gJ3dpc2hsaXN0X2RhdGUnOwogICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24uY2hhbmdlVHlwZSA9PT0gJ2VhX3N0YXR1cycpIHJldHVybiAnb3duZWRfZWEnOwogICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24uY2hhbmdlVHlwZSA9PT0gJ3J1X2xhbmcnKSByZXR1cm4gJ293bmVkX3J1JzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3Vua25vd24nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvblRpdGxlKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3dpc2hsaXN0X2RhdGUnOiByZXR1cm4gJ9CW0LXQu9Cw0LXQvNC+0LUgKNCU0LDRgtCwINCy0YvRhdC+0LTQsCknOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd3aXNobGlzdF9lYSc6IHJldHVybiAn0JbQtdC70LDQtdC80L7QtSAo0KDQsNC90L3QuNC5INC00L7RgdGC0YPQvyknOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd3aXNobGlzdF9ydSc6IHJldHVybiAn0JbQtdC70LDQtdC80L7QtSAo0KDRg9GB0YHQutC40Lkg0Y/Qt9GL0LopJzsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3duZWRfZWEnOiByZXR1cm4gJ9CR0LjQsdC70LjQvtGC0LXQutCwICjQoNCw0L3QvdC40Lkg0LTQvtGB0YLRg9C/KSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ293bmVkX3J1JzogcmV0dXJuICfQkdC40LHQu9C40L7RgtC10LrQsCAo0KDRg9GB0YHQutC40Lkg0Y/Qt9GL0LopJzsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICfQo9Cy0LXQtNC+0LzQu9C10L3QuNC1JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9uRGV0YWlsc0hUTUwobm90aWZpY2F0aW9uLCB0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUuZW5kc1dpdGgoJ19ydScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZURldGFpbHMgPSBub3RpZmljYXRpb24ucnVDaGFuZ2VEZXRhaWxzOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoYW5nZURldGFpbHMpIHJldHVybiAn0JjQt9C80LXQvdC10L3QuNC1INCyINC70L7QutCw0LvQuNC30LDRhtC40LguJzsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZGVkID0gW10sIHJlbW92ZWQgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZ01hcCA9IHsgc3VwcG9ydGVkOiAn0JjQvdGC0LXRgNGE0LXQudGBJywgZnVsbF9hdWRpbzogJ9Ce0LfQstGD0YfQutCwJywgc3VidGl0bGVzOiAn0KHRg9Cx0YLQuNGC0YDRiycgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNoYW5nZURldGFpbHMuYWRkZWQpIHsgaWYgKGNoYW5nZURldGFpbHMuYWRkZWRba2V5XSkgYWRkZWQucHVzaChsYW5nTWFwW2tleV0pOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNoYW5nZURldGFpbHMucmVtb3ZlZCkgeyBpZiAoY2hhbmdlRGV0YWlscy5yZW1vdmVkW2tleV0pIHJlbW92ZWQucHVzaChsYW5nTWFwW2tleV0pOyB9CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRIYXNBbnkgPSBPYmplY3QudmFsdWVzKGNoYW5nZURldGFpbHMub2xkU3RhdGUpLnNvbWUodiA9PiB2KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SGFzQW55ID0gT2JqZWN0LnZhbHVlcyhjaGFuZ2VEZXRhaWxzLm5ld1N0YXRlKS5zb21lKHYgPT4gdik7CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFydHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGVkLmxlbmd0aCA+IDAgJiYgcmVtb3ZlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGDQmNC30LzQtdC90LXQvdC40Y8g0LIg0LvQvtC60LDQu9C40LfQsNGG0LjQuDo8YnI+PGI+0JTQvtCx0LDQstC70LXQvdC+OjwvYj4gJHthZGRlZC5qb2luKCcsICcpfTxicj48Yj7Qo9Cx0YDQsNC90L46PC9iPiAke3JlbW92ZWQuam9pbignLCAnKX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhZGRlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkSGFzQW55KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goYNCaINGA0YPRgdGB0LrQvtC80YMg0Y/Qt9GL0LrRgyDQtNC+0LHQsNCy0LvQtdC90L46PGJyPjxiPiR7YWRkZWQuam9pbignICsgJyl9PC9iPmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChg0J/QvtGP0LLQuNC70YHRjyDRgNGD0YHRgdC60LjQuSDRj9C30YvQujo8YnI+PGI+JHthZGRlZC5qb2luKCcgKyAnKX08L2I+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVtb3ZlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SGFzQW55KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goYNCb0L7QutCw0LvQuNC30LDRhtC40Y8g0YPRgNC10LfQsNC90LA6PGJyPjxiPtCj0LHRgNCw0L3QvjogJHtyZW1vdmVkLmpvaW4oJywgJyl9PC9iPmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChgPGI+0KDRg9GB0YHQutC40Lkg0Y/Qt9GL0Log0YPQtNCw0LvQtdC9INC40Lcg0LjQs9GA0YsuPC9iPmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCc8YnI+Jyk7CgogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3dpc2hsaXN0X2RhdGUnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBg0JTQsNGC0LAg0LLRi9GF0L7QtNCwINC40LfQvNC10L3QuNC70LDRgdGMOjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im9sZC1kYXRlIj4ke2Zvcm1hdERhdGUobm90aWZpY2F0aW9uLm9sZERhdGUpfTwvc3Bhbj4g4oaSCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJuZXctZGF0ZSI+JHtmb3JtYXREYXRlKG5vdGlmaWNhdGlvbi5uZXdEYXRlKX08L3NwYW4+YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3dpc2hsaXN0X2VhJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ293bmVkX2VhJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYNCY0LPRgNCwINCy0YvRiNC70LAg0LjQtyDRgNCw0L3QvdC10LPQviDQtNC+0YHRgtGD0L/QsCFgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ9CU0LXRgtCw0LvQuCDQvdC10LjQt9Cy0LXRgdGC0L3Riyc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlTm90aWZpY2F0aW9uUGFuZWwoKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFuZWxDb250ZW50ID0gJCgnLnNsZWRpbGthLXBhbmVsLWNvbnRlbnQnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXBhbmVsQ29udGVudC5sZW5ndGgpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBwYW5lbENvbnRlbnQuZmluZCgnLnNsZWRpbGthLW5vdGlmaWNhdGlvbi1pdGVtLCAuc2xlZGlsa2EtbG9hZGluZy1pbmRpY2F0b3IsIC5zbGVkaWxrYS1lcnJvci1pbmRpY2F0b3InKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAkKCcuc2xlZGlsa2EtcGFuZWwtdGl0bGUnKS50ZXh0KGDQo9Cy0LXQtNC+0LzQu9C10L3QuNGPICgke25vdGlmaWNhdGlvbnMubGVuZ3RofSlgKTsKICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEucmVhZCA9PT0gYi5yZWFkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5yZWFkID8gMSA6IC0xOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBwYW5lbENvbnRlbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPSJzbGVkaWxrYS1sb2FkaW5nLWluZGljYXRvciIgc3R5bGU9ImNvbG9yOiAjOGY5OGEwOyI+0J3QtdGCINC90L7QstGL0YUg0YPQstC10LTQvtC80LvQtdC90LjQuTwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMuc2xpY2UoMCwgNTAwMCkuZm9yRWFjaCgobm90aWZpY2F0aW9uLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb25UeXBlID0gZ2V0Tm90aWZpY2F0aW9uVHlwZShub3RpZmljYXRpb24pOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IG5vdGlmaWNhdGlvbi5oZWFkZXIgPwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYGh0dHBzOi8vc2hhcmVkLmNsb3VkZmxhcmUuc3RlYW1zdGF0aWMuY29tL3N0b3JlX2l0ZW1fYXNzZXRzL3N0ZWFtL2FwcHMvJHtub3RpZmljYXRpb24uYXBwaWR9LyR7bm90aWZpY2F0aW9uLmhlYWRlcn1gIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBodHRwczovL3NoYXJlZC5jbG91ZGZsYXJlLnN0ZWFtc3RhdGljLmNvbS9zdG9yZV9pdGVtX2Fzc2V0cy9zdGVhbS9hcHBzLyR7bm90aWZpY2F0aW9uLmFwcGlkfS9oZWFkZXIuanBnYDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9ICQoYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2Etbm90aWZpY2F0aW9uLWl0ZW0gJHtub3RpZmljYXRpb24ucmVhZCA/ICcnIDogJ3NsZWRpbGthLW5vdGlmaWNhdGlvbi11bnJlYWQnfSIgZGF0YS1pbmRleD0iJHtpbmRleH0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsZWRpbGthLW5vdGlmaWNhdGlvbi1jb250cm9scyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsZWRpbGthLXRvZ2dsZS1yZWFkLWJ0biBzbGVkaWxrYS1ub3RpZmljYXRpb24tY29udHJvbCIgdGl0bGU9IiR7bm90aWZpY2F0aW9uLnJlYWQgPyAn0J/QvtC80LXRgtC40YLRjCDQutCw0Log0L3QtdC/0YDQvtGH0LjRgtCw0L3QvdC+0LUnIDogJ9Cf0L7QvNC10YLQuNGC0Ywg0LrQsNC6INC/0YDQvtGH0LjRgtCw0L3QvdC+0LUnfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke25vdGlmaWNhdGlvbi5yZWFkID8gZW52ZWxvcGVJY29ucy5yZWFkIDogZW52ZWxvcGVJY29ucy51bnJlYWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1kZWxldGUtYnRuIHNsZWRpbGthLW5vdGlmaWNhdGlvbi1jb250cm9sIiB0aXRsZT0i0KPQtNCw0LvQuNGC0Ywg0YPQstC10LTQvtC80LvQtdC90LjQtSI+WDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsZWRpbGthLW5vdGlmaWNhdGlvbi1jb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8ke25vdGlmaWNhdGlvbi5hcHBpZH0iIHRhcmdldD0iX2JsYW5rIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke2ltYWdlVXJsfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9InNsZWRpbGthLW5vdGlmaWNhdGlvbi1pbWFnZSIgbG9hZGluZz0ibGF6eSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcj0idGhpcy5vbmVycm9yPW51bGw7IHRoaXMuc3JjPSdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vODB4NDU/dGV4dD1ObytJbWcnOyB0aGlzLnN0eWxlLm9iamVjdEZpdD0nY29udGFpbic7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1ub3RpZmljYXRpb24tdGV4dCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1ub3RpZmljYXRpb24tdHlwZSI+JHtnZXROb3RpZmljYXRpb25UaXRsZShub3RpZmljYXRpb25UeXBlKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvJHtub3RpZmljYXRpb24uYXBwaWR9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9InNsZWRpbGthLW5vdGlmaWNhdGlvbi1nYW1lLXRpdGxlIiB0YXJnZXQ9Il9ibGFuayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtub3RpZmljYXRpb24ubmFtZSB8fCBg0JjQs9GA0LAgIyR7bm90aWZpY2F0aW9uLmFwcGlkfWB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1ub3RpZmljYXRpb24tZGV0YWlscyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtnZXROb3RpZmljYXRpb25EZXRhaWxzSFRNTChub3RpZmljYXRpb24sIG5vdGlmaWNhdGlvblR5cGUpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGVkaWxrYS1ub3RpZmljYXRpb24tdGltZXN0YW1wIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQntCx0L3QsNGA0YPQttC10L3QvjogJHtuZXcgRGF0ZShub3RpZmljYXRpb24udGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmZpbmQoJy5zbGVkaWxrYS1kZWxldGUtYnRuJykub24oJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtSW5kZXggPSBwYXJzZUludCgkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc2xlZGlsa2Etbm90aWZpY2F0aW9uLWl0ZW0nKS5kYXRhKCdpbmRleCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaXRlbUluZGV4KSAmJiBpdGVtSW5kZXggPj0gMCAmJiBpdGVtSW5kZXggPCBub3RpZmljYXRpb25zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMuc3BsaWNlKGl0ZW1JbmRleCwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU1RPUkFHRV9LRVlTLk5PVElGSUNBVElPTlMsIG5vdGlmaWNhdGlvbnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZmFkZU91dCgzMDAsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTm90aWZpY2F0aW9uUGFuZWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQmFkZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y86INC90LXQstC10YDQvdGL0Lkg0LjQvdC00LXQutGBIiwgaXRlbUluZGV4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZmluZCgnLnNsZWRpbGthLXRvZ2dsZS1yZWFkLWJ0bicpLm9uKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUluZGV4ID0gcGFyc2VJbnQoJChlLnRhcmdldCkuY2xvc2VzdCgnLnNsZWRpbGthLW5vdGlmaWNhdGlvbi1pdGVtJykuZGF0YSgnaW5kZXgnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGl0ZW1JbmRleCkgJiYgaXRlbUluZGV4ID49IDAgJiYgaXRlbUluZGV4IDwgbm90aWZpY2F0aW9ucy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zW2l0ZW1JbmRleF0ucmVhZCA9ICFub3RpZmljYXRpb25zW2l0ZW1JbmRleF0ucmVhZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTVE9SQUdFX0tFWVMuTk9USUZJQ0FUSU9OUywgbm90aWZpY2F0aW9ucyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2dnbGVDbGFzcygnc2xlZGlsa2Etbm90aWZpY2F0aW9uLXVucmVhZCcsICFub3RpZmljYXRpb25zW2l0ZW1JbmRleF0ucmVhZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmh0bWwobm90aWZpY2F0aW9uc1tpdGVtSW5kZXhdLnJlYWQgPyBlbnZlbG9wZUljb25zLnJlYWQgOiBlbnZlbG9wZUljb25zLnVucmVhZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoJ3RpdGxlJywgbm90aWZpY2F0aW9uc1tpdGVtSW5kZXhdLnJlYWQgPyAn0J/QvtC80LXRgtC40YLRjCDQutCw0Log0L3QtdC/0YDQvtGH0LjRgtCw0L3QvdC+0LUnIDogJ9Cf0L7QvNC10YLQuNGC0Ywg0LrQsNC6INC/0YDQvtGH0LjRgtCw0L3QvdC+0LUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWRnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLQntGI0LjQsdC60LAg0YfRgtC10L3QuNGPL9C90LXRh9GC0LXQvdC40Y86INC90LXQstC10YDQvdGL0Lkg0LjQvdC00LXQutGBIiwgaXRlbUluZGV4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsQ29udGVudC5hcHBlbmQoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlSW5mbykgewogICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZUluZm8gfHwgZGF0ZUluZm8udmFsdWUgPT09ICfQndC1INGD0LrQsNC30LDQvdCwJykgcmV0dXJuICfQndC1INGD0LrQsNC30LDQvdC+JzsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGVJbmZvLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlUeXBlID0gZGF0ZUluZm8uZGlzcGxheVR5cGU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgaXNOYU4odmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHMgPSBmb3JtYXRUaW1lc3RhbXAodmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHMgPT09ICdzdHJpbmcnKSByZXR1cm4gdHM7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRzICogMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhOYW1lcyA9IFsi0Y/QvdCy0LDRgNGMIiwgItGE0LXQstGA0LDQu9GMIiwgItC80LDRgNGCIiwgItCw0L/RgNC10LvRjCIsICLQvNCw0LkiLCAi0LjRjtC90YwiLCAi0LjRjtC70YwiLCAi0LDQstCz0YPRgdGCIiwgItGB0LXQvdGC0Y/QsdGA0YwiLCAi0L7QutGC0Y/QsdGA0YwiLCAi0L3QvtGP0LHRgNGMIiwgItC00LXQutCw0LHRgNGMIl07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhcnRlciA9IE1hdGguZmxvb3IoZGF0ZS5nZXRNb250aCgpIC8gMykgKyAxOwogICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5VHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpc3BsYXlUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlX21vbnRoJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7bW9udGhOYW1lc1tkYXRlLmdldE1vbnRoKCldfSAke2RhdGUuZ2V0RnVsbFllYXIoKX1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZV9xdWFydGVyJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFEke3F1YXJ0ZXJ9ICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlX3llYXInOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGVfZnVsbCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygncnUtUlUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3J1LVJVJywgewogICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJywKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICdsb25nJywKICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0VGltZXN0YW1wKHRzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cykgcmV0dXJuIHRzOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXlxkezR9LVxkezJ9LVxkezJ9JC8udGVzdCh0cykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG5ldyBEYXRlKHRzKS5nZXRUaW1lKCkgLyAxMDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdHMgPT09ICdudW1iZXInID8gdHMgOiBwYXJzZUludCh0cywgMTApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVN0YXR1c0luZGljYXRvcigpIHsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlVGltZSA9IChrZXksIHNlbGVjdG9yLCBwcmVmaXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFVwZGF0ZSA9IEdNX2dldFZhbHVlKGtleSwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9ICQoc2VsZWN0b3IpOwogICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IucmVtb3ZlQ2xhc3MoJ3N0YXR1cy1vayBzdGF0dXMtd2FybmluZyBzdGF0dXMtYWxlcnQxIHN0YXR1cy1hbGVydDIgc3RhdHVzLWNyaXRpY2FsIHN0YXR1cy11bmtub3duJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFzdFVwZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnRleHQoYCR7cHJlZml4fTo/P2ApLmFkZENsYXNzKCdzdGF0dXMtdW5rbm93bicpLmF0dHIoJ3RpdGxlJywgJ9CU0LDQvdC90YvQtSDQvdC4INGA0LDQt9GDINC90LUg0L7QsdC90L7QstC70Y/Qu9C40YHRjCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzUGFzc2VkID0gKERhdGUubm93KCkgLSBsYXN0VXBkYXRlKSAvIE1JTExJU0VDT05EU19JTl9IT1VSOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihob3Vyc1Bhc3NlZCAvIDI0KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGhvdXJzUGFzc2VkICUgMjQpOwogICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IuYXR0cigndGl0bGUnLCBg0JTQsNC90L3Ri9C1INC90LUg0L7QsdC90L7QstC70Y/Qu9C40YHRjDogJHtkYXlzfSDQtC4g0LggJHtob3Vyc30g0YcuYCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnNQYXNzZWQgPCAxMikgaW5kaWNhdG9yLnRleHQoYCR7cHJlZml4fTpPS2ApLmFkZENsYXNzKCdzdGF0dXMtb2snKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaG91cnNQYXNzZWQgPCAyNCkgaW5kaWNhdG9yLnRleHQoYCR7cHJlZml4fTpPSz9gKS5hZGRDbGFzcygnc3RhdHVzLXdhcm5pbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaG91cnNQYXNzZWQgPCA0OCkgaW5kaWNhdG9yLnRleHQoYCR7cHJlZml4fTohYCkuYWRkQ2xhc3MoJ3N0YXR1cy1hbGVydDEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaG91cnNQYXNzZWQgPCA3MikgaW5kaWNhdG9yLnRleHQoYCR7cHJlZml4fTohIWApLmFkZENsYXNzKCdzdGF0dXMtYWxlcnQyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaW5kaWNhdG9yLnRleHQoYCR7cHJlZml4fTohISFgKS5hZGRDbGFzcygnc3RhdHVzLWNyaXRpY2FsJyk7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGltZShTVE9SQUdFX0tFWVMuTEFTVF9VUERBVEVfV0lTSExJU1QsICcuc2xlZGlsa2Etc3RhdHVzLXdpc2hsaXN0JywgJ9CWJyk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGltZShTVE9SQUdFX0tFWVMuTEFTVF9VUERBVEVfTElCUkFSWSwgJy5zbGVkaWxrYS1zdGF0dXMtbGlicmFyeScsICfQkScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJhZGdlKCkgewogICAgICAgICAgICAgICAgICAgICQoJy5zbGVkaWxrYS1ub3RpZmljYXRpb24tYmFkZ2UnKS50ZXh0KGdldFVucmVhZENvdW50KCkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25zLmZpbHRlcihuID0+ICFuLnJlYWQpLmxlbmd0aDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRGF0YSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vZHluYW1pY3N0b3JlL3VzZXJkYXRhLz9fdD0nICsgRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0OiBkYXRhLnJnV2lzaGxpc3QgfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lZDogZGF0YS5yZ093bmVkQXBwcyB8fCBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoItCe0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwIFVzZXJEYXRhOiIsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0OiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVkOiBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAgVXNlckRhdGE6IiwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXNobGlzdDogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVkOiBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBmZXRjaEdhbWVEZXRhaWxzKGFwcElkcywgaW5jbHVkZUxhbmd1YWdlcyA9IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcHBJZHMgfHwgYXBwSWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcElkcy5sZW5ndGg7IGkgKz0gQkFUQ0hfU0laRSkgewogICAgICAgICAgICAgICAgICAgICAgICBiYXRjaGVzLnB1c2goYXBwSWRzLnNsaWNlKGksIGkgKyBCQVRDSF9TSVpFKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbERldGFpbHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJhdGNoIG9mIGJhdGNoZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IGZldGNoQmF0Y2hEZXRhaWxzKGJhdGNoLCBpbmNsdWRlTGFuZ3VhZ2VzKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGV0YWlscy5wdXNoKC4uLmRldGFpbHMpOwogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxEZXRhaWxzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoQmF0Y2hEZXRhaWxzKGFwcElkcywgaW5jbHVkZUxhbmd1YWdlcyA9IGZhbHNlLCByZXRyaWVzID0gTUFYX0FQSV9SRVRSSUVTKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkczogYXBwSWRzLm1hcChhcHBpZCA9PiAoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwaWQKICAgICAgICAgICAgICAgICAgICAgICAgfSkpLAogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ3J1c3NpYW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeV9jb2RlOiAnUlUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlYW1fcmVhbG06IDEKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9yZXF1ZXN0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Fzc2V0czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmVsZWFzZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYmFzaWNfaW5mbzogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUxhbmd1YWdlcykgewogICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YS5kYXRhX3JlcXVlc3QuaW5jbHVkZV9zdXBwb3J0ZWRfbGFuZ3VhZ2VzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLnN0ZWFtcG93ZXJlZC5jb20vSVN0b3JlQnJvd3NlU2VydmljZS9HZXRJdGVtcy92MT9pbnB1dF9qc29uPSR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHJlcXVlc3REYXRhKSl9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAxNTAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YS5yZXNwb25zZT8uc3RvcmVfaXRlbXMgfHwgW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEFQSSBSZXF1ZXN0IEZhaWxlZCAoU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c30pIGZvciBiYXRjaDpgLCBhcHBJZHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEFQSSBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc3BvbnNlOicsIGUsIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdQYXJzZSBFcnJvcicpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBSZXF1ZXN0IE5ldHdvcmsgRXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdOZXR3b3JrIEVycm9yJykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQVBJIFJlcXVlc3QgVGltZW91dCBmb3IgYmF0Y2g6JywgYXBwSWRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVGltZW91dCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJpZXMgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUmV0cnlpbmcgQVBJIHJlcXVlc3QgZm9yIGJhdGNoIChSZXRyaWVzIGxlZnQ6ICR7cmV0cmllc30pLi4uYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgQVBJX1JFVFJZX0RFTEFZKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hCYXRjaERldGFpbHMoYXBwSWRzLCBpbmNsdWRlTGFuZ3VhZ2VzLCByZXRyaWVzIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBBUEkgcmVxdWVzdCBmYWlsZWQgYWZ0ZXIgbXVsdGlwbGUgcmV0cmllcyBmb3IgYmF0Y2g6YCwgYXBwSWRzLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JJbmRpY2F0b3IoYNCe0YjQuNCx0LrQsCBBUEkgU3RlYW0g0L/QvtGB0LvQtSAke01BWF9BUElfUkVUUklFUysxfSDQv9C+0L/Ri9GC0L7Qui5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRXaXNobGlzdFJlbGVhc2VJbmZvKHJlbGVhc2VEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWxlYXNlRGF0YSkgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogJ9Cd0LUg0YPQutCw0LfQsNC90LAnLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndW5rbm93bicsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUeXBlOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5VHlwZSA9IHJlbGVhc2VEYXRhLmNvbWluZ19zb29uX2Rpc3BsYXkgfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICBpZiAocmVsZWFzZURhdGEuc3RlYW1fcmVsZWFzZV9kYXRlKSByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiByZWxlYXNlRGF0YS5zdGVhbV9yZWxlYXNlX2RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVR5cGU6IGRpc3BsYXlUeXBlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVsZWFzZURhdGEuY3VzdG9tX3JlbGVhc2VfZGF0ZV9tZXNzYWdlKSByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiByZWxlYXNlRGF0YS5jdXN0b21fcmVsZWFzZV9kYXRlX21lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLAogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VHlwZTogbnVsbAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogJ9Cd0LUg0YPQutCw0LfQsNC90LAnLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndW5rbm93bicsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUeXBlOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRPd25lZEdhbWVJbmZvKGdhbWVEZXRhaWxzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFnYW1lRGV0YWlscykgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNfZWFybHlfYWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgcnVfc3VwcG9ydDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYXVkaW86IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpc19lYXJseV9hY2Nlc3MgPSBnYW1lRGV0YWlscy5yZWxlYXNlPy5pc19lYXJseV9hY2Nlc3MgPz8gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJ1X3N1cHBvcnQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYXVkaW86IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBydXNzaWFuTGFuZ0RhdGEgPSBnYW1lRGV0YWlscy5zdXBwb3J0ZWRfbGFuZ3VhZ2VzPy5maW5kKGxhbmcgPT4gbGFuZy5lbGFuZ3VhZ2UgPT09IDgpOwogICAgICAgICAgICAgICAgICAgIGlmIChydXNzaWFuTGFuZ0RhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnVfc3VwcG9ydCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZDogcnVzc2lhbkxhbmdEYXRhLnN1cHBvcnRlZCB8fCBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYXVkaW86IHJ1c3NpYW5MYW5nRGF0YS5mdWxsX2F1ZGlvIHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiBydXNzaWFuTGFuZ0RhdGEuc3VidGl0bGVzIHx8IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Vhcmx5X2FjY2VzcywKICAgICAgICAgICAgICAgICAgICAgICAgcnVfc3VwcG9ydAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gY29tcGFyZU93bmVkR2FtZUluZm8ob2xkSW5mbywgbmV3SW5mbykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBpZiAob2xkSW5mby5pc19lYXJseV9hY2Nlc3MgJiYgIW5ld0luZm8uaXNfZWFybHlfYWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IHR5cGU6ICdlYV9zdGF0dXMnLCBvbGQ6IG9sZEluZm8uaXNfZWFybHlfYWNjZXNzLCBuZXc6IG5ld0luZm8uaXNfZWFybHlfYWNjZXNzIH0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3VwcG9ydCA9IG9sZEluZm8ucnVfc3VwcG9ydCB8fCB7IHN1cHBvcnRlZDogZmFsc2UsIGZ1bGxfYXVkaW86IGZhbHNlLCBzdWJ0aXRsZXM6IGZhbHNlIH07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3VwcG9ydCA9IG5ld0luZm8ucnVfc3VwcG9ydDsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkZWQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZDogIW9sZFN1cHBvcnQuc3VwcG9ydGVkICYmIG5ld1N1cHBvcnQuc3VwcG9ydGVkLAogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2F1ZGlvOiAhb2xkU3VwcG9ydC5mdWxsX2F1ZGlvICYmIG5ld1N1cHBvcnQuZnVsbF9hdWRpbywKICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiAhb2xkU3VwcG9ydC5zdWJ0aXRsZXMgJiYgbmV3U3VwcG9ydC5zdWJ0aXRsZXMKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZDogb2xkU3VwcG9ydC5zdXBwb3J0ZWQgJiYgIW5ld1N1cHBvcnQuc3VwcG9ydGVkLAogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2F1ZGlvOiBvbGRTdXBwb3J0LmZ1bGxfYXVkaW8gJiYgIW5ld1N1cHBvcnQuZnVsbF9hdWRpbywKICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiBvbGRTdXBwb3J0LnN1YnRpdGxlcyAmJiAhbmV3U3VwcG9ydC5zdWJ0aXRsZXMKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNBZGRlZCA9IE9iamVjdC52YWx1ZXMoYWRkZWQpLnNvbWUodiA9PiB2KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNSZW1vdmVkID0gT2JqZWN0LnZhbHVlcyhyZW1vdmVkKS5zb21lKHYgPT4gdik7CgogICAgICAgICAgICAgICAgICAgIGlmIChoYXNBZGRlZCB8fCBoYXNSZW1vdmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncnVfbGFuZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGU6IG9sZFN1cHBvcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGU6IG5ld1N1cHBvcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZURhdGEoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9JbmRpY2F0b3IoItCe0LHQvdC+0LLQu9C10L3QuNC1INGD0LbQtSDQstGL0L/QvtC70L3Rj9C10YLRgdGPLi4uIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgJCgnLnNsZWRpbGthLXJlZnJlc2gtYnRuJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZyZXNoQnRuVGV4dCA9ICQoJy5zbGVkaWxrYS1yZWZyZXNoLWJ0bicpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5ub2RlVHlwZSA9PT0gMzsgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnJlc2hCdG5UZXh0Lmxlbmd0aCkgcmVmcmVzaEJ0blRleHRbMF0ubm9kZVZhbHVlID0gJyDQntCx0L3QvtCy0LjRgtGMLi4uJzsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlU2V0dGluZ3MgPSBHTV9nZXRWYWx1ZShTVE9SQUdFX0tFWVMuVVBEQVRFX1NFVFRJTkdTLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICByZWNoZWNrUnVzc2lhbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVjaGVja1BhcnRpYWw6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVTZXR0aW5ncy53aXNobGlzdCAmJiAhdXBkYXRlU2V0dGluZ3MubGlicmFyeSkgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5mb0luZGljYXRvcigi0J3QtSDQstGL0LHRgNCw0L3Qviwg0YfRgtC+INC+0LHQvdC+0LLQu9GP0YLRjC4g0J/RgNC+0LLQtdGA0YzRgtC1INC90LDRgdGC0YDQvtC50LrQuCAo4pqZ77iPKS4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2xlZGlsa2EtcmVmcmVzaC1idG4nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVmcmVzaEJ0blRleHQubGVuZ3RoKSByZWZyZXNoQnRuVGV4dFswXS5ub2RlVmFsdWUgPSAnINCe0LHQvdC+0LLQuNGC0YwnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzaG93TG9hZGluZ0luZGljYXRvcigi0J/QvtC70YPRh9C10L3QuNC1INGB0L/QuNGB0LrQvtCyINC40LPRgC4uLiIpOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzQmFyKDEpOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0OiBjdXJyZW50V2lzaGxpc3RBcHBJZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lZDogY3VycmVudE93bmVkQXBwSWRzCiAgICAgICAgICAgICAgICAgICAgICAgIH0gPSBhd2FpdCBnZXRVc2VyRGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxsTmV3Tm90aWZpY2F0aW9ucyA9IFtdOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYodXBkYXRlU2V0dGluZ3Mud2lzaGxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpc2hsaXN0UHJldmlvdXNEYXRhID0gR01fZ2V0VmFsdWUoU1RPUkFHRV9LRVlTLldJU0hMSVNUX0dBTUVfREFUQSwge30pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFdpc2hsaXN0RGF0YVRvU2F2ZSA9IHsgLi4ud2lzaGxpc3RQcmV2aW91c0RhdGEgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXaXNobGlzdEFwcElkU2V0ID0gbmV3IFNldChjdXJyZW50V2lzaGxpc3RBcHBJZHMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzbHlUcmFja2VkQXBwSWRzID0gT2JqZWN0LmtleXMod2lzaGxpc3RQcmV2aW91c0RhdGEpLm1hcChpZCA9PiBwYXJzZUludChpZCwgMTApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRBcHBJZHMgPSBwcmV2aW91c2x5VHJhY2tlZEFwcElkcy5maWx0ZXIoYXBwaWQgPT4gIWN1cnJlbnRXaXNobGlzdEFwcElkU2V0LmhhcyhhcHBpZCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEFwcElkcy5mb3JFYWNoKGFwcGlkID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY3VycmVudFdpc2hsaXN0RGF0YVRvU2F2ZVtTdHJpbmcoYXBwaWQpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nSW5kaWNhdG9yKGDQl9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhSDQtNC70Y8gJHtjdXJyZW50V2lzaGxpc3RBcHBJZHMubGVuZ3RofSDQuNCz0YAg0LjQtyDQttC10LvQsNC10LzQvtCz0L4uLi5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzQmFyKDUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2lzaGxpc3RBcHBJZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpc2hsaXN0RGV0YWlscyA9IGF3YWl0IGZldGNoR2FtZURldGFpbHMoY3VycmVudFdpc2hsaXN0QXBwSWRzLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzc0JhcigyNSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpc2hsaXN0RGV0YWlscy5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdhbWUgfHwgIWdhbWUuYXBwaWQpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwaWQgPSBnYW1lLmFwcGlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2R2FtZSA9IHdpc2hsaXN0UHJldmlvdXNEYXRhW2FwcGlkXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFJlbGVhc2UgPSBnZXRXaXNobGlzdFJlbGVhc2VJbmZvKGdhbWUucmVsZWFzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRHYW1lSW5mbyA9IGdldE93bmVkR2FtZUluZm8oZ2FtZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lzaGxpc3REYXRhVG9TYXZlW2FwcGlkXSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdhbWUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd1JlbGVhc2U6IGdhbWUucmVsZWFzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VJbmZvOiBjdXJyZW50UmVsZWFzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogZ2FtZS5hc3NldHM/LmhlYWRlciB8fCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZWFybHlfYWNjZXNzOiBjdXJyZW50R2FtZUluZm8uaXNfZWFybHlfYWNjZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVfc3VwcG9ydDogY3VycmVudEdhbWVJbmZvLnJ1X3N1cHBvcnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2R2FtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSZWxlYXNlLmRhdGUgIT09IHByZXZHYW1lLnJlbGVhc2VJbmZvPy5kYXRlIHx8IGN1cnJlbnRSZWxlYXNlLnR5cGUgIT09IHByZXZHYW1lLnJlbGVhc2VJbmZvPy50eXBlIHx8IGN1cnJlbnRSZWxlYXNlLmRpc3BsYXlUeXBlICE9PSBwcmV2R2FtZS5yZWxlYXNlSW5mbz8uZGlzcGxheVR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXdOb3RpZmljYXRpb25zLnB1c2goeyBzb3VyY2U6ICd3aXNobGlzdCcsIGFwcGlkOiBhcHBpZCwgbmFtZTogZ2FtZS5uYW1lLCBoZWFkZXI6IGdhbWUuYXNzZXRzPy5oZWFkZXIsIG9sZERhdGU6IHByZXZHYW1lLnJlbGVhc2VJbmZvID8geyB2YWx1ZTogcHJldkdhbWUucmVsZWFzZUluZm8uZGF0ZSwgZGlzcGxheVR5cGU6IHByZXZHYW1lLnJlbGVhc2VJbmZvLmRpc3BsYXlUeXBlIH0gOiB7IHZhbHVlOiAn0J3QtSDRg9C60LDQt9Cw0L3QsCcsIGRpc3BsYXlUeXBlOiBudWxsIH0sIG5ld0RhdGU6IHsgdmFsdWU6IGN1cnJlbnRSZWxlYXNlLmRhdGUsIGRpc3BsYXlUeXBlOiBjdXJyZW50UmVsZWFzZS5kaXNwbGF5VHlwZSB9LCB0aW1lc3RhbXA6IERhdGUubm93KCksIHJlYWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhZE9sZFN0YXR1c0RhdGEgPSBwcmV2R2FtZS5oYXNPd25Qcm9wZXJ0eSgnaXNfZWFybHlfYWNjZXNzJykgJiYgcHJldkdhbWUuaGFzT3duUHJvcGVydHkoJ3J1X3N1cHBvcnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYWRPbGRTdGF0dXNEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkR2FtZUluZm8gPSB7IGlzX2Vhcmx5X2FjY2VzczogcHJldkdhbWUuaXNfZWFybHlfYWNjZXNzLCBydV9zdXBwb3J0OiBwcmV2R2FtZS5ydV9zdXBwb3J0IH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQ2hhbmdlcyA9IGNvbXBhcmVPd25lZEdhbWVJbmZvKG9sZEdhbWVJbmZvLCBjdXJyZW50R2FtZUluZm8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NoYW5nZXMuZm9yRWFjaChjaGFuZ2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXdOb3RpZmljYXRpb25zLnB1c2goeyBzb3VyY2U6ICd3aXNobGlzdCcsIGNoYW5nZVR5cGU6IGNoYW5nZS50eXBlLCBhcHBpZDogYXBwaWQsIG5hbWU6IGdhbWUubmFtZSwgaGVhZGVyOiBnYW1lLmFzc2V0cz8uaGVhZGVyLCBydUNoYW5nZURldGFpbHM6IGNoYW5nZS50eXBlID09PSAncnVfbGFuZycgPyBjaGFuZ2UuZGV0YWlscyA6IHVuZGVmaW5lZCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCByZWFkOiBmYWxzZSB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU1RPUkFHRV9LRVlTLldJU0hMSVNUX0dBTUVfREFUQSwgY3VycmVudFdpc2hsaXN0RGF0YVRvU2F2ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTVE9SQUdFX0tFWVMuTEFTVF9VUERBVEVfV0lTSExJU1QsIERhdGUubm93KCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZih1cGRhdGVTZXR0aW5ncy5saWJyYXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvd25lZFByZXZpb3VzRGF0YSA9IEdNX2dldFZhbHVlKFNUT1JBR0VfS0VZUy5PV05FRF9BUFBTX0RBVEEsIHt9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG93bmVkQ2hlY2tlZFNldCA9IG5ldyBTZXQoR01fZ2V0VmFsdWUoU1RPUkFHRV9LRVlTLk9XTkVEX0NIRUNLRURfVjIsIFtdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50T3duZWREYXRhVG9TYXZlID0geyAuLi5vd25lZFByZXZpb3VzRGF0YSB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcHBzVG9DaGVja0luTGlicmFyeSA9IGN1cnJlbnRPd25lZEFwcElkcy5maWx0ZXIoYXBwaWQgPT4gIW93bmVkQ2hlY2tlZFNldC5oYXMoYXBwaWQpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZVNldHRpbmdzLnJlY2hlY2tSdXNzaWFuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwc1RvQ2hlY2tJbkxpYnJhcnkgPSBhcHBzVG9DaGVja0luTGlicmFyeS5maWx0ZXIoYXBwaWQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2RGF0YSA9IG93bmVkUHJldmlvdXNEYXRhW2FwcGlkXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2RGF0YSB8fCAhcHJldkRhdGEucnVfc3VwcG9ydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc0Z1bGxTdXBwb3J0ID0gcHJldkRhdGEucnVfc3VwcG9ydC5zdXBwb3J0ZWQgJiYgcHJldkRhdGEucnVfc3VwcG9ydC5mdWxsX2F1ZGlvICYmIHByZXZEYXRhLnJ1X3N1cHBvcnQuc3VidGl0bGVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNBbnlTdXBwb3J0ID0gcHJldkRhdGEucnVfc3VwcG9ydC5zdXBwb3J0ZWQgfHwgcHJldkRhdGEucnVfc3VwcG9ydC5mdWxsX2F1ZGlvIHx8IHByZXZEYXRhLnJ1X3N1cHBvcnQuc3VidGl0bGVzOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVNldHRpbmdzLnJlY2hlY2tQYXJ0aWFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWhhc0Z1bGxTdXBwb3J0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFoYXNBbnlTdXBwb3J0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxPd25lZFRvQ2hlY2sgPSBhcHBzVG9DaGVja0luTGlicmFyeS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93TG9hZGluZ0luZGljYXRvcihg0J/RgNC+0LLQtdGA0LrQsCAke3RvdGFsT3duZWRUb0NoZWNrfSDQuNCz0YAg0LjQtyDQsdC40LHQu9C40L7RgtC10LrQuC4uLmApOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbE93bmVkVG9DaGVjayA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsT3duZWRUb0NoZWNrOyBpICs9IEJBVENIX1NJWkUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBhcHBzVG9DaGVja0luTGlicmFyeS5zbGljZShpLCBpICsgQkFUQ0hfU0laRSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gNTAgKyBNYXRoLnJvdW5kKCgoaSkgLyAodG90YWxPd25lZFRvQ2hlY2sgfHwgMSkpICogNTApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzc0Jhcihwcm9ncmVzcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nSW5kaWNhdG9yKGDQn9GA0L7QstC10YDQutCwINCx0LjQsdC70LjQvtGC0LXQutC4Li4uICgke2l9LyR7dG90YWxPd25lZFRvQ2hlY2t9KWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzID0gYXdhaXQgZmV0Y2hHYW1lRGV0YWlscyhiYXRjaCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMuZm9yRWFjaChnYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2FtZSB8fCAhZ2FtZS5hcHBpZCkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwaWQgPSBnYW1lLmFwcGlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUudHlwZSAhPT0gMCB8fCBnYW1lLnZpc2libGUgPT09IGZhbHNlKSB7IG93bmVkQ2hlY2tlZFNldC5hZGQoYXBwaWQpOyBkZWxldGUgY3VycmVudE93bmVkRGF0YVRvU2F2ZVthcHBpZF07IHJldHVybjsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdhbWUubmFtZSB8fCBvd25lZFByZXZpb3VzRGF0YVthcHBpZF0/Lm5hbWUgfHwgYNCY0LPRgNCwICMke2FwcGlkfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5hbWUgfHwgbmFtZS50cmltKCkgPT09ICcnIHx8IG5hbWUgPT09IGDQmNCz0YDQsCAjJHthcHBpZH1gKSB7IG93bmVkQ2hlY2tlZFNldC5hZGQoYXBwaWQpOyBkZWxldGUgY3VycmVudE93bmVkRGF0YVRvU2F2ZVthcHBpZF07IHJldHVybjsgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZHYW1lRGF0YSA9IG93bmVkUHJldmlvdXNEYXRhW2FwcGlkXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRHYW1lSW5mbyA9IGdldE93bmVkR2FtZUluZm8oZ2FtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3duZWREYXRhVG9TYXZlW2FwcGlkXSA9IHsgbmFtZTogbmFtZSwgLi4uY3VycmVudEdhbWVJbmZvIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZHYW1lRGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhZE9sZFN0YXR1c0RhdGEgPSBwcmV2R2FtZURhdGEuaGFzT3duUHJvcGVydHkoJ2lzX2Vhcmx5X2FjY2VzcycpICYmIHByZXZHYW1lRGF0YS5oYXNPd25Qcm9wZXJ0eSgncnVfc3VwcG9ydCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhhZE9sZFN0YXR1c0RhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV0ZWN0ZWRDaGFuZ2VzID0gY29tcGFyZU93bmVkR2FtZUluZm8ocHJldkdhbWVEYXRhLCBjdXJyZW50R2FtZUluZm8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRlY3RlZENoYW5nZXMuZm9yRWFjaChjaGFuZ2UgPT4gYWxsTmV3Tm90aWZpY2F0aW9ucy5wdXNoKHsgc291cmNlOiAnbGlicmFyeScsIGNoYW5nZVR5cGU6IGNoYW5nZS50eXBlLCBhcHBpZDogYXBwaWQsIG5hbWU6IG5hbWUsIGhlYWRlcjogZ2FtZS5hc3NldHM/LmhlYWRlciwgcnVDaGFuZ2VEZXRhaWxzOiBjaGFuZ2UudHlwZSA9PT0gJ3J1X2xhbmcnID8gY2hhbmdlLmRldGFpbHMgOiB1bmRlZmluZWQsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgcmVhZDogZmFsc2UgfSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudE93bmVkQXBwSWRTZXQgPSBuZXcgU2V0KGN1cnJlbnRPd25lZEFwcElkcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c2x5VHJhY2tlZEFwcElkcyA9IE9iamVjdC5rZXlzKG93bmVkUHJldmlvdXNEYXRhKS5tYXAoaWQgPT4gcGFyc2VJbnQoaWQsIDEwKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVkQXBwSWRzID0gcHJldmlvdXNseVRyYWNrZWRBcHBJZHMuZmlsdGVyKGFwcGlkID0+ICFjdXJyZW50T3duZWRBcHBJZFNldC5oYXMoYXBwaWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRBcHBJZHMuZm9yRWFjaChhcHBpZCA9PiB7IGRlbGV0ZSBjdXJyZW50T3duZWREYXRhVG9TYXZlW2FwcGlkXTsgb3duZWRDaGVja2VkU2V0LmRlbGV0ZShhcHBpZCk7IH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNUT1JBR0VfS0VZUy5PV05FRF9BUFBTX0RBVEEsIGN1cnJlbnRPd25lZERhdGFUb1NhdmUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU1RPUkFHRV9LRVlTLk9XTkVEX0NIRUNLRURfVjIsIEFycmF5LmZyb20ob3duZWRDaGVja2VkU2V0KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTVE9SQUdFX0tFWVMuTEFTVF9VUERBVEVfTElCUkFSWSwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxOZXdOb3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMgPSBbLi4uYWxsTmV3Tm90aWZpY2F0aW9ucywgLi4ubm90aWZpY2F0aW9uc107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zLnNvcnQoKGEsIGIpID0+IGIudGltZXN0YW1wIC0gYS50aW1lc3RhbXApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuc2xpY2UoMCwgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNUT1JBR0VfS0VZUy5OT1RJRklDQVRJT05TLCBub3RpZmljYXRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTG9hZGluZ0luZGljYXRvcigpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb3RpZmljYXRpb25QYW5lbCgpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWRnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXNJbmRpY2F0b3IoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3NCYXIoMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9JbmRpY2F0b3IoYNCe0LHQvdC+0LLQu9C10L3QuNC1INC30LDQstC10YDRiNC10L3Qvi4g0J3QvtCy0YvRhSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC5OiAke2FsbE5ld05vdGlmaWNhdGlvbnMubGVuZ3RofS5gKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdC90L7QstC70LXQvdC40Lgg0LTQsNC90L3Ri9GFOicsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JJbmRpY2F0b3IoYNCe0YjQuNCx0LrQsCDQvtCx0L3QvtCy0LvQtdC90LjRjzogJHtlLm1lc3NhZ2UgfHwgJ9Cd0LXQuNC30LLQtdGB0YLQvdCw0Y8g0L7RiNC40LHQutCwJ31gKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzSW5kaWNhdG9yKCk7CiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNsZWRpbGthLXJlZnJlc2gtYnRuJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlZnJlc2hCdG5UZXh0Lmxlbmd0aCkgcmVmcmVzaEJ0blRleHRbMF0ubm9kZVZhbHVlID0gJyDQntCx0L3QvtCy0LjRgtGMJzsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcm9ncmVzc0JhcigwKSwgNTAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd0NhbGVuZGFyTW9kYWwoKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZURhdGEgPSBHTV9nZXRWYWx1ZShTVE9SQUdFX0tFWVMuV0lTSExJU1RfR0FNRV9EQVRBLCB7fSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhzRGF0YSA9IGdldEdhbWVzQnlNb250aHMoZ2FtZURhdGEpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHd0bW9kYWwgPSAkKGAKICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhbGVuZGFyLXd0bW9kYWwiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhbGVuZGFyLWhlYWRlciI+IDxkaXYgY2xhc3M9ImNhbGVuZGFyLXRpdGxlIj7QmtCw0LvQtdC90LTQsNGA0Ywg0YDQtdC70LjQt9C+0LIgKCR7T2JqZWN0LmtleXMoZ2FtZURhdGEpLmxlbmd0aH0g0LjQs9GAINCyINGB0L/QuNGB0LrQtSk8L2Rpdj4gPGRpdiBjbGFzcz0iY2FsZW5kYXItY2xvc2UiPsOXPC9kaXY+IDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhbGVuZGFyLWNvbnRlbnQiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY2FsZW5kYXItd3Rtb2RhbCcpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd3Rtb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2snLCBjbGlja0hhbmRsZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB3dG1vZGFsLmZpbmQoJy5jYWxlbmRhci1jbG9zZScpLmNsaWNrKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgd3Rtb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsIGNsaWNrSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgd3Rtb2RhbC5jbGljayhlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpOwogICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGNsaWNrSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCh3dG1vZGFsKTsKICAgICAgICAgICAgICAgICAgICB3dG1vZGFsLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICBsZXQgdmlzaWJsZU1vbnRocyA9IDM7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyQ2FsZW5kYXIgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpc2libGVEYXRhID0gbW9udGhzRGF0YS5zbGljZSgwLCB2aXNpYmxlTW9udGhzKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHd0bW9kYWwuZmluZCgnLmNhbGVuZGFyLWNvbnRlbnQnKS5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9udGhzRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kKCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjsgcGFkZGluZzogMzBweDsgY29sb3I6ICM4Zjk4YTA7Ij7QndC10YIg0LjQs9GAINGBINC00LDRgtC+0Lkg0LLRi9GF0L7QtNCwINCyINCx0YPQtNGD0YnQtdC8INCyINCy0LDRiNC10Lwg0YHQv9C40YHQutC1INC20LXQu9Cw0LXQvNC+0LPQvi48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRGF0YS5mb3JFYWNoKCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lcwogICAgICAgICAgICAgICAgICAgICAgICB9KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aERhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aE5hbWUgPSBtb250aERhdGUudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnbG9uZycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5c0luTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDApLmdldERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRGaXJzdERheSA9IGZpcnN0RGF5ID09PSAwID8gNiA6IGZpcnN0RGF5IC0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoQmxvY2sgPSAkKGA8ZGl2IGNsYXNzPSJjYWxlbmRhci1tb250aCI+IDxkaXYgY2xhc3M9Im1vbnRoLWhlYWRlciI+JHttb250aE5hbWV9ICR7eWVhcn08L2Rpdj4gPGRpdiBjbGFzcz0iY2FsZW5kYXItZ3JpZCI+PC9kaXY+IDwvZGl2PmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JpZCA9IG1vbnRoQmxvY2suZmluZCgnLmNhbGVuZGFyLWdyaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQuYXBwZW5kKCc8ZGl2PtCf0L08L2Rpdj48ZGl2PtCS0YI8L2Rpdj48ZGl2PtCh0YA8L2Rpdj48ZGl2PtCn0YI8L2Rpdj48ZGl2PtCf0YI8L2Rpdj48ZGl2PtCh0LE8L2Rpdj48ZGl2PtCS0YE8L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRqdXN0ZWRGaXJzdERheTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZC5hcHBlbmQoJzxkaXYgY2xhc3M9ImNhbGVuZGFyLWRheSI+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBkYXkgPSAxOyBkYXkgPD0gZGF5c0luTW9udGg7IGRheSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5R2FtZXMgPSBnYW1lcy5maWx0ZXIoZyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gbmV3IERhdGUoZy5yZWxlYXNlSW5mby5kYXRlICogMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWxlYXNlRGF0ZS5nZXREYXRlKCkgPT09IGRheSAmJiByZWxlYXNlRGF0ZS5nZXRNb250aCgpID09PSBtb250aCAmJiByZWxlYXNlRGF0ZS5nZXRGdWxsWWVhcigpID09PSB5ZWFyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRheUVsZW1lbnQgPSAkKGA8ZGl2IGNsYXNzPSJjYWxlbmRhci1kYXkiPiA8ZGl2IGNsYXNzPSJkYXktbnVtYmVyIj4ke2RheX08L2Rpdj4gPC9kaXY+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5R2FtZXMuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSkuZm9yRWFjaChnYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBcHByb3hpbWF0ZSA9IFsnZGF0ZV9tb250aCcsICdkYXRlX3F1YXJ0ZXInLCAnZGF0ZV95ZWFyJ10uaW5jbHVkZXMoZ2FtZS5yZWxlYXNlSW5mby5kaXNwbGF5VHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gZ2FtZS5oZWFkZXIgPyBgaHR0cHM6Ly9zaGFyZWQuY2xvdWRmbGFyZS5zdGVhbXN0YXRpYy5jb20vc3RvcmVfaXRlbV9hc3NldHMvc3RlYW0vYXBwcy8ke2dhbWUuYXBwaWR9LyR7Z2FtZS5oZWFkZXJ9YCA6IGBodHRwczovL3NoYXJlZC5jbG91ZGZsYXJlLnN0ZWFtc3RhdGljLmNvbS9zdG9yZV9pdGVtX2Fzc2V0cy9zdGVhbS9hcHBzLyR7Z2FtZS5hcHBpZH0vaGVhZGVyLmpwZ2A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVFbGVtZW50ID0gJChgPGEgaHJlZj0iaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8ke2dhbWUuYXBwaWR9IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImNhbGVuZGFyLWdhbWUgJHtpc0FwcHJveGltYXRlID8gJ2NhbGVuZGFyLWdhbWUtYXBwcm94aW1hdGUgd3QtdG9vbHRpcCcgOiAnJ30iPiA8aW1nIHNyYz0iJHtpbWFnZVVybH0iIGNsYXNzPSJjYWxlbmRhci1nYW1lLWltYWdlIiBsb2FkaW5nPSJsYXp5IiBvbmVycm9yPSJ0aGlzLm9uZXJyb3I9bnVsbDsgdGhpcy5zcmM9J2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xMDB4NDU/dGV4dD1ObytJbWcnOyB0aGlzLnN0eWxlLm9iamVjdEZpdD0nY29udGFpbic7Ij4gPGRpdiBjbGFzcz0iY2FsZW5kYXItZ2FtZS10aXRsZSI+JHtnYW1lLm5hbWV9PC9kaXY+ICR7aXNBcHByb3hpbWF0ZSA/IGA8ZGl2IGNsYXNzPSJ3dC10b29sdGlwdGV4dCI+0J/RgNC40LHQu9C40LfQuNGC0LXQu9GM0L3QsNGPINC00LDRgtCwOiAke2dldEFwcHJveGltYXRlRGF0ZVRleHQoZ2FtZS5yZWxlYXNlSW5mbyl9PC9kaXY+YCA6ICcnfSA8L2E+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheUVsZW1lbnQuYXBwZW5kKGdhbWVFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkLmFwcGVuZChkYXlFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kKG1vbnRoQmxvY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2libGVNb250aHMgPCBtb250aHNEYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQoYDxkaXYgY2xhc3M9ImxvYWQtbW9yZS1tb250aHMiPiA8YnV0dG9uIGNsYXNzPSJsb2FkLW1vcmUtYnRuIj7Qn9C+0LrQsNC30LDRgtGMINC10YnRkSAzINC80LXRgdGP0YbQsDwvYnV0dG9uPiA8L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuZmluZCgnLmxvYWQtbW9yZS1idG4nKS5jbGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZU1vbnRocyArPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckNhbGVuZGFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXIoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRHYW1lc0J5TW9udGhzKGdhbWVEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50WWVhciA9IG5vdy5nZXRGdWxsWWVhcigpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG5vdy5nZXRNb250aCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVzID0gT2JqZWN0LmVudHJpZXMoZ2FtZURhdGEpLm1hcCgoW2FwcGlkLCBnYW1lXSkgPT4gKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGlkOiBwYXJzZUludChhcHBpZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5nYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGdhbWUucmVsZWFzZUluZm8/LmRhdGUgJiYgdHlwZW9mIGdhbWUucmVsZWFzZUluZm8uZGF0ZSA9PT0gJ251bWJlcicgPyBuZXcgRGF0ZShnYW1lLnJlbGVhc2VJbmZvLmRhdGUgKiAxMDAwKSA6IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZyA9PiBnLnJlbGVhc2VEYXRlKS5maWx0ZXIoZyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlWWVhciA9IGcucmVsZWFzZURhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VNb250aCA9IGcucmVsZWFzZURhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocmVsZWFzZVllYXIgPiBjdXJyZW50WWVhcikgfHwgKHJlbGVhc2VZZWFyID09PSBjdXJyZW50WWVhciAmJiByZWxlYXNlTW9udGggPj0gY3VycmVudE1vbnRoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhNYXAgPSBnYW1lcy5yZWR1Y2UoKGFjYywgZ2FtZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gZ2FtZS5yZWxlYXNlRGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGdhbWUucmVsZWFzZURhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYCR7eWVhcn0tJHttb250aH1gOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY1trZXldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVzOiBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XS5nYW1lcy5wdXNoKGdhbWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgICAgICAgICAgICAgIH0sIHt9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhtb250aE1hcCkuc29ydCgoYSwgYikgPT4gYS55ZWFyID09PSBiLnllYXIgPyBhLm1vbnRoIC0gYi5tb250aCA6IGEueWVhciAtIGIueWVhcik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QXBwcm94aW1hdGVEYXRlVGV4dChyZWxlYXNlSW5mbykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShyZWxlYXNlSW5mby5kYXRlICogMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhcnRlciA9IE1hdGguZmxvb3IoZGF0ZS5nZXRNb250aCgpIC8gMykgKyAxOwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVsZWFzZUluZm8uZGlzcGxheVR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZV9tb250aCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICdsb25nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlX3F1YXJ0ZXInOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBRJHtxdWFydGVyfSAke2RhdGUuZ2V0RnVsbFllYXIoKX1gOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlX3llYXInOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdydS1SVScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaG93U3RvcmFnZU1vZGFsKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsSHRtbCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNsZWRpbGthU3RvcmFnZU1vZGFsIiBjbGFzcz0ic2xlZGlsa2Etc3RvcmFnZS1tb2RhbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xlZGlsa2Etc3RvcmFnZS1tb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNsZWRpbGthU3RvcmFnZUNsb3NlQnRuIiBjbGFzcz0ic2xlZGlsa2Etc3RvcmFnZS1tb2RhbC1jbG9zZSIgdGl0bGU9ItCX0LDQutGA0YvRgtGMIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+0KPQv9GA0LDQstC70LXQvdC40LUg0YXRgNCw0L3QuNC70LjRidC10Lw8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjbGVhcldpc2hsaXN0RGF0YUJ0biI+0J7Rh9C40YHRgtC40YLRjCDQtNCw0L3QvdGL0LUg0LjQtyDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2xlYXJPd25lZERhdGFCdG4iPtCe0YfQuNGB0YLQuNGC0Ywg0LTQsNC90L3Ri9C1INC40Lcg0LHQuNCx0LvQuNC+0YLQtdC60Lg8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJyNzbGVkaWxrYVN0b3JhZ2VNb2RhbCcpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKG1vZGFsSHRtbCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3NsZWRpbGthU3RvcmFnZU1vZGFsJyk7CiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICQoJyNzbGVkaWxrYVN0b3JhZ2VDbG9zZUJ0bicpLm9mZignY2xpY2snKS5vbignY2xpY2snLCAoKSA9PiBtb2RhbC5oaWRlKCkpOwogICAgICAgICAgICAgICAgICAgIG1vZGFsLm9mZignY2xpY2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcyhtb2RhbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICQoJyNjbGVhcldpc2hsaXN0RGF0YUJ0bicpLm9mZignY2xpY2snKS5vbignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LTQsNC90L3Ri9C1INC00LvRjyDQodC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+P1xu0K3RgtC+INC/0YDQuNCy0LXQtNC10YIg0Log0L/QvtCy0YLQvtGA0L3QvtC80YMg0YHQutCw0L3QuNGA0L7QstCw0L3QuNGOINC/0YDQuCDRgdC70LXQtNGD0Y7RidC10Lwg0L7QsdC90L7QstC70LXQvdC40LguIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKFNUT1JBR0VfS0VZUy5XSVNITElTVF9HQU1FX0RBVEEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuZmlsdGVyKG4gPT4gIW4uc291cmNlIHx8IG4uc291cmNlICE9PSAnd2lzaGxpc3QnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNUT1JBR0VfS0VZUy5OT1RJRklDQVRJT05TLCBub3RpZmljYXRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLQlNCw0L3QvdGL0LUg0YHQv9C40YHQutCwINC20LXQu9Cw0LXQvNC+0LPQviDQvtGH0LjRidC10L3Riy4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU5vdGlmaWNhdGlvblBhbmVsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWRnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJCgnI2NsZWFyT3duZWREYXRhQnRuJykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0YHQvtGF0YDQsNC90LXQvdC90YvQtSDQtNCw0L3QvdGL0LUg0LTQu9GPINCR0LjQsdC70LjQvtGC0LXQutC4P1xu0K3RgtC+INC/0YDQuNCy0LXQtNC10YIg0Log0J/QntCb0J3QntCc0KMg0J/QntCS0KLQntCg0J3QntCc0KMg0YHQutCw0L3QuNGA0L7QstCw0L3QuNGOINCy0LDRiNC10Lkg0LHQuNCx0LvQuNC+0YLQtdC60Lgg0L/RgNC4INGB0LvQtdC00YPRjtGJ0LXQvCDQvtCx0L3QvtCy0LvQtdC90LjQuCwg0YfRgtC+INC80L7QttC10YIg0LfQsNC90Y/RgtGMINCy0YDQtdC80Y8uIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKFNUT1JBR0VfS0VZUy5PV05FRF9BUFBTX0RBVEEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUoU1RPUkFHRV9LRVlTLk9XTkVEX0NIRUNLRURfVjIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoItCU0LDQvdC90YvQtSDQkdC40LHQu9C40L7RgtC10LrQuCDQvtGH0LjRidC10L3Riy4g0J/QvtGC0YDQtdCx0YPQtdGC0YHRjyDQv9C+0LLRgtC+0YDQvdC+0LUg0YHQutCw0L3QuNGA0L7QstCw0L3QuNC1LiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGVkaWxrYVVJKCk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzSW5kaWNhdG9yKCk7CiAgICAgICAgICAgICAgICAgICAgc2V0dXBNdXRhdGlvbk9ic2VydmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbG9iYWxfYWN0aW9ucycpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgJCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShpbml0aWFsaXplKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tKUXVlcnkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgJCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tKUXVlcnkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkucmVhZHkoaW5pdGlhbGl6ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSgpOwogICAgICAgIH0KCiAgICAvLyDQodC60YDQuNC/0YIg0LTQu9GPINC/0YDQvtCy0LXRgNC60Lgg0LLQvtC30LzQvtC20L3QvtGB0YLQuCDQvtGC0L/RgNCw0LLQutC4INC/0L7QtNCw0YDQutCwINC40Lcg0YHQv9C40YHQutCwINC20LXQu9Cw0LXQvNC+0LPQviDQtNGA0YPQt9GM0Y/QvCDQsiDQtNGA0YPQs9C40YUg0YHRgtGA0LDQvdCw0YUgfCBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9teS93aXNobGlzdC8qCiAgICBpZiAoc2NyaXB0c0NvbmZpZy53aXNobGlzdEdpZnRIZWxwZXIgJiYgdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvd2lzaGxpc3QvJykpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgICAgICAgIGNvbnN0IFdHSF9BUElfVVJMID0gImh0dHBzOi8vYXBpLnN0ZWFtcG93ZXJlZC5jb20vSVN0b3JlQnJvd3NlU2VydmljZS9HZXRJdGVtcy92MSI7CiAgICAgICAgICAgIGNvbnN0IFdHSF9DVVJSRU5DWV9BUElfVVJMID0gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQGZhd2F6YWhtZWQwL2N1cnJlbmN5LWFwaUBsYXRlc3QvdjEvY3VycmVuY2llcy8nOwogICAgICAgICAgICBjb25zdCBXR0hfQkFUQ0hfU0laRSA9IDIwMDsKICAgICAgICAgICAgY29uc3QgV0dIX0lOSVRJQUxfREVMQVlfTVMgPSA1MDA7CiAgICAgICAgICAgIGNvbnN0IFdHSF9SRVFVRVNUX1RJTUVPVVRfTVMgPSAyMDAwMDsKICAgICAgICAgICAgY29uc3QgV0dIX0dJRlRfUFJJQ0VfRElGRl9USFJFU0hPTEQgPSAwLjEwOwogICAgICAgICAgICBjb25zdCBXR0hfSU1BR0VfQkFTRV9VUkwgPSAnaHR0cHM6Ly9zaGFyZWQuZmFzdGx5LnN0ZWFtc3RhdGljLmNvbS9zdG9yZV9pdGVtX2Fzc2V0cy9zdGVhbS9hcHBzLyc7CiAgICAgICAgICAgIGNvbnN0IFdHSF9DT1VOVFJZX0NVUlJFTkNZX01BUCA9IHsKICAgICAgICAgICAgICAgICdBVSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JDQstGB0YLRgNCw0LvQuNC50YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMSwKICAgICAgICAgICAgICAgICAgICBpc286ICdhdWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0JSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQkdGA0LDQt9C40LvRjNGB0LrQuNC5INGA0LXQsNC7JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA3LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2JybCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnR0InOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CR0YDQuNGC0LDQvdGB0LrQuNC5INGE0YPQvdGCJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2dicCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVk4nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CS0YzQtdGC0L3QsNC80YHQutC40Lkg0LTQvtC90LMnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3ZuZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnSEsnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CT0L7QvdC60L7QvdCz0YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyOSwKICAgICAgICAgICAgICAgICAgICBpc286ICdoa2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0FFJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQlNC40YDRhdCw0Lwg0J7QkNCtJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdhZWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1VTJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQlNC+0LvQu9Cw0YAg0KHQqNCQJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3VzZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnRVUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CV0LLRgNC+JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2V1cicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnSUwnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CY0LfRgNCw0LjQu9GM0YHQutC40Lkg0L3QvtCy0YvQuSDRiNC10LrQtdC70YwnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDM1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2lscycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnSU4nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CY0L3QtNC40LnRgdC60LDRjyDRgNGD0L/QuNGPJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNCwKICAgICAgICAgICAgICAgICAgICBpc286ICdpbnInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0lEJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmNC90LTQvtC90LXQt9C40LnRgdC60LDRjyDRgNGD0L/QuNGPJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMCwKICAgICAgICAgICAgICAgICAgICBpc286ICdpZHInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0taJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtCw0LfQsNGF0YHRgtCw0L3RgdC60LjQuSDRgtC10L3Qs9C1JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzNywKICAgICAgICAgICAgICAgICAgICBpc286ICdrenQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtCw0L3QsNC00YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjYWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1FBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtCw0YLQsNGA0YHQutC40Lkg0YDQuNCw0LsnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDM5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3FhcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ04nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ca0LjRgtCw0LnRgdC60LjQuSDRjtCw0L3RjCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjMsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnY255JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdDTyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JrQvtC70YPQvNCx0LjQudGB0LrQvtC1INC/0LXRgdC+JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNywKICAgICAgICAgICAgICAgICAgICBpc286ICdjb3AnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtC+0YHRgtCwLdGA0LjQutCw0L3RgdC60LjQuSDQutC+0LvQvtC9JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjcmMnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0tXJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQmtGD0LLQtdC50YLRgdC60LjQuSDQtNC40L3QsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzOCwKICAgICAgICAgICAgICAgICAgICBpc286ICdrd2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0FSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQm9Cw0YIuINCQ0LwuIC0g0JTQvtC70LvQsNGAINCh0KjQkCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ01ZJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQnNCw0LvQsNC30LjQudGB0LrQuNC5INGA0LjQvdCz0LPQuNGCJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMSwKICAgICAgICAgICAgICAgICAgICBpc286ICdteXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1RSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdNRU5BIC0g0JTQvtC70LvQsNGAINCh0KjQkCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ01YJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQnNC10LrRgdC40LrQsNC90YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ214bicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnTlonOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cd0L7QstC+0LfQtdC70LDQvdC00YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMiwKICAgICAgICAgICAgICAgICAgICBpc286ICduemQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ05PJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQndC+0YDQstC10LbRgdC60LDRjyDQutGA0L7QvdCwJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ25vaycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUEUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cf0LXRgNGD0LDQvdGB0LrQuNC5INGB0L7Qu9GMJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwZW4nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1BMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQn9C+0LvRjNGB0LrQuNC5INC30LvQvtGC0YvQuScsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwbG4nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1JVJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQoNC+0YHRgdC40LnRgdC60LjQuSDRgNGD0LHQu9GMJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3J1YicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnU0EnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ch0LDRg9C00L7QstGB0LrQuNC5INGA0LjQsNC7JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMSwKICAgICAgICAgICAgICAgICAgICBpc286ICdzYXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1NHJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQodC40L3Qs9Cw0L/Rg9GA0YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMywKICAgICAgICAgICAgICAgICAgICBpc286ICdzZ2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0FaJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQodCd0JMgLSDQlNC+0LvQu9Cw0YAg0KHQqNCQJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3VzZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVFcnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ci0LDQudCy0LDQvdGM0YHQutC40Lkg0LTQvtC70LvQsNGAJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMCwKICAgICAgICAgICAgICAgICAgICBpc286ICd0d2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1RIJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQotCw0LnRgdC60LjQuSDQsdCw0YInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE0LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3RoYicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVUEnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cj0LrRgNCw0LjQvdGB0LrQsNGPINCz0YDQuNCy0L3QsCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTgsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndWFoJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdVWSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KPRgNGD0LPQstCw0LnRgdC60L7QtSDQv9C10YHQvicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXl1JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdQSCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KTQuNC70LjQv9C/0LjQvdGB0LrQvtC1INC/0LXRgdC+JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwaHAnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQp9C40LvQuNC50YHQutC+0LUg0L/QtdGB0L4nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NscCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ0gnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Co0LLQtdC50YbQsNGA0YHQutC40Lkg0YTRgNCw0L3QuicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjaGYnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1BLJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQrtC2LiDQkNC30LjRjyAtINCU0L7Qu9C70LDRgCDQodCo0JAnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXNkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdaQSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0K7QttC90L7QsNGE0YDQuNC60LDQvdGB0LrQuNC5INGA0Y3QvdC0JywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyOCwKICAgICAgICAgICAgICAgICAgICBpc286ICd6YXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0tSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQrtC20L3QvtC60L7RgNC10LnRgdC60LDRjyDQstC+0L3QsCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTYsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAna3J3JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdKUCc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0K/Qv9C+0L3RgdC60LDRjyDQuNC10L3QsCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogOCwKICAgICAgICAgICAgICAgICAgICBpc286ICdqcHknCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNvbnN0IFdHSF9DVVJSRU5DWV9DT0RFX1RPX0NPVU5UUlkgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoV0dIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQKS5tYXAoKFtjb3VudHJ5LCBkYXRhXSkgPT4gW2RhdGEuY29kZSwgY291bnRyeV0pKTsKICAgICAgICAgICAgY29uc3QgV0dIX0NVUlJFTkNZX0NPREVfVE9fSVNPID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKFdHSF9DT1VOVFJZX0NVUlJFTkNZX01BUCkubWFwKChbXywgZGF0YV0pID0+IFtkYXRhLmNvZGUsIGRhdGEuaXNvXSkpOwogICAgICAgICAgICBjb25zdCBXR0hfREVGQVVMVF9TT1JUID0geyBmaWVsZDogJ3ByaWNlJywgZGlyZWN0aW9uOiAnYXNjJyB9OwogICAgICAgICAgICBjb25zdCBXR0hfVEFHU19DQUNIRV9LRVkgPSAnU3RlYW1FbmhhbmNlcl9UYWdzQ2FjaGVfdjJfd2doJzsKICAgICAgICAgICAgY29uc3QgV0dIX1RBR1NfVVJMID0gImh0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vMHduM2RnMGQvMjJhMzUxZmY0YzY1ZTUwYTlhOGFmNmRhMzYwZGVmYWQvcmF3L3N0ZWFtcnV0YWdzb3duZC5qc29uIjsKICAgICAgICAgICAgY29uc3QgV0dIX0ZJTFRFUl9TVE9SQUdFX0tFWSA9ICd3Z2hfZmlsdGVyc192MSc7CiAgICAgICAgICAgIGNvbnN0IFdHSF9GSUxURVJfREVCT1VOQ0VfTVMgPSA0MDA7CgogICAgICAgICAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0KSB7CiAgICAgICAgICAgICAgICBsZXQgdGltZW91dDsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXRlciA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgICAgICBmdW5jKC4uLmFyZ3MpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVJlY29tbWVuZGVkUnViUHJpY2UocFVTRCkgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwVVNEICE9PSAnbnVtYmVyJyB8fCBpc05hTihwVVNEKSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA8IDAuOTkpIHJldHVybiA0MjsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDAuOTkgJiYgcFVTRCA8IDEuOTkpIHJldHVybiA0MjsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEuOTkgJiYgcFVTRCA8IDIuOTkpIHJldHVybiA4MjsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDIuOTkgJiYgcFVTRCA8IDMuOTkpIHJldHVybiAxMjU7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSAzLjk5ICYmIHBVU0QgPCA0Ljk5KSByZXR1cm4gMTY1OwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNC45OSAmJiBwVVNEIDwgNS45OSkgcmV0dXJuIDIwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDUuOTkgJiYgcFVTRCA8IDYuOTkpIHJldHVybiAyNDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA2Ljk5ICYmIHBVU0QgPCA3Ljk5KSByZXR1cm4gMjgwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNy45OSAmJiBwVVNEIDwgOC45OSkgcmV0dXJuIDMyMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDguOTkgJiYgcFVTRCA8IDkuOTkpIHJldHVybiAzNTA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA5Ljk5ICYmIHBVU0QgPCAxMC45OSkgcmV0dXJuIDM4NTsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEwLjk5ICYmIHBVU0QgPCAxMS45OSkgcmV0dXJuIDQyMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDExLjk5ICYmIHBVU0QgPCAxMi45OSkgcmV0dXJuIDQ2MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEyLjk5ICYmIHBVU0QgPCAxMy45OSkgcmV0dXJuIDQ5MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEzLjk5ICYmIHBVU0QgPCAxNC45OSkgcmV0dXJuIDUyMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE0Ljk5ICYmIHBVU0QgPCAxNS45OSkgcmV0dXJuIDU1MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE1Ljk5ICYmIHBVU0QgPCAxNi45OSkgcmV0dXJuIDU5MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE2Ljk5ICYmIHBVU0QgPCAxNy45OSkgcmV0dXJuIDYyMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE3Ljk5ICYmIHBVU0QgPCAxOC45OSkgcmV0dXJuIDY1MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE4Ljk5ICYmIHBVU0QgPCAxOS45OSkgcmV0dXJuIDY4MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE5Ljk5ICYmIHBVU0QgPCAyMi45OSkgcmV0dXJuIDcxMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDIyLjk5ICYmIHBVU0QgPCAyNy45OSkgcmV0dXJuIDg4MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDI3Ljk5ICYmIHBVU0QgPCAzMi45OSkgcmV0dXJuIDExMDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSAzMi45OSAmJiBwVVNEIDwgMzcuOTkpIHJldHVybiAxMjAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gMzcuOTkgJiYgcFVTRCA8IDQzLjk5KSByZXR1cm4gMTMwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDQzLjk5ICYmIHBVU0QgPCA0Ny45OSkgcmV0dXJuIDE1MDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA0Ny45OSAmJiBwVVNEIDwgNTIuOTkpIHJldHVybiAxNjAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNTIuOTkgJiYgcFVTRCA8IDU3Ljk5KSByZXR1cm4gMTc1MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDU3Ljk5ICYmIHBVU0QgPCA2My45OSkgcmV0dXJuIDE5MDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA2My45OSAmJiBwVVNEIDwgNjcuOTkpIHJldHVybiAyMTAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gNjcuOTkgJiYgcFVTRCA8IDc0Ljk5KSByZXR1cm4gMjI1MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDc0Ljk5ICYmIHBVU0QgPCA3OS45OSkgcmV0dXJuIDI0MDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA3OS45OSAmJiBwVVNEIDwgODQuOTkpIHJldHVybiAyNjAwOwogICAgICAgICAgICAgICAgaWYgKHBVU0QgPj0gODQuOTkgJiYgcFVTRCA8IDg5Ljk5KSByZXR1cm4gMjcwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDg5Ljk5ICYmIHBVU0QgPCA5OS45OSkgcmV0dXJuIDI5MDA7CiAgICAgICAgICAgICAgICBpZiAocFVTRCA+PSA5OS45OSAmJiBwVVNEIDwgMTA5Ljk5KSByZXR1cm4gMzIwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEwOS45OSAmJiBwVVNEIDwgMTE5Ljk5KSByZXR1cm4gMzU1MDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDExOS45OSAmJiBwVVNEIDwgMTI5Ljk5KSByZXR1cm4gMzkwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEyOS45OSAmJiBwVVNEIDwgMTM5Ljk5KSByZXR1cm4gNDIwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDEzOS45OSAmJiBwVVNEIDwgMTQ5Ljk5KSByZXR1cm4gNDUwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE0OS45OSAmJiBwVVNEIDwgMTk5Ljk5KSByZXR1cm4gNDgwMDsKICAgICAgICAgICAgICAgIGlmIChwVVNEID49IDE5OS45OSkgcmV0dXJuIDY1MDA7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IHdnaF9hbGxBcHBJZHMgPSBbXTsKICAgICAgICAgICAgbGV0IHdnaF9nYW1lRGF0YVN0b3JlID0ge307CiAgICAgICAgICAgIGxldCB3Z2hfY3VycmVudFJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgbGV0IHdnaF9jdXJyZW50VXNlckNvdW50cnlDb2RlID0gJ1JVJzsKICAgICAgICAgICAgbGV0IHdnaF9jdXJyZW50VXNlckN1cnJlbmN5Q29kZSA9IDU7CiAgICAgICAgICAgIGxldCB3Z2hfY3VycmVudFVzZXJJU09DdXJyZW5jeUNvZGUgPSAnUlVCJzsKICAgICAgICAgICAgbGV0IHdnaF9jdXJyZW50U29ydCA9IHsgLi4uV0dIX0RFRkFVTFRfU09SVCB9OwogICAgICAgICAgICBsZXQgd2doX2N1cnJlbnRGcmllbmRDb3VudHJ5Q29kZSA9IG51bGw7CiAgICAgICAgICAgIGxldCB3Z2hfZXhjaGFuZ2VSYXRlcyA9IG51bGw7CiAgICAgICAgICAgIGxldCB3Z2hfZ2lmdE1vZGVBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgbGV0IHdnaF9zaG93R2lmdGFibGVPbmx5ID0gZmFsc2U7CiAgICAgICAgICAgIGxldCB3Z2hfbW9kYWwsIHdnaF9jbG9zZUJ0biwgd2doX2FuYWx5emVCdG47CiAgICAgICAgICAgIGxldCB3Z2hfcmVzdWx0c0NvbnRhaW5lciwgd2doX3Jlc3VsdHNEaXYsIHdnaF9zdGF0dXNEaXYsIHdnaF9wcm9ncmVzc0JhcjsKICAgICAgICAgICAgbGV0IHdnaF9zb3J0QnV0dG9uc0NvbnRhaW5lcjsKICAgICAgICAgICAgbGV0IHdnaF9naWZ0TW9kZUNvbnRhaW5lciwgd2doX2dpZnRJY29uQnRuLCB3Z2hfZnJpZW5kUmVnaW9uU2VsZWN0LCB3Z2hfZmV0Y2hGcmllbmRQcmljZXNCdG4sIHdnaF9naWZ0UHJvZ3Jlc3NCYXIsIHdnaF9naWZ0YWJsZUZpbHRlckNoZWNrYm94OwogICAgICAgICAgICBsZXQgd2doX215UmVnaW9uRGlzcGxheTsKICAgICAgICAgICAgbGV0IHdnaF9maWx0ZXJUb2dnbGVCdG4sIHdnaF9maWx0ZXJBY2NvcmRpb25Db250YWluZXI7CiAgICAgICAgICAgIGxldCB3Z2hfY3VycmVudEZpbHRlcnMgPSBHTV9nZXRWYWx1ZShXR0hfRklMVEVSX1NUT1JBR0VfS0VZLCB7fSk7CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiB3Z2hfbG9hZFN0ZWFtVGFncygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IEdNX2dldFZhbHVlKFdHSF9UQUdTX0NBQ0hFX0tFWSwgeyBkYXRhOiBudWxsLCB0aW1lc3RhbXA6IDAgfSk7CiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICAgICAgICAgICAgY29uc3QgQ0FDSEVfRFVSQVRJT04gPSA3NDQgKiA2MCAqIDYwICogMTAwMDsKICAgICAgICAgICAgICAgIGlmIChjYWNoZWQuZGF0YSAmJiAobm93IC0gY2FjaGVkLnRpbWVzdGFtcCkgPCBDQUNIRV9EVVJBVElPTikgcmV0dXJuIGNhY2hlZC5kYXRhOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IEdNX3htbGh0dHBSZXF1ZXN0KHsgbWV0aG9kOiAiR0VUIiwgdXJsOiBXR0hfVEFHU19VUkwsIG9ubG9hZDogcmVzb2x2ZSwgb25lcnJvcjogcmVqZWN0IH0pKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoV0dIX1RBR1NfQ0FDSEVfS0VZLCB7IGRhdGE6IGRhdGEsIHRpbWVzdGFtcDogbm93IH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoJ1tXR0hdINCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGC0LXQs9C+0LI6JywgZSk7IHJldHVybiBjYWNoZWQuZGF0YSB8fCB7fTsgfQogICAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfYWRkQW5hbHl6ZUJ1dHRvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYuamZBbWxDbU56SFEtJyk7CiAgICAgICAgICAgICAgICBpZiAoIXRpdGxlQmxvY2sgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dnaEFuYWx5emVCdXR0b24nKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgd2doX2FuYWx5emVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIHdnaF9hbmFseXplQnRuLmlkID0gJ3dnaEFuYWx5emVCdXR0b24nOwogICAgICAgICAgICAgICAgd2doX2FuYWx5emVCdG4udGl0bGUgPSAn0J/QvtC80L7RidC90LjQuiDQv9C+0LTQsNGA0LrQvtCyJzsKICAgICAgICAgICAgICAgIHdnaF9hbmFseXplQnRuLmlubmVySFRNTCA9IGA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9ImN1cnJlbnRDb2xvciI+PHBhdGggZD0iTTE1LjUgMTRoLS43OWwtLjI4LS4yN0E2LjQ3MSA2LjQ3MSAwIDAgMCAxNiA5LjUgNi41IDYuNSAwIDEgMCA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0eiIvPjwvc3ZnPmA7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHdnaF9hbmFseXplQnRuLnN0eWxlLCB7IG1hcmdpbkxlZnQ6ICcxNXB4JywgYmFja2dyb3VuZDogJ3JnYmEoMTAzLCAxOTMsIDI0NSwgMC4xKScsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDEwMywgMTkzLCAyNDUsIDAuMyknLCBjb2xvcjogJyM2N2MxZjUnLCBib3JkZXJSYWRpdXM6ICczcHgnLCBjdXJzb3I6ICdwb2ludGVyJywgcGFkZGluZzogJzVweCA4cHgnLCBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyB9KTsKICAgICAgICAgICAgICAgIHdnaF9hbmFseXplQnRuLm9ubW91c2VvdmVyID0gKCkgPT4geyB3Z2hfYW5hbHl6ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMTAzLCAxOTMsIDI0NSwgMC4yKSc7IH07CiAgICAgICAgICAgICAgICB3Z2hfYW5hbHl6ZUJ0bi5vbm1vdXNlb3V0ID0gKCkgPT4geyB3Z2hfYW5hbHl6ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMTAzLCAxOTMsIDI0NSwgMC4xKSc7IH07CiAgICAgICAgICAgICAgICB3Z2hfYW5hbHl6ZUJ0bi5vbmNsaWNrID0gd2doX3Nob3dNb2RhbDsKICAgICAgICAgICAgICAgIGNvbnN0IGgyVGl0bGUgPSB0aXRsZUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ2gyJyk7CiAgICAgICAgICAgICAgICBpZiAoaDJUaXRsZSkgeyBoMlRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsgaDJUaXRsZS5hZnRlcih3Z2hfYW5hbHl6ZUJ0bik7IH0KICAgICAgICAgICAgICAgIGVsc2UgeyB0aXRsZUJsb2NrLmFwcGVuZENoaWxkKHdnaF9hbmFseXplQnRuKTsgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfY3JlYXRlRmlsdGVyQWNjb3JkaW9uKCkgewogICAgICAgICAgICAgICAgd2doX2ZpbHRlckFjY29yZGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgd2doX2ZpbHRlckFjY29yZGlvbkNvbnRhaW5lci5pZCA9ICd3Z2hGaWx0ZXJBY2NvcmRpb25Db250YWluZXInOwogICAgICAgICAgICAgICAgd2doX2ZpbHRlckFjY29yZGlvbkNvbnRhaW5lci5jbGFzc05hbWUgPSAnd2doQWNjb3JkaW9uQ29udGFpbmVyJzsKCiAgICAgICAgICAgICAgICBjb25zdCBycmNGaWx0ZXJIdG1sID0gd2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgPT09ICdSVScgPyBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doRmlsdGVyR3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9IndnaEZpbHRlckxhYmVsIj7QpNC40LvRjNGC0YAg0L/QviDQoNCg0KY8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hSYWRpb0dyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IndnaFJyY0ZpbHRlciIgdmFsdWU9ImFueSIgY2hlY2tlZD7QktGB0LU8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0id2doUnJjRmlsdGVyIiB2YWx1ZT0ibG93ZXIiPtCU0LXRiNC10LLQu9C1INCg0KDQpjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJ3Z2hScmNGaWx0ZXIiIHZhbHVlPSJlcXVhbCI+0KDQsNCy0L3QviDQoNCg0KY8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0id2doUnJjRmlsdGVyIiB2YWx1ZT0iaGlnaGVyIj7QlNC+0YDQvtC20LUg0KDQoNCmPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCA6ICcnOwoKICAgICAgICAgICAgICAgIHdnaF9maWx0ZXJBY2NvcmRpb25Db250YWluZXIuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaEZpbHRlckdyaWQiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hGaWx0ZXJHcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9IndnaEZpbHRlckxhYmVsIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ3Z2hGaWx0ZXJEaXNjb3VudGVkIj4g0KLQvtC70YzQutC+INGB0L4g0YHQutC40LTQutCw0LzQuDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9IndnaEZpbHRlckxhYmVsIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ3Z2hGaWx0ZXJOb1ByaWNlIj4g0KHQutGA0YvRgtGMINCx0LXQtyDRhtC10L3RizwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hGaWx0ZXJHcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9IndnaEZpbHRlckxhYmVsIj7QmtC+0Lst0LLQviDQvtCx0LfQvtGA0L7QsjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hSYW5nZUlucHV0Ij48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0id2doRmlsdGVyUmV2aWV3Q291bnRNaW4iIHBsYWNlaG9sZGVyPSLQntGCIj48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0id2doRmlsdGVyUmV2aWV3Q291bnRNYXgiIHBsYWNlaG9sZGVyPSLQlNC+Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaEZpbHRlckdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0id2doRmlsdGVyTGFiZWwiPtCg0LXQudGC0LjQvdCzINC+0LHQt9C+0YDQvtCyICglKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hSYW5nZUlucHV0Ij48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0id2doRmlsdGVyUmF0aW5nTWluIiBwbGFjZWhvbGRlcj0i0J7RgiI+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9IndnaEZpbHRlclJhdGluZ01heCIgcGxhY2Vob2xkZXI9ItCU0L4iPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doRmlsdGVyR3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJ3Z2hGaWx0ZXJMYWJlbCI+0KbQtdC90LA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doUmFuZ2VJbnB1dCI+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9IndnaEZpbHRlclByaWNlTWluIiBwbGFjZWhvbGRlcj0i0J7RgiI+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9IndnaEZpbHRlclByaWNlTWF4IiBwbGFjZWhvbGRlcj0i0JTQviI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hGaWx0ZXJHcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9IndnaEZpbHRlckxhYmVsIj7QodC60LjQtNC60LAgKCUpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaFJhbmdlSW5wdXQiPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJ3Z2hGaWx0ZXJEaXNjb3VudE1pbiIgcGxhY2Vob2xkZXI9ItCe0YIiPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJ3Z2hGaWx0ZXJEaXNjb3VudE1heCIgcGxhY2Vob2xkZXI9ItCU0L4iPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doRmlsdGVyR3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJ3Z2hGaWx0ZXJMYWJlbCI+0JTQsNGC0LAg0LLRi9GF0L7QtNCwPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaFJhbmdlSW5wdXQiPjxpbnB1dCB0eXBlPSJkYXRlIiBpZD0id2doRmlsdGVyRGF0ZU1pbiI+PGlucHV0IHR5cGU9ImRhdGUiIGlkPSJ3Z2hGaWx0ZXJEYXRlTWF4Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hGaWx0ZXJHcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9IndnaEZpbHRlckxhYmVsIj7QoNGD0YHRgdC60LjQuSDRj9C30YvQujwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hSYWRpb0dyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJ3Z2hMYW5nRmlsdGVyIiB2YWx1ZT0iYW55IiBjaGVja2VkPtCS0YHQtTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0id2doTGFuZ0ZpbHRlciIgdmFsdWU9InRleHRfb25seSI+0KLQvtC70YzQutC+INGC0LXQutGB0YI8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IndnaExhbmdGaWx0ZXIiIHZhbHVlPSJ2b2ljZSI+0J7Qt9Cy0YPRh9C60LA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IndnaExhbmdGaWx0ZXIiIHZhbHVlPSJub25lIj7QkdC10Lcg0L/QtdGA0LXQstC+0LTQsDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaEZpbHRlckdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0id2doRmlsdGVyTGFiZWwiPtCg0LDQvdC90LjQuSDQtNC+0YHRgtGD0L88L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doUmFkaW9Hcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0id2doRWFGaWx0ZXIiIHZhbHVlPSJhbnkiIGNoZWNrZWQ+0JLRgdC1PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJ3Z2hFYUZpbHRlciIgdmFsdWU9ImVhcmx5X2FjY2VzcyI+0KLQvtC70YzQutC+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJ3Z2hFYUZpbHRlciIgdmFsdWU9InJlbGVhc2VkIj7QkdC10Lc8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAke3JyY0ZpbHRlckh0bWx9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0id2doUmVzZXRGaWx0ZXJzIiBjbGFzcz0id2doQnRuIj7QodCx0YDQvtGB0LjRgtGMINGE0LjQu9GM0YLRgNGLPC9idXR0b24+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfY3JlYXRlTW9kYWwoKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dnaE1vZGFsJykpIHJldHVybjsKICAgICAgICAgICAgICAgIHdnaF9tb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgd2doX21vZGFsLmlkID0gJ3dnaE1vZGFsJzsKICAgICAgICAgICAgICAgIHdnaF9tb2RhbC5zdHlsZS5jc3NUZXh0ID0gYCBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMCwgMjAsIDI1LCAwLjk1KTsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDNweCk7IHotaW5kZXg6IDk5OTk7IGRpc3BsYXk6IG5vbmU7IGNvbG9yOiAjYzZkNGRmOyBmb250LWZhbWlseTogIk1vdGl2YSBTYW5zIiwgU2Fucy1zZXJpZiwgQXJpYWw7IG92ZXJmbG93OiBoaWRkZW47IGA7CiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pZCA9ICd3Z2hDb250YWluZXInOwogICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgaGVpZ2h0OiAxMDAlOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBwYWRkaW5nOiAxNXB4O2A7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5pZCA9ICd3Z2hIZWFkZXInOwogICAgICAgICAgICAgICAgaGVhZGVyLnN0eWxlLmNzc1RleHQgPSBgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7IHBhZGRpbmctYm90dG9tOiAxMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzNhNGY2YTsgbWFyZ2luLWJvdHRvbTogMTBweDsgZmxleC1zaHJpbms6IDA7IHBhZGRpbmctcmlnaHQ6IDQ1cHg7YDsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGNvbGxlY3RCdG4udGV4dENvbnRlbnQgPSAn0KHQvtCx0YDQsNGC0Ywg0LTQsNC90L3Ri9C1JzsKICAgICAgICAgICAgICAgIGNvbGxlY3RCdG4uaWQgPSAnd2doQ29sbGVjdEJ0bic7CiAgICAgICAgICAgICAgICBjb2xsZWN0QnRuLmNsYXNzTmFtZSA9ICd3Z2hCdG4gd2doUHJpbWFyeUJ0bic7CiAgICAgICAgICAgICAgICBjb2xsZWN0QnRuLm9uY2xpY2sgPSB3Z2hfY29sbGVjdERhdGE7CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoY29sbGVjdEJ0bik7CiAgICAgICAgICAgICAgICB3Z2hfc3RhdHVzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICB3Z2hfc3RhdHVzRGl2LmlkID0gJ3dnaFN0YXR1cyc7CiAgICAgICAgICAgICAgICB3Z2hfc3RhdHVzRGl2LnN0eWxlLmNzc1RleHQgPSBgZmxleC1ncm93OiAxOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICNhYWE7IG1pbi1oZWlnaHQ6IDM2cHg7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO2A7CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQod2doX3N0YXR1c0Rpdik7CgogICAgICAgICAgICAgICAgd2doX2ZpbHRlclRvZ2dsZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgd2doX2ZpbHRlclRvZ2dsZUJ0bi5pZCA9ICd3Z2hGaWx0ZXJUb2dnbGVCdG4nOwogICAgICAgICAgICAgICAgd2doX2ZpbHRlclRvZ2dsZUJ0bi5jbGFzc05hbWUgPSAnd2doQnRuJzsKICAgICAgICAgICAgICAgIHdnaF9maWx0ZXJUb2dnbGVCdG4udGl0bGUgPSAn0KTQuNC70YzRgtGA0YsnOwogICAgICAgICAgICAgICAgd2doX2ZpbHRlclRvZ2dsZUJ0bi5pbm5lckhUTUwgPSAn8J+boO+4jyc7CiAgICAgICAgICAgICAgICB3Z2hfZmlsdGVyVG9nZ2xlQnRuLm9uY2xpY2sgPSAoKSA9PiB7IHdnaF9maWx0ZXJBY2NvcmRpb25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IHdnaF9maWx0ZXJBY2NvcmRpb25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJ2Jsb2NrJyA6ICdub25lJzsgfTsKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZCh3Z2hfZmlsdGVyVG9nZ2xlQnRuKTsKCiAgICAgICAgICAgICAgICB3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHdnaF9zb3J0QnV0dG9uc0NvbnRhaW5lci5pZCA9ICd3Z2hTb3J0QnV0dG9ucyc7CiAgICAgICAgICAgICAgICB3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBkaXNwbGF5OiBmbGV4OyBnYXA6IDVweDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWxlZnQ6IGF1dG87YDsKICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZCh3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIpOwogICAgICAgICAgICAgICAgd2doX2dpZnRJY29uQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICB3Z2hfZ2lmdEljb25CdG4uaWQgPSAnd2doR2lmdE1vZGVCdG4nOwogICAgICAgICAgICAgICAgd2doX2dpZnRJY29uQnRuLmNsYXNzTmFtZSA9ICd3Z2hCdG4nOwogICAgICAgICAgICAgICAgd2doX2dpZnRJY29uQnRuLnRpdGxlID0gJ9Cg0LXQttC40Lwg0L/QvtC80L7RidC90LjQutCwINC/0L7QtNCw0YDQutC+0LInOwogICAgICAgICAgICAgICAgd2doX2dpZnRJY29uQnRuLmlubmVySFRNTCA9ICfwn46BJzsKICAgICAgICAgICAgICAgIHdnaF9naWZ0SWNvbkJ0bi5vbmNsaWNrID0gd2doX3RvZ2dsZUdpZnRNb2RlOwogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHdnaF9naWZ0SWNvbkJ0bik7CiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKCiAgICAgICAgICAgICAgICB3Z2hfZ2lmdE1vZGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHdnaF9naWZ0TW9kZUNvbnRhaW5lci5pZCA9ICd3Z2hHaWZ0QWNjb3JkaW9uQ29udGFpbmVyJzsKICAgICAgICAgICAgICAgIHdnaF9naWZ0TW9kZUNvbnRhaW5lci5jbGFzc05hbWUgPSAnd2doQWNjb3JkaW9uQ29udGFpbmVyJzsKCiAgICAgICAgICAgICAgICB3Z2hfY3JlYXRlRmlsdGVyQWNjb3JkaW9uKCk7CgogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdnaF9maWx0ZXJBY2NvcmRpb25Db250YWluZXIpOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdnaF9naWZ0TW9kZUNvbnRhaW5lcik7CgogICAgICAgICAgICAgICAgd2doX3Jlc3VsdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIHdnaF9yZXN1bHRzQ29udGFpbmVyLmlkID0gJ3dnaFJlc3VsdHNDb250YWluZXInOwogICAgICAgICAgICAgICAgd2doX3Jlc3VsdHNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGAgZmxleC1ncm93OiAxOyBvdmVyZmxvdy15OiBhdXRvOyBvdmVyZmxvdy14OiBoaWRkZW47IHNjcm9sbGJhci1jb2xvcjogIzRiNmY5YyAjMTcyMDJkOyBzY3JvbGxiYXItd2lkdGg6IHRoaW47IHBhZGRpbmctcmlnaHQ6IDVweDsgYDsKICAgICAgICAgICAgICAgIHdnaF9yZXN1bHRzQ29udGFpbmVyLmlubmVySFRNTCA9IGA8c3R5bGU+ICN3Z2hSZXN1bHRzQ29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhciB7IHdpZHRoOiA4cHg7IH0gI3dnaFJlc3VsdHNDb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsgYmFja2dyb3VuZDogIzE3MjAyZDsgYm9yZGVyLXJhZGl1czogNHB4OyB9ICN3Z2hSZXN1bHRzQ29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7IGJhY2tncm91bmQtY29sb3I6ICM0YjZmOWM7IGJvcmRlci1yYWRpdXM6IDRweDsgYm9yZGVyOiAycHggc29saWQgIzE3MjAyZDsgfSAjd2doUmVzdWx0c0NvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjNjdjMWY1OyB9IDwvc3R5bGU+YDsKICAgICAgICAgICAgICAgIHdnaF9yZXN1bHRzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICB3Z2hfcmVzdWx0c0Rpdi5pZCA9ICd3Z2hSZXN1bHRzJzsKICAgICAgICAgICAgICAgIHdnaF9yZXN1bHRzRGl2LnN0eWxlLmNzc1RleHQgPSBgIGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyBwYWRkaW5nLXRvcDogNXB4OyBgOwogICAgICAgICAgICAgICAgd2doX3Jlc3VsdHNDb250YWluZXIuYXBwZW5kQ2hpbGQod2doX3Jlc3VsdHNEaXYpOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdnaF9yZXN1bHRzQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIHdnaF9wcm9ncmVzc0JhciA9IHdnaF9jcmVhdGVQcm9ncmVzc0Jhcignd2doTWFpblByb2dyZXNzJyk7CiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQod2doX3Byb2dyZXNzQmFyKTsKICAgICAgICAgICAgICAgIHdnaF9naWZ0UHJvZ3Jlc3NCYXIgPSB3Z2hfY3JlYXRlUHJvZ3Jlc3NCYXIoJ3dnaEdpZnRQcm9ncmVzcycpOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdnaF9naWZ0UHJvZ3Jlc3NCYXIpOwogICAgICAgICAgICAgICAgd2doX2Nsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICB3Z2hfY2xvc2VCdG4uaWQgPSAnd2doQ2xvc2VCdG4nOwogICAgICAgICAgICAgICAgd2doX2Nsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7JzsKICAgICAgICAgICAgICAgIHdnaF9jbG9zZUJ0bi5vbmNsaWNrID0gd2doX2hpZGVNb2RhbDsKICAgICAgICAgICAgICAgIHdnaF9jbG9zZUJ0bi5zdHlsZS5jc3NUZXh0ID0gYCBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgcmlnaHQ6IDE1cHg7IGZvbnQtc2l6ZTogMzBweDsgY29sb3I6ICNhYWE7IGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlcjogbm9uZTsgY3Vyc29yOiBwb2ludGVyOyBsaW5lLWhlaWdodDogMTsgei1pbmRleDogMTAwMDI7IHBhZGRpbmc6IDVweDsgdHJhbnNpdGlvbjogY29sb3IgMC4ycywgdHJhbnNmb3JtIDAuMnM7IGA7CiAgICAgICAgICAgICAgICB3Z2hfY2xvc2VCdG4ub25tb3VzZW92ZXIgPSAoKSA9PiB7IHdnaF9jbG9zZUJ0bi5zdHlsZS5jb2xvciA9ICcjZmZmJzsgd2doX2Nsb3NlQnRuLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjEpJzsgfTsKICAgICAgICAgICAgICAgIHdnaF9jbG9zZUJ0bi5vbm1vdXNlb3V0ID0gKCkgPT4geyB3Z2hfY2xvc2VCdG4uc3R5bGUuY29sb3IgPSAnI2FhYSc7IHdnaF9jbG9zZUJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknOyB9OwogICAgICAgICAgICAgICAgd2doX21vZGFsLmFwcGVuZENoaWxkKHdnaF9jbG9zZUJ0bik7CiAgICAgICAgICAgICAgICB3Z2hfbW9kYWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQod2doX21vZGFsKTsKICAgICAgICAgICAgICAgIHdnaF9jcmVhdGVTb3J0QnV0dG9ucygpOwogICAgICAgICAgICAgICAgd2doX2NyZWF0ZUdpZnRBY2NvcmRpb24oKTsKICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CiAgICAgICAgICAgICAgICB3Z2hfc2V0dXBGaWx0ZXJFdmVudExpc3RlbmVycygpOwoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUVzYyhldmVudCkgewogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3Z2hEZXNjcmlwdGlvbk1vZGFsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjTW9kYWwpIHsgZGVzY01vZGFsLnJlbW92ZSgpOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyB3Z2hfaGlkZU1vZGFsKCk7IH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjKTsKICAgICAgICAgICAgICAgIHdnaF9tb2RhbC5fZXNjSGFuZGxlciA9IGhhbmRsZUVzYzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX3Nob3dNb2RhbCgpIHsKICAgICAgICAgICAgICAgIGlmICghd2doX21vZGFsKSB3Z2hfY3JlYXRlTW9kYWwoKTsKICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoJ9Cd0LDQttC80LjRgtC1ICLQodC+0LHRgNCw0YLRjCDQtNCw0L3QvdGL0LUiINC00LvRjyDQsNC90LDQu9C40LfQsCDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+LicpOwogICAgICAgICAgICAgICAgd2doX3Jlc3VsdHNEaXYuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICB3Z2hfZ2FtZURhdGFTdG9yZSA9IHt9OwogICAgICAgICAgICAgICAgd2doX2hpZGVHaWZ0TW9kZSh0cnVlKTsKICAgICAgICAgICAgICAgIHdnaF9maWx0ZXJBY2NvcmRpb25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIHdnaF9oaWRlUHJvZ3Jlc3NCYXIod2doX3Byb2dyZXNzQmFyKTsKICAgICAgICAgICAgICAgIHdnaF9oaWRlUHJvZ3Jlc3NCYXIod2doX2dpZnRQcm9ncmVzc0Jhcik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICAgICAgICB3Z2hfbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9oaWRlTW9kYWwoKSB7CiAgICAgICAgICAgICAgICBpZiAod2doX21vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgd2doX21vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdnaF9tb2RhbC5fZXNjSGFuZGxlcikgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgd2doX21vZGFsLl9lc2NIYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdnaF9tb2RhbC5fZXNjSGFuZGxlcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF91cGRhdGVTdGF0dXMobWVzc2FnZSwgaXNMb2FkaW5nID0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGlmICh3Z2hfc3RhdHVzRGl2KSB7CiAgICAgICAgICAgICAgICAgICAgd2doX3N0YXR1c0Rpdi5pbm5lckhUTUwgPSBtZXNzYWdlICsgKGlzTG9hZGluZyA/ICcgPHNwYW4gY2xhc3M9IndnaFNwaW5uZXIiPjwvc3Bhbj4nIDogJycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3Z2hDb2xsZWN0QnRuJyk7CiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdEJ0bikgY29sbGVjdEJ0bi5kaXNhYmxlZCA9IGlzTG9hZGluZzsKICAgICAgICAgICAgICAgIGlmICh3Z2hfZmV0Y2hGcmllbmRQcmljZXNCdG4pIHdnaF9mZXRjaEZyaWVuZFByaWNlc0J0bi5kaXNhYmxlZCA9IGlzTG9hZGluZzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgZGVib3VuY2VkRmlsdGVyQXBwbGljYXRpb24gPSBkZWJvdW5jZSgoKSA9PiB7CiAgICAgICAgICAgICAgICB3Z2hfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICB3Z2hfdXBkYXRlRmlsdGVyUGxhY2Vob2xkZXJzKCk7CiAgICAgICAgICAgIH0sIFdHSF9GSUxURVJfREVCT1VOQ0VfTVMpOwoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX3NldHVwRmlsdGVyRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dHMgPSBbJ3dnaEZpbHRlclJldmlld0NvdW50TWluJywgJ3dnaEZpbHRlclJldmlld0NvdW50TWF4JywgJ3dnaEZpbHRlclJhdGluZ01pbicsICd3Z2hGaWx0ZXJSYXRpbmdNYXgnLCAnd2doRmlsdGVyUHJpY2VNaW4nLCAnd2doRmlsdGVyUHJpY2VNYXgnLCAnd2doRmlsdGVyRGlzY291bnRNaW4nLCAnd2doRmlsdGVyRGlzY291bnRNYXgnLCAnd2doRmlsdGVyRGF0ZU1pbicsICd3Z2hGaWx0ZXJEYXRlTWF4J107CiAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaChpZCA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZGVib3VuY2VkRmlsdGVyQXBwbGljYXRpb24pKTsKCiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gWyd3Z2hGaWx0ZXJEaXNjb3VudGVkJywgJ3dnaEZpbHRlck5vUHJpY2UnXTsKICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChpZCA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGRlYm91bmNlZEZpbHRlckFwcGxpY2F0aW9uKSk7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT0id2doTGFuZ0ZpbHRlciJdJykuZm9yRWFjaChyYWRpbyA9PiByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBkZWJvdW5jZWRGaWx0ZXJBcHBsaWNhdGlvbikpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT0id2doRWFGaWx0ZXIiXScpLmZvckVhY2gocmFkaW8gPT4gcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZGVib3VuY2VkRmlsdGVyQXBwbGljYXRpb24pKTsKCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2doUmVzZXRGaWx0ZXJzJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN3Z2hGaWx0ZXJBY2NvcmRpb25Db250YWluZXIgaW5wdXQnKS5mb3JFYWNoKGlucHV0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIGlucHV0LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInIHx8IGlucHV0LnR5cGUgPT09ICdkYXRlJykgaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdyYWRpbycgJiYgaW5wdXQudmFsdWUgPT09ICdhbnknKSBpbnB1dC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZWRGaWx0ZXJBcHBsaWNhdGlvbigpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPSJ3Z2hScmNGaWx0ZXIiXScpLmZvckVhY2gocmFkaW8gPT4gcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZGVib3VuY2VkRmlsdGVyQXBwbGljYXRpb24pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX2FwcGx5RmlsdGVycygpIHsKICAgICAgICAgICAgICAgICBpZiAoIXdnaF9yZXN1bHRzRGl2KSByZXR1cm47CgogICAgICAgICAgICAgICAgIGNvbnN0IGdldFZhbCA9IChpZCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpPy52YWx1ZSB8fCBudWxsOwogICAgICAgICAgICAgICAgIGNvbnN0IGdldE51bSA9IChpZCkgPT4geyBjb25zdCB2ID0gZ2V0VmFsKGlkKTsgcmV0dXJuIHYgPyBwYXJzZUZsb2F0KHYpIDogbnVsbDsgfTsKICAgICAgICAgICAgICAgICBjb25zdCBnZXRDaGVja2VkID0gKGlkKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk/LmNoZWNrZWQgfHwgZmFsc2U7CiAgICAgICAgICAgICAgICAgY29uc3QgZ2V0UmFkaW8gPSAobmFtZSkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT0iJHtuYW1lfSJdOmNoZWNrZWRgKT8udmFsdWUgfHwgJ2FueSc7CgogICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcnMgPSB7CiAgICAgICAgICAgICAgICAgICAgIG9ubHlEaXNjb3VudDogZ2V0Q2hlY2tlZCgnd2doRmlsdGVyRGlzY291bnRlZCcpLAogICAgICAgICAgICAgICAgICAgICBoaWRlTm9QcmljZTogZ2V0Q2hlY2tlZCgnd2doRmlsdGVyTm9QcmljZScpLAogICAgICAgICAgICAgICAgICAgICByZXZpZXdDb3VudE1pbjogZ2V0TnVtKCd3Z2hGaWx0ZXJSZXZpZXdDb3VudE1pbicpLAogICAgICAgICAgICAgICAgICAgICByZXZpZXdDb3VudE1heDogZ2V0TnVtKCd3Z2hGaWx0ZXJSZXZpZXdDb3VudE1heCcpLAogICAgICAgICAgICAgICAgICAgICByYXRpbmdNaW46IGdldE51bSgnd2doRmlsdGVyUmF0aW5nTWluJyksCiAgICAgICAgICAgICAgICAgICAgIHJhdGluZ01heDogZ2V0TnVtKCd3Z2hGaWx0ZXJSYXRpbmdNYXgnKSwKICAgICAgICAgICAgICAgICAgICAgcHJpY2VNaW46IGdldE51bSgnd2doRmlsdGVyUHJpY2VNaW4nKSwKICAgICAgICAgICAgICAgICAgICAgcHJpY2VNYXg6IGdldE51bSgnd2doRmlsdGVyUHJpY2VNYXgnKSwKICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRNaW46IGdldE51bSgnd2doRmlsdGVyRGlzY291bnRNaW4nKSwKICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRNYXg6IGdldE51bSgnd2doRmlsdGVyRGlzY291bnRNYXgnKSwKICAgICAgICAgICAgICAgICAgICAgZGF0ZU1pbjogZ2V0VmFsKCd3Z2hGaWx0ZXJEYXRlTWluJykgPyBuZXcgRGF0ZShnZXRWYWwoJ3dnaEZpbHRlckRhdGVNaW4nKSkuZ2V0VGltZSgpIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgZGF0ZU1heDogZ2V0VmFsKCd3Z2hGaWx0ZXJEYXRlTWF4JykgPyBuZXcgRGF0ZShnZXRWYWwoJ3dnaEZpbHRlckRhdGVNYXgnKSkuZ2V0VGltZSgpIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgbGFuZzogZ2V0UmFkaW8oJ3dnaExhbmdGaWx0ZXInKSwKICAgICAgICAgICAgICAgICAgICAgZWE6IGdldFJhZGlvKCd3Z2hFYUZpbHRlcicpLAogICAgICAgICAgICAgICAgICAgICBycmM6IGdldFJhZGlvKCd3Z2hScmNGaWx0ZXInKQogICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFdHSF9GSUxURVJfU1RPUkFHRV9LRVksIGZpbHRlcnMpOwoKICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53Z2hHYW1lQ2FyZCcpOwogICAgICAgICAgICAgICAgIGNvbnN0IHZpc2libGVHYW1lc0RhdGEgPSBbXTsKCiAgICAgICAgICAgICAgICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwaWQgPSBjYXJkLmRhdGFzZXQuYXBwaWQ7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gd2doX2dhbWVEYXRhU3RvcmVbYXBwaWRdPy5teURhdGE7CiAgICAgICAgICAgICAgICAgICAgIGlmICghZ2FtZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgbGV0IGlzVmlzaWJsZSA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVycy5vbmx5RGlzY291bnQgJiYgKCFnYW1lRGF0YS5wcmljZURhdGEgfHwgZ2FtZURhdGEucHJpY2VEYXRhLmRpc2NvdW50UGVyY2VudCA8PSAwKSkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZmlsdGVycy5oaWRlTm9QcmljZSAmJiAoIWdhbWVEYXRhLnByaWNlRGF0YSB8fCBnYW1lRGF0YS5wcmljZURhdGEuZmluYWxDZW50cyA9PT0gbnVsbCkpIGlzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICBpZiAoaXNWaXNpYmxlICYmIGZpbHRlcnMucmV2aWV3Q291bnRNaW4gIT09IG51bGwgJiYgZ2FtZURhdGEucmV2aWV3Q291bnQgPCBmaWx0ZXJzLnJldmlld0NvdW50TWluKSBpc1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiBmaWx0ZXJzLnJldmlld0NvdW50TWF4ICE9PSBudWxsICYmIGdhbWVEYXRhLnJldmlld0NvdW50ID4gZmlsdGVycy5yZXZpZXdDb3VudE1heCkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZmlsdGVycy5yYXRpbmdNaW4gIT09IG51bGwgJiYgZ2FtZURhdGEucmV2aWV3UGVyY2VudCA8IGZpbHRlcnMucmF0aW5nTWluKSBpc1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiBmaWx0ZXJzLnJhdGluZ01heCAhPT0gbnVsbCAmJiBnYW1lRGF0YS5yZXZpZXdQZXJjZW50ID4gZmlsdGVycy5yYXRpbmdNYXgpIGlzVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiBnYW1lRGF0YS5wcmljZURhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gZ2FtZURhdGEucHJpY2VEYXRhLmZpbmFsQ2VudHMgLyAxMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVycy5wcmljZU1pbiAhPT0gbnVsbCAmJiBwcmljZSA8IGZpbHRlcnMucHJpY2VNaW4pIGlzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiBmaWx0ZXJzLnByaWNlTWF4ICE9PSBudWxsICYmIHByaWNlID4gZmlsdGVycy5wcmljZU1heCkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZ2FtZURhdGEucHJpY2VEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnQgPSBnYW1lRGF0YS5wcmljZURhdGEuZGlzY291bnRQZXJjZW50IHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVycy5kaXNjb3VudE1pbiAhPT0gbnVsbCAmJiBkaXNjb3VudCA8IGZpbHRlcnMuZGlzY291bnRNaW4pIGlzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiBmaWx0ZXJzLmRpc2NvdW50TWF4ICE9PSBudWxsICYmIGRpc2NvdW50ID4gZmlsdGVycy5kaXNjb3VudE1heCkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZ2FtZURhdGEucmVsZWFzZURhdGVUaW1lc3RhbXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRlID0gZ2FtZURhdGEucmVsZWFzZURhdGVUaW1lc3RhbXAgKiAxMDAwOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnMuZGF0ZU1pbiAmJiBpdGVtRGF0ZSA8IGZpbHRlcnMuZGF0ZU1pbikgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWaXNpYmxlICYmIGZpbHRlcnMuZGF0ZU1heCAmJiBpdGVtRGF0ZSA+IGZpbHRlcnMuZGF0ZU1heCkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZmlsdGVycy5sYW5nICE9PSAnYW55JykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5nU3VwcG9ydCA9IGdhbWVEYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbiB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzVm9pY2UgPSBsYW5nU3VwcG9ydC5mdWxsX2F1ZGlvOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNUZXh0ID0gbGFuZ1N1cHBvcnQuc3VwcG9ydGVkIHx8IGxhbmdTdXBwb3J0LnN1YnRpdGxlczsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnMubGFuZyA9PT0gJ3RleHRfb25seScgJiYgKCFoYXNUZXh0IHx8IGhhc1ZvaWNlKSkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzLmxhbmcgPT09ICd2b2ljZScgJiYgIWhhc1ZvaWNlKSBpc1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnMubGFuZyA9PT0gJ25vbmUnICYmIChoYXNUZXh0IHx8IGhhc1ZvaWNlKSkgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZmlsdGVycy5lYSAhPT0gJ2FueScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzLmVhID09PSAnZWFybHlfYWNjZXNzJyAmJiAhZ2FtZURhdGEuaXNfZWFybHlfYWNjZXNzKSBpc1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzLmVhID09PSAncmVsZWFzZWQnICYmIGdhbWVEYXRhLmlzX2Vhcmx5X2FjY2VzcykgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgZmlsdGVycy5ycmMgIT09ICdhbnknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBycmNTdGF0dXMgPSBnYW1lRGF0YS5ycmNJbmZvPy5zdGF0dXM7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJyY1N0YXR1cyB8fCBycmNTdGF0dXMgIT09IGZpbHRlcnMucnJjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgJiYgd2doX3Nob3dHaWZ0YWJsZU9ubHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNHaWZ0YWJsZUJ5UHJpY2UgPSBjYXJkLmRhdGFzZXQuZ2lmdGFibGVQcmljZSA9PT0gJ3RydWUnOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5HaWZ0QnlBcGkgPSBjYXJkLmRhdGFzZXQuY2FuR2lmdEFwaSA9PT0gJ3RydWUnOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzR2lmdGFibGVCeVByaWNlIHx8ICFjYW5HaWZ0QnlBcGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/ICdmbGV4JyA6ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgaWYoaXNWaXNpYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVHYW1lc0RhdGEucHVzaChnYW1lRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZUZpbHRlclBsYWNlaG9sZGVycyh2aXNpYmxlR2FtZXNEYXRhKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX3VwZGF0ZUZpbHRlclBsYWNlaG9sZGVycygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkR2FtZXMgPSBPYmplY3QudmFsdWVzKHdnaF9nYW1lRGF0YVN0b3JlKS5maWx0ZXIoZ2FtZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC53Z2hHYW1lQ2FyZFtkYXRhLWFwcGlkPSIke2dhbWUubXlEYXRhLmFwcGlkfSJdYCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhcmQgJiYgY2FyZC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSc7CiAgICAgICAgICAgICAgICB9KS5tYXAoZ2FtZSA9PiBnYW1lLm15RGF0YSk7CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkR2FtZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgIFsnd2doRmlsdGVyUmV2aWV3Q291bnRNaW4nLCAnd2doRmlsdGVyUmV2aWV3Q291bnRNYXgnLCAnd2doRmlsdGVyUmF0aW5nTWluJywgJ3dnaEZpbHRlclJhdGluZ01heCcsICd3Z2hGaWx0ZXJQcmljZU1pbicsICd3Z2hGaWx0ZXJQcmljZU1heCcsICd3Z2hGaWx0ZXJEaXNjb3VudE1pbicsICd3Z2hGaWx0ZXJEaXNjb3VudE1heCddLmZvckVhY2goaWQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSBlbC5wbGFjZWhvbGRlciA9ICdOL0EnOwogICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gewogICAgICAgICAgICAgICAgICAgIG1pblJldmlld3M6IEluZmluaXR5LCBtYXhSZXZpZXdzOiAwLCBtaW5SYXRpbmc6IDEwMSwgbWF4UmF0aW5nOiAwLAogICAgICAgICAgICAgICAgICAgIG1pblByaWNlOiBJbmZpbml0eSwgbWF4UHJpY2U6IDAsIG1pbkRpc2NvdW50OiAxMDEsIG1heERpc2NvdW50OiAwCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGZpbHRlcmVkR2FtZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5yZXZpZXdDb3VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMubWluUmV2aWV3cyA9IE1hdGgubWluKHN0YXRzLm1pblJldmlld3MsIGl0ZW0ucmV2aWV3Q291bnQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzdGF0cy5tYXhSZXZpZXdzID0gTWF0aC5tYXgoc3RhdHMubWF4UmV2aWV3cywgaXRlbS5yZXZpZXdDb3VudCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnJldmlld0NvdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0cy5taW5SYXRpbmcgPSBNYXRoLm1pbihzdGF0cy5taW5SYXRpbmcsIGl0ZW0ucmV2aWV3UGVyY2VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm1heFJhdGluZyA9IE1hdGgubWF4KHN0YXRzLm1heFJhdGluZywgaXRlbS5yZXZpZXdQZXJjZW50KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJpY2VEYXRhICYmIGl0ZW0ucHJpY2VEYXRhLmZpbmFsQ2VudHMgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBpdGVtLnByaWNlRGF0YS5maW5hbENlbnRzIC8gMTAwOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0cy5taW5QcmljZSA9IE1hdGgubWluKHN0YXRzLm1pblByaWNlLCBwcmljZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm1heFByaWNlID0gTWF0aC5tYXgoc3RhdHMubWF4UHJpY2UsIHByaWNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJpY2VEYXRhICYmIGl0ZW0ucHJpY2VEYXRhLmRpc2NvdW50UGVyY2VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMubWluRGlzY291bnQgPSBNYXRoLm1pbihzdGF0cy5taW5EaXNjb3VudCwgaXRlbS5wcmljZURhdGEuZGlzY291bnRQZXJjZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMubWF4RGlzY291bnQgPSBNYXRoLm1heChzdGF0cy5tYXhEaXNjb3VudCwgaXRlbS5wcmljZURhdGEuZGlzY291bnRQZXJjZW50KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBzZXRQbGFjZWhvbGRlciA9IChpZCwgcHJlZml4LCB2YWx1ZSwgZmFsbGJhY2sgPSAnTi9BJykgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IEluZmluaXR5ICYmIHZhbHVlICE9PSAtSW5maW5pdHkgJiYgdmFsdWUgIT09IDEwMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLnBsYWNlaG9sZGVyID0gYCR7cHJlZml4fSAke01hdGgucm91bmQodmFsdWUpfWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwucGxhY2Vob2xkZXIgPSBmYWxsYmFjazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgc2V0UGxhY2Vob2xkZXIoJ3dnaEZpbHRlclJldmlld0NvdW50TWluJywgJ9Ce0YInLCBzdGF0cy5taW5SZXZpZXdzKTsKICAgICAgICAgICAgICAgIHNldFBsYWNlaG9sZGVyKCd3Z2hGaWx0ZXJSZXZpZXdDb3VudE1heCcsICfQlNC+Jywgc3RhdHMubWF4UmV2aWV3cyk7CiAgICAgICAgICAgICAgICBzZXRQbGFjZWhvbGRlcignd2doRmlsdGVyUmF0aW5nTWluJywgJ9Ce0YInLCBzdGF0cy5taW5SYXRpbmcgPT09IDEwMSA/IDAgOiBzdGF0cy5taW5SYXRpbmcpOwogICAgICAgICAgICAgICAgc2V0UGxhY2Vob2xkZXIoJ3dnaEZpbHRlclJhdGluZ01heCcsICfQlNC+Jywgc3RhdHMubWF4UmF0aW5nKTsKICAgICAgICAgICAgICAgIHNldFBsYWNlaG9sZGVyKCd3Z2hGaWx0ZXJQcmljZU1pbicsICfQntGCJywgc3RhdHMubWluUHJpY2UpOwogICAgICAgICAgICAgICAgc2V0UGxhY2Vob2xkZXIoJ3dnaEZpbHRlclByaWNlTWF4JywgJ9CU0L4nLCBzdGF0cy5tYXhQcmljZSk7CiAgICAgICAgICAgICAgICBzZXRQbGFjZWhvbGRlcignd2doRmlsdGVyRGlzY291bnRNaW4nLCAn0J7RgicsIHN0YXRzLm1pbkRpc2NvdW50ID09PSAxMDEgPyAwIDogc3RhdHMubWluRGlzY291bnQpOwogICAgICAgICAgICAgICAgc2V0UGxhY2Vob2xkZXIoJ3dnaEZpbHRlckRpc2NvdW50TWF4JywgJ9CU0L4nLCBzdGF0cy5tYXhEaXNjb3VudCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHdnaF9jb2xsZWN0RGF0YSgpIHsKICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoJ9CY0LfQstC70LXRh9C10L3QuNC1IEFwcElELi4uJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICB3Z2hfcmVzdWx0c0Rpdi5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIHdnaF9nYW1lRGF0YVN0b3JlID0ge307CiAgICAgICAgICAgICAgICB3Z2hfaGlkZUdpZnRNb2RlKHRydWUpOwogICAgICAgICAgICAgICAgd2doX3Nob3dQcm9ncmVzc0Jhcih3Z2hfcHJvZ3Jlc3NCYXIsIDApOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgd2doX2FsbEFwcElkcyA9IGF3YWl0IHdnaF9leHRyYWN0QXBwSWRzRnJvbVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXdnaF9hbGxBcHBJZHMgfHwgd2doX2FsbEFwcElkcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cygn0J3QtSDRg9C00LDQu9C+0YHRjCDQvdCw0LnRgtC4INC40LPRgNGLINCyINGB0L/QuNGB0LrQtSDQttC10LvQsNC10LzQvtCz0L4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHdnaF9oaWRlUHJvZ3Jlc3NCYXIod2doX3Byb2dyZXNzQmFyKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEdhbWVzID0gd2doX2FsbEFwcElkcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxCYXRjaGVzID0gTWF0aC5jZWlsKHRvdGFsR2FtZXMgLyBXR0hfQkFUQ0hfU0laRSk7CiAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cyhg0J3QsNC50LTQtdC90L4gJHt0b3RhbEdhbWVzfSDQuNCz0YAuINCX0LDQv9GA0L7RgSDQtNCw0L3QvdGL0YUg0LTQu9GPINCy0LDRiNC10LPQviDRgNC10LPQuNC+0L3QsC4uLiAoMC8ke3RvdGFsQmF0Y2hlc30pYCwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxHYW1lczsgaSArPSBXR0hfQkFUQ0hfU0laRSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHdnaF9hbGxBcHBJZHMuc2xpY2UoaSwgaSArIFdHSF9CQVRDSF9TSVpFKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2hEYXRhID0gYXdhaXQgd2doX2ZldGNoQmF0Y2hHYW1lRGF0YShiYXRjaCwgd2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUpOwogICAgICAgICAgICAgICAgICAgICAgICB3Z2hfcHJvY2Vzc0JhdGNoRGF0YShiYXRjaERhdGEsICdteURhdGEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAoKGkgKyBiYXRjaC5sZW5ndGgpIC8gdG90YWxHYW1lcykgKiAod2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgPT09ICdSVScgPyA1MCA6IDEwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVQcm9ncmVzc0Jhcih3Z2hfcHJvZ3Jlc3NCYXIsIHByb2dyZXNzKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cyhg0JfQsNC/0YDQvtGBINC00LDQvdC90YvRhSDQtNC70Y8g0LLQsNGI0LXQs9C+INGA0LXQs9C40L7QvdCwLi4uICgke01hdGguY2VpbCgoaSArIGJhdGNoLmxlbmd0aCkvV0dIX0JBVENIX1NJWkUpfS8ke3RvdGFsQmF0Y2hlc30pYCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMjAwKSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAod2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgPT09ICdSVScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cyhg0JfQsNC/0YDQvtGBINC00LDQvdC90YvRhSDQuNC3IFVTINC00LvRjyDQsNC90LDQu9C40LfQsCDQoNCg0KYuLi4gKDAvJHt0b3RhbEJhdGNoZXN9KWAsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsR2FtZXM7IGkgKz0gV0dIX0JBVENIX1NJWkUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gd2doX2FsbEFwcElkcy5zbGljZShpLCBpICsgV0dIX0JBVENIX1NJWkUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNCYXRjaERhdGEgPSBhd2FpdCB3Z2hfZmV0Y2hCYXRjaEdhbWVEYXRhKGJhdGNoLCAnVVMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdnaF9wcm9jZXNzQmF0Y2hEYXRhKHVzQmF0Y2hEYXRhLCAndXNEYXRhJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IDUwICsgKCgoaSArIGJhdGNoLmxlbmd0aCkgLyB0b3RhbEdhbWVzKSAqIDUwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVQcm9ncmVzc0Jhcih3Z2hfcHJvZ3Jlc3NCYXIsIHByb2dyZXNzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoYNCX0LDQv9GA0L7RgSDQtNCw0L3QvdGL0YUg0LjQtyBVUy4uLiAoJHtNYXRoLmNlaWwoKGkgKyBiYXRjaC5sZW5ndGgpL1dHSF9CQVRDSF9TSVpFKX0vJHt0b3RhbEJhdGNoZXN9KWAsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAyMDApKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB3Z2hfcHJvY2Vzc1JyY0RhdGEoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoYNCU0LDQvdC90YvQtSDQtNC70Y8gJHtPYmplY3Qua2V5cyh3Z2hfZ2FtZURhdGFTdG9yZSkubGVuZ3RofSDQuNCz0YAg0L/QvtC70YPRh9C10L3Riy5gKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfYXBwbHlTb3J0KHdnaF9jdXJyZW50U29ydC5maWVsZCwgd2doX2N1cnJlbnRTb3J0LmRpcmVjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2doX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfaGlkZVByb2dyZXNzQmFyKHdnaF9wcm9ncmVzc0Jhcik7CiAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZUZpbHRlclBsYWNlaG9sZGVycygpOwoKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cyhg0J7RiNC40LHQutCwINC/0YDQuCDRgdCx0L7RgNC1INC00LDQvdC90YvRhTogJHtlcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXR0hdINCe0YjQuNCx0LrQsCDRgdCx0L7RgNCwINC00LDQvdC90YvRhTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgd2doX2hpZGVQcm9ncmVzc0Jhcih3Z2hfcHJvZ3Jlc3NCYXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfcHJvY2Vzc1JyY0RhdGEoKSB7CiAgICAgICAgICAgICAgICBpZiAod2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgIT09ICdSVScpIHJldHVybjsKCiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFwcGlkIGluIHdnaF9nYW1lRGF0YVN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZSA9IHdnaF9nYW1lRGF0YVN0b3JlW2FwcGlkXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5teURhdGEgJiYgZ2FtZS51c0RhdGEgJiYgZ2FtZS5teURhdGEucHJpY2VEYXRhICYmIGdhbWUudXNEYXRhLnByaWNlRGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c1ByaWNlQ2VudHMgPSBnYW1lLnVzRGF0YS5wcmljZURhdGEub3JpZ2luYWxDZW50cyA/PyBnYW1lLnVzRGF0YS5wcmljZURhdGEuZmluYWxDZW50czsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcnVQcmljZUNlbnRzID0gZ2FtZS5teURhdGEucHJpY2VEYXRhLm9yaWdpbmFsQ2VudHMgPz8gZ2FtZS5teURhdGEucHJpY2VEYXRhLmZpbmFsQ2VudHM7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNQcmljZUNlbnRzICE9PSBudWxsICYmIHJ1UHJpY2VDZW50cyAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcFVTRCA9IHVzUHJpY2VDZW50cyAvIDEwMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFJ1YlByaWNlID0gcnVQcmljZUNlbnRzIC8gMTAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjb21tZW5kZWRSdWJQcmljZSA9IGNhbGN1bGF0ZVJlY29tbWVuZGVkUnViUHJpY2UocFVTRCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29tbWVuZGVkUnViUHJpY2UgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gYWN0dWFsUnViUHJpY2UgLSByZWNvbW1lbmRlZFJ1YlByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZQZXJjZW50ID0gcmVjb21tZW5kZWRSdWJQcmljZSAhPT0gMCA/IChkaWZmIC8gcmVjb21tZW5kZWRSdWJQcmljZSkgKiAxMDAgOiAoZGlmZiA+IDAgPyBJbmZpbml0eSA6IC1JbmZpbml0eSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGF0dXMgPSAnZXF1YWwnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmUGVyY2VudCA+IDEpIHN0YXR1cyA9ICdoaWdoZXInOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmUGVyY2VudCA8IC0xKSBzdGF0dXMgPSAnbG93ZXInOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLm15RGF0YS5ycmNJbmZvID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZjogZGlmZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlBlcmNlbnQ6IGRpZmZQZXJjZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRlZDogcmVjb21tZW5kZWRSdWJQcmljZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHdnaF9leHRyYWN0QXBwSWRzRnJvbVBhZ2UoKSB7CiAgICAgICAgICAgICAgICBsZXQgYXBwSWRzID0gW107CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVuc2FmZVdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdW5zYWZlV2luZG93LlNTUiAmJiB1bnNhZmVXaW5kb3cuU1NSLnJlbmRlckNvbnRleHQgJiYgdHlwZW9mIHVuc2FmZVdpbmRvdy5TU1IucmVuZGVyQ29udGV4dC5xdWVyeURhdGEgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVlcnlEYXRhID0gSlNPTi5wYXJzZSh1bnNhZmVXaW5kb3cuU1NSLnJlbmRlckNvbnRleHQucXVlcnlEYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5RGF0YSAmJiBBcnJheS5pc0FycmF5KHF1ZXJ5RGF0YS5xdWVyaWVzKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lzaGxpc3RRdWVyeSA9IHF1ZXJ5RGF0YS5xdWVyaWVzLmZpbmQocSA9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgJiYgQXJyYXkuaXNBcnJheShxLnF1ZXJ5S2V5KSAmJiBxLnF1ZXJ5S2V5WzBdID09PSAnV2lzaGxpc3RTb3J0ZWRGaWx0ZXJlZCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lzaGxpc3RRdWVyeSAmJiB3aXNobGlzdFF1ZXJ5LnN0YXRlICYmIHdpc2hsaXN0UXVlcnkuc3RhdGUuZGF0YSAmJiBBcnJheS5pc0FycmF5KHdpc2hsaXN0UXVlcnkuc3RhdGUuZGF0YS5pdGVtcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBJZHMgPSB3aXNobGlzdFF1ZXJ5LnN0YXRlLmRhdGEuaXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5hcHBpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIltXR0hdINCe0YjQuNCx0LrQsCDQv9GA0Lgg0YDQsNC30LHQvtGA0LUg0LTQsNC90L3Ri9GFIFNTUjoiLCBlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYXBwSWRzLmxlbmd0aCA9PT0gMCAmJiB0eXBlb2YgdW5zYWZlV2luZG93LmdfcmdXaXNobGlzdERhdGEgIT09ICd1bmRlZmluZWQnICYmIEFycmF5LmlzQXJyYXkodW5zYWZlV2luZG93LmdfcmdXaXNobGlzdERhdGEpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJbV0dIXSDQmNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0YDQtdC30LXRgNCy0L3Ri9C5INC80LXRgtC+0LQgZ19yZ1dpc2hsaXN0RGF0YS4iKTsKICAgICAgICAgICAgICAgICAgICBhcHBJZHMgPSB1bnNhZmVXaW5kb3cuZ19yZ1dpc2hsaXN0RGF0YS5tYXAoaXRlbSA9PiBpdGVtLmFwcGlkKS5maWx0ZXIoaWQgPT4gaWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGFwcElkcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoItCd0LUg0YPQtNCw0LvQvtGB0Ywg0LjQt9Cy0LvQtdGH0YwgQXBwSUQuINCS0L7Qt9C80L7QttC90L4sINGB0YLRgNGD0LrRgtGD0YDQsCDRgdGC0YDQsNC90LjRhtGLINC40LfQvNC10L3QuNC70LDRgdGMINC40LvQuCDRgdC/0LjRgdC+0Log0LbQtdC70LDQtdC80L7Qs9C+INC/0YPRgdGCLiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5uZXcgU2V0KGFwcElkcyldOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfZGV0ZWN0VXNlclJlZ2lvbigpIHsKICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1bnNhZmVXaW5kb3c/LlNTUj8ucmVuZGVyQ29udGV4dD8ucXVlcnlEYXRhID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5RGF0YSA9IEpTT04ucGFyc2UodW5zYWZlV2luZG93LlNTUi5yZW5kZXJDb250ZXh0LnF1ZXJ5RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhbGxldEluZm9RdWVyeSA9IHF1ZXJ5RGF0YT8ucXVlcmllcz8uZmluZChxID0+IHE/LnF1ZXJ5S2V5Py5bMF0gPT09ICdDdXJyZW50VXNlcldhbGxldERldGFpbHMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FsbGV0SW5mb0luU1NSID0gd2FsbGV0SW5mb1F1ZXJ5Py5zdGF0ZT8uZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3YWxsZXRJbmZvSW5TU1I/Lmhhc193YWxsZXQgJiYgd2FsbGV0SW5mb0luU1NSPy5jdXJyZW5jeV9jb2RlICYmIHdhbGxldEluZm9JblNTUj8ud2FsbGV0X2NvdW50cnlfY29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2doX2N1cnJlbnRVc2VyQ3VycmVuY3lDb2RlID0gd2FsbGV0SW5mb0luU1NSLmN1cnJlbmN5X2NvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Z2hfY3VycmVudFVzZXJDb3VudHJ5Q29kZSA9IHdhbGxldEluZm9JblNTUi53YWxsZXRfY291bnRyeV9jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlID0gV0dIX0NVUlJFTkNZX0NPREVfVE9fSVNPW3dnaF9jdXJyZW50VXNlckN1cnJlbmN5Q29kZV0gfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3Z2hfY3VycmVudFVzZXJDb3VudHJ5Q29kZSAmJiB3Z2hfY3VycmVudFVzZXJJU09DdXJyZW5jeUNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtXR0hdINCg0LXQs9C40L7QvSDRg9GB0L/QtdGI0L3QviDQvtC/0YDQtdC00LXQu9C10L0g0YfQtdGA0LXQtyBTU1IvV2FsbGV0OiAke3dnaF9jdXJyZW50VXNlckNvdW50cnlDb2RlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXR0hdINCe0YjQuNCx0LrQsCDQv9GA0Lgg0YDQsNC30LHQvtGA0LUgU1NSINC00LvRjyDQvtC/0YDQtdC00LXQu9C10L3QuNGPINGA0LXQs9C40L7QvdCwOicsIGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghZm91bmQgJiYgdHlwZW9mIHVuc2FmZVdpbmRvdz8uQ29uZmlnPy5DT1VOVFJZID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50cnlDb2RlID0gdW5zYWZlV2luZG93LkNvbmZpZy5DT1VOVFJZOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5SW5mbyA9IE9iamVjdC5lbnRyaWVzKFdHSF9DT1VOVFJZX0NVUlJFTkNZX01BUCkuZmluZCgoW2tleSwgZGF0YV0pID0+IGtleSA9PT0gY291bnRyeUNvZGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW5jeUluZm8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgPSBjdXJyZW5jeUluZm9bMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHdnaF9jdXJyZW50VXNlckN1cnJlbmN5Q29kZSA9IGN1cnJlbmN5SW5mb1sxXS5jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB3Z2hfY3VycmVudFVzZXJJU09DdXJyZW5jeUNvZGUgPSBjdXJyZW5jeUluZm9bMV0uaXNvOwogICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbV0dIXSDQoNC10LPQuNC+0L0g0L7Qv9GA0LXQtNC10LvQtdC9INGH0LXRgNC10Lcg0YDQtdC30LXRgNCy0L3Ri9C5INC80LXRgtC+0LQgd2luZG93LkNvbmZpZzogJHt3Z2hfY3VycmVudFVzZXJDb3VudHJ5Q29kZX1gKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kICYmIHR5cGVvZiB1bnNhZmVXaW5kb3cuZ19yZ1dhbGxldEluZm8gIT09ICd1bmRlZmluZWQnICYmIHVuc2FmZVdpbmRvdy5nX3JnV2FsbGV0SW5mby53YWxsZXRfY3VycmVuY3kpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oIltXR0hdINCY0YHQv9C+0LvRjNC30YPQtdGC0YHRjyDRgdCw0LzRi9C5INGB0YLQsNGA0YvQuSDRgNC10LfQtdGA0LLQvdGL0Lkg0LzQtdGC0L7QtCBnX3JnV2FsbGV0SW5mby4iKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfY3VycmVudFVzZXJDdXJyZW5jeUNvZGUgPSB1bnNhZmVXaW5kb3cuZ19yZ1dhbGxldEluZm8ud2FsbGV0X2N1cnJlbmN5OwogICAgICAgICAgICAgICAgICAgIHdnaF9jdXJyZW50VXNlckNvdW50cnlDb2RlID0gV0dIX0NVUlJFTkNZX0NPREVfVE9fQ09VTlRSWVt3Z2hfY3VycmVudFVzZXJDdXJyZW5jeUNvZGVdIHx8IG51bGw7CiAgICAgICAgICAgICAgICAgICAgd2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlID0gV0dIX0NVUlJFTkNZX0NPREVfVE9fSVNPW3dnaF9jdXJyZW50VXNlckN1cnJlbmN5Q29kZV0gfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICBpZiAod2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgJiYgd2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbV0dIXSDQndC1INGD0LTQsNC70L7RgdGMINC+0L/RgNC10LTQtdC70LjRgtGMINGA0LXQs9C40L7QvSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8sINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQt9C90LDRh9C10L3QuNC1INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOOiBSVS9SVUIuJyk7CiAgICAgICAgICAgICAgICAgICAgd2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgPSAnUlUnOwogICAgICAgICAgICAgICAgICAgIHdnaF9jdXJyZW50VXNlckN1cnJlbmN5Q29kZSA9IDU7CiAgICAgICAgICAgICAgICAgICAgd2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlID0gJ1JVQic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAod2doX215UmVnaW9uRGlzcGxheSkgewogICAgICAgICAgICAgICAgICAgIHdnaF9teVJlZ2lvbkRpc3BsYXkudGV4dENvbnRlbnQgPSBgJHt3Z2hfY3VycmVudFVzZXJDb3VudHJ5Q29kZSB8fCAnPz8nfSAoJHt3Z2hfY3VycmVudFVzZXJJU09DdXJyZW5jeUNvZGUgfHwgJz8/Pyd9KWA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHdnaF9mZXRjaEJhdGNoR2FtZURhdGEoYXBwSWRzQmF0Y2gsIGNvdW50cnlDb2RlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEpzb24gPSB7CiAgICAgICAgICAgICAgICAgICAgaWRzOiBhcHBJZHNCYXRjaC5tYXAoYXBwaWQgPT4gKHsgYXBwaWQgfSkpLAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICJydXNzaWFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeV9jb2RlOiBjb3VudHJ5Q29kZSB8fCAnUlUnLAogICAgICAgICAgICAgICAgICAgICAgICBzdGVhbV9yZWFsbTogMQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGF0YV9yZXF1ZXN0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYXNzZXRzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3JlbGVhc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcGxhdGZvcm1zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2FsbF9wdXJjaGFzZV9vcHRpb25zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3NjcmVlbnNob3RzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3RyYWlsZXJzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3JhdGluZ3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfdGFnX2NvdW50OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3Jldmlld3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYmFzaWNfaW5mbzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9zdXBwb3J0ZWRfbGFuZ3VhZ2VzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Z1bGxfZGVzY3JpcHRpb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfaW5jbHVkZWRfaXRlbXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVkX2l0ZW1fZGF0YV9yZXF1ZXN0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Fzc2V0czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcmVsZWFzZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfcGxhdGZvcm1zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9hbGxfcHVyY2hhc2Vfb3B0aW9uczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfc2NyZWVuc2hvdHM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3RyYWlsZXJzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9yYXRpbmdzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV90YWdfY291bnQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3Jldmlld3M6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Jhc2ljX2luZm86IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX3N1cHBvcnRlZF9sYW5ndWFnZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Z1bGxfZGVzY3JpcHRpb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2luY2x1ZGVkX2l0ZW1zOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9hc3NldHNfd2l0aG91dF9vdmVycmlkZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseV91c2VyX2ZpbHRlcnM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9saW5rczogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Fzc2V0c193aXRob3V0X292ZXJyaWRlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlfdXNlcl9maWx0ZXJzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZV9saW5rczogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtXR0hfQVBJX1VSTH0/aW5wdXRfanNvbj0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpbnB1dEpzb24pKX1gLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBXR0hfUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YT8ucmVzcG9uc2U/LnN0b3JlX2l0ZW1zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEucmVzcG9uc2Uuc3RvcmVfaXRlbXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbV0dIXSBBUEkg0LLQtdGA0L3Rg9C7INGD0YHQv9C10YUsINC90L4g0L3QtdGCIHN0b3JlX2l0ZW1zINC00LvRjyBiYXRjaDogJHthcHBJZHNCYXRjaC5qb2luKCcsJyl9YCwgZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfSDQtNC70Y8g0LHQsNGC0YfQsGApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihg0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAgSlNPTjogJHtlLm1lc3NhZ2V9YCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiAoZXJyb3IpID0+IHJlamVjdChuZXcgRXJyb3IoYNCh0LXRgtC10LLQsNGPINC+0YjQuNCx0LrQsDogJHtlcnJvcj8uZmluYWxVcmwgfHwgV0dIX0FQSV9VUkx9YCkpLAogICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ9Ci0LDQudC80LDRg9GCINC30LDQv9GA0L7RgdCwINC6IFN0ZWFtIEFQSScpKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9wcm9jZXNzQmF0Y2hEYXRhKGJhdGNoRGF0YSwgZGF0YVR5cGUgPSAnbXlEYXRhJykgewogICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGJhdGNoRGF0YSkpIHJldHVybjsKICAgICAgICAgICAgICAgIGJhdGNoRGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghaXRlbSB8fCAhaXRlbS5pZCB8fCBpdGVtLnN1Y2Nlc3MgIT09IDEpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHBpZCA9IGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF3Z2hfZ2FtZURhdGFTdG9yZVthcHBpZF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX2dhbWVEYXRhU3RvcmVbYXBwaWRdID0geyBteURhdGE6IG51bGwsIGZyaWVuZERhdGE6IG51bGwgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyRmlsZU5hbWUgPSBpdGVtLmFzc2V0cz8uaGVhZGVyOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaGVhZGVyRmlsZU5hbWUgPyBgJHtXR0hfSU1BR0VfQkFTRV9VUkx9JHtpdGVtLmlkfS8ke2hlYWRlckZpbGVOYW1lfWAgOiBgJHtXR0hfSU1BR0VfQkFTRV9VUkx9JHtpdGVtLmlkfS9oZWFkZXIuanBnYDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYWN0ZWREYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBhcHBpZDogaXRlbS5hcHBpZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGVUaW1lc3RhbXA6IGl0ZW0ucmVsZWFzZT8uc3RlYW1fcmVsZWFzZV9kYXRlIHx8IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld1Njb3JlOiBpdGVtLnJldmlld3M/LnN1bW1hcnlfZmlsdGVyZWQ/LnJldmlld19zY29yZSB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICByZXZpZXdQZXJjZW50OiBpdGVtLnJldmlld3M/LnN1bW1hcnlfZmlsdGVyZWQ/LnBlcmNlbnRfcG9zaXRpdmUgfHwgMCwKICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q291bnQ6IGl0ZW0ucmV2aWV3cz8uc3VtbWFyeV9maWx0ZXJlZD8ucmV2aWV3X2NvdW50IHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld0Rlc2M6IGl0ZW0ucmV2aWV3cz8uc3VtbWFyeV9maWx0ZXJlZD8ucmV2aWV3X3Njb3JlX2xhYmVsIHx8ICfQndC10YIg0L7RgtC30YvQstC+0LInLAogICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd3M6IGl0ZW0ucGxhdGZvcm1zPy53aW5kb3dzIHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjOiBpdGVtLnBsYXRmb3Jtcz8ubWFjIHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGludXg6IGl0ZW0ucGxhdGZvcm1zPy5zdGVhbW9zX2xpbnV4IHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjYW5HaWZ0OiBpdGVtLmJlc3RfcHVyY2hhc2Vfb3B0aW9uPy51c2VyX2Nhbl9wdXJjaGFzZV9hc19naWZ0IHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBwcmljZURhdGE6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlcnM6IGl0ZW0uYmFzaWNfaW5mbz8ucHVibGlzaGVycz8ubWFwKHAgPT4gcC5uYW1lKS5qb2luKCIsICIpLAogICAgICAgICAgICAgICAgICAgICAgICBkZXZlbG9wZXJzOiBpdGVtLmJhc2ljX2luZm8/LmRldmVsb3BlcnM/Lm1hcChkID0+IGQubmFtZSkuam9pbigiLCAiKSwKICAgICAgICAgICAgICAgICAgICAgICAgZnJhbmNoaXNlczogaXRlbS5iYXNpY19pbmZvPy5mcmFuY2hpc2VzPy5tYXAoZiA9PiBmLm5hbWUpLmpvaW4oIiwgIiksCiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Vhcmx5X2FjY2VzczogaXRlbS5yZWxlYXNlPy5pc19lYXJseV9hY2Nlc3MsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ2lkczogaXRlbS50YWdpZHMgfHwgW10sCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0X2Rlc2NyaXB0aW9uOiBpdGVtLmJhc2ljX2luZm8/LnNob3J0X2Rlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZV9zdXBwb3J0X3J1c3NpYW46IGl0ZW0uc3VwcG9ydGVkX2xhbmd1YWdlcz8uZmluZChsYW5nID0+IGxhbmcuZWxhbmd1YWdlID09PSA4KQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVyY2hhc2VPcHRpb24gPSBpdGVtLmJlc3RfcHVyY2hhc2Vfb3B0aW9uOwogICAgICAgICAgICAgICAgICAgIGlmIChwdXJjaGFzZU9wdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWREYXRhLnByaWNlRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEZpbmFsOiBwdXJjaGFzZU9wdGlvbi5mb3JtYXR0ZWRfZmluYWxfcHJpY2UgfHwgJ04vQScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbENlbnRzOiBwdXJjaGFzZU9wdGlvbi5maW5hbF9wcmljZV9pbl9jZW50cyA/IHBhcnNlSW50KHB1cmNoYXNlT3B0aW9uLmZpbmFsX3ByaWNlX2luX2NlbnRzLCAxMCkgOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkT3JpZ2luYWw6IHB1cmNoYXNlT3B0aW9uLmZvcm1hdHRlZF9vcmlnaW5hbF9wcmljZSB8fCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxDZW50czogcHVyY2hhc2VPcHRpb24ub3JpZ2luYWxfcHJpY2VfaW5fY2VudHMgPyBwYXJzZUludChwdXJjaGFzZU9wdGlvbi5vcmlnaW5hbF9wcmljZV9pbl9jZW50cywgMTApIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogcHVyY2hhc2VPcHRpb24uZGlzY291bnRfcGN0IHx8IDAKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgd2doX2dhbWVEYXRhU3RvcmVbYXBwaWRdW2RhdGFUeXBlXSA9IGV4dHJhY3RlZERhdGE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gd2doX3JlbmRlclJlc3VsdHMoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXdnaF9yZXN1bHRzRGl2KSByZXR1cm47CiAgICAgICAgICAgICAgICB3Z2hfcmVzdWx0c0Rpdi5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkQXBwSWRzID0gT2JqZWN0LmtleXMod2doX2dhbWVEYXRhU3RvcmUpOwogICAgICAgICAgICAgICAgc29ydGVkQXBwSWRzLnNvcnQoKGlkQSwgaWRCKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IHdnaF9nYW1lRGF0YVN0b3JlW2lkQV0/Lm15RGF0YTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gd2doX2dhbWVEYXRhU3RvcmVbaWRCXT8ubXlEYXRhOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB3Z2hfY29tcGFyZUl0ZW1zKGEsIGIsIHdnaF9jdXJyZW50U29ydC5maWVsZCwgd2doX2N1cnJlbnRTb3J0LmRpcmVjdGlvbik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3NEYXRhID0gYXdhaXQgd2doX2xvYWRTdGVhbVRhZ3MoKTsKICAgICAgICAgICAgICAgIHNvcnRlZEFwcElkcy5mb3JFYWNoKGFwcGlkID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBnYW1lID0gd2doX2dhbWVEYXRhU3RvcmVbYXBwaWRdOwogICAgICAgICAgICAgICAgICAgIGlmIChnYW1lICYmIGdhbWUubXlEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHdnaF9jcmVhdGVHYW1lQ2FyZChhcHBpZCwgZ2FtZSwgdGFnc0RhdGEpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHdnaF9yZXN1bHRzRGl2LmFwcGVuZENoaWxkKGZyYWdtZW50KTsKICAgICAgICAgICAgICAgIHdnaF9hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX3Nob3dEZXNjcmlwdGlvbk1vZGFsKHRpdGxlLCBkZXNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgY29uc3QgbW9kYWxJZCA9ICd3Z2hEZXNjcmlwdGlvbk1vZGFsJzsKICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpOwogICAgICAgICAgICAgICAgaWYgKG1vZGFsKSBtb2RhbC5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgbW9kYWwuaWQgPSBtb2RhbElkOwogICAgICAgICAgICAgICAgbW9kYWwuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNyk7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IHotaW5kZXg6IDEwMDAxOwogICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFiMjgzODsgY29sb3I6ICNjNmQ0ZGY7IHBhZGRpbmc6IDI1cHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OyBtYXgtd2lkdGg6IDYwMHB4OyB3aWR0aDogOTAlOyBtYXgtaGVpZ2h0OiA4MHZoOwogICAgICAgICAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICM0YjZmOWM7IHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7JzsKICAgICAgICAgICAgICAgIGNsb3NlQnRuLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDEwcHg7IHJpZ2h0OiAxNXB4OyBiYWNrZ3JvdW5kOiBub25lOyBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNhYWE7IGZvbnQtc2l6ZTogMjhweDsgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiBtb2RhbC5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTsKICAgICAgICAgICAgICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSB0aXRsZTsKICAgICAgICAgICAgICAgIHRpdGxlRWwuc3R5bGUuY3NzVGV4dCA9IGBjb2xvcjogIzY3YzFmNTsgbWFyZ2luLXRvcDogMDtgOwoKICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKICAgICAgICAgICAgICAgIGRlc2NFbC5pbm5lckhUTUwgPSBkZXNjcmlwdGlvbiB8fCAn0J7Qv9C40YHQsNC90LjQtSDQvtGC0YHRg9GC0YHRgtCy0YPQtdGCLic7CiAgICAgICAgICAgICAgICBkZXNjRWwuc3R5bGUubGluZUhlaWdodCA9ICcxLjYnOwoKICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY2xvc2VCdG4pOwogICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0aXRsZUVsKTsKICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZGVzY0VsKTsKICAgICAgICAgICAgICAgIG1vZGFsLmFwcGVuZENoaWxkKGNvbnRlbnQpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogICAgICAgICAgICAgICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9jcmVhdGVHYW1lQ2FyZChhcHBpZCwgZ2FtZSwgdGFnc0RhdGEpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG15RGF0YSA9IGdhbWUubXlEYXRhOwogICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kRGF0YSA9IGdhbWUuZnJpZW5kRGF0YTsKICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNhcmQuY2xhc3NOYW1lID0gJ3dnaEdhbWVDYXJkJzsKICAgICAgICAgICAgICAgIGNhcmQuZGF0YXNldC5hcHBpZCA9IGFwcGlkOwogICAgICAgICAgICAgICAgY2FyZC5kYXRhc2V0LmdpZnRhYmxlUHJpY2UgPSAndW5rbm93bic7CiAgICAgICAgICAgICAgICBjYXJkLmRhdGFzZXQuY2FuR2lmdEFwaSA9IG15RGF0YS5jYW5HaWZ0ID8gJ3RydWUnIDogJ2ZhbHNlJzsKCiAgICAgICAgICAgICAgICBjb25zdCByZXZpZXdDbGFzcyA9IHdnaF9nZXRSZXZpZXdDbGFzcyhteURhdGEucmV2aWV3UGVyY2VudCwgbXlEYXRhLnJldmlld0NvdW50KTsKICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlU3RyID0gbXlEYXRhLnJlbGVhc2VEYXRlVGltZXN0YW1wID8gbmV3IERhdGUobXlEYXRhLnJlbGVhc2VEYXRlVGltZXN0YW1wICogMTAwMCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdydS1SVScpIDogJ9Cd0LXQuNC30LLQtdGB0YLQvdC+JzsKCiAgICAgICAgICAgICAgICBsZXQgZnJpZW5kUHJpY2VTdHIgPSAnJzsKICAgICAgICAgICAgICAgIGxldCBwcmljZURpZmZTdHIgPSAnJzsKICAgICAgICAgICAgICAgIGxldCBwcmljZURpZmZDbGFzcyA9ICcnOwoKICAgICAgICAgICAgICAgIGlmICh3Z2hfZ2lmdE1vZGVBY3RpdmUgJiYgZnJpZW5kRGF0YT8ucHJpY2VEYXRhICYmIG15RGF0YT8ucHJpY2VEYXRhICYmIHdnaF9leGNoYW5nZVJhdGVzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kQ2VudHMgPSBmcmllbmREYXRhLnByaWNlRGF0YS5maW5hbENlbnRzOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG15Q2VudHMgPSBteURhdGEucHJpY2VEYXRhLmZpbmFsQ2VudHM7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZyaWVuZENlbnRzICE9PSBudWxsICYmIG15Q2VudHMgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kUHJpY2VJbk15Q3VycmVuY3kgPSB3Z2hfY29udmVydEN1cnJlbmN5KGZyaWVuZENlbnRzIC8gMTAwLCB3Z2hfY3VycmVudEZyaWVuZENvdW50cnlDb2RlLCB3Z2hfY3VycmVudFVzZXJDb3VudHJ5Q29kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmllbmRQcmljZUluTXlDdXJyZW5jeSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXlQcmljZSA9IG15Q2VudHMgLyAxMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gZnJpZW5kUHJpY2VJbk15Q3VycmVuY3kgLSBteVByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZlBlcmNlbnQgPSBteVByaWNlID4gMCA/IGRpZmYgLyBteVByaWNlIDogKGRpZmYgPiAwID8gSW5maW5pdHkgOiAtSW5maW5pdHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpZW5kUHJpY2VTdHIgPSBg0KbQtdC90LAg0LTRgNGD0LPQsDogJHtmcmllbmRQcmljZUluTXlDdXJyZW5jeS50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogd2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlLCBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRpZmZQZXJjZW50KSA8PSBXR0hfR0lGVF9QUklDRV9ESUZGX1RIUkVTSE9MRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlRGlmZkNsYXNzID0gJ3dnaFByaWNlRGlmZkdvb2QnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuZGF0YXNldC5naWZ0YWJsZVByaWNlID0gJ3RydWUnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZURpZmZDbGFzcyA9ICd3Z2hQcmljZURpZmZCYWQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuZGF0YXNldC5naWZ0YWJsZVByaWNlID0gJ2ZhbHNlJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlRGlmZlN0ciA9IGDQoNCw0LfQvdC40YbQsDogJHtkaWZmID4gMCA/ICcrJyA6ICcnfSR7ZGlmZi50b0xvY2FsZVN0cmluZygncnUtUlUnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogd2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlLCBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX0gKCR7ZGlmZlBlcmNlbnQgPT09IEluZmluaXR5IHx8IGRpZmZQZXJjZW50ID09PSAtSW5maW5pdHkgPyAn4oieJyA6IChkaWZmUGVyY2VudCAqIDEwMCkudG9GaXhlZCgwKX0lKWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmllbmRQcmljZVN0ciA9ICfQptC10L3QsCDQtNGA0YPQs9CwOiDQntGI0LjQsdC60LAg0LrQvtC90LIuJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuZGF0YXNldC5naWZ0YWJsZVByaWNlID0gJ2ZhbHNlJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZyaWVuZFByaWNlU3RyID0gJ9Cm0LXQvdCwINC00YDRg9Cz0LA6IE4vQSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuZGF0YXNldC5naWZ0YWJsZVByaWNlID0gJ2ZhbHNlJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdnaF9naWZ0TW9kZUFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgIGZyaWVuZFByaWNlU3RyID0gJ9Cm0LXQvdCwINC00YDRg9Cz0LA6IC4uLic7CiAgICAgICAgICAgICAgICAgICAgY2FyZC5kYXRhc2V0LmdpZnRhYmxlUHJpY2UgPSAnZmFsc2UnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3NIdG1sID0gbXlEYXRhLnRhZ2lkcy5zbGljZSgwLCA1KS5tYXAodGFnSWQgPT4KICAgICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz0id2doVGFnIj4ke3RhZ3NEYXRhW3RhZ0lkXSB8fCBg0KLQtdCzICMke3RhZ0lkfWB9PC9kaXY+YAogICAgICAgICAgICAgICAgKS5qb2luKCcnKTsKCiAgICAgICAgICAgICAgICBsZXQgbGFuZ3VhZ2VTdXBwb3J0UnVzc2lhblRleHQgPSAi0J7RgtGB0YPRgtGB0YLQstGD0LXRgiI7CiAgICAgICAgICAgICAgICBpZiAobXlEYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbikgewogICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wTGFuZ1RleHQgPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAobXlEYXRhLmxhbmd1YWdlX3N1cHBvcnRfcnVzc2lhbi5zdXBwb3J0ZWQpIHRlbXBMYW5nVGV4dCArPSAi0JjQvdGC0LXRgNGE0LXQudGBLCAiOwogICAgICAgICAgICAgICAgICAgIGlmIChteURhdGEubGFuZ3VhZ2Vfc3VwcG9ydF9ydXNzaWFuLmZ1bGxfYXVkaW8pIHRlbXBMYW5nVGV4dCArPSAi0J7Qt9Cy0YPRh9C60LAsICI7CiAgICAgICAgICAgICAgICAgICAgaWYgKG15RGF0YS5sYW5ndWFnZV9zdXBwb3J0X3J1c3NpYW4uc3VidGl0bGVzKSB0ZW1wTGFuZ1RleHQgKz0gItCh0YPQsdGC0LjRgtGA0YssICI7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBMYW5nVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dCA9IHRlbXBMYW5nVGV4dC5zbGljZSgwLCAtMik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxldCBycmNJbmZvSHRtbCA9ICcnOwogICAgICAgICAgICAgICAgaWYgKG15RGF0YS5ycmNJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzdGF0dXMsIGRpZmYsIGRpZmZQZXJjZW50LCByZWNvbW1lbmRlZCB9ID0gbXlEYXRhLnJyY0luZm87CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dE1hcCA9IHsgJ2xvd2VyJzogJzwg0KDQoNCmJywgJ2VxdWFsJzogJz0g0KDQoNCmJywgJ2hpZ2hlcic6ICc+INCg0KDQpicgfTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmVGV4dCA9IGAke2RpZmYgPiAwID8gJysnIDogJyd9JHtkaWZmLnRvRml4ZWQoMCl9IOKCvSAoJHtkaWZmUGVyY2VudC50b0ZpeGVkKDApfSUpYDsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNvbW1lbmRlZFByaWNlVGV4dCA9IGAgfCAke3JlY29tbWVuZGVkLnRvTG9jYWxlU3RyaW5nKCdydS1SVScpfSDigr1gOwoKICAgICAgICAgICAgICAgICAgICBycmNJbmZvSHRtbCA9IGA8ZGl2IGNsYXNzPSJ3Z2hScmNJbmZvIHdnaFJyYy0ke3N0YXR1c30iPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0id2doUnJjU3RhdHVzIj4ke3RleHRNYXBbc3RhdHVzXX0ke3JlY29tbWVuZGVkUHJpY2VUZXh0fTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9IndnaFJyY0RpZmYiPiR7ZGlmZlRleHR9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgZGVzY0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgZGVzY0J1dHRvbi50ZXh0Q29udGVudCA9ICfQntC/0LjRgdCw0L3QuNC1JzsKICAgICAgICAgICAgICAgIGRlc2NCdXR0b24uY2xhc3NOYW1lID0gJ3dnaERlc2NCdXR0b24nOwogICAgICAgICAgICAgICAgZGVzY0J1dHRvbi5vbmNsaWNrID0gKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfc2hvd0Rlc2NyaXB0aW9uTW9kYWwobXlEYXRhLm5hbWUsIG15RGF0YS5zaG9ydF9kZXNjcmlwdGlvbik7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcHAvJHthcHBpZH0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0id2doQ2FyZExpbmsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hDYXJkSW1hZ2VXcmFwcGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke215RGF0YS5pbWFnZVVybH0iIGFsdD0iJHtteURhdGEubmFtZX0iIGxvYWRpbmc9ImxhenkiIG9uZXJyb3I9InRoaXMub25lcnJvcj1udWxsO3RoaXMuc3JjPSdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMjkyeDEzNj90ZXh0PU5vK0ltYWdlJzsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtteURhdGEucHJpY2VEYXRhPy5kaXNjb3VudFBlcmNlbnQgPiAwID8gYDxkaXYgY2xhc3M9IndnaENhcmREaXNjb3VudEJhZGdlIj4tJHtteURhdGEucHJpY2VEYXRhLmRpc2NvdW50UGVyY2VudH0lPC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doQ2FyZENvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vYXBwLyR7YXBwaWR9IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9IndnaENhcmRUaXRsZSIgdGl0bGU9IiR7bXlEYXRhLm5hbWV9Ij4ke215RGF0YS5uYW1lfTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doQ2FyZFByaWNlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7bXlEYXRhLnByaWNlRGF0YT8uZm9ybWF0dGVkT3JpZ2luYWwgPyBgPHNwYW4gY2xhc3M9IndnaE9yaWdpbmFsUHJpY2UiPiR7bXlEYXRhLnByaWNlRGF0YS5mb3JtYXR0ZWRPcmlnaW5hbH08L3NwYW4+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9IndnaEN1cnJlbnRQcmljZSI+JHtteURhdGEucHJpY2VEYXRhPy5mb3JtYXR0ZWRGaW5hbCB8fCAnTi9BJ308L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAke3JyY0luZm9IdG1sfQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hDYXJkUmV2aWV3cyAke3Jldmlld0NsYXNzfSIgdGl0bGU9IiR7bXlEYXRhLnJldmlld0NvdW50LnRvTG9jYWxlU3RyaW5nKCdydS1SVScpfSDQvtGC0LfRi9Cy0L7QsiI+JHtteURhdGEucmV2aWV3RGVzY30gKCR7bXlEYXRhLnJldmlld1BlcmNlbnR9JSkgLSAke215RGF0YS5yZXZpZXdDb3VudC50b0xvY2FsZVN0cmluZygncnUtUlUnKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2doQ2FyZEluZm9HcmlkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaENhcmRJbmZvSXRlbSI+PHN0cm9uZz7QmNC30LTQsNGC0LXQu9GMOjwvc3Ryb25nPiA8c3Bhbj4ke215RGF0YS5wdWJsaXNoZXJzIHx8ICdOL0EnfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaENhcmRJbmZvSXRlbSI+PHN0cm9uZz7QoNCw0LfRgNCw0LHQvtGC0YfQuNC6Ojwvc3Ryb25nPiA8c3Bhbj4ke215RGF0YS5kZXZlbG9wZXJzIHx8ICdOL0EnfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaENhcmRJbmZvSXRlbSI+PHN0cm9uZz7QodC10YDQuNGPOjwvc3Ryb25nPiA8c3Bhbj4ke215RGF0YS5mcmFuY2hpc2VzIHx8ICdOL0EnfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaENhcmRJbmZvSXRlbSI+PHN0cm9uZz7QoNCw0L3QvdC40Lkg0LTQvtGB0YLRg9C/Ojwvc3Ryb25nPiA8c3Bhbj4ke215RGF0YS5pc19lYXJseV9hY2Nlc3MgPyAn0JTQsCcgOiAn0J3QtdGCJ308L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hDYXJkSW5mb0l0ZW0iPjxzdHJvbmc+0JTQsNGC0LAg0LLRi9GF0L7QtNCwOjwvc3Ryb25nPiA8c3Bhbj4ke3JlbGVhc2VEYXRlU3RyfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndnaENhcmRJbmZvSXRlbSI+PHN0cm9uZz7QoNGD0YHRgdC60LjQuSDRj9C30YvQujo8L3N0cm9uZz4gPHNwYW4+JHtsYW5ndWFnZVN1cHBvcnRSdXNzaWFuVGV4dH08L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hUYWdzQ29udGFpbmVyIj4ke3RhZ3NIdG1sfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3Z2hDYXJkRm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7bXlEYXRhLmNhbkdpZnQgPyAnJyA6ICc8ZGl2IGNsYXNzPSJ3Z2hDYW5ub3RHaWZ0Ij7QndC10LvRjNC30Y8g0L/QvtC00LDRgNC40YLRjDwvZGl2Pid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2ZyaWVuZFByaWNlU3RyID8gYDxkaXYgY2xhc3M9IndnaEZyaWVuZFByaWNlIj4ke2ZyaWVuZFByaWNlU3RyfTwvZGl2PmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJpY2VEaWZmU3RyID8gYDxkaXYgY2xhc3M9IndnaFByaWNlRGlmZiAke3ByaWNlRGlmZkNsYXNzfSI+JHtwcmljZURpZmZTdHJ9PC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwoKICAgICAgICAgICAgICAgIGNhcmQucXVlcnlTZWxlY3RvcignLndnaENhcmRGb290ZXInKS5wcmVwZW5kKGRlc2NCdXR0b24pOwogICAgICAgICAgICAgICAgcmV0dXJuIGNhcmQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9nZXRSZXZpZXdDbGFzcyhwZXJjZW50LCBjb3VudCkgewogICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm4gJ3dnaFJldmlld05vbmUnOwogICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gNzApIHJldHVybiAnd2doUmV2aWV3UG9zaXRpdmUnOwogICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gNDApIHJldHVybiAnd2doUmV2aWV3TWl4ZWQnOwogICAgICAgICAgICAgICAgcmV0dXJuICd3Z2hSZXZpZXdOZWdhdGl2ZSc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9jcmVhdGVTb3J0QnV0dG9ucygpIHsKICAgICAgICAgICAgICAgIGlmICghd2doX3NvcnRCdXR0b25zQ29udGFpbmVyKSByZXR1cm47CiAgICAgICAgICAgICAgICB3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVCdG4gPSAoZmllbGQsIHRleHQpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ3dnaEJ0biBzb3J0QnRuJzsKICAgICAgICAgICAgICAgICAgICBidG4uZGF0YXNldC5zb3J0ID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gdGV4dDsKICAgICAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHdnaF9oYW5kbGVTb3J0KGZpZWxkKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnRuOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNyZWF0ZUJ0bigncHJpY2UnLCAn0KbQtdC90LAnKTsKICAgICAgICAgICAgICAgIGNyZWF0ZUJ0bignZGlzY291bnRQZXJjZW50JywgJyUg0KHQutC40LTQutC4Jyk7CiAgICAgICAgICAgICAgICBjcmVhdGVCdG4oJ25hbWUnLCAn0J3QsNC30LLQsNC90LjQtScpOwogICAgICAgICAgICAgICAgY3JlYXRlQnRuKCdyZWxlYXNlRGF0ZVRpbWVzdGFtcCcsICfQlNCw0YLQsCDQstGL0YXQvtC00LAnKTsKICAgICAgICAgICAgICAgIGNyZWF0ZUJ0bigncmV2aWV3UGVyY2VudCcsICclINCe0YLQt9GL0LLQvtCyJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9oYW5kbGVTb3J0KGZpZWxkKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RGlyZWN0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICBwcmljZTogJ2FzYycsCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiAnZGVzYycsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2FzYycsCiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGVUaW1lc3RhbXA6ICdkZXNjJywKICAgICAgICAgICAgICAgICAgICByZXZpZXdQZXJjZW50OiAnZGVzYycKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsZXQgbmV3RGlyZWN0aW9uOwogICAgICAgICAgICAgICAgaWYgKHdnaF9jdXJyZW50U29ydC5maWVsZCA9PT0gZmllbGQpIHsKICAgICAgICAgICAgICAgICAgICBuZXdEaXJlY3Rpb24gPSB3Z2hfY3VycmVudFNvcnQuZGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuZXdEaXJlY3Rpb24gPSBkZWZhdWx0RGlyZWN0aW9uc1tmaWVsZF0gfHwgJ2FzYyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3Z2hfY3VycmVudFNvcnQuZmllbGQgPSBmaWVsZDsKICAgICAgICAgICAgICAgIHdnaF9jdXJyZW50U29ydC5kaXJlY3Rpb24gPSBuZXdEaXJlY3Rpb247CiAgICAgICAgICAgICAgICB3Z2hfYXBwbHlTb3J0KGZpZWxkLCBuZXdEaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgd2doX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9hcHBseVNvcnQoZmllbGQsIGRpcmVjdGlvbikgewogICAgICAgICAgICAgICAgd2doX2N1cnJlbnRTb3J0ID0geyBmaWVsZCwgZGlyZWN0aW9uIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9jb21wYXJlSXRlbXMoYSwgYiwgZmllbGQsIGRpcmVjdGlvbikgewogICAgICAgICAgICAgICAgaWYgKCFhICYmICFiKSByZXR1cm4gMDsKICAgICAgICAgICAgICAgIGlmICghYSkgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ2FzYycgPyAxIDogLTE7CiAgICAgICAgICAgICAgICBpZiAoIWIpIHJldHVybiBkaXJlY3Rpb24gPT09ICdhc2MnID8gLTEgOiAxOwogICAgICAgICAgICAgICAgY29uc3QgZGlyTXVsdGlwbGllciA9IGRpcmVjdGlvbiA9PT0gJ2FzYycgPyAxIDogLTE7CiAgICAgICAgICAgICAgICBsZXQgdmFsQSwgdmFsQjsKICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICdwcmljZSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbEEgPSBhLnByaWNlRGF0YT8uZmluYWxDZW50cyA/PyAoZGlyZWN0aW9uID09PSAnYXNjJyA/IEluZmluaXR5IDogLUluZmluaXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGIucHJpY2VEYXRhPy5maW5hbENlbnRzID8/IChkaXJlY3Rpb24gPT09ICdhc2MnID8gSW5maW5pdHkgOiAtSW5maW5pdHkpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNjb3VudFBlcmNlbnQnOgogICAgICAgICAgICAgICAgICAgICAgICB2YWxBID0gYS5wcmljZURhdGE/LmRpc2NvdW50UGVyY2VudCA/PyAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGIucHJpY2VEYXRhPy5kaXNjb3VudFBlcmNlbnQgPz8gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgICAgICAgICAgICAgICAgICB2YWxBID0gYS5uYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YWxCID0gYi5uYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsQS5sb2NhbGVDb21wYXJlKHZhbEIpICogZGlyTXVsdGlwbGllcjsKICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWxlYXNlRGF0ZVRpbWVzdGFtcCc6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbEEgPSBhLnJlbGVhc2VEYXRlVGltZXN0YW1wID8/IChkaXJlY3Rpb24gPT09ICdhc2MnID8gSW5maW5pdHkgOiAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGIucmVsZWFzZURhdGVUaW1lc3RhbXAgPz8gKGRpcmVjdGlvbiA9PT0gJ2FzYycgPyBJbmZpbml0eSA6IDApOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXZpZXdQZXJjZW50JzoKICAgICAgICAgICAgICAgICAgICAgICAgdmFsQSA9IGEucmV2aWV3UGVyY2VudCA/PyAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGIucmV2aWV3UGVyY2VudCA/PyAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgY29tcGFyaXNvblJlc3VsdCA9IDA7CiAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0FzYyA9IEluZmluaXR5OwogICAgICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tEZXNjID0gLUluZmluaXR5OwogICAgICAgICAgICAgICAgaWYgKHZhbEEgPT09IG51bGwgfHwgdmFsQSA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKHZhbEEpIHx8IHZhbEEgPT09IEluZmluaXR5IHx8IHZhbEEgPT09IC1JbmZpbml0eSkgdmFsQSA9IGRpcmVjdGlvbiA9PT0gJ2FzYycgPyBmYWxsYmFja0FzYyA6IGZhbGxiYWNrRGVzYzsKICAgICAgICAgICAgICAgIGlmICh2YWxCID09PSBudWxsIHx8IHZhbEIgPT09IHVuZGVmaW5lZCB8fCBpc05hTih2YWxCKSB8fCB2YWxCID09PSBJbmZpbml0eSB8fCB2YWxCID09PSAtSW5maW5pdHkpIHZhbEIgPSBkaXJlY3Rpb24gPT09ICdhc2MnID8gZmFsbGJhY2tBc2MgOiBmYWxsYmFja0Rlc2M7CiAgICAgICAgICAgICAgICBpZiAodmFsQSA8IHZhbEIpIGNvbXBhcmlzb25SZXN1bHQgPSAtMTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbEEgPiB2YWxCKSBjb21wYXJpc29uUmVzdWx0ID0gMTsKICAgICAgICAgICAgICAgIGVsc2UgY29tcGFyaXNvblJlc3VsdCA9IDA7CiAgICAgICAgICAgICAgICBjb21wYXJpc29uUmVzdWx0ICo9IGRpck11bHRpcGxpZXI7CiAgICAgICAgICAgICAgICBpZiAoY29tcGFyaXNvblJlc3VsdCA9PT0gMCAmJiBmaWVsZCAhPT0gJ3ByaWNlJykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQSA9IGEucHJpY2VEYXRhPy5maW5hbENlbnRzID8/IEluZmluaXR5OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQiA9IGIucHJpY2VEYXRhPy5maW5hbENlbnRzID8/IEluZmluaXR5OwogICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUEgPCBwcmljZUIpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VBID4gcHJpY2VCKSByZXR1cm4gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjb21wYXJpc29uUmVzdWx0ID09PSAwICYmIGZpZWxkICE9PSAnbmFtZScpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEubmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJykubG9jYWxlQ29tcGFyZShiLm5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25SZXN1bHQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF91cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCkgewogICAgICAgICAgICAgICAgaWYgKCF3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIpIHJldHVybjsKICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSB3Z2hfc29ydEJ1dHRvbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNvcnRCdG4nKTsKICAgICAgICAgICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ0bkZpZWxkID0gYnRuLmRhdGFzZXQuc29ydDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlVGV4dCA9IGJ0bi50ZXh0Q29udGVudC5yZXBsYWNlKC8gW+KWsuKWvF0kLywgJycpOwogICAgICAgICAgICAgICAgICAgIGlmIChidG5GaWVsZCA9PT0gd2doX2N1cnJlbnRTb3J0LmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFycm93ID0gd2doX2N1cnJlbnRTb3J0LmRpcmVjdGlvbiA9PT0gJ2FzYycgPyAnIOKWsicgOiAnIOKWvCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gYmFzZVRleHQgKyBhcnJvdzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGJhc2VUZXh0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfY3JlYXRlR2lmdEFjY29yZGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICghd2doX2dpZnRNb2RlQ29udGFpbmVyKSByZXR1cm47CiAgICAgICAgICAgICAgICB3Z2hfZ2lmdE1vZGVDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBjb25zdCBhY2NvcmRpb25Db250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBhY2NvcmRpb25Db250ZW50LmlkID0gJ3dnaEdpZnRBY2NvcmRpb25Db250ZW50JzsKICAgICAgICAgICAgICAgIGFjY29yZGlvbkNvbnRlbnQuY2xhc3NOYW1lID0gJ3dnaEFjY29yZGlvbkNvbnRlbnQnOwogICAgICAgICAgICAgICAgY29uc3QgbXlSZWdpb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIG15UmVnaW9uRGl2LmlubmVySFRNTCA9IGDQktCw0Ygg0YDQtdCz0LjQvtC9OiA8c3Ryb25nIGlkPSJ3Z2hNeVJlZ2lvbkRpc3BsYXkiPiR7d2doX2N1cnJlbnRVc2VyQ291bnRyeUNvZGUgfHwgJz8/J30gKCR7d2doX2N1cnJlbnRVc2VySVNPQ3VycmVuY3lDb2RlIHx8ICc/Pz8nfSk8L3N0cm9uZz5gOwogICAgICAgICAgICAgICAgbXlSZWdpb25EaXYuc3R5bGUubWFyZ2luUmlnaHQgPSAnMTVweCc7CiAgICAgICAgICAgICAgICBhY2NvcmRpb25Db250ZW50LmFwcGVuZENoaWxkKG15UmVnaW9uRGl2KTsKICAgICAgICAgICAgICAgIHdnaF9teVJlZ2lvbkRpc3BsYXkgPSBteVJlZ2lvbkRpdi5xdWVyeVNlbGVjdG9yKCdzdHJvbmcnKTsKICAgICAgICAgICAgICAgIGNvbnN0IGZyaWVuZFJlZ2lvbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsKICAgICAgICAgICAgICAgIGZyaWVuZFJlZ2lvbkxhYmVsLnRleHRDb250ZW50ID0gJ9Cg0LXQs9C40L7QvSDQtNGA0YPQs9CwOiAnOwogICAgICAgICAgICAgICAgZnJpZW5kUmVnaW9uTGFiZWwuc3R5bGUubWFyZ2luUmlnaHQgPSAnNXB4JzsKICAgICAgICAgICAgICAgIGFjY29yZGlvbkNvbnRlbnQuYXBwZW5kQ2hpbGQoZnJpZW5kUmVnaW9uTGFiZWwpOwogICAgICAgICAgICAgICAgd2doX2ZyaWVuZFJlZ2lvblNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgICAgICAgd2doX2ZyaWVuZFJlZ2lvblNlbGVjdC5pZCA9ICd3Z2hGcmllbmRSZWdpb25TZWxlY3QnOwogICAgICAgICAgICAgICAgd2doX2ZyaWVuZFJlZ2lvblNlbGVjdC5jbGFzc05hbWUgPSAnd2doU2VsZWN0JzsKICAgICAgICAgICAgICAgIHdnaF9mcmllbmRSZWdpb25TZWxlY3QuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+LS0g0JLRi9Cx0LXRgNC40YLQtSAtLTwvb3B0aW9uPic7CiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhXR0hfQ09VTlRSWV9DVVJSRU5DWV9NQVApLnNvcnQoKFssIGFdLCBbLCBiXSkgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSkuZm9yRWFjaCgoW2NvZGUsIGRhdGFdKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IHdnaF9jdXJyZW50VXNlckNvdW50cnlDb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBjb2RlOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtkYXRhLm5hbWV9ICgke2NvZGV9KWA7CiAgICAgICAgICAgICAgICAgICAgICAgIHdnaF9mcmllbmRSZWdpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGFjY29yZGlvbkNvbnRlbnQuYXBwZW5kQ2hpbGQod2doX2ZyaWVuZFJlZ2lvblNlbGVjdCk7CiAgICAgICAgICAgICAgICB3Z2hfZmV0Y2hGcmllbmRQcmljZXNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIHdnaF9mZXRjaEZyaWVuZFByaWNlc0J0bi5pZCA9ICd3Z2hGZXRjaEZyaWVuZFByaWNlc0J0bic7CiAgICAgICAgICAgICAgICB3Z2hfZmV0Y2hGcmllbmRQcmljZXNCdG4uY2xhc3NOYW1lID0gJ3dnaEJ0biB3Z2hQcmltYXJ5QnRuJzsKICAgICAgICAgICAgICAgIHdnaF9mZXRjaEZyaWVuZFByaWNlc0J0bi50ZXh0Q29udGVudCA9ICfQo9C30L3QsNGC0Ywg0YbQtdC90YsnOwogICAgICAgICAgICAgICAgd2doX2ZldGNoRnJpZW5kUHJpY2VzQnRuLm9uY2xpY2sgPSB3Z2hfZmV0Y2hGcmllbmREYXRhOwogICAgICAgICAgICAgICAgYWNjb3JkaW9uQ29udGVudC5hcHBlbmRDaGlsZCh3Z2hfZmV0Y2hGcmllbmRQcmljZXNCdG4pOwogICAgICAgICAgICAgICAgY29uc3QgZ2lmdEZpbHRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZ2lmdEZpbHRlckRpdi5zdHlsZS5tYXJnaW5MZWZ0ID0gJ2F1dG8nOwogICAgICAgICAgICAgICAgZ2lmdEZpbHRlckRpdi5pbm5lckhUTUwgPSBgIDxsYWJlbCB0aXRsZT0i0J/QvtC60LDQt9Cw0YLRjCDRgtC+0LvRjNC60L4g0LjQs9GA0Ysg0YEg0YDQsNC30L3QuNGG0LXQuSDRhtC10L0gKy8tICR7V0dIX0dJRlRfUFJJQ0VfRElGRl9USFJFU0hPTEQgKiAxMDB9JSDQuCDQstC+0LfQvNC+0LbQvdC+0YHRgtGM0Y4g0L/QvtC60YPQv9C60Lgg0LIg0L/QvtC00LDRgNC+0LoiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ3Z2hHaWZ0YWJsZUZpbHRlckNoZWNrYm94Ij4g0JzQvtC20L3QviDQv9C+0LTQsNGA0LjRgtGMIDwvbGFiZWw+IGA7CiAgICAgICAgICAgICAgICB3Z2hfZ2lmdGFibGVGaWx0ZXJDaGVja2JveCA9IGdpZnRGaWx0ZXJEaXYucXVlcnlTZWxlY3RvcignaW5wdXQnKTsKICAgICAgICAgICAgICAgIHdnaF9naWZ0YWJsZUZpbHRlckNoZWNrYm94Lm9uY2hhbmdlID0gd2doX2hhbmRsZUdpZnRhYmxlRmlsdGVyQ2hhbmdlOwogICAgICAgICAgICAgICAgYWNjb3JkaW9uQ29udGVudC5hcHBlbmRDaGlsZChnaWZ0RmlsdGVyRGl2KTsKICAgICAgICAgICAgICAgIHdnaF9naWZ0TW9kZUNvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NvcmRpb25Db250ZW50KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX3RvZ2dsZUdpZnRNb2RlKCkgewogICAgICAgICAgICAgICAgd2doX2dpZnRNb2RlQWN0aXZlID0gIXdnaF9naWZ0TW9kZUFjdGl2ZTsKICAgICAgICAgICAgICAgIHdnaF9naWZ0TW9kZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gd2doX2dpZnRNb2RlQWN0aXZlID8gJ2Jsb2NrJyA6ICdub25lJzsKICAgICAgICAgICAgICAgIGlmICh3Z2hfZ2lmdEljb25CdG4pIHdnaF9naWZ0SWNvbkJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCB3Z2hfZ2lmdE1vZGVBY3RpdmUpOwogICAgICAgICAgICAgICAgaWYgKCF3Z2hfZ2lmdE1vZGVBY3RpdmUpIHsKICAgICAgICAgICAgICAgICAgICB3Z2hfaGlkZUdpZnRNb2RlKHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2doX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gd2doX2hpZGVHaWZ0TW9kZShyZXNldFNlbGVjdGlvbiA9IGZhbHNlKSB7CiAgICAgICAgICAgICAgICB3Z2hfZ2lmdE1vZGVBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHdnaF9jdXJyZW50RnJpZW5kQ291bnRyeUNvZGUgPSBudWxsOwogICAgICAgICAgICAgICAgd2doX3Nob3dHaWZ0YWJsZU9ubHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmICh3Z2hfZ2lmdE1vZGVDb250YWluZXIpIHdnaF9naWZ0TW9kZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgaWYgKHdnaF9naWZ0SWNvbkJ0bikgd2doX2dpZnRJY29uQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgaWYgKHJlc2V0U2VsZWN0aW9uICYmIHdnaF9mcmllbmRSZWdpb25TZWxlY3QpIHdnaF9mcmllbmRSZWdpb25TZWxlY3QudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGlmICh3Z2hfZ2lmdGFibGVGaWx0ZXJDaGVja2JveCkgd2doX2dpZnRhYmxlRmlsdGVyQ2hlY2tib3guY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgd2doX2hpZGVQcm9ncmVzc0Jhcih3Z2hfZ2lmdFByb2dyZXNzQmFyKTsKICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod2doX2dhbWVEYXRhU3RvcmUpLmZvckVhY2goZ2FtZSA9PiBnYW1lLmZyaWVuZERhdGEgPSBudWxsKTsKICAgICAgICAgICAgICAgIHdnaF9yZW5kZXJSZXN1bHRzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHdnaF9mZXRjaEZyaWVuZERhdGEoKSB7CiAgICAgICAgICAgICAgICB3Z2hfY3VycmVudEZyaWVuZENvdW50cnlDb2RlID0gd2doX2ZyaWVuZFJlZ2lvblNlbGVjdC52YWx1ZTsKICAgICAgICAgICAgICAgIGlmICghd2doX2N1cnJlbnRGcmllbmRDb3VudHJ5Q29kZSkgewogICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoJ9CS0YvQsdC10YDQuNGC0LUg0YDQtdCz0LjQvtC9INC00YDRg9Cz0LAuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHdnaF9hbGxBcHBJZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cygn0KHQvdCw0YfQsNC70LAg0YHQvtCx0LXRgNC40YLQtSDQtNCw0L3QvdGL0LUg0LTQu9GPINGB0LLQvtC10LPQviDRgdC/0LjRgdC60LAg0LbQtdC70LDQtdC80L7Qs9C+LicpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoYNCX0LDQv9GA0L7RgSDRhtC10L0g0LTQu9GPINGA0LXQs9C40L7QvdCwICR7d2doX2N1cnJlbnRGcmllbmRDb3VudHJ5Q29kZX0uLi4gKDAvJHtNYXRoLmNlaWwod2doX2FsbEFwcElkcy5sZW5ndGggLyBXR0hfQkFUQ0hfU0laRSl9KWAsIHRydWUpOwogICAgICAgICAgICAgICAgd2doX3Nob3dQcm9ncmVzc0Jhcih3Z2hfZ2lmdFByb2dyZXNzQmFyLCAwKTsKICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod2doX2dhbWVEYXRhU3RvcmUpLmZvckVhY2goZ2FtZSA9PiBnYW1lLmZyaWVuZERhdGEgPSBudWxsKTsKICAgICAgICAgICAgICAgIHdnaF9leGNoYW5nZVJhdGVzID0gbnVsbDsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kQ3VycmVuY3lJbmZvID0gV0dIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQW3dnaF9jdXJyZW50RnJpZW5kQ291bnRyeUNvZGVdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG15Q3VycmVuY3lJbmZvID0gV0dIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQW3dnaF9jdXJyZW50VXNlckNvdW50cnlDb2RlXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZnJpZW5kQ3VycmVuY3lJbmZvICYmIG15Q3VycmVuY3lJbmZvICYmIGZyaWVuZEN1cnJlbmN5SW5mby5jb2RlICE9PSBteUN1cnJlbmN5SW5mby5jb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoYNCf0L7Qu9GD0YfQtdC90LjQtSDQutGD0YDRgdCwINCy0LDQu9GO0YIuLi5gLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdnaF9leGNoYW5nZVJhdGVzID0gYXdhaXQgd2doX2ZldGNoRXhjaGFuZ2VSYXRlcyhmcmllbmRDdXJyZW5jeUluZm8uaXNvKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocmF0ZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Z2hfdXBkYXRlU3RhdHVzKGDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINC60YPRgNGB0LAg0LLQsNC70Y7RgjogJHtyYXRlRXJyb3IubWVzc2FnZX0uINCh0YDQsNCy0L3QtdC90LjQtSDRhtC10L0g0LHRg9C00LXRgiDQvdC10YLQvtGH0L3Ri9C8LmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiW1dHSF0g0J7RiNC40LHQutCwINC60YPRgNGB0LAg0LLQsNC70Y7RgjoiLCByYXRlRXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAyMDAwKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Z2hfZXhjaGFuZ2VSYXRlcyA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX2V4Y2hhbmdlUmF0ZXMgPSB7fTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxCYXRjaGVzID0gTWF0aC5jZWlsKHdnaF9hbGxBcHBJZHMubGVuZ3RoIC8gV0dIX0JBVENIX1NJWkUpOwogICAgICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzZWRCYXRjaGVzID0gMDsKICAgICAgICAgICAgICAgICAgICB3Z2hfdXBkYXRlU3RhdHVzKGDQl9Cw0L/RgNC+0YEg0YbQtdC9INC00LvRjyDRgNC10LPQuNC+0L3QsCAke3dnaF9jdXJyZW50RnJpZW5kQ291bnRyeUNvZGV9Li4uICgwLyR7dG90YWxCYXRjaGVzfSlgLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdnaF9hbGxBcHBJZHMubGVuZ3RoOyBpICs9IFdHSF9CQVRDSF9TSVpFKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gd2doX2FsbEFwcElkcy5zbGljZShpLCBpICsgV0dIX0JBVENIX1NJWkUpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaERhdGEgPSBhd2FpdCB3Z2hfZmV0Y2hCYXRjaEdhbWVEYXRhKGJhdGNoLCB3Z2hfY3VycmVudEZyaWVuZENvdW50cnlDb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2doX3Byb2Nlc3NCYXRjaERhdGEoYmF0Y2hEYXRhLCAnZnJpZW5kRGF0YScpOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRCYXRjaGVzKys7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKHByb2Nlc3NlZEJhdGNoZXMgLyB0b3RhbEJhdGNoZXMpICogMTAwOwogICAgICAgICAgICAgICAgICAgICAgICB3Z2hfdXBkYXRlUHJvZ3Jlc3NCYXIod2doX2dpZnRQcm9ncmVzc0JhciwgcHJvZ3Jlc3MpOwogICAgICAgICAgICAgICAgICAgICAgICB3Z2hfdXBkYXRlU3RhdHVzKGDQl9Cw0L/RgNC+0YEg0YbQtdC9INC00LvRjyDRgNC10LPQuNC+0L3QsCAke3dnaF9jdXJyZW50RnJpZW5kQ291bnRyeUNvZGV9Li4uICgke3Byb2Nlc3NlZEJhdGNoZXN9LyR7dG90YWxCYXRjaGVzfSlgLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAyMDApKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgd2doX3VwZGF0ZVN0YXR1cyhg0KbQtdC90Ysg0LTQu9GPINGA0LXQs9C40L7QvdCwICR7d2doX2N1cnJlbnRGcmllbmRDb3VudHJ5Q29kZX0g0L/QvtC70YPRh9C10L3Riy5gKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfcmVuZGVyUmVzdWx0cygpOwogICAgICAgICAgICAgICAgICAgIHdnaF9oaWRlUHJvZ3Jlc3NCYXIod2doX2dpZnRQcm9ncmVzc0Jhcik7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHdnaF91cGRhdGVTdGF0dXMoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INGG0LXQvSDQtNGA0YPQs9CwOiAke2Vycm9yLm1lc3NhZ2V9YCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1dHSF0g0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDRhtC10L0g0LTRgNGD0LPQsDonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgd2doX2hpZGVQcm9ncmVzc0Jhcih3Z2hfZ2lmdFByb2dyZXNzQmFyKTsKICAgICAgICAgICAgICAgICAgICB3Z2hfcmVuZGVyUmVzdWx0cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiB3Z2hfZmV0Y2hFeGNoYW5nZVJhdGVzKGJhc2VDdXJyZW5jeUlzbykgewogICAgICAgICAgICAgICAgaWYgKCFiYXNlQ3VycmVuY3lJc28pIHRocm93IG5ldyBFcnJvcigiQmFzZSBjdXJyZW5jeSBJU08gY29kZSBub3QgcHJvdmlkZWQiKTsKICAgICAgICAgICAgICAgIGNvbnN0IGFwaVVybCA9IGAke1dHSF9DVVJSRU5DWV9BUElfVVJMfSR7YmFzZUN1cnJlbmN5SXNvLnRvTG93ZXJDYXNlKCl9Lmpzb25gOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYXBpVXJsLAogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogV0dIX1JFUVVFU1RfVElNRU9VVF9NUyAvIDIsCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRlcyA9IHJlc3BvbnNlLnJlc3BvbnNlW2Jhc2VDdXJyZW5jeUlzby50b0xvd2VyQ2FzZSgpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF0ZXMgJiYgdHlwZW9mIHJhdGVzID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJhdGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDQmtGD0YDRgdGLINC00LvRjyAke2Jhc2VDdXJyZW5jeUlzb30g0L3QtSDQvdCw0LnQtNC10L3RiyDQsiDQvtGC0LLQtdGC0LUgQVBJYCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihg0J7RiNC40LHQutCwIEFQSSDQstCw0LvRjtGCOiDRgdGC0LDRgtGD0YEgJHtyZXNwb25zZS5zdGF0dXN9YCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiAoZXJyb3IpID0+IHJlamVjdChuZXcgRXJyb3IoJ9Ch0LXRgtC10LLQsNGPINC+0YjQuNCx0LrQsCBBUEkg0LLQsNC70Y7RgicpKSwKICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCBBUEkg0LLQsNC70Y7RgicpKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9jb252ZXJ0Q3VycmVuY3koYW1vdW50LCBmcm9tQ291bnRyeUNvZGUsIHRvQ291bnRyeUNvZGUpIHsKICAgICAgICAgICAgICAgIGlmIChmcm9tQ291bnRyeUNvZGUgPT09IHRvQ291bnRyeUNvZGUpIHJldHVybiBhbW91bnQ7CiAgICAgICAgICAgICAgICBpZiAoIXdnaF9leGNoYW5nZVJhdGVzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbV0dIXSBFeGNoYW5nZSByYXRlcyBub3QgbG9hZGVkIGZvciBjb252ZXJzaW9uJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBmcm9tQ3VycmVuY3lJbmZvID0gV0dIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQW2Zyb21Db3VudHJ5Q29kZV07CiAgICAgICAgICAgICAgICBjb25zdCB0b0N1cnJlbmN5SW5mbyA9IFdHSF9DT1VOVFJZX0NVUlJFTkNZX01BUFt0b0NvdW50cnlDb2RlXTsKICAgICAgICAgICAgICAgIGlmICghZnJvbUN1cnJlbmN5SW5mbyB8fCAhdG9DdXJyZW5jeUluZm8pIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tXR0hdIFVua25vd24gY291bnRyeSBjb2RlIGZvciBjb252ZXJzaW9uJywgZnJvbUNvdW50cnlDb2RlLCB0b0NvdW50cnlDb2RlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChmcm9tQ3VycmVuY3lJbmZvLmNvZGUgPT09IHRvQ3VycmVuY3lJbmZvLmNvZGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW1vdW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgdG9DdXJyZW5jeUtleSA9IHRvQ3VycmVuY3lJbmZvLmlzbz8udG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGlmICghdG9DdXJyZW5jeUtleSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1dHSF0gVW5rbm93biB0YXJnZXQgSVNPIGN1cnJlbmN5IGNvZGUgZm9yIGNvbnZlcnNpb24nLCB0b0NvdW50cnlDb2RlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh3Z2hfZXhjaGFuZ2VSYXRlc1t0b0N1cnJlbmN5S2V5XSA9PT0gdW5kZWZpbmVkIHx8IHdnaF9leGNoYW5nZVJhdGVzW3RvQ3VycmVuY3lLZXldID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbV0dIXSBFeGNoYW5nZSByYXRlIHRvICR7dG9DdXJyZW5jeUtleX0gbm90IGF2YWlsYWJsZWApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgcmF0ZSA9IHdnaF9leGNoYW5nZVJhdGVzW3RvQ3VycmVuY3lLZXldOwogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoKGFtb3VudCAqIHJhdGUpLnRvRml4ZWQoMikpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfaGFuZGxlR2lmdGFibGVGaWx0ZXJDaGFuZ2UoKSB7CiAgICAgICAgICAgICAgICB3Z2hfc2hvd0dpZnRhYmxlT25seSA9IHdnaF9naWZ0YWJsZUZpbHRlckNoZWNrYm94LmNoZWNrZWQ7CiAgICAgICAgICAgICAgICB3Z2hfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF9hcHBseUdpZnRGaWx0ZXIoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXdnaF9naWZ0TW9kZUFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53Z2hHYW1lQ2FyZCcpLmZvckVhY2goY2FyZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53Z2hHYW1lQ2FyZCcpOwogICAgICAgICAgICAgICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0dpZnRhYmxlQnlQcmljZSA9IGNhcmQuZGF0YXNldC5naWZ0YWJsZVByaWNlID09PSAndHJ1ZSc7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuR2lmdEJ5QXBpID0gY2FyZC5kYXRhc2V0LmNhbkdpZnRBcGkgPT09ICd0cnVlJzsKICAgICAgICAgICAgICAgICAgICBpZiAod2doX3Nob3dHaWZ0YWJsZU9ubHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzR2lmdGFibGVCeVByaWNlICYmIGNhbkdpZnRCeUFwaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCd3Z2gtZmlsdGVyZWQtb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnd2doLWZpbHRlcmVkLW91dCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfY3JlYXRlUHJvZ3Jlc3NCYXIoaWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGJhckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgYmFyQ29udGFpbmVyLmlkID0gaWQ7CiAgICAgICAgICAgICAgICBiYXJDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGAgd2lkdGg6IDgwJTsgbWF4LXdpZHRoOiA2MDBweDsgaGVpZ2h0OiAxMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjM2E0ZjZhOyBib3JkZXItcmFkaXVzOiA1cHg7IG92ZXJmbG93OiBoaWRkZW47IG1hcmdpbjogMTBweCBhdXRvOyBkaXNwbGF5OiBub25lOyBmbGV4LXNocmluazogMDsgYDsKICAgICAgICAgICAgICAgIGNvbnN0IGJhckZpbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGJhckZpbGwuY2xhc3NOYW1lID0gJ3dnaFByb2dyZXNzQmFyRmlsbCc7CiAgICAgICAgICAgICAgICBiYXJGaWxsLnN0eWxlLmNzc1RleHQgPSBgIHdpZHRoOiAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kLWNvbG9yOiAjNjdjMWY1OyBib3JkZXItcmFkaXVzOiA1cHg7IHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZS1vdXQ7IGA7CiAgICAgICAgICAgICAgICBiYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoYmFyRmlsbCk7CiAgICAgICAgICAgICAgICByZXR1cm4gYmFyQ29udGFpbmVyOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfc2hvd1Byb2dyZXNzQmFyKGJhckVsZW1lbnQsIGluaXRpYWxQcm9ncmVzcyA9IDApIHsKICAgICAgICAgICAgICAgIGlmICghYmFyRWxlbWVudCkgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgZmlsbCA9IGJhckVsZW1lbnQucXVlcnlTZWxlY3RvcignLndnaFByb2dyZXNzQmFyRmlsbCcpOwogICAgICAgICAgICAgICAgZmlsbC5zdHlsZS53aWR0aCA9IGAke2luaXRpYWxQcm9ncmVzc30lYDsKICAgICAgICAgICAgICAgIGJhckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHdnaF91cGRhdGVQcm9ncmVzc0JhcihiYXJFbGVtZW50LCBwcm9ncmVzcykgewogICAgICAgICAgICAgICAgaWYgKCFiYXJFbGVtZW50KSByZXR1cm47CiAgICAgICAgICAgICAgICBjb25zdCBmaWxsID0gYmFyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcud2doUHJvZ3Jlc3NCYXJGaWxsJyk7CiAgICAgICAgICAgICAgICBmaWxsLnN0eWxlLndpZHRoID0gYCR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwcm9ncmVzcykpfSVgOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfaGlkZVByb2dyZXNzQmFyKGJhckVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGlmICghYmFyRWxlbWVudCkgcmV0dXJuOwogICAgICAgICAgICAgICAgYmFyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfYWRkU3R5bGVzKCkgewogICAgICAgICAgICAgICAgR01fYWRkU3R5bGUoYAogICAgICAgICAgICAgICAgICAgICAgICAud2doQnRuIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDhweCAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjNGI2ZjljOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMzZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCA3MSwgOTQsIDAuOCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMsIGJvcmRlci1jb2xvciAwLjJzOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC40KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaEJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDY3LCAxMDMsIDEzMywgMC45KTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaEJ0bjpkaXNhYmxlZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvcGFjaXR5OiAwLjY7CiAgICAgICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IGRlZmF1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hQcmltYXJ5QnRuIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoNzcsIDEzNiwgMjU1LCAwLjgpOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNEQ4OEZGOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUHJpbWFyeUJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxMDIsIDIwNCwgMC45KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaEJ0bi5zb3J0QnRuLmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDEyMywgMjU1LCAwLjgpOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjMDA3YmZmOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQnRuLnNvcnRCdG4uYWN0aXZlOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgODYsIDE3OSwgMC45KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgI3dnaEdpZnRNb2RlQnRuLmFjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgI3dnaEZpbHRlclRvZ2dsZUJ0bi5hY3RpdmUgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxMjMsIDI1NSwgMC44KTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzAwN2JmZjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFNlbGVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tbGVmdDogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzMzMzsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzU1NTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMzZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDAgOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdXRsaW5lOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAJbWF4LXdpZHRoOiAyMDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFNlbGVjdDpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hHYW1lQ2FyZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCA0NiwgNTEsIDAuODUpOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZSwgYm94LXNoYWRvdyAwLjJzIGVhc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzMzOTQxOwogICAgICAgICAgICAgICAgICAgICAgICAJbWluLWhlaWdodDogNTAwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hHYW1lQ2FyZDpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNGI2ZjljOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZExpbmsgewogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6IGluaGVyaXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaENhcmRJbWFnZVdyYXBwZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhc3BlY3QtcmF0aW86IDI5MiAvIDEzNjsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMxMTE7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzMzM5NDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hDYXJkSW1hZ2VXcmFwcGVyIGltZyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgCW1heC13aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1heC1oZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCW9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZERpc2NvdW50QmFkZ2UgewogICAgICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgICAgICAgICAJYm90dG9tOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlyaWdodDogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogI2UyMDA0YjsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDJweCA2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICAgICAgICAgICAgICAJei1pbmRleDogMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaENhcmRDb250ZW50IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZFRpdGxlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsaW5lLWhlaWdodDogMS4zOwogICAgICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAyLjZlbTsKICAgICAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIAl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZTVlNWU1OwogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogLXdlYmtpdC1ib3g7CiAgICAgICAgICAgICAgICAgICAgICAgIAktd2Via2l0LWxpbmUtY2xhbXA6IDI7CiAgICAgICAgICAgICAgICAgICAgICAgIAktd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZFRpdGxlOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZFByaWNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogYmFzZWxpbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlnYXA6IDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1pbi1oZWlnaHQ6IDIycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hDdXJyZW50UHJpY2UgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjYTRkMDA3OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doT3JpZ2luYWxQcmljZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICAgICAgCXRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZFJldmlld3MgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUmV2aWV3UG9zaXRpdmUgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM2NmMwZjQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hSZXZpZXdNaXhlZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2EzOGI1MTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFJldmlld05lZ2F0aXZlIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjYzQ0YzJjOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUmV2aWV3Tm9uZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaENhcmRJbmZvR3JpZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBncmlkOwogICAgICAgICAgICAgICAgICAgICAgICAJZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlnYXA6IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZEluZm9JdGVtIHsKICAgICAgICAgICAgICAgICAgICAgICAgCXdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgICAgICAJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIAlsaW5lLWhlaWdodDogMS40OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZEluZm9JdGVtIHNwYW4gewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hUYWdzQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlnYXA6IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hUYWcgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMDMsIDE5MywgMjQ1LCAwLjE1KTsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogM3B4IDdweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaERlc2NCdXR0b24gewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDZweCAxMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doRGVzY0J1dHRvbjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doQ2FyZEZvb3RlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiBhdXRvOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy10b3A6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlib3JkZXItdG9wOiAxcHggc29saWQgIzNhNGY2YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaENhbm5vdEdpZnQgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNmZjgwODA7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXN0eWxlOiBpdGFsaWM7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hGcmllbmRQcmljZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2IwZTBlNjsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFByaWNlRGlmZiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IDJweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFByaWNlRGlmZkdvb2QgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM3N2RkNzc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hQcmljZURpZmZCYWQgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNmZjY5NjE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIEBrZXlmcmFtZXMgd2doU3BpbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkwJSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJMTAwJSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFNwaW5uZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxZW07CiAgICAgICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDFlbTsKICAgICAgICAgICAgICAgICAgICAgICAgCWFuaW1hdGlvbjogd2doU3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIAl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaEFjY29yZGlvbkNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweCAwOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzYTRmNmE7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hBY2NvcmRpb25Db250ZW50LAogICAgICAgICAgICAgICAgICAgICAgICAud2doRmlsdGVyR3JpZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzNhNGY2YTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoNDIsIDcxLCA5NCwgMC4yKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaEFjY29yZGlvbkNvbnRlbnQgewogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hGaWx0ZXJHcmlkIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAlncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hGaWx0ZXJHcm91cCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doRmlsdGVyTGFiZWwgewogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hSYW5nZUlucHV0IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUmFuZ2VJbnB1dCBpbnB1dCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFJhbmdlSW5wdXQgaW5wdXQ6bGFzdC1jaGlsZCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAwOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUmFuZ2VJbnB1dCBpbnB1dCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAl3aWR0aDogNTAlOwogICAgICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogIzE3MjAyZDsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzYTRmNmE7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFJhZGlvR3JvdXAsCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hGaWx0ZXJDaGVja2JveCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgCWdhcDogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjd2doUmVzZXRGaWx0ZXJzIHsKICAgICAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hHYW1lQ2FyZC53Z2gtZmlsdGVyZWQtb3V0IHsKICAgICAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFJyY0luZm8gewogICAgICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA0cHggOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUnJjU3RhdHVzIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUnJjRGlmZiB7CiAgICAgICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hScmMtbG93ZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMDIsIDE5MiwgMjQ0LCAwLjIpOwogICAgICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMDIsIDE5MiwgMjQ0LCAwLjQpOwogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hScmMtZXF1YWwgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MiwgMTg0LCA5MiwgMC4yKTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkIHJnYmEoOTIsIDE4NCwgOTIsIDAuNCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2RmZjBkODsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFJyYy1oaWdoZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMTcsIDgzLCA3OSwgMC4yKTsKICAgICAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjE3LCA4MywgNzksIDAuNCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2YyZGVkZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLndnaFJyYy1sb3dlciAud2doUnJjU3RhdHVzIHsKICAgICAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZDFlNWZhOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAud2doUnJjLWVxdWFsIC53Z2hScmNTdGF0dXMgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjMGVmMTU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC53Z2hScmMtaGlnaGVyIC53Z2hScmNTdGF0dXMgewogICAgICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNmMmRlZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxNjAwcHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgCSN3Z2hSZXN1bHRzIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyODBweCwgMWZyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMzAwcHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgCSN3Z2hSZXN1bHRzIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyNjBweCwgMWZyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA5MDBweCkgewogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaFJlc3VsdHMgewogICAgICAgICAgICAgICAgICAgICAgICAJCWdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI0MHB4LCAxZnIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkjd2doUmVzdWx0cyB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjIwcHgsIDFmcikpOwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCSN3Z2hIZWFkZXIgewogICAgICAgICAgICAgICAgICAgICAgICAJCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgICAgIAkJYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaFNvcnRCdXR0b25zIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgICAgICAgICAgICAgICAgICAgICAgCQltYXJnaW4tbGVmdDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgCQltYXJnaW4tdG9wOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJb3JkZXI6IDM7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaEdpZnRBY2NvcmRpb25Db250ZW50IHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICAJCWFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCSN3Z2hHaWZ0QWNjb3JkaW9uQ29udGVudCBsYWJlbCB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCSN3Z2hHaWZ0QWNjb3JkaW9uQ29udGVudCAjd2doRnJpZW5kUmVnaW9uU2VsZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaEdpZnRBY2NvcmRpb25Db250ZW50ICN3Z2hGZXRjaEZyaWVuZFByaWNlc0J0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAgICAgICAgIAkjd2doR2lmdEFjY29yZGlvbkNvbnRlbnQgZGl2W3N0eWxlKj0nbWFyZ2luLWxlZnQ6IGF1dG8nXSB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJbWFyZ2luLWxlZnQ6IDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAgICAgCQl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaEhlYWRlcj4ud2doQnRuOmZpcnN0LWNoaWxkIHsKICAgICAgICAgICAgICAgICAgICAgICAgCQlvcmRlcjogMTsKICAgICAgICAgICAgICAgICAgICAgICAgCQl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgCQltYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaEdpZnRNb2RlQnRuLAogICAgICAgICAgICAgICAgICAgICAgICAJI3dnaEZpbHRlclRvZ2dsZUJ0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJb3JkZXI6IDI7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJYWxpZ24tc2VsZjogZmxleC1lbmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIAkJbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAgICAgCSN3Z2hTdGF0dXMgewogICAgICAgICAgICAgICAgICAgICAgICAJCW9yZGVyOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAJCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCQlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCQltYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiB3Z2hfaW5pdGlhbGl6ZSgpIHsKICAgICAgICAgICAgICAgIHdnaF9kZXRlY3RVc2VyUmVnaW9uKCk7CiAgICAgICAgICAgICAgICB3Z2hfYWRkU3R5bGVzKCk7CiAgICAgICAgICAgICAgICB3Z2hfYWRkQW5hbHl6ZUJ1dHRvbigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZXRUaW1lb3V0KHdnaF9pbml0aWFsaXplLCBXR0hfSU5JVElBTF9ERUxBWV9NUyk7CgogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy8g0KHQutGA0LjQv9GCINC00LvRjyDQv9GA0L7QstC10YDQutC4INCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0L7RgtC/0YDQsNCy0LrQuCDQv9C+0LTQsNGA0LrQsCDRgdC+INGB0YLRgNCw0L3QuNGG0Ysg0LjQs9GA0Ysg0LTRgNGD0LfRjNGP0Lwg0LIg0LTRgNGD0LPQuNGFINGB0YLRgNCw0L3QsNGFIHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8qCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5wYWdlR2lmdEhlbHBlciAmJiB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9hcHAvJykpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgICAgICAgIGNvbnN0IFBHSF9BUElfVVJMID0gImh0dHBzOi8vYXBpLnN0ZWFtcG93ZXJlZC5jb20vSVN0b3JlQnJvd3NlU2VydmljZS9HZXRJdGVtcy92MSI7CiAgICAgICAgICAgIGNvbnN0IFBHSF9DVVJSRU5DWV9BUElfVVJMID0gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQGZhd2F6YWhtZWQwL2N1cnJlbmN5LWFwaUBsYXRlc3QvdjEvY3VycmVuY2llcy8nOwogICAgICAgICAgICBjb25zdCBQR0hfUkVRVUVTVF9USU1FT1VUX01TID0gMTUwMDA7CiAgICAgICAgICAgIGNvbnN0IFBHSF9HSUZUX1BSSUNFX0RJRkZfVEhSRVNIT0xEID0gMC4xMDsKICAgICAgICAgICAgY29uc3QgUEdIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQID0gewogICAgICAgICAgICAgICAgJ1VTJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVLlMuIERvbGxhcicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0VVJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFdXJvJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2V1cicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQVInOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0xBVEFNIC0gVS5TLiBEb2xsYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXNkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdBVSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQXVzdHJhbGlhbiBEb2xsYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDIxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2F1ZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQlInOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0JyYXppbGlhbiBSZWFsJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA3LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2JybCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnR0InOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0JyaXRpc2ggUG91bmQnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDIsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnZ2JwJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdDQSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ2FuYWRpYW4gRG9sbGFyJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjYWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDaGlsZWFuIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NscCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ04nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0NoaW5lc2UgWXVhbicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjMsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnY255JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdBWic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ0lTIC0gVS5TLiBEb2xsYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndXNkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdDTyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ29sb21iaWFuIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI3LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2NvcCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnQ1InOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Nvc3RhIFJpY2FuIENvbG9uJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjcmMnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0hLJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdIb25nIEtvbmcgRG9sbGFyJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyOSwKICAgICAgICAgICAgICAgICAgICBpc286ICdoa2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0lOJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdJbmRpYW4gUnVwZWUnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDI0LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2lucicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnSUQnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0luZG9uZXNpYW4gUnVwaWFoJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxMCwKICAgICAgICAgICAgICAgICAgICBpc286ICdpZHInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0lMJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdJc3JhZWxpIE5ldyBTaGVrZWwnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDM1LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ2lscycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnSlAnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0phcGFuZXNlIFllbicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogOCwKICAgICAgICAgICAgICAgICAgICBpc286ICdqcHknCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0taJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdLYXpha2hzdGFuaSBUZW5nZScsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMzcsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAna3p0JwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdLVyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnS3V3YWl0aSBEaW5hcicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMzgsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAna3dkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdNWSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTWFsYXlzaWFuIFJpbmdnaXQnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDExLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ215cicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnTVgnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01leGljYW4gUGVzbycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTksCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnbXhuJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdOWic6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTmV3IFplYWxhbmQgRG9sbGFyJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMiwKICAgICAgICAgICAgICAgICAgICBpc286ICduemQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ05PJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOb3J3ZWdpYW4gS3JvbmUnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDksCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnbm9rJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdQRSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUGVydXZpYW4gU29sJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAyNiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwZW4nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1BIJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdQaGlsaXBwaW5lIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEyLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3BocCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUEwnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1BvbGlzaCBabG90eScsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNiwKICAgICAgICAgICAgICAgICAgICBpc286ICdwbG4nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1FBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdRYXRhcmkgUml5YWwnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDM5LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3FhcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnUlUnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1J1c3NpYW4gUnVibGUnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDUsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAncnViJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdTQSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2F1ZGkgUml5YWwnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDMxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3NhcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnU0cnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NpbmdhcG9yZSBEb2xsYXInLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDEzLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3NnZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnWkEnOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NvdXRoIEFmcmljYW4gUmFuZCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMjgsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAnemFyJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdQSyc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU291dGggQXNpYSAtIFVTRCcsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0tSJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTb3V0aCBLb3JlYW4gV29uJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAxNiwKICAgICAgICAgICAgICAgICAgICBpc286ICdrcncnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0NIJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTd2lzcyBGcmFuYycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogNCwKICAgICAgICAgICAgICAgICAgICBpc286ICdjaGYnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1RXJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUYWl3YW4gRG9sbGFyJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMCwKICAgICAgICAgICAgICAgICAgICBpc286ICd0d2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1RIJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUaGFpIEJhaHQnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDE0LAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3RoYicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVFInOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01FTkEgLSBVLlMuIERvbGxhcicsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgICAgICAgICBpc286ICd1c2QnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ0FFJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVLkEuRS4gRGlyaGFtJywKICAgICAgICAgICAgICAgICAgICBjb2RlOiAzMiwKICAgICAgICAgICAgICAgICAgICBpc286ICdhZWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ1VBJzogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVa3JhaW5pYW4gSHJ5dm5pYScsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTgsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndWFoJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdVWSc6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVXJ1Z3VheWFuIFBlc28nLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IDQxLAogICAgICAgICAgICAgICAgICAgIGlzbzogJ3V5dScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnVk4nOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1ZpZXRuYW1lc2UgRG9uZycsCiAgICAgICAgICAgICAgICAgICAgY29kZTogMTUsCiAgICAgICAgICAgICAgICAgICAgaXNvOiAndm5kJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgUEdIX0lTT19UT19DT1VOVFJZID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKFBHSF9DT1VOVFJZX0NVUlJFTkNZX01BUCkubWFwKChbY291bnRyeSwgZGF0YV0pID0+IFtkYXRhLmlzbywgY291bnRyeV0pKTsKICAgICAgICAgICAgY29uc3QgUEdIX0lTT19UT19DT0RFID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKFBHSF9DT1VOVFJZX0NVUlJFTkNZX01BUCkubWFwKChbXywgZGF0YV0pID0+IFtkYXRhLmlzbywgZGF0YS5jb2RlXSkpOwoKICAgICAgICAgICAgbGV0IHBnaF9tb2RhbCA9IG51bGw7CiAgICAgICAgICAgIGxldCBwZ2hfcmVzdWx0RGl2ID0gbnVsbDsKICAgICAgICAgICAgbGV0IHBnaF9mZXRjaEJ0biA9IG51bGw7CiAgICAgICAgICAgIGxldCBwZ2hfcmVnaW9uU2VsZWN0ID0gbnVsbDsKICAgICAgICAgICAgbGV0IHBnaF9jdXJyZW50QXBwSWQgPSBudWxsOwogICAgICAgICAgICBsZXQgcGdoX2N1cnJlbnRVc2VyUHJpY2UgPSBudWxsOwogICAgICAgICAgICBsZXQgcGdoX2N1cnJlbnRVc2VyQ3VycmVuY3lJU08gPSBudWxsOwogICAgICAgICAgICBsZXQgcGdoX2V4Y2hhbmdlUmF0ZXMgPSBudWxsOwoKICAgICAgICAgICAgZnVuY3Rpb24gcGdoX2FkZFN0eWxlcygpIHsKICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgICAgICAucGdoX2J1dHRvbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzcHg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICNwZ2hNb2RhbCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjcpOwogICAgICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwMTsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIk1vdGl2YSBTYW5zIiwgU2Fucy1zZXJpZiwgQXJpYWw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICNwZ2hNb2RhbCBoMyB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgI3BnaE1vZGFsIGxhYmVsIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAjcGdoUmVnaW9uU2VsZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmEzZjVhOwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNTY3ZDljOwogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ViZWJlYjsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgI3BnaFJlZ2lvblNlbGVjdDpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMxNGI2YTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgI3BnaFJlZ2lvblNlbGVjdCBvcHRpb24gewogICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAjcGdoRmV0Y2hCdG4gewogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMWIyODM4OwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgI3BnaEZldGNoQnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzhhZDNmNzsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAjcGdoRmV0Y2hCdG46ZGlzYWJsZWQgewogICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU1Njc3MjsKICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAjcGdoUmVzdWx0IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjM2E0ZjZhOwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgLnBnaF9zdGF0dXNfbG9hZGluZyB7CiAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAucGdoX3N0YXR1c19lcnJvciB7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmNjk2MTsKICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIC5wZ2hfcmVzdWx0X2Jsb2NrIHsKICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgLnBnaF9yZXN1bHRfZ2lmdGFibGUgewogICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTksIDIyMSwgMTE5LCAwLjIpOwogICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzc3ZGQ3NzsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZGZmMGQ4OwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIC5wZ2hfcmVzdWx0X25vdF9naWZ0YWJsZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTA1LCA5NywgMC4yKTsKICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZjY5NjE7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2YyZGVkZTsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICNwZ2hDbG9zZUJ0biB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDVweDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICNwZ2hDbG9zZUJ0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcGdoX3BhcnNlUHJpY2UocHJpY2VTdHIpIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJpY2VTdHIgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBwcmljZVN0ciAhPT0gJ251bWJlcicpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IFN0cmluZyhwcmljZVN0cikucmVwbGFjZSgvW14wLTkuLF0vZywgJycpLnJlcGxhY2UoJywnLCAnLicpOwogICAgICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBwYXJzZUZsb2F0KGNsZWFuZWQpOwogICAgICAgICAgICAgICAgcmV0dXJuIGlzTmFOKHByaWNlKSA/IG51bGwgOiBwcmljZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcGdoX2dldEN1cnJlbnRHYW1lSW5mbygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGFwcElkTWF0Y2ggPSB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvYXBwXC8oXGQrKS8pOwogICAgICAgICAgICAgICAgcGdoX2N1cnJlbnRBcHBJZCA9IGFwcElkTWF0Y2ggPyBhcHBJZE1hdGNoWzFdIDogbnVsbDsKCiAgICAgICAgICAgICAgICBjb25zdCBwcmljZU1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW2l0ZW1wcm9wPSJwcmljZSJdJyk7CiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW5jeU1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW2l0ZW1wcm9wPSJwcmljZUN1cnJlbmN5Il0nKTsKCiAgICAgICAgICAgICAgICBwZ2hfY3VycmVudFVzZXJQcmljZSA9IHByaWNlTWV0YSA/IHBnaF9wYXJzZVByaWNlKHByaWNlTWV0YS5jb250ZW50KSA6IG51bGw7CiAgICAgICAgICAgICAgICBwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTyA9IGN1cnJlbmN5TWV0YSA/IGN1cnJlbmN5TWV0YS5jb250ZW50LnRvTG93ZXJDYXNlKCkgOiBudWxsOwoKICAgICAgICAgICAgICAgIGlmIChwZ2hfY3VycmVudFVzZXJQcmljZSA9PT0gbnVsbCB8fCBwZ2hfY3VycmVudFVzZXJQcmljZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1cmNoYXNlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZV9wdXJjaGFzZV9hY3Rpb24gLnByaWNlW2RhdGEtcHJpY2UtZmluYWxdLCAuZGlzY291bnRfYmxvY2sgLmRpc2NvdW50X2ZpbmFsX3ByaWNlW2RhdGEtcHJpY2UtZmluYWxdJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHB1cmNoYXNlQmxvY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGdoX2N1cnJlbnRVc2VyUHJpY2UgPSBwZ2hfcGFyc2VQcmljZShwdXJjaGFzZUJsb2NrLmRhdGFzZXQucHJpY2VGaW5hbCkgLyAxMDA7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpbXBsZVByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVfcHVyY2hhc2VfYWN0aW9uIC5wcmljZTpub3QoW2RhdGEtcHJpY2UtZmluYWxdKScpOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2ltcGxlUHJpY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGdoX2N1cnJlbnRVc2VyUHJpY2UgPSBwZ2hfcGFyc2VQcmljZShzaW1wbGVQcmljZS50ZXh0Q29udGVudC50cmltKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgaWYgKCFwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiW1BHSF0g0J3QtSDRg9C00LDQu9C+0YHRjCDQvtC/0YDQtdC00LXQu9C40YLRjCDQstCw0LvRjtGC0YMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINGB0L4g0YHRgtGA0LDQvdC40YbRiy4g0JjRgdC/0L7Qu9GM0LfRg9C10LwgUlVCINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOLiIpOwogICAgICAgICAgICAgICAgICAgIHBnaF9jdXJyZW50VXNlckN1cnJlbmN5SVNPID0gJ3J1Yic7CiAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBwZ2hfY3VycmVudEFwcElkICYmIHBnaF9jdXJyZW50VXNlclByaWNlICE9PSBudWxsICYmIHBnaF9jdXJyZW50VXNlckN1cnJlbmN5SVNPOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwZ2hfc2hvd01vZGFsKCkgewogICAgICAgICAgICAgICAgaWYgKCFwZ2hfZ2V0Q3VycmVudEdhbWVJbmZvKCkpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINC40L3RhNC+0YDQvNCw0YbQuNGOINC+0LEg0LjQs9GA0LUg0Lgg0YbQtdC90LUg0L3QsCDRjdGC0L7QuSDRgdGC0YDQsNC90LjRhtC1LiIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIXBnaF9tb2RhbCkgewogICAgICAgICAgICAgICAgICAgIHBnaF9tb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHBnaF9tb2RhbC5pZCA9ICdwZ2hNb2RhbCc7CiAgICAgICAgICAgICAgICAgICAgcGdoX21vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icGdoQ2xvc2VCdG4iIHRpdGxlPSLQl9Cw0LrRgNGL0YLRjCI+JnRpbWVzOzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8aDM+0J/RgNC+0LLQtdGA0LjRgtGMINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0L/QvtC00LDRgNC60LA8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJwZ2hSZWdpb25TZWxlY3QiPtCg0LXQs9C40L7QvSDQtNGA0YPQs9CwOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9InBnaFJlZ2lvblNlbGVjdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINCS0YvQsdC10YDQuNGC0LUg0YDQtdCz0LjQvtC9INC00YDRg9Cz0LAgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7T2JqZWN0LmVudHJpZXMoUEdIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChbLCBhXSwgWywgYl0pID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoW2NvZGUsIGRhdGFdKSA9PiBgPG9wdGlvbiB2YWx1ZT0iJHtjb2RlfSI+JHtkYXRhLm5hbWV9ICgke2NvZGV9KTwvb3B0aW9uPmApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpfQogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icGdoRmV0Y2hCdG4iIGRpc2FibGVkPtCj0LfQvdCw0YLRjDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwZ2hSZXN1bHQiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwZ2hfbW9kYWwpOwoKICAgICAgICAgICAgICAgICAgICBwZ2hfcmVzdWx0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BnaFJlc3VsdCcpOwogICAgICAgICAgICAgICAgICAgIHBnaF9mZXRjaEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZ2hGZXRjaEJ0bicpOwogICAgICAgICAgICAgICAgICAgIHBnaF9yZWdpb25TZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGdoUmVnaW9uU2VsZWN0Jyk7CgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZ2hDbG9zZUJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGdoX2hpZGVNb2RhbCk7CiAgICAgICAgICAgICAgICAgICAgcGdoX2ZldGNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGdoX2ZldGNoQW5kQ29tcGFyZVByaWNlcyk7CiAgICAgICAgICAgICAgICAgICAgcGdoX3JlZ2lvblNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBnaF9mZXRjaEJ0bi5kaXNhYmxlZCA9ICFwZ2hfcmVnaW9uU2VsZWN0LnZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgcGdoX21vZGFsLl9vdXRzaWRlQ2xpY2tMaXN0ZW5lciA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZ2hfbW9kYWwuY29udGFpbnMoZXZlbnQudGFyZ2V0KSAmJiBwZ2hfbW9kYWwuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBnaF9oaWRlTW9kYWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwZ2hfbW9kYWwuX291dHNpZGVDbGlja0xpc3RlbmVyLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgIHBnaF9tb2RhbC5fZXNjTGlzdGVuZXIgPSAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnICYmIHBnaF9tb2RhbC5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGdoX2hpZGVNb2RhbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcGdoX21vZGFsLl9lc2NMaXN0ZW5lcik7CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBnaF9yZWdpb25TZWxlY3QudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgIHBnaF9mZXRjaEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBwZ2hfcmVzdWx0RGl2LmlubmVySFRNTCA9ICIiOwogICAgICAgICAgICAgICAgcGdoX21vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwZ2hfaGlkZU1vZGFsKCkgewogICAgICAgICAgICAgICAgaWYgKHBnaF9tb2RhbCkgewogICAgICAgICAgICAgICAgICAgIHBnaF9tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICBpZiAocGdoX21vZGFsLl9vdXRzaWRlQ2xpY2tMaXN0ZW5lcikgewogICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwZ2hfbW9kYWwuX291dHNpZGVDbGlja0xpc3RlbmVyLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgaWYgKHBnaF9tb2RhbC5fZXNjTGlzdGVuZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcGdoX21vZGFsLl9lc2NMaXN0ZW5lcik7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHBnaF9mZXRjaEZyaWVuZFByaWNlKGFwcElkLCBmcmllbmRDb3VudHJ5Q29kZSkgewogICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kQ3VycmVuY3lJbmZvID0gUEdIX0NPVU5UUllfQ1VSUkVOQ1lfTUFQW2ZyaWVuZENvdW50cnlDb2RlXTsKICAgICAgICAgICAgICAgIGlmICghZnJpZW5kQ3VycmVuY3lJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCLQndC10LjQt9Cy0LXRgdGC0L3Ri9C5INC60L7QtCDRgdGC0YDQsNC90Ysg0LTRgNGD0LPQsC4iKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEpzb24gPSB7CiAgICAgICAgICAgICAgICAgICAgaWRzOiBbeyBhcHBpZDogcGFyc2VJbnQoYXBwSWQpIH1dLAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICJydXNzaWFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeV9jb2RlOiBmcmllbmRDb3VudHJ5Q29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgc3RlYW1fcmVhbG06IDEKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRhdGFfcmVxdWVzdDogewogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlX2Jhc2ljX2luZm86IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVfYWxsX3B1cmNoYXNlX29wdGlvbnM6IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke1BHSF9BUElfVVJMfT9pbnB1dF9qc29uPSR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGlucHV0SnNvbikpfWAsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFBHSF9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHJlc3BvbnNlLnJlc3BvbnNlLnJlc3BvbnNlPy5zdG9yZV9pdGVtcz8uWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtRGF0YT8uc3VjY2VzcyA9PT0gMSAmJiBpdGVtRGF0YT8uYmVzdF9wdXJjaGFzZV9vcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VEYXRhID0gaXRlbURhdGEuYmVzdF9wdXJjaGFzZV9vcHRpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyaWVuZFByaWNlQ2VudHMgPSBwcmljZURhdGEuZmluYWxfcHJpY2VfaW5fY2VudHMgPyBwYXJzZUludChwcmljZURhdGEuZmluYWxfcHJpY2VfaW5fY2VudHMsIDEwKSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbkdpZnQgPSBwcmljZURhdGEudXNlcl9jYW5fcHVyY2hhc2VfYXNfZ2lmdCB8fCBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmllbmRQcmljZUNlbnRzICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZnJpZW5kUHJpY2VDZW50cyAvIDEwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUlTTzogZnJpZW5kQ3VycmVuY3lJbmZvLmlzbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWQ6IHByaWNlRGF0YS5mb3JtYXR0ZWRfZmluYWxfcHJpY2UgfHwgJ04vQScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuR2lmdDogY2FuR2lmdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUlTTzogZnJpZW5kQ3VycmVuY3lJbmZvLmlzbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWQ6IHByaWNlRGF0YS5mb3JtYXR0ZWRfZmluYWxfcHJpY2UgfHwgJ9CR0LXRgdC/0LvQsNGC0L3QvicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuR2lmdDogY2FuR2lmdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtRGF0YT8uc3VjY2VzcyA9PT0gMSAmJiAhaXRlbURhdGE/LmJlc3RfcHVyY2hhc2Vfb3B0aW9uKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihg0JjQs9GA0LAg0L3QtdC00L7RgdGC0YPQv9C90LAg0LTQu9GPINC/0L7QutGD0L/QutC4INCyINGA0LXQs9C40L7QvdC1ICR7ZnJpZW5kQ291bnRyeUNvZGV9LmApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoItCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC70YPRh9C40YLRjCDQtNCw0L3QvdGL0LUg0L4g0YbQtdC90LUg0LIg0YDQtdCz0LjQvtC90LUg0LTRgNGD0LPQsC4g0JLQvtC30LzQvtC20L3Qviwg0LjQs9GA0LAg0L3QtSDQvdCw0LnQtNC10L3QsCDQuNC70Lgg0L3QtdC00L7RgdGC0YPQv9C90LAuIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihg0J7RiNC40LHQutCwIEFQSSBTdGVhbTog0KHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiByZWplY3QobmV3IEVycm9yKCfQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LAg0L/RgNC4INC30LDQv9GA0L7RgdC1INGG0LXQvdGLINC00YDRg9Cz0LAnKSksCiAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0KG5ldyBFcnJvcign0KLQsNC50LzQsNGD0YIg0L/RgNC4INC30LDQv9GA0L7RgdC1INGG0LXQvdGLINC00YDRg9Cz0LAnKSkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBwZ2hfZmV0Y2hFeGNoYW5nZVJhdGVzKGJhc2VDdXJyZW5jeUlzbykgewogICAgICAgICAgICAgICAgaWYgKHBnaF9leGNoYW5nZVJhdGVzICYmIHBnaF9leGNoYW5nZVJhdGVzW2Jhc2VDdXJyZW5jeUlzb10pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGdoX2V4Y2hhbmdlUmF0ZXNbYmFzZUN1cnJlbmN5SXNvXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBhcGlVcmwgPSBgJHtQR0hfQ1VSUkVOQ1lfQVBJX1VSTH0ke2Jhc2VDdXJyZW5jeUlzby50b0xvd2VyQ2FzZSgpfS5qc29uYDsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGFwaVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFBHSF9SRVFVRVNUX1RJTUVPVVRfTVMgLyAyLAogICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNDAwICYmIHJlc3BvbnNlLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0ZXMgPSByZXNwb25zZS5yZXNwb25zZVtiYXNlQ3VycmVuY3lJc28udG9Mb3dlckNhc2UoKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhdGVzICYmIHR5cGVvZiByYXRlcyA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZ2hfZXhjaGFuZ2VSYXRlcykgcGdoX2V4Y2hhbmdlUmF0ZXMgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGdoX2V4Y2hhbmdlUmF0ZXNbYmFzZUN1cnJlbmN5SXNvXSA9IHJhdGVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJhdGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDQmtGD0YDRgdGLINC00LvRjyAke2Jhc2VDdXJyZW5jeUlzb30g0L3QtSDQvdCw0LnQtNC10L3RiyDQsiDQvtGC0LLQtdGC0LUgQVBJYCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihg0J7RiNC40LHQutCwIEFQSSDQstCw0LvRjtGCOiDRgdGC0LDRgtGD0YEgJHtyZXNwb25zZS5zdGF0dXN9YCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiAoZXJyb3IpID0+IHJlamVjdChuZXcgRXJyb3IoJ9Ch0LXRgtC10LLQsNGPINC+0YjQuNCx0LrQsCBBUEkg0LLQsNC70Y7RgicpKSwKICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCBBUEkg0LLQsNC70Y7RgicpKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHBnaF9mZXRjaEFuZENvbXBhcmVQcmljZXMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFJlZ2lvbiA9IHBnaF9yZWdpb25TZWxlY3QudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkUmVnaW9uKSByZXR1cm47CgogICAgICAgICAgICAgICAgcGdoX3Jlc3VsdERpdi5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0icGdoX3N0YXR1c19sb2FkaW5nIj7Ql9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhS4uLjwvZGl2Pic7CiAgICAgICAgICAgICAgICBwZ2hfZmV0Y2hCdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgcGdoX3JlZ2lvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmllbmRQcmljZURhdGEgPSBhd2FpdCBwZ2hfZmV0Y2hGcmllbmRQcmljZShwZ2hfY3VycmVudEFwcElkLCBzZWxlY3RlZFJlZ2lvbik7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kUHJpY2UgPSBmcmllbmRQcmljZURhdGEucHJpY2U7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kQ3VycmVuY3lJU08gPSBmcmllbmRQcmljZURhdGEuY3VycmVuY3lJU087CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuRnJpZW5kUmVjZWl2ZUdpZnQgPSBmcmllbmRQcmljZURhdGEuY2FuR2lmdDsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGZyaWVuZFByaWNlSW5Vc2VyQ3VycmVuY3kgPSBmcmllbmRQcmljZTsKICAgICAgICAgICAgICAgICAgICBsZXQgZXhjaGFuZ2VSYXRlVXNlZCA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIGlmIChwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTyAhPT0gZnJpZW5kQ3VycmVuY3lJU08pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGVzID0gYXdhaXQgcGdoX2ZldGNoRXhjaGFuZ2VSYXRlcyhmcmllbmRDdXJyZW5jeUlTTyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRlID0gcmF0ZXNbcGdoX2N1cnJlbnRVc2VyQ3VycmVuY3lJU09dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhdGUgPT09IHVuZGVmaW5lZCB8fCByYXRlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDQndC10YIg0LrRg9GA0YHQsCDQtNC70Y8gJHtwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTy50b1VwcGVyQ2FzZSgpfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpZW5kUHJpY2VJblVzZXJDdXJyZW5jeSA9IHBhcnNlRmxvYXQoKGZyaWVuZFByaWNlICogcmF0ZSkudG9GaXhlZCgyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNoYW5nZVJhdGVVc2VkID0gcmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocmF0ZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJbUEdIXSDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPL9C40YHQv9C+0LvRjNC30L7QstCw0L3QuNGPINC60YPRgNGB0LA6IiwgcmF0ZUVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBnaF9yZXN1bHREaXYuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9InBnaF9zdGF0dXNfZXJyb3IiPtCe0YjQuNCx0LrQsCDQutC+0L3QstC10YDRgtCw0YbQuNC4INCy0LDQu9GO0YI6ICR7cmF0ZUVycm9yLm1lc3NhZ2V9LiDQodGA0LDQstC90LXQvdC40LUg0L3QtdCy0L7Qt9C80L7QttC90L4uPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclByaWNlID0gcGdoX2N1cnJlbnRVc2VyUHJpY2U7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VEaWZmZXJlbmNlID0gZnJpZW5kUHJpY2VJblVzZXJDdXJyZW5jeSAtIHVzZXJQcmljZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZURpZmZlcmVuY2VQZXJjZW50ID0gdXNlclByaWNlID4gMCA/IChwcmljZURpZmZlcmVuY2UgLyB1c2VyUHJpY2UpIDogKHByaWNlRGlmZmVyZW5jZSA+IDAgPyBJbmZpbml0eSA6IC1JbmZpbml0eSk7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzV2l0aGluVGhyZXNob2xkID0gTWF0aC5hYnMocHJpY2VEaWZmZXJlbmNlUGVyY2VudCkgPD0gUEdIX0dJRlRfUFJJQ0VfRElGRl9USFJFU0hPTEQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuR2lmdCA9IGlzV2l0aGluVGhyZXNob2xkICYmIGNhbkZyaWVuZFJlY2VpdmVHaWZ0OwoKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0SFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAg0JLQsNGI0LAg0YbQtdC90LA6ICR7dXNlclByaWNlLnRvTG9jYWxlU3RyaW5nKCdydS1SVScsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiBwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTy50b1VwcGVyQ2FzZSgpLCBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX08YnI+CiAgICAgICAgICAgICAgICAgICAgICAgINCm0LXQvdCwINC00YDRg9Cz0LA6ICR7ZnJpZW5kUHJpY2UudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6IGZyaWVuZEN1cnJlbmN5SVNPLnRvVXBwZXJDYXNlKCksIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pfQogICAgICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgICAgIGlmIChwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTyAhPT0gZnJpZW5kQ3VycmVuY3lJU08gJiYgZXhjaGFuZ2VSYXRlVXNlZCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SFRNTCArPSBgIOKJiCAke2ZyaWVuZFByaWNlSW5Vc2VyQ3VycmVuY3kudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6IHBnaF9jdXJyZW50VXNlckN1cnJlbmN5SVNPLnRvVXBwZXJDYXNlKCksIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRIVE1MICs9IGAgPHNtYWxsPijQutGD0YDRgSDiiYggJHtleGNoYW5nZVJhdGVVc2VkLnRvRml4ZWQoNCl9KTwvc21hbGw+YDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEhUTUwgKz0gYDxicj5gOwoKICAgICAgICAgICAgICAgICAgICBpZiAodXNlclByaWNlID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SFRNTCArPSBg0KDQsNC30L3QuNGG0LA6ICR7cHJpY2VEaWZmZXJlbmNlID4gMCA/ICcrJyA6ICcnfSR7cHJpY2VEaWZmZXJlbmNlLnRvTG9jYWxlU3RyaW5nKCdydS1SVScsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiBwZ2hfY3VycmVudFVzZXJDdXJyZW5jeUlTTy50b1VwcGVyQ2FzZSgpLCBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX1gOwogICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SFRNTCArPSBgICgke3ByaWNlRGlmZmVyZW5jZVBlcmNlbnQgPT09IEluZmluaXR5IHx8IHByaWNlRGlmZmVyZW5jZVBlcmNlbnQgPT09IC1JbmZpbml0eSA/ICdOL0EnIDogKHByaWNlRGlmZmVyZW5jZVBlcmNlbnQgKiAxMDApLnRvRml4ZWQoMCl9JSlgOwogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRIVE1MICs9IGDQoNCw0LfQvdC40YbQsDogTi9BICjQstCw0YjQsCDRhtC10L3QsCAwKWA7CiAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdENsYXNzID0gY2FuR2lmdCA/ICdwZ2hfcmVzdWx0X2dpZnRhYmxlJyA6ICdwZ2hfcmVzdWx0X25vdF9naWZ0YWJsZSc7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdFRleHQgPSBjYW5HaWZ0ID8gJ37QnNC+0LbQvdC+INC/0L7QtNCw0YDQuNGC0Yx+JyA6ICd+0J3QtdC70YzQt9GPINC/0L7QtNCw0YDQuNGC0Yx+JzsKCiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEhUTUwgKz0gYDxkaXYgY2xhc3M9InBnaF9yZXN1bHRfYmxvY2sgJHtyZXN1bHRDbGFzc30iPiR7cmVzdWx0VGV4dH08L2Rpdj5gOwoKICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5GcmllbmRSZWNlaXZlR2lmdCAmJiBpc1dpdGhpblRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRIVE1MICs9IGA8c21hbGw+0J/RgNC40LzQtdGH0LDQvdC40LU6IFN0ZWFtINC90LUg0YDQsNC30YDQtdGI0LDQtdGCINC/0L7QutGD0L/QutGDINGN0YLQvtC5INC40LPRgNGLINCyINC/0L7QtNCw0YDQvtC6INC00LvRjyDQtNCw0L3QvdC+0LPQviDRgNC10LPQuNC+0L3QsCwg0L3QtdGB0LzQvtGC0YDRjyDQvdCwINC/0L7QtNGF0L7QtNGP0YnRg9GOINGA0LDQt9C90LjRhtGDINGG0LXQvS48L3NtYWxsPmA7CiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzV2l0aGluVGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRIVE1MICs9IGA8c21hbGw+0J/RgNC40LzQtdGH0LDQvdC40LU6INCg0LDQt9C90LjRhtCwINGG0LXQvSAoJHsocHJpY2VEaWZmZXJlbmNlUGVyY2VudCAqIDEwMCkudG9GaXhlZCgwKX0lKSDQv9GA0LXQstGL0YjQsNC10YIg0LTQvtC/0YPRgdGC0LjQvNGL0Lkg0L/QvtGA0L7QsyBTdGVhbSAoJHsoUEdIX0dJRlRfUFJJQ0VfRElGRl9USFJFU0hPTEQgKiAxMDApfSUpLjwvc21hbGw+YDsKICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBwZ2hfcmVzdWx0RGl2LmlubmVySFRNTCA9IHJlc3VsdEhUTUw7CgogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJbUEdIXSDQntGI0LjQsdC60LAg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuC/RgdGA0LDQstC90LXQvdC40Lgg0YbQtdC9OiIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBwZ2hfcmVzdWx0RGl2LmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPSJwZ2hfc3RhdHVzX2Vycm9yIj7QntGI0LjQsdC60LA6ICR7ZXJyb3IubWVzc2FnZX08L2Rpdj5gOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgcGdoX2ZldGNoQnRuLmRpc2FibGVkID0gIXBnaF9yZWdpb25TZWxlY3QudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgIHBnaF9yZWdpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcGdoX2FkZEdpZnRCdXR0b24oKSB7CiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVfYXJlYV9wdXJjaGFzZV9zZWN0aW9uIC5nYW1lX2FyZWFfcHVyY2hhc2VfZ2FtZV93cmFwcGVyIC5nYW1lX3B1cmNoYXNlX2FjdGlvbiwgI2FkZF90b19jYXJ0ID4gLmJ0bl9hZGR0b2NhcnQgPiBzcGFuJyk7CiAgICAgICAgICAgICAgICBjb25zdCByZWZlcmVuY2VCdXR0b25Db250YWluZXIgPSB0YXJnZXRBcmVhPy5jbG9zZXN0KCcuZ2FtZV9wdXJjaGFzZV9hY3Rpb24nKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkX3RvX2NhcnQnKTsKCiAgICAgICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VCdXR0b25Db250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQR0hdINCd0LUg0L3QsNC50LTQtdC9INC60L7QvdGC0LXQudC90LXRgCDQtNC70Y8g0LrQvdC+0L/QutC4INC/0L7QtNCw0YDQutCwLicpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhbGVzTWFzdGVyX2J1dHRvbicpOwogICAgICAgICAgICAgICAgICAgIGlmIChzbUJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc21CdXR0b24ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGdoX2J1dHRvbicpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnaWZ0QnV0dG9uID0gcGdoX2NyZWF0ZUJ1dHRvbkVsZW1lbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgIHNtQnV0dG9uLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBnaWZ0QnV0dG9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUEdIXSDQmtC90L7Qv9C60LAg0L/QvtC00LDRgNC60LAg0LTQvtCx0LDQstC70LXQvdCwINC/0L7RgdC70LUgU2FsZXNNYXN0ZXIuJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQR0hdIFNhbGVzTWFzdGVyINC60L3QvtC/0LrQsCDRgtC+0LbQtSDQvdC1INC90LDQudC00LXQvdCwLicpOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlQnV0dG9uQ29udGFpbmVyLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBnaF9idXR0b24nKSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IGdpZnRCdXR0b24gPSBwZ2hfY3JlYXRlQnV0dG9uRWxlbWVudCgpOwoKICAgICAgICAgICAgICAgIHJlZmVyZW5jZUJ1dHRvbkNvbnRhaW5lci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnaWZ0QnV0dG9uLCByZWZlcmVuY2VCdXR0b25Db250YWluZXIpOwogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUEdIXSDQmtC90L7Qv9C60LAg0L/QvtC00LDRgNC60LAg0LTQvtCx0LDQstC70LXQvdCwLicpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwZ2hfY3JlYXRlQnV0dG9uRWxlbWVudCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGdpZnRCdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGdpZnRCdXR0b25Db250YWluZXIuY2xhc3NOYW1lID0gJ3BnaF9idXR0b24gcXVldWVfY29udHJvbF9idXR0b24nOwogICAgICAgICAgICAgICAgZ2lmdEJ1dHRvbkNvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gJzNweCc7CgogICAgICAgICAgICAgICAgY29uc3QgZ2lmdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZ2lmdEJ1dHRvbi5jbGFzc05hbWUgPSAnYnRudjZfYmx1ZV9ob3ZlcmZhZGUgYnRuX21lZGl1bSc7CiAgICAgICAgICAgICAgICBnaWZ0QnV0dG9uLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OiAzMnB4OyBwYWRkaW5nOiAwIDA7IGZvbnQtc2l6ZTogMThweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7JzsKICAgICAgICAgICAgICAgIGdpZnRCdXR0b24udGl0bGUgPSAn0J/RgNC+0LLQtdGA0LjRgtGMINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0L/QvtC00LDRgNC60LAg0LTRgNGD0LPRgyc7CiAgICAgICAgICAgICAgICBnaWZ0QnV0dG9uLmlubmVySFRNTCA9ICc8c3Bhbj5HSUZUPC9zcGFuPic7CiAgICAgICAgICAgICAgICBnaWZ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICBwZ2hfc2hvd01vZGFsKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBnaWZ0QnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGdpZnRCdXR0b24pOwogICAgICAgICAgICAgICAgcmV0dXJuIGdpZnRCdXR0b25Db250YWluZXI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBnaF9pbml0aWFsaXplKCkgewogICAgICAgICAgICAgICAgcGdoX2FkZFN0eWxlcygpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChwZ2hfYWRkR2lmdEJ1dHRvbiwgNzAwKTsKCiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZV9hcmVhX3B1cmNoYXNlX3NlY3Rpb24gLmdhbWVfYXJlYV9wdXJjaGFzZV9nYW1lX3dyYXBwZXInKSAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBnaF9idXR0b24nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBnaF9hZGRHaWZ0QnV0dG9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgIGNvbnN0IG1haW5QYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVfYXJlYV9wdXJjaGFzZScpOwogICAgICAgICAgICAgICAgIGlmIChtYWluUGFnZSkgewogICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKG1haW5QYWdlLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBwZ2hfaW5pdGlhbGl6ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZ2hfaW5pdGlhbGl6ZSgpOwogICAgICAgICAgICB9CgogICAgICAgIH0pKCk7CiAgICB9CgogICAgLy8g0KHQutGA0LjQv9GCINC00LvRjyDRgdGC0YDQsNC90LjRhtGLINC40LPRgNGLIChzYWxlc01hc3RlcjsgJTsg0LDQs9GA0LXQs9Cw0YLQvtGAINGG0LXQvSDQuNC3INGA0LDQt9C90YvRhSDQvNCw0LPQsNC30LjQvdC+0LIpIHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8qCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5zYWxlc01hc3RlciAmJiB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9hcHAvJykpIHsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsKCiAgICAgICAgICAgIC8vIC0tLSDQmtC+0L3RhNC40LPRg9GA0LDRhtC40Y8gU2FsZXNNYXN0ZXIgKFNNKSAtLS0KICAgICAgICAgICAgY29uc3QgU01fU1RPUkFHRV9QUkVGSVggPSAnc2FsZXNNYXN0ZXJfdjFfJzsKICAgICAgICAgICAgY29uc3QgU01fRVhDTFVTSU9OX1NUT1JBR0VfS0VZID0gU01fU1RPUkFHRV9QUkVGSVggKyAnZXhjbHVzaW9ucyc7CiAgICAgICAgICAgIGNvbnN0IFNNX0ZJTFRFUl9TVE9SQUdFX0tFWSA9IFNNX1NUT1JBR0VfUFJFRklYICsgJ2ZpbHRlcnMnOwogICAgICAgICAgICBjb25zdCBTTV9TT1JUX1NUT1JBR0VfS0VZID0gU01fU1RPUkFHRV9QUkVGSVggKyAnc29ydCc7CiAgICAgICAgICAgIGNvbnN0IFNNX0ZJTFRFUl9ERUJPVU5DRV9NUyA9IDUwMDsKICAgICAgICAgICAgY29uc3QgU01fUkVRVUVTVF9USU1FT1VUX01TID0gMTUwMDA7IC8vIDE1INGB0LXQutGD0L3QtCDQvdCwINC30LDQv9GA0L7RgSDQuiDQvNCw0LPQsNC30LjQvdGDCgogICAgICAgICAgICAvLyAtLS0g0JPQu9C+0LHQsNC70YzQvdGL0LUg0L/QtdGA0LXQvNC10L3QvdGL0LUgU00gLS0tCiAgICAgICAgICAgIGxldCBzbV9jdXJyZW50UmVzdWx0cyA9IFtdOwogICAgICAgICAgICBsZXQgc21fc3RvcmVzID0ge307CiAgICAgICAgICAgIGxldCBzbV9hY3RpdmVSZXF1ZXN0cyA9IDA7CiAgICAgICAgICAgIGxldCBzbV9jdXJyZW50U29ydCA9IEdNX2dldFZhbHVlKFNNX1NPUlRfU1RPUkFHRV9LRVksIHsKICAgICAgICAgICAgICAgIGZpZWxkOiAncHJpY2UnLAogICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnYXNjJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbGV0IHNtX2V4Y2x1c2lvbktleXdvcmRzID0gR01fZ2V0VmFsdWUoU01fRVhDTFVTSU9OX1NUT1JBR0VfS0VZLCBbXSk7CiAgICAgICAgICAgIGxldCBzbV9jdXJyZW50RmlsdGVycyA9IEdNX2dldFZhbHVlKFNNX0ZJTFRFUl9TVE9SQUdFX0tFWSwgewogICAgICAgICAgICAgICAgcHJpY2VNaW46ICcnLAogICAgICAgICAgICAgICAgcHJpY2VNYXg6ICcnLAogICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50TWluOiAnJywKICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudE1heDogJycsCiAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudE1pbjogJycsCiAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudE1heDogJycsCiAgICAgICAgICAgICAgICBoYXNEaXNjb3VudDogZmFsc2UsCiAgICAgICAgICAgICAgICBzdG9yZXM6IHt9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBsZXQgc21fZmlsdGVyRGVib3VuY2VUaW1lb3V0OwoKICAgICAgICAgICAgLy8gLS0tINCf0LXRgNC10LzQtdC90L3Ri9C1INC00LvRjyDQutC+0L3QstC10YDRgtCw0YbQuNC4INCy0LDQu9GO0YIgLS0tCiAgICAgICAgICAgIGNvbnN0IFNNX0NVUlJFTkNZX01PREVfU1RPUkFHRV9LRVkgPSBTTV9TVE9SQUdFX1BSRUZJWCArICdjdXJyZW5jeU1vZGUnOwogICAgICAgICAgICBsZXQgc21fY3VycmVudEN1cnJlbmN5TW9kZSA9IEdNX2dldFZhbHVlKFNNX0NVUlJFTkNZX01PREVfU1RPUkFHRV9LRVksICdSVUInKTsKICAgICAgICAgICAgbGV0IHNtX2V4Y2hhbmdlUmF0ZXMgPSB7fTsKCiAgICAgICAgICAgIC8vIC0tLSBET00g0K3Qu9C10LzQtdC90YLRiyBTTSAtLS0KICAgICAgICAgICAgbGV0IHNtX21vZGFsLCBzbV9jbG9zZUJ0biwgc21fc2VhcmNoQnRuOwogICAgICAgICAgICBsZXQgc21fcmVzdWx0c0NvbnRhaW5lciwgc21fcmVzdWx0c0Rpdiwgc21fc3RhdHVzRGl2OwogICAgICAgICAgICBsZXQgc21fZmlsdGVyc1BhbmVsLCBzbV9leGNsdXNpb25UYWdzRGl2LCBzbV9leGNsdXNpb25UYWdzTGlzdERpdiwgc21fZXhjbHVkZUlucHV0LCBzbV9hZGRFeGNsdWRlQnRuOwogICAgICAgICAgICBsZXQgc21fc29ydEJ1dHRvbnNDb250YWluZXI7CiAgICAgICAgICAgIGxldCBzbV9maWx0ZXJTdG9yZUNoZWNrYm94ZXNDb250YWluZXI7CgogICAgICAgICAgICAvLyAtLS0g0JLRgdC/0L7QvNC+0LPQsNGC0LXQu9GM0L3Ri9C1INGE0YPQvdC60YbQuNC4IFNNIC0tLQogICAgICAgICAgICBmdW5jdGlvbiBzbV9wYXJzZVByaWNlKHByaWNlU3RyKSB7CiAgICAgICAgICAgICAgICBpZiAoIXByaWNlU3RyKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBTdHJpbmcocHJpY2VTdHIpLnJlcGxhY2UoL1teMC05LixdL2csICcnKS5yZXBsYWNlKCcsJywgJy4nKTsKICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChjbGVhbmVkKTsKICAgICAgICAgICAgICAgIHJldHVybiBpc05hTihwcmljZSkgPyBudWxsIDogcHJpY2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3BhcnNlUGVyY2VudChwZXJjZW50U3RyKSB7CiAgICAgICAgICAgICAgICBpZiAoIXBlcmNlbnRTdHIpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IFN0cmluZyhwZXJjZW50U3RyKS5yZXBsYWNlKC9bXlxkLl0vZywgJycpOwogICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IHBhcnNlRmxvYXQoY2xlYW5lZCk7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNOYU4ocGVyY2VudCkgPyBudWxsIDogcGVyY2VudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhpdGVtKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcmljZSA9IGl0ZW0uY3VycmVudFByaWNlOwogICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsID0gaXRlbS5vcmlnaW5hbFByaWNlOwogICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSBpdGVtLmRpc2NvdW50UGVyY2VudDsKICAgICAgICAgICAgICAgIGxldCBhbW91bnQgPSBpdGVtLmRpc2NvdW50QW1vdW50OwoKICAgICAgICAgICAgICAgIGlmIChwcmljZSA9PT0gbnVsbCkgcmV0dXJuIGl0ZW07CgogICAgICAgICAgICAgICAgLy8gMS4g0JXRgdGC0Ywg0YbQtdC90LAg0Lgg0L/RgNC+0YbQtdC90YIgLT4g0YHRh9C40YLQsNC10Lwg0L7RgNC40LPQuNC90LDQuyDQuCDRgdGD0LzQvNGDINGB0LrQuNC00LrQuAogICAgICAgICAgICAgICAgaWYgKHByaWNlICE9PSBudWxsICYmIHBlcmNlbnQgIT09IG51bGwgJiYgb3JpZ2luYWwgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA+IDAgJiYgcGVyY2VudCA8IDEwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbCA9IHByaWNlIC8gKDEgLSBwZXJjZW50IC8gMTAwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbCA9IHByaWNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyAyLiDQldGB0YLRjCDRhtC10L3QsCDQuCDQvtGA0LjQs9C40L3QsNC7IC0+INGB0YfQuNGC0LDQtdC8INC/0YDQvtGG0LXQvdGCINC4INGB0YPQvNC80YMg0YHQutC40LTQutC4CiAgICAgICAgICAgICAgICBpZiAocHJpY2UgIT09IG51bGwgJiYgb3JpZ2luYWwgIT09IG51bGwgJiYgcGVyY2VudCA9PT0gbnVsbCAmJiBvcmlnaW5hbCA+IHByaWNlKSB7CiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9ICgob3JpZ2luYWwgLSBwcmljZSkgLyBvcmlnaW5hbCkgKiAxMDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaWNlICE9PSBudWxsICYmIG9yaWdpbmFsICE9PSBudWxsICYmIHBlcmNlbnQgPT09IG51bGwgJiYgb3JpZ2luYWwgPD0gcHJpY2UpIHsKICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyAzLiDQldGB0YLRjCDRhtC10L3QsCDQuCDRgdGD0LzQvNCwINGB0LrQuNC00LrQuCAtPiDRgdGH0LjRgtCw0LXQvCDQvtGA0LjQs9C40L3QsNC7INC4INC/0YDQvtGG0LXQvdGCCiAgICAgICAgICAgICAgICBpZiAocHJpY2UgIT09IG51bGwgJiYgYW1vdW50ICE9PSBudWxsICYmIG9yaWdpbmFsID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWwgPSBwcmljZSArIGFtb3VudDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwcmljZSAhPT0gbnVsbCAmJiBhbW91bnQgIT09IG51bGwgJiYgcGVyY2VudCA9PT0gbnVsbCAmJiBvcmlnaW5hbCAhPT0gbnVsbCAmJiBvcmlnaW5hbCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gKGFtb3VudCAvIG9yaWdpbmFsKSAqIDEwMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyA0LiDQktGB0LXQs9C00LAg0YHRh9C40YLQsNC10Lwg0YHRg9C80LzRgyDRgdC60LjQtNC60LgsINC10YHQu9C4INC10YHRgtGMINGG0LXQvdCwINC4INC+0YDQuNCz0LjQvdCw0LsKICAgICAgICAgICAgICAgIGlmIChwcmljZSAhPT0gbnVsbCAmJiBvcmlnaW5hbCAhPT0gbnVsbCAmJiBhbW91bnQgPT09IG51bGwgJiYgb3JpZ2luYWwgPiBwcmljZSkgewogICAgICAgICAgICAgICAgICAgIGFtb3VudCA9IG9yaWdpbmFsIC0gcHJpY2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaWNlICE9PSBudWxsICYmIG9yaWdpbmFsICE9PSBudWxsICYmIGFtb3VudCA9PT0gbnVsbCAmJiBvcmlnaW5hbCA8PSBwcmljZSkgewogICAgICAgICAgICAgICAgICAgIGFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaXRlbS5vcmlnaW5hbFByaWNlID0gb3JpZ2luYWwgIT09IG51bGwgPyBwYXJzZUZsb2F0KG9yaWdpbmFsLnRvRml4ZWQoMikpIDogbnVsbDsKICAgICAgICAgICAgICAgIGl0ZW0uZGlzY291bnRQZXJjZW50ID0gcGVyY2VudCAhPT0gbnVsbCA/IHBhcnNlRmxvYXQocGVyY2VudC50b0ZpeGVkKDEpKSA6IG51bGw7CiAgICAgICAgICAgICAgICBpdGVtLmRpc2NvdW50QW1vdW50ID0gYW1vdW50ICE9PSBudWxsID8gcGFyc2VGbG9hdChhbW91bnQudG9GaXhlZCgyKSkgOiBudWxsOwoKICAgICAgICAgICAgICAgIGlmIChpdGVtLmRpc2NvdW50UGVyY2VudCAhPT0gbnVsbCAmJiBpdGVtLmRpc2NvdW50UGVyY2VudCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5kaXNjb3VudFBlcmNlbnQgPSAwOwogICAgICAgICAgICAgICAgICAgIGl0ZW0uZGlzY291bnRBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm9yaWdpbmFsUHJpY2UgPT09IG51bGwgJiYgaXRlbS5jdXJyZW50UHJpY2UgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmlnaW5hbFByaWNlID0gaXRlbS5jdXJyZW50UHJpY2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3JpZ2luYWxQcmljZSA9PT0gbnVsbCAmJiBpdGVtLmN1cnJlbnRQcmljZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGl0ZW0ub3JpZ2luYWxQcmljZSA9IGl0ZW0uY3VycmVudFByaWNlOwogICAgICAgICAgICAgICAgICAgIGl0ZW0uZGlzY291bnRQZXJjZW50ID0gMDsKICAgICAgICAgICAgICAgICAgICBpdGVtLmRpc2NvdW50QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2dldFN0ZWFtR2FtZU5hbWUoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBhcHBOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHBIdWJBcHBOYW1lJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBwTmFtZUVsZW1lbnQgPyBhcHBOYW1lRWxlbWVudC50ZXh0Q29udGVudC50cmltKCkgOiAnJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fbG9nRXJyb3Ioc3RvcmVOYW1lLCBtZXNzYWdlLCBlcnJvciA9IG51bGwpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtTYWxlc01hc3Rlcl1bJHtzdG9yZU5hbWV9XSAke21lc3NhZ2V9YCwgZXJyb3IgfHwgJycpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9kZWJvdW5jZShmdW5jLCB3YWl0KSB7CiAgICAgICAgICAgICAgICBsZXQgdGltZW91dDsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXRlciA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgICAgICBmdW5jKC4uLmFyZ3MpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIC0tLSDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINC60YPRgNGB0L7QsiDQstCw0LvRjtGCIC0tLQogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBzbV9mZXRjaEV4Y2hhbmdlUmF0ZXMoYmFzZUN1cnJlbmN5KSB7CiAgICAgICAgICAgICAgICBjb25zdCBsb3dlckJhc2UgPSBiYXNlQ3VycmVuY3kudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGlmIChzbV9leGNoYW5nZVJhdGVzW2xvd2VyQmFzZV0gJiYgT2JqZWN0LmtleXMoc21fZXhjaGFuZ2VSYXRlc1tsb3dlckJhc2VdKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNtX2V4Y2hhbmdlUmF0ZXNbbG93ZXJCYXNlXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBhcGlVcmwgPSBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AZmF3YXphaG1lZDAvY3VycmVuY3ktYXBpQGxhdGVzdC92MS9jdXJyZW5jaWVzLyR7bG93ZXJCYXNlfS5qc29uYDsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGFwaVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUyAvIDIsCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRlcyA9IHJlc3BvbnNlLnJlc3BvbnNlW2xvd2VyQmFzZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhdGVzICYmIHR5cGVvZiByYXRlcyA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fZXhjaGFuZ2VSYXRlc1tsb3dlckJhc2VdID0gcmF0ZXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmF0ZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYNCd0LUg0L3QsNC50LTQtdC90Ysg0LrRg9GA0YHRiyDQtNC70Y8gJHtiYXNlQ3VycmVuY3l9INCyINC+0YLQstC10YLQtSBBUElgKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDQntGI0LjQsdC60LAgQVBJINCy0LDQu9GO0YI6INGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnJvcikgPT4gcmVqZWN0KG5ldyBFcnJvcign0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwIEFQSSDQstCw0LvRjtGCJykpLAogICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ9Ci0LDQudC80LDRg9GCINC30LDQv9GA0L7RgdCwIEFQSSDQstCw0LvRjtGCJykpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCh0L7Qt9C00LDQvdC40LUgVUkgU2FsZXNNYXN0ZXIgLS0tCgogICAgICAgICAgICBmdW5jdGlvbiBzbV91cGRhdGVDdXJyZW5jeVRvZ2dsZUJ1dHRvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUN1cnJlbmN5VG9nZ2xlQnRuJyk7CiAgICAgICAgICAgICAgICBpZiAoIXRvZ2dsZUJ0bikgcmV0dXJuOwogICAgICAgICAgICAgICAgaWYgKHNtX2N1cnJlbnRDdXJyZW5jeU1vZGUgPT09ICdVU0QnKSB7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuLnRleHRDb250ZW50ID0gJ1JVQic7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuLnRpdGxlID0gJ9Cf0LXRgNC10LrQu9GO0YfQuNGC0YzRgdGPINC90LAg0YDRg9Cx0LvQuCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi50ZXh0Q29udGVudCA9ICdVU0QnOwogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi50aXRsZSA9ICfQn9C10YDQtdC60LvRjtGH0LjRgtGM0YHRjyDQvdCwINC00L7Qu9C70LDRgNGLINCh0KjQkCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3Nob3dVc2RTd2l0Y2hDb25maXJtYXRpb24oKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoaWRlV2FybmluZyA9IEdNX2dldFZhbHVlKCdzYWxlc01hc3Rlcl9oaWRlVXNkV2FybmluZycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIGlmIChoaWRlV2FybmluZykgewogICAgICAgICAgICAgICAgICAgIHNtX3N3aXRjaFRvVXNkTW9kZSgpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGRpYWxvZy5pZCA9ICdzbVVzZENvbmZpcm1EaWFsb2cnOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihkaWFsb2cuc3R5bGUsIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJywgdG9wOiAnNTAlJywgbGVmdDogJzUwJScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFmMmMzYScsIGNvbG9yOiAnI2M2ZDRkZicsIHBhZGRpbmc6ICcyNXB4JywgYm9yZGVyUmFkaXVzOiAnNXB4JywKICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDAgMjBweCByZ2JhKDAsMCwwLDAuNyknLCB6SW5kZXg6ICcxMDAwNScsIHRleHRBbGlnbjogJ2xlZnQnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjRkZCMzAwJywgbWF4V2lkdGg6ICc0NTBweCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGlhbG9nLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9Im1hcmdpbi10b3A6MDsgY29sb3I6I0ZGQjMwMDsiPtCf0LXRgNC10LrQu9GO0YfQtdC90LjQtSDQsiDRgNC10LbQuNC8IFVTRDwvaDQ+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206MjBweDsgbGluZS1oZWlnaHQ6MS42OyI+0KbQtdC90Ysg0LjQtyDQstGB0LXRhSDQvNCw0LPQsNC30LjQvdC+0LIg0LHRg9C00YPRgiDQutC+0L3QstC10YDRgtC40YDQvtCy0LDQvdGLINC4INC+0YLQvtCx0YDQsNC20LXQvdGLINCyINC00L7Qu9C70LDRgNCw0YUg0KHQqNCQIChVU0QpLiDQrdGC0L4g0LzQvtC20LXRgiDQsdGL0YLRjCDQv9C+0LvQtdC30L3QviDQtNC70Y8g0YHRgNCw0LLQvdC10L3QuNGPINGG0LXQvSDQsiDQvNC10LbQtNGD0L3QsNGA0L7QtNC90L7QvCDQutC+0L3RgtC10LrRgdGC0LUuPGJyPjxicj7Qn9GA0L7QtNC+0LvQttC40YLRjD88L3A+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMjBweDsiPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzbURvbnRTaG93QWdhaW5Vc2QiIHN0eWxlPSJtYXJnaW4tcmlnaHQ6OHB4OyI+0JHQvtC70YzRiNC1INC90LUg0L/QvtC60LDQt9GL0LLQsNGC0Yw8L2xhYmVsPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246cmlnaHQ7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic21Db25maXJtWWVzIiBjbGFzcz0ic2FsZXNNYXN0ZXJCdG4iIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNGRkIzMDA7IGNvbG9yOiMxYjI4Mzg7IG1hcmdpbi1yaWdodDoxMHB4OyI+0JTQsDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzbUNvbmZpcm1ObyIgY2xhc3M9InNhbGVzTWFzdGVyQnRuIj7QntGC0LzQtdC90LA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpYWxvZyk7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtQ29uZmlybVllcycpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbURvbnRTaG93QWdhaW5Vc2QnKS5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCdzYWxlc01hc3Rlcl9oaWRlVXNkV2FybmluZycsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzbV9zd2l0Y2hUb1VzZE1vZGUoKTsKICAgICAgICAgICAgICAgICAgICBkaWFsb2cucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtQ29uZmlybU5vJykub25jbGljayA9ICgpID0+IGRpYWxvZy5yZW1vdmUoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fc3dpdGNoVG9Vc2RNb2RlKCkgewogICAgICAgICAgICAgICAgc21fY3VycmVudEN1cnJlbmN5TW9kZSA9ICdVU0QnOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU01fQ1VSUkVOQ1lfTU9ERV9TVE9SQUdFX0tFWSwgJ1VTRCcpOwogICAgICAgICAgICAgICAgc21fdXBkYXRlQ3VycmVuY3lUb2dnbGVCdXR0b24oKTsKICAgICAgICAgICAgICAgIHNtX2FwcGx5U29ydChzbV9jdXJyZW50U29ydC5maWVsZCwgc21fY3VycmVudFNvcnQuZGlyZWN0aW9uKTsKICAgICAgICAgICAgICAgIHNtX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgIHNtX3VwZGF0ZUZpbHRlclBsYWNlaG9sZGVycygpOwogICAgICAgICAgICAgICAgc21fYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICBzbV91cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3N3aXRjaFRvUnViTW9kZSgpIHsKICAgICAgICAgICAgICAgIHNtX2N1cnJlbnRDdXJyZW5jeU1vZGUgPSAnUlVCJzsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNNX0NVUlJFTkNZX01PREVfU1RPUkFHRV9LRVksICdSVUInKTsKICAgICAgICAgICAgICAgIHNtX3VwZGF0ZUN1cnJlbmN5VG9nZ2xlQnV0dG9uKCk7CiAgICAgICAgICAgICAgICBzbV9hcHBseVNvcnQoc21fY3VycmVudFNvcnQuZmllbGQsIHNtX2N1cnJlbnRTb3J0LmRpcmVjdGlvbik7CiAgICAgICAgICAgICAgICBzbV9yZW5kZXJSZXN1bHRzKCk7CiAgICAgICAgICAgICAgICBzbV91cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsKICAgICAgICAgICAgICAgIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICAgICAgc21fdXBkYXRlU29ydEJ1dHRvbnNTdGF0ZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9oYW5kbGVDdXJyZW5jeVRvZ2dsZSgpIHsKICAgICAgICAgICAgICAgIGlmIChzbV9jdXJyZW50Q3VycmVuY3lNb2RlID09PSAnUlVCJykgewogICAgICAgICAgICAgICAgICAgIHNtX3Nob3dVc2RTd2l0Y2hDb25maXJtYXRpb24oKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc21fc3dpdGNoVG9SdWJNb2RlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2NyZWF0ZU1vZGFsKCkgewogICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYWxlc01hc3Rlck1vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdNb2RhbCkgZXhpc3RpbmdNb2RhbC5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICBzbV9tb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc21fbW9kYWwuaWQgPSAnc2FsZXNNYXN0ZXJNb2RhbCc7CgogICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb250YWluZXIuaWQgPSAnc2FsZXNNYXN0ZXJDb250YWluZXInOwoKICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgaGVhZGVyLmlkID0gJ3NhbGVzTWFzdGVySGVhZGVyJzsKCiAgICAgICAgICAgICAgICAvLyAtLS0g0JvQtdCy0LDRjyDRh9Cw0YHRgtGMINGI0LDQv9C60LggLS0tCiAgICAgICAgICAgICAgICBzbV9zZWFyY2hCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIHNtX3NlYXJjaEJ0bi50ZXh0Q29udGVudCA9ICfQntCx0L3QvtCy0LjRgtGMICUnOwogICAgICAgICAgICAgICAgc21fc2VhcmNoQnRuLmlkID0gJ3NhbGVzTWFzdGVyU2VhcmNoR29CdG4nOwogICAgICAgICAgICAgICAgc21fc2VhcmNoQnRuLmNsYXNzTmFtZSA9ICdzYWxlc01hc3RlckJ0bic7CiAgICAgICAgICAgICAgICBzbV9zZWFyY2hCdG4udGl0bGUgPSAn0JfQsNC/0YDQvtGB0LjRgtGMINGG0LXQvdGLINGBINC80LDQs9Cw0LfQuNC90L7Qsic7CiAgICAgICAgICAgICAgICBzbV9zZWFyY2hCdG4ub25jbGljayA9IHNtX3RyaWdnZXJTZWFyY2g7CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoc21fc2VhcmNoQnRuKTsKCiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlclN0YXR1c0Rpdi5pZCA9ICdzYWxlc01hc3RlckhlYWRlclN0YXR1cyc7CiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGVyU3RhdHVzRGl2KTsKCiAgICAgICAgICAgICAgICAvLyAtLS0g0KDQsNC30LTQtdC70LjRgtC10LvRjCAtLS0KICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc3BhY2VyLnN0eWxlLmZsZXhHcm93ID0gJzEnOwogICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHNwYWNlcik7CgogICAgICAgICAgICAgICAgLy8gLS0tINCf0YDQsNCy0LDRjyDRh9Cw0YHRgtGMINGI0LDQv9C60LggLS0tCiAgICAgICAgICAgICAgICBjb25zdCByaWdodENvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICByaWdodENvbnRyb2xzLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICByaWdodENvbnRyb2xzLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJzsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udHJvbHMuc3R5bGUuZ2FwID0gJzEwcHgnOwoKICAgICAgICAgICAgICAgIGNvbnN0IGluc2VydFRpdGxlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBpbnNlcnRUaXRsZUJ0bi5pZCA9ICdzbUluc2VydFRpdGxlQnRuJzsKICAgICAgICAgICAgICAgIGluc2VydFRpdGxlQnRuLmNsYXNzTmFtZSA9ICdzYWxlc01hc3RlckJ0biBzbUluc2VydFRpdGxlQnRuJzsKICAgICAgICAgICAgICAgIGluc2VydFRpdGxlQnRuLnRleHRDb250ZW50ID0gJ9Cf0L7QtNGB0YLQsNCy0LjRgtGMINC90LDQt9Cy0LDQvdC40LUgPic7CiAgICAgICAgICAgICAgICBpbnNlcnRUaXRsZUJ0bi50aXRsZSA9ICfQn9C+0LTRgdGC0LDQstC40YLRjCDQvdCw0LfQstCw0L3QuNC1INGC0LXQutGD0YnQtdC5INC40LPRgNGLINCyINGE0LjQu9GM0YLRgCc7CiAgICAgICAgICAgICAgICBpbnNlcnRUaXRsZUJ0bi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVOYW1lID0gc21fZ2V0U3RlYW1HYW1lTmFtZSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtVGl0bGVGaWx0ZXJJbnB1dCcpOwogICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTmFtZSAmJiBmaWx0ZXJJbnB1dCkgewogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJJbnB1dC52YWx1ZSA9IGdhbWVOYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBzbV9hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySW5wdXQuZm9jdXMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmlnaHRDb250cm9scy5hcHBlbmRDaGlsZChpbnNlcnRUaXRsZUJ0bik7CgogICAgICAgICAgICAgICAgY29uc3QgdGl0bGVGaWx0ZXJJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICB0aXRsZUZpbHRlcklucHV0LnR5cGUgPSAndGV4dCc7CiAgICAgICAgICAgICAgICB0aXRsZUZpbHRlcklucHV0LmlkID0gJ3NtVGl0bGVGaWx0ZXJJbnB1dCc7CiAgICAgICAgICAgICAgICB0aXRsZUZpbHRlcklucHV0LnBsYWNlaG9sZGVyID0gJ9Ck0LjQu9GM0YLRgCDQv9C+INC90LDQt9Cy0LDQvdC40Y4gKNGB0LvQvtCy0LAg0YfQtdGA0LXQtyA7KSc7CiAgICAgICAgICAgICAgICB0aXRsZUZpbHRlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc21fZGVib3VuY2Uoc21fYXBwbHlGaWx0ZXJzLCBTTV9GSUxURVJfREVCT1VOQ0VfTVMpKTsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udHJvbHMuYXBwZW5kQ2hpbGQodGl0bGVGaWx0ZXJJbnB1dCk7CgogICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3lUb2dnbGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgIGN1cnJlbmN5VG9nZ2xlQnRuLmlkID0gJ3NtQ3VycmVuY3lUb2dnbGVCdG4nOwogICAgICAgICAgICAgICAgY3VycmVuY3lUb2dnbGVCdG4uY2xhc3NOYW1lID0gJ3NhbGVzTWFzdGVyQnRuJzsKICAgICAgICAgICAgICAgIGN1cnJlbmN5VG9nZ2xlQnRuLm9uY2xpY2sgPSBzbV9oYW5kbGVDdXJyZW5jeVRvZ2dsZTsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udHJvbHMuYXBwZW5kQ2hpbGQoY3VycmVuY3lUb2dnbGVCdG4pOwoKICAgICAgICAgICAgICAgIHNtX3NvcnRCdXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbV9zb3J0QnV0dG9uc0NvbnRhaW5lci5pZCA9ICdzYWxlc01hc3RlclNvcnRCdXR0b25zJzsKICAgICAgICAgICAgICAgIHJpZ2h0Q29udHJvbHMuYXBwZW5kQ2hpbGQoc21fc29ydEJ1dHRvbnNDb250YWluZXIpOwoKICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0U29ydEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgcmVzZXRTb3J0QnRuLmlkID0gJ3NhbGVzTWFzdGVyUmVzZXRTb3J0QnRuJzsKICAgICAgICAgICAgICAgIHJlc2V0U29ydEJ0bi5jbGFzc05hbWUgPSAnc2FsZXNNYXN0ZXJCdG4nOwogICAgICAgICAgICAgICAgcmVzZXRTb3J0QnRuLnRpdGxlID0gJ9Ch0LHRgNC+0YHQuNGC0Ywg0YHQvtGA0YLQuNGA0L7QstC60YMgKNCf0L4g0KbQtdC90LUpJzsKICAgICAgICAgICAgICAgIHJlc2V0U29ydEJ0bi5pbm5lckhUTUwgPSBgPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTEyIDRWMUw4IDVsNCA0VjZjMy4zMSAwIDYgMi42OSA2IDZzLTIuNjkgNi02IDZzLTYtMi42OS02LTZINGMwIDQuNDIgMy41OCA4IDggOHM4LTMuNTggOC04cy0zLjU4LTgtOC04WiIvPjwvc3ZnPmA7CiAgICAgICAgICAgICAgICByZXNldFNvcnRCdG4ub25jbGljayA9ICgpID0+IHNtX3Jlc2V0U29ydCh0cnVlKTsKICAgICAgICAgICAgICAgIHNtX3NvcnRCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc2V0U29ydEJ0bik7CgogICAgICAgICAgICAgICAgc21fY3JlYXRlU29ydEJ1dHRvbigncHJpY2UnLCAn0KbQtdC90LAnKTsKICAgICAgICAgICAgICAgIHNtX2NyZWF0ZVNvcnRCdXR0b24oJ2Rpc2NvdW50UGVyY2VudCcsICclINCh0LrQuNC00LrQuCcpOwogICAgICAgICAgICAgICAgc21fY3JlYXRlU29ydEJ1dHRvbignZGlzY291bnRBbW91bnQnLCAn0KHQutC40LTQutCwJyk7CiAgICAgICAgICAgICAgICBzbV9jcmVhdGVTb3J0QnV0dG9uKCduYW1lJywgJ9Cd0LDQt9Cy0LDQvdC40LUnKTsKCiAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocmlnaHRDb250cm9scyk7CiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKCiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzQ29udGFpbmVyLmlkID0gJ3NhbGVzTWFzdGVyUmVzdWx0c0NvbnRhaW5lcic7CiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdUb3AgPSAnMCc7CiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzRGl2LmlkID0gJ3NhbGVzTWFzdGVyUmVzdWx0cyc7CiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNtX3Jlc3VsdHNEaXYpOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNtX3Jlc3VsdHNDb250YWluZXIpOwogICAgICAgICAgICAgICAgc21fZmlsdGVyc1BhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbV9maWx0ZXJzUGFuZWwuaWQgPSAnc2FsZXNNYXN0ZXJGaWx0ZXJzUGFuZWwnOwogICAgICAgICAgICAgICAgc21fZmlsdGVyc1BhbmVsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbUZpbHRlckdyb3VwIj48aDQ+0KbQtdC90LAsICR7c21fZ2V0Q3VycmVuY3lTeW1ib2woKX0gJHtzbV9jcmVhdGVSZXNldEJ1dHRvbkhUTUwoJ3ByaWNlJyl9PC9oND48ZGl2IGNsYXNzPSJzbUZpbHRlclJhbmdlSW5wdXRzIj48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic21GaWx0ZXJQcmljZU1pbiIgcGxhY2Vob2xkZXI9ItC+0YIiIG1pbj0iMCI+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNtRmlsdGVyUHJpY2VNYXgiIHBsYWNlaG9sZGVyPSLQtNC+IiBtaW49IjAiPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNtRmlsdGVyR3JvdXAiPjxoND7QodC60LjQtNC60LAsICUgJHtzbV9jcmVhdGVSZXNldEJ1dHRvbkhUTUwoJ2Rpc2NvdW50UGVyY2VudCcpfTwvaDQ+PGRpdiBjbGFzcz0ic21GaWx0ZXJSYW5nZUlucHV0cyI+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNtRmlsdGVyRGlzY291bnRQZXJjZW50TWluIiBwbGFjZWhvbGRlcj0i0L7RgiIgbWluPSIwIiBtYXg9IjEwMCI+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNtRmlsdGVyRGlzY291bnRQZXJjZW50TWF4IiBwbGFjZWhvbGRlcj0i0LTQviIgbWluPSIwIiBtYXg9IjEwMCI+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic21GaWx0ZXJHcm91cCI+PGg0PtCh0LrQuNC00LrQsCwgJHtzbV9nZXRDdXJyZW5jeVN5bWJvbCgpfSAke3NtX2NyZWF0ZVJlc2V0QnV0dG9uSFRNTCgnZGlzY291bnRBbW91bnQnKX08L2g0PjxkaXYgY2xhc3M9InNtRmlsdGVyUmFuZ2VJbnB1dHMiPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzbUZpbHRlckRpc2NvdW50QW1vdW50TWluIiBwbGFjZWhvbGRlcj0i0L7RgiIgbWluPSIwIj48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic21GaWx0ZXJEaXNjb3VudEFtb3VudE1heCIgcGxhY2Vob2xkZXI9ItC00L4iIG1pbj0iMCI+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic21GaWx0ZXJHcm91cCI+PGg0PtCe0L/RhtC40LggJHtzbV9jcmVhdGVSZXNldEJ1dHRvbkhUTUwoJ29wdGlvbnMnKX08L2g0PjxkaXYgY2xhc3M9InNtRmlsdGVyQ2hlY2tib3giPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzbUZpbHRlckhhc0Rpc2NvdW50Ij4g0KLQvtC70YzQutC+INGB0L4g0YHQutC40LTQutC+0Lk8L2xhYmVsPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNtRmlsdGVyR3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQ+0JzQsNCz0LDQt9C40L3RiyAke3NtX2NyZWF0ZVJlc2V0QnV0dG9uSFRNTCgnc3RvcmVzJyl9PC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic21TdG9yZVNlbGVjdEFsbENvbnRyb2xzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzbVN0b3JlU2VsZWN0QWxsTGluayIgaWQ9InNtU2VsZWN0QWxsU3RvcmVzIj7QntGC0LzQtdGC0LjRgtGMINCy0YHRkTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzbVN0b3JlU2VsZWN0U2VwYXJhdG9yIj58PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNtU3RvcmVTZWxlY3RBbGxMaW5rIiBpZD0ic21EZXNlbGVjdEFsbFN0b3JlcyI+0KHQvdGP0YLRjCDQstGB0ZE8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzbUZpbHRlclN0b3JlQ2hlY2tib3hlcyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic21SZXNldEFsbEZpbHRlcnNCdG4iIGNsYXNzPSJzYWxlc01hc3RlckJ0biI+0KHQsdGA0L7RgdC40YLRjCDQstGB0LUg0YTQuNC70YzRgtGA0Ys8L2J1dHRvbj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBzbV9tb2RhbC5hcHBlbmRDaGlsZChzbV9maWx0ZXJzUGFuZWwpOwogICAgICAgICAgICAgICAgc21fZXhjbHVzaW9uVGFnc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgc21fZXhjbHVzaW9uVGFnc0Rpdi5pZCA9ICdzYWxlc01hc3RlckV4Y2x1c2lvblRhZ3MnOwogICAgICAgICAgICAgICAgY29uc3QgZXhjbHVzaW9uSW5wdXRHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZXhjbHVzaW9uSW5wdXRHcm91cC5jbGFzc05hbWUgPSAnc21FeGNsdXNpb25JbnB1dEdyb3VwJzsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1ZGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICBzbV9leGNsdWRlSW5wdXQudHlwZSA9ICd0ZXh0JzsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1ZGVJbnB1dC5pZCA9ICdzYWxlc01hc3RlckV4Y2x1ZGVJbnB1dCc7CiAgICAgICAgICAgICAgICBzbV9leGNsdWRlSW5wdXQucGxhY2Vob2xkZXIgPSAn0JjRgdC60LvRjtGH0LjRgtGMINGB0LvQvtCy0L4nOwogICAgICAgICAgICAgICAgc21fZXhjbHVkZUlucHV0Lm9ua2V5ZG93biA9IChlKSA9PiB7IGlmIChlLmtleSA9PT0gJ0VudGVyJykgc21fYWRkRXhjbHVzaW9uS2V5d29yZCgpOyB9OwogICAgICAgICAgICAgICAgc21fYWRkRXhjbHVkZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgc21fYWRkRXhjbHVkZUJ0bi5pZCA9ICdzYWxlc01hc3RlckFkZEV4Y2x1ZGVCdG4nOwogICAgICAgICAgICAgICAgc21fYWRkRXhjbHVkZUJ0bi5pbm5lckhUTUwgPSBgPHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTEwIDIuNWEuNzUuNzUgMCAwIDEgLjc1Ljc1djZoNmEuNzUuNzUgMCAwIDEgMCAxLjVoLTZ2NmEuNzUuNzUgMCAwIDEtMS41IDB2LTZoLTZhLjc1Ljc1IDAgMCAxIDAtMS41aDZ2LTZhLjc1Ljc1IDAgMCAxIC43NS0uNzVaIiAvPjwvc3ZnPmA7CiAgICAgICAgICAgICAgICBzbV9hZGRFeGNsdWRlQnRuLm9uY2xpY2sgPSBzbV9hZGRFeGNsdXNpb25LZXl3b3JkOwogICAgICAgICAgICAgICAgZXhjbHVzaW9uSW5wdXRHcm91cC5hcHBlbmRDaGlsZChzbV9leGNsdWRlSW5wdXQpOwogICAgICAgICAgICAgICAgZXhjbHVzaW9uSW5wdXRHcm91cC5hcHBlbmRDaGlsZChzbV9hZGRFeGNsdWRlQnRuKTsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvblRhZ3NEaXYuYXBwZW5kQ2hpbGQoZXhjbHVzaW9uSW5wdXRHcm91cCk7CiAgICAgICAgICAgICAgICBjb25zdCBleGNsdXNpb25BY3Rpb25zRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBleGNsdXNpb25BY3Rpb25zRGl2LmNsYXNzTmFtZSA9ICdzbUV4Y2x1c2lvbkFjdGlvbnMnOwogICAgICAgICAgICAgICAgY29uc3QgZXhwb3J0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBleHBvcnRCdG4uaWQgPSAnc21FeHBvcnRFeGNsdXNpb25zQnRuJzsKICAgICAgICAgICAgICAgIGV4cG9ydEJ0bi5jbGFzc05hbWUgPSAnc2FsZXNNYXN0ZXJCdG4gc21FeGNsdXNpb25BY3Rpb25CdG4nOwogICAgICAgICAgICAgICAgZXhwb3J0QnRuLnRpdGxlID0gJ9Ct0LrRgdC/0L7RgNGCINGB0L/QuNGB0LrQsCDQuNGB0LrQu9GO0YfQtdC90LjQuSc7CiAgICAgICAgICAgICAgICBleHBvcnRCdG4uaW5uZXJIVE1MID0gJ+KGkCcKICAgICAgICAgICAgICAgIGV4cG9ydEJ0bi5vbmNsaWNrID0gc21fZXhwb3J0RXhjbHVzaW9uczsKICAgICAgICAgICAgICAgIGV4Y2x1c2lvbkFjdGlvbnNEaXYuYXBwZW5kQ2hpbGQoZXhwb3J0QnRuKTsKICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgaW1wb3J0QnRuLmlkID0gJ3NtSW1wb3J0RXhjbHVzaW9uc0J0bic7CiAgICAgICAgICAgICAgICBpbXBvcnRCdG4uY2xhc3NOYW1lID0gJ3NhbGVzTWFzdGVyQnRuIHNtRXhjbHVzaW9uQWN0aW9uQnRuJzsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi50aXRsZSA9ICfQmNC80L/QvtGA0YIg0YHQv9C40YHQutCwINC40YHQutC70Y7Rh9C10L3QuNC5JzsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5pbm5lckhUTUwgPSAn4oaSJzsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5vbmNsaWNrID0gc21fc2hvd0ltcG9ydE1vZGFsOwogICAgICAgICAgICAgICAgZXhjbHVzaW9uQWN0aW9uc0Rpdi5hcHBlbmRDaGlsZChpbXBvcnRCdG4pOwogICAgICAgICAgICAgICAgc21fZXhjbHVzaW9uVGFnc0Rpdi5hcHBlbmRDaGlsZChleGNsdXNpb25BY3Rpb25zRGl2KTsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvblRhZ3NMaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25UYWdzTGlzdERpdi5pZCA9ICdzYWxlc01hc3RlckV4Y2x1c2lvblRhZ3NMaXN0JzsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvblRhZ3NEaXYuYXBwZW5kQ2hpbGQoc21fZXhjbHVzaW9uVGFnc0xpc3REaXYpOwogICAgICAgICAgICAgICAgc21fbW9kYWwuYXBwZW5kQ2hpbGQoc21fZXhjbHVzaW9uVGFnc0Rpdik7CiAgICAgICAgICAgICAgICBzbV9jbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgc21fY2xvc2VCdG4uaWQgPSAnc2FsZXNNYXN0ZXJDbG9zZUJ0bic7CiAgICAgICAgICAgICAgICBzbV9jbG9zZUJ0bi5pbm5lckhUTUwgPSAnJnRpbWVzOyc7CiAgICAgICAgICAgICAgICBzbV9jbG9zZUJ0bi5vbmNsaWNrID0gc21faGlkZU1vZGFsOwogICAgICAgICAgICAgICAgc21fbW9kYWwuYXBwZW5kQ2hpbGQoc21fY2xvc2VCdG4pOwogICAgICAgICAgICAgICAgc21fbW9kYWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc21fbW9kYWwpOwoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbVNlbGVjdEFsbFN0b3JlcycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNtX3NlbGVjdEFsbFN0b3Jlcyk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21EZXNlbGVjdEFsbFN0b3JlcycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNtX2Rlc2VsZWN0QWxsU3RvcmVzKTsKCiAgICAgICAgICAgICAgICBzbV9zZXR1cEZpbHRlckV2ZW50TGlzdGVuZXJzKCk7CiAgICAgICAgICAgICAgICBzbV9hcHBseUxvYWRlZEZpbHRlcnNUb1VJKCk7CiAgICAgICAgICAgICAgICBzbV9yZW5kZXJFeGNsdXNpb25UYWdzKCk7CiAgICAgICAgICAgICAgICBzbV9yZW5kZXJTdG9yZUNoZWNrYm94ZXMoKTsKICAgICAgICAgICAgICAgIHNtX3VwZGF0ZVNvcnRCdXR0b25zU3RhdGUoKTsKICAgICAgICAgICAgICAgIHNtX3Bvc2l0aW9uU2lkZVBhbmVscygpOwoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUVzYyhldmVudCkgewogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtSW1wb3J0TW9kYWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltcG9ydE1vZGFsKSB7IGltcG9ydE1vZGFsLnJlbW92ZSgpOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyBzbV9oaWRlTW9kYWwoKTsgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2MpOwogICAgICAgICAgICAgICAgc21fbW9kYWwuX2VzY0hhbmRsZXIgPSBoYW5kbGVFc2M7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2V4cG9ydEV4Y2x1c2lvbnMoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBrZXl3b3Jkc1N0cmluZyA9IHNtX2V4Y2x1c2lvbktleXdvcmRzLmpvaW4oJywnKTsKICAgICAgICAgICAgICAgIGlmICgha2V5d29yZHNTdHJpbmcpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn0KHQv9C40YHQvtC6INC40YHQutC70Y7Rh9C10L3QuNC5INC/0YPRgdGCLicpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoa2V5d29yZHNTdHJpbmcpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBvcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21FeHBvcnRFeGNsdXNpb25zQnRuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHBvcnRCdG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IGV4cG9ydEJ0bi5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRCdG4uaW5uZXJIVE1MID0gJ9Ch0LrQvtC/0LjRgNC+0LLQsNC90L4hJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRCdG4uaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTYWxlc01hc3Rlcl0g0J3QtSDRg9C00LDQu9C+0YHRjCDRgdC60L7Qv9C40YDQvtCy0LDRgtGMINCyINCx0YPRhNC10YAg0L7QsdC80LXQvdCwOicsIGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdCgn0J3QtSDRg9C00LDQu9C+0YHRjCDRgdC60L7Qv9C40YDQvtCy0LDRgtGMINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LiDQodC60L7Qv9C40YDRg9C50YLQtSDQstGA0YPRh9C90YPRjjonLCBrZXl3b3Jkc1N0cmluZyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU2FsZXNNYXN0ZXJdINCe0YjQuNCx0LrQsCDQtNC+0YHRgtGD0L/QsCDQuiDQsdGD0YTQtdGA0YMg0L7QsdC80LXQvdCwOicsIGVycik7CiAgICAgICAgICAgICAgICAgICAgcHJvbXB0KCfQndC1INGD0LTQsNC70L7RgdGMINGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LguINCh0LrQvtC/0LjRgNGD0LnRgtC1INCy0YDRg9GH0L3Rg9GOOicsIGtleXdvcmRzU3RyaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fc2hvd0ltcG9ydE1vZGFsKCkgewogICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUltcG9ydE1vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdNb2RhbCkgZXhpc3RpbmdNb2RhbC5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgaW1wb3J0TW9kYWwuaWQgPSAnc21JbXBvcnRNb2RhbCc7CiAgICAgICAgICAgICAgICBpbXBvcnRNb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic21JbXBvcnRNb2RhbENvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQ+0JjQvNC/0L7RgNGCINGB0L/QuNGB0LrQsCDQuNGB0LrQu9GO0YfQtdC90LjQuTwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwPtCS0YHRgtCw0LLRjNGC0LUg0YHQv9C40YHQvtC6INGB0LvQvtCyLCDRgNCw0LfQtNC10LvQtdC90L3Ri9GFINC30LDQv9GP0YLRi9C80Lg6PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9InNtSW1wb3J0VGV4dGFyZWEiIHJvd3M9IjYiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNtSW1wb3J0TW9kYWxBY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNtSW1wb3J0QWNjZXB0QnRuIiBjbGFzcz0ic2FsZXNNYXN0ZXJCdG4iPtCf0YDQuNC90Y/RgtGMPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzbUltcG9ydENhbmNlbEJ0biIgY2xhc3M9InNhbGVzTWFzdGVyQnRuIj7QntGC0LzQtdC90LA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbXBvcnRNb2RhbCk7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtSW1wb3J0QWNjZXB0QnRuJykub25jbGljayA9IHNtX2hhbmRsZUltcG9ydDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUltcG9ydENhbmNlbEJ0bicpLm9uY2xpY2sgPSAoKSA9PiBpbXBvcnRNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUltcG9ydFRleHRhcmVhJykuZm9jdXMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21faGFuZGxlSW1wb3J0KCkgewogICAgICAgICAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21JbXBvcnRUZXh0YXJlYScpOwogICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21JbXBvcnRNb2RhbCcpOwogICAgICAgICAgICAgICAgaWYgKCF0ZXh0YXJlYSB8fCAhaW1wb3J0TW9kYWwpIHJldHVybjsKCiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGV4dGFyZWEudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRlZEtleXdvcmRzID0gdGV4dC5zcGxpdCgnLCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChrID0+IGsudHJpbSgpLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihrID0+IGsubGVuZ3RoID4gMCk7CiAgICAgICAgICAgICAgICAgICAgc21fZXhjbHVzaW9uS2V5d29yZHMgPSBbLi4ubmV3IFNldChpbXBvcnRlZEtleXdvcmRzKV07CiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU01fRVhDTFVTSU9OX1NUT1JBR0VfS0VZLCBzbV9leGNsdXNpb25LZXl3b3Jkcyk7CiAgICAgICAgICAgICAgICAgICAgc21fcmVuZGVyRXhjbHVzaW9uVGFncygpOwogICAgICAgICAgICAgICAgICAgIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2FsZXNNYXN0ZXJdINCh0L/QuNGB0L7QuiDQuNGB0LrQu9GO0YfQtdC90LjQuSDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L0uJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLQn9C+0LvQtSDQstCy0L7QtNCwINC/0YPRgdGC0L7QtS4g0JjQvNC/0L7RgNGCINC90LUg0LLRi9C/0L7Qu9C90LXQvS4iKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGltcG9ydE1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9oaWdobGlnaHRFcnJvclN0b3JlcygpIHsKICAgICAgICAgICAgICAgIGlmICghc21fZmlsdGVyU3RvcmVDaGVja2JveGVzQ29udGFpbmVyKSByZXR1cm47CgogICAgICAgICAgICAgICAgc21fc3RvcmVNb2R1bGVzLmZpbHRlcihzdG9yZSA9PiBzdG9yZSAmJiBzdG9yZS5pZCkuZm9yRWFjaChzdG9yZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hDb250YWluZXIgPSBzbV9maWx0ZXJTdG9yZUNoZWNrYm94ZXNDb250YWluZXIucXVlcnlTZWxlY3RvcihgI3NtU3RvcmVGaWx0ZXItJHtzdG9yZS5pZH1gKT8uY2xvc2VzdCgnLnNtRmlsdGVyQ2hlY2tib3gnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVTdGF0dXMgPSBzbV9zdG9yZXNbc3RvcmUuaWRdPy5zdGF0dXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZVN0YXR1cyA9PT0gJ2Vycm9yJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc20tc3RvcmUtZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NtLXN0b3JlLWVycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCk0YPQvdC60YbQuNC4INC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQstGL0LHQvtGA0L7QvCDQvNCw0LPQsNC30LjQvdC+0LIgLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3NlbGVjdEFsbFN0b3JlcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzbUZpbHRlclN0b3JlQ2hlY2tib3hlcyBpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CiAgICAgICAgICAgICAgICBpZiAoIXN0b3JlQ2hlY2tib3hlcyB8fCBzdG9yZUNoZWNrYm94ZXMubGVuZ3RoID09PSAwKSByZXR1cm47CgogICAgICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHN0b3JlQ2hlY2tib3hlcy5mb3JFYWNoKGNiID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNiLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2IuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYi5kYXRhc2V0LnN0b3JlSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2N1cnJlbnRGaWx0ZXJzLnN0b3Jlc1tjYi5kYXRhc2V0LnN0b3JlSWRdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZCkgewogICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNNX0ZJTFRFUl9TVE9SQUdFX0tFWSwgc21fY3VycmVudEZpbHRlcnMpOwogICAgICAgICAgICAgICAgICAgIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9kZXNlbGVjdEFsbFN0b3JlcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzbUZpbHRlclN0b3JlQ2hlY2tib3hlcyBpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CiAgICAgICAgICAgICAgICAgaWYgKCFzdG9yZUNoZWNrYm94ZXMgfHwgc3RvcmVDaGVja2JveGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBzdG9yZUNoZWNrYm94ZXMuZm9yRWFjaChjYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNiLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2IuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiLmRhdGFzZXQuc3RvcmVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fY3VycmVudEZpbHRlcnMuc3RvcmVzW2NiLmRhdGFzZXQuc3RvcmVJZF0gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZCkgewogICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNNX0ZJTFRFUl9TVE9SQUdFX0tFWSwgc21fY3VycmVudEZpbHRlcnMpOwogICAgICAgICAgICAgICAgICAgIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9wb3NpdGlvblNpZGVQYW5lbHMoKSB7CiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYWxlc01hc3RlckhlYWRlcicpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2FsZXNNYXN0ZXJSZXN1bHRzQ29udGFpbmVyJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXIgfHwgIXJlc3VsdHNDb250YWluZXIgfHwgIXNtX2ZpbHRlcnNQYW5lbCB8fCAhc21fZXhjbHVzaW9uVGFnc0RpdikgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJSZWN0ID0gaGVhZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IGhlYWRlci5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wT2Zmc2V0ID0gaGVhZGVyUmVjdC50b3AgKyBoZWFkZXJIZWlnaHQgKyAxNTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBib3R0b21PZmZzZXQgPSAyMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBgY2FsYygxMDB2aCAtICR7dG9wT2Zmc2V0fXB4IC0gJHtib3R0b21PZmZzZXR9cHgpYDsKCiAgICAgICAgICAgICAgICAgICAgc21fZmlsdGVyc1BhbmVsLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgICAgICAgICAgICAgICAgICBzbV9maWx0ZXJzUGFuZWwuc3R5bGUubGVmdCA9IGAxNXB4YDsKICAgICAgICAgICAgICAgICAgICBzbV9maWx0ZXJzUGFuZWwuc3R5bGUudG9wID0gYCR7dG9wT2Zmc2V0fXB4YDsKICAgICAgICAgICAgICAgICAgICBzbV9maWx0ZXJzUGFuZWwuc3R5bGUubWF4SGVpZ2h0ID0gYXZhaWxhYmxlSGVpZ2h0OwogICAgICAgICAgICAgICAgICAgIHNtX2ZpbHRlcnNQYW5lbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnOwoKICAgICAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25UYWdzRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgICAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25UYWdzRGl2LnN0eWxlLnJpZ2h0ID0gYDE1cHhgOwogICAgICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvblRhZ3NEaXYuc3R5bGUudG9wID0gYCR7dG9wT2Zmc2V0fXB4YDsKICAgICAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25UYWdzRGl2LnN0eWxlLm1heEhlaWdodCA9IGF2YWlsYWJsZUhlaWdodDsKICAgICAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25UYWdzRGl2LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlclBhbmVsV2lkdGggPSBzbV9maWx0ZXJzUGFuZWwub2Zmc2V0V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhjbHVzaW9uUGFuZWxXaWR0aCA9IHNtX2V4Y2x1c2lvblRhZ3NEaXYub2Zmc2V0V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudFNpZGVQYWRkaW5nID0gMjU7CgogICAgICAgICAgICAgICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nTGVmdCA9IGAke2ZpbHRlclBhbmVsV2lkdGggKyBjb250ZW50U2lkZVBhZGRpbmd9cHhgOwogICAgICAgICAgICAgICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHtleGNsdXNpb25QYW5lbFdpZHRoICsgY29udGVudFNpZGVQYWRkaW5nfXB4YDsKCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0NvbnRhaW5lci5zdHlsZS5wYWRkaW5nTGVmdCA9IGAke2ZpbHRlclBhbmVsV2lkdGggKyBjb250ZW50U2lkZVBhZGRpbmd9cHhgOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdHNDb250YWluZXIuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYCR7ZXhjbHVzaW9uUGFuZWxXaWR0aCArIGNvbnRlbnRTaWRlUGFkZGluZ31weGA7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0NvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wID0gYDBgOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdHNDb250YWluZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9IGAyMHB4YDsKICAgICAgICAgICAgICAgICAgICByZXN1bHRzQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGBjYWxjKDEwMCUgLSAke2hlYWRlckhlaWdodH1weClgOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdHNDb250YWluZXIuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdHNDb250YWluZXIuc3R5bGUuc2Nyb2xsYmFyQ29sb3IgPSAnIzRiNmY5YyAjMTcyMDJkJzsKICAgICAgICAgICAgICAgICAgICByZXN1bHRzQ29udGFpbmVyLnN0eWxlLnNjcm9sbGJhcldpZHRoID0gJ3RoaW4nOwoKCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fY3JlYXRlU29ydEJ1dHRvbihmaWVsZCwgdGV4dCkgewogICAgICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ3NhbGVzTWFzdGVyQnRuIHNvcnRCdG4nOwogICAgICAgICAgICAgICAgYnRuLmRhdGFzZXQuc29ydCA9IGZpZWxkOwogICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gdGV4dDsKICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4gc21faGFuZGxlU29ydChmaWVsZCk7CiAgICAgICAgICAgICAgICBzbV9zb3J0QnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9jcmVhdGVSZXNldEJ1dHRvbkhUTUwoZmlsdGVyS2V5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYDxidXR0b24gY2xhc3M9InNtRmlsdGVyUmVzZXRCdG4iIHRpdGxlPSLQodCx0YDQvtGB0LjRgtGMINGE0LjQu9GM0YLRgCIgZGF0YS1maWx0ZXIta2V5PSIke2ZpbHRlcktleX0iPjxzdmcgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMyAzYTkgOSAwIDAgMC05IDlIMWwzLjg5IDMuODkuMDcuMTRMOSAxMkg2YzAtMy44NyAzLjEzLTcgNy03czcgMy4xMyA3IDctMy4xMyA3LTcgN2MtMS45MyAwLTMuNjgtLjc5LTQuOTQtMi4wNmwtMS40MiAxLjQyQTguOTU0IDguOTU0IDAgMCAwIDEzIDIxYTkgOSAwIDAgMCAwLTE4em0tMSA1djVsNC4yOCAyLjU0LjcyLTEuMjEtMy41LTIuMDhWOEgxMnoiPjwvcGF0aD48L3N2Zz48L2J1dHRvbj5gOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9yZW5kZXJTdG9yZUNoZWNrYm94ZXMoKSB7CiAgICAgICAgICAgICAgICBzbV9maWx0ZXJTdG9yZUNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21GaWx0ZXJTdG9yZUNoZWNrYm94ZXMnKTsKICAgICAgICAgICAgICAgIGlmICghc21fZmlsdGVyU3RvcmVDaGVja2JveGVzQ29udGFpbmVyKSByZXR1cm47CiAgICAgICAgICAgICAgICBzbV9maWx0ZXJTdG9yZUNoZWNrYm94ZXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CgogICAgICAgICAgICAgICAgc21fc3RvcmVNb2R1bGVzLmZpbHRlcihzdG9yZSA9PiBzdG9yZSAmJiB0eXBlb2Ygc3RvcmUuaWQgPT09ICdzdHJpbmcnKS5mb3JFYWNoKHN0b3JlID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3NtRmlsdGVyQ2hlY2tib3gnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guaWQgPSBgc21TdG9yZUZpbHRlci0ke3N0b3JlLmlkfWA7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guZGF0YXNldC5zdG9yZUlkID0gc3RvcmUuaWQ7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHNtX2N1cnJlbnRGaWx0ZXJzLnN0b3Jlc1tzdG9yZS5pZF0gIT09IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHNtX2hhbmRsZVN0b3JlRmlsdGVyQ2hhbmdlKTsKCiAgICAgICAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoY2hlY2tib3gpOwogICAgICAgICAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGAgJHtzdG9yZS5uYW1lfWApKTsKICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGFiZWwpOwogICAgICAgICAgICAgICAgICAgIHNtX2ZpbHRlclN0b3JlQ2hlY2tib3hlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2hhbmRsZVN0b3JlRmlsdGVyQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuc3RvcmVJZDsKICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkOwogICAgICAgICAgICAgICAgc21fY3VycmVudEZpbHRlcnMuc3RvcmVzW3N0b3JlSWRdID0gaXNDaGVja2VkOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU01fRklMVEVSX1NUT1JBR0VfS0VZLCBzbV9jdXJyZW50RmlsdGVycyk7CiAgICAgICAgICAgICAgICBzbV9hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNtX3Nob3dNb2RhbCgpIHsKICAgICAgICAgICAgICAgIGlmICghc21fbW9kYWwpIHNtX2NyZWF0ZU1vZGFsKCk7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBzbV91cGRhdGVTdGF0dXMoJ9CX0LDQs9GA0YPQt9C60LAg0LrRg9GA0YHQvtCyINCy0LDQu9GO0YIuLi4nLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbV9mZXRjaEV4Y2hhbmdlUmF0ZXMoJ3J1YicpOwogICAgICAgICAgICAgICAgICAgIHNtX3VwZGF0ZVN0YXR1cygn0J3QsNC20LzQuNGC0LUgItCe0LHQvdC+0LLQuNGC0YwgJSIg0LTQu9GPINC/0L7QuNGB0LrQsCDRhtC10L0uLi4nKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBzbV91cGRhdGVTdGF0dXMoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC60YPRgNGB0L7QsiDQstCw0LvRjtGCIScsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJbU2FsZXNNYXN0ZXJdINCd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC60YPRgNGB0Ysg0LLQsNC70Y7RgiDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsDoiLCBlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoc21fY3VycmVudFJlc3VsdHMubGVuZ3RoID4gMCB8fCBzbV9yZXN1bHRzRGl2LmlubmVySFRNTCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBzbV9yZXN1bHRzRGl2LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgICAgIHNtX2N1cnJlbnRSZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUZpbHRlcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtVGl0bGVGaWx0ZXJJbnB1dCcpOwogICAgICAgICAgICAgICAgaWYgKHRpdGxlRmlsdGVySW5wdXQpIHRpdGxlRmlsdGVySW5wdXQudmFsdWUgPSAnJzsKCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICAgICAgICBzbV9tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIHNtX21vZGFsLnNjcm9sbFRvcCA9IDA7CgogICAgICAgICAgICAgICAgc21fcmVuZGVyRXhjbHVzaW9uVGFncygpOwogICAgICAgICAgICAgICAgc21fYXBwbHlMb2FkZWRGaWx0ZXJzVG9VSSgpOwogICAgICAgICAgICAgICAgc21fdXBkYXRlU29ydEJ1dHRvbnNTdGF0ZSgpOwogICAgICAgICAgICAgICAgc21fcmVuZGVyU3RvcmVDaGVja2JveGVzKCk7CiAgICAgICAgICAgICAgICBzbV9wb3NpdGlvblNpZGVQYW5lbHMoKTsKICAgICAgICAgICAgICAgIHNtX3VwZGF0ZUN1cnJlbmN5VG9nZ2xlQnV0dG9uKCk7CgogICAgICAgICAgICAgICAgc21fYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2hpZGVNb2RhbCgpIHsKICAgICAgICAgICAgICAgIGlmIChzbV9tb2RhbCkgewogICAgICAgICAgICAgICAgICAgIHNtX21vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNtX21vZGFsLl9lc2NIYW5kbGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBzbV9tb2RhbC5fZXNjSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzbV9tb2RhbC5fZXNjSGFuZGxlcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIC0tLSDQntCx0L3QvtCy0LvQtdC90LjQtSDRgdGC0LDRgtGD0YHQsCAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gc21fdXBkYXRlU3RhdHVzKG1lc3NhZ2UsIGlzTG9hZGluZyA9IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJTdGF0dXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2FsZXNNYXN0ZXJIZWFkZXJTdGF0dXMnKTsKICAgICAgICAgICAgICAgIGlmIChoZWFkZXJTdGF0dXNEaXYpIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJTdGF0dXNEaXYuaW5uZXJIVE1MID0gbWVzc2FnZSArIChpc0xvYWRpbmcgPyAnIDxzcGFuIGNsYXNzPSJzcGlubmVyIj48L3NwYW4+JyA6ICcnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzbV9zZWFyY2hCdG4pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNMb2FkaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNtX3NlYXJjaEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc21fc2VhcmNoQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHNtX3NlYXJjaEJ0bi50ZXh0Q29udGVudCA9ICfQntCx0L3QvtCy0LjRgtGMICUnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCX0LDQv9GD0YHQuiDQv9C+0LjRgdC60LAgLS0tCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNtX3RyaWdnZXJTZWFyY2goKSB7CiAgICAgICAgICAgICAgICBjb25zdCBnYW1lTmFtZSA9IHNtX2dldFN0ZWFtR2FtZU5hbWUoKTsKICAgICAgICAgICAgICAgIGlmICghZ2FtZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBzbV91cGRhdGVTdGF0dXMoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L7Qv9GA0LXQtNC10LvQuNGC0Ywg0L3QsNC30LLQsNC90LjQtSDQuNCz0YDRiyDQvdCwINGB0YLRgNCw0L3QuNGG0LUgU3RlYW0uJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlRmlsdGVySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21UaXRsZUZpbHRlcklucHV0Jyk7CiAgICAgICAgICAgICAgICBpZiAodGl0bGVGaWx0ZXJJbnB1dCkgdGl0bGVGaWx0ZXJJbnB1dC52YWx1ZSA9ICcnOwoKICAgICAgICAgICAgICAgIHNtX2N1cnJlbnRSZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzRGl2LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgc21fc3RvcmVzID0ge307CiAgICAgICAgICAgICAgICBzbV9oaWdobGlnaHRFcnJvclN0b3JlcygpOwogICAgICAgICAgICAgICAgc21fdXBkYXRlU3RhdHVzKGDQn9C+0LjRgdC6ICIke2dhbWVOYW1lfSIuLi5gLCB0cnVlKTsKICAgICAgICAgICAgICAgIHNtX2FjdGl2ZVJlcXVlc3RzID0gMDsKCgogICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICAgICAgICAgIGxldCB0b3RhbFN0b3Jlc1RvQ2hlY2sgPSAwOwoKICAgICAgICAgICAgICAgIHNtX3N0b3JlTW9kdWxlcy5maWx0ZXIobSA9PiBtICYmIHR5cGVvZiBtLmZldGNoID09PSAnZnVuY3Rpb24nKS5mb3JFYWNoKHN0b3JlTW9kdWxlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoc21fY3VycmVudEZpbHRlcnMuc3RvcmVzW3N0b3JlTW9kdWxlLmlkXSAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTdG9yZXNUb0NoZWNrKys7CiAgICAgICAgICAgICAgICAgICAgICAgIHNtX2FjdGl2ZVJlcXVlc3RzKys7CiAgICAgICAgICAgICAgICAgICAgICAgIHNtX3N0b3Jlc1tzdG9yZU1vZHVsZS5pZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbAogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVNb2R1bGUuZmV0Y2goZ2FtZU5hbWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXN1bHRzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9zdG9yZXNbc3RvcmVNb2R1bGUuaWRdLnN0YXR1cyA9ICdzdWNjZXNzJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX3N0b3Jlc1tzdG9yZU1vZHVsZS5pZF0uc3RhdHVzID0gJ2Vycm9yJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9zdG9yZXNbc3RvcmVNb2R1bGUuaWRdLmVycm9yID0gZXJyb3IubWVzc2FnZSB8fCAn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGDQntGI0LjQsdC60LAg0L/RgNC4INC30LDQv9GA0L7RgdC1OiAke3NtX3N0b3Jlc1tzdG9yZU1vZHVsZS5pZF0uZXJyb3J9YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fYWN0aXZlUmVxdWVzdHMtLTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV91cGRhdGVMb2FkaW5nUHJvZ3Jlc3ModG90YWxTdG9yZXNUb0NoZWNrKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc21fc3RvcmVzW3N0b3JlTW9kdWxlLmlkXSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0b3JlTW9kdWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdza2lwcGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHNtX3VwZGF0ZVN0YXR1cygn0J3QtdGCINCw0LrRgtC40LLQvdGL0YUg0LzQsNCz0LDQt9C40L3QvtCyINC00LvRjyDQv9C+0LjRgdC60LAuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHNBcnJheXMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CgogICAgICAgICAgICAgICAgc21fY3VycmVudFJlc3VsdHMgPSByZXN1bHRzQXJyYXlzLmZsYXQoKTsKCiAgICAgICAgICAgICAgICBzbV91cGRhdGVMb2FkaW5nUHJvZ3Jlc3ModG90YWxTdG9yZXNUb0NoZWNrKTsKICAgICAgICAgICAgICAgIGlmIChzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgc21fYXBwbHlTb3J0KHNtX2N1cnJlbnRTb3J0LmZpZWxkLCBzbV9jdXJyZW50U29ydC5kaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgICAgIHNtX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgICAgICBzbV91cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc21fYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3VwZGF0ZUxvYWRpbmdQcm9ncmVzcyh0b3RhbFN0b3JlcykgewrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBjb25zdCBjb21wbGV0ZWRTdG9yZXMgPSBPYmplY3QudmFsdWVzKHNtX3N0b3JlcykuZmlsdGVyKHMgPT4gcy5zdGF0dXMgIT09ICdwZW5kaW5nJykubGVuZ3RoOwrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBjb25zdCBza2lwcGVkU3RvcmVzID0gT2JqZWN0LnZhbHVlcyhzbV9zdG9yZXMpLmZpbHRlcihzID0+IHMuc3RhdHVzID09PSAnc2tpcHBlZCcpLmxlbmd0aDsKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgY29uc3Qgc3VjY2Vzc1N0b3JlcyA9IE9iamVjdC52YWx1ZXMoc21fc3RvcmVzKS5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKS5sZW5ndGg7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGNvbnN0IGVycm9yU3RvcmVzID0gT2JqZWN0LnZhbHVlcyhzbV9zdG9yZXMpLmZpbHRlcihzID0+IHMuc3RhdHVzID09PSAnZXJyb3InKTsKCsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGNvbnN0IHNlYXJjaGVkQ29tcGxldGVkQ291bnQgPSBjb21wbGV0ZWRTdG9yZXMgLSBza2lwcGVkU3RvcmVzOwoKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgaWYgKHNtX2FjdGl2ZVJlcXVlc3RzID4gMCkgewrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBzbV91cGRhdGVTdGF0dXMoYNCX0LDQs9GA0YPQt9C60LAuLi4gKCR7c2VhcmNoZWRDb21wbGV0ZWRDb3VudH0vJHt0b3RhbFN0b3Jlc30pYCwgdHJ1ZSk7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIH0gZWxzZSB7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGxldCBzdGF0dXNNZXNzYWdlID0gJyc7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGggPiAwKSB7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHN0YXR1c01lc3NhZ2UgPSBg0J3QsNC50LTQtdC90L4gJHtzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGh9INC/0YDQtdC00LvQvtC20LXQvdC40LkuIGA7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIH0gZWxzZSB7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgY29uc3QgZ2FtZU5hbWUgPSBzbV9nZXRTdGVhbUdhbWVOYW1lKCk7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChnYW1lTmFtZSkgewrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoHN0YXR1c01lc3NhZ2UgPSBg0J/RgNC10LTQu9C+0LbQtdC90LjQuSDQvdC1INC90LDQudC00LXQvdC+LiBgOwrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9IGVsc2UgewrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoHN0YXR1c01lc3NhZ2UgPSBg0JLQstC10LTQuNGC0LUg0LfQsNC/0YDQvtGBINC40LvQuCDQvtCx0L3QvtCy0LjRgtC1INC00LvRjyDQv9C+0LjRgdC60LAuYDsKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgfQrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChlcnJvclN0b3Jlcy5sZW5ndGggPiAwKSB7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHN0YXR1c01lc3NhZ2UgKz0gYNCe0YjQuNCx0LrQuCDQsiDQvNCw0LPQsNC30LjQvdCw0YU6ICR7ZXJyb3JTdG9yZXMubWFwKHMgPT4gcy5uYW1lKS5qb2luKCcsICcpfS5gOwrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGlmIChzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGggPT09IDAgJiYgZXJyb3JTdG9yZXMubGVuZ3RoID09PSAwICYmIHNtX2FjdGl2ZVJlcXVlc3RzID09PSAwICYmIHNtX2dldFN0ZWFtR2FtZU5hbWUoKSkgewrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoHN0YXR1c01lc3NhZ2UgPSBg0J/QviDQt9Cw0L/RgNC+0YHRgyAiJHtzbV9nZXRTdGVhbUdhbWVOYW1lKCl9IiDQvdC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3QviDQsiDQstGL0LHRgNCw0L3QvdGL0YUg0LzQsNCz0LDQt9C40L3QsNGFLmA7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIH0KCsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHNtX3VwZGF0ZVN0YXR1cyhzdGF0dXNNZXNzYWdlLnRyaW0oKSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHNtX2hpZ2hsaWdodEVycm9yU3RvcmVzKCk7CgrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBjb25zdCBhbnlGaWx0ZXJBY3RpdmUgPSAocGFyc2VGbG9hdChzbV9jdXJyZW50RmlsdGVycy5wcmljZU1pbikgfHwgMCkgPiAwIHx8IChwYXJzZUZsb2F0KHNtX2N1cnJlbnRGaWx0ZXJzLnByaWNlTWF4KSB8fCBJbmZpbml0eSkgPCBJbmZpbml0eSB8fArCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCAocGFyc2VGbG9hdChzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudFBlcmNlbnRNaW4pIHx8IDApID4gMCB8fCAocGFyc2VGbG9hdChzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudFBlcmNlbnRNYXgpIHx8IDEwMCkgPCAxMDAgfHwKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgKHBhcnNlRmxvYXQoc21fY3VycmVudEZpbHRlcnMuZGlzY291bnRBbW91bnRNaW4pIHx8IDApID4gMCB8fCAocGFyc2VGbG9hdChzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudEFtb3VudE1heCkgfHwgSW5maW5pdHkpIDwgSW5maW5pdHkgfHwKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgc21fY3VycmVudEZpbHRlcnMuaGFzRGlzY291bnQgfHwgc21fZXhjbHVzaW9uS2V5d29yZHMubGVuZ3RoID4gMCB8fArCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBPYmplY3QudmFsdWVzKHNtX2N1cnJlbnRGaWx0ZXJzLnN0b3Jlcykuc29tZSh2ID0+IHYgPT09IGZhbHNlKSB8fArCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtVGl0bGVGaWx0ZXJJbnB1dCcpPy52YWx1ZS50cmltKCkgfHwgJycpLmxlbmd0aCA+IDA7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIGNvbnN0IHZpc2libGVJdGVtcyA9IHNtX3Jlc3VsdHNEaXYucXVlcnlTZWxlY3RvckFsbCgnLnNhbGVzTWFzdGVySXRlbTpub3QoLmhpZGRlbi1ieS1maWx0ZXIpJykubGVuZ3RoOwoKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgaWYgKHZpc2libGVJdGVtcyA9PT0gMCAmJiBzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGggPiAwICYmIGFueUZpbHRlckFjdGl2ZSkgewrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBjb25zdCBzdGF0dXNEaXZJbkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYWxlc01hc3RlckhlYWRlclN0YXR1cycpOwrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCBpZiAoc3RhdHVzRGl2SW5IZWFkZXIpIHsKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgbGV0IGN1cnJlbnRTdGF0dXMgPSBzdGF0dXNEaXZJbkhlYWRlci50ZXh0Q29udGVudC5yZXBsYWNlKCcg0J3QtdGCINGC0L7QstCw0YDQvtCyLCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40YUg0YTQuNC70YzRgtGA0LDQvC4nLCAnJyk7CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIHN0YXR1c0RpdkluSGVhZGVyLnRleHRDb250ZW50ID0gY3VycmVudFN0YXR1cy50cmltKCkgKyAnINCd0LXRgiDRgtC+0LLQsNGA0L7Qsiwg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNGFINGE0LjQu9GM0YLRgNCw0LwuJzsKwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgfQrCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCB9CsKgIMKgIMKgIMKgIMKgIMKgIMKgIMKgIH0KwqAgwqAgwqAgwqAgwqAgwqAgfQoKICAgICAgICAgICAgLy8gLS0tINCh0L7RgNGC0LjRgNC+0LLQutCwIC0tLQogICAgICAgICAgICBmdW5jdGlvbiBzbV9oYW5kbGVTb3J0KGZpZWxkKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RGlyZWN0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICBwcmljZTogJ2FzYycsCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiAnZGVzYycsCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6ICdkZXNjJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYXNjJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxldCBuZXdEaXJlY3Rpb247CgogICAgICAgICAgICAgICAgaWYgKHNtX2N1cnJlbnRTb3J0LmZpZWxkID09PSBmaWVsZCkgewogICAgICAgICAgICAgICAgICAgIG5ld0RpcmVjdGlvbiA9IHNtX2N1cnJlbnRTb3J0LmRpcmVjdGlvbiA9PT0gJ2FzYycgPyAnZGVzYycgOiAnYXNjJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbmV3RGlyZWN0aW9uID0gZGVmYXVsdERpcmVjdGlvbnNbZmllbGRdIHx8ICdhc2MnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNtX2N1cnJlbnRTb3J0LmZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICBzbV9jdXJyZW50U29ydC5kaXJlY3Rpb24gPSBuZXdEaXJlY3Rpb247CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTTV9TT1JUX1NUT1JBR0VfS0VZLCBzbV9jdXJyZW50U29ydCk7CgogICAgICAgICAgICAgICAgc21fYXBwbHlTb3J0KGZpZWxkLCBuZXdEaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgc21fcmVuZGVyUmVzdWx0cygpOwogICAgICAgICAgICAgICAgc21fdXBkYXRlU29ydEJ1dHRvbnNTdGF0ZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9hcHBseVNvcnQoZmllbGQsIGRpcmVjdGlvbikgewogICAgICAgICAgICAgICAgY29uc3QgZGlyTXVsdGlwbGllciA9IGRpcmVjdGlvbiA9PT0gJ2FzYycgPyAxIDogLTE7CgogICAgICAgICAgICAgICAgc21fY3VycmVudFJlc3VsdHMuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCB2YWxBLCB2YWxCOwoKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByaWNlJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEEgPSBhLmN1cnJlbnRQcmljZSA/PyAoZGlyZWN0aW9uID09PSAnYXNjJyA/IEluZmluaXR5IDogLUluZmluaXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEIgPSBiLmN1cnJlbnRQcmljZSA/PyAoZGlyZWN0aW9uID09PSAnYXNjJyA/IEluZmluaXR5IDogLUluZmluaXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNjb3VudFBlcmNlbnQnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQSA9IGEuZGlzY291bnRQZXJjZW50ID8/IC0xOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGIuZGlzY291bnRQZXJjZW50ID8/IC0xOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2NvdW50QW1vdW50JzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudEEgPSBhLmRpc2NvdW50QW1vdW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW1vdW50QiA9IGIuZGlzY291bnRBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1vdW50QSA9PT0gbnVsbCAmJiBhbW91bnRCID09PSBudWxsKSB2YWxBID0gdmFsQiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhbW91bnRBID09PSBudWxsKSB2YWxBID0gZGlyZWN0aW9uID09PSAnZGVzYycgPyAtSW5maW5pdHkgOiBJbmZpbml0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFtb3VudEIgPT09IG51bGwpIHZhbEIgPSBkaXJlY3Rpb24gPT09ICdkZXNjJyA/IC1JbmZpbml0eSA6IEluZmluaXR5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQSA9IGFtb3VudEE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQiA9IGFtb3VudEI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxBID0gYS5wcm9kdWN0TmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbEIgPSBiLnByb2R1Y3ROYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbEEubG9jYWxlQ29tcGFyZSh2YWxCKSAqIGRpck11bHRpcGxpZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGxldCBjb21wYXJpc29uUmVzdWx0ID0gMDsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsQSA8IHZhbEIpIGNvbXBhcmlzb25SZXN1bHQgPSAtMTsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWxBID4gdmFsQikgY29tcGFyaXNvblJlc3VsdCA9IDE7CgogICAgICAgICAgICAgICAgICAgIGNvbXBhcmlzb25SZXN1bHQgKj0gZGlyTXVsdGlwbGllcjsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmlzb25SZXN1bHQgPT09IDAgJiYgZmllbGQgIT09ICdwcmljZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VBID0gYS5jdXJyZW50UHJpY2UgPz8gSW5maW5pdHk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQiA9IGIuY3VycmVudFByaWNlID8/IEluZmluaXR5OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VBIDwgcHJpY2VCKSByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUEgPiBwcmljZUIpIHJldHVybiAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyaXNvblJlc3VsdCA9PT0gMCAmJiBmaWVsZCAhPT0gJ25hbWUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYS5wcm9kdWN0TmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJykubG9jYWxlQ29tcGFyZShiLnByb2R1Y3ROYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnKTsKICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyaXNvblJlc3VsdDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV91cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCkgewogICAgICAgICAgICAgICAgaWYgKCFzbV9zb3J0QnV0dG9uc0NvbnRhaW5lcikgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IHNtX3NvcnRCdXR0b25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zb3J0QnRuJyk7CgogICAgICAgICAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnRuRmllbGQgPSBidG4uZGF0YXNldC5zb3J0OwogICAgICAgICAgICAgICAgICAgIGxldCBiYXNlVGV4dCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGJ0bkZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByaWNlJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0ID0gJ9Cm0LXQvdCwJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNjb3VudFBlcmNlbnQnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVRleHQgPSAnJSDQodC60LjQtNC60LgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2NvdW50QW1vdW50JzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0ID0gYNCh0LrQuNC00LrQsCAke3NtX2dldEN1cnJlbmN5U3ltYm9sKCl9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0ID0gJ9Cd0LDQt9Cy0LDQvdC40LUnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoYnRuRmllbGQgPT09IHNtX2N1cnJlbnRTb3J0LmZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFycm93ID0gc21fY3VycmVudFNvcnQuZGlyZWN0aW9uID09PSAnYXNjJyA/ICcg4payJyA6ICcg4pa8JzsKICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSBiYXNlVGV4dCArIGFycm93OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gYmFzZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc3QgcmVzZXRCdG4gPSBzbV9zb3J0QnV0dG9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2FsZXNNYXN0ZXJSZXNldFNvcnRCdG4nKTsKICAgICAgICAgICAgICAgIGlmIChyZXNldEJ0bikgewogICAgICAgICAgICAgICAgICAgIGlmIChzbV9jdXJyZW50U29ydC5maWVsZCA9PT0gJ3ByaWNlJyAmJiBzbV9jdXJyZW50U29ydC5kaXJlY3Rpb24gPT09ICdhc2MnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fcmVzZXRTb3J0KHJlbmRlciA9IHRydWUpIHsKICAgICAgICAgICAgICAgIHNtX2N1cnJlbnRTb3J0ID0gewogICAgICAgICAgICAgICAgICAgIGZpZWxkOiAncHJpY2UnLAogICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2FzYycKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTTV9TT1JUX1NUT1JBR0VfS0VZLCBzbV9jdXJyZW50U29ydCk7CiAgICAgICAgICAgICAgICBzbV91cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CiAgICAgICAgICAgICAgICBpZiAocmVuZGVyKSB7CiAgICAgICAgICAgICAgICAgICAgc21fYXBwbHlTb3J0KHNtX2N1cnJlbnRTb3J0LmZpZWxkLCBzbV9jdXJyZW50U29ydC5kaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgICAgIHNtX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCj0L/RgNCw0LLQu9C10L3QuNC1INGE0LjQu9GM0YLRgNCw0LzQuCAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gc21fZ2V0RmlsdGVyU3RvcmFnZUtleShrZXkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgJHtTTV9GSUxURVJfU1RPUkFHRV9LRVl9XyR7a2V5fWA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3NhdmVGaWx0ZXIoa2V5LCB2YWx1ZSkgewogICAgICAgICAgICAgICAgc21fY3VycmVudEZpbHRlcnNba2V5XSA9IHZhbHVlOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU01fRklMVEVSX1NUT1JBR0VfS0VZLCBzbV9jdXJyZW50RmlsdGVycyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2FwcGx5TG9hZGVkRmlsdGVyc1RvVUkoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXNtX2ZpbHRlcnNQYW5lbCkgcmV0dXJuOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtRmlsdGVyUHJpY2VNaW4nKS52YWx1ZSA9IHNtX2N1cnJlbnRGaWx0ZXJzLnByaWNlTWluIHx8ICcnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtRmlsdGVyUHJpY2VNYXgnKS52YWx1ZSA9IHNtX2N1cnJlbnRGaWx0ZXJzLnByaWNlTWF4IHx8ICcnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtRmlsdGVyRGlzY291bnRQZXJjZW50TWluJykudmFsdWUgPSBzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudFBlcmNlbnRNaW4gfHwgJyc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21GaWx0ZXJEaXNjb3VudFBlcmNlbnRNYXgnKS52YWx1ZSA9IHNtX2N1cnJlbnRGaWx0ZXJzLmRpc2NvdW50UGVyY2VudE1heCB8fCAnJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckRpc2NvdW50QW1vdW50TWluJykudmFsdWUgPSBzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudEFtb3VudE1pbiB8fCAnJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckRpc2NvdW50QW1vdW50TWF4JykudmFsdWUgPSBzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudEFtb3VudE1heCB8fCAnJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckhhc0Rpc2NvdW50JykuY2hlY2tlZCA9IHNtX2N1cnJlbnRGaWx0ZXJzLmhhc0Rpc2NvdW50IHx8IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChzbV9maWx0ZXJTdG9yZUNoZWNrYm94ZXNDb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICBzbV9maWx0ZXJTdG9yZUNoZWNrYm94ZXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLmZvckVhY2goY2IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gY2IuZGF0YXNldC5zdG9yZUlkOwogICAgICAgICAgICAgICAgICAgICAgICBjYi5jaGVja2VkID0gc21fY3VycmVudEZpbHRlcnMuc3RvcmVzW3N0b3JlSWRdICE9PSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzbV91cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fc2V0dXBGaWx0ZXJFdmVudExpc3RlbmVycygpIHsKICAgICAgICAgICAgICAgIGlmICghc21fZmlsdGVyc1BhbmVsKSByZXR1cm47CiAgICAgICAgICAgICAgICBjb25zdCBkZWJvdW5jZWRBcHBseSA9IHNtX2RlYm91bmNlKHNtX2FwcGx5RmlsdGVycywgU01fRklMVEVSX0RFQk9VTkNFX01TKTsKCiAgICAgICAgICAgICAgICBbJ3NtRmlsdGVyUHJpY2VNaW4nLCAnc21GaWx0ZXJQcmljZU1heCcsICdzbUZpbHRlckRpc2NvdW50UGVyY2VudE1pbicsICdzbUZpbHRlckRpc2NvdW50UGVyY2VudE1heCcsICdzbUZpbHRlckRpc2NvdW50QW1vdW50TWluJywgJ3NtRmlsdGVyRGlzY291bnRBbW91bnRNYXgnXS5mb3JFYWNoKGlkID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJLZXkgPSBpZC5yZXBsYWNlKCdzbUZpbHRlcicsICcnKS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGlkLnJlcGxhY2UoJ3NtRmlsdGVyJywgJycpLnNsaWNlKDEpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCkgewogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9zYXZlRmlsdGVyKGZpbHRlcktleSwgZS50YXJnZXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VkQXBwbHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc3QgaGFzRGlzY291bnRDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckhhc0Rpc2NvdW50Jyk7CiAgICAgICAgICAgICAgICBpZiAoaGFzRGlzY291bnRDaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgIGhhc0Rpc2NvdW50Q2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc21fc2F2ZUZpbHRlcignaGFzRGlzY291bnQnLCBlLnRhcmdldC5jaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICAgICAgc21fYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgcmVzZXRBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21SZXNldEFsbEZpbHRlcnNCdG4nKTsKICAgICAgICAgICAgICAgIGlmIChyZXNldEFsbEJ0bikgcmVzZXRBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzbV9yZXNldEFsbEZpbHRlcnModHJ1ZSkpOwoKICAgICAgICAgICAgICAgIHNtX2ZpbHRlcnNQYW5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuc21GaWx0ZXJSZXNldEJ0bicpLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHNtX2hhbmRsZUZpbHRlclJlc2V0KGV2ZW50KSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2hhbmRsZUZpbHRlclJlc2V0KGV2ZW50KSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJLZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZmlsdGVyS2V5OwogICAgICAgICAgICAgICAgc21fcmVzZXRGaWx0ZXJCeUtleShmaWx0ZXJLZXksIHRydWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9yZXNldEZpbHRlckJ5S2V5KGtleSwgYXBwbHkgPSB0cnVlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHsKICAgICAgICAgICAgICAgICAgICBwcmljZU1pbjogJycsCiAgICAgICAgICAgICAgICAgICAgcHJpY2VNYXg6ICcnLAogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudE1pbjogJycsCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50TWF4OiAnJywKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudE1pbjogJycsCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnRNYXg6ICcnLAogICAgICAgICAgICAgICAgICAgIGhhc0Rpc2NvdW50OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBzdG9yZXM6IHt9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICdwcmljZSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHNtX3NhdmVGaWx0ZXIoJ3ByaWNlTWluJywgZGVmYXVsdHMucHJpY2VNaW4pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtRmlsdGVyUHJpY2VNaW4nKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtRmlsdGVyUHJpY2VNaW4nKS52YWx1ZSA9IGRlZmF1bHRzLnByaWNlTWluOwogICAgICAgICAgICAgICAgICAgICAgICBzbV9zYXZlRmlsdGVyKCdwcmljZU1heCcsIGRlZmF1bHRzLnByaWNlTWF4KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlclByaWNlTWF4JykpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlclByaWNlTWF4JykudmFsdWUgPSBkZWZhdWx0cy5wcmljZU1heDsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzY291bnRQZXJjZW50JzoKICAgICAgICAgICAgICAgICAgICAgICAgc21fc2F2ZUZpbHRlcignZGlzY291bnRQZXJjZW50TWluJywgZGVmYXVsdHMuZGlzY291bnRQZXJjZW50TWluKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckRpc2NvdW50UGVyY2VudE1pbicpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21GaWx0ZXJEaXNjb3VudFBlcmNlbnRNaW4nKS52YWx1ZSA9IGRlZmF1bHRzLmRpc2NvdW50UGVyY2VudE1pbjsKICAgICAgICAgICAgICAgICAgICAgICAgc21fc2F2ZUZpbHRlcignZGlzY291bnRQZXJjZW50TWF4JywgZGVmYXVsdHMuZGlzY291bnRQZXJjZW50TWF4KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckRpc2NvdW50UGVyY2VudE1heCcpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21GaWx0ZXJEaXNjb3VudFBlcmNlbnRNYXgnKS52YWx1ZSA9IGRlZmF1bHRzLmRpc2NvdW50UGVyY2VudE1heDsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzY291bnRBbW91bnQnOgogICAgICAgICAgICAgICAgICAgICAgICBzbV9zYXZlRmlsdGVyKCdkaXNjb3VudEFtb3VudE1pbicsIGRlZmF1bHRzLmRpc2NvdW50QW1vdW50TWluKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckRpc2NvdW50QW1vdW50TWluJykpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckRpc2NvdW50QW1vdW50TWluJykudmFsdWUgPSBkZWZhdWx0cy5kaXNjb3VudEFtb3VudE1pbjsKICAgICAgICAgICAgICAgICAgICAgICAgc21fc2F2ZUZpbHRlcignZGlzY291bnRBbW91bnRNYXgnLCBkZWZhdWx0cy5kaXNjb3VudEFtb3VudE1heCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21GaWx0ZXJEaXNjb3VudEFtb3VudE1heCcpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21GaWx0ZXJEaXNjb3VudEFtb3VudE1heCcpLnZhbHVlID0gZGVmYXVsdHMuZGlzY291bnRBbW91bnRNYXg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wdGlvbnMnOgogICAgICAgICAgICAgICAgICAgICAgICBzbV9zYXZlRmlsdGVyKCdoYXNEaXNjb3VudCcsIGRlZmF1bHRzLmhhc0Rpc2NvdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckhhc0Rpc2NvdW50JykpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbUZpbHRlckhhc0Rpc2NvdW50JykuY2hlY2tlZCA9IGRlZmF1bHRzLmhhc0Rpc2NvdW50OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdzdG9yZXMnOgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc21GaWx0ZXJTdG9yZUNoZWNrYm94ZXMgaW5wdXRbdHlwZT0iY2hlY2tib3giXScpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXBkYXRlZFN0b3JlcyA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUNoZWNrYm94ZXMuZm9yRWFjaChjYiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYi5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTdG9yZXNbY2IuZGF0YXNldC5zdG9yZUlkXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBzbV9jdXJyZW50RmlsdGVycy5zdG9yZXMgPSB1cGRhdGVkU3RvcmVzOwogICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShTTV9GSUxURVJfU1RPUkFHRV9LRVksIHNtX2N1cnJlbnRGaWx0ZXJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYXBwbHkpIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9yZXNldEFsbEZpbHRlcnMoYXBwbHkgPSB0cnVlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJLZXlzID0gWydwcmljZScsICdkaXNjb3VudFBlcmNlbnQnLCAnZGlzY291bnRBbW91bnQnLCAnb3B0aW9ucycsICdzdG9yZXMnXTsKICAgICAgICAgICAgICAgIGZpbHRlcktleXMuZm9yRWFjaChrZXkgPT4gc21fcmVzZXRGaWx0ZXJCeUtleShrZXksIGZhbHNlKSk7CiAgICAgICAgICAgICAgICBpZiAoYXBwbHkpIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV9nZXRDdXJyZW5jeVN5bWJvbCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzbV9jdXJyZW50Q3VycmVuY3lNb2RlID09PSAnVVNEJyA/ICckJyA6ICfigr0nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzbV91cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXNtX2ZpbHRlcnNQYW5lbCkgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3lTeW1ib2wgPSBzbV9nZXRDdXJyZW5jeVN5bWJvbCgpOwogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c1RvU2NhbiA9IHNtX2N1cnJlbnRSZXN1bHRzIHx8IFtdOwoKICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlSGVhZGVyID0gc21fZmlsdGVyc1BhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zbUZpbHRlckdyb3VwIGg0OmZpcnN0LWNoaWxkJyk7CiAgICAgICAgICAgICAgICBpZiAocHJpY2VIZWFkZXIpIHByaWNlSGVhZGVyLmlubmVySFRNTCA9IGDQptC10L3QsCwgJHtjdXJyZW5jeVN5bWJvbH0gJHtzbV9jcmVhdGVSZXNldEJ1dHRvbkhUTUwoJ3ByaWNlJyl9YDsKICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudEhlYWRlciA9IHNtX2ZpbHRlcnNQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc21GaWx0ZXJHcm91cDpudGgtY2hpbGQoMykgaDQnKTsKICAgICAgICAgICAgICAgIGlmIChhbW91bnRIZWFkZXIpIGFtb3VudEhlYWRlci5pbm5lckhUTUwgPSBg0KHQutC40LTQutCwLCAke2N1cnJlbmN5U3ltYm9sfSAke3NtX2NyZWF0ZVJlc2V0QnV0dG9uSFRNTCgnZGlzY291bnRBbW91bnQnKX1gOwogICAgICAgICAgICAgICAgc21fZmlsdGVyc1BhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbUZpbHRlclJlc2V0QnRuJykuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNtX2hhbmRsZUZpbHRlclJlc2V0KTsKICAgICAgICAgICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzbV9oYW5kbGVGaWx0ZXJSZXNldCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0c1RvU2Nhbi5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBbJ3NtRmlsdGVyUHJpY2VNaW4nLCAnc21GaWx0ZXJQcmljZU1heCcsICdzbUZpbHRlckRpc2NvdW50UGVyY2VudE1pbicsICdzbUZpbHRlckRpc2NvdW50UGVyY2VudE1heCcsICdzbUZpbHRlckRpc2NvdW50QW1vdW50TWluJywgJ3NtRmlsdGVyRGlzY291bnRBbW91bnRNYXgnXS5mb3JFYWNoKGlkID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCkgZWwucGxhY2Vob2xkZXIgPSAnLSc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxldCBtaW5QcmljZSA9IEluZmluaXR5LCBtYXhQcmljZSA9IC1JbmZpbml0eTsKICAgICAgICAgICAgICAgIGxldCBtaW5EaXNjb3VudFBlcmNlbnQgPSAxMDEsIG1heERpc2NvdW50UGVyY2VudCA9IC0xOwogICAgICAgICAgICAgICAgbGV0IG1pbkRpc2NvdW50QW1vdW50ID0gSW5maW5pdHksIG1heERpc2NvdW50QW1vdW50ID0gLUluZmluaXR5OwogICAgICAgICAgICAgICAgY29uc3QgcnViVG9Vc2RSYXRlID0gc21fZXhjaGFuZ2VSYXRlcz8ucnViPy51c2QgfHwgbnVsbDsKICAgICAgICAgICAgICAgIGNvbnN0IGlzVXNkTW9kZSA9IHNtX2N1cnJlbnRDdXJyZW5jeU1vZGUgPT09ICdVU0QnOwoKICAgICAgICAgICAgICAgIHJlc3VsdHNUb1NjYW4uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFByaWNlID0gaXRlbS5jdXJyZW50UHJpY2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NvdW50QW1vdW50ID0gaXRlbS5kaXNjb3VudEFtb3VudDsKCiAgICAgICAgICAgICAgICAgICAgaWYoaXNVc2RNb2RlICYmIHJ1YlRvVXNkUmF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFByaWNlICE9PSBudWxsKSBjdXJyZW50UHJpY2UgKj0gcnViVG9Vc2RSYXRlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzY291bnRBbW91bnQgIT09IG51bGwpIGRpc2NvdW50QW1vdW50ICo9IHJ1YlRvVXNkUmF0ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UHJpY2UgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmljZSA8IG1pblByaWNlKSBtaW5QcmljZSA9IGN1cnJlbnRQcmljZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmljZSA+IG1heFByaWNlKSBtYXhQcmljZSA9IGN1cnJlbnRQcmljZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGlzY291bnRQZXJjZW50ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmRpc2NvdW50UGVyY2VudCA8IG1pbkRpc2NvdW50UGVyY2VudCkgbWluRGlzY291bnRQZXJjZW50ID0gaXRlbS5kaXNjb3VudFBlcmNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmRpc2NvdW50UGVyY2VudCA+IG1heERpc2NvdW50UGVyY2VudCkgbWF4RGlzY291bnRQZXJjZW50ID0gaXRlbS5kaXNjb3VudFBlcmNlbnQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudEFtb3VudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzY291bnRBbW91bnQgPCBtaW5EaXNjb3VudEFtb3VudCkgbWluRGlzY291bnRBbW91bnQgPSBkaXNjb3VudEFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2NvdW50QW1vdW50ID4gbWF4RGlzY291bnRBbW91bnQpIG1heERpc2NvdW50QW1vdW50ID0gZGlzY291bnRBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc3Qgc2V0UGxhY2Vob2xkZXIgPSAoaWQsIHByZWZpeCwgdmFsdWUsIHN1ZmZpeCA9ICcnLCBmb3JtYXRGbiA9IE1hdGgucm91bmQpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWwucGxhY2Vob2xkZXIgPSAodmFsdWUgPT09IEluZmluaXR5IHx8IHZhbHVlID09PSAtSW5maW5pdHkgfHwgdmFsdWUgPT09IDEwMSB8fCB2YWx1ZSA9PT0gLTEpID8gJy0nIDogYCR7cHJlZml4fSAke2Zvcm1hdEZuKHZhbHVlKX0ke3N1ZmZpeH1gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgc2V0UGxhY2Vob2xkZXIoJ3NtRmlsdGVyUHJpY2VNaW4nLCAn0L7RgicsIG1pblByaWNlLCAnJywgTWF0aC5mbG9vcik7CiAgICAgICAgICAgICAgICBzZXRQbGFjZWhvbGRlcignc21GaWx0ZXJQcmljZU1heCcsICfQtNC+JywgbWF4UHJpY2UsICcnLCBNYXRoLmNlaWwpOwogICAgICAgICAgICAgICAgc2V0UGxhY2Vob2xkZXIoJ3NtRmlsdGVyRGlzY291bnRQZXJjZW50TWluJywgJ9C+0YInLCBtaW5EaXNjb3VudFBlcmNlbnQsICclJywgdiA9PiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHYpKSk7CiAgICAgICAgICAgICAgICBzZXRQbGFjZWhvbGRlcignc21GaWx0ZXJEaXNjb3VudFBlcmNlbnRNYXgnLCAn0LTQvicsIG1heERpc2NvdW50UGVyY2VudCwgJyUnLCB2ID0+IE1hdGgubWluKDEwMCwgTWF0aC5jZWlsKHYpKSk7CiAgICAgICAgICAgICAgICBzZXRQbGFjZWhvbGRlcignc21GaWx0ZXJEaXNjb3VudEFtb3VudE1pbicsICfQvtGCJywgbWluRGlzY291bnRBbW91bnQsICcnLCBNYXRoLmZsb29yKTsKICAgICAgICAgICAgICAgIHNldFBsYWNlaG9sZGVyKCdzbUZpbHRlckRpc2NvdW50QW1vdW50TWF4JywgJ9C00L4nLCBtYXhEaXNjb3VudEFtb3VudCwgJycsIE1hdGguY2VpbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2FwcGx5RmlsdGVycygpIHsKICAgICAgICAgICAgICAgIGlmICghc21fcmVzdWx0c0RpdiB8fCAhc21fY3VycmVudFJlc3VsdHMpIHJldHVybjsKCiAgICAgICAgICAgICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INGE0LjQu9GM0YLRgCDQv9C+INC90LDQt9Cy0LDQvdC40Y4g0LjQtyDQv9C+0LvRjyDQstCy0L7QtNCwCiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUZpbHRlcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NtVGl0bGVGaWx0ZXJJbnB1dCcpOwogICAgICAgICAgICAgICAgY29uc3QgcmF3VGl0bGVGaWx0ZXJUZXh0ID0gdGl0bGVGaWx0ZXJJbnB1dCA/IHRpdGxlRmlsdGVySW5wdXQudmFsdWUudHJpbSgpIDogJyc7CiAgICAgICAgICAgICAgICAvLyDQoNCw0LfQsdC40LLQsNC10Lwg0L3QsCDQvtGC0LTQtdC70YzQvdGL0LUg0YHQu9C+0LLQsC/RhNGA0LDQt9GLINC/0L4gIjsiINC4INC/0YDQuNCy0L7QtNC40Lwg0Log0L3QuNC20L3QtdC80YMg0YDQtdCz0LjRgdGC0YDRgwogICAgICAgICAgICAgICAgY29uc3QgdGl0bGVGaWx0ZXJUZXJtcyA9IHJhd1RpdGxlRmlsdGVyVGV4dAogICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnOycpCiAgICAgICAgICAgICAgICAgICAgLm1hcCh0ZXJtID0+IHRlcm0udHJpbSgpLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih0ZXJtID0+IHRlcm0ubGVuZ3RoID4gMCk7CgogICAgICAgICAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQutC70Y7Rh9C10LLRi9C1INGB0LvQvtCy0LAg0LTQu9GPINC40YHQutC70Y7Rh9C10L3QuNGPINC4INGE0LjQu9GM0YLRgNGLCiAgICAgICAgICAgICAgICBjb25zdCBrZXl3b3JkcyA9IHNtX2V4Y2x1c2lvbktleXdvcmRzLm1hcChrID0+IGsudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgICAgICAgICBjb25zdCBwTWluID0gcGFyc2VGbG9hdChzbV9jdXJyZW50RmlsdGVycy5wcmljZU1pbikgfHwgMDsKICAgICAgICAgICAgICAgIGNvbnN0IHBNYXggPSBwYXJzZUZsb2F0KHNtX2N1cnJlbnRGaWx0ZXJzLnByaWNlTWF4KSB8fCBJbmZpbml0eTsKICAgICAgICAgICAgICAgIGNvbnN0IGRwTWluID0gcGFyc2VGbG9hdChzbV9jdXJyZW50RmlsdGVycy5kaXNjb3VudFBlcmNlbnRNaW4pIHx8IDA7CiAgICAgICAgICAgICAgICBjb25zdCBkcE1heCA9IHBhcnNlRmxvYXQoc21fY3VycmVudEZpbHRlcnMuZGlzY291bnRQZXJjZW50TWF4KSB8fCAxMDA7CiAgICAgICAgICAgICAgICBjb25zdCBkYU1pbiA9IHBhcnNlRmxvYXQoc21fY3VycmVudEZpbHRlcnMuZGlzY291bnRBbW91bnRNaW4pIHx8IDA7CiAgICAgICAgICAgICAgICBjb25zdCBkYU1heCA9IHBhcnNlRmxvYXQoc21fY3VycmVudEZpbHRlcnMuZGlzY291bnRBbW91bnRNYXgpIHx8IEluZmluaXR5OwogICAgICAgICAgICAgICAgY29uc3QgaGFzRGlzY291bnRGaWx0ZXIgPSBzbV9jdXJyZW50RmlsdGVycy5oYXNEaXNjb3VudCB8fCBmYWxzZTsKICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVN0b3JlRmlsdGVycyA9IHNtX2N1cnJlbnRGaWx0ZXJzLnN0b3JlczsKCiAgICAgICAgICAgICAgICBsZXQgdmlzaWJsZUNvdW50ID0gMDsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gc21fcmVzdWx0c0Rpdi5xdWVyeVNlbGVjdG9yQWxsKCcuc2FsZXNNYXN0ZXJJdGVtJyk7CgogICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtRWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gQXJyYXkuZnJvbShzbV9yZXN1bHRzRGl2LmNoaWxkcmVuKS5pbmRleE9mKGl0ZW1FbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4tYnktZmlsdGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gc21fY3VycmVudFJlc3VsdHNbaW5kZXhdOwogICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW1EYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuLWJ5LWZpbHRlcicpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBpdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc20tdGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtVGl0bGUgPSB0aXRsZUVsZW1lbnQgPyB0aXRsZUVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiAnJzsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGhpZGVCeVRpdGxlRmlsdGVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlRmlsdGVyVGVybXMubGVuZ3RoID4gMCAmJiAhdGl0bGVGaWx0ZXJUZXJtcy5zb21lKHRlcm0gPT4gaXRlbVRpdGxlLmluY2x1ZGVzKHRlcm0pKSkgewogICAgICAgICAgICAgICAgICAgICAgICBoaWRlQnlUaXRsZUZpbHRlciA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBsZXQgc2hvdWxkSGlkZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAvLyAxLiDQpNC40LvRjNGC0YAg0L/QviDQvNCw0LPQsNC30LjQvdGDCiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVN0b3JlRmlsdGVyc1tpdGVtRGF0YS5zdG9yZUlkXSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyAyLiDQpNC40LvRjNGC0YAg0L/QviDQutC70Y7Rh9C10LLRi9C8INGB0LvQvtCy0LDQvCAo0LjRgdC60LvRjtGH0LXQvdC40Y8pCiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlICYmIGtleXdvcmRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRUb1NlYXJjaCA9IGl0ZW1UaXRsZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtRGF0YS5zdG9yZUlkID09PSAncGxhdGltYXJrZXQnICYmIGl0ZW1EYXRhLnNlbGxlck5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb1NlYXJjaCArPSAnICcgKyBpdGVtRGF0YS5zZWxsZXJOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiB0ZXh0VG9TZWFyY2guaW5jbHVkZXMoa2V5d29yZCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaWRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gMy4g0KTQuNC70YzRgtGAINC/0L4g0YbQtdC90LUKICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEhpZGUgJiYgaXRlbURhdGEuY3VycmVudFByaWNlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtRGF0YS5jdXJyZW50UHJpY2UgPCBwTWluIHx8IGl0ZW1EYXRhLmN1cnJlbnRQcmljZSA+IHBNYXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc2hvdWxkSGlkZSAmJiBpdGVtRGF0YS5jdXJyZW50UHJpY2UgPT09IG51bGwgJiYgKHBNaW4gPiAwIHx8IHBNYXggPCBJbmZpbml0eSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBNaW4gPT09IDAgJiYgcE1heCA9PT0gSW5maW5pdHkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gNC4g0KTQuNC70YzRgtGAINC/0L4gJSDRgdC60LjQtNC60LgKICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEhpZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRQID0gaXRlbURhdGEuZGlzY291bnRQZXJjZW50ID8/IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudFAgPCBkcE1pbiB8fCBkaXNjb3VudFAgPiBkcE1heCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDUuINCk0LjQu9GM0YLRgCDQv9C+INGB0YPQvNC80LUg0YHQutC40LTQutC4CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50QSA9IGl0ZW1EYXRhLmRpc2NvdW50QW1vdW50ID8/IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudEEgPCBkYU1pbiB8fCBkaXNjb3VudEEgPiBkYU1heCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDYuINCk0LjQu9GM0YLRgCAi0KLQvtC70YzQutC+INGB0L4g0YHQutC40LTQutC+0LkiCiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlICYmIGhhc0Rpc2NvdW50RmlsdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXRlbURhdGEuZGlzY291bnRQZXJjZW50IHx8IGl0ZW1EYXRhLmRpc2NvdW50UGVyY2VudCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaWRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC40LzQtdC90Y/QtdC8INC60LvQsNGB0YEg0YHQutGA0YvRgtC40Y8sINC10YHQu9C4INGB0YDQsNCx0L7RgtCw0Lsg0LvRjtCx0L7QuSDRhNC40LvRjNGC0YAg0JjQm9CYINGE0LjQu9GM0YLRgCDQv9C+INC90LDQt9Cy0LDQvdC40Y4KICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSGlkZSB8fCBoaWRlQnlUaXRsZUZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4tYnktZmlsdGVyJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuLWJ5LWZpbHRlcicpOwogICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDQntCx0L3QvtCy0LvRj9C10Lwg0YHRgtCw0YLRg9GBINCyINGI0LDQv9C60LUKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsTG9hZGVkQ291bnQgPSBzbV9jdXJyZW50UmVzdWx0cy5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCBhbnlGaWx0ZXJBY3RpdmUgPSBwTWluID4gMCB8fCBwTWF4IDwgSW5maW5pdHkgfHwgZHBNaW4gPiAwIHx8IGRwTWF4IDwgMTAwIHx8IGRhTWluID4gMCB8fCBkYU1heCA8IEluZmluaXR5IHx8IGhhc0Rpc2NvdW50RmlsdGVyIHx8IGtleXdvcmRzLmxlbmd0aCA+IDAgfHwgT2JqZWN0LnZhbHVlcyhhY3RpdmVTdG9yZUZpbHRlcnMpLnNvbWUodiA9PiB2ID09PSBmYWxzZSkgfHwgdGl0bGVGaWx0ZXJUZXJtcy5sZW5ndGggPiAwOwogICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdG9yZXNDb3VudCA9IE9iamVjdC52YWx1ZXMoc21fc3RvcmVzKS5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ2Vycm9yJykubGVuZ3RoOwoKICAgICAgICAgICAgICAgIGxldCBzdGF0dXNNZXNzYWdlID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoc21fYWN0aXZlUmVxdWVzdHMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxMb2FkZWRDb3VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFueUZpbHRlckFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzTWVzc2FnZSA9IGDQn9C+0LrQsNC30LDQvdC+ICR7dmlzaWJsZUNvdW50fSDQuNC3ICR7dG90YWxMb2FkZWRDb3VudH0g0L/RgNC10LTQu9C+0LbQtdC90LjQuS4gYDsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSBg0J3QsNC50LTQtdC90L4gJHt0b3RhbExvYWRlZENvdW50fSDQv9GA0LXQtNC70L7QttC10L3QuNC5LiBgOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVOYW1lID0gc21fZ2V0U3RlYW1HYW1lTmFtZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzTWVzc2FnZSA9IGDQn9GA0LXQtNC70L7QttC10L3QuNC5INC90LUg0L3QsNC50LTQtdC90L4uIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSBg0JLQstC10LTQuNGC0LUg0LfQsNC/0YDQvtGBINC40LvQuCDQvtCx0L3QvtCy0LjRgtC1INC00LvRjyDQv9C+0LjRgdC60LAuYDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JTdG9yZXNDb3VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzTWVzc2FnZSArPSBgKCR7ZXJyb3JTdG9yZXNDb3VudH0g0LzQsNCzLiDRgSDQvtGI0LjQsdC60LDQvNC4KS5gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzbV91cGRhdGVTdGF0dXMoc3RhdHVzTWVzc2FnZS50cmltKCksIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHZpc2libGVDb3VudCA9PT0gMCAmJiB0b3RhbExvYWRlZENvdW50ID4gMCAmJiBhbnlGaWx0ZXJBY3RpdmUgJiYgc21fYWN0aXZlUmVxdWVzdHMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNEaXZJbkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYWxlc01hc3RlckhlYWRlclN0YXR1cycpOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNEaXZJbkhlYWRlcikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFN0YXR1cyA9IHN0YXR1c0RpdkluSGVhZGVyLnRleHRDb250ZW50LnJlcGxhY2UoJyDQndC10YIg0YLQvtCy0LDRgNC+0LIsINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LjRhSDRhNC40LvRjNGC0YDQsNC8LicsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzRGl2SW5IZWFkZXIudGV4dENvbnRlbnQgPSBjdXJyZW50U3RhdHVzLnRyaW0oKSArICcg0J3QtdGCINGC0L7QstCw0YDQvtCyLCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40YUg0YTQuNC70YzRgtGA0LDQvC4nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIC8vIC0tLSDQpNC40LvRjNGC0YDQsNGG0LjRjyDQuNGB0LrQu9GO0YfQtdC90LjQuSAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gc21fYWRkRXhjbHVzaW9uS2V5d29yZCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmQgPSBzbV9leGNsdWRlSW5wdXQudmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICBpZiAoa2V5d29yZCAmJiAhc21fZXhjbHVzaW9uS2V5d29yZHMuaW5jbHVkZXMoa2V5d29yZCkpIHsKICAgICAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25LZXl3b3Jkcy5wdXNoKGtleXdvcmQpOwogICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNNX0VYQ0xVU0lPTl9TVE9SQUdFX0tFWSwgc21fZXhjbHVzaW9uS2V5d29yZHMpOwogICAgICAgICAgICAgICAgICAgIHNtX2V4Y2x1ZGVJbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgIHNtX3JlbmRlckV4Y2x1c2lvblRhZ3MoKTsKICAgICAgICAgICAgICAgICAgICBzbV9hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc21fcmVtb3ZlRXhjbHVzaW9uS2V5d29yZChrZXl3b3JkVG9SZW1vdmUpIHsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvbktleXdvcmRzID0gc21fZXhjbHVzaW9uS2V5d29yZHMuZmlsdGVyKGsgPT4gayAhPT0ga2V5d29yZFRvUmVtb3ZlKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKFNNX0VYQ0xVU0lPTl9TVE9SQUdFX0tFWSwgc21fZXhjbHVzaW9uS2V5d29yZHMpOwogICAgICAgICAgICAgICAgc21fcmVuZGVyRXhjbHVzaW9uVGFncygpOwogICAgICAgICAgICAgICAgc21fYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3JlbmRlckV4Y2x1c2lvblRhZ3MoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXNtX2V4Y2x1c2lvblRhZ3NMaXN0RGl2KSByZXR1cm47CiAgICAgICAgICAgICAgICBzbV9leGNsdXNpb25UYWdzTGlzdERpdi5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvbktleXdvcmRzLmZvckVhY2goa2V5d29yZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgICAgICAgICAgICAgIHRhZy5jbGFzc05hbWUgPSAnc21FeGNsdXNpb25UYWcnOwogICAgICAgICAgICAgICAgICAgIHRhZy50ZXh0Q29udGVudCA9IGtleXdvcmQ7CiAgICAgICAgICAgICAgICAgICAgdGFnLnRpdGxlID0gYNCj0LTQsNC70LjRgtGMICIke2tleXdvcmR9ImA7CiAgICAgICAgICAgICAgICAgICAgdGFnLm9uY2xpY2sgPSAoKSA9PiBzbV9yZW1vdmVFeGNsdXNpb25LZXl3b3JkKGtleXdvcmQpOwogICAgICAgICAgICAgICAgICAgIHNtX2V4Y2x1c2lvblRhZ3NMaXN0RGl2LmFwcGVuZENoaWxkKHRhZyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAvLyAtLS0g0KDQtdC90LTQtdGA0LjQvdCzINGA0LXQt9GD0LvRjNGC0LDRgtC+0LIgLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX3JlbmRlclJlc3VsdHMoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXNtX3Jlc3VsdHNEaXYpIHJldHVybjsKICAgICAgICAgICAgICAgIHNtX3Jlc3VsdHNEaXYuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoc21fY3VycmVudFJlc3VsdHMubGVuZ3RoID09PSAwICYmIHNtX2FjdGl2ZVJlcXVlc3RzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgc21fYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgICAgICAgICAgICAgY29uc3QgaXNVc2RNb2RlID0gc21fY3VycmVudEN1cnJlbmN5TW9kZSA9PT0gJ1VTRCc7CiAgICAgICAgICAgICAgICBjb25zdCBydWJUb1VzZFJhdGUgPSBzbV9leGNoYW5nZVJhdGVzWydydWInXT8udXNkIHx8IG51bGw7CgogICAgICAgICAgICAgICAgaWYgKGlzVXNkTW9kZSAmJiAhcnViVG9Vc2RSYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgc21fdXBkYXRlU3RhdHVzKCfQndC1INGD0LTQsNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQutGD0YDRgSBSVUIvVVNEINC00LvRjyDQutC+0L3QstC10YDRgtCw0YbQuNC4LicsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzbV9jdXJyZW50UmVzdWx0cy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBpdGVtRGl2LmNsYXNzTmFtZSA9ICdzYWxlc01hc3Rlckl0ZW0nOwogICAgICAgICAgICAgICAgICAgIGl0ZW1EaXYuZGF0YXNldC5zdG9yZSA9IGl0ZW0uc3RvcmVJZDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RvcmVJZCA9PT0gJ3N0ZWFtX2N1cnJlbnRfcGFnZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbURpdi5jbGFzc0xpc3QuYWRkKCdzdGVhbS1wYWdlLW9mZmVyJyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGl0ZW0ucHJvZHVjdFVybCB8fCBpdGVtLnN0b3JlVXJsIHx8ICcjJzsKICAgICAgICAgICAgICAgICAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnOwogICAgICAgICAgICAgICAgICAgIGxpbmsucmVsID0gJ25vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3cnOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBpbWFnZVdyYXBwZXIuY2xhc3NOYW1lID0gJ3NtLWNhcmQtaW1hZ2Utd3JhcHBlcic7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9IGl0ZW0uaW1hZ2VVcmw7CiAgICAgICAgICAgICAgICAgICAgaWYgKGltZ1NyYyAmJiAhaW1nU3JjLnN0YXJ0c1dpdGgoJ2h0dHAnKSAmJiAhaW1nU3JjLnN0YXJ0c1dpdGgoJy8vJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlQmFzZVVybCA9IG5ldyBVUkwoaXRlbS5zdG9yZVVybCB8fCBzbV9zdG9yZU1vZHVsZXMuZmluZChzID0+IHMuaWQgPT09IGl0ZW0uc3RvcmVJZCk/LmJhc2VVcmwgfHwgdW5zYWZlV2luZG93LmxvY2F0aW9uLm9yaWdpbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdTcmMgPSBuZXcgVVJMKGltZ1NyYywgc3RvcmVCYXNlVXJsLm9yaWdpbikuaHJlZjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nU3JjID0gJ2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTB4ODA/dGV4dD1ObytJbWFnZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpbWdTcmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nU3JjID0gJ2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTB4ODA/dGV4dD1ObytJbWFnZSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpbWdTcmM7CiAgICAgICAgICAgICAgICAgICAgaW1nLmFsdCA9IGl0ZW0ucHJvZHVjdE5hbWUgfHwgJ9CY0LfQvtCx0YDQsNC20LXQvdC40LUg0YLQvtCy0LDRgNCwJzsKICAgICAgICAgICAgICAgICAgICBpbWcubG9hZGluZyA9ICdsYXp5JzsKICAgICAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsOyB0aGlzLnNyYyA9ICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUweDgwP3RleHQ9TG9hZCtFcnJvcic7IHRoaXMuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VXcmFwcGVyLmFwcGVuZENoaWxkKGltZyk7CiAgICAgICAgICAgICAgICAgICAgbGluay5hcHBlbmRDaGlsZChpbWFnZVdyYXBwZXIpOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHByaWNlRGl2LmNsYXNzTmFtZSA9ICdzbS1wcmljZS1jb250YWluZXInOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmljZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlU3Bhbi5jbGFzc05hbWUgPSAnc20tY3VycmVudC1wcmljZSc7CgogICAgICAgICAgICAgICAgICAgIGlmIChpc1VzZE1vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY3VycmVudFByaWNlICE9PSBudWxsICYmIHJ1YlRvVXNkUmF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNkUHJpY2UgPSBpdGVtLmN1cnJlbnRQcmljZSAqIHJ1YlRvVXNkUmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZVNwYW4udGV4dENvbnRlbnQgPSBgJCR7dXNkUHJpY2UudG9GaXhlZCgyKX1gOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlU3Bhbi50ZXh0Q29udGVudCA9IGl0ZW0uY3VycmVudFByaWNlID09PSBudWxsID8gJ9Cd0LXRgiDRhtC10L3RiycgOiAn0J3QtdGCINC60YPRgNGB0LAnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlU3Bhbi50ZXh0Q29udGVudCA9IGl0ZW0uY3VycmVudFByaWNlICE9PSBudWxsID8gYCR7aXRlbS5jdXJyZW50UHJpY2UudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJyl9IOKCvWAgOiAn0J3QtdGCINGG0LXQvdGLJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcHJpY2VEaXYuYXBwZW5kQ2hpbGQoY3VycmVudFByaWNlU3Bhbik7CgogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmRpc2NvdW50UGVyY2VudCAmJiBpdGVtLmRpc2NvdW50UGVyY2VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRCYWRnZS5jbGFzc05hbWUgPSAnc20tZGlzY291bnQtYmFkZ2UnOwogICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYC0ke01hdGgucm91bmQoaXRlbS5kaXNjb3VudFBlcmNlbnQpfSVgOwogICAgICAgICAgICAgICAgICAgICAgICBwcmljZURpdi5hcHBlbmRDaGlsZChkaXNjb3VudEJhZGdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3JpZ2luYWxQcmljZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlU3Bhbi5jbGFzc05hbWUgPSAnc20tb3JpZ2luYWwtcHJpY2UnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVXNkTW9kZSAmJiBydWJUb1VzZFJhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2RPcmlnaW5hbFByaWNlID0gaXRlbS5vcmlnaW5hbFByaWNlICogcnViVG9Vc2RSYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2VTcGFuLnRleHRDb250ZW50ID0gYCQke3VzZE9yaWdpbmFsUHJpY2UudG9GaXhlZCgyKX1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlU3Bhbi50ZXh0Q29udGVudCA9IGAke2l0ZW0ub3JpZ2luYWxQcmljZS50b0xvY2FsZVN0cmluZygncnUtUlUnKX0g4oK9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlRGl2LmFwcGVuZENoaWxkKG9yaWdpbmFsUHJpY2VTcGFuKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKHByaWNlRGl2KTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICB0aXRsZURpdi5jbGFzc05hbWUgPSAnc20tdGl0bGUnOwogICAgICAgICAgICAgICAgICAgIHRpdGxlRGl2LnRleHRDb250ZW50ID0gaXRlbS5wcm9kdWN0TmFtZSB8fCAn0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8nOwogICAgICAgICAgICAgICAgICAgIHRpdGxlRGl2LnRpdGxlID0gaXRlbS5wcm9kdWN0TmFtZSB8fCAn0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8nOwogICAgICAgICAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQodGl0bGVEaXYpOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUluZm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBzdG9yZUluZm9Db250YWluZXIuY2xhc3NOYW1lID0gJ3NtLXN0b3JlLWluZm8tY29udGFpbmVyJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIHN0b3JlRGl2LmNsYXNzTmFtZSA9ICdzbS1zdG9yZS1uYW1lJzsKICAgICAgICAgICAgICAgICAgICBzdG9yZURpdi50ZXh0Q29udGVudCA9IGl0ZW0uc3RvcmVOYW1lIHx8ICfQndC10LjQt9Cy0LXRgdGC0L3Ri9C5INC80LDQs9Cw0LfQuNC9JzsKICAgICAgICAgICAgICAgICAgICBzdG9yZURpdi50aXRsZSA9IGDQnNCw0LPQsNC30LjQvTogJHtpdGVtLnN0b3JlTmFtZX1gOwogICAgICAgICAgICAgICAgICAgIHN0b3JlSW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdG9yZURpdik7CgogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnN0b3JlSWQgPT09ICdwbGF0aW1hcmtldCcgJiYgaXRlbS5zZWxsZXJJZCAmJiBpdGVtLnNlbGxlck5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsbGVyTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay5jbGFzc05hbWUgPSAnc20tc2VsbGVyLWxpbmsnOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLnRleHRDb250ZW50ID0gYNCf0YDQvtC00LDQstC10YY6ICR7aXRlbS5zZWxsZXJOYW1lfWA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxlckxpbmsudGl0bGUgPSBg0J/QtdGA0LXQudGC0Lgg0Log0L/RgNC+0LTQsNCy0YbRgzogJHtpdGVtLnNlbGxlck5hbWV9YDsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVTZWxsZXJOYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW0uc2VsbGVyTmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9cLS5+XS9nLCAnLScpKS5yZXBsYWNlKC8lMkYvZywgJy8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxlckxpbmsuaHJlZiA9IGBodHRwczovL3BsYXRpLm1hcmtldC9zZWxsZXIvJHtzYWZlU2VsbGVyTmFtZX0vJHtpdGVtLnNlbGxlcklkfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLnRhcmdldCA9ICdfYmxhbmsnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay5yZWwgPSAnbm9vcGVuZXIgbm9yZWZlcnJlciBub2ZvbGxvdyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLm9uY2xpY2sgPSAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJbmZvQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGxlckxpbmspOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsbGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBzZWxsZXJUZXh0LmNsYXNzTmFtZSA9ICdzbS1zZWxsZXItbGluayBuby1saW5rJzsgc2VsbGVyVGV4dC50ZXh0Q29udGVudCA9IGDQn9GA0L7QtNCw0LLQtdGGOiAke2l0ZW0uc2VsbGVyTmFtZX1gOyBzdG9yZUluZm9Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VsbGVyVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RvcmVJZCA9PT0gJ2dnc2VsJyAmJiBpdGVtLnNlbGxlcklkICYmIGl0ZW0uc2VsbGVyTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxsZXJMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLmNsYXNzTmFtZSA9ICdzbS1zZWxsZXItbGluayc7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxlckxpbmsudGV4dENvbnRlbnQgPSBg0J/RgNC+0LTQsNCy0LXRhjogJHtpdGVtLnNlbGxlck5hbWV9YDsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay50aXRsZSA9IGDQn9C10YDQtdC50YLQuCDQuiDQv9GA0L7QtNCw0LLRhtGDOiAke2l0ZW0uc2VsbGVyTmFtZX1gOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLmhyZWYgPSBgaHR0cHM6Ly9nZ3NlbC5uZXQvc2VsbGVycy8ke2l0ZW0uc2VsbGVySWR9YDsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay50YXJnZXQgPSAnX2JsYW5rJzsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay5yZWwgPSAnbm9vcGVuZXIgbm9yZWZlcnJlciBub2ZvbGxvdyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxlckxpbmsub25jbGljayA9IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH07CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxsZXJMaW5rKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGluay5hcHBlbmRDaGlsZChzdG9yZUluZm9Db250YWluZXIpOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBidXlCdXR0b25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBidXlCdXR0b25EaXYuY2xhc3NOYW1lID0gJ3NtLWJ1eUJ1dHRvbic7CiAgICAgICAgICAgICAgICAgICAgYnV5QnV0dG9uRGl2LnRleHRDb250ZW50ID0gJ9Cf0LXRgNC10LnRgtC4JzsKICAgICAgICAgICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKGJ1eUJ1dHRvbkRpdik7CgogICAgICAgICAgICAgICAgICAgIGl0ZW1EaXYuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoaXRlbURpdik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBzbV9yZXN1bHRzRGl2LmFwcGVuZENoaWxkKGZyYWdtZW50KTsKICAgICAgICAgICAgICAgIHNtX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAtLS0g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQvdC+0L/QutC4IFNhbGVzTWFzdGVyIC0tLQogICAgICAgICAgICBmdW5jdGlvbiBzbV9hZGRTYWxlc01hc3RlckJ1dHRvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcXVldWVBY3Rpb25zQ3RuJyk7CiAgICAgICAgICAgICAgICAvLyDQmNGJ0LXQvCDQutC90L7Qv9C60YMgUGxhdGkg0LrQsNC6INC+0YDQuNC10L3RgtC40YAKICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZUJ1dHRvbiA9IGFjdGlvbnNDb250YWluZXI/LnF1ZXJ5U2VsZWN0b3IoJy5wbGF0aV9wcmljZV9idXR0b24sIC52Z3RfcHJpY2VfYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBjb25zdCBpZ25vcmVCdXR0b25Db250YWluZXIgPSBhY3Rpb25zQ29udGFpbmVyPy5xdWVyeVNlbGVjdG9yKCcjaWdub3JlQnRuJyk7CgogICAgICAgICAgICAgICAgaWYgKCFhY3Rpb25zQ29udGFpbmVyIHx8ICghcmVmZXJlbmNlQnV0dG9uICYmICFpZ25vcmVCdXR0b25Db250YWluZXIpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g0JXRgdC70Lgg0L3QtdGCINC90LggUGxhdGkg0L3QuCBJZ25vcmUsINC/0L7Qv9GA0L7QsdGD0LXQvCDQstGB0YLQsNCy0LjRgtGMINC/0YDQvtGB0YLQviDQsiBhY3Rpb25zQ29udGFpbmVyCiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3Rpb25zQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2FsZXNNYXN0ZXIgQnV0dG9uOiBDb3VsZCBub3QgZmluZCBhY3Rpb25zIGNvbnRhaW5lci4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1NhbGVzTWFzdGVyIEJ1dHRvbjogQ291bGQgbm90IGZpbmQgcmVmZXJlbmNlIGJ1dHRvbiwgYXBwZW5kaW5nIHRvIGNvbnRhaW5lci4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChhY3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zYWxlc01hc3Rlcl9idXR0b24nKSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IHNtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBzbUNvbnRhaW5lci5jbGFzc05hbWUgPSAnc2FsZXNNYXN0ZXJfYnV0dG9uIHF1ZXVlX2NvbnRyb2xfYnV0dG9uJzsKICAgICAgICAgICAgICAgIHNtQ29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnM3B4JzsKCiAgICAgICAgICAgICAgICBzbUNvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz0iYnRudjZfYmx1ZV9ob3ZlcmZhZGUgYnRuX21lZGl1bSIgc3R5bGU9ImhlaWdodDogMzJweDsgcGFkZGluZzogMCA1cHg7IGZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IiB0aXRsZT0i0J/QvtC40YHQuiDRgdC60LjQtNC+0Log0LIg0LTRgNGD0LPQuNGFINC80LDQs9Cw0LfQuNC90LDRhSI+PHNwYW4+JTwvc3Bhbj48L2Rpdj5gOwogICAgICAgICAgICAgICAgc21Db250YWluZXIucXVlcnlTZWxlY3RvcignZGl2JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgIHNtX3Nob3dNb2RhbCgpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8g0JvQvtCz0LjQutCwINCy0YHRgtCw0LLQutC4OiDQv9C+0YHQu9C1IFBsYXRpLCDQuNC70Lgg0L/QvtGB0LvQtSBJZ25vcmUsINC40LvQuCDQsiDQutC+0L3QtdGGIGFjdGlvbnNDb250YWluZXIKICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2VCdXR0b24pIHsKICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VCdXR0b24uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNtQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWdub3JlQnV0dG9uQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgaWdub3JlQnV0dG9uQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBzbUNvbnRhaW5lcik7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbnNDb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHNtQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCh0YLQuNC70LggU2FsZXNNYXN0ZXIgLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIHNtX2FkZFN0eWxlcygpIHsKICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgICNzYWxlc01hc3Rlck1vZGFsIHsKICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAJdG9wOiAwOwogICAgICAgICAgICAgICAgCWxlZnQ6IDA7CiAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjAsIDIwLCAyNSwgMC45KTsKICAgICAgICAgICAgICAgIAliYWNrZHJvcC1maWx0ZXI6IGJsdXIoM3B4KTsKICAgICAgICAgICAgICAgIAl6LWluZGV4OiA5OTk5OwogICAgICAgICAgICAgICAgCWRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAJZm9udC1mYW1pbHk6ICJNb3RpdmEgU2FucyIsIFNhbnMtc2VyaWYsIEFyaWFsOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3Rlck1vZGFsICogewogICAgICAgICAgICAgICAgCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgIAlwYWRkaW5nLXRvcDogMDsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckNsb3NlQnRuIHsKICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAJdG9wOiAxNXB4OwogICAgICAgICAgICAgICAgCXJpZ2h0OiAyMHB4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMzVweDsKICAgICAgICAgICAgICAgIAljb2xvcjogI2FhYTsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICAJei1pbmRleDogMTAwMDI7CiAgICAgICAgICAgICAgICAJcGFkZGluZzogNXB4OwogICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGNvbG9yIDAuMnMsIHRyYW5zZm9ybSAwLjJzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckNsb3NlQnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgIAljb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgIAl0cmFuc2Zvcm06IHNjYWxlKDEuMSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogLS0tINCo0LDQv9C60LAgLS0tICovCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJIZWFkZXIgewogICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgIAlnYXA6IDEwcHg7CiAgICAgICAgICAgICAgICAJZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICAgICAgCXBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIAl6LWluZGV4OiAxMDAxOwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjcsIDQwLCA1NiwgMC45NSk7CiAgICAgICAgICAgICAgICAJYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCk7CiAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweCAxNXB4OwogICAgICAgICAgICAgICAgCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjM2E0ZjZhOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDA7CiAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDA7CiAgICAgICAgICAgICAgICAJbWFyZ2luLXJpZ2h0OiAwOwogICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IHBhZGRpbmctbGVmdCAwLjJzIGVhc2Utb3V0LCBwYWRkaW5nLXJpZ2h0IDAuMnMgZWFzZS1vdXQ7CiAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVySGVhZGVyU3RhdHVzIHsKICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIAljb2xvcjogI2FhYTsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAwIDEwcHggMCAwOwogICAgICAgICAgICAgICAgCXdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgIAl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwogICAgICAgICAgICAgICAgCW1pbi1oZWlnaHQ6IDM2cHg7CiAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVySGVhZGVyU3RhdHVzIC5zcGlubmVyIHsKICAgICAgICAgICAgICAgIAltYXJnaW4tbGVmdDogOHB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzbVRpdGxlRmlsdGVySW5wdXQgewogICAgICAgICAgICAgICAgCXdpZHRoOiAyNTBweDsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IDM2cHg7CiAgICAgICAgICAgICAgICAJcGFkZGluZzogNnB4IDEycHg7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAsIDEwLCAxNSwgMC43KTsKICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjM2E0ZjZhOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIAlvdXRsaW5lOiBub25lOwogICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc21UaXRsZUZpbHRlcklucHV0OmZvY3VzIHsKICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzbVRpdGxlRmlsdGVySW5wdXQ6OnBsYWNlaG9sZGVyIHsKICAgICAgICAgICAgICAgIAljb2xvcjogIzc3NzsKICAgICAgICAgICAgICAgIAlmb250LXN0eWxlOiBpdGFsaWM7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUluc2VydFRpdGxlQnRuIHsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAwIDEwcHg7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlclNvcnRCdXR0b25zIHsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWdhcDogNXB4OwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogLS0tINCa0L3QvtC/0LrQuCAtLS0gKi8KICAgICAgICAgICAgICAgIC5zYWxlc01hc3RlckJ0biB7CiAgICAgICAgICAgICAgICAJcGFkZGluZzogMCAxMnB4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjNGI2ZjljOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAJd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IDM2cHg7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogaW5saW5lLWZsZXg7CiAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCA3MSwgOTQsIDAuOCk7CiAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzLCBib3JkZXItY29sb3IgMC4yczsKICAgICAgICAgICAgICAgIAl0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3RlckJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgMTAzLCAxMzMsIDAuOSk7CiAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3RlckJ0bjpkaXNhYmxlZCB7CiAgICAgICAgICAgICAgICAJb3BhY2l0eTogMC42OwogICAgICAgICAgICAgICAgCWN1cnNvcjogZGVmYXVsdDsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCA3MSwgOTQsIDAuNSk7CiAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjM2E0ZjZhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlclNlYXJjaEdvQnRuIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDc3LCAxMzYsIDI1NSwgMC44KTsKICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6ICM0RDg4RkY7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyU2VhcmNoR29CdG46aG92ZXI6bm90KDpkaXNhYmxlZCkgewogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDEwMiwgMjA0LCAwLjkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3RlckJ0bi5zb3J0QnRuLmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxMjMsIDI1NSwgMC44KTsKICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6ICMwMDdiZmY7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNhbGVzTWFzdGVyQnRuLnNvcnRCdG4uYWN0aXZlOmhvdmVyIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDg2LCAxNzksIDAuOSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNvcnRCdG4gc3BhbiB7CiAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyUmVzZXRTb3J0QnRuIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExOSwgMTE5LCAxMTksIDAuOCk7CiAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNzc3OwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDAgOHB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlclJlc2V0U29ydEJ0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzYsIDEzNiwgMTM2LCAwLjkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlclJlc2V0U29ydEJ0biBzdmcgewogICAgICAgICAgICAgICAgCXdpZHRoOiAxNHB4OwogICAgICAgICAgICAgICAgCWhlaWdodDogMTRweDsKICAgICAgICAgICAgICAgIAlmaWxsOiBjdXJyZW50Q29sb3I7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyUmVzZXRTb3J0QnRuLmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxMjMsIDI1NSwgMC44KTsKICAgICAgICAgICAgICAgIAlib3JkZXItY29sb3I6ICMwMDdiZmY7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogLS0tINCR0L7QutC+0LLRi9C1INC/0LDQvdC10LvQuCAoItC/0LvQsNCy0LDRjtGJ0LjQtSIpIC0tLSAqLwogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRmlsdGVyc1BhbmVsLAogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRXhjbHVzaW9uVGFncyB7CiAgICAgICAgICAgICAgICAJcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgCXRvcDogNjBweDsKICAgICAgICAgICAgICAgIAltYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gODBweCk7CiAgICAgICAgICAgICAgICAJb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgIAl6LWluZGV4OiAxMDAwOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgICAgICAJc2Nyb2xsYmFyLXdpZHRoOiB0aGluOwogICAgICAgICAgICAgICAgCXNjcm9sbGJhci1jb2xvcjogIzU1NSAjMmEyYTMwOwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgICAgICAgICAgCWJhY2tkcm9wLWZpbHRlcjogbm9uZTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogbm9uZTsKICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogdG9wIDAuMnMgZWFzZS1pbi1vdXQsIG1heC1oZWlnaHQgMC4ycyBlYXNlLWluLW91dDsKICAgICAgICAgICAgICAgIAl2aXNpYmlsaXR5OiBoaWRkZW47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRmlsdGVyc1BhbmVsOjpiZWZvcmUsCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJFeGNsdXNpb25UYWdzOjpiZWZvcmUgewogICAgICAgICAgICAgICAgCWNvbnRlbnQ6ICcnOwogICAgICAgICAgICAgICAgCXBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIAl0b3A6IDA7CiAgICAgICAgICAgICAgICAJbGVmdDogMDsKICAgICAgICAgICAgICAgIAlyaWdodDogMDsKICAgICAgICAgICAgICAgIAlib3R0b206IDA7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMywgMjYsIDMzLCAwLjg1KTsKICAgICAgICAgICAgICAgIAliYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAJei1pbmRleDogLTE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRmlsdGVyc1BhbmVsOjotd2Via2l0LXNjcm9sbGJhciwKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckV4Y2x1c2lvblRhZ3M6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICAgICAgICAgIAl3aWR0aDogNXB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckZpbHRlcnNQYW5lbDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2ssCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJFeGNsdXNpb25UYWdzOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogcmdiYSg0MiwgNDIsIDQ4LCAwLjUpOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJGaWx0ZXJzUGFuZWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iLAogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRXhjbHVzaW9uVGFnczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoODUsIDg1LCA4NSwgMC43KTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRmlsdGVyc1BhbmVsIHsKICAgICAgICAgICAgICAgIAlsZWZ0OiAxNXB4OwogICAgICAgICAgICAgICAgCXdpZHRoOiAyNDBweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJFeGNsdXNpb25UYWdzIHsKICAgICAgICAgICAgICAgIAlyaWdodDogMTVweDsKICAgICAgICAgICAgICAgIAl3aWR0aDogMjYwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRmlsdGVyR3JvdXAgewogICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRmlsdGVyR3JvdXAgaDQgewogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgICAgICAgIAljb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgICAgCXBhZGRpbmctYm90dG9tOiA1cHg7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICAgICAgCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjM2E0ZjZhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUZpbHRlclJlc2V0QnRuIHsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAJY29sb3I6ICM4Zjk4YTA7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogbm9uZTsKICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDAgM3B4OwogICAgICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUZpbHRlclJlc2V0QnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21GaWx0ZXJSZXNldEJ0biBzdmcgewogICAgICAgICAgICAgICAgCXdpZHRoOiAxNHB4OwogICAgICAgICAgICAgICAgCWhlaWdodDogMTRweDsKICAgICAgICAgICAgICAgIAl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgICAgICAgICAgCWZpbGw6IGN1cnJlbnRDb2xvcjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21GaWx0ZXJSYW5nZUlucHV0cyB7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIAlnYXA6IDhweDsKICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUZpbHRlclJhbmdlSW5wdXRzIGlucHV0W3R5cGU9Im51bWJlciJdIHsKICAgICAgICAgICAgICAgIAl3aWR0aDogY2FsYyg1MCUgLSA0cHgpOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDhweCAxMHB4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwLCAxMCwgMTUsIDAuNyk7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzNhNGY2YTsKICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAJaGVpZ2h0OiAzNHB4OwogICAgICAgICAgICAgICAgCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgIAktbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDsKICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgICAgICAgICAgICAgCW91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRmlsdGVyUmFuZ2VJbnB1dHMgaW5wdXRbdHlwZT0ibnVtYmVyIl06Zm9jdXMgewogICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRmlsdGVyUmFuZ2VJbnB1dHMgaW5wdXRbdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24sCiAgICAgICAgICAgICAgICAuc21GaWx0ZXJSYW5nZUlucHV0cyBpbnB1dFt0eXBlPSJudW1iZXIiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7CiAgICAgICAgICAgICAgICAJLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogICAgICAgICAgICAgICAgCW1hcmdpbjogMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21GaWx0ZXJSYW5nZUlucHV0cyBpbnB1dFt0eXBlPSJudW1iZXIiXTo6cGxhY2Vob2xkZXIgewogICAgICAgICAgICAgICAgCWNvbG9yOiAjNzc3OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRmlsdGVyQ2hlY2tib3ggewogICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRmlsdGVyQ2hlY2tib3ggbGFiZWwgewogICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUZpbHRlckNoZWNrYm94IGlucHV0W3R5cGU9ImNoZWNrYm94Il0gewogICAgICAgICAgICAgICAgCW1hcmdpbi1yaWdodDogOHB4OwogICAgICAgICAgICAgICAgCXdpZHRoOiAxOHB4OwogICAgICAgICAgICAgICAgCWhlaWdodDogMThweDsKICAgICAgICAgICAgICAgIAlhY2NlbnQtY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUZpbHRlckNoZWNrYm94LnNtLXN0b3JlLWVycm9yIGxhYmVsIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEzOSwgMCwgMCwgMC4zNSk7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDEwMCwgMTAwLCAwLjMpOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxcHggNHB4OwogICAgICAgICAgICAgICAgCW1hcmdpbjogLTFweCAtNHB4OwogICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICNzbUZpbHRlclN0b3JlQ2hlY2tib3hlcyB7CiAgICAgICAgICAgICAgICAJbWF4LWhlaWdodDogMzE1cHg7CiAgICAgICAgICAgICAgICAJcGFkZGluZy1yaWdodDogNXB4OwogICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NtUmVzZXRBbGxGaWx0ZXJzQnRuIHsKICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxNXB4OwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDEwcHggMTVweDsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IGF1dG87CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMTA4LCAxMTcsIDEyNSwgMC42KTsKICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjNWE2MjY4OwogICAgICAgICAgICAgICAgCXRleHQtc2hhZG93OiAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuNCk7CiAgICAgICAgICAgICAgICAJY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NtUmVzZXRBbGxGaWx0ZXJzQnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkwLCA5OCwgMTA0LCAwLjgpOwogICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21FeGNsdXNpb25JbnB1dEdyb3VwIHsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBzdHJldGNoOwogICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICMzYTRmNmE7CiAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAsIDEwLCAxNSwgMC43KTsKICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgCWhlaWdodDogMzZweDsKICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyRXhjbHVkZUlucHV0IHsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA2cHggMTJweDsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiBub25lOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgCW91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogMDsKICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAJd2lkdGg6IGF1dG87CiAgICAgICAgICAgICAgICAJaGVpZ2h0OiBhdXRvOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckV4Y2x1ZGVJbnB1dDpmb2N1cyB7CiAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogbm9uZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJBZGRFeGNsdWRlQnRuIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDM2cHg7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjM2E0ZjZhOwogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJBZGRFeGNsdWRlQnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgCWNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckFkZEV4Y2x1ZGVCdG4gc3ZnIHsKICAgICAgICAgICAgICAgIAl3aWR0aDogMTZweDsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IDE2cHg7CiAgICAgICAgICAgICAgICAJZmlsbDogY3VycmVudENvbG9yOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckV4Y2x1c2lvblRhZ3NMaXN0IHsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgICAgICAgICAJZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICAgICAgCWFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICAgICAgICAgICAgICAJZ2FwOiAxMHB4OwogICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAJZmxleC1ncm93OiAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUV4Y2x1c2lvblRhZyB7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoNzUsIDExMSwgMTU2LCAwLjcpOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDZweCAxMnB4OwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzRiNmY5YzsKICAgICAgICAgICAgICAgIAl3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAgICAgCXRleHQtc2hhZG93OiAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtRXhjbHVzaW9uVGFnOmhvdmVyIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjgpOwogICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogcmdiYSgyNTUsIDgwLCA5MCwgMC45KTsKICAgICAgICAgICAgICAgIAljb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21FeGNsdXNpb25UYWc6OmFmdGVyIHsKICAgICAgICAgICAgICAgIAljb250ZW50OiAnIMOXJzsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgIAltYXJnaW4tbGVmdDogNHB4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21FeGNsdXNpb25BY3Rpb25zIHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICAgICAgICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjM2E0ZjZhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbUV4Y2x1c2lvbkFjdGlvbkJ0biB7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCA4cHg7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MHB4OwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzUsIDExMSwgMTU2LCAwLjcpOwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NtSW1wb3J0TW9kYWwgewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpOwogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwMDAzOwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21JbXBvcnRNb2RhbENvbnRlbnQgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjVweDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogOTAlOwogICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtSW1wb3J0TW9kYWxDb250ZW50IGg0IHsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAwOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAuc21JbXBvcnRNb2RhbENvbnRlbnQgcCB7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNjNmQ0ZGY7CiAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzbUltcG9ydFRleHRhcmVhIHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwLCAxMCwgMTUsIDAuNyk7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzNhNGY2YTsKICAgICAgICAgICAgICAgIAljb2xvcjogI2M2ZDRkZjsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDBweDsKICAgICAgICAgICAgICAgICAgICByZXNpemU6IHZlcnRpY2FsOwogICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAjc21JbXBvcnRUZXh0YXJlYTpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAuc21JbXBvcnRNb2RhbEFjdGlvbnMgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICAgICAgICAgICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIC5zbUltcG9ydE1vZGFsQWN0aW9ucyAuc2FsZXNNYXN0ZXJCdG4gewogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCAyMHB4OwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bzsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzbUltcG9ydEFjY2VwdEJ0biB7CiAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzcsIDEzNiwgMjU1LCAwLjgpOwogICAgICAgICAgICAgICAgCSBib3JkZXItY29sb3I6ICM0RDg4RkY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAjc21JbXBvcnRBY2NlcHRCdG46aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDEwMiwgMjA0LCAwLjkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgI3NtSW1wb3J0Q2FuY2VsQnRuIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwOCwgMTE3LCAxMjUsIDAuNik7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzVhNjI2ODsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAjc21JbXBvcnRDYW5jZWxCdG46aG92ZXIgewogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoOTAsIDk4LCAxMDQsIDAuOCk7CiAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlckV4Y2x1c2lvblRhZ3NMaXN0IHsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAwOwogICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAvKiAtLS0g0JrQvtC90YLQtdC50L3QtdGAINC4INGB0YLQsNGC0YPRgSDRgNC10LfRg9C70YzRgtCw0YLQvtCyIC0tLSAqLwogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyUmVzdWx0c0NvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgCWZsZXgtZ3JvdzogMTsKICAgICAgICAgICAgICAgIAlwYWRkaW5nLXRvcDogMTVweDsKICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBwYWRkaW5nLWxlZnQgMC4ycyBlYXNlLW91dCwgcGFkZGluZy1yaWdodCAwLjJzIGVhc2Utb3V0OwogICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAJc2Nyb2xsYmFyLWNvbG9yOiAjNGI2ZjljICMxNzIwMmQ7CiAgICAgICAgICAgICAgICAJc2Nyb2xsYmFyLXdpZHRoOiB0aGluOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlclJlc3VsdHNDb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICAgICAgICAgIAl3aWR0aDogOHB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNzYWxlc01hc3RlclJlc3VsdHNDb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiAjMTcyMDJkOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJSZXN1bHRzQ29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAycHggc29saWQgIzE3MjAyZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJSZXN1bHRzQ29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjc2FsZXNNYXN0ZXJSZXN1bHRzU3RhdHVzIHsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgI3NhbGVzTWFzdGVyUmVzdWx0cyB7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgICAgIAlncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyMzBweCwgMWZyKSk7CiAgICAgICAgICAgICAgICAJZ2FwOiAyMHB4OwogICAgICAgICAgICAgICAgCXBhZGRpbmctdG9wOiAxNXB4OwogICAgICAgICAgICAgICAgCXBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8qIC0tLSDQmtC70LDRgdGBINC00LvRjyDRgdC60YDRi9GC0LjRjyDQv9C+INGE0LjQu9GM0YLRgNGDINC90LDQt9Cy0LDQvdC40LkgLS0tICovCiAgICAgICAgICAgICAgICAuc2FsZXNNYXN0ZXJJdGVtLmhpZGRlbi1ieS1maWx0ZXIgewogICAgICAgICAgICAgICAgCWRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvKiAtLS0g0JrQsNGA0YLQvtGH0LrQsCDRgtC+0LLQsNGA0LAgLS0tICovCiAgICAgICAgICAgICAgICAuc2FsZXNNYXN0ZXJJdGVtIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCA0NiwgNTEsIDAuODUpOwogICAgICAgICAgICAgICAgCWJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpOwogICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlLCBib3gtc2hhZG93IDAuMnMgZWFzZSwgYm9yZGVyLWNvbG9yIDAuMnMgZWFzZSwgYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2U7CiAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNCk7CiAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgCWNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIAltaW4taGVpZ2h0OiAzODBweDsKICAgICAgICAgICAgICAgIAlib3JkZXI6IDFweCBzb2xpZCAjMzMzOTQxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3Rlckl0ZW06aG92ZXIgewogICAgICAgICAgICAgICAgCXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTsKICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDZweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUwLCA1NSwgNjEsIDAuOSk7CiAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3Rlckl0ZW0gYSB7CiAgICAgICAgICAgICAgICAJdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAgICAgCWNvbG9yOiBpbmhlcml0OwogICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogLS0tINCh0YLQuNC70Lgg0LTQu9GPINCy0YvQtNC10LvQtdC90LjRjyDQv9GA0LXQtNC70L7QttC10L3QuNC5INGB0L4g0YHRgtGA0LDQvdC40YbRiyBTdGVhbSAtLS0gKi8KICAgICAgICAgICAgICAgIC5zYWxlc01hc3Rlckl0ZW0uc3RlYW0tcGFnZS1vZmZlciB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIwMmMyNDsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMzU0ZjNhOwogICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2UsIGJveC1zaGFkb3cgMC4ycyBlYXNlLCBib3JkZXItY29sb3IgMC4ycyBlYXNlLCBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvKiDQmtC90L7Qv9C60LAg0LIg0L/RgNC40LPQu9GD0YjQtdC90L3QvtC8INC30LXQu9C10L3QvtC8INGB0YLQuNC70LUsINC/0L7RhdC+0LbQtdC8INC90LAg0YHRgtCw0L3QtNCw0YDRgtC90YPRjiDRgdC40L3RjtGOICovCiAgICAgICAgICAgICAgICAuc2FsZXNNYXN0ZXJJdGVtLnN0ZWFtLXBhZ2Utb2ZmZXIgLnNtLWJ1eUJ1dHRvbiB7CiAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1YzlkNGY7CiAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMWEyZjFmOwogICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycywgY29sb3IgMC4yczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAuc2FsZXNNYXN0ZXJJdGVtLnN0ZWFtLXBhZ2Utb2ZmZXIgLnNtLWJ1eUJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZWJmNWY7CiAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMGYxYTBmOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3Rlckl0ZW0uc3RlYW0tcGFnZS1vZmZlcjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMwNDAzNTsKICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICM0YTc4NGQ7CiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogICAgICAgICAgICAgICAgfQoKCgogICAgICAgICAgICAgICAgLnNtLWNhcmQtaW1hZ2Utd3JhcHBlciB7CiAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgCWFzcGVjdC1yYXRpbzogMTYgLyA5OwogICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEycHg7CiAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzExMTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzMzMzk0MTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc20tY2FyZC1pbWFnZS13cmFwcGVyIGltZyB7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAJbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgCW1heC1oZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAJd2lkdGg6IGF1dG87CiAgICAgICAgICAgICAgICAJaGVpZ2h0OiBhdXRvOwogICAgICAgICAgICAgICAgCW9iamVjdC1maXQ6IGNvbnRhaW47CiAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbS1wcmljZS1jb250YWluZXIgewogICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAJZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBiYXNlbGluZTsKICAgICAgICAgICAgICAgIAlnYXA6IDVweCAxMHB4OwogICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgICAJbWluLWhlaWdodDogMjZweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc20tY3VycmVudC1wcmljZSB7CiAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgICAgICAJY29sb3I6ICM2NmMwZjQ7CiAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtLW9yaWdpbmFsLXByaWNlIHsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAJY29sb3I6ICM4Zjk4YTA7CiAgICAgICAgICAgICAgICAJdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7CiAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNtLWRpc2NvdW50LWJhZGdlIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjZTIwMDRiOwogICAgICAgICAgICAgICAgCWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAzcHggN3B4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgICAgIAlsaW5lLWhlaWdodDogMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc20tdGl0bGUgewogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxLjQ7CiAgICAgICAgICAgICAgICAJaGVpZ2h0OiA0LjJlbTsKICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgCXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgICAJY29sb3I6ICNlNWU1ZTU7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogLXdlYmtpdC1ib3g7CiAgICAgICAgICAgICAgICAJLXdlYmtpdC1saW5lLWNsYW1wOiAzOwogICAgICAgICAgICAgICAgCS13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogLS0tINCa0L7QvdGC0LXQudC90LXRgCDQtNC70Y8g0LzQsNCz0LDQt9C40L3QsC/Qv9GA0L7QtNCw0LLRhtCwIC0tLSAqLwogICAgICAgICAgICAgICAgLnNtLXN0b3JlLWluZm8tY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiBhdXRvOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7CiAgICAgICAgICAgICAgICAgICAgZ2FwOiAzcHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyogLS0tINCh0YLQuNC70Ywg0L3QsNC30LLQsNC90LjRjyDQvNCw0LPQsNC30LjQvdCwIC0tLSAqLwogICAgICAgICAgICAgICAgLnNtLXN0b3JlLW5hbWUgewogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzhmOThhMDsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvKiAtLS0g0KHRgtC40LvQuCDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0LLRi9Cx0L7RgNC+0Lwg0LzQsNCz0LDQt9C40L3QvtCyIC0tLSAqLwogICAgICAgICAgICAgICAgLnNtU3RvcmVTZWxlY3RBbGxDb250cm9scyB7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogLTVweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctdG9wOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzYTRmNmE7CiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbVN0b3JlU2VsZWN0QWxsTGluayB7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4yczsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDVweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc21TdG9yZVNlbGVjdEFsbExpbms6aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zbVN0b3JlU2VsZWN0U2VwYXJhdG9yIHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzVhNjI2ODsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgM3B4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvKiAtLS0g0KHRgtC40LvRjCDRgdGB0YvQu9C60Lgg0L/RgNC+0LTQsNCy0YbQsCAtLS0gKi8KICAgICAgICAgICAgICAgIC5zbS1zZWxsZXItbGluayB7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjOGY5OGEwOwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4yczsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgLnNtLXNlbGxlci1saW5rOm5vdCgubm8tbGluayk6aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjYzZkNGRmOwogICAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc20tYnV5QnV0dG9uIHsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweDsKICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiAxMnB4OwogICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM2N2MxZjU7CiAgICAgICAgICAgICAgICAJY29sb3I6ICMxYjI4Mzg7CiAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycywgY29sb3IgMC4yczsKICAgICAgICAgICAgICAgIAltYXJnaW4tdG9wOiBhdXRvOwogICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAuc20tYnV5QnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjOGFkM2Y3OwogICAgICAgICAgICAgICAgCWNvbG9yOiAjMGUxNDFiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8qIC0tLSDQkNC00LDQv9GC0LjQstC90L7RgdGC0YwgU00gLS0tICovCiAgICAgICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMTQwMHB4KSB7CiAgICAgICAgICAgICAgICAJI3NhbGVzTWFzdGVyUmVzdWx0cyB7CiAgICAgICAgICAgICAgICAJCWdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDIxMHB4LCAxZnIpKTsKICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDExMDBweCkgewogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlclJlc3VsdHMgewogICAgICAgICAgICAgICAgCQlncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyMDBweCwgMWZyKSk7CiAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgIAkjc21UaXRsZUZpbHRlcklucHV0IHsKICAgICAgICAgICAgICAgIAkJbWF4LXdpZHRoOiAyMDBweDsKICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDg1MHB4KSB7CgogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlckZpbHRlcnNQYW5lbCwKICAgICAgICAgICAgICAgIAkjc2FsZXNNYXN0ZXJFeGNsdXNpb25UYWdzIHsKICAgICAgICAgICAgICAgIAkJZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlckhlYWRlciwKICAgICAgICAgICAgICAgIAkjc2FsZXNNYXN0ZXJSZXN1bHRzQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgIAkJcGFkZGluZy1sZWZ0OiAxNXB4OwogICAgICAgICAgICAgICAgCQlwYWRkaW5nLXJpZ2h0OiAxNXB4OwogICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAJI3NhbGVzTWFzdGVyUmVzdWx0cyB7CiAgICAgICAgICAgICAgICAJCWdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDE4MHB4LCAxZnIpKTsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlckhlYWRlciB7CiAgICAgICAgICAgICAgICAJCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCSNzbVRpdGxlRmlsdGVySW5wdXQgewogICAgICAgICAgICAgICAgCQltYXgtd2lkdGg6IDE4MHB4OwogICAgICAgICAgICAgICAgCQltYXJnaW4tbGVmdDogNXB4OwogICAgICAgICAgICAgICAgCQltYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCS5zbUluc2VydFRpdGxlQnRuIHsKICAgICAgICAgICAgICAgIAkJZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlckNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAJCXdpZHRoOiA5NSU7CiAgICAgICAgICAgICAgICAJCW1hcmdpbjogMTBweCBhdXRvOwogICAgICAgICAgICAgICAgCQltaW4taGVpZ2h0OiBjYWxjKDEwMHZoIC0gMjBweCk7CiAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgIAkjc2FsZXNNYXN0ZXJIZWFkZXIgewogICAgICAgICAgICAgICAgCQlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgCQlhbGlnbi1pdGVtczogc3RyZXRjaDsKICAgICAgICAgICAgICAgIAkJcGFkZGluZy1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlckhlYWRlclN0YXR1cyB7CiAgICAgICAgICAgICAgICAJCW9yZGVyOiAtMjsKICAgICAgICAgICAgICAgIAkJbWluLWhlaWdodDogMjVweDsKICAgICAgICAgICAgICAgIAkJcGFkZGluZzogNXB4IDA7CiAgICAgICAgICAgICAgICAJCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgIAkJbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgCQl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAJCWp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgCQltYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgIAkjc21UaXRsZUZpbHRlcklucHV0IHsKICAgICAgICAgICAgICAgIAkJb3JkZXI6IC0xOwogICAgICAgICAgICAgICAgCQltYXgtd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAJCW1hcmdpbjogMCAwIDEwcHggMDsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCS5zbUluc2VydFRpdGxlQnRuIHsKICAgICAgICAgICAgICAgIAkJZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAJCW9yZGVyOiAtMTsKICAgICAgICAgICAgICAgIAkJbWFyZ2luOiAwIDAgNXB4IDA7CiAgICAgICAgICAgICAgICAJCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAJLyog0J/QvtC60LDQt9GL0LLQsNC10Lwg0LrQvdC+0L/QutGDINC/0L7QtNGB0YLQsNC90L7QstC60Lgg0Lgg0LTQtdC70LDQtdC8INC90LAg0LLRgdGOINGI0LjRgNC40L3RgyAqLwogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlclNvcnRCdXR0b25zIHsKICAgICAgICAgICAgICAgIAkJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAJCWp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwogICAgICAgICAgICAgICAgCQltYXJnaW4tdG9wOiA1cHg7CiAgICAgICAgICAgICAgICAJCW1hcmdpbi1sZWZ0OiAwOwogICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAJLnNhbGVzTWFzdGVyQnRuIHsKICAgICAgICAgICAgICAgIAkJZmxleC1ncm93OiAxOwogICAgICAgICAgICAgICAgCQlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAJCXBhZGRpbmc6IDhweCA1cHg7CiAgICAgICAgICAgICAgICAJCWhlaWdodDogMzZweDsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCSNzYWxlc01hc3RlclJlc2V0U29ydEJ0biB7CiAgICAgICAgICAgICAgICAJCWZsZXgtZ3JvdzogMDsKICAgICAgICAgICAgICAgIAkJd2lkdGg6IGF1dG87CiAgICAgICAgICAgICAgICAJCXBhZGRpbmc6IDAgOHB4OwogICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAJI3NhbGVzTWFzdGVyUmVzdWx0cyB7CiAgICAgICAgICAgICAgICAJCWdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDE2MHB4LCAxZnIpKTsKICAgICAgICAgICAgICAgIAkJZ2FwOiAxMHB4OwogICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAJLnNhbGVzTWFzdGVySXRlbSB7CiAgICAgICAgICAgICAgICAJCW1pbi1oZWlnaHQ6IDMyMHB4OwogICAgICAgICAgICAgICAgCQlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgIAkuc20tY3VycmVudC1wcmljZSB7CiAgICAgICAgICAgICAgICAJCWZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgCS5zbS10aXRsZSB7CiAgICAgICAgICAgICAgICAJCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgIAkJaGVpZ2h0OiAzLjllbTsKICAgICAgICAgICAgICAgIAkJLXdlYmtpdC1saW5lLWNsYW1wOiAzOwogICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAJLnNtLXN0b3JlLW5hbWUgewogICAgICAgICAgICAgICAgCQlmb250LXNpemU6IDExcHg7CiAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgIAkuc20tYnV5QnV0dG9uIHsKICAgICAgICAgICAgICAgIAkJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgCQlwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8qIC0tLSDQmtC90L7Qv9C60LAgJSDQvdCwINGB0YLRgNCw0L3QuNGG0LUgLS0tICovCiAgICAgICAgICAgICAgICAuc2FsZXNNYXN0ZXJfYnV0dG9uIC5idG52Nl9ibHVlX2hvdmVyZmFkZSB7CiAgICAgICAgICAgICAgICAJbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgCXBhZGRpbmc6IDAgMTBweDsKICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGZpbHRlciAwLjJzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC5zYWxlc01hc3Rlcl9idXR0b24gLmJ0bnY2X2JsdWVfaG92ZXJmYWRlOmhvdmVyIHsKICAgICAgICAgICAgICAgIAlmaWx0ZXI6IGJyaWdodG5lc3MoMS4xKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvKiDQodC/0LjQvdC90LXRgCAqLwogICAgICAgICAgICAgICAgQGtleWZyYW1lcyBzYWxlc01hc3RlclNwaW4gewogICAgICAgICAgICAgICAgCTAlIHsKICAgICAgICAgICAgICAgIAkJdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgIAkxMDAlIHsKICAgICAgICAgICAgICAgIAkJdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLnNwaW5uZXIgewogICAgICAgICAgICAgICAgCWJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsKICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgICAgICAJYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgIAl3aWR0aDogMWVtOwogICAgICAgICAgICAgICAgCWhlaWdodDogMWVtOwogICAgICAgICAgICAgICAgCWFuaW1hdGlvbjogc2FsZXNNYXN0ZXJTcGluIDFzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgICAJdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAgICAgICAgIAltYXJnaW4tbGVmdDogNXB4OwogICAgICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBgKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCc0L7QtNGD0LvQuCDQvNCw0LPQsNC30LjQvdC+0LIgLS0tCiAgICAgICAgICAgIGNvbnN0IHNtX3N0b3JlTW9kdWxlcyA9IFsKCiAgICAgICAgICAgICAgICB7IC8vIC0tLSDQnNC+0LTRg9C70YwgU3RlYW0gLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzdGVhbV9jdXJyZW50X3BhZ2UnLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTdGVhbScsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbScsCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVXJsVGVtcGxhdGU6ICcnLAogICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24ocXVlcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVNb2R1bGUgPSB0aGlzOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5U3ltYm9sID0gc21fZ2V0Q3VycmVuY3lTeW1ib2woKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5TWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbaXRlbXByb3A9InByaWNlQ3VycmVuY3kiXScpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlQ3VycmVuY3kgPSBjdXJyZW5jeU1ldGEgPyBjdXJyZW5jeU1ldGEuY29udGVudC50b1VwcGVyQ2FzZSgpIDogJ1JVQic7CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXhjaGFuZ2VSYXRlID0gMS4wOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VDdXJyZW5jeSAhPT0gJ1JVQicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0ZXMgPSBhd2FpdCBzbV9mZXRjaEV4Y2hhbmdlUmF0ZXMocGFnZUN1cnJlbmN5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF0ZXMgJiYgcmF0ZXNbJ3J1YiddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZSA9IHBhcnNlRmxvYXQocmF0ZXNbJ3J1YiddKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGV4Y2hhbmdlUmF0ZSkgfHwgZXhjaGFuZ2VSYXRlIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGBJbnZhbGlkIGV4Y2hhbmdlIHJhdGUgZm9yICR7cGFnZUN1cnJlbmN5fSAtPiBSVUI6ICR7cmF0ZXNbJ3J1YiddfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlID0gMS4wOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYENvdWxkIG5vdCBnZXQgUlVCIHJhdGUgZm9yICR7cGFnZUN1cnJlbmN5fWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYEVycm9yIGZldGNoaW5nIGV4Y2hhbmdlIHJhdGVzIGZvciAke3BhZ2VDdXJyZW5jeX06ICR7ZXJyb3IubWVzc2FnZX1gLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckltYWdlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lSGVhZGVySW1hZ2VDdG4gaW1nLmdhbWVfaGVhZGVyX2ltYWdlX2Z1bGwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFpbkltYWdlVXJsID0gaGVhZGVySW1hZ2VFbGVtZW50ID8gaGVhZGVySW1hZ2VFbGVtZW50LnNyYyA6IG51bGw7CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXJjaGFzZVdyYXBwZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbWVfYXJlYV9wdXJjaGFzZV9nYW1lX3dyYXBwZXInKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlV3JhcHBlcnMuZm9yRWFjaCh3cmFwcGVyID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZVB1cmNoYXNlRGl2ID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuZ2FtZV9hcmVhX3B1cmNoYXNlX2dhbWUsIC5nYW1lX2FyZWFfcHVyY2hhc2VfZ2FtZV9kcm9wZG93bl9zdWJzY3JpcHRpb24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdhbWVQdXJjaGFzZURpdikgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBnYW1lUHVyY2hhc2VEaXYucXVlcnlTZWxlY3RvcignW2lkXj0iZ2FtZV9hcmVhX3B1cmNoYXNlX3NlY3Rpb25fYWRkX3RvX2NhcnRfdGl0bGVfIl0sIFtpZF49ImJ1bmRsZV9wdXJjaGFzZV9sYWJlbF8iXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0TmFtZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xlYW5lZFRleHQgPSB0aXRsZUVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbmVkVGV4dCA9IGNsZWFuZWRUZXh0LnJlcGxhY2UoL14o0JrRg9C/0LjRgtGMfEJ1eSlbXHNcdTAwQTBdKy8sICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5lZFRleHQgPSBjbGVhbmVkVGV4dC5yZXBsYWNlKC9ccyoo4oCUXHMq0J3QkNCR0J7QoHxCVU5ETEUpXHMqXChcP1wpXHMqJC8sICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWUgPSBjbGVhbmVkVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3ROYW1lKSByZXR1cm47CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UHJpY2UgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmlnaW5hbFByaWNlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzY291bnRQZXJjZW50ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2VVcmwgPSBtYWluSW1hZ2VVcmw7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlU2ltcGxlRWxlbWVudCA9IGdhbWVQdXJjaGFzZURpdi5xdWVyeVNlbGVjdG9yKCcuZ2FtZV9wdXJjaGFzZV9wcmljZS5wcmljZVtkYXRhLXByaWNlLWZpbmFsXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50QmxvY2tFbGVtZW50ID0gZ2FtZVB1cmNoYXNlRGl2LnF1ZXJ5U2VsZWN0b3IoJy5kaXNjb3VudF9ibG9jay5nYW1lX3B1cmNoYXNlX2Rpc2NvdW50Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudEJsb2NrRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFByaWNlVGV4dCA9IGRpc2NvdW50QmxvY2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaXNjb3VudF9maW5hbF9wcmljZScpPy50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZVRleHQgPSBkaXNjb3VudEJsb2NrRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGlzY291bnRfb3JpZ2luYWxfcHJpY2UnKT8udGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50UGVyY2VudFRleHQgPSBkaXNjb3VudEJsb2NrRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGlzY291bnRfcGN0Jyk/LnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhUHJpY2VGaW5hbCA9IGRpc2NvdW50QmxvY2tFbGVtZW50LmRhdGFzZXQucHJpY2VGaW5hbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YURpc2NvdW50ID0gZGlzY291bnRCbG9ja0VsZW1lbnQuZGF0YXNldC5kaXNjb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YUJ1bmRsZURpc2NvdW50ID0gZGlzY291bnRCbG9ja0VsZW1lbnQuZGF0YXNldC5idW5kbGVkaXNjb3VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbFByaWNlVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShmaW5hbFByaWNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVByaWNlRmluYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZSA9IHBhcnNlRmxvYXQoZGF0YVByaWNlRmluYWwpIC8gMTAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGN1cnJlbnRQcmljZSkpIGN1cnJlbnRQcmljZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFByaWNlVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZSA9IHNtX3BhcnNlUHJpY2Uob3JpZ2luYWxQcmljZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzY291bnRQZXJjZW50VGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50ID0gc21fcGFyc2VQZXJjZW50KGRpc2NvdW50UGVyY2VudFRleHQpIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YURpc2NvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQgPSBwYXJzZUZsb2F0KGRhdGFEaXNjb3VudCkgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2NvdW50UGVyY2VudCA9PT0gMCAmJiBkYXRhQnVuZGxlRGlzY291bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1bmRsZURpc2NvdW50VmFsID0gcGFyc2VGbG9hdChkYXRhQnVuZGxlRGlzY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1bmRsZURpc2NvdW50VmFsID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudCA9IGJ1bmRsZURpc2NvdW50VmFsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFByaWNlID09PSBudWxsICYmIGN1cnJlbnRQcmljZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlID0gY3VycmVudFByaWNlIC8gKDEgLSBkaXNjb3VudFBlcmNlbnQgLyAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaWNlU2ltcGxlRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhUHJpY2VGaW5hbCA9IHByaWNlU2ltcGxlRWxlbWVudC5kYXRhc2V0LnByaWNlRmluYWw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUHJpY2VGaW5hbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlID0gcGFyc2VGbG9hdChkYXRhUHJpY2VGaW5hbCkgLyAxMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oY3VycmVudFByaWNlKSkgY3VycmVudFByaWNlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZSA9IHNtX3BhcnNlUHJpY2UocHJpY2VTaW1wbGVFbGVtZW50LnRleHRDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlID0gY3VycmVudFByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmljZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEN1cnJlbnRQcmljZSA9IHBhcnNlRmxvYXQoKGN1cnJlbnRQcmljZSAqIGV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsT3JpZ2luYWxQcmljZSA9IG9yaWdpbmFsUHJpY2UgIT09IG51bGwgPyBwYXJzZUZsb2F0KChvcmlnaW5hbFByaWNlICogZXhjaGFuZ2VSYXRlKS50b0ZpeGVkKDIpKSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVmZmVjdGl2ZU9yaWdpbmFsUHJpY2UgPSAoZmluYWxPcmlnaW5hbFByaWNlID09PSBudWxsIHx8IGlzTmFOKGZpbmFsT3JpZ2luYWxQcmljZSkpID8gZmluYWxDdXJyZW50UHJpY2UgOiBmaW5hbE9yaWdpbmFsUHJpY2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVVcmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiB1bnNhZmVXaW5kb3cubG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogZmluYWxDdXJyZW50UHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBlZmZlY3RpdmVPcmlnaW5hbFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBkaXNjb3VudFBlcmNlbnQgPiAwID8gZGlzY291bnRQZXJjZW50IDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzbV9jYWxjdWxhdGVNaXNzaW5nVmFsdWVzKGRhdGEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGBFcnJvciBwYXJzaW5nIHB1cmNoYXNlIGJsb2NrIGZvciAiJHtwcm9kdWN0TmFtZSB8fCAndW5uYW1lZCBlbGVtZW50J30iYCwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICB7IC8vIC0tLSDQnNC+0LTRg9C70YwgU3RlYW1CdXkgLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzdGVhbWJ1eScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1N0ZWFtQnV5JywKICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9zdGVhbWJ1eS5jb20nLAogICAgICAgICAgICAgICAgICAgIHNlYXJjaFVybFRlbXBsYXRlOiAnaHR0cHM6Ly9zdGVhbWJ1eS5jb20vYWpheC9fZ2V0LnBocD9hPXNlYXJjaCZxPXtxdWVyeX0nLAogICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24ocXVlcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVXJsID0gdGhpcy5zZWFyY2hVcmxUZW1wbGF0ZS5yZXBsYWNlKCd7cXVlcnl9JywgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlYXJjaFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0LCAqLyo7IHE9MC4wMScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCAmJiByZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgdHlwZW9mIGRhdGEuaHRtbCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucGFyc2VIdG1sKGRhdGEuaHRtbCwgdGhpcykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PT0gJ2ZhbHNlJyAmJiBkYXRhLm1lc3NhZ2UgJiYgZGF0YS5tZXNzYWdlLmluY2x1ZGVzKCLQvdC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3QviIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAnZW1wdHknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgIWRhdGEuaHRtbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBBUEkg0LLQtdGA0L3Rg9C7INC90LXQvtC20LjQtNCw0L3QvdGL0Lkg0L7RgtCy0LXRgjog0KHRgtCw0YLRg9GBICR7ZGF0YS5zdGF0dXN9LCDQodC+0L7QsdGJ0LXQvdC40LU6ICR7ZGF0YS5tZXNzYWdlIHx8ICfQndC10YIg0YHQvtC+0LHRidC10L3QuNGPJ31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnJvcikgPT4gcmVqZWN0KG5ldyBFcnJvcign0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0KG5ldyBFcnJvcign0KLQsNC50LzQsNGD0YIg0LfQsNC/0YDQvtGB0LAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcnNlSHRtbDogZnVuY3Rpb24oaHRtbFN0cmluZywgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbFN0cmluZywgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcuc2VhcmNoLXJlc3VsdF9faXRlbScpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua0VsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtcmVzdWx0X19saW5rJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNlYXJjaC1yZXN1bHRfX2ltZyBpbWcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtcmVzdWx0X190aXRsZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNlYXJjaC1yZXN1bHRfX2Nvc3QnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudEVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtcmVzdWx0X19kaXNjb3VudCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IHRpdGxlRWxlbWVudD8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmxSYXcgPSBsaW5rRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2VUZXh0ID0gcHJpY2VFbGVtZW50Py5pbm5lckhUTUwucmVwbGFjZSgvPHNwYW5bXj5dKj4uKjxcL3NwYW4+L2ksICcnKS5yZXBsYWNlKCfRgCcsICcnKS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShjdXJyZW50UHJpY2VUZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NvdW50UGVyY2VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRUZXh0ID0gZGlzY291bnRFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudFRleHQgJiYgZGlzY291bnRUZXh0ICE9PSAnJm5ic3A7JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRQZXJjZW50ID0gc21fcGFyc2VQZXJjZW50KGRpc2NvdW50VGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRQZXJjZW50ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQgPSBwYXJzZWRQZXJjZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGltZ0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3ROYW1lICYmIHByb2R1Y3RVcmxSYXcgJiYgY3VycmVudFByaWNlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxQcm9kdWN0VXJsID0gcHJvZHVjdFVybFJhdy5zdGFydHNXaXRoKCcvJykgPyBzdG9yZU1vZHVsZS5iYXNlVXJsICsgcHJvZHVjdFVybFJhdyA6IHByb2R1Y3RVcmxSYXc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmwgPSBmdWxsUHJvZHVjdFVybCArICc/cGFydG5lcj0yMzQwMjknOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogY3VycmVudFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogZGlzY291bnRQZXJjZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhkYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHt9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAg0LjQtyBBSkFYIEhUTUwnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBTdGVhbUJ1eSAtLS0KCiAgICAgICAgICAgICAgICB7IC8vIC0tLSDQnNC+0LTRg9C70YwgUGxheW8gLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdwbGF5bycsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1BsYXlvJywKICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9wbGF5by5ydScsCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVXJsVGVtcGxhdGU6ICdodHRwczovL3BsYXlvLnJ1L3NlYXJjaC97cXVlcnl9Lz9zZWFyY2g9e3F1ZXJ5fScsCiAgICAgICAgICAgICAgICAgICAgaXNFbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGZldGNoOiBhc3luYyBmdW5jdGlvbihxdWVyeSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmxFbmNvZGVkUXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpLnJlcGxhY2UoLyUyMC9nLCAnKycpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoRW5jb2RlZFF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVXJsID0gdGhpcy5zZWFyY2hVcmxUZW1wbGF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3txdWVyeX0nLCBwYXRoRW5jb2RlZFF1ZXJ5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3txdWVyeX0nLCB1cmxFbmNvZGVkUXVlcnkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VhcmNoVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5wYXJzZUh0bWwocmVzcG9uc2UucmVzcG9uc2VUZXh0LCB0aGlzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnJvcikgPT4gcmVqZWN0KG5ldyBFcnJvcign0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0KG5ldyBFcnJvcign0KLQsNC50LzQsNGD0YIg0LfQsNC/0YDQvtGB0LAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcnNlSHRtbDogZnVuY3Rpb24oaHRtbFN0cmluZywgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbFN0cmluZywgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcucHJldmlld19saXN0IC5wcmV2aWV3X2l0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignYS5saW5rX3ByZXZpZXcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuaW1nX3ByZXYgaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuaW5mJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRQcmljZUVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5vbGRfcHJpY2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudFBlcmNlbnRFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZ21sc3RfZHNjbnRfbGJsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRBbW91bnRFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZ21sc3RfZHNudF92YWxfdGV4dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsUmF3ID0gbGlua0VsZW1lbnQgPyBsaW5rRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmxSYXcgPSBpbWdFbGVtZW50ID8gaW1nRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdE5hbWUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkVGl0bGUgPSB0aXRsZUVsZW1lbnQuY2xvbmVOb2RlKHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlY29ub215U3BhbiA9IGNsb25lZFRpdGxlLnF1ZXJ5U2VsZWN0b3IoJy5nbWxzdF9kc250X3ZhbF90ZXh0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlY29ub215U3BhbikgZWNvbm9teVNwYW4ucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lID0gY2xvbmVkVGl0bGUudGV4dENvbnRlbnQucmVwbGFjZSgvXHMrL2csICcgJykudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gcHJpY2VFbGVtZW50ID8gc21fcGFyc2VQcmljZShwcmljZUVsZW1lbnQudGV4dENvbnRlbnQpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gb2xkUHJpY2VFbGVtZW50ID8gc21fcGFyc2VQcmljZShvbGRQcmljZUVsZW1lbnQudGV4dENvbnRlbnQpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudFBlcmNlbnQgPSBkaXNjb3VudFBlcmNlbnRFbGVtZW50ID8gc21fcGFyc2VQZXJjZW50KGRpc2NvdW50UGVyY2VudEVsZW1lbnQudGV4dENvbnRlbnQpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudEFtb3VudCA9IGRpc2NvdW50QW1vdW50RWxlbWVudCA/IHNtX3BhcnNlUHJpY2UoZGlzY291bnRBbW91bnRFbGVtZW50LnRleHRDb250ZW50KSA6IG51bGw7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0TmFtZSAmJiBwcm9kdWN0VXJsUmF3ICYmIGN1cnJlbnRQcmljZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmdWxsUHJvZHVjdFVybCA9IHByb2R1Y3RVcmxSYXcuc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIHByb2R1Y3RVcmxSYXcgOiBwcm9kdWN0VXJsUmF3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsID0gZnVsbFByb2R1Y3RVcmwgKyAnP3M9bjNqNnkwOGYnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGltYWdlVXJsUmF3LnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBpbWFnZVVybFJhdyA6IGltYWdlVXJsUmF3OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogY3VycmVudFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogb3JpZ2luYWxQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogZGlzY291bnRQZXJjZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6IGRpc2NvdW50QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCcsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICB7IC8vIC0tLSDQnNC+0LTRg9C70YwgU3RlYW1QYXkgLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzdGVhbXBheScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1N0ZWFtUGF5JywKICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9zdGVhbXBheS5jb20nLAogICAgICAgICAgICAgICAgICAgIHNlYXJjaFVybFRlbXBsYXRlOiAnaHR0cHM6Ly9zdGVhbXBheS5jb20vc2VhcmNoP3E9e3F1ZXJ5fScsCiAgICAgICAgICAgICAgICAgICAgaXNFbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGZldGNoOiBhc3luYyBmdW5jdGlvbihxdWVyeSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hVcmwgPSB0aGlzLnNlYXJjaFVybFRlbXBsYXRlLnJlcGxhY2UoJ3txdWVyeX0nLCBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VhcmNoVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5wYXJzZUh0bWwocmVzcG9uc2UucmVzcG9uc2VUZXh0LCB0aGlzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnJvcikgPT4gcmVqZWN0KG5ldyBFcnJvcign0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0KG5ldyBFcnJvcign0KLQsNC50LzQsNGD0YIg0LfQsNC/0YDQvtGB0LAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcnNlSHRtbDogZnVuY3Rpb24oaHRtbFN0cmluZywgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbFN0cmluZywgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0YWxvZy1pdGVtJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rRWxlbWVudCA9IGl0ZW07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmNhdGFsb2ctaXRlbV9faW1nIGltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy1pdGVtX19uYW1lJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VTcGFuRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmNhdGFsb2ctaXRlbV9fcHJpY2Utc3BhbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50RWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmNhdGFsb2ctaXRlbV9fZGlzY291bnQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlVGV4dCA9IHByaWNlU3BhbkVsZW1lbnQ/LnRleHRDb250ZW50Py50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShjdXJyZW50UHJpY2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0TmFtZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWVFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVDbG9uZSA9IG5hbWVFbGVtZW50LmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5mb0RpdiA9IG5hbWVDbG9uZS5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy1pdGVtX19pbmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvRGl2KSBpbmZvRGl2LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZSA9IG5hbWVDbG9uZS50ZXh0Q29udGVudD8udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IGxpbmtFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGltZ0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnc3JjJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRQZXJjZW50ID0gZGlzY291bnRFbGVtZW50ID8gc21fcGFyc2VQZXJjZW50KGRpc2NvdW50RWxlbWVudC50ZXh0Q29udGVudCkgOiAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdE5hbWUgJiYgcHJvZHVjdFVybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVVcmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiBwcm9kdWN0VXJsLnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBwcm9kdWN0VXJsIDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybD8uc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIGltYWdlVXJsIDogaW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IGRpc2NvdW50UGVyY2VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCcsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgLy8gLS0tINCa0L7QvdC10YYg0LzQvtC00YPQu9GPIFN0ZWFtUGF5IC0tLQoKICAgICAgICAgICAgICAgIHsgLy8gLS0tINCc0L7QtNGD0LvRjCBHYWJlc3RvcmUgLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdnYWJlc3RvcmUnLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdHYWJlc3RvcmUnLAogICAgICAgICAgICAgICAgICAgIGJhc2VVcmw6ICdodHRwczovL2dhYmVzdG9yZS5ydScsCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVXJsVGVtcGxhdGU6ICdodHRwczovL2dhYmVzdG9yZS5ydS9yZXN1bHQ/UHJvZHVjdEZpbHRlciU1QnNlYXJjaCU1RD17cXVlcnl9JywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFVybCA9IHRoaXMuc2VhcmNoVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZWFyY2hVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnBhcnNlSHRtbChyZXNwb25zZS5yZXNwb25zZVRleHQsIHRoaXMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiByZWplY3QobmV3IEVycm9yKCfQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LAnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyc2VIdG1sOiBmdW5jdGlvbihodG1sU3RyaW5nLCBzdG9yZU1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sU3RyaW5nLCAndGV4dC9odG1sJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zQ29udGFpbmVyID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJy5qcy1sb2FkLWNvbnRhaW5lcicpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGl0ZW1zQ29udGFpbmVyID8gaXRlbXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNob3AtaXRlbScpIDogW107CgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lTGlua0VsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2Euc2hvcC1pdGVtX19uYW1lJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VMaW5rRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignYS5zaG9wLWl0ZW1fX2ltYWdlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGltYWdlTGlua0VsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNob3AtaXRlbV9fcHJpY2UtY3VycmVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50RWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNob3AtaXRlbV9fcHJpY2UtZGlzY291bnQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdE5hbWUgPSBuYW1lTGlua0VsZW1lbnQ/LnRleHRDb250ZW50Py50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybFJhdyA9IG5hbWVMaW5rRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgaW1hZ2VMaW5rRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBpbWdFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ3NyYycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IHByaWNlRWxlbWVudCA/IHNtX3BhcnNlUHJpY2UocHJpY2VFbGVtZW50LnRleHRDb250ZW50KSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRQZXJjZW50ID0gZGlzY291bnRFbGVtZW50ID8gc21fcGFyc2VQZXJjZW50KGRpc2NvdW50RWxlbWVudC50ZXh0Q29udGVudCkgOiAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3ROYW1lIHx8ICFwcm9kdWN0VXJsUmF3IHx8IGN1cnJlbnRQcmljZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmdWxsT3JpZ2luYWxVcmwgPSBwcm9kdWN0VXJsUmF3LnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBwcm9kdWN0VXJsUmF3IDogcHJvZHVjdFVybFJhdzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZlcnJhbFByZWZpeCA9ICdodHRwczovL2NvZGVhdmVuLmNvbS9nL29tNnM2amZjNTBjMTQ0MmFjZTRiMjE1YWI4MDFiOS8/ZXJpZD0yYkw5YU1QbzJlNDloTWVmNHBlVlQzc3kzdSZ1bHA9JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsID0gcmVmZXJyYWxQcmVmaXggKyBlbmNvZGVVUklDb21wb25lbnQoZnVsbE9yaWdpbmFsVXJsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWU6IHN0b3JlTW9kdWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RVcmw6IHByb2R1Y3RVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlOiBjdXJyZW50UHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogZGlzY291bnRQZXJjZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogIWl0ZW0ucXVlcnlTZWxlY3RvcignLmJ0bi0tZW1wdHktaXRlbScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaXNBdmFpbGFibGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBHYWJlc3RvcmUgLS0tCgogICAgICAgICAgICAgICAgeyAvLyAtLS0g0JzQvtC00YPQu9GMIEdhbWVyQmFzZSAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ2dhbWVyYmFzZScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0dhbWVyc0Jhc2UnLAogICAgICAgICAgICAgICAgICAgIGJhc2VVcmw6ICdodHRwczovL2dhbWVyc2Jhc2Uuc3RvcmUnLAogICAgICAgICAgICAgICAgICAgIHNlYXJjaFVybFRlbXBsYXRlOiAnaHR0cHM6Ly9nYW1lcnNiYXNlLnN0b3JlL3J1L3NlYXJjaC8/aXNGdWxsVGV4dFNlYXJjaD10cnVlJnNlYXJjaFF1ZXJ5PXtxdWVyeX0nLAogICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24ocXVlcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVNb2R1bGUgPSB0aGlzOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoQnlOYW1lID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVXJsID0gc3RvcmVNb2R1bGUuc2VhcmNoVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VhcmNoVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBTTV9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0b3JlTW9kdWxlLnBhcnNlSHRtbChyZXNwb25zZS5yZXNwb25zZVRleHQsIHN0b3JlTW9kdWxlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFtGYWxsYmFja10gSFRUUCDRgdGC0LDRgtGD0YEgJHtyZXNwb25zZS5zdGF0dXN9YCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiAoZXJyb3IpID0+IHJlamVjdChuZXcgRXJyb3IoJ1tGYWxsYmFja10g0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1tGYWxsYmFja10g0KLQsNC50LzQsNGD0YIg0LfQsNC/0YDQvtGB0LAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlYW1BcHBJZE1hdGNoID0gdW5zYWZlV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9cL2FwcFwvKFxkKykvKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGVhbUFwcElkTWF0Y2ggfHwgIXN0ZWFtQXBwSWRNYXRjaFsxXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaEJ5TmFtZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBcHBJZCA9IHN0ZWFtQXBwSWRNYXRjaFsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeG1sRmVlZFVybCA9ICJodHRwczovL2NvcmVwbGF0Zm9ybS5ibG9iLmNvcmUud2luZG93cy5uZXQvcHJvZHVjdHMtY29udGVudC9zdGVhbV9wYWdlc19mZWVkLnhtbCI7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4bWxGZWVkVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHhtbCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcocmVzcG9uc2UucmVzcG9uc2VUZXh0LCAiYXBwbGljYXRpb24veG1sIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBBcnJheS5mcm9tKHhtbC5xdWVyeVNlbGVjdG9yQWxsKCJnYW1lIikpLmZpbmQoZ2FtZSA9PiBnYW1lLnF1ZXJ5U2VsZWN0b3IoInN0ZWFtX2lkIik/LnRleHRDb250ZW50ID09PSBjdXJyZW50QXBwSWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBdmFpbGFibGUgPSBtYXRjaC5xdWVyeVNlbGVjdG9yKCJhdmFpbGFibGUiKT8udGV4dENvbnRlbnQgPT09ICJUcnVlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBzbV9wYXJzZVByaWNlKG1hdGNoLnF1ZXJ5U2VsZWN0b3IoInByaWNlIik/LnRleHRDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZUNvZGUgPSBtYXRjaC5xdWVyeVNlbGVjdG9yKCJjb2RlX2diIik/LnRleHRDb250ZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXZhaWxhYmxlICYmIHByaWNlICE9PSBudWxsICYmIGdhbWVDb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZUhlYWRlckltYWdlQ3RuIGltZy5nYW1lX2hlYWRlcl9pbWFnZV9mdWxsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluSW1hZ2VVcmwgPSBoZWFkZXJJbWFnZUVsZW1lbnQgPyBoZWFkZXJJbWFnZUVsZW1lbnQuc3JjIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxPcmlnaW5hbFVybCA9IGBodHRwczovL2dhbWVyc2Jhc2Uuc3RvcmUvZ2FtZS8ke2dhbWVDb2RlfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZlcnJhbFByZWZpeCA9ICdodHRwczovL2xzdWl4LmNvbS9nL256c3R3bm8yc2FjMTQ0MmFjZTRiYjBkZTFkZGQ2NC8/ZXJpZD0yYkw5YU1QbzJlNDloTWVmNHBmVkRWeHRZaCZ1bHA9JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmwgPSByZWZlcnJhbFByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChmdWxsT3JpZ2luYWxVcmwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVVybDogc3RvcmVNb2R1bGUuYmFzZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcXVlcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogbWFpbkltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogcHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoW3NtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hCeU5hbWUoKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsICfQntGI0LjQsdC60LAg0L/QsNGA0YHQuNC90LPQsCBYTUwsINC/0LXRgNC10YXQvtC0INC90LAg0L/QvtC40YHQuiDQv9C+INC90LDQt9Cy0LDQvdC40Y4uJywgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQnlOYW1lKCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYFhNTC3RhNC40LQg0L3QtdC00L7RgdGC0YPQv9C10L0gKNGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c30pLCDQv9C10YDQtdGF0L7QtCDQvdCwINC/0L7QuNGB0Log0L/QviDQvdCw0LfQstCw0L3QuNGOLmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQnlOYW1lKCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiAoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ch0LXRgtC10LLQsNGPINC+0YjQuNCx0LrQsCBYTUwsINC/0LXRgNC10YXQvtC0INC90LAg0L/QvtC40YHQuiDQv9C+INC90LDQt9Cy0LDQvdC40Y4uJywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hCeU5hbWUoKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ci0LDQudC80LDRg9GCIFhNTCwg0L/QtdGA0LXRhdC+0LQg0L3QsCDQv9C+0LjRgdC6INC/0L4g0L3QsNC30LLQsNC90LjRji4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQnlOYW1lKCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcnNlSHRtbDogZnVuY3Rpb24oaHRtbFN0cmluZywgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbFN0cmluZywgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcHJvZHVjdHMtY29udGFpbmVyIC51aS5jb3ZlcicpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua0VsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EuY292ZXItaG9sZGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmltYWdlIGltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1eUJ1dHRvbiA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmpzLWFkZC1wcm9kdWN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdERhdGFKc29uID0gbGlua0VsZW1lbnQ/LmRhdGFzZXQucHJvZHVjdCB8fCBidXlCdXR0b24/LmRhdGFzZXQucHJvZHVjdDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9kdWN0RGF0YUpzb24pIHJldHVybjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdERhdGEgPSBKU09OLnBhcnNlKHByb2R1Y3REYXRhSnNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9kdWN0RGF0YT8ubmFtZSB8fCAhcHJvZHVjdERhdGE/LnByaWNlRGF0YSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IHByb2R1Y3REYXRhLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybFJhdyA9IGxpbmtFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGltZ0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnc3JjJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShwcm9kdWN0RGF0YS5wcmljZURhdGEuYWN0dWFsUHJpY2VGb3JtYXR0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSBzbV9wYXJzZVByaWNlKHByb2R1Y3REYXRhLnByaWNlRGF0YS5zdGFuZGFyZFByaWNlRm9ybWF0dGVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudFBlcmNlbnQgPSBwcm9kdWN0RGF0YS5wcmljZURhdGEuZGlzY291bnRQZXJjZW50IHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3kgPSBwcm9kdWN0RGF0YS5wcmljZURhdGEuY3VycmVuY3kgfHwgJ1JVQic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBdmFpbGFibGUgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5qcy1hZGQtcHJvZHVjdC5hdmFpbGFibGUtdHJ1ZScpICE9PSBudWxsOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdE5hbWUgJiYgcHJvZHVjdFVybFJhdyAmJiBjdXJyZW50UHJpY2UgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZ1bGxPcmlnaW5hbFVybCA9IHByb2R1Y3RVcmxSYXcuc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIHByb2R1Y3RVcmxSYXcgOiBwcm9kdWN0VXJsUmF3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmxPYmplY3QgPSBuZXcgVVJMKGZ1bGxPcmlnaW5hbFVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxPYmplY3QucGF0aG5hbWUuc3RhcnRzV2l0aCgnL3J1LycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxPYmplY3QucGF0aG5hbWUgPSB1cmxPYmplY3QucGF0aG5hbWUuc3Vic3RyaW5nKDMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbE9yaWdpbmFsVXJsID0gdXJsT2JqZWN0LnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmZXJyYWxQcmVmaXggPSAnaHR0cHM6Ly9sc3VpeC5jb20vZy9uenN0d25vMnNhYzE0NDJhY2U0YmIwZGUxZGRkNjQvP2VyaWQ9MmJMOWFNUG8yZTQ5aE1lZjRwZlZEVnh0WWgmdWxwPSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmwgPSByZWZlcnJhbFByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChmdWxsT3JpZ2luYWxVcmwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogY3VycmVudFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogb3JpZ2luYWxQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogZGlzY291bnRQZXJjZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogaXNBdmFpbGFibGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaXNBdmFpbGFibGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzbV9jYWxjdWxhdGVNaXNzaW5nVmFsdWVzKGRhdGEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCDQuNC70LggSlNPTiDQsiBkYXRhLXByb2R1Y3QnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBHYW1lckJhc2UgLS0tCgogICAgICAgICAgICAgICAgeyAvLyAtLS0g0JzQvtC00YPQu9GMIElncm9tYWdheiAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ2lncm9tYWdheicsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0lncm9tYWdheicsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vd3d3Lmlncm9tYWdhei5ydScsCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVXJsVGVtcGxhdGU6ICdodHRwczovL3d3dy5pZ3JvbWFnYXoucnUvc2VhcmNoLz9xPXtxdWVyeX0mcXVhbnRpdHlfaW49WScsCiAgICAgICAgICAgICAgICAgICAgaXNFbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGZldGNoOiBhc3luYyBmdW5jdGlvbihxdWVyeSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hVcmwgPSB0aGlzLnNlYXJjaFVybFRlbXBsYXRlLnJlcGxhY2UoJ3txdWVyeX0nLCBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VhcmNoVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5wYXJzZUh0bWwocmVzcG9uc2UucmVzcG9uc2VUZXh0LCB0aGlzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnJvcikgPT4gcmVqZWN0KG5ldyBFcnJvcign0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0KG5ldyBFcnJvcign0KLQsNC50LzQsNGD0YIg0LfQsNC/0YDQvtGB0LAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcnNlSHRtbDogZnVuY3Rpb24oaHRtbFN0cmluZywgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbFN0cmluZywgJ3RleHQvaHRtbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC1jYXJkJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RBdmFpbGFibGVFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1hdmFpbGFiaWxpdHktLW5vdC1hdmFpbGFibGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlCdXR0b24gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tbm90aWZ5LWpzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEF2YWlsYWJsZUVsZW1lbnQgfHwgbm90aWZ5QnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlTGlua0VsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EucHJvZHVjdC10aXRsZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlTGlua0VsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EucHJvZHVjdC1pbWcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdFbGVtZW50ID0gaW1hZ2VMaW5rRWxlbWVudD8ucXVlcnlTZWxlY3RvcignaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1wcmljZV9fc3RhbmRhcnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRQcmljZUVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXByaWNlX19mYWlsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuc2FsZS1sYWJlbCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IHRpdGxlTGlua0VsZW1lbnQ/LnRleHRDb250ZW50Py50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IHRpdGxlTGlua0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8IGltYWdlTGlua0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaW1nRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBwcmljZUVsZW1lbnQgPyBzbV9wYXJzZVByaWNlKHByaWNlRWxlbWVudC50ZXh0Q29udGVudCkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSBvbGRQcmljZUVsZW1lbnQgPyBzbV9wYXJzZVByaWNlKG9sZFByaWNlRWxlbWVudC50ZXh0Q29udGVudCkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50UGVyY2VudCA9IGRpc2NvdW50RWxlbWVudCA/IHNtX3BhcnNlUGVyY2VudChkaXNjb3VudEVsZW1lbnQudGV4dENvbnRlbnQpIDogbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9kdWN0TmFtZSB8fCAhcHJvZHVjdFVybCB8fCBjdXJyZW50UHJpY2UgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWU6IHN0b3JlTW9kdWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RVcmw6IHByb2R1Y3RVcmwuc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIHByb2R1Y3RVcmwgOiBwcm9kdWN0VXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmw/LnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBpbWFnZVVybCA6IGltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogb3JpZ2luYWxQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBkaXNjb3VudFBlcmNlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhkYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBJZ3JvbWFnYXogLS0tCgogICAgICAgICAgICAgICAgeyAvLyAtLS0g0JzQvtC00YPQu9GMIEdhbWVzRm9yRmFybSAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ2dhbWVzZm9yZmFybScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0dhbWVzRm9yRmFybScsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vZ2FtZXNmb3JmYXJtLmNvbScsCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVXJsVGVtcGxhdGU6ICdodHRwczovL2dhbWVzZm9yZmFybS5jb20vP3NlYXJjaD17cXVlcnl9JywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFVybCA9IHRoaXMuc2VhcmNoVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZWFyY2hVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnBhcnNlSHRtbChyZXNwb25zZS5yZXNwb25zZVRleHQsIHRoaXMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiByZWplY3QobmV3IEVycm9yKCfQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LAnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyc2VIdG1sOiBmdW5jdGlvbihodG1sU3RyaW5nLCBzdG9yZU1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sU3RyaW5nLCAndGV4dC9odG1sJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5xdWVyeVNlbGVjdG9yKCcjZ2FtZXNDYXRhbG9nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm4gcmVzdWx0czsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kdWN0X19pdGVtJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2JveC10aXRsZSBhJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2JveC1pbWFnZSBpbWcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZUVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19ib3gtcHJpY2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudEVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19ib3gtcHJvcC5wcm9wLS1kaXNjb3VudCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFByaWNlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQ2xvbmUgPSBwcmljZUVsZW1lbnQuY2xvbmVOb2RlKHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW5jeVNwYW4gPSBwcmljZUNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uc2MtcnUzYmwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbmN5U3BhbikgY3VycmVuY3lTcGFuLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2UgPSBzbV9wYXJzZVByaWNlKHByaWNlQ2xvbmUudGV4dENvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdE5hbWUgPSBsaW5rRWxlbWVudD8udGV4dENvbnRlbnQ/LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsID0gbGlua0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaW1nRWxlbWVudD8uZGF0YXNldC5zcmMgfHwgaW1nRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudFBlcmNlbnQgPSBkaXNjb3VudEVsZW1lbnQgPyBzbV9wYXJzZVBlcmNlbnQoZGlzY291bnRFbGVtZW50LnRleHRDb250ZW50KSA6IDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdE5hbWUgfHwgIXByb2R1Y3RVcmwgfHwgY3VycmVudFByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVVybDogc3RvcmVNb2R1bGUuYmFzZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiBwcm9kdWN0VXJsLnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBwcm9kdWN0VXJsIDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBkaXNjb3VudFBlcmNlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhkYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBHYW1lc0ZvckZhcm0gLS0tCgoKICAgICAgICAgICAgICAgIHsgLy8gLS0tINCc0L7QtNGD0LvRjCBHYW1hemF2ciAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ2dhbWF6YXZyJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnR2FtYXphdnInLAogICAgICAgICAgICAgICAgICAgIGJhc2VVcmw6ICdodHRwczovL2dhbWF6YXZyLnJ1JywKICAgICAgICAgICAgICAgICAgICBzZWFyY2hVcmxUZW1wbGF0ZTogJ2h0dHBzOi8vZ2FtYXphdnIucnUvc2VhcmNoLz9xdWVyeT17cXVlcnl9JywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFVybCA9IHRoaXMuc2VhcmNoVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZWFyY2hVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnBhcnNlSHRtbChyZXNwb25zZS5yZXNwb25zZVRleHQsIHRoaXMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiByZWplY3QobmV3IEVycm9yKCfQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LAnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyc2VIdG1sOiBmdW5jdGlvbihodG1sU3RyaW5nLCBzdG9yZU1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sU3RyaW5nLCAndGV4dC9odG1sJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdHNMaXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLml0ZW0nKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uTGluayA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmRlc2NyaXB0aW9uIGEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUxpbmsgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EuaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGltYWdlTGluaz8ucXVlcnlTZWxlY3RvcignaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2VFbGVtZW50ID0gcHJpY2VFbGVtZW50Py5xdWVyeVNlbGVjdG9yKCdiJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZUVsZW1lbnQgPSBwcmljZUVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3MnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdE5hbWUgPSBkZXNjcmlwdGlvbkxpbms/LnF1ZXJ5U2VsZWN0b3IoJ2InKT8udGV4dENvbnRlbnQ/LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsUmF3ID0gZGVzY3JpcHRpb25MaW5rPy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybFJhdyA9IGltZ0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnc3JjJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IGN1cnJlbnRQcmljZUVsZW1lbnQgPyBzbV9wYXJzZVByaWNlKGN1cnJlbnRQcmljZUVsZW1lbnQudGV4dENvbnRlbnQpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gb3JpZ2luYWxQcmljZUVsZW1lbnQgPyBzbV9wYXJzZVByaWNlKG9yaWdpbmFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50KSA6IG51bGw7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdE5hbWUgfHwgIXByb2R1Y3RVcmxSYXcgfHwgY3VycmVudFByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxQcm9kdWN0VXJsID0gcHJvZHVjdFVybFJhdy5zdGFydHNXaXRoKCcvJykgPyBzdG9yZU1vZHVsZS5iYXNlVXJsICsgcHJvZHVjdFVybFJhdyA6IHByb2R1Y3RVcmxSYXc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IGZ1bGxQcm9kdWN0VXJsICsgJz9wYXJ0bmVyPTgyOTNlYmY1ODc3NzlkYTYnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaW1hZ2VVcmxSYXc/LnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBpbWFnZVVybFJhdyA6IGltYWdlVXJsUmF3OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogc3RvcmVNb2R1bGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVVcmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogb3JpZ2luYWxQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCBHYW1hemF2cicsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgLy8gLS0tINCa0L7QvdC10YYg0LzQvtC00YPQu9GPIEdhbWF6YXZyIC0tLQoKICAgICAgICAgICAgICAgIHsgLy8gLS0tINCc0L7QtNGD0LvRjCBHYW1lUmF5IC0tLQogICAgICAgICAgICAgICAgICAgIGlkOiAnZ2FtZXJheScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0dhbWVSYXknLAogICAgICAgICAgICAgICAgICAgIGJhc2VVcmw6ICdodHRwczovL2dhbWVyYXkucnUnLAogICAgICAgICAgICAgICAgICAgIHNlYXJjaFVybFRlbXBsYXRlOiAnaHR0cHM6Ly9nYW1lcmF5LnJ1L3NlYXJjaC9pbmRleC5waHA/cT17cXVlcnl9JywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFVybCA9IHRoaXMuc2VhcmNoVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbFJlc3VsdHMgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0tLSDQqNCw0LMgMTog0J/QvtC70YPRh9Cw0LXQvCDRgdC/0LjRgdC+0Log0LjQs9GAINGB0L4g0YHRgtGA0LDQvdC40YbRiyDQv9C+0LjRgdC60LAgLS0tCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VhcmNoVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBTTV9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogcmVzb2x2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ9Ci0LDQudC80LDRg9GCINC30LDQv9GA0L7RgdCwICjQv9C+0LjRgdC6KScpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxSZXN1bHRzID0gdGhpcy5wYXJzZVNlYXJjaFBhZ2UocmVzcG9uc2UucmVzcG9uc2VUZXh0LCB0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c30gKNC/0L7QuNGB0LopYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcih0aGlzLm5hbWUsIGDQntGI0LjQsdC60LAg0L3QsCDRiNCw0LPQtSAxICjQv9C+0LjRgdC6KTogJHtlcnJvci5tZXNzYWdlfWAsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxSZXN1bHRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0g0KjQsNCzIDI6INCX0LDQv9GA0LDRiNC40LLQsNC10Lwg0LrQsNC20LTRg9GOINGB0YLRgNCw0L3QuNGG0YMg0YLQvtCy0LDRgNCwINC00LvRjyDQtNC10YLQsNC70LXQuSAtLS0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV0YWlsUHJvbWlzZXMgPSBpbml0aWFsUmVzdWx0cy5tYXAoaW5pdGlhbERhdGEgPT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFJlc3BvbnNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmVGZXRjaCwgcmVqZWN0RmV0Y2gpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW5pdGlhbERhdGEuZnVsbFByb2R1Y3RVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogcmVzb2x2ZUZldGNoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IHJlamVjdEZldGNoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0RmV0Y2gobmV3IEVycm9yKGDQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCAoJHtpbml0aWFsRGF0YS5wcm9kdWN0TmFtZX0pYCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RSZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHByb2R1Y3RSZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5wYXJzZVByb2R1Y3RQYWdlKHByb2R1Y3RSZXNwb25zZS5yZXNwb25zZVRleHQsIGluaXRpYWxEYXRhLCB0aGlzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcih0aGlzLm5hbWUsIGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLINGC0L7QstCw0YDQsCAke2luaXRpYWxEYXRhLnByb2R1Y3ROYW1lfSAo0KHRgtCw0YLRg9GBOiAke3Byb2R1Y3RSZXNwb25zZS5zdGF0dXN9KWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHRoaXMubmFtZSwgYNCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGB0YLRgNCw0L3QuNGG0Ysg0YLQvtCy0LDRgNCwICR7aW5pdGlhbERhdGEucHJvZHVjdE5hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxlZFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZGV0YWlsUHJvbWlzZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxSZXN1bHRzID0gZGV0YWlsZWRSZXN1bHRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiByZXN1bHQudmFsdWUgIT09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc3VsdCA9PiByZXN1bHQudmFsdWUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0czsKICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICBwYXJzZVNlYXJjaFBhZ2U6IGZ1bmN0aW9uKGh0bWxTdHJpbmcsIHN0b3JlTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWxTdHJpbmcsICd0ZXh0L2h0bWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtcGFnZScpIHx8IGRvYy5ib2R5OwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdhLmVjLWNsaWNrZXInKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gaXRlbS5kYXRhc2V0Lm5hbWU/LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsUmF3ID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdpbWcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybFJhdyA9IGltZ0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnc3JjJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0TmFtZSAmJiBwcm9kdWN0VXJsUmF3ICYmIGltYWdlVXJsUmF3KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxQcm9kdWN0VXJsID0gcHJvZHVjdFVybFJhdy5zdGFydHNXaXRoKCcvJykgPyBzdG9yZU1vZHVsZS5iYXNlVXJsICsgcHJvZHVjdFVybFJhdyA6IHByb2R1Y3RVcmxSYXc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaW1hZ2VVcmxSYXcuc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIGltYWdlVXJsUmF3IDogaW1hZ2VVcmxSYXc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFByb2R1Y3RVcmw6IGZ1bGxQcm9kdWN0VXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0L/QvtC40YHQutCwJywgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICBwYXJzZVByb2R1Y3RQYWdlOiBmdW5jdGlvbihodG1sU3RyaW5nLCBpbml0aWFsRGF0YSwgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWxTdHJpbmcsICd0ZXh0L2h0bWwnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNpbmdCbG9jayA9IGRvYy5xdWVyeVNlbGVjdG9yKCdkaXYucHJpY2luZycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByaWNpbmdCbG9jaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYNCR0LvQvtC6IC5wcmljaW5nINC90LUg0L3QsNC50LTQtdC9INC00LvRjzogJHtpbml0aWFsRGF0YS5wcm9kdWN0TmFtZX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidXlCdXR0b24gPSBwcmljaW5nQmxvY2sucXVlcnlTZWxlY3RvcignYS5idXktYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQXZhaWxhYmxlID0gYnV5QnV0dG9uICE9PSBudWxsOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0F2YWlsYWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlRWxlbWVudCA9IHByaWNpbmdCbG9jay5xdWVyeVNlbGVjdG9yKCdzdHJvbmcucHJpY2Ugc3BhbltpdGVtcHJvcD0icHJpY2UiXScpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlRWxlbWVudCA9IHByaWNpbmdCbG9jay5xdWVyeVNlbGVjdG9yKCdzdHJpa2UucHJpY2Vfb2xkJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBwcmljZUVsZW1lbnQgPyBzbV9wYXJzZVByaWNlKHByaWNlRWxlbWVudC50ZXh0Q29udGVudCkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gb3JpZ2luYWxQcmljZUVsZW1lbnQgPyBzbV9wYXJzZVByaWNlKG9yaWdpbmFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50KSA6IG51bGw7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCBg0J3QtSDQvdCw0LnQtNC10L3QsCDRhtC10L3QsCDQsiDQsdC70L7QutC1IC5wcmljaW5nINC00LvRjzogJHtpbml0aWFsRGF0YS5wcm9kdWN0TmFtZX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsV2l0aFJlZiA9IGluaXRpYWxEYXRhLmZ1bGxQcm9kdWN0VXJsICsgJz9wYXJ0bmVyPTkzJzsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IGluaXRpYWxEYXRhLnByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybFdpdGhSZWYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogaW5pdGlhbERhdGEuaW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IG9yaWdpbmFsUHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnUlVCJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXZhaWxhYmxlOiBpc0F2YWlsYWJsZQogICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZmluYWxEYXRhKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAvLyAtLS0g0JrQvtC90LXRhiDQvNC+0LTRg9C70Y8gR2FtZVJheSAtLS0KCiAgICAgICAgICAgICAgICB7IC8vIC0tLSDQnNC+0LTRg9C70YwgS3VwaWtvZCAtLS0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdrdXBpa29kJywKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0t1cGlLb2QnLAogICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9rdXBpa29kLmNvbScsCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaUdhbWVzVXJsVGVtcGxhdGU6ICdodHRwczovL2V4cGxvcmVyLmt1cGlrb2QuY29tL2JhY2tlbmQvYXBpL2dhbWVzP25hbWU9e3F1ZXJ5fScsCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaVNob3BVcmxUZW1wbGF0ZTogJ2h0dHBzOi8vZXhwbG9yZXIua3VwaWtvZC5jb20vYmFja2VuZC9hcGkvc2hvcC9wcm9kdWN0cy1saXN0P25hbWU9e3F1ZXJ5fScsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgLy8g0KHQv9C40YHQvtC6INGB0YPRhNGE0LjQutGB0L7QsiDRgNC10LPQuNC+0L3QvtCyINC00LvRjyDQuNGB0LrQu9GO0YfQtdC90LjRjyAo0LIg0L3QuNC20L3QtdC8INGA0LXQs9C40YHRgtGA0LUpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVkUmVnaW9uU3VmZml4ZXM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICctZXUnLCAnLXVzJywgJy1hcmcnLCAnLXRyJywgJy1uby1ydS1uby1yYicsICctbm8tcnUtbm8tY2lzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICctbm8tcnUnLCAnLWV1dXMnLCAnLWNpcycsICctdWsnLCAnLWluJywgJy1lZycKICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgLy8g0KHQv9C40YHQvtC6INC60LvRjtGH0LXQstGL0YUg0YHQu9C+0LIg0L/Qu9Cw0YLRhNC+0YDQvCDQtNC70Y8g0LjRgdC60LvRjtGH0LXQvdC40Y8gKNCyINC90LjQttC90LXQvCDRgNC10LPQuNGB0YLRgNC1KQogICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlZFBsYXRmb3JtS2V5d29yZHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICcteGJveC0nLCAnLW9yaWdpbi0nLCAnLXVwbGF5LScsICctZ29nLScsICctcm9ja3N0YXItJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICctYmF0dGxlc3RhdGUtJywgJy1uaW50ZW5kby0nCiAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoOiBhc3luYyBmdW5jdGlvbihxdWVyeSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVNb2R1bGUgPSB0aGlzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlZFF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVzVXJsID0gc3RvcmVNb2R1bGUuYXBpR2FtZXNVcmxUZW1wbGF0ZS5yZXBsYWNlKCd7cXVlcnl9JywgZW5jb2RlZFF1ZXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3BVcmwgPSBzdG9yZU1vZHVsZS5hcGlTaG9wVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZWRRdWVyeSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hQcm9taXNlID0gKHVybCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBTTV9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfSDQtNC70Y8gJHt1cmx9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYNCh0LXRgtC10LLQsNGPINC+0YjQuNCx0LrQsCDQtNC70Y8gJHt1cmx9YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGDQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCDQtNC70Y8gJHt1cmx9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW2dhbWVzUmVzdWx0LCBzaG9wUmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9taXNlKGdhbWVzVXJsKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFByb21pc2Uoc2hvcFVybCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbFJlc3VsdHMgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZXNSZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiBnYW1lc1Jlc3VsdC52YWx1ZT8uZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsUmVzdWx0cyA9IGZpbmFsUmVzdWx0cy5jb25jYXQoc3RvcmVNb2R1bGUucGFyc2VHYW1lc0FwaShnYW1lc1Jlc3VsdC52YWx1ZS5kYXRhLCBzdG9yZU1vZHVsZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINC+0YLQstC10YLQsCBHYW1lcyBBUEknLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdhbWVzUmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG9wUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgc2hvcFJlc3VsdC52YWx1ZT8uZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFJlc3VsdHMgPSBmaW5hbFJlc3VsdHMuY29uY2F0KHN0b3JlTW9kdWxlLnBhcnNlU2hvcEFwaShzaG9wUmVzdWx0LnZhbHVlLmRhdGEsIHN0b3JlTW9kdWxlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINC+0YLQstC10YLQsCBTaG9wIEFQSScsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNob3BSZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0LDRgNGB0LXRgCDQtNC70Y8g0L7RgtCy0LXRgtCwINC+0YIgL2FwaS9nYW1lcyAoU3RlYW0t0LPQuNGE0YLRiykKICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VHYW1lc0FwaTogZnVuY3Rpb24oaXRlbXMsIHN0b3JlTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsICdHYW1lcyBBUEkgcmVzcG9uc2UgZGF0YSBpcyBub3QgYW4gYXJyYXknLCBpdGVtcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVycmFsQmFzZSA9ICJodHRwczovL3lrbmhjLmNvbS9nL2xmb2Zpb2c0bHFjMTQ0MmFjZTRiMjk0Y2I1OTI4YS8iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmZXJyYWxQYXJhbXMgPSAiP2VyaWQ9MmJMOWFNUG8yZTQ5aE1lZjRwaFVRVkY1VzgmdWxwPSI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IGl0ZW0ubmFtZT8udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbHVnID0gaXRlbS5zbHVnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBzbV9wYXJzZVByaWNlKGl0ZW0ubWluX3ByaWNlPy5ydWIgPz8gbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2VSYXcgPSBzbV9wYXJzZVByaWNlKGl0ZW0ubWluX29sZF9wcmljZT8ucnViID8/IG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gKG9yaWdpbmFsUHJpY2VSYXcgIT09IG51bGwgJiYgY3VycmVudFByaWNlICE9PSBudWxsICYmIG9yaWdpbmFsUHJpY2VSYXcgPiBjdXJyZW50UHJpY2UpID8gb3JpZ2luYWxQcmljZVJhdyA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaXRlbS5leHRlcm5hbF9kYXRhPy5oZWFkZXJfaW1hZ2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3ROYW1lIHx8ICFzbHVnIHx8IGN1cnJlbnRQcmljZSA9PT0gbnVsbCB8fCAhaW1hZ2VVcmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9kdWN0VXJsID0gYGh0dHBzOi8vc3RlYW0ua3VwaWtvZC5jb20vcnUtcnUvZ2FtZXMvJHtzbHVnfWA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmwgPSByZWZlcnJhbEJhc2UgKyByZWZlcnJhbFBhcmFtcyArIGVuY29kZVVSSUNvbXBvbmVudChvcmlnaW5hbFByb2R1Y3RVcmwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSArICIgKNCT0LjRhNGC0YspIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiAiaHR0cHM6Ly9zdGVhbS5rdXBpa29kLmNvbS8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogY3VycmVudFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogb3JpZ2luYWxQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAgR2FtZXMgQVBJJywgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0LDRgNGB0LXRgCDQtNC70Y8g0L7RgtCy0LXRgtCwINC+0YIgL2FwaS9zaG9wL3Byb2R1Y3RzLWxpc3QgKNCa0LvRjtGH0LgpCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlU2hvcEFwaTogZnVuY3Rpb24oaXRlbXMsIHN0b3JlTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ1Nob3AgQVBJIHJlc3BvbnNlIGRhdGEgaXMgbm90IGFuIGFycmF5JywgaXRlbXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVycmFsQmFzZSA9ICJodHRwczovL3lrbmhjLmNvbS9nL2xmb2Zpb2c0bHFjMTQ0MmFjZTRiMjk0Y2I1OTI4YS8iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmZXJyYWxQYXJhbXMgPSAiP2VyaWQ9MmJMOWFNUG8yZTQ5aE1lZjRwaFVRVkY1VzgmdWxwPSI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IGl0ZW0uaDFfdGl0bGU/LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2x1ZyA9IGl0ZW0uc2x1Zz8udG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShpdGVtLnByaWNlID8/IG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlUmF3ID0gc21fcGFyc2VQcmljZShpdGVtLm9sZF9wcmljZSA/PyBudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZSA9IChvcmlnaW5hbFByaWNlUmF3ICE9PSBudWxsICYmIG9yaWdpbmFsUHJpY2VSYXcgPiAwICYmIGN1cnJlbnRQcmljZSAhPT0gbnVsbCAmJiBvcmlnaW5hbFByaWNlUmF3ID4gY3VycmVudFByaWNlKSA/IG9yaWdpbmFsUHJpY2VSYXcgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGl0ZW0ucGljdHVyZV91cmw7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltYWdlVXJsIHx8IHR5cGVvZiBpbWFnZVVybCAhPT0gJ3N0cmluZycgfHwgaW1hZ2VVcmwuaW5jbHVkZXMoJy9hcHBzLy8nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9kdWN0TmFtZSB8fCAhc2x1ZyB8fCBjdXJyZW50UHJpY2UgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlTW9kdWxlLmV4Y2x1ZGVkUmVnaW9uU3VmZml4ZXMuc29tZShzdWZmaXggPT4gc2x1Zy5lbmRzV2l0aChzdWZmaXgpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlTW9kdWxlLmV4Y2x1ZGVkUGxhdGZvcm1LZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gc2x1Zy5pbmNsdWRlcyhrZXl3b3JkKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJvZHVjdFVybCA9IGAke3N0b3JlTW9kdWxlLmJhc2VVcmx9L3Nob3AvJHtpdGVtLnNsdWd9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IHJlZmVycmFsQmFzZSArIHJlZmVycmFsUGFyYW1zICsgZW5jb2RlVVJJQ29tcG9uZW50KG9yaWdpbmFsUHJvZHVjdFVybCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lICsgIiAo0JrQu9GO0YfQuCkiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVVcmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiBwcm9kdWN0VXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlOiBjdXJyZW50UHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBvcmlnaW5hbFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhkYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCBTaG9wIEFQSScsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAvLyAtLS0g0JrQvtC90LXRhiDQvNC+0LTRg9C70Y8gS3VwaWtvZCAtLS0KCiAgICAgICAgICAgICAgICB7IC8vIC0tLSDQnNC+0LTRg9C70YwgS2V5c0ZvckdhbWVycyAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ2tleXNmb3JnYW1lcnMnLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdLZXlzRm9yR2FtZXJzJywKICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9rZXlzZm9yZ2FtZXJzLmNvbScsCiAgICAgICAgICAgICAgICAgICAgYXBpVXJsOiAnaHR0cHM6Ly9rZXlzZm9yZ2FtZXJzLmNvbS9ydS9wcm9kdWN0L3NlYXJjaCcsCiAgICAgICAgICAgICAgICAgICAgaXNFbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGZldGNoOiBhc3luYyBmdW5jdGlvbihxdWVyeSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZU1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2hRdWVyeSA9IHF1ZXJ5OwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbnNDeXJpbGxpYyA9IC9b0LAt0Y/RkV0vaS50ZXN0KHF1ZXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zQ3lyaWxsaWMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGDQntCx0L3QsNGA0YPQttC10L3QsCDQutC40YDQuNC70LvQuNGG0LAg0LIg0LfQsNC/0YDQvtGB0LUgIiR7cXVlcnl9Ii4g0J/Ri9GC0LDQtdC80YHRjyDQv9C+0LvRg9GH0LjRgtGMINCw0L3Qs9C70LjQudGB0LrQvtC1INC90LDQt9Cy0LDQvdC40LUuLi5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZWFtQXBwSWRNYXRjaCA9IHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXC9hcHBcLyhcZCspLyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZWFtQXBwSWRNYXRjaCAmJiBzdGVhbUFwcElkTWF0Y2hbMV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXBwSWQgPSBzdGVhbUFwcElkTWF0Y2hbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBpVXJsID0gYGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9hcGkvYXBwZGV0YWlscz9hcHBpZHM9JHtjdXJyZW50QXBwSWR9Jmw9ZW5nbGlzaGA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBhcGlVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogcmVzb2x2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiByZWplY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCDQuiBTdGVhbSBBUEkgKEFwcERldGFpbHMpJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLnJlc3BvbnNlICYmIHJlc3BvbnNlLnJlc3BvbnNlW2N1cnJlbnRBcHBJZF0/LnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZ2xpc2hOYW1lID0gcmVzcG9uc2UucmVzcG9uc2VbY3VycmVudEFwcElkXT8uZGF0YT8ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmdsaXNoTmFtZSAmJiBlbmdsaXNoTmFtZS50cmltKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hRdWVyeSA9IGVuZ2xpc2hOYW1lLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCBg0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0LDQvdCz0LvQuNC50YHQutC+0LUg0L3QsNC30LLQsNC90LjQtSDQtNC70Y8g0L/QvtC40YHQutCwOiAiJHtzZWFyY2hRdWVyeX0iYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGBTdGVhbSBBUEkg0LLQtdGA0L3Rg9C7INGD0YHQv9C10YUsINC90L4g0LDQvdCz0LvQuNC50YHQutC+0LUg0LjQvNGPINC90LUg0L3QsNC50LTQtdC90L4g0LTQu9GPIEFwcElEICR7Y3VycmVudEFwcElkfS4g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0L7RgNC40LPQuNC90LDQu9GM0L3Ri9C5INC30LDQv9GA0L7RgS5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGDQl9Cw0L/RgNC+0YEg0LogU3RlYW0gQVBJINC90LUg0YPQtNCw0LvRgdGPINC40LvQuCDQvdC10LLQtdGA0L3Ri9C5INC+0YLQstC10YIg0LTQu9GPIEFwcElEICR7Y3VycmVudEFwcElkfSAoU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c30pLiDQmNGB0L/QvtC70YzQt9GD0LXQvCDQvtGA0LjQs9C40L3QsNC70YzQvdGL0Lkg0LfQsNC/0YDQvtGBLmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INCw0L3Qs9C70LjQudGB0LrQvtCz0L4g0L3QsNC30LLQsNC90LjRjyDQuNC3IFN0ZWFtIEFQSTogJHtlcnJvci5tZXNzYWdlfS4g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0L7RgNC40LPQuNC90LDQu9GM0L3Ri9C5INC30LDQv9GA0L7RgS5gLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMIFN0ZWFtIEFwcElEINGB0L4g0YHRgtGA0LDQvdC40YbRiyDQtNC70Y8g0LfQsNC/0YDQvtGB0LAg0LDQvdCz0LvQuNC50YHQutC+0LPQviDQvdCw0LfQstCw0L3QuNGPLiDQmNGB0L/QvtC70YzQt9GD0LXQvCDQvtGA0LjQs9C40L3QsNC70YzQvdGL0Lkg0LfQsNC/0YDQvtGBLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNzcmZUb2tlbiA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1haW5QYWdlUmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyAnL3J1LycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiByZWplY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogKCkgPT4gcmVqZWN0KG5ldyBFcnJvcign0KLQsNC50LzQsNGD0YIg0LfQsNC/0YDQvtGB0LAgKENTUkYpJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFpblBhZ2VSZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIG1haW5QYWdlUmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWFpblBhZ2VSZXNwb25zZS5yZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjc3JmTWV0YVRhZyA9IGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9ImNzcmYtdG9rZW4iXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3NyZk1ldGFUYWcpIHRocm93IG5ldyBFcnJvcign0JzQtdGC0LAt0YLQtdCzIGNzcmYtdG9rZW4g0L3QtSDQvdCw0LnQtNC10L0hJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NyZlRva2VuID0gY3NyZk1ldGFUYWcuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjc3JmVG9rZW4pIHRocm93IG5ldyBFcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINC30L3QsNGH0LXQvdC40LUgY3NyZi10b2tlbiEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke21haW5QYWdlUmVzcG9uc2Uuc3RhdHVzfSDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4IENTUkZgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCBg0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyBDU1JGINGC0L7QutC10L3QsDogJHtlcnJvci5tZXNzYWdlfWAsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxsSXRlbXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQYWdlID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsUGFnZXMgPSAxOwoKICAgICAgICAgICAgICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdFBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFR5cGVzOiBbeyB2YWx1ZTogIjYiLCBpZDogImNhdGVnb3J5LTYiIH1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbkRhdGE6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogIjEiLCBpZDogInJlZ2lvbi0xIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiAiODUiLCBpZDogInJlZ2lvbi04NSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogIjYiLCBpZDogInJlZ2lvbi02IiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hEYXRhOiBbeyB2YWx1ZTogc2VhcmNoUXVlcnksIGlkOiAicHJvZHVjdC1zZWFyY2giIH1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnREYXRhOiBbeyB2YWx1ZTogIjQiLCBpZDogInNlYXJjaF9zb3J0IiB9XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZVJhbmdlOiBbeyB2YWx1ZTogWyIwLjAwIiwgIjk5OTk5LjAwIl0sIGlkOiBbIm1pbl9wcmljZSIsICJtYXhfcHJpY2UiXSB9XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBjdXJyZW50UGFnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJQYWdlOiAyNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hEYXRhOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRwbGFjZURhdGE6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyVHlwZXNEYXRhOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoRGF0YTogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vcmVQYWdlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01pblByaWNlQ2hhbmdlZDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXhQcmljZUNoYW5nZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluUHJpY2VWYWx1ZTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmljZVZhbHVlOiA5OTk5OS4wMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdYLUNzcmYtVG9rZW4nOiBjc3JmVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzdG9yZU1vZHVsZS5hcGlVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0SGVhZGVycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RQYXlsb2FkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiByZXNvbHZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKGDQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCAocGFnZTogJHtjdXJyZW50UGFnZX0pYCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNDAwICYmIHJlc3BvbnNlLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5yZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2F0YWxvZ0JvZHkgJiYgdHlwZW9mIGRhdGEuY2F0YWxvZ0JvZHkgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlSXRlbXMgPSBzdG9yZU1vZHVsZS5wYXJzZUtGR0h0bWwoZGF0YS5jYXRhbG9nQm9keSwgc3RvcmVNb2R1bGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsSXRlbXMgPSBhbGxJdGVtcy5jb25jYXQocGFnZUl0ZW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzID0gZGF0YS5wYWdlcyA/PyB0b3RhbFBhZ2VzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYWdlcyA9PT0gdW5kZWZpbmVkICYmIGN1cnJlbnRQYWdlID09PSAxKSB0b3RhbFBhZ2VzID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfSAocGFnZTogJHtjdXJyZW50UGFnZX0pYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYNCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGB0YLRgNCw0L3QuNGG0YsgJHtjdXJyZW50UGFnZX06ICR7ZXJyb3IubWVzc2FnZX1gLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA8PSB0b3RhbFBhZ2VzKSBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDE1MCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudFBhZ2UgPD0gdG90YWxQYWdlcyk7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsSXRlbXM7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJzZUtGR0h0bWw6IGZ1bmN0aW9uKGh0bWxTdHJpbmcsIHN0b3JlTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sU3RyaW5nLCAndGV4dC9odG1sJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RFbGVtZW50cyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbXMtbGlzdCAucHJvZHVjdC1pdGVtJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy1jYXJkX19pdGVtLXRpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy1jYXJkX19wcmljZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy1jYXJkX19pbWctbGluaywgLnByb2R1Y3QtY2FyZF9fbGluaywgLmNhdGFsb2ctY2FyZF9faXRlbS10aXRsZSBhJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2ctY2FyZF9faW1nIGltZywgLnByb2R1Y3QtY2FyZCBpbWcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdE5hbWUgPSB0aXRsZUVsZW1lbnQ/LnRleHRDb250ZW50Py50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VUZXh0ID0gcHJpY2VFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmxSYXcgPSBsaW5rRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmxSYXcgPSBpbWdFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ3NyYycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3ROYW1lIHx8ICFwcmljZVRleHQgfHwgIXByb2R1Y3RVcmxSYXcgfHwgIWltYWdlVXJsUmF3KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWRQcmljZVRleHQgPSBwcmljZVRleHQucmVwbGFjZSgvW+KCvSQsXS9nLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShjbGVhbmVkUHJpY2VUZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmljZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCBg0J3QtSDRg9C00LDQu9C+0YHRjCDRgNCw0YHQv9Cw0YDRgdC40YLRjCDQvtGH0LjRidC10L3QvdGD0Y4g0YbQtdC90YM6ICR7Y2xlYW5lZFByaWNlVGV4dH1gLCBlbGVtZW50LmlubmVySFRNTCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmwgPSBwcm9kdWN0VXJsUmF3LnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBwcm9kdWN0VXJsUmF3IDogcHJvZHVjdFVybFJhdzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGltYWdlVXJsUmF3LnN0YXJ0c1dpdGgoJy8nKSA/IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBpbWFnZVVybFJhdyA6IGltYWdlVXJsUmF3OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogc3RvcmVNb2R1bGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVVcmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsICfQntGI0LjQsdC60LAg0L/QsNGA0YHQuNC90LPQsCBIVE1MINGN0LvQtdC80LXQvdGC0LAgS2V5c0ZvckdhbWVycycsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBLZXlzRm9yR2FtZXJzIC0tLQoKICAgICAgICAgICAgICAgIHsgLy8gLS0tINCc0L7QtNGD0LvRjCBaYWthLXpha2EgLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICd6YWthemFrYScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1pha2EtemFrYScsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vemFrYS16YWthLmNvbScsCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVXJsVGVtcGxhdGU6ICdodHRwczovL3pha2EtemFrYS5jb20vc2VhcmNoL2Fzay97cXVlcnl9L3NvcnQvcHJpY2UuYXNjJywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFVybCA9IHRoaXMuc2VhcmNoVXJsVGVtcGxhdGUucmVwbGFjZSgne3F1ZXJ5fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZWFyY2hVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnBhcnNlSHRtbChyZXNwb25zZS5yZXNwb25zZVRleHQsIHRoaXMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiByZWplY3QobmV3IEVycm9yKCfQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LAnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyc2VIdG1sOiBmdW5jdGlvbihodG1sU3RyaW5nLCBzdG9yZU1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sU3RyaW5nLCAndGV4dC9odG1sJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWFyY2gtcmVzdWx0cyAuZ2FtZS1ibG9jaycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua0VsZW1lbnQgPSBpdGVtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlRGl2ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1ibG9jay1pbWFnZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1ibG9jay1uYW1lJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1ibG9jay1wcmljZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50RWxlbWVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmdhbWUtYmxvY2stZGlzY291bnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudEFtb3VudEVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWJsb2NrLWRpc2NvdW50LXN1bScpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IG5hbWVFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmxSYXcgPSBsaW5rRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gcHJpY2VFbGVtZW50ID8gc21fcGFyc2VQcmljZShwcmljZUVsZW1lbnQudGV4dENvbnRlbnQpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNjb3VudFBlcmNlbnQgPSBkaXNjb3VudEVsZW1lbnQgPyBzbV9wYXJzZVBlcmNlbnQoZGlzY291bnRFbGVtZW50LnRleHRDb250ZW50KSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRBbW91bnQgPSBkaXNjb3VudEFtb3VudEVsZW1lbnQgPyBNYXRoLmFicyhzbV9wYXJzZVByaWNlKGRpc2NvdW50QW1vdW50RWxlbWVudC50ZXh0Q29udGVudCkgPz8gMCkgOiBudWxsOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2VVcmwgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZURpdj8uc3R5bGU/LmJhY2tncm91bmRJbWFnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGltYWdlRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZS5tYXRjaCgvdXJsXCgiPyguKz8pIj9cKS8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsID0gbWF0Y2hbMV0uc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIG1hdGNoWzFdIDogbWF0Y2hbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdE5hbWUgfHwgIXByb2R1Y3RVcmxSYXcgfHwgY3VycmVudFByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxPcmlnaW5hbFVybCA9IHByb2R1Y3RVcmxSYXcuc3RhcnRzV2l0aCgnLycpID8gc3RvcmVNb2R1bGUuYmFzZVVybCArIHByb2R1Y3RVcmxSYXcgOiBwcm9kdWN0VXJsUmF3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVycmFsUHJlZml4ID0gJ2h0dHBzOi8vYmVkbmFyaS5jb20vZy9tb21wdGtqZXA5YzE0NDJhY2U0YjAyNzcwMjkzYWIvP2VyaWQ9MmJMOWFNUG8yZTQ5aE1lZjRwZ1VYWWJ4dnYmdWxwPSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IHJlZmVycmFsUHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KGZ1bGxPcmlnaW5hbFVybCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiBzdG9yZU1vZHVsZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVVybDogc3RvcmVNb2R1bGUuYmFzZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiBwcm9kdWN0VXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogY3VycmVudFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IGRpc2NvdW50UGVyY2VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRBbW91bnQ6IGRpc2NvdW50QW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhkYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIC8vIC0tLSDQmtC+0L3QtdGGINC80L7QtNGD0LvRjyBaYWthLXpha2EgLS0tCgogICAgICAgICAgICAgICAgeyAvLyAtLS0g0JzQvtC00YPQu9GMIEJ1a2EgLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdidWthJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQnVrYScsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vc2hvcC5idWthLnJ1JywKICAgICAgICAgICAgICAgICAgICBhcGlVcmw6ICdodHRwczovL3Nob3AuYnVrYS5ydS9hcGkvZi92Mi9zZWFyY2gvZ2V0LXBhZ2UnLAogICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24ocXVlcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbEl0ZW1zID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlSW5kZXggPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFzTmV4dCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlTW9kdWxlID0gdGhpczsKCiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoQnVrYVBhZ2UoY3VycmVudEluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0UGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IGN1cnJlbnRJbmRleCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVybTogcXVlcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFfaWQ6IDEwMDAwMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDogIldFQiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICcqLyonLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHN0b3JlTW9kdWxlLmFwaVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdFBheWxvYWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBTTV9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IHJlc29sdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiByZWplY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYNCi0LDQudC80LDRg9GCINC30LDQv9GA0L7RgdCwIChwYWdlSW5kZXg6ICR7Y3VycmVudEluZGV4fSlgKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlSW5mbyA9IGRhdGEucGFnZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlSW5mbyAmJiBBcnJheS5pc0FycmF5KHBhZ2VJbmZvLnJvd3MpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRJdGVtcyA9IHBhZ2VJbmZvLnJvd3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4gc3RvcmVNb2R1bGUucGFyc2VBcGlJdGVtKGl0ZW0sIHN0b3JlTW9kdWxlKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gbnVsbCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsSXRlbXMgPSBhbGxJdGVtcy5jb25jYXQocHJvY2Vzc2VkSXRlbXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNOZXh0ID0gcGFnZUluZm8/Lmhhc05leHQgPz8gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNOZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaEJ1a2FQYWdlKGN1cnJlbnRJbmRleCArIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCDRgdGC0LDRgtGD0YEgJHtyZXNwb25zZS5zdGF0dXN9IChwYWdlSW5kZXg6ICR7Y3VycmVudEluZGV4fSlgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsIGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLICR7Y3VycmVudEluZGV4fTogJHtlcnJvci5tZXNzYWdlfWAsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNOZXh0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoQnVrYVBhZ2UocGFnZUluZGV4KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxJdGVtczsKICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICBwYXJzZUFwaUl0ZW06IGZ1bmN0aW9uKGl0ZW0sIHN0b3JlTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0g0KTQuNC70YzRgtGA0LDRhtC40Y8gLS0tCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiDQn9GA0L7QstC10YDRj9C10Lwg0YLQuNC/ICjQvdGD0LbQtdC9INGG0LjRhNGA0L7QstC+0LksINC+0LHRi9GH0L3QviB0eXBlOiAzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSAhPT0gMykgcmV0dXJuIG51bGw7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4g0J/RgNC+0LLQtdGA0Y/QtdC8INC/0LvQsNGC0YTQvtGA0LzRgyAo0L3Rg9C20LXQvSBQQykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXRmb3JtRmlsdGVyID0gaXRlbS5maWx0ZXJzPy5maW5kKGYgPT4gZi5maWVsZCA9PT0gJ3BsYXRmb3JtJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1BDID0gcGxhdGZvcm1GaWx0ZXI/LnZhbHVlcz8uc29tZSh2ID0+IHYudGl0bGUgPT09ICdQQycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1BDKSByZXR1cm4gbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiDQn9GA0L7QstC10YDRj9C10Lwg0YHRgtCw0YLRg9GBINC/0YDQvtC00LDQttC4ICjQtNC+0YHRgtGD0L/QtdC9INC40LvQuCDQv9GA0LXQtNC30LDQutCw0LcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWxlU3RhdGUgPSBpdGVtLnNhbGVTdGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYWxlU3RhdGUgIT09ICdhdmFpbGFibGUnICYmIHNhbGVTdGF0ZSAhPT0gJ3ByZS1vcmRlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IGl0ZW0udGl0bGU/LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmxSYXcgPSBpdGVtLmFsaWFzID8gYC9pdGVtLyR7aXRlbS5hbGlhc31gIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaXRlbS5pbWc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gaXRlbS5wcmljZT8uYWN0dWFsID8gc21fcGFyc2VQcmljZShpdGVtLnByaWNlLmFjdHVhbCkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZSA9IGl0ZW0ucHJpY2U/Lm9sZCA/IHNtX3BhcnNlUHJpY2UoaXRlbS5wcmljZS5vbGQpIDogKGN1cnJlbnRQcmljZSAhPT0gbnVsbCA/IGN1cnJlbnRQcmljZSA6IG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRQZXJjZW50ID0gaXRlbS5wcmljZT8uZGlzY291bnQgPyBwYXJzZUZsb2F0KGl0ZW0ucHJpY2UuZGlzY291bnQpIDogMDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3ROYW1lIHx8ICFwcm9kdWN0VXJsUmF3IHx8ICFpbWFnZVVybCB8fCBjdXJyZW50UHJpY2UgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INC00LDQvdC90YvRhSDQsiBBUEkg0L7RgtCy0LXRgtC1INC00LvRjyDRjdC70LXQvNC10L3RgtCwJywgaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVsbFByb2R1Y3RVcmwgPSBzdG9yZU1vZHVsZS5iYXNlVXJsICsgcHJvZHVjdFVybFJhdzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmxXaXRoUmVmID0gZnVsbFByb2R1Y3RVcmwgKyAnP3JlZj16b25lb2ZnYW1lcyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogc3RvcmVNb2R1bGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiBwcm9kdWN0VXJsV2l0aFJlZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlOiBjdXJyZW50UHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogb3JpZ2luYWxQcmljZSA9PT0gY3VycmVudFByaWNlID8gbnVsbCA6IG9yaWdpbmFsUHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiBkaXNjb3VudFBlcmNlbnQgPiAwID8gZGlzY291bnRQZXJjZW50IDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCBBUEkgQnVrYScsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIHsgLy8gLS0tINCc0L7QtNGD0LvRjCBHR1NFTCAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ2dnc2VsJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnR0dTRUwnLAogICAgICAgICAgICAgICAgICAgIGJhc2VVcmw6ICdodHRwczovL2dnc2VsLm5ldCcsCiAgICAgICAgICAgICAgICAgICAgYXBpVXJsOiAnaHR0cHM6Ly9hcGk0Lmdnc2VsLmNvbS9lbGFzdGljL2dvb2RzL3F1ZXJ5JywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxJdGVtcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VhcmNoQWZ0ZXIgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGltaXQgPSA2MDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc01vcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmV0Y2hlZENvdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RmV0Y2hlcyA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmZXRjaEF0dGVtcHRzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVNb2R1bGUgPSB0aGlzOwoKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hHR1NFTFBhZ2UoY3VycmVudEluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaEF0dGVtcHRzKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0UGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hfdGVybTogcXVlcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaF9hZnRlcjogc2VhcmNoQWZ0ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfcHJlb3JkZXJzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoX2ZpbHRlcnM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aF9jYXRlZ29yaWVzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0OiAic29ydEJ5UHJpY2VVcCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudF90eXBlX2lkczogWzQ4LCAyXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoX2ZvcmJpZGRlbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluX3ByaWNlOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfcHJpY2U6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAid21yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5nOiAicnUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtczogWyJTdGVhbSJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHN0b3JlTW9kdWxlLmFwaVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdFBheWxvYWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBTTV9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IHJlc29sdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiByZWplY3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYNCi0LDQudC80LDRg9GCINC30LDQv9GA0L7RgdCwIChwYWdlSW5kZXg6ICR7Y3VycmVudEluZGV4fSlgKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2U/LmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLnJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLml0ZW1zICYmIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZEl0ZW1zID0gZGF0YS5pdGVtcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiBzdG9yZU1vZHVsZS5wYXJzZUFwaUl0ZW0oaXRlbSwgc3RvcmVNb2R1bGUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBudWxsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxJdGVtcyA9IGFsbEl0ZW1zLmNvbmNhdChwcm9jZXNzZWRJdGVtcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaGVkQ291bnQgKz0gZGF0YS5pdGVtcy5sZW5ndGg7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXMubGVuZ3RoIDwgbGltaXQgfHwgIWRhdGEubGFzdF9zb3J0IHx8IGZldGNoZWRDb3VudCA+PSAoZGF0YS50b3RhbCA/PyBmZXRjaGVkQ291bnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hBZnRlciA9IGRhdGEubGFzdF9zb3J0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQINGB0YLQsNGC0YPRgSAke3Jlc3BvbnNlLnN0YXR1c30gKHBhZ2VJbmRleDogJHtjdXJyZW50SW5kZXh9KWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYNCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGB0YLRgNCw0L3QuNGG0YsgJHtjdXJyZW50SW5kZXh9OiAke2Vycm9yLm1lc3NhZ2V9YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc01vcmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTW9yZSAmJiBmZXRjaEF0dGVtcHRzIDwgbWF4RmV0Y2hlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDE1MCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaEdHU0VMUGFnZShjdXJyZW50SW5kZXggKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoR0dTRUxQYWdlKDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZldGNoQXR0ZW1wdHMgPj0gbWF4RmV0Y2hlcyAmJiBoYXNNb3JlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgYNCU0L7RgdGC0LjQs9C90YPRgiDQu9C40LzQuNGCINC30LDQv9GA0L7RgdC+0LIg0L/QsNCz0LjQvdCw0YbQuNC4ICgke21heEZldGNoZXN9KS4g0JLQvtC30LzQvtC20L3Qviwg0L/QvtC60LDQt9Cw0L3RiyDQvdC1INCy0YHQtSDRgNC10LfRg9C70YzRgtCw0YLRiy5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEl0ZW1zOwogICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgIHBhcnNlQXBpSXRlbTogZnVuY3Rpb24oaXRlbSwgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmZvcmJpZGRlbl90eXBlICE9PSAwIHx8IGl0ZW0uaGlkZGVuX2Zyb21fc2VhcmNoIHx8IGl0ZW0uaGlkZGVuX2Zyb21fcGFyZW50cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY29udGVudF90eXBlX2lkICE9PSA0OCAmJiBpdGVtLmNvbnRlbnRfdHlwZV9pZCAhPT0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gaXRlbS5uYW1lPy50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsUmF3ID0gYCR7c3RvcmVNb2R1bGUuYmFzZVVybH0vY2F0YWxvZy9wcm9kdWN0LyR7aXRlbS5pZF9nb29kc31gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IGAke3Byb2R1Y3RVcmxSYXd9P2FpPTIzNDAyOWA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBpdGVtLmltYWdlcyA/IGBodHRwczovL2ltZy5nZ3NlbC5ydS8ke2l0ZW0uaWRfZ29vZHN9L29yaWdpbmFsLzI1MHgyNTAvJHtpdGVtLmltYWdlc31gIDogbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBpdGVtLnByaWNlX3dtciA/IHNtX3BhcnNlUHJpY2UoaXRlbS5wcmljZV93bXIpIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvdGVudGlhbE9yaWdpbmFsUHJpY2UgPSBpdGVtLmNhdGVnb3J5X2Rpc2NvdW50ID8gc21fcGFyc2VQcmljZShpdGVtLmNhdGVnb3J5X2Rpc2NvdW50KSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gKHBvdGVudGlhbE9yaWdpbmFsUHJpY2UgJiYgY3VycmVudFByaWNlICE9PSBudWxsICYmIHBvdGVudGlhbE9yaWdpbmFsUHJpY2UgPiBjdXJyZW50UHJpY2UpID8gcG90ZW50aWFsT3JpZ2luYWxQcmljZSA6IG51bGw7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsbGVySWQgPSBpdGVtLmlkX3NlbGxlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGxlck5hbWUgPSBpdGVtLnNlbGxlcl9uYW1lOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdE5hbWUgfHwgY3VycmVudFByaWNlID09PSBudWxsIHx8ICFpbWFnZVVybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHN0b3JlTW9kdWxlLm5hbWUsICfQndC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0LTQsNC90L3Ri9GFINCyINGN0LvQtdC80LXQvdGC0LUgQVBJIEdHU0VMICjQv9C+0YHQu9C1INC/0YDQvtCy0LXRgNC+0LopJywgaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogc3RvcmVNb2R1bGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBzdG9yZU1vZHVsZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VXJsOiBwcm9kdWN0VXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBvcmlnaW5hbFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50UGVyY2VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1JVQicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVySWQ6IHNlbGxlcklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxlck5hbWU6IHNlbGxlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNtX2NhbGN1bGF0ZU1pc3NpbmdWYWx1ZXMoZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAg0Y3Qu9C10LzQtdC90YLQsCBBUEkgR0dTRUwnLCBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgLy8gLS0tINCa0L7QvdC10YYg0LzQvtC00YPQu9GPIEdHU0VMIC0tLQoKICAgICAgICAgICAgICAgIHsgLy8gLS0tINCc0L7QtNGD0LvRjCBQbGF0aS5NYXJrZXQgLS0tCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdwbGF0aW1hcmtldCcsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1BsYXRpLk1hcmtldCcsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vcGxhdGkubWFya2V0JywKICAgICAgICAgICAgICAgICAgICBhcGlVcmxCYXNlOiAnaHR0cHM6Ly9hcGkuZGlnaXNlbGxlci5jb20vYXBpL3Byb2R1Y3RzL3NlYXJjaDInLAogICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaDogYXN5bmMgZnVuY3Rpb24ocXVlcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgTUFYX1JFU1VMVFNfUEVSX1JFUVVFU1QgPSA1MDA7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0g0KjQsNCzIDE6INCj0LfQvdCw0LXQvCDQvtCx0YnQtdC1INC60L7Qu9C40YfQtdGB0YLQstC+INGC0L7QstCw0YDQvtCyIC0tLQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsVXJsID0gYCR7dGhpcy5hcGlVcmxCYXNlfT9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JnNlYXJjaG1vZGU9MTAmc29ydG1vZGU9MiZwYWdlc2l6ZT0xYDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsSXRlbXMgPSAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxSZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaW5pdGlhbFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNNX1JFUVVFU1RfVElNRU9VVF9NUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCAmJiByZXNwb25zZS5yZXNwb25zZT8ucmVzdWx0Py50b3RhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtX2xvZ0Vycm9yKHRoaXMubmFtZSwgYNCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC70YPRh9C40YLRjCB0b3RhbF9wYWdlcy4gU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgQVBJIEVycm9yOiBTdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiAoZXJyb3IpID0+IHJlamVjdChuZXcgRXJyb3IoJ9Ch0LXRgtC10LLQsNGPINC+0YjQuNCx0LrQsCAoaW5pdGlhbCByZXF1ZXN0KScpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCAoaW5pdGlhbCByZXF1ZXN0KScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zID0gcGFyc2VJbnQoaW5pdGlhbFJlc3BvbnNlLnJlc3VsdC50b3RhbCwgMTApOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3IodGhpcy5uYW1lLCAn0J7RiNC40LHQutCwINC90LAg0YjQsNCz0LUgMSAo0L/QvtC70YPRh9C10L3QuNC1IHRvdGFsKScsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsSXRlbXMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gLS0tINCo0LDQsyAyOiDQl9Cw0L/RgNCw0YjQuNCy0LDQtdC8INCy0YHQtSAo0LjQu9C4INC00L4gTUFYX1JFU1VMVFNfUEVSX1JFUVVFU1QpINGC0L7QstCw0YDRiyAtLS0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c1RvRmV0Y2ggPSBNYXRoLm1pbih0b3RhbEl0ZW1zLCBNQVhfUkVTVUxUU19QRVJfUkVRVUVTVCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzVG9GZXRjaCA8PSAwKSByZXR1cm4gW107CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFVybCA9IGAke3RoaXMuYXBpVXJsQmFzZX0/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZzZWFyY2htb2RlPTEwJnNvcnRtb2RlPTImcGFnZXNpemU9JHtyZXN1bHRzVG9GZXRjaH1gOwoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGZpbmFsVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogU01fUkVRVUVTVF9USU1FT1VUX01TICogMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDQwMCAmJiByZXNwb25zZS5yZXNwb25zZT8uaXRlbXM/Lml0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3IodGhpcy5uYW1lLCBg0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMIGl0ZW1zLiBTdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWAsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBBUEkgRXJyb3I6IFN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnJvcikgPT4gcmVqZWN0KG5ldyBFcnJvcign0KHQtdGC0LXQstCw0Y8g0L7RiNC40LHQutCwIChmaW5hbCByZXF1ZXN0KScpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCAoZmluYWwgcmVxdWVzdCknKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQXBpUmVzcG9uc2UoZmluYWxSZXNwb25zZS5pdGVtcy5pdGVtLCB0aGlzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcih0aGlzLm5hbWUsICfQntGI0LjQsdC60LAg0L3QsCDRiNCw0LPQtSAyICjQv9C+0LvRg9GH0LXQvdC40LUgaXRlbXMpJywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJzZUFwaVJlc3BvbnNlOiBmdW5jdGlvbihpdGVtcywgc3RvcmVNb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbV9sb2dFcnJvcihzdG9yZU1vZHVsZS5uYW1lLCAn0J7RgtCy0LXRgiBBUEkg0L3QtSDRgdC+0LTQtdGA0LbQuNGCINC80LDRgdGB0LjQsiBpdGVtcycsIGl0ZW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0TmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsUmF3ID0gaXRlbS51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShpdGVtLnByaWNlX3J1cik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3kgPSAnUlVCJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxsZXJJZCA9IGl0ZW0uc2VsbGVyX2lkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGxlck5hbWUgPSBpdGVtLnNlbGxlcl9uYW1lOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3ROYW1lIHx8ICFwcm9kdWN0VXJsUmF3IHx8IGN1cnJlbnRQcmljZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0VXJsID0gcHJvZHVjdFVybFJhdyArICc/YWk9MjM0MDI5JzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBgaHR0cHM6Ly9ncmFwaC5kaWdpc2VsbGVyLnJ1L2ltZy5hc2h4P2lkX2Q9JHtpdGVtLmlkfSZ3PTE1MCZoPTgwYDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6IHN0b3JlTW9kdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWU6IHN0b3JlTW9kdWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlVXJsOiBzdG9yZU1vZHVsZS5iYXNlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RVcmw6IHByb2R1Y3RVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaWNlOiBjdXJyZW50UHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50OiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVySWQ6IHNlbGxlcklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJOYW1lOiBzZWxsZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc21fY2FsY3VsYXRlTWlzc2luZ1ZhbHVlcyhkYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAgQVBJJywgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAvLyAtLS0g0JrQvtC90LXRhiDQvNC+0LTRg9C70Y8gUGxhdGkuTWFya2V0IC0tLQogICAgICAgICAgICAgICAgeyAvLyAtLS0g0JzQvtC00YPQu9GMIFJ1c2hiZSAtLS0KICAgICAgICAgICAgICAgICAgICBpZDogJ3J1c2hiZScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1J1c2hiZScsCiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogJ2h0dHBzOi8vcnVzaGJlLnJ1JywKICAgICAgICAgICAgICAgICAgICBzZWFyY2hVcmxUZW1wbGF0ZTogJ2h0dHBzOi8vcnVzaGJlLnJ1L2dhdGV3YXkvYXBpL2dhbWUtY2VudGVyL2dhbWVzL2NhdGFsb2cvc2VhcmNoJywKICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlTW9kdWxlID0gdGhpczsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVXJsID0gdGhpcy5zZWFyY2hVcmxUZW1wbGF0ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RQYXlsb2FkID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiBxdWVyeQogICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VhcmNoVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RQYXlsb2FkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBTTV9SRVFVRVNUX1RJTUVPVVRfTVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNDAwICYmIHJlc3BvbnNlLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucGFyc2VBcGlSZXNwb25zZShyZXNwb25zZS5yZXNwb25zZSwgc3RvcmVNb2R1bGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEhUVFAg0YHRgtCw0YLRg9GBICR7cmVzcG9uc2Uuc3RhdHVzfWApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogKGVycm9yKSA9PiByZWplY3QobmV3IEVycm9yKCfQodC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LAnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiAoKSA9PiByZWplY3QobmV3IEVycm9yKCfQotCw0LnQvNCw0YPRgiDQt9Cw0L/RgNC+0YHQsCcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyc2VBcGlSZXNwb25zZTogZnVuY3Rpb24oaXRlbXMsIHN0b3JlTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YLQstC10YIgQVBJINC90LUg0Y/QstC70Y/QtdGC0YHRjyDQvNCw0YHRgdC40LLQvtC8JywgaXRlbXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm91dE9mU3RvY2sgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1N0ZWFtR2FtZSA9IGl0ZW0uYWN0aXZhdGlvbnM/LnNvbWUoYWN0ID0+IGFjdC5jb2RlID09PSAnc3RlYW0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3RlYW1HYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gaXRlbS5nYW1lTmFtZT8udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RVcmxSYXcgPSBpdGVtLmxpbmsgPyBgL2dhbWVzLyR7aXRlbS5saW5rfWAgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsUmF3ID0gaXRlbS5ob3Jpem9udGFsQ292ZXI/LnByZXZpZXc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFByaWNlID0gc21fcGFyc2VQcmljZShpdGVtLnByaWNlV2l0aFNhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSBzbV9wYXJzZVByaWNlKGl0ZW0ucHJpY2VXaXRob3V0U2FsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY291bnRQZXJjZW50ID0gaXRlbS5zYWxlIHx8IDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdE5hbWUgfHwgIXByb2R1Y3RVcmxSYXcgfHwgY3VycmVudFByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc0RsYyAmJiAhcHJvZHVjdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGxjJykgJiYgIXByb2R1Y3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3BhY2snKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFVybCA9IHN0b3JlTW9kdWxlLmJhc2VVcmwgKyBwcm9kdWN0VXJsUmF3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gaW1hZ2VVcmxSYXcgPyBzdG9yZU1vZHVsZS5iYXNlVXJsICsgaW1hZ2VVcmxSYXcgOiBudWxsOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogc3RvcmVNb2R1bGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVNb2R1bGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVVcmw6IHN0b3JlTW9kdWxlLmJhc2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFVybDogcHJvZHVjdFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IGN1cnJlbnRQcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogKG9yaWdpbmFsUHJpY2UgJiYgb3JpZ2luYWxQcmljZSA+IGN1cnJlbnRQcmljZSkgPyBvcmlnaW5hbFByaWNlIDogY3VycmVudFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IGRpc2NvdW50UGVyY2VudCA+IDAgPyBkaXNjb3VudFBlcmNlbnQgOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdSVUInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzbV9jYWxjdWxhdGVNaXNzaW5nVmFsdWVzKGRhdGEpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21fbG9nRXJyb3Ioc3RvcmVNb2R1bGUubmFtZSwgJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwINGN0LvQtdC80LXQvdGC0LAgQVBJJywgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gLS0tINCh0Y7QtNCwINC00YDRg9Cz0LjQtSDQvNC+0LTRg9C70LggLS0tCiAgICAgICAgICAgIF07CgogICAgICAgICAgICAvLyAtLS0g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LzQvtC00YPQu9GPIFNhbGVzTWFzdGVyIC0tLQogICAgICAgICAgICBzbV9hZGRTdHlsZXMoKTsKICAgICAgICAgICAgY29uc3Qgc3RlYW1BcHBJZENoZWNrU00gPSB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvYXBwXC8oXGQrKS8pOwogICAgICAgICAgICBpZiAoc3RlYW1BcHBJZENoZWNrU00gJiYgc3RlYW1BcHBJZENoZWNrU01bMV0pIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc21fYWRkU2FsZXNNYXN0ZXJCdXR0b24sIDUwMCk7CiAgICAgICAgICAgICAgICBzbV9jdXJyZW50RmlsdGVycyA9IEdNX2dldFZhbHVlKFNNX0ZJTFRFUl9TVE9SQUdFX0tFWSwgewogICAgICAgICAgICAgICAgICAgIHByaWNlTWluOiAnJywKICAgICAgICAgICAgICAgICAgICBwcmljZU1heDogJycsCiAgICAgICAgICAgICAgICAgICAgZGlzY291bnRQZXJjZW50TWluOiAnJywKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFBlcmNlbnRNYXg6ICcnLAogICAgICAgICAgICAgICAgICAgIGRpc2NvdW50QW1vdW50TWluOiAnJywKICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudE1heDogJycsCiAgICAgICAgICAgICAgICAgICAgaGFzRGlzY291bnQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHN0b3JlczogT2JqZWN0LmZyb21FbnRyaWVzKHNtX3N0b3JlTW9kdWxlcy5tYXAocyA9PiBbcy5pZCwgdHJ1ZV0pKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzbV9zdG9yZU1vZHVsZXMuZm9yRWFjaChzdG9yZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoc3RvcmUuaWQgaW4gc21fY3VycmVudEZpbHRlcnMuc3RvcmVzKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzbV9jdXJyZW50RmlsdGVycy5zdG9yZXNbc3RvcmUuaWRdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSkoKTsKICAgIH0KCiAgICAvLyDQodC60YDQuNC/0YIg0LTQu9GPINGB0YLRgNCw0L3QuNGG0Ysg0LjQs9GA0YsgKFBsYXRpOyDQvtGC0L7QsdGA0LDQttC10L3QuNC1INGG0LXQvSDRgSBQbGF0aS5NYXJrZXQpIHwgaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2FwcC8qCiAgICBpZiAoc2NyaXB0c0NvbmZpZy5wbGF0aVNhbGVzICYmIHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnL2FwcC8nKSkgewogICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOwoKICAgICAgICAgICAgLy8gLS0tINCa0L7QvdGE0LjQs9GD0YDQsNGG0LjRjyBQbGF0aVNlYXJjaCAoUFMpIC0tLQogICAgICAgICAgICBjb25zdCBQU19BUElfQkFTRV9VUkwgPSAnaHR0cHM6Ly9hcGkuZGlnaXNlbGxlci5jb20vYXBpL3Byb2R1Y3RzL3NlYXJjaDInOwogICAgICAgICAgICBjb25zdCBQU19TVUdHRVNUX0FQSV9VUkwgPSAnaHR0cHM6Ly9wbGF0aS5tYXJrZXQvYXBpL3N1Z2dlc3QuYXNoeCc7CiAgICAgICAgICAgIGNvbnN0IFBTX0lNQUdFX0RPTUFJTiA9ICdkaWdpc2VsbGVyLm15Y2RuLmluayc7CiAgICAgICAgICAgIGNvbnN0IFBTX1JFU1VMVFNfUEVSX1BBR0VfQ0hFQ0sgPSAxOwogICAgICAgICAgICBjb25zdCBQU19ERUZBVUxUX1NPUlRfTU9ERSA9IDI7CiAgICAgICAgICAgIGNvbnN0IFBTX1NVR0dFU1RfREVCT1VOQ0VfTVMgPSAzMDA7CiAgICAgICAgICAgIGNvbnN0IFBTX0ZJTFRFUl9ERUJPVU5DRV9NUyA9IDUwMDsKICAgICAgICAgICAgY29uc3QgUFNfRklMVEVSX1NUT1JBR0VfUFJFRklYID0gJ3BsYXRpU2FsZXNGaWx0ZXJfdjFfJzsKICAgICAgICAgICAgY29uc3QgUFNfRVhDTFVTSU9OX1NUT1JBR0VfS0VZID0gJ3BsYXRpU2FsZXNFeGNsdXNpb25zX3YxXyc7CiAgICAgICAgICAgIGNvbnN0IFBTX0xBU1RfU09SVF9TVE9SQUdFX0tFWSA9ICdwbGF0aVNhbGVzTGFzdFNvcnRfdjFfJzsKICAgICAgICAgICAgY29uc3QgUFNfQ1VSUkVOQ1lfU1RPUkFHRV9LRVkgPSAncGxhdGlTYWxlc0N1cnJlbmN5X3YxXyc7CiAgICAgICAgICAgIGNvbnN0IFBTX0ZJTFRFUl9QQU5FTF9XSURUSCA9IDIzMDsKICAgICAgICAgICAgY29uc3QgUFNfRVhDTFVTSU9OX1BBTkVMX1dJRFRIID0gMjUwOwogICAgICAgICAgICBjb25zdCBQU19TSURFX1BBTkVMX0hPUklaT05UQUxfUEFERElORyA9IDIwOwogICAgICAgICAgICBjb25zdCBQU19DT05URU5UX1BBRERJTkdfQlVGRkVSID0gMTU7CiAgICAgICAgICAgIGNvbnN0IFBTX0NPTlRFTlRfUEFERElOR19MRUZUID0gUFNfRklMVEVSX1BBTkVMX1dJRFRIICsgUFNfU0lERV9QQU5FTF9IT1JJWk9OVEFMX1BBRERJTkcgKyBQU19DT05URU5UX1BBRERJTkdfQlVGRkVSOwogICAgICAgICAgICBjb25zdCBQU19DT05URU5UX1BBRERJTkdfUklHSFQgPSBQU19FWENMVVNJT05fUEFORUxfV0lEVEggKyBQU19TSURFX1BBTkVMX0hPUklaT05UQUxfUEFERElORyArIFBTX0NPTlRFTlRfUEFERElOR19CVUZGRVI7CiAgICAgICAgICAgIGNvbnN0IFBTX0hFQURFUl9BUFBST1hfSEVJR0hUID0gNjU7CiAgICAgICAgICAgIGNvbnN0IFBTX1RPUF9PRkZTRVRfRk9SX1NJREVfUEFORUxTID0gUFNfSEVBREVSX0FQUFJPWF9IRUlHSFQgKyAyNTsKICAgICAgICAgICAgY29uc3QgUFNfQk9UVE9NX09GRlNFVF9GT1JfU0lERV9QQU5FTFMgPSAyMDsKICAgICAgICAgICAgY29uc3QgUFNfQURWX1NPUlRfQ09OVEFJTkVSX1dJRFRIID0gMjMwOwogICAgICAgICAgICBjb25zdCBORVdfSVRFTV9USFJFU0hPTERfREFZUyA9IDc7CgogICAgICAgICAgICAvLyAtLS0g0JPQu9C+0LHQsNC70YzQvdGL0LUg0L/QtdGA0LXQvNC10L3QvdGL0LUgLS0tCiAgICAgICAgICAgIGxldCBwc19jdXJyZW50UmVzdWx0cyA9IFtdOwogICAgICAgICAgICBsZXQgcHNfY3VycmVudFNvcnQgPSBHTV9nZXRWYWx1ZShQU19MQVNUX1NPUlRfU1RPUkFHRV9LRVksIHsgZmllbGQ6ICdyZWxldmFuY2UnLCBkaXJlY3Rpb246ICdhc2MnIH0pOwogICAgICAgICAgICBsZXQgcHNfY3VycmVudEN1cnJlbmN5ID0gR01fZ2V0VmFsdWUoUFNfQ1VSUkVOQ1lfU1RPUkFHRV9LRVksICdSVVInKTsKICAgICAgICAgICAgbGV0IHBzX2ZpcnN0U29ydENsaWNrID0ge307CiAgICAgICAgICAgIFsncHJpY2UnLCAnc2FsZXMnLCAncmVsZXZhbmNlJywgJ25hbWUnLCAnZGF0ZV9jcmVhdGUnLCAnZGlzY291bnQnLCAnc2VsbGVyX3JhdGluZycsICdyZXZpZXdfcmF0aW8nLCAnZ29vZF9yZXZpZXdzJywgJ2JhZF9yZXZpZXdzJywgJ3JldHVybnMnXS5mb3JFYWNoKGZpZWxkID0+IHsKICAgICAgICAgICAgICAgIHBzX2ZpcnN0U29ydENsaWNrW2ZpZWxkXSA9IHBzX2N1cnJlbnRTb3J0LmZpZWxkICE9PSBmaWVsZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxldCBwc19leGNsdXNpb25LZXl3b3JkcyA9IEdNX2dldFZhbHVlKFBTX0VYQ0xVU0lPTl9TVE9SQUdFX0tFWSwgW10pOwogICAgICAgICAgICBsZXQgcHNfY3VycmVudEZpbHRlcnMgPSBwc19sb2FkRmlsdGVycygpOwogICAgICAgICAgICBsZXQgcHNfc3VnZ2VzdERlYm91bmNlVGltZW91dDsKICAgICAgICAgICAgbGV0IHBzX2ZpbHRlckRlYm91bmNlVGltZW91dDsKICAgICAgICAgICAgbGV0IHBzX2FkdlNvcnRNZW51VGltZW91dDsKCiAgICAgICAgICAgIC8vIC0tLSBET00g0K3Qu9C10LzQtdC90YLRiyAtLS0KICAgICAgICAgICAgbGV0IHBzX21vZGFsLCBwc19jbG9zZUJ0biwgcHNfc2VhcmNoSW5wdXQsIHBzX3NlYXJjaEJ0biwgcHNfc29ydFByaWNlQnRuLCBwc19zb3J0U2FsZXNCdG4sIHBzX2FkdlNvcnRCdG5Db250YWluZXIsIHBzX2FkdlNvcnRCdG4sIHBzX2FkdlNvcnRNZW51LCBwc19jdXJyZW5jeVNlbGVjdCwgcHNfcmVzZXRTb3J0QnRuOwogICAgICAgICAgICBsZXQgcHNfcmVzdWx0c0NvbnRhaW5lciwgcHNfcmVzdWx0c0RpdiwgcHNfc3RhdHVzRGl2LCBwc19leGNsdWRlSW5wdXQsIHBzX2FkZEV4Y2x1ZGVCdG4sIHBzX2V4Y2x1c2lvblRhZ3NEaXY7CiAgICAgICAgICAgIGxldCBwc19zdWdnZXN0aW9uc0RpdjsKICAgICAgICAgICAgbGV0IHBzX2ZpbHRlcnNQYW5lbDsKICAgICAgICAgICAgbGV0IHBzX2ZpbHRlclByaWNlTWluLCBwc19maWx0ZXJQcmljZU1heCwgcHNfZmlsdGVyU2FsZXNNaW4sIHBzX2ZpbHRlclNhbGVzTWF4LCBwc19maWx0ZXJSYXRpbmdNaW4sIHBzX2ZpbHRlclJhdGluZ01heDsKICAgICAgICAgICAgbGV0IHBzX2ZpbHRlckhpZGVCYWRSZXZpZXdzLCBwc19maWx0ZXJIaWRlUmV0dXJucywgcHNfZmlsdGVyT25seURpc2NvdW50OwogICAgICAgICAgICBsZXQgcHNfZmlsdGVyRGF0ZVNlbGVjdDsKICAgICAgICAgICAgbGV0IHBzX3Jlc2V0QWxsRmlsdGVyc0J0bjsKICAgICAgICAgICAgbGV0IHBzX2V4Y2x1c2lvblRhZ3NMaXN0RGl2OwoKICAgICAgICAgICAgLy8gLS0tINCe0L/QuNGB0LDQvdC40Y8g0YHQvtGA0YLQuNGA0L7QstC+0LogLS0tCiAgICAgICAgICAgICBjb25zdCBwc19hZHZhbmNlZFNvcnRzID0gewogICAgICAgICAgICAgICAgICdwcmljZSc6ICAgICAgICB7IG5hbWU6ICfQn9C+INGG0LXQvdC1JywgICAgICAgICAgZGVmYXVsdERpcjogJ2FzYycgfSwKICAgICAgICAgICAgICAgICAnc2FsZXMnOiAgICAgICAgeyBuYW1lOiAn0J/QviDQv9GA0L7QtNCw0LbQsNC8JywgICAgICBkZWZhdWx0RGlyOiAnZGVzYyd9LAogICAgICAgICAgICAgICAgICdyZWxldmFuY2UnOiAgICB7IG5hbWU6ICfQn9C+INGA0LXQu9C10LLQsNC90YLQvdC+0YHRgtC4JywgZGVmYXVsdERpcjogJ2FzYycgfSwKICAgICAgICAgICAgICAgICAnbmFtZSc6ICAgICAgICAgeyBuYW1lOiAn0J/QviDQvdCw0LfQstCw0L3QuNGOJywgICAgICBkZWZhdWx0RGlyOiAnYXNjJyAgfSwKICAgICAgICAgICAgICAgICAnZGF0ZV9jcmVhdGUnOiAgeyBuYW1lOiAn0J/QviDQtNCw0YLQtSDQtNC+0LHQsNCy0LvQtdC90LjRjycsIGRlZmF1bHREaXI6ICdkZXNjJyB9LAogICAgICAgICAgICAgICAgICdkaXNjb3VudCc6ICAgICB7IG5hbWU6ICfQn9C+ICUg0LIg0YHQutC40LQuINGB0LjRgdGC0LXQvNC1JywgZGVmYXVsdERpcjogJ2Rlc2MnIH0sCiAgICAgICAgICAgICAgICAgJ3NlbGxlcl9yYXRpbmcnOnsgbmFtZTogJ9Cf0L4g0YDQtdC50YLQuNC90LPRgyDQv9GA0L7QtNCw0LLRhtCwJywgZGVmYXVsdERpcjogJ2Rlc2MnIH0sCiAgICAgICAgICAgICAgICAgJ3Jldmlld19yYXRpbyc6IHsgbmFtZTogJ9Cf0L4g0YHQvtC+0YLQvdC+0YjQtdC90LjRjiDQvtGC0LfRi9Cy0L7QsicsIGRlZmF1bHREaXI6ICdkZXNjJyB9LAogICAgICAgICAgICAgICAgICdnb29kX3Jldmlld3MnOiB7IG5hbWU6ICfQn9C+INC60L7Quy3QstGDINGF0L7RgC4g0L7RgtC30YvQstC+0LInLCBkZWZhdWx0RGlyOiAnZGVzYycgfSwKICAgICAgICAgICAgICAgICAnYmFkX3Jldmlld3MnOiAgeyBuYW1lOiAn0J/QviDQutC+0Lst0LLRgyDQv9C70L7RhS4g0L7RgtC30YvQstC+0LInLCBkZWZhdWx0RGlyOiAnYXNjJyAgfSwKICAgICAgICAgICAgICAgICAncmV0dXJucyc6ICAgICAgeyBuYW1lOiAn0J/QviDQutC+0Lst0LLRgyDQstC+0LfQstGA0LDRgtC+0LInLCBkZWZhdWx0RGlyOiAnYXNjJyAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBjb25zdCBwc19hZHZTb3J0T3JkZXIgPSBbJ25hbWUnLCAnZGF0ZV9jcmVhdGUnLCAnZGlzY291bnQnLCAnc2VsbGVyX3JhdGluZycsICdyZXZpZXdfcmF0aW8nLCAnZ29vZF9yZXZpZXdzJywgJ2JhZF9yZXZpZXdzJywgJ3JldHVybnMnXTsKICAgICAgICAgICAgY29uc3QgcHNfZGF0ZUZpbHRlck9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgJ2FsbCc6ICfQl9CwINCy0YHQtSDQstGA0LXQvNGPJywgJzFkJzogJ9CX0LAg0YHRg9GC0LrQuCcsICcyZCc6ICfQl9CwIDIg0LTQvdGPJywgJzF3JzogJ9CX0LAg0L3QtdC00LXQu9GOJywgJzFtJzogJ9CX0LAg0LzQtdGB0Y/RhicsICc2bSc6ICfQl9CwINC/0L7Qu9Cz0L7QtNCwJywgJzF5JzogJ9CX0LAg0LPQvtC0JywgJzV5JzogJ9CX0LAgNSDQu9C10YInLCAnMTB5JzogJ9CX0LAgMTAg0LvQtdGCJywKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIC0tLSDQktGB0L/QvtC80L7Qs9Cw0YLQtdC70YzQvdGL0LUg0YTRg9C90LrRhtC40LggLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdFByaWNlKHByaWNlU3RyKSB7CiAgICAgICAgICAgICAgICBpZiAoIXByaWNlU3RyKSByZXR1cm4gMDsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KFN0cmluZyhwcmljZVN0cikucmVwbGFjZSgvW15cZCwuXS9nLCAnJykucmVwbGFjZSgnLCcsICcuJykpIHx8IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0U2FsZXMoc2FsZXNTdHIpIHsKICAgICAgICAgICAgICAgIGlmICghc2FsZXNTdHIpIHJldHVybiAwOwogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KFN0cmluZyhzYWxlc1N0cikucmVwbGFjZSgvXEQvZywgJycpLCAxMCkgfHwgMDsKICAgICAgICAgICAgfQogICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VTZWxsZXJSYXRpbmcocmF0aW5nU3RyKSB7CiAgICAgICAgICAgICAgICAgaWYgKCFyYXRpbmdTdHIpIHJldHVybiAwOwogICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KFN0cmluZyhyYXRpbmdTdHIpLnJlcGxhY2UoJywnLCAnLicpKSB8fCAwOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlUmV2aWV3UmF0aW8oaXRlbSkgewogICAgICAgICAgICAgICAgIGNvbnN0IGdvb2QgPSBwYXJzZUludChpdGVtLmNudF9nb29kX3Jlc3BvbnNlcyB8fCAnMCcsIDEwKTsKICAgICAgICAgICAgICAgICBjb25zdCBiYWQgPSBwYXJzZUludChpdGVtLmNudF9iYWRfcmVzcG9uc2VzIHx8ICcwJywgMTApOwogICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gZ29vZCArIGJhZDsKICAgICAgICAgICAgICAgICByZXR1cm4gdG90YWwgPiAwID8gKGdvb2QgLyB0b3RhbCkgOiAtMTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZShkYXRlU3RyKSB7CiAgICAgICAgICAgICAgICAgaWYgKCFkYXRlU3RyKSByZXR1cm4gMDsKICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGRhdGVTdHIuc3BsaXQoJyAnKTsKICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAyKSByZXR1cm4gMDsKICAgICAgICAgICAgICAgICBjb25zdCBkYXRlUGFydHMgPSBwYXJ0c1swXS5zcGxpdCgnLicpOwogICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVQYXJ0cyA9IHBhcnRzWzFdLnNwbGl0KCc6Jyk7CiAgICAgICAgICAgICAgICAgaWYgKGRhdGVQYXJ0cy5sZW5ndGggIT09IDMgfHwgdGltZVBhcnRzLmxlbmd0aCAhPT0gMykgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgdHJ5IHsgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGRhdGVQYXJ0c1syXSwgZGF0ZVBhcnRzWzFdIC0gMSwgZGF0ZVBhcnRzWzBdLCB0aW1lUGFydHNbMF0sIHRpbWVQYXJ0c1sxXSwgdGltZVBhcnRzWzJdKSkuZ2V0VGltZSgpOyB9CiAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgcmV0dXJuIDA7IH0KICAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0RGF0ZVN0cmluZyh0aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgIGlmICghdGltZXN0YW1wIHx8IHRpbWVzdGFtcCA9PT0gMCkgcmV0dXJuICdOL0EnOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXRVVENEYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRVVENNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gU3RyaW5nKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkuc2xpY2UoLTIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtkYXl9LiR7bW9udGh9LiR7eWVhcn1gOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyByZXR1cm4gJ04vQSc7IH0KICAgICAgICAgICAgfQogICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UHJpY2VJblNlbGVjdGVkQ3VycmVuY3koaXRlbSwgY3VycmVuY3kpIHsKICAgICAgICAgICAgICAgICBsZXQgcHJpY2UgPSAwOwogICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VycmVuY3kpIHsKICAgICAgICAgICAgICAgICAgICAgY2FzZSAnVVNEJzogcHJpY2UgPSBmb3JtYXRQcmljZShpdGVtLnByaWNlX3VzZCk7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICBjYXNlICdFVVInOiBwcmljZSA9IGZvcm1hdFByaWNlKGl0ZW0ucHJpY2VfZXVyKTsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VBSCc6IHByaWNlID0gZm9ybWF0UHJpY2UoaXRlbS5wcmljZV91YWgpOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgY2FzZSAnUlVSJzogZGVmYXVsdDogcHJpY2UgPSBmb3JtYXRQcmljZShpdGVtLnByaWNlX3J1cik7IGJyZWFrOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICBpZiAocHJpY2UgPD0gMCAmJiBjdXJyZW5jeSAhPT0gJ1JVUicpIHByaWNlID0gZm9ybWF0UHJpY2UoaXRlbS5wcmljZV9ydXIpOwogICAgICAgICAgICAgICAgIGlmIChwcmljZSA8PSAwICYmIGN1cnJlbmN5ICE9PSAnVVNEJykgcHJpY2UgPSBmb3JtYXRQcmljZShpdGVtLnByaWNlX3VzZCk7CiAgICAgICAgICAgICAgICAgaWYgKHByaWNlIDw9IDAgJiYgY3VycmVuY3kgIT09ICdFVVInKSBwcmljZSA9IGZvcm1hdFByaWNlKGl0ZW0ucHJpY2VfZXVyKTsKICAgICAgICAgICAgICAgICByZXR1cm4gcHJpY2UgPiAwID8gcHJpY2UgOiBJbmZpbml0eTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkgewogICAgICAgICAgICAgICAgbGV0IHRpbWVvdXQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXhlY3V0ZWRGdW5jdGlvbiguLi5hcmdzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7IGNsZWFyVGltZW91dCh0aW1lb3V0KTsgZnVuYyguLi5hcmdzKTsgfTsKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBnZXRTdGVhbUdhbWVOYW1lKCkgewogICAgICAgICAgICAgICAgIGNvbnN0IGFwcE5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcEh1YkFwcE5hbWUnKTsKICAgICAgICAgICAgICAgICByZXR1cm4gYXBwTmFtZUVsZW1lbnQgPyBhcHBOYW1lRWxlbWVudC50ZXh0Q29udGVudC50cmltKCkgOiAnJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcHNfZXhwb3J0RXhjbHVzaW9ucygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRzU3RyaW5nID0gcHNfZXhjbHVzaW9uS2V5d29yZHMuam9pbignLCcpOwogICAgICAgICAgICAgICAgaWYgKCFrZXl3b3Jkc1N0cmluZykgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQodC/0LjRgdC+0Log0LjRgdC60LvRjtGH0LXQvdC40Lkg0L/Rg9GB0YIuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChrZXl3b3Jkc1N0cmluZykudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cG9ydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc0V4cG9ydEV4Y2x1c2lvbnNCdG4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9ydEJ0bikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZXhwb3J0QnRuLmlubmVySFRNTDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEJ0bi5pbm5lckhUTUwgPSAn0KHQutC+0L/QuNGA0L7QstCw0L3QviEnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEJ0bi5pbm5lckhUTUwgPSBvcmlnaW5hbENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1BsYXRpU2VhcmNoXSDQndC1INGD0LTQsNC70L7RgdGMINGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0LIg0LHRg9GE0LXRgCDQvtCx0LzQtdC90LA6JywgZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0KCfQndC1INGD0LTQsNC70L7RgdGMINGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LguINCh0LrQvtC/0LjRgNGD0LnRgtC1INCy0YDRg9GH0L3Rg9GOOicsIGtleXdvcmRzU3RyaW5nKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQbGF0aVNlYXJjaF0g0J7RiNC40LHQutCwINC00L7RgdGC0YPQv9CwINC6INCx0YPRhNC10YDRgyDQvtCx0LzQtdC90LA6JywgZXJyKTsKICAgICAgICAgICAgICAgICAgICBwcm9tcHQoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQutC+0L/QuNGA0L7QstCw0YLRjCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuC4g0KHQutC+0L/QuNGA0YPQudGC0LUg0LLRgNGD0YfQvdGD0Y46Jywga2V5d29yZHNTdHJpbmcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwc19zaG93SW1wb3J0TW9kYWwoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzSW1wb3J0TW9kYWwnKTsKICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ01vZGFsKSBleGlzdGluZ01vZGFsLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBpbXBvcnRNb2RhbC5pZCA9ICdwc0ltcG9ydE1vZGFsJzsKICAgICAgICAgICAgICAgIGltcG9ydE1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwc0ltcG9ydE1vZGFsQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoND7QmNC80L/QvtGA0YIg0YHQv9C40YHQutCwINC40YHQutC70Y7Rh9C10L3QuNC5PC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+0JLRgdGC0LDQstGM0YLQtSDRgdC/0LjRgdC+0Log0YHQu9C+0LIsINGA0LDQt9C00LXQu9C10L3QvdGL0YUg0LfQsNC/0Y/RgtGL0LzQuDo8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0icHNJbXBvcnRUZXh0YXJlYSIgcm93cz0iNiI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHNJbXBvcnRNb2RhbEFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icHNJbXBvcnRBY2NlcHRCdG4iIGNsYXNzPSJwbGF0aVNlYXJjaEJ0biI+0J/RgNC40L3Rj9GC0Yw8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InBzSW1wb3J0Q2FuY2VsQnRuIiBjbGFzcz0icGxhdGlTZWFyY2hCdG4iPtCe0YLQvNC10L3QsDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltcG9ydE1vZGFsKTsKCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHNJbXBvcnRBY2NlcHRCdG4nKS5vbmNsaWNrID0gcHNfaGFuZGxlSW1wb3J0OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzSW1wb3J0Q2FuY2VsQnRuJykub25jbGljayA9ICgpID0+IGltcG9ydE1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzSW1wb3J0VGV4dGFyZWEnKS5mb2N1cygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwc19oYW5kbGVJbXBvcnQoKSB7CiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc0ltcG9ydFRleHRhcmVhJyk7CiAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc0ltcG9ydE1vZGFsJyk7CiAgICAgICAgICAgICAgICBpZiAoIXRleHRhcmVhIHx8ICFpbXBvcnRNb2RhbCkgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0ZXh0YXJlYS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICBpZiAodGV4dCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydGVkS2V5d29yZHMgPSB0ZXh0LnNwbGl0KCcsJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGsgPT4gay50cmltKCkudG9Mb3dlckNhc2UoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGsgPT4gay5sZW5ndGggPiAwKTsKICAgICAgICAgICAgICAgICAgICBwc19leGNsdXNpb25LZXl3b3JkcyA9IFsuLi5uZXcgU2V0KGltcG9ydGVkS2V5d29yZHMpXTsKICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShQU19FWENMVVNJT05fU1RPUkFHRV9LRVksIHBzX2V4Y2x1c2lvbktleXdvcmRzKTsKICAgICAgICAgICAgICAgICAgICBwc19yZW5kZXJFeGNsdXNpb25UYWdzKCk7CiAgICAgICAgICAgICAgICAgICAgcHNfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tQbGF0aVNlYXJjaF0g0KHQv9C40YHQvtC6INC40YHQutC70Y7Rh9C10L3QuNC5INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvS4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoItCf0L7Qu9C1INCy0LLQvtC00LAg0L/Rg9GB0YLQvtC1LiDQmNC80L/QvtGA0YIg0L3QtSDQstGL0L/QvtC70L3QtdC9LiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW1wb3J0TW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIC0tLSDQodC+0LfQtNCw0L3QuNC1IFVJIC0tLQogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVQbGF0aU1vZGFsKCkgewogICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxhdGlTZWFyY2hNb2RhbCcpOwogICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ01vZGFsKSBleGlzdGluZ01vZGFsLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgICBwc19tb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgIHBzX21vZGFsLmlkID0gJ3BsYXRpU2VhcmNoTW9kYWwnOwoKICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICBjb250YWluZXIuaWQgPSAncGxhdGlTZWFyY2hDb250YWluZXInOwoKICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICBoZWFkZXIuaWQgPSAncGxhdGlTZWFyY2hIZWFkZXInOwoKICAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hJbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgIHNlYXJjaElucHV0Q29udGFpbmVyLmNsYXNzTmFtZSA9ICdwbGF0aVNlYXJjaElucHV0Q29udGFpbmVyJzsKICAgICAgICAgICAgICAgICBwc19zZWFyY2hJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICAgcHNfc2VhcmNoSW5wdXQuaWQgPSAncGxhdGlTZWFyY2hJbnB1dCc7CiAgICAgICAgICAgICAgICAgcHNfc2VhcmNoSW5wdXQudHlwZSA9ICd0ZXh0JzsKICAgICAgICAgICAgICAgICBwc19zZWFyY2hJbnB1dC5wbGFjZWhvbGRlciA9ICfQktCy0LXQtNC40YLQtSDQvdCw0LfQstCw0L3QuNC1INC40LPRgNGLINC40LvQuCDRgtC+0LLQsNGA0LAuLi4nOwogICAgICAgICAgICAgICAgIHBzX3NlYXJjaElucHV0LmF1dG9jb21wbGV0ZSA9ICdvZmYnOwogICAgICAgICAgICAgICAgIHBzX3NlYXJjaElucHV0Lm9ua2V5ZG93biA9IChlKSA9PiB7IGlmIChlLmtleSA9PT0gJ0VudGVyJykgcHNfdHJpZ2dlclNlYXJjaCgpOyB9OwogICAgICAgICAgICAgICAgIHBzX3NlYXJjaElucHV0Lm9uaW5wdXQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChwc19zdWdnZXN0RGVib3VuY2VUaW1lb3V0KTsKICAgICAgICAgICAgICAgICAgICAgcHNfc3VnZ2VzdERlYm91bmNlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gcHNfZmV0Y2hTdWdnZXN0aW9ucyhwc19zZWFyY2hJbnB1dC52YWx1ZSksIFBTX1NVR0dFU1RfREVCT1VOQ0VfTVMpOwogICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgcHNfc2VhcmNoSW5wdXQub25ibHVyID0gKCkgPT4geyBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKHBzX3N1Z2dlc3Rpb25zRGl2KSBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9LCAxNTApOyB9OwoKICAgICAgICAgICAgICAgICBwc19zdWdnZXN0aW9uc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgIHBzX3N1Z2dlc3Rpb25zRGl2LmlkID0gJ3BsYXRpU2VhcmNoU3VnZ2VzdGlvbnMnOwogICAgICAgICAgICAgICAgIHNlYXJjaElucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKHBzX3NlYXJjaElucHV0KTsKICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dENvbnRhaW5lci5hcHBlbmRDaGlsZChwc19zdWdnZXN0aW9uc0Rpdik7CiAgICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHNlYXJjaElucHV0Q29udGFpbmVyKTsKCiAgICAgICAgICAgICAgICAgcHNfc2VhcmNoQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgcHNfc2VhcmNoQnRuLnRleHRDb250ZW50ID0gJ9Cd0LDQudGC0LgnOwogICAgICAgICAgICAgICAgIHBzX3NlYXJjaEJ0bi5pZCA9ICdwbGF0aVNlYXJjaEdvQnRuJzsKICAgICAgICAgICAgICAgICBwc19zZWFyY2hCdG4uY2xhc3NOYW1lID0gJ3BsYXRpU2VhcmNoQnRuJzsKICAgICAgICAgICAgICAgICBwc19zZWFyY2hCdG4ub25jbGljayA9IHBzX3RyaWdnZXJTZWFyY2g7CiAgICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHBzX3NlYXJjaEJ0bik7CgogICAgICAgICAgICAgICAgIHBzX3Jlc2V0U29ydEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgIHBzX3Jlc2V0U29ydEJ0bi5pZCA9ICdwbGF0aVJlc2V0U29ydEJ0bic7CiAgICAgICAgICAgICAgICAgcHNfcmVzZXRTb3J0QnRuLmNsYXNzTmFtZSA9ICdwbGF0aVNlYXJjaEJ0bic7CiAgICAgICAgICAgICAgICAgcHNfcmVzZXRTb3J0QnRuLnRpdGxlID0gJ9Ch0LHRgNC+0YHQuNGC0Ywg0YHQvtGA0YLQuNGA0L7QstC60YMgKNCg0LXQu9C10LLQsNC90YLQvdC+0YHRgtGMKSc7CiAgICAgICAgICAgICAgICAgcHNfcmVzZXRTb3J0QnRuLmlubmVySFRNTCA9IGA8c3ZnIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTIgNFYxTDggNWw0IDRWNmMzLjMxIDAgNiAyLjY5IDYgNnMtMi42OSA2LTYgNnMtNi0yLjY5LTYtNkg0YzAgNC40MiAzLjU4IDggOCA4czgtMy41OCA4LThzLTMuNTgtOC04LThaIi8+PC9zdmc+YDsKICAgICAgICAgICAgICAgICBwc19yZXNldFNvcnRCdG4ub25jbGljayA9ICgpID0+IHBzX3Jlc2V0U29ydCh0cnVlKTsKICAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocHNfcmVzZXRTb3J0QnRuKTsKCiAgICAgICAgICAgICAgICAgcHNfc29ydFByaWNlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgcHNfc29ydFByaWNlQnRuLmNsYXNzTmFtZSA9ICdwbGF0aVNlYXJjaEJ0biBzb3J0QnRuJzsKICAgICAgICAgICAgICAgICBwc19zb3J0UHJpY2VCdG4uZGF0YXNldC5zb3J0ID0gJ3ByaWNlJzsKICAgICAgICAgICAgICAgICBwc19zb3J0UHJpY2VCdG4ub25jbGljayA9ICgpID0+IHBzX2hhbmRsZVNvcnQoJ3ByaWNlJyk7CiAgICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHBzX3NvcnRQcmljZUJ0bik7CgogICAgICAgICAgICAgICAgIHBzX3NvcnRTYWxlc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgIHBzX3NvcnRTYWxlc0J0bi5jbGFzc05hbWUgPSAncGxhdGlTZWFyY2hCdG4gc29ydEJ0bic7CiAgICAgICAgICAgICAgICAgcHNfc29ydFNhbGVzQnRuLmRhdGFzZXQuc29ydCA9ICdzYWxlcyc7CiAgICAgICAgICAgICAgICAgcHNfc29ydFNhbGVzQnRuLm9uY2xpY2sgPSAoKSA9PiBwc19oYW5kbGVTb3J0KCdzYWxlcycpOwogICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChwc19zb3J0U2FsZXNCdG4pOwoKICAgICAgICAgICAgICAgICBwc19hZHZTb3J0QnRuQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgcHNfYWR2U29ydEJ0bkNvbnRhaW5lci5pZCA9ICdwbGF0aVNlYXJjaEFkdlNvcnRCdG5Db250YWluZXInOwogICAgICAgICAgICAgICAgIHBzX2FkdlNvcnRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgICAgICBwc19hZHZTb3J0QnRuLmlkID0gJ3BsYXRpU2VhcmNoQWR2U29ydEJ0bic7CiAgICAgICAgICAgICAgICAgcHNfYWR2U29ydEJ0bi5jbGFzc05hbWUgPSAncGxhdGlTZWFyY2hCdG4gc29ydEJ0bic7CiAgICAgICAgICAgICAgICAgcHNfYWR2U29ydEJ0bkNvbnRhaW5lci5hcHBlbmRDaGlsZChwc19hZHZTb3J0QnRuKTsKICAgICAgICAgICAgICAgICBwc19hZHZTb3J0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgIHBzX2FkdlNvcnRNZW51LmlkID0gJ3BsYXRpU2VhcmNoQWR2U29ydE1lbnUnOwogICAgICAgICAgICAgICAgIHBzX2FkdlNvcnRPcmRlci5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRJbmZvID0gcHNfYWR2YW5jZWRTb3J0c1trZXldOwogICAgICAgICAgICAgICAgICAgICBjb25zdCBtZW51SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICBtZW51SXRlbS5jbGFzc05hbWUgPSAncGxhdGlTZWFyY2hTb3J0TWVudUl0ZW0nOwogICAgICAgICAgICAgICAgICAgICBtZW51SXRlbS5kYXRhc2V0LnNvcnQgPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtLmlubmVySFRNTCA9IGAke3NvcnRJbmZvLm5hbWV9IDxzcGFuIGNsYXNzPSJzb3J0QXJyb3ciPjwvc3Bhbj5gOwogICAgICAgICAgICAgICAgICAgICBtZW51SXRlbS5vbmNsaWNrID0gKCkgPT4gcHNfaGFuZGxlU29ydChrZXkpOwogICAgICAgICAgICAgICAgICAgICBwc19hZHZTb3J0TWVudS5hcHBlbmRDaGlsZChtZW51SXRlbSk7CiAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgcHNfYWR2U29ydEJ0bkNvbnRhaW5lci5hcHBlbmRDaGlsZChwc19hZHZTb3J0TWVudSk7CiAgICAgICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHBzX2FkdlNvcnRCdG5Db250YWluZXIpOwoKICAgICAgICAgICAgICAgICBwc19jdXJyZW5jeVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpOwogICAgICAgICAgICAgICAgIHBzX2N1cnJlbmN5U2VsZWN0LmlkID0gJ3BsYXRpU2VhcmNoQ3VycmVuY3lTZWxlY3QnOwogICAgICAgICAgICAgICAgIFsnUlVSJywgJ1VTRCcsICdFVVInLCAnVUFIJ10uZm9yRWFjaChjdXJyID0+IHsKICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGN1cnI7IG9wdGlvbi50ZXh0Q29udGVudCA9IGN1cnI7CiAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyID09PSBwc19jdXJyZW50Q3VycmVuY3kpIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgIHBzX2N1cnJlbmN5U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgcHNfY3VycmVuY3lTZWxlY3Qub25jaGFuZ2UgPSBwc19oYW5kbGVDdXJyZW5jeUNoYW5nZTsKICAgICAgICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocHNfY3VycmVuY3lTZWxlY3QpOwoKICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKCiAgICAgICAgICAgICAgICAgcHNfcmVzdWx0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgIHBzX3Jlc3VsdHNDb250YWluZXIuaWQgPSAncGxhdGlTZWFyY2hSZXN1bHRzQ29udGFpbmVyJzsKICAgICAgICAgICAgICAgICBwc19zdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICBwc19zdGF0dXNEaXYuaWQgPSAncGxhdGlTZWFyY2hSZXN1bHRzU3RhdHVzJzsKICAgICAgICAgICAgICAgICBwc19yZXN1bHRzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgcHNfcmVzdWx0c0Rpdi5pZCA9ICdwbGF0aVNlYXJjaFJlc3VsdHMnOwogICAgICAgICAgICAgICAgIHBzX3Jlc3VsdHNDb250YWluZXIuYXBwZW5kQ2hpbGQocHNfc3RhdHVzRGl2KTsKICAgICAgICAgICAgICAgICBwc19yZXN1bHRzQ29udGFpbmVyLmFwcGVuZENoaWxkKHBzX3Jlc3VsdHNEaXYpOwogICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwc19yZXN1bHRzQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgICBwc19tb2RhbC5hcHBlbmRDaGlsZChjb250YWluZXIpOwoKICAgICAgICAgICAgICAgICBwc19maWx0ZXJzUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICBwc19maWx0ZXJzUGFuZWwuaWQgPSAncGxhdGlTZWFyY2hGaWx0ZXJzUGFuZWwnOwogICAgICAgICAgICAgICAgIHBzX2ZpbHRlcnNQYW5lbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsdGVyR3JvdXAiPiA8aDQ+0KbQtdC90LAgKCR7cHNfY3VycmVudEN1cnJlbmN5fSkgJHtwc19jcmVhdGVSZXNldEJ1dHRvbkhUTUwoJ3ByaWNlJyl9PC9oND4gPGRpdiBjbGFzcz0iZmlsdGVyUmFuZ2VJbnB1dHMiPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0icHNGaWx0ZXJQcmljZU1pbiIgcGxhY2Vob2xkZXI9ItC+0YIiIG1pbj0iMCI+IDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwc0ZpbHRlclByaWNlTWF4IiBwbGFjZWhvbGRlcj0i0LTQviIgbWluPSIwIj4gPC9kaXY+IDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbHRlckdyb3VwIj4gPGg0PtCf0YDQvtC00LDQttC4ICR7cHNfY3JlYXRlUmVzZXRCdXR0b25IVE1MKCdzYWxlcycpfTwvaDQ+IDxkaXYgY2xhc3M9ImZpbHRlclJhbmdlSW5wdXRzIj4gPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InBzRmlsdGVyU2FsZXNNaW4iIHBsYWNlaG9sZGVyPSLQvtGCIiBtaW49IjAiPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0icHNGaWx0ZXJTYWxlc01heCIgcGxhY2Vob2xkZXI9ItC00L4iIG1pbj0iMCI+IDwvZGl2PiA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXJHcm91cCI+IDxoND7QoNC10LnRgtC40L3QsyDQv9GA0L7QtNCw0LLRhtCwICR7cHNfY3JlYXRlUmVzZXRCdXR0b25IVE1MKCdyYXRpbmcnKX08L2g0PiA8ZGl2IGNsYXNzPSJmaWx0ZXJSYW5nZUlucHV0cyI+IDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwc0ZpbHRlclJhdGluZ01pbiIgcGxhY2Vob2xkZXI9ItC+0YIiIHN0ZXA9IjAuMSIgbWluPSIwIj4gPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InBzRmlsdGVyUmF0aW5nTWF4IiBwbGFjZWhvbGRlcj0i0LTQviIgc3RlcD0iMC4xIiBtaW49IjAiPiA8L2Rpdj4gPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsdGVyR3JvdXAiPiA8aDQ+0J7Qv9GG0LjQuCAke3BzX2NyZWF0ZVJlc2V0QnV0dG9uSFRNTCgnb3B0aW9ucycpfTwvaDQ+IDxkaXYgY2xhc3M9ImZpbHRlckNoZWNrYm94Ij4gPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InBzRmlsdGVySGlkZUJhZFJldmlld3MiPiDQodC60YDRi9GC0Ywg0YEg0L/Qu9C+0YUuINC+0YLQt9GL0LLQsNC80Lg8L2xhYmVsPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZmlsdGVyQ2hlY2tib3giPiA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0icHNGaWx0ZXJIaWRlUmV0dXJucyI+INCh0LrRgNGL0YLRjCDRgSDQstC+0LfQstGA0LDRgtCw0LzQuDwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmaWx0ZXJDaGVja2JveCI+IDxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJwc0ZpbHRlck9ubHlEaXNjb3VudCI+INCj0YfQsNGB0YLQuNC1INCyINGB0LrQuNC00LrQsNGFPC9sYWJlbD4gPC9kaXY+IDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbHRlckdyb3VwIj4gPGg0PtCU0LDRgtCwINC00L7QsdCw0LLQu9C10L3QuNGPICR7cHNfY3JlYXRlUmVzZXRCdXR0b25IVE1MKCdkYXRlJyl9PC9oND4gPGRpdiBjbGFzcz0iZmlsdGVyU2VsZWN0Ij4gPHNlbGVjdCBpZD0icHNGaWx0ZXJEYXRlU2VsZWN0Ij4gJHtPYmplY3QuZW50cmllcyhwc19kYXRlRmlsdGVyT3B0aW9ucykubWFwKChba2V5LCB0ZXh0XSkgPT4gYDxvcHRpb24gdmFsdWU9IiR7a2V5fSI+JHt0ZXh0fTwvb3B0aW9uPmApLmpvaW4oJycpfSA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InBzUmVzZXRBbGxGaWx0ZXJzQnRuIiBjbGFzcz0icGxhdGlTZWFyY2hCdG4iPtCh0LHRgNC+0YHQuNGC0Ywg0LLRgdC1INGE0LjQu9GM0YLRgNGLPC9idXR0b24+CiAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICBwc19tb2RhbC5hcHBlbmRDaGlsZChwc19maWx0ZXJzUGFuZWwpOwoKICAgICAgICAgICAgICAgICBwc19leGNsdXNpb25UYWdzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgcHNfZXhjbHVzaW9uVGFnc0Rpdi5pZCA9ICdwbGF0aVNlYXJjaEV4Y2x1c2lvblRhZ3MnOwogICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2x1c2lvbklucHV0R3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICBleGNsdXNpb25JbnB1dEdyb3VwLmNsYXNzTmFtZSA9ICdleGNsdXNpb25JbnB1dEdyb3VwJzsKICAgICAgICAgICAgICAgICBwc19leGNsdWRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgICAgICAgICAgIHBzX2V4Y2x1ZGVJbnB1dC50eXBlID0gJ3RleHQnOwogICAgICAgICAgICAgICAgIHBzX2V4Y2x1ZGVJbnB1dC5pZCA9ICdwbGF0aVNlYXJjaEV4Y2x1ZGVJbnB1dCc7CiAgICAgICAgICAgICAgICAgcHNfZXhjbHVkZUlucHV0LnBsYWNlaG9sZGVyID0gJ9CY0YHQutC70Y7Rh9C40YLRjCDRgdC70L7QstC+JzsKICAgICAgICAgICAgICAgICBwc19leGNsdWRlSW5wdXQub25rZXlkb3duID0gKGUpID0+IHsgaWYgKGUua2V5ID09PSAnRW50ZXInKSBwc19hZGRGaWx0ZXJLZXl3b3JkKCk7IH07CiAgICAgICAgICAgICAgICAgcHNfYWRkRXhjbHVkZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgIHBzX2FkZEV4Y2x1ZGVCdG4uaWQgPSAncGxhdGlTZWFyY2hBZGRFeGNsdWRlQnRuJzsKICAgICAgICAgICAgICAgICBwc19hZGRFeGNsdWRlQnRuLmlubmVySFRNTCA9IGA8c3ZnIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTEwIDIuNWEuNzUuNzUgMCAwIDEgLjc1Ljc1djZoNmEuNzUuNzUgMCAwIDEgMCAxLjVoLTZ2NmEuNzUuNzUgMCAwIDEtMS41IDB2LTZoLTZhLjc1Ljc1IDAgMCAxIDAtMS41aDZ2LTZhLjc1Ljc1IDAgMCAxIC43NS0uNzVaIiAvPjwvc3ZnPmA7CiAgICAgICAgICAgICAgICAgcHNfYWRkRXhjbHVkZUJ0bi5vbmNsaWNrID0gcHNfYWRkRmlsdGVyS2V5d29yZDsKICAgICAgICAgICAgICAgICBleGNsdXNpb25JbnB1dEdyb3VwLmFwcGVuZENoaWxkKHBzX2V4Y2x1ZGVJbnB1dCk7CiAgICAgICAgICAgICAgICAgZXhjbHVzaW9uSW5wdXRHcm91cC5hcHBlbmRDaGlsZChwc19hZGRFeGNsdWRlQnRuKTsKICAgICAgICAgICAgICAgICBwc19leGNsdXNpb25UYWdzRGl2LmFwcGVuZENoaWxkKGV4Y2x1c2lvbklucHV0R3JvdXApOwoKICAgICAgICAgICAgICAgICBjb25zdCBleGNsdXNpb25BY3Rpb25zRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgZXhjbHVzaW9uQWN0aW9uc0Rpdi5jbGFzc05hbWUgPSAncHNFeGNsdXNpb25BY3Rpb25zJzsKCiAgICAgICAgICAgICAgICAgY29uc3QgZXhwb3J0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLmlkID0gJ3BzRXhwb3J0RXhjbHVzaW9uc0J0bic7CiAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLmNsYXNzTmFtZSA9ICdwbGF0aVNlYXJjaEJ0biBwc0V4Y2x1c2lvbkFjdGlvbkJ0bic7CiAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLnRpdGxlID0gJ9Ct0LrRgdC/0L7RgNGCINGB0L/QuNGB0LrQsCDQuNGB0LrQu9GO0YfQtdC90LjQuSc7CiAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLmlubmVySFRNTCA9ICfihpAnCiAgICAgICAgICAgICAgICAgZXhwb3J0QnRuLm9uY2xpY2sgPSBwc19leHBvcnRFeGNsdXNpb25zOwogICAgICAgICAgICAgICAgIGV4Y2x1c2lvbkFjdGlvbnNEaXYuYXBwZW5kQ2hpbGQoZXhwb3J0QnRuKTsKCiAgICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgaW1wb3J0QnRuLmlkID0gJ3BzSW1wb3J0RXhjbHVzaW9uc0J0bic7CiAgICAgICAgICAgICAgICAgaW1wb3J0QnRuLmNsYXNzTmFtZSA9ICdwbGF0aVNlYXJjaEJ0biBwc0V4Y2x1c2lvbkFjdGlvbkJ0bic7CiAgICAgICAgICAgICAgICAgaW1wb3J0QnRuLnRpdGxlID0gJ9CY0LzQv9C+0YDRgiDRgdC/0LjRgdC60LAg0LjRgdC60LvRjtGH0LXQvdC40LknOwogICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5pbm5lckhUTUwgPSAn4oaSJzsKICAgICAgICAgICAgICAgICBpbXBvcnRCdG4ub25jbGljayA9IHBzX3Nob3dJbXBvcnRNb2RhbDsKICAgICAgICAgICAgICAgICBleGNsdXNpb25BY3Rpb25zRGl2LmFwcGVuZENoaWxkKGltcG9ydEJ0bik7CgogICAgICAgICAgICAgICAgIHBzX2V4Y2x1c2lvblRhZ3NEaXYuYXBwZW5kQ2hpbGQoZXhjbHVzaW9uQWN0aW9uc0Rpdik7CgogICAgICAgICAgICAgICAgIHBzX2V4Y2x1c2lvblRhZ3NMaXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgcHNfZXhjbHVzaW9uVGFnc0xpc3REaXYuaWQgPSAncGxhdGlFeGNsdXNpb25UYWdzTGlzdCc7CiAgICAgICAgICAgICAgICAgcHNfZXhjbHVzaW9uVGFnc0Rpdi5hcHBlbmRDaGlsZChwc19leGNsdXNpb25UYWdzTGlzdERpdik7CiAgICAgICAgICAgICAgICAgcHNfbW9kYWwuYXBwZW5kQ2hpbGQocHNfZXhjbHVzaW9uVGFnc0Rpdik7CgogICAgICAgICAgICAgICAgIHBzX2Nsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgcHNfY2xvc2VCdG4uaWQgPSAncGxhdGlTZWFyY2hDbG9zZUJ0bic7CiAgICAgICAgICAgICAgICAgcHNfY2xvc2VCdG4uaW5uZXJIVE1MID0gJyZ0aW1lczsnOwogICAgICAgICAgICAgICAgIHBzX2Nsb3NlQnRuLm9uY2xpY2sgPSBoaWRlUGxhdGlNb2RhbDsKICAgICAgICAgICAgICAgICBwc19tb2RhbC5hcHBlbmRDaGlsZChwc19jbG9zZUJ0bik7CgogICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHNfbW9kYWwpOwoKICAgICAgICAgICAgICAgICAvLyDQndCw0LfQvdCw0YfQtdC90LjQtSDQv9C10YDQtdC80LXQvdC90YvRhSDRjdC70LXQvNC10L3RgtCw0LwgVUkKICAgICAgICAgICAgICAgICBwc19maWx0ZXJQcmljZU1pbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc0ZpbHRlclByaWNlTWluJyk7CiAgICAgICAgICAgICAgICAgcHNfZmlsdGVyUHJpY2VNYXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHNGaWx0ZXJQcmljZU1heCcpOwogICAgICAgICAgICAgICAgIHBzX2ZpbHRlclNhbGVzTWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzRmlsdGVyU2FsZXNNaW4nKTsKICAgICAgICAgICAgICAgICBwc19maWx0ZXJTYWxlc01heCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc0ZpbHRlclNhbGVzTWF4Jyk7CiAgICAgICAgICAgICAgICAgcHNfZmlsdGVyUmF0aW5nTWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzRmlsdGVyUmF0aW5nTWluJyk7CiAgICAgICAgICAgICAgICAgcHNfZmlsdGVyUmF0aW5nTWF4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzRmlsdGVyUmF0aW5nTWF4Jyk7CiAgICAgICAgICAgICAgICAgcHNfZmlsdGVySGlkZUJhZFJldmlld3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHNGaWx0ZXJIaWRlQmFkUmV2aWV3cycpOwogICAgICAgICAgICAgICAgIHBzX2ZpbHRlckhpZGVSZXR1cm5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzRmlsdGVySGlkZVJldHVybnMnKTsKICAgICAgICAgICAgICAgICBwc19maWx0ZXJPbmx5RGlzY291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHNGaWx0ZXJPbmx5RGlzY291bnQnKTsKICAgICAgICAgICAgICAgICBwc19maWx0ZXJEYXRlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BzRmlsdGVyRGF0ZVNlbGVjdCcpOwogICAgICAgICAgICAgICAgIHBzX3Jlc2V0QWxsRmlsdGVyc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwc1Jlc2V0QWxsRmlsdGVyc0J0bicpOwoKICAgICAgICAgICAgICAgICBwc19hZGRGaWx0ZXJFdmVudExpc3RlbmVycygpOwogICAgICAgICAgICAgICAgIGFwcGx5TG9hZGVkRmlsdGVyc1RvVUkoKTsKICAgICAgICAgICAgICAgICBwc191cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CgogICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUVzYyhldmVudCkgewogICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykgewogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHNJbXBvcnRNb2RhbCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltcG9ydE1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0TW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVQbGF0aU1vZGFsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVzYyk7CiAgICAgICAgICAgICAgICAgcHNfbW9kYWwuX2VzY0hhbmRsZXIgPSBoYW5kbGVFc2M7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2NyZWF0ZVJlc2V0QnV0dG9uSFRNTChmaWx0ZXJLZXkpIHsKICAgICAgICAgICAgICAgICByZXR1cm4gYDxidXR0b24gY2xhc3M9ImZpbHRlclJlc2V0QnRuIiB0aXRsZT0i0KHQsdGA0L7RgdC40YLRjCDRhNC40LvRjNGC0YAiIGRhdGEtZmlsdGVyLWtleT0iJHtmaWx0ZXJLZXl9Ij48c3ZnIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEzIDNhOSA5IDAgMCAwLTkgOUgxbDMuODkgMy44OS4wNy4xNEw5IDEySDZjMC0zLjg3IDMuMTMtNyA3LTdzNyAzLjEzIDcgNy0zLjEzIDctNyA3Yy0xLjkzIDAtMy42OC0uNzktNC45NC0yLjA2bC0xLjQyIDEuNDJBOC45NTQgOC45NTQgMCAwIDAgMTMgMjFhOSA5IDAgMCAwIDAtMTh6bS0xIDV2NWw0LjI4IDIuNTQuNzItMS4yMS0zLjUtMi4wOFY4SDEyeiI+PC9wYXRoPjwvc3ZnPjwvYnV0dG9uPmA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIC0tLSDQo9C/0YDQsNCy0LvQtdC90LjQtSDQvNC+0LTQsNC70YzQvdGL0Lwg0L7QutC90L7QvCAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1BsYXRpTW9kYWwoKSB7CiAgICAgICAgICAgICAgICAgaWYgKCFwc19tb2RhbCkgY3JlYXRlUGxhdGlNb2RhbCgpOwogICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVOYW1lID0gZ2V0U3RlYW1HYW1lTmFtZSgpOwogICAgICAgICAgICAgICAgIGlmIChnYW1lTmFtZSAmJiAhcHNfc2VhcmNoSW5wdXQudmFsdWUpIHsgcHNfc2VhcmNoSW5wdXQudmFsdWUgPSBnYW1lTmFtZTsgfQoKICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICAgICAgICAgcHNfbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgcHNfbW9kYWwuc2Nyb2xsVG9wID0gMDsKCiAgICAgICAgICAgICAgICAgcHNfcmVuZGVyRXhjbHVzaW9uVGFncygpOwogICAgICAgICAgICAgICAgIGFwcGx5TG9hZGVkRmlsdGVyc1RvVUkoKTsKICAgICAgICAgICAgICAgICBwc191cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsKICAgICAgICAgICAgICAgICBwc191cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CgogICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXRpU2VhcmNoSGVhZGVyJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyUmVjdCA9IGhlYWRlciA/IGhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IHsgYm90dG9tOiBQU19UT1BfT0ZGU0VUX0ZPUl9TSURFX1BBTkVMUyB9OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RvcE9mZnNldCA9IGhlYWRlclJlY3QuYm90dG9tICsgNTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBgY2FsYygxMDB2aCAtICR7bmV3VG9wT2Zmc2V0fXB4IC0gJHtQU19CT1RUT01fT0ZGU0VUX0ZPUl9TSURFX1BBTkVMU31weClgOwogICAgICAgICAgICAgICAgICAgIGlmIChwc19maWx0ZXJzUGFuZWwpIHsgcHNfZmlsdGVyc1BhbmVsLnN0eWxlLnRvcCA9IGAke25ld1RvcE9mZnNldH1weGA7IHBzX2ZpbHRlcnNQYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBhdmFpbGFibGVIZWlnaHQ7fQogICAgICAgICAgICAgICAgICAgIGlmIChwc19leGNsdXNpb25UYWdzRGl2KSB7IHBzX2V4Y2x1c2lvblRhZ3NEaXYuc3R5bGUudG9wID0gYCR7bmV3VG9wT2Zmc2V0fXB4YDsgcHNfZXhjbHVzaW9uVGFnc0Rpdi5zdHlsZS5tYXhIZWlnaHQgPSBhdmFpbGFibGVIZWlnaHQ7IH0KICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgaWYgKHBzX3NlYXJjaElucHV0LnZhbHVlLnRyaW0oKSkgeyBwc190cmlnZ2VyU2VhcmNoKCk7IH0KICAgICAgICAgICAgICAgICBlbHNlIHsgcHNfdXBkYXRlU3RhdHVzKCfQktCy0LXQtNC40YLQtSDQt9Cw0L/RgNC+0YEg0LTQu9GPINC/0L7QuNGB0LrQsC4nKTsgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVQbGF0aU1vZGFsKCkgewogICAgICAgICAgICAgICAgIGlmIChwc19tb2RhbCkgewogICAgICAgICAgICAgICAgICAgICBwc19tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICBpZiAocHNfc3VnZ2VzdGlvbnNEaXYpIHBzX3N1Z2dlc3Rpb25zRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocHNfbW9kYWwuX2VzY0hhbmRsZXIpIHsgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHBzX21vZGFsLl9lc2NIYW5kbGVyKTsgZGVsZXRlIHBzX21vZGFsLl9lc2NIYW5kbGVyOyB9CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCe0LHQvdC+0LLQu9C10L3QuNC1INGB0YLQsNGC0YPRgdCwIC0tLQogICAgICAgICAgICBmdW5jdGlvbiBwc191cGRhdGVTdGF0dXMobWVzc2FnZSwgaXNMb2FkaW5nID0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGlmIChwc19zdGF0dXNEaXYpIHsKICAgICAgICAgICAgICAgICAgICBwc19zdGF0dXNEaXYuaW5uZXJIVE1MID0gbWVzc2FnZSArIChpc0xvYWRpbmcgPyAnIDxzcGFuIGNsYXNzPSJzcGlubmVyIj48L3NwYW4+JyA6ICcnKTsKICAgICAgICAgICAgICAgICAgICBwc19zdGF0dXNEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgaWYocHNfY3VycmVudFJlc3VsdHMubGVuZ3RoID09PSAwICYmIG1lc3NhZ2UgJiYgIWlzTG9hZGluZykgewogICAgICAgICAgICAgICAgICAgICAgICBwc19yZXN1bHRzRGl2LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCX0LDQv9GD0YHQuiDQv9C+0LjRgdC60LAgLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX3RyaWdnZXJTZWFyY2goKSB7CiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHBzX3NlYXJjaElucHV0LnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgIGlmIChwc19zdWdnZXN0aW9uc0RpdikgcHNfc3VnZ2VzdGlvbnNEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgICBwc191cGRhdGVTdGF0dXMoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQt9Cw0L/RgNC+0YEuJyk7CiAgICAgICAgICAgICAgICAgICAgcHNfY3VycmVudFJlc3VsdHMgPSBbXTsgcHNfcmVuZGVyUmVzdWx0cygpOyByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwc19jdXJyZW50UmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgcHNfcmVzZXRTb3J0KGZhbHNlKTsKICAgICAgICAgICAgICAgIGFwcGx5TG9hZGVkRmlsdGVyc1RvVUkoKTsKICAgICAgICAgICAgICAgIHBzX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgIHBzX3VwZGF0ZVN0YXR1cygn0J/QvtC70YPRh9C10L3QuNC1INC+0LHRidC10LPQviDQutC+0LvQuNGH0LXRgdGC0LLQsCDRgtC+0LLQsNGA0L7Qsi4uLicsIHRydWUpOwogICAgICAgICAgICAgICAgcHNfZmV0Y2hUb3RhbENvdW50KHF1ZXJ5KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCk0YPQvdC60YbQuNC4INC/0L7QtNGB0LrQsNC30L7QuiAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gcHNfZmV0Y2hTdWdnZXN0aW9ucyhxdWVyeSkgewogICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRRdWVyeSA9IHF1ZXJ5LnRyaW0oKTsKICAgICAgICAgICAgICAgICBpZiAodHJpbW1lZFF1ZXJ5Lmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX3N1Z2dlc3Rpb25zRGl2KSB7IHBzX3N1Z2dlc3Rpb25zRGl2LmlubmVySFRNTCA9ICcnOyBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9IHJldHVybjsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IHE6IHRyaW1tZWRRdWVyeSwgdjogMiB9KTsKICAgICAgICAgICAgICAgICB0cnkgeyBpZiAodHlwZW9mIHBsYW5nICE9PSAndW5kZWZpbmVkJykgcGFyYW1zLmFwcGVuZCgnbGFuZycsIHBsYW5nKTsgaWYgKHR5cGVvZiBjbGllbnRnZW8gIT09ICd1bmRlZmluZWQnKSBwYXJhbXMuYXBwZW5kKCdnZW8nLCBjbGllbnRnZW8pOyB9CiAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCJQbGF0aVNlYXJjaDogQ291bGQgbm90IGdldCBwbGFuZy9jbGllbnRnZW8gZm9yIHN1Z2dlc3Rpb25zLiIpOyB9CgogICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwgdXJsOiBgJHtQU19TVUdHRVNUX0FQSV9VUkx9PyR7cGFyYW1zLnRvU3RyaW5nKCl9YCwgdGltZW91dDogNTAwMCwKICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgcHNfcmVuZGVyU3VnZ2VzdGlvbnMoSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpKTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgaWYgKHBzX3N1Z2dlc3Rpb25zRGl2KSB7IHBzX3N1Z2dlc3Rpb25zRGl2LmlubmVySFRNTCA9ICcnOyBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9IH0KICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oZXJyb3IpIHsgaWYgKHBzX3N1Z2dlc3Rpb25zRGl2KSB7IHBzX3N1Z2dlc3Rpb25zRGl2LmlubmVySFRNTCA9ICcnOyBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9IH0sCiAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7IGlmIChwc19zdWdnZXN0aW9uc0RpdikgeyBwc19zdWdnZXN0aW9uc0Rpdi5pbm5lckhUTUwgPSAnJzsgcHNfc3VnZ2VzdGlvbnNEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSB9CiAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gcHNfcmVuZGVyU3VnZ2VzdGlvbnMoc3VnZ2VzdGlvbnMpIHsKICAgICAgICAgICAgICAgICBpZiAoIXBzX3N1Z2dlc3Rpb25zRGl2KSByZXR1cm47CiAgICAgICAgICAgICAgICAgaWYgKCFzdWdnZXN0aW9ucyB8fCAhQXJyYXkuaXNBcnJheShzdWdnZXN0aW9ucykgfHwgc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgIHBzX3N1Z2dlc3Rpb25zRGl2LmlubmVySFRNTCA9ICcnOyBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyByZXR1cm47CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIHBzX3N1Z2dlc3Rpb25zRGl2LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgIGxldCBhZGRlZFN1Z2dlc3Rpb25zID0gMDsKICAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucy5mb3JFYWNoKHN1Z2dlc3Rpb24gPT4gewogICAgICAgICAgICAgICAgICAgICBpZiAoc3VnZ2VzdGlvbiAmJiBzdWdnZXN0aW9uLm5hbWUgJiYgKHN1Z2dlc3Rpb24udHlwZSA9PT0gItCi0L7QstCw0YDRiyIgfHwgc3VnZ2VzdGlvbi50eXBlID09PSAiU2VhcmNoIiB8fCBzdWdnZXN0aW9uLnR5cGUgPT09ICLQmNCz0YDRiyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9ICdzdWdnZXN0aW9uSXRlbSc7CiAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gc3VnZ2VzdGlvbi5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbm1vdXNlZG93biA9IChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBwc19zZWFyY2hJbnB1dC52YWx1ZSA9IHN1Z2dlc3Rpb24ubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyBwc190cmlnZ2VyU2VhcmNoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgcHNfc3VnZ2VzdGlvbnNEaXYuYXBwZW5kQ2hpbGQoaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICBhZGRlZFN1Z2dlc3Rpb25zKys7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICBwc19zdWdnZXN0aW9uc0Rpdi5zdHlsZS5kaXNwbGF5ID0gYWRkZWRTdWdnZXN0aW9ucyA+IDAgPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAtLS0g0JfQsNC/0YDQvtGB0YsgQVBJIC0tLQogICAgICAgICAgICBmdW5jdGlvbiBwc19mZXRjaFRvdGFsQ291bnQocXVlcnkpIHsKICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsKICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LCBzZWFyY2htb2RlOiAxMCwgc29ydG1vZGU6IFBTX0RFRkFVTFRfU09SVF9NT0RFLAogICAgICAgICAgICAgICAgICAgICBwYWdlc2l6ZTogUFNfUkVTVUxUU19QRVJfUEFHRV9DSEVDSywgcGFnZW51bTogMSwgb3duZXI6IDEsCiAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IDEsIGNoZWNraGlkZXNhbGVzOiAxLCBob3N0OiAncGxhdGkubWFya2V0JwogICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwgdXJsOiBgJHtQU19BUElfQkFTRV9VUkx9PyR7cGFyYW1zLnRvU3RyaW5nKCl9YCwgdGltZW91dDogMTUwMDAsIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UucmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGE/LnJlc3VsdD8udG90YWwgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gZGF0YS5yZXN1bHQudG90YWw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBzX3VwZGF0ZVN0YXR1cyhg0J3QsNC50LTQtdC90L4gJHt0b3RhbH0g0YLQvtCy0LDRgNC+0LIuINCX0LDQs9GA0YPQt9C60LAuLi5gLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfZmV0Y2hBbGxSZXN1bHRzKHF1ZXJ5LCB0b3RhbCwgUFNfREVGQVVMVF9TT1JUX01PREUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBzX3VwZGF0ZVN0YXR1cyhg0J/QviDQt9Cw0L/RgNC+0YHRgyAiJHtxdWVyeX0iINC90LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+LmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwc19jdXJyZW50UmVzdWx0cyA9IFtdOyBwc19yZW5kZXJSZXN1bHRzKCk7IHBzX3VwZGF0ZUZpbHRlclBsYWNlaG9sZGVycygpOyBwc19hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyBwc191cGRhdGVTdGF0dXMoYNCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0L7QsdGJ0LXQs9C+INC60L7Qu9C40YfQtdGB0YLQstCwINGC0L7QstCw0YDQvtCyICjQodGC0LDRgtGD0YE6ICR7cmVzcG9uc2Uuc3RhdHVzfSlgKTsgfQogICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbihlcnJvcikgeyBwc191cGRhdGVTdGF0dXMoJ9Ce0YjQuNCx0LrQsCDRgdC10YLQuCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC+0LHRidC10LPQviDQutC+0LvQuNGH0LXRgdGC0LLQsCDRgtC+0LLQsNGA0L7Qsi4nKTsgfSwKICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiBmdW5jdGlvbigpIHsgcHNfdXBkYXRlU3RhdHVzKCfQktGA0LXQvNGPINC+0LbQuNC00LDQvdC40Y8g0L7RgtCy0LXRgtCwINC+0YIg0YHQtdGA0LLQtdGA0LAgKNC60L7Qu9C40YfQtdGB0YLQstC+KSDQuNGB0YLQtdC60LvQvi4nKTsgfQogICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2ZldGNoQWxsUmVzdWx0cyhxdWVyeSwgdG90YWwsIHNvcnRNb2RlKSB7CiAgICAgICAgICAgICAgICAgY29uc3QgTUFYX1BBR0VfU0laRSA9IDEwMDA7CiAgICAgICAgICAgICAgICAgY29uc3QgZWZmZWN0aXZlUGFnZVNpemUgPSBNYXRoLm1pbih0b3RhbCwgTUFYX1BBR0VfU0laRSk7CiAgICAgICAgICAgICAgICAgaWYgKHRvdGFsID4gTUFYX1BBR0VfU0laRSkgcHNfdXBkYXRlU3RhdHVzKGDQndCw0LnQtNC10L3QviAke3RvdGFsfSDRgtC+0LLQsNGA0L7Qsi4g0JfQsNCz0YDRg9C30LrQsCDQv9C10YDQstGL0YUgJHtNQVhfUEFHRV9TSVpFfS4uLmAsIHRydWUpOwoKICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsKICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LCBzZWFyY2htb2RlOiAxMCwgc29ydG1vZGU6IHNvcnRNb2RlLCBwYWdlc2l6ZTogZWZmZWN0aXZlUGFnZVNpemUsCiAgICAgICAgICAgICAgICAgICAgIHBhZ2VudW06IDEsIG93bmVyOiAxLCBkZXRhaWxzOiAxLCBjaGVja2hpZGVzYWxlczogMSwgaG9zdDogJ3BsYXRpLm1hcmtldCcKICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsIHVybDogYCR7UFNfQVBJX0JBU0VfVVJMfT8ke3BhcmFtcy50b1N0cmluZygpfWAsIHRpbWVvdXQ6IDkwMDAwLCByZXNwb25zZVR5cGU6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhwc19tb2RhbCkpIHJldHVybjsKCiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDAgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UucmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGE/Lml0ZW1zPy5pdGVtICYmIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcy5pdGVtKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwc19jdXJyZW50UmVzdWx0cyA9IGRhdGEuaXRlbXMuaXRlbS5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoeyAuLi5pdGVtLCBvcmlnaW5hbEluZGV4OiBpbmRleCB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRlZENvdW50ID0gcHNfY3VycmVudFJlc3VsdHMubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwc191cGRhdGVTdGF0dXMoYNCX0LDQs9GA0YPQttC10L3QviAke2xvYWRlZENvdW50fSR7dG90YWwgPiBsb2FkZWRDb3VudCA/IGAg0LjQtyAke3RvdGFsfWAgOiAnJ30g0YLQvtCy0LDRgNC+0LIuYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBzX2FwcGx5U29ydChwc19jdXJyZW50U29ydC5maWVsZCwgcHNfY3VycmVudFNvcnQuZGlyZWN0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfcmVuZGVyUmVzdWx0cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwc191cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfdXBkYXRlU3RhdHVzKGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDRgtC+0LLQsNGA0L7Qsjog0L3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0L7RgtCy0LXRgtCwIEFQSS5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfY3VycmVudFJlc3VsdHMgPSBbXTsgcHNfcmVuZGVyUmVzdWx0cygpOyBwc191cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsgcHNfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgcHNfdXBkYXRlU3RhdHVzKGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDRgtC+0LLQsNGA0L7QsiAo0KHRgtCw0YLRg9GBOiAke3Jlc3BvbnNlLnN0YXR1c30pYCk7IH0KICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oZXJyb3IpIHsgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMocHNfbW9kYWwpKSBwc191cGRhdGVTdGF0dXMoJ9Ce0YjQuNCx0LrQsCDRgdC10YLQuCDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDRgtC+0LLQsNGA0L7Qsi4nKTsgfSwKICAgICAgICAgICAgICAgICAgICAgb250aW1lb3V0OiBmdW5jdGlvbigpIHsgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMocHNfbW9kYWwpKSBwc191cGRhdGVTdGF0dXMoJ9CS0YDQtdC80Y8g0L7QttC40LTQsNC90LjRjyDQvtGC0LLQtdGC0LAg0L7RgiDRgdC10YDQstC10YDQsCAo0YLQvtCy0LDRgNGLKSDQuNGB0YLQtdC60LvQvi4nKTsgfQogICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAtLS0g0KHQvtGA0YLQuNGA0L7QstC60LAgLS0tCiAgICAgICAgICAgICBmdW5jdGlvbiBwc19oYW5kbGVTb3J0KGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgbGV0IG5ld0RpcmVjdGlvbjsKICAgICAgICAgICAgICAgICBjb25zdCBzb3J0SW5mbyA9IHBzX2FkdmFuY2VkU29ydHNbZmllbGRdOwogICAgICAgICAgICAgICAgIGlmICghc29ydEluZm8pIHJldHVybjsKCiAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnREaXIgPSAocHNfY3VycmVudFNvcnQuZmllbGQgPT09IGZpZWxkKSA/IHBzX2N1cnJlbnRTb3J0LmRpcmVjdGlvbiA6IHNvcnRJbmZvLmRlZmF1bHREaXI7CgogICAgICAgICAgICAgICAgIGlmIChwc19maXJzdFNvcnRDbGlja1tmaWVsZF0gfHwgcHNfY3VycmVudFNvcnQuZmllbGQgIT09IGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgIG5ld0RpcmVjdGlvbiA9IHNvcnRJbmZvLmRlZmF1bHREaXI7CiAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgbmV3RGlyZWN0aW9uID0gY3VycmVudERpciA9PT0gJ2Rlc2MnID8gJ2FzYycgOiAnZGVzYyc7CiAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwc19maXJzdFNvcnRDbGljaykuZm9yRWFjaChrZXkgPT4gewogICAgICAgICAgICAgICAgICAgICBwc19maXJzdFNvcnRDbGlja1trZXldID0gKGtleSAhPT0gZmllbGQpOwogICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgIHBzX2ZpcnN0U29ydENsaWNrW2ZpZWxkXSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICBwc19jdXJyZW50U29ydC5maWVsZCA9IGZpZWxkOwogICAgICAgICAgICAgICAgIHBzX2N1cnJlbnRTb3J0LmRpcmVjdGlvbiA9IG5ld0RpcmVjdGlvbjsKICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShQU19MQVNUX1NPUlRfU1RPUkFHRV9LRVksIHBzX2N1cnJlbnRTb3J0KTsKCiAgICAgICAgICAgICAgICAgcHNfYXBwbHlTb3J0KGZpZWxkLCBuZXdEaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgIHBzX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgICAgICBwc191cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CiAgICAgICAgICAgICB9CgogICAgICAgICAgICAgZnVuY3Rpb24gcHNfdXBkYXRlU29ydEJ1dHRvbnNTdGF0ZSgpIHsKICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVGaWVsZCA9IHBzX2N1cnJlbnRTb3J0LmZpZWxkOwogICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZURpcmVjdGlvbiA9IHBzX2N1cnJlbnRTb3J0LmRpcmVjdGlvbjsKCiAgICAgICAgICAgICAgICAgICQocHNfc29ydFByaWNlQnRuKS5hZGQocHNfc29ydFNhbGVzQnRuKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICBjb25zdCAkYnRuID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnRuRmllbGQgPSAkYnRuLmRhdGEoJ3NvcnQnKTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVRleHQgPSAoYnRuRmllbGQgPT09ICdwcmljZScpID8gJ9Cm0LXQvdCwJyA6ICfQn9GA0L7QtNCw0LbQuCc7CiAgICAgICAgICAgICAgICAgICAgIGlmIChidG5GaWVsZCA9PT0gYWN0aXZlRmllbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFycm93ID0gYWN0aXZlRGlyZWN0aW9uID09PSAnYXNjJyA/ICcg4payJyA6ICcg4pa8JzsKICAgICAgICAgICAgICAgICAgICAgICAgICRidG4uYWRkQ2xhc3MoJ2FjdGl2ZScpLnRleHQoYmFzZVRleHQgKyBhcnJvdykuYXR0cignZGF0YS1kaXInLCBhY3RpdmVEaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdERpciA9IHBzX2FkdmFuY2VkU29ydHNbYnRuRmllbGRdLmRlZmF1bHREaXI7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0QXJyb3cgPSBkZWZhdWx0RGlyID09PSAnYXNjJyA/ICcg4payJyA6ICcg4pa8JzsKICAgICAgICAgICAgICAgICAgICAgICAgICRidG4ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLnRleHQoYmFzZVRleHQgKyBkZWZhdWx0QXJyb3cpLmF0dHIoJ2RhdGEtZGlyJywgZGVmYXVsdERpcik7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgbGV0IGFkdkJ0blRleHQgPSAn0JTQvtC/LiDRgdC+0YDRgi4nOwogICAgICAgICAgICAgICAgIGNvbnN0ICRhZHZCdXR0b24gPSAkKHBzX2FkdlNvcnRCdG4pOwogICAgICAgICAgICAgICAgIGNvbnN0IGlzQWR2U29ydEFjdGl2ZSA9IHBzX2FkdmFuY2VkU29ydHNbYWN0aXZlRmllbGRdICYmIGFjdGl2ZUZpZWxkICE9PSAncHJpY2UnICYmIGFjdGl2ZUZpZWxkICE9PSAnc2FsZXMnICYmIGFjdGl2ZUZpZWxkICE9PSAncmVsZXZhbmNlJzsKCiAgICAgICAgICAgICAgICAgaWYgKGlzQWR2U29ydEFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgICAkYWR2QnV0dG9uLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyb3cgPSBhY3RpdmVEaXJlY3Rpb24gPT09ICdhc2MnID8gJyDilrInIDogJyDilrwnOwogICAgICAgICAgICAgICAgICAgICBhZHZCdG5UZXh0ID0gYCR7cHNfYWR2YW5jZWRTb3J0c1thY3RpdmVGaWVsZF0ubmFtZX0ke2Fycm93fWA7CiAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgJGFkdkJ1dHRvbi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICRhZHZCdXR0b24udGV4dChhZHZCdG5UZXh0KTsKCiAgICAgICAgICAgICAgICAgJCgnI3BsYXRpU2VhcmNoQWR2U29ydE1lbnUgLnBsYXRpU2VhcmNoU29ydE1lbnVJdGVtJykuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgJGl0ZW0gPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRmllbGQgPSAkaXRlbS5kYXRhKCdzb3J0Jyk7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUZXh0ID0gcHNfYWR2YW5jZWRTb3J0c1tpdGVtRmllbGRdLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtRmllbGQgPT09IGFjdGl2ZUZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnJvdyA9IGFjdGl2ZURpcmVjdGlvbiA9PT0gJ2FzYycgPyAnIOKWsicgOiAnIOKWvCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAkaXRlbS5hZGRDbGFzcygnYWN0aXZlJykuaHRtbChgJHtiYXNlVGV4dH0gPHNwYW4gY2xhc3M9InNvcnRBcnJvdyI+JHthcnJvd308L3NwYW4+YCkuYXR0cignZGF0YS1kaXInLCBhY3RpdmVEaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdERpciA9IHBzX2FkdmFuY2VkU29ydHNbaXRlbUZpZWxkXS5kZWZhdWx0RGlyOwogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEFycm93ID0gZGVmYXVsdERpciA9PT0gJ2FzYycgPyAnIOKWsicgOiAnIOKWvCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAkaXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJykuaHRtbChgJHtiYXNlVGV4dH0gPHNwYW4gY2xhc3M9InNvcnRBcnJvdyI+JHtkZWZhdWx0QXJyb3d9PC9zcGFuPmApLmF0dHIoJ2RhdGEtZGlyJywgZGVmYXVsdERpcik7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUZpZWxkID09PSAncmVsZXZhbmNlJykgewogICAgICAgICAgICAgICAgICAgICAkKHBzX3Jlc2V0U29ydEJ0bikuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAkKHBzX3Jlc2V0U29ydEJ0bikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX3Jlc2V0U29ydChyZW5kZXIgPSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgcHNfY3VycmVudFNvcnQgPSB7IGZpZWxkOiAncmVsZXZhbmNlJywgZGlyZWN0aW9uOiAnYXNjJyB9OwogICAgICAgICAgICAgICAgIHBzX2ZpcnN0U29ydENsaWNrID0gewogICAgICAgICAgICAgICAgICAgICBwcmljZTogdHJ1ZSwgc2FsZXM6IHRydWUsIHJlbGV2YW5jZTogZmFsc2UsIG5hbWU6IHRydWUsIGRhdGVfY3JlYXRlOiB0cnVlLCBkaXNjb3VudDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgc2VsbGVyX3JhdGluZzogdHJ1ZSwgcmV2aWV3X3JhdGlvOiB0cnVlLCBnb29kX3Jldmlld3M6IHRydWUsIGJhZF9yZXZpZXdzOiB0cnVlLCByZXR1cm5zOiB0cnVlCiAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShQU19MQVNUX1NPUlRfU1RPUkFHRV9LRVksIHBzX2N1cnJlbnRTb3J0KTsKICAgICAgICAgICAgICAgICBwc191cGRhdGVTb3J0QnV0dG9uc1N0YXRlKCk7CgogICAgICAgICAgICAgICAgIGlmIChyZW5kZXIpIHsKICAgICAgICAgICAgICAgICAgICAgcHNfYXBwbHlTb3J0KHBzX2N1cnJlbnRTb3J0LmZpZWxkLCBwc19jdXJyZW50U29ydC5kaXJlY3Rpb24pOwogICAgICAgICAgICAgICAgICAgICBwc19yZW5kZXJSZXN1bHRzKCk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcHNfYXBwbHlTb3J0KGZpZWxkLCBkaXJlY3Rpb24pIHsKICAgICAgICAgICAgICAgICBjb25zdCBkaXJNdWx0aXBsaWVyID0gZGlyZWN0aW9uID09PSAnYXNjJyA/IDEgOiAtMTsKICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEN1cnJlbmN5ID0gcHNfY3VycmVuY3lTZWxlY3QgPyBwc19jdXJyZW5jeVNlbGVjdC52YWx1ZS50b1VwcGVyQ2FzZSgpIDogJ1JVUic7CiAgICAgICAgICAgICAgICAgcHNfY3VycmVudFJlc3VsdHMuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICBsZXQgdmFsQSwgdmFsQjsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUEgPSAoYS5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lQiA9IChiLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUHJpY2VBID0gZ2V0UHJpY2VJblNlbGVjdGVkQ3VycmVuY3koYSwgc2VsZWN0ZWRDdXJyZW5jeSk7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUHJpY2VCID0gZ2V0UHJpY2VJblNlbGVjdGVkQ3VycmVuY3koYiwgc2VsZWN0ZWRDdXJyZW5jeSk7CiAgICAgICAgICAgICAgICAgICAgIGxldCBjb21wYXJpc29uUmVzdWx0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJpY2UnOiAgICAgICAgIHZhbEEgPSBmaW5hbFByaWNlQTsgdmFsQiA9IGZpbmFsUHJpY2VCOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NhbGVzJzogICAgICAgICB2YWxBID0gZm9ybWF0U2FsZXMoYS5jbnRfc2VsbCk7IHZhbEIgPSBmb3JtYXRTYWxlcyhiLmNudF9zZWxsKTsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzogICAgICAgICAgY29tcGFyaXNvblJlc3VsdCA9IG5hbWVBLmxvY2FsZUNvbXBhcmUobmFtZUIpICogZGlyTXVsdGlwbGllcjsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlX2NyZWF0ZSc6ICAgdmFsQSA9IHBhcnNlRGF0ZShhLmRhdGVfY3JlYXRlKTsgdmFsQiA9IHBhcnNlRGF0ZShiLmRhdGVfY3JlYXRlKTsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNjb3VudCc6ICAgICAgdmFsQSA9IHBhcnNlSW50KGEuZGlzY291bnQgfHwgJzAnLCAxMCk7IHZhbEIgPSBwYXJzZUludChiLmRpc2NvdW50IHx8ICcwJywgMTApOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGxlcl9yYXRpbmcnOiB2YWxBID0gcGFyc2VTZWxsZXJSYXRpbmcoYS5zZWxsZXJfcmF0aW5nKTsgdmFsQiA9IHBhcnNlU2VsbGVyUmF0aW5nKGIuc2VsbGVyX3JhdGluZyk7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmV2aWV3X3JhdGlvJzogIHZhbEEgPSBjYWxjdWxhdGVSZXZpZXdSYXRpbyhhKTsgdmFsQiA9IGNhbGN1bGF0ZVJldmlld1JhdGlvKGIpOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2dvb2RfcmV2aWV3cyc6ICB2YWxBID0gcGFyc2VJbnQoYS5jbnRfZ29vZF9yZXNwb25zZXMgfHwgJzAnLCAxMCk7IHZhbEIgPSBwYXJzZUludChiLmNudF9nb29kX3Jlc3BvbnNlcyB8fCAnMCcsIDEwKTsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiYWRfcmV2aWV3cyc6ICAgdmFsQSA9IHBhcnNlSW50KGEuY250X2JhZF9yZXNwb25zZXMgfHwgJzAnLCAxMCk7IHZhbEIgPSBwYXJzZUludChiLmNudF9iYWRfcmVzcG9uc2VzIHx8ICcwJywgMTApOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JldHVybnMnOiAgICAgICB2YWxBID0gcGFyc2VJbnQoYS5jbnRfcmV0dXJuIHx8ICcwJywgMTApOyB2YWxCID0gcGFyc2VJbnQoYi5jbnRfcmV0dXJuIHx8ICcwJywgMTApOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlbGV2YW5jZSc6ICAgICB2YWxBID0gYS5vcmlnaW5hbEluZGV4OyB2YWxCID0gYi5vcmlnaW5hbEluZGV4OyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAwOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCAhPT0gJ25hbWUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0FzYyA9IEluZmluaXR5OyBjb25zdCBmYWxsYmFja0Rlc2MgPSAtSW5maW5pdHk7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsQSA9PT0gbnVsbCB8fCB2YWxBID09PSB1bmRlZmluZWQgfHwgaXNOYU4odmFsQSkgfHwgdmFsQSA9PT0gSW5maW5pdHkgfHwgdmFsQSA9PT0gLUluZmluaXR5KSB2YWxBID0gZGlyZWN0aW9uID09PSAnYXNjJyA/IGZhbGxiYWNrQXNjIDogZmFsbGJhY2tEZXNjOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbEIgPT09IG51bGwgfHwgdmFsQiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKHZhbEIpIHx8IHZhbEIgPT09IEluZmluaXR5IHx8IHZhbEIgPT09IC1JbmZpbml0eSkgdmFsQiA9IGRpcmVjdGlvbiA9PT0gJ2FzYycgPyBmYWxsYmFja0FzYyA6IGZhbGxiYWNrRGVzYzsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxBIDwgdmFsQikgY29tcGFyaXNvblJlc3VsdCA9IC0xOyBlbHNlIGlmICh2YWxBID4gdmFsQikgY29tcGFyaXNvblJlc3VsdCA9IDE7IGVsc2UgY29tcGFyaXNvblJlc3VsdCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJpc29uUmVzdWx0ICo9IGRpck11bHRpcGxpZXI7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmlzb25SZXN1bHQgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCAhPT0gJ25hbWUnKSB7IGxldCBuYW1lQ29tcGFyZSA9IG5hbWVBLmxvY2FsZUNvbXBhcmUobmFtZUIpOyBpZiAobmFtZUNvbXBhcmUgIT09IDApIHJldHVybiBuYW1lQ29tcGFyZTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkICE9PSAncHJpY2UnKSB7IGlmIChmaW5hbFByaWNlQSA8IGZpbmFsUHJpY2VCKSByZXR1cm4gLTE7IGlmIChmaW5hbFByaWNlQSA+IGZpbmFsUHJpY2VCKSByZXR1cm4gMTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkICE9PSAncmVsZXZhbmNlJykgeyByZXR1cm4gYS5vcmlnaW5hbEluZGV4IC0gYi5vcmlnaW5hbEluZGV4OyB9CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25SZXN1bHQ7CiAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIC0tLSDQo9C/0YDQsNCy0LvQtdC90LjQtSDRhNC40LvRjNGC0YDQsNC80LggLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2dldEZpbHRlclN0b3JhZ2VLZXkoa2V5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCR7UFNfRklMVEVSX1NUT1JBR0VfUFJFRklYfSR7a2V5fWA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2xvYWRGaWx0ZXJzKCkgewogICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdHMgPSB7CiAgICAgICAgICAgICAgICAgICAgcHJpY2VNaW46ICcnLAogICAgICAgICAgICAgICAgICAgIHByaWNlTWF4OiAnJywKICAgICAgICAgICAgICAgICAgICBzYWxlc01pbjogJycsCiAgICAgICAgICAgICAgICAgICAgc2FsZXNNYXg6ICcnLAogICAgICAgICAgICAgICAgICAgIHJhdGluZ01pbjogJycsCiAgICAgICAgICAgICAgICAgICAgcmF0aW5nTWF4OiAnJywKICAgICAgICAgICAgICAgICAgICBoaWRlQmFkUmV2aWV3czogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgaGlkZVJldHVybnM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIG9ubHlEaXNjb3VudDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0ZTogJ2FsbCcKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsZXQgbG9hZGVkID0ge307CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykgewogICAgICAgICAgICAgICAgICAgIGxvYWRlZFtrZXldID0gR01fZ2V0VmFsdWUocHNfZ2V0RmlsdGVyU3RvcmFnZUtleShrZXkpLCBkZWZhdWx0c1trZXldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZWQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX3NhdmVGaWx0ZXIoa2V5LCB2YWx1ZSkgewogICAgICAgICAgICAgICAgcHNfY3VycmVudEZpbHRlcnNba2V5XSA9IHZhbHVlOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUocHNfZ2V0RmlsdGVyU3RvcmFnZUtleShrZXkpLCB2YWx1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFwcGx5TG9hZGVkRmlsdGVyc1RvVUkoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXBzX2ZpbHRlcnNQYW5lbCkgcmV0dXJuOwogICAgICAgICAgICAgICAgcHNfZmlsdGVyUHJpY2VNaW4udmFsdWUgPSBwc19jdXJyZW50RmlsdGVycy5wcmljZU1pbjsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlclByaWNlTWF4LnZhbHVlID0gcHNfY3VycmVudEZpbHRlcnMucHJpY2VNYXg7CiAgICAgICAgICAgICAgICBwc19maWx0ZXJTYWxlc01pbi52YWx1ZSA9IHBzX2N1cnJlbnRGaWx0ZXJzLnNhbGVzTWluOwogICAgICAgICAgICAgICAgcHNfZmlsdGVyU2FsZXNNYXgudmFsdWUgPSBwc19jdXJyZW50RmlsdGVycy5zYWxlc01heDsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlclJhdGluZ01pbi52YWx1ZSA9IHBzX2N1cnJlbnRGaWx0ZXJzLnJhdGluZ01pbjsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlclJhdGluZ01heC52YWx1ZSA9IHBzX2N1cnJlbnRGaWx0ZXJzLnJhdGluZ01heDsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlckhpZGVCYWRSZXZpZXdzLmNoZWNrZWQgPSBwc19jdXJyZW50RmlsdGVycy5oaWRlQmFkUmV2aWV3czsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlckhpZGVSZXR1cm5zLmNoZWNrZWQgPSBwc19jdXJyZW50RmlsdGVycy5oaWRlUmV0dXJuczsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlck9ubHlEaXNjb3VudC5jaGVja2VkID0gcHNfY3VycmVudEZpbHRlcnMub25seURpc2NvdW50OwogICAgICAgICAgICAgICAgcHNfZmlsdGVyRGF0ZVNlbGVjdC52YWx1ZSA9IHBzX2N1cnJlbnRGaWx0ZXJzLmRhdGU7CiAgICAgICAgICAgICAgICBjb25zdCBwcmljZUhlYWRlciA9IHBzX2ZpbHRlcnNQYW5lbC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyR3JvdXAgaDQnKTsKICAgICAgICAgICAgICAgIGlmIChwcmljZUhlYWRlciAmJiBwcmljZUhlYWRlci50ZXh0Q29udGVudC5pbmNsdWRlcygn0KbQtdC90LAnKSkgewogICAgICAgICAgICAgICAgICAgIHByaWNlSGVhZGVyLmlubmVySFRNTCA9IGDQptC10L3QsCAoJHtwc19jdXJyZW50Q3VycmVuY3l9KSAke3BzX2NyZWF0ZVJlc2V0QnV0dG9uSFRNTCgncHJpY2UnKX1gOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gcHJpY2VIZWFkZXIucXVlcnlTZWxlY3RvcignLmZpbHRlclJlc2V0QnRuJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0QnV0dG9uKSByZXNldEJ1dHRvbi5vbmNsaWNrID0gcHNfaGFuZGxlRmlsdGVyUmVzZXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2FkZEZpbHRlckV2ZW50TGlzdGVuZXJzKCkgewogICAgICAgICAgICAgICAgaWYgKCFwc19maWx0ZXJzUGFuZWwpIHJldHVybjsKICAgICAgICAgICAgICAgIGNvbnN0IGRlYm91bmNlZEFwcGx5ID0gZGVib3VuY2UocHNfYXBwbHlGaWx0ZXJzLCBQU19GSUxURVJfREVCT1VOQ0VfTVMpOwogICAgICAgICAgICAgICAgcHNfZmlsdGVyUHJpY2VNaW4uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ3ByaWNlTWluJywgZS50YXJnZXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZEFwcGx5KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlclByaWNlTWF4LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBwc19zYXZlRmlsdGVyKCdwcmljZU1heCcsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZWRBcHBseSgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBwc19maWx0ZXJTYWxlc01pbi5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcHNfc2F2ZUZpbHRlcignc2FsZXNNaW4nLCBlLnRhcmdldC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VkQXBwbHkoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcHNfZmlsdGVyU2FsZXNNYXguYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ3NhbGVzTWF4JywgZS50YXJnZXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZEFwcGx5KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlclJhdGluZ01pbi5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcHNfc2F2ZUZpbHRlcigncmF0aW5nTWluJywgZS50YXJnZXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZEFwcGx5KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlclJhdGluZ01heC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcHNfc2F2ZUZpbHRlcigncmF0aW5nTWF4JywgZS50YXJnZXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZEFwcGx5KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBzX2ZpbHRlckhpZGVCYWRSZXZpZXdzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcHNfc2F2ZUZpbHRlcignaGlkZUJhZFJldmlld3MnLCBlLnRhcmdldC5jaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICBwc19hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcHNfZmlsdGVySGlkZVJldHVybnMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBwc19zYXZlRmlsdGVyKCdoaWRlUmV0dXJucycsIGUudGFyZ2V0LmNoZWNrZWQpOwogICAgICAgICAgICAgICAgICAgIHBzX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBwc19maWx0ZXJPbmx5RGlzY291bnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBwc19zYXZlRmlsdGVyKCdvbmx5RGlzY291bnQnLCBlLnRhcmdldC5jaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICBwc19hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcHNfZmlsdGVyRGF0ZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ2RhdGUnLCBlLnRhcmdldC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgcHNfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBzX3Jlc2V0QWxsRmlsdGVyc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHBzX3Jlc2V0QWxsRmlsdGVycyh0cnVlKSk7CiAgICAgICAgICAgICAgICBwc19maWx0ZXJzUGFuZWwucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlclJlc2V0QnRuJykuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gcHNfaGFuZGxlRmlsdGVyUmVzZXQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcHNfaGFuZGxlRmlsdGVyUmVzZXQoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHBzX3Jlc2V0RmlsdGVyQnlLZXkoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZpbHRlcktleSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX3Jlc2V0RmlsdGVyQnlLZXkoa2V5LCBhcHBseSA9IHRydWUpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJpY2UnOgogICAgICAgICAgICAgICAgICAgICAgICBwc19zYXZlRmlsdGVyKCdwcmljZU1pbicsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclByaWNlTWluKSBwc19maWx0ZXJQcmljZU1pbi52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBwc19zYXZlRmlsdGVyKCdwcmljZU1heCcsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclByaWNlTWF4KSBwc19maWx0ZXJQcmljZU1heC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdzYWxlcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ3NhbGVzTWluJywgJycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHNfZmlsdGVyU2FsZXNNaW4pIHBzX2ZpbHRlclNhbGVzTWluLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ3NhbGVzTWF4JywgJycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHNfZmlsdGVyU2FsZXNNYXgpIHBzX2ZpbHRlclNhbGVzTWF4LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JhdGluZyc6CiAgICAgICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ3JhdGluZ01pbicsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclJhdGluZ01pbikgcHNfZmlsdGVyUmF0aW5nTWluLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ3JhdGluZ01heCcsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclJhdGluZ01heCkgcHNfZmlsdGVyUmF0aW5nTWF4LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wdGlvbnMnOgogICAgICAgICAgICAgICAgICAgICAgICBwc19zYXZlRmlsdGVyKCdoaWRlQmFkUmV2aWV3cycsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlckhpZGVCYWRSZXZpZXdzKSBwc19maWx0ZXJIaWRlQmFkUmV2aWV3cy5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHBzX3NhdmVGaWx0ZXIoJ2hpZGVSZXR1cm5zJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHNfZmlsdGVySGlkZVJldHVybnMpIHBzX2ZpbHRlckhpZGVSZXR1cm5zLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgcHNfc2F2ZUZpbHRlcignb25seURpc2NvdW50JywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHNfZmlsdGVyT25seURpc2NvdW50KSBwc19maWx0ZXJPbmx5RGlzY291bnQuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzoKICAgICAgICAgICAgICAgICAgICAgICAgcHNfc2F2ZUZpbHRlcignZGF0ZScsICdhbGwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlckRhdGVTZWxlY3QpIHBzX2ZpbHRlckRhdGVTZWxlY3QudmFsdWUgPSAnYWxsJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYXBwbHkpIHBzX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwc19yZXNldEFsbEZpbHRlcnMoYXBwbHkgPSB0cnVlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJLZXlzID0gWydwcmljZScsICdzYWxlcycsICdyYXRpbmcnLCAnb3B0aW9ucycsICdkYXRlJ107CiAgICAgICAgICAgICAgICBmaWx0ZXJLZXlzLmZvckVhY2goa2V5ID0+IHBzX3Jlc2V0RmlsdGVyQnlLZXkoa2V5LCBmYWxzZSkpOwogICAgICAgICAgICAgICAgaWYgKGFwcGx5KSBwc19hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcHNfdXBkYXRlRmlsdGVyUGxhY2Vob2xkZXJzKCkgewogICAgICAgICAgICAgICAgaWYgKCFwc19maWx0ZXJzUGFuZWwgfHwgIXBzX2N1cnJlbnRSZXN1bHRzIHx8IHBzX2N1cnJlbnRSZXN1bHRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICQoJyNwc0ZpbHRlclByaWNlTWluLCAjcHNGaWx0ZXJQcmljZU1heCwgI3BzRmlsdGVyU2FsZXNNaW4sICNwc0ZpbHRlclNhbGVzTWF4LCAjcHNGaWx0ZXJSYXRpbmdNaW4sICNwc0ZpbHRlclJhdGluZ01heCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJy0nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgbWluUHJpY2UgPSBJbmZpbml0eSwKICAgICAgICAgICAgICAgICAgICBtYXhQcmljZSA9IC1JbmZpbml0eSwKICAgICAgICAgICAgICAgICAgICBtaW5TYWxlcyA9IEluZmluaXR5LAogICAgICAgICAgICAgICAgICAgIG1heFNhbGVzID0gLUluZmluaXR5LAogICAgICAgICAgICAgICAgICAgIG1pblJhdGluZyA9IEluZmluaXR5LAogICAgICAgICAgICAgICAgICAgIG1heFJhdGluZyA9IC1JbmZpbml0eTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ3VycmVuY3kgPSBwc19jdXJyZW5jeVNlbGVjdCA/IHBzX2N1cnJlbmN5U2VsZWN0LnZhbHVlLnRvVXBwZXJDYXNlKCkgOiAnUlVSJzsKICAgICAgICAgICAgICAgIHBzX2N1cnJlbnRSZXN1bHRzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBnZXRQcmljZUluU2VsZWN0ZWRDdXJyZW5jeShpdGVtLCBzZWxlY3RlZEN1cnJlbmN5KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWxlcyA9IGZvcm1hdFNhbGVzKGl0ZW0uY250X3NlbGwpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IHBhcnNlU2VsbGVyUmF0aW5nKGl0ZW0uc2VsbGVyX3JhdGluZyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlICE9PSBJbmZpbml0eSAmJiBwcmljZSA8IG1pblByaWNlKSBtaW5QcmljZSA9IHByaWNlOwogICAgICAgICAgICAgICAgICAgIGlmIChwcmljZSAhPT0gSW5maW5pdHkgJiYgcHJpY2UgPiBtYXhQcmljZSkgbWF4UHJpY2UgPSBwcmljZTsKICAgICAgICAgICAgICAgICAgICBpZiAoc2FsZXMgPCBtaW5TYWxlcykgbWluU2FsZXMgPSBzYWxlczsKICAgICAgICAgICAgICAgICAgICBpZiAoc2FsZXMgPiBtYXhTYWxlcykgbWF4U2FsZXMgPSBzYWxlczsKICAgICAgICAgICAgICAgICAgICBpZiAocmF0aW5nID4gMCAmJiByYXRpbmcgPCBtaW5SYXRpbmcpIG1pblJhdGluZyA9IHJhdGluZzsKICAgICAgICAgICAgICAgICAgICBpZiAocmF0aW5nID4gbWF4UmF0aW5nKSBtYXhSYXRpbmcgPSByYXRpbmc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChtaW5SYXRpbmcgPT09IEluZmluaXR5KSBtaW5SYXRpbmcgPSAwOwogICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclByaWNlTWluKSBwc19maWx0ZXJQcmljZU1pbi5wbGFjZWhvbGRlciA9IG1pblByaWNlID09PSBJbmZpbml0eSA/ICctJyA6IGDQvtGCICR7TWF0aC5mbG9vcihtaW5QcmljZSl9YDsKICAgICAgICAgICAgICAgIGlmIChwc19maWx0ZXJQcmljZU1heCkgcHNfZmlsdGVyUHJpY2VNYXgucGxhY2Vob2xkZXIgPSBtYXhQcmljZSA9PT0gLUluZmluaXR5ID8gJy0nIDogYNC00L4gJHtNYXRoLmNlaWwobWF4UHJpY2UpfWA7CiAgICAgICAgICAgICAgICBpZiAocHNfZmlsdGVyU2FsZXNNaW4pIHBzX2ZpbHRlclNhbGVzTWluLnBsYWNlaG9sZGVyID0gbWluU2FsZXMgPT09IEluZmluaXR5ID8gJy0nIDogYNC+0YIgJHttaW5TYWxlc31gOwogICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclNhbGVzTWF4KSBwc19maWx0ZXJTYWxlc01heC5wbGFjZWhvbGRlciA9IG1heFNhbGVzID09PSAtSW5maW5pdHkgPyAnLScgOiBg0LTQviAke21heFNhbGVzfWA7CiAgICAgICAgICAgICAgICBpZiAocHNfZmlsdGVyUmF0aW5nTWluKSBwc19maWx0ZXJSYXRpbmdNaW4ucGxhY2Vob2xkZXIgPSBtaW5SYXRpbmcgPT09IEluZmluaXR5ID8gJy0nIDogYNC+0YIgJHttaW5SYXRpbmcudG9GaXhlZCgxKX1gOwogICAgICAgICAgICAgICAgaWYgKHBzX2ZpbHRlclJhdGluZ01heCkgcHNfZmlsdGVyUmF0aW5nTWF4LnBsYWNlaG9sZGVyID0gbWF4UmF0aW5nID09PSAtSW5maW5pdHkgPyAnLScgOiBg0LTQviAke21heFJhdGluZy50b0ZpeGVkKDEpfWA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2dldERhdGVUaHJlc2hvbGQocGVyaW9kS2V5KSB7CiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICAgICAgICAgICAgbGV0IHRocmVzaG9sZCA9IDA7CiAgICAgICAgICAgICAgICBjb25zdCBkYXlNcyA9IDg2NDAwMDAwOwogICAgICAgICAgICAgICAgc3dpdGNoIChwZXJpb2RLZXkpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICcxZCc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCA9IG5vdyAtIDEgKiBkYXlNczsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnMmQnOgogICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQgPSBub3cgLSAyICogZGF5TXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJzF3JzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkID0gbm93IC0gNyAqIGRheU1zOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICcxbSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCA9IG5vdyAtIDMwICogZGF5TXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJzZtJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkID0gbm93IC0gMTgyICogZGF5TXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJzF5JzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkID0gbm93IC0gMzY1ICogZGF5TXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJzV5JzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkID0gbm93IC0gNSAqIDM2NSAqIGRheU1zOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICcxMHknOgogICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQgPSBub3cgLSAxMCAqIDM2NSAqIGRheU1zOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2FwcGx5RmlsdGVycygpIHsKICAgICAgICAgICAgICAgIGlmICghcHNfcmVzdWx0c0RpdiB8fCAhcHNfY3VycmVudFJlc3VsdHMpIHJldHVybjsKICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRzID0gcHNfZXhjbHVzaW9uS2V5d29yZHMubWFwKGsgPT4gay50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICAgIGNvbnN0IHBNaW4gPSBwYXJzZUZsb2F0KHBzX2N1cnJlbnRGaWx0ZXJzLnByaWNlTWluKSB8fCAwOwogICAgICAgICAgICAgICAgY29uc3QgcE1heCA9IHBhcnNlRmxvYXQocHNfY3VycmVudEZpbHRlcnMucHJpY2VNYXgpIHx8IEluZmluaXR5OwogICAgICAgICAgICAgICAgY29uc3Qgc01pbiA9IHBhcnNlSW50KHBzX2N1cnJlbnRGaWx0ZXJzLnNhbGVzTWluLCAxMCkgfHwgMDsKICAgICAgICAgICAgICAgIGNvbnN0IHNNYXggPSBwYXJzZUludChwc19jdXJyZW50RmlsdGVycy5zYWxlc01heCwgMTApIHx8IEluZmluaXR5OwogICAgICAgICAgICAgICAgY29uc3Qgck1pbiA9IHBhcnNlRmxvYXQocHNfY3VycmVudEZpbHRlcnMucmF0aW5nTWluKSB8fCAwOwogICAgICAgICAgICAgICAgY29uc3Qgck1heCA9IHBhcnNlRmxvYXQocHNfY3VycmVudEZpbHRlcnMucmF0aW5nTWF4KSB8fCBJbmZpbml0eTsKICAgICAgICAgICAgICAgIGNvbnN0IGhpZGVCYWQgPSBwc19jdXJyZW50RmlsdGVycy5oaWRlQmFkUmV2aWV3czsKICAgICAgICAgICAgICAgIGNvbnN0IGhpZGVSZXQgPSBwc19jdXJyZW50RmlsdGVycy5oaWRlUmV0dXJuczsKICAgICAgICAgICAgICAgIGNvbnN0IG9ubHlEaXNjID0gcHNfY3VycmVudEZpbHRlcnMub25seURpc2NvdW50OwogICAgICAgICAgICAgICAgY29uc3QgZGF0ZVBlcmlvZCA9IHBzX2N1cnJlbnRGaWx0ZXJzLmRhdGU7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRlVGhyZXNob2xkID0gcHNfZ2V0RGF0ZVRocmVzaG9sZChkYXRlUGVyaW9kKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ3VycmVuY3kgPSBwc19jdXJyZW5jeVNlbGVjdCA/IHBzX2N1cnJlbmN5U2VsZWN0LnZhbHVlLnRvVXBwZXJDYXNlKCkgOiAnUlVSJzsKICAgICAgICAgICAgICAgIGxldCB2aXNpYmxlQ291bnQgPSAwOwogICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBwc19yZXN1bHRzRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF0aVNlYXJjaEl0ZW0nKTsKICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbUVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1JZCA9IGl0ZW1FbGVtZW50LmRhdGFzZXQuaWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSBwc19jdXJyZW50UmVzdWx0cy5maW5kKHIgPT4gci5pZCA9PT0gaXRlbUlkKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW1EYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbi1ieS1maWx0ZXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsZXQgc2hvdWxkSGlkZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkSGlkZSAmJiBrZXl3b3Jkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1EYXRhLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGxlciA9IChpdGVtRGF0YS5zZWxsZXJfbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiAodGl0bGUgKyAnICcgKyBzZWxsZXIpLmluY2x1ZGVzKGtleXdvcmQpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gZ2V0UHJpY2VJblNlbGVjdGVkQ3VycmVuY3koaXRlbURhdGEsIHNlbGVjdGVkQ3VycmVuY3kpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2UgPCBwTWluIHx8IHByaWNlID4gcE1heCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbGVzID0gZm9ybWF0U2FsZXMoaXRlbURhdGEuY250X3NlbGwpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2FsZXMgPCBzTWluIHx8IHNhbGVzID4gc01heCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IHBhcnNlU2VsbGVyUmF0aW5nKGl0ZW1EYXRhLnNlbGxlcl9yYXRpbmcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJhdGluZyA9PT0gMCAmJiAock1pbiA+IDAgfHwgck1heCA8IEluZmluaXR5KSkgfHwgcmF0aW5nIDwgck1pbiB8fCByYXRpbmcgPiByTWF4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaWRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEhpZGUgJiYgaGlkZUJhZCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoaXRlbURhdGEuY250X2JhZF9yZXNwb25zZXMgfHwgJzAnLCAxMCkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaWRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEhpZGUgJiYgaGlkZVJldCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoaXRlbURhdGEuY250X3JldHVybiB8fCAnMCcsIDEwKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkSGlkZSAmJiBvbmx5RGlzYykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoaXRlbURhdGEuZGlzY291bnQgfHwgJzAnLCAxMCkgPD0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRIaWRlICYmIGRhdGVUaHJlc2hvbGQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRlID0gcGFyc2VEYXRlKGl0ZW1EYXRhLmRhdGVfY3JlYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtRGF0ZSB8fCBpdGVtRGF0ZSA8IGRhdGVUaHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRIaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbi1ieS1maWx0ZXInKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4tYnktZmlsdGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVDb3VudCsrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc3QgdG90YWxMb2FkZWRDb3VudCA9IHBzX2N1cnJlbnRSZXN1bHRzLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IGFueUZpbHRlckFjdGl2ZSA9IHBNaW4gPiAwIHx8IHBNYXggPCBJbmZpbml0eSB8fCBzTWluID4gMCB8fCBzTWF4IDwgSW5maW5pdHkgfHwgck1pbiA+IDAgfHwgck1heCA8IEluZmluaXR5IHx8IGhpZGVCYWQgfHwgaGlkZVJldCB8fCBvbmx5RGlzYyB8fCBkYXRlUGVyaW9kICE9PSAnYWxsJyB8fCBrZXl3b3Jkcy5sZW5ndGggPiAwOwogICAgICAgICAgICAgICAgaWYgKHRvdGFsTG9hZGVkQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFueUZpbHRlckFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBwc191cGRhdGVTdGF0dXMoYNCf0L7QutCw0LfQsNC90L4gJHt2aXNpYmxlQ291bnR9INC40LcgJHt0b3RhbExvYWRlZENvdW50fSDRgtC+0LLQsNGA0L7QsiAo0YTQuNC70YzRgtGA0Ysv0LjRgdC60LvRjtGH0LXQvdC40Y8g0L/RgNC40LzQtdC90LXQvdGLKS5gKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBwc191cGRhdGVTdGF0dXMoYNCX0LDQs9GA0YPQttC10L3QviAke3RvdGFsTG9hZGVkQ291bnR9INGC0L7QstCw0YDQvtCyLmApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHNfc2VhcmNoSW5wdXQgJiYgcHNfc2VhcmNoSW5wdXQudmFsdWUudHJpbSgpKSB7fSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwc191cGRhdGVTdGF0dXMoYNCS0LLQtdC00LjRgtC1INC30LDQv9GA0L7RgSDQtNC70Y8g0L/QvtC40YHQutCwLmApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHZpc2libGVDb3VudCA9PT0gMCAmJiB0b3RhbExvYWRlZENvdW50ID4gMCAmJiBhbnlGaWx0ZXJBY3RpdmUpIHsKICAgICAgICAgICAgICAgICAgICBwc19zdGF0dXNEaXYudGV4dENvbnRlbnQgKz0gJyDQndC10YIg0YLQvtCy0LDRgNC+0LIsINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LjRhSDQutGA0LjRgtC10YDQuNGP0LwuJzsKICAgICAgICAgICAgICAgICAgICBwc19zdGF0dXNEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvdGFsTG9hZGVkQ291bnQgPT09IDAgJiYgcHNfc2VhcmNoSW5wdXQgJiYgcHNfc2VhcmNoSW5wdXQudmFsdWUudHJpbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcHNfc3RhdHVzRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAtLS0g0KTQuNC70YzRgtGA0LDRhtC40Y8g0LjRgdC60LvRjtGH0LXQvdC40LkgLS0tCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX2FkZEZpbHRlcktleXdvcmQoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBrZXl3b3JkID0gcHNfZXhjbHVkZUlucHV0LnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgJiYgIXBzX2V4Y2x1c2lvbktleXdvcmRzLmluY2x1ZGVzKGtleXdvcmQpKSB7CiAgICAgICAgICAgICAgICAgICAgcHNfZXhjbHVzaW9uS2V5d29yZHMucHVzaChrZXl3b3JkKTsKICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShQU19FWENMVVNJT05fU1RPUkFHRV9LRVksIHBzX2V4Y2x1c2lvbktleXdvcmRzKTsKICAgICAgICAgICAgICAgICAgICBwc19leGNsdWRlSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICBwc19yZW5kZXJFeGNsdXNpb25UYWdzKCk7CiAgICAgICAgICAgICAgICAgICAgcHNfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBzX3JlbW92ZUZpbHRlcktleXdvcmQoa2V5d29yZFRvUmVtb3ZlKSB7CiAgICAgICAgICAgICAgICBwc19leGNsdXNpb25LZXl3b3JkcyA9IHBzX2V4Y2x1c2lvbktleXdvcmRzLmZpbHRlcihrID0+IGsgIT09IGtleXdvcmRUb1JlbW92ZSk7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShQU19FWENMVVNJT05fU1RPUkFHRV9LRVksIHBzX2V4Y2x1c2lvbktleXdvcmRzKTsKICAgICAgICAgICAgICAgIHBzX3JlbmRlckV4Y2x1c2lvblRhZ3MoKTsKICAgICAgICAgICAgICAgIHBzX2FwcGx5RmlsdGVycygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwc19yZW5kZXJFeGNsdXNpb25UYWdzKCkgewogICAgICAgICAgICAgICAgaWYgKCFwc19leGNsdXNpb25UYWdzTGlzdERpdikgcmV0dXJuOwogICAgICAgICAgICAgICAgcHNfZXhjbHVzaW9uVGFnc0xpc3REaXYuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBwc19leGNsdXNpb25LZXl3b3Jkcy5mb3JFYWNoKGtleXdvcmQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgICAgICAgICB0YWcuY2xhc3NOYW1lID0gJ2V4Y2x1c2lvblRhZyc7CiAgICAgICAgICAgICAgICAgICAgdGFnLnRleHRDb250ZW50ID0ga2V5d29yZDsKICAgICAgICAgICAgICAgICAgICB0YWcudGl0bGUgPSBg0KPQtNCw0LvQuNGC0YwgIiR7a2V5d29yZH0iYDsKICAgICAgICAgICAgICAgICAgICB0YWcub25jbGljayA9ICgpID0+IHBzX3JlbW92ZUZpbHRlcktleXdvcmQoa2V5d29yZCk7CiAgICAgICAgICAgICAgICAgICAgcHNfZXhjbHVzaW9uVGFnc0xpc3REaXYuYXBwZW5kQ2hpbGQodGFnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAtLS0g0KDQtdC90LTQtdGA0LjQvdCzINGA0LXQt9GD0LvRjNGC0LDRgtC+0LIgLS0tCiAgICAgICAgICAgICBmdW5jdGlvbiBwc19yZW5kZXJSZXN1bHRzKCkgewogICAgICAgICAgICAgICAgIGlmICghcHNfcmVzdWx0c0RpdikgcmV0dXJuOwogICAgICAgICAgICAgICAgIHBzX3Jlc3VsdHNEaXYuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAgaWYgKHBzX2N1cnJlbnRSZXN1bHRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICBwc19hcHBseUZpbHRlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgICAgICBjb25zdCB0aHJlc2hvbGRUaW1lID0gbm93IC0gTkVXX0lURU1fVEhSRVNIT0xEX0RBWVMgKiAyNCAqIDYwICogNjAgKiAxMDAwOwogICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ3VycmVuY3kgPSBwc19jdXJyZW5jeVNlbGVjdCA/IHBzX2N1cnJlbmN5U2VsZWN0LnZhbHVlLnRvVXBwZXJDYXNlKCkgOiAnUlVSJzsKCiAgICAgICAgICAgICAgICAgcHNfY3VycmVudFJlc3VsdHMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICBpdGVtRGl2LmNsYXNzTmFtZSA9ICdwbGF0aVNlYXJjaEl0ZW0nOwogICAgICAgICAgICAgICAgICAgICBpdGVtRGl2LmRhdGFzZXQuaWQgPSBpdGVtLmlkOwogICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwoKICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVVybCA9IGl0ZW0udXJsIHx8IGBodHRwczovL3BsYXRpLm1hcmtldC9pdG0vJHtpdGVtLmlkfWA7CiAgICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGJhc2VVcmwgKyAnP2FpPTIzNDAyOSc7CgogICAgICAgICAgICAgICAgICAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnOwogICAgICAgICAgICAgICAgICAgICBsaW5rLnJlbCA9ICdub29wZW5lciBub3JlZmVycmVyIG5vZm9sbG93JzsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgIGltYWdlV3JhcHBlci5jbGFzc05hbWUgPSAnY2FyZC1pbWFnZS13cmFwcGVyJzsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1NyYyA9IGBodHRwczovLyR7UFNfSU1BR0VfRE9NQUlOfS9pbWd3ZWJwLmFzaHg/aWRfZD0ke2l0ZW0uaWR9Jnc9MTY0Jmg9MTY0JmRjPSR7aXRlbS50aWNrc19sYXN0X2NoYW5nZSB8fCBEYXRlLm5vdygpfWA7CiAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpbWdTcmM7CiAgICAgICAgICAgICAgICAgICAgIGltZy5hbHQgPSBpdGVtLm5hbWUgfHwgJ9CY0LfQvtCx0YDQsNC20LXQvdC40LUg0YLQvtCy0LDRgNCwJzsKICAgICAgICAgICAgICAgICAgICAgaW1nLmxvYWRpbmcgPSAnbGF6eSc7CiAgICAgICAgICAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSAnaHR0cHM6Ly9wbGF0aS5tYXJrZXQvaW1hZ2VzL2xvZ28tcGxhdGkucG5nJzsKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nOwogICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICBpbWFnZVdyYXBwZXIuYXBwZW5kQ2hpbGQoaW1nKTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGUgPSBwYXJzZURhdGUoaXRlbS5kYXRlX2NyZWF0ZSk7CiAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtRGF0ZSAmJiBpdGVtRGF0ZSA+IHRocmVzaG9sZFRpbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmFkZ2UuY2xhc3NOYW1lID0gJ25ld0l0ZW1CYWRnZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCYWRnZS50ZXh0Q29udGVudCA9ICdOZXcnOwogICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VXcmFwcGVyLmFwcGVuZENoaWxkKG5ld0JhZGdlKTsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKGltYWdlV3JhcHBlcik7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgIHByaWNlRGl2LmNsYXNzTmFtZSA9ICdwcmljZSc7CiAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5UHJpY2UgPSBnZXRQcmljZUluU2VsZWN0ZWRDdXJyZW5jeShpdGVtLCBzZWxlY3RlZEN1cnJlbmN5KTsKICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbmN5U3ltYm9sOwogICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkQ3VycmVuY3kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VTRCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lTeW1ib2wgPSAnJCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdFVVInOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gJ+KCrCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdVQUgnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gJ+KCtCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gJ+KCvSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgcHJpY2VEaXYudGV4dENvbnRlbnQgPSBkaXNwbGF5UHJpY2UgIT09IEluZmluaXR5ID8gYCR7ZGlzcGxheVByaWNlLnRvTG9jYWxlU3RyaW5nKCdydS1SVScsIHttaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMn0pfSAke2N1cnJlbmN5U3ltYm9sfWAgOiAn0J3QtdGCINGG0LXQvdGLJzsKICAgICAgICAgICAgICAgICAgICAgcHJpY2VEaXYudGl0bGUgPSBg0KbQtdC90LAg0LIgJHtzZWxlY3RlZEN1cnJlbmN5fWA7CiAgICAgICAgICAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQocHJpY2VEaXYpOwogICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICB0aXRsZURpdi5jbGFzc05hbWUgPSAndGl0bGUnOwogICAgICAgICAgICAgICAgICAgICB0aXRsZURpdi50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZSB8fCAn0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8nOwogICAgICAgICAgICAgICAgICAgICB0aXRsZURpdi50aXRsZSA9IGl0ZW0ubmFtZSB8fCAn0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8nOwogICAgICAgICAgICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKHRpdGxlRGl2KTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5mb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICBpbmZvQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXJkSW5mb0NvbnRhaW5lcic7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm9Sb3cxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgIGluZm9Sb3cxLmNsYXNzTmFtZSA9ICdjYXJkSW5mb1JvdzEnOwogICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvUm93MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICBpbmZvUm93Mi5jbGFzc05hbWUgPSAnY2FyZEluZm9Sb3cyJzsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0aW5nVmFsID0gcGFyc2VTZWxsZXJSYXRpbmcoaXRlbS5zZWxsZXJfcmF0aW5nKTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ29vZFJldiA9IHBhcnNlSW50KGl0ZW0uY250X2dvb2RfcmVzcG9uc2VzIHx8ICcwJyk7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhZFJldiA9IHBhcnNlSW50KGl0ZW0uY250X2JhZF9yZXNwb25zZXMgfHwgJzAnKTsKICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0dXJucyA9IHBhcnNlSW50KGl0ZW0uY250X3JldHVybiB8fCAnMCcpOwogICAgICAgICAgICAgICAgICAgICBsZXQgc2FsZXNDb3VudCA9IGZvcm1hdFNhbGVzKGl0ZW0uY250X3NlbGwpOwogICAgICAgICAgICAgICAgICAgICBpbmZvUm93MS5pbm5lckhUTUwgPSBgPHNwYW4gdGl0bGU9ItCg0LXQudGC0LjQvdCzINC/0YDQvtC00LDQstGG0LAiPtCg0LXQudGCOiAke3JhdGluZ1ZhbCA+IDAgPyByYXRpbmdWYWwudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJywge21heGltdW1GcmFjdGlvbkRpZ2l0czogMH0pIDogJ04vQSd9PC9zcGFuPjxzcGFuIHRpdGxlPSLQntGC0LfRi9Cy0YsgKNCl0L7RgNC+0YjQuNC1L9Cf0LvQvtGF0LjQtSkiPtCe0YLQtzogPHNwYW4gY2xhc3M9InJldmlld3NHb29kIj4ke2dvb2RSZXZ9PC9zcGFuPiR7YmFkUmV2ID4gMCA/ICcvPHNwYW4gY2xhc3M9InJldmlld3NCYWQiPicgKyBiYWRSZXYgKyAnPC9zcGFuPicgOiAnJ308L3NwYW4+PHNwYW4gdGl0bGU9ItCS0L7Qt9Cy0YDQsNGC0YsiPtCS0L7Qt9CyOiAke3JldHVybnN9PC9zcGFuPmA7CiAgICAgICAgICAgICAgICAgICAgIGluZm9Sb3cyLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0ic2FsZXMiIHRpdGxlPSLQn9GA0L7QtNCw0LbQuCI+0J/RgNC+0LQ6ICR7c2FsZXNDb3VudCA+IDAgPyBzYWxlc0NvdW50LnRvTG9jYWxlU3RyaW5nKCdydS1SVScpIDogJzAnfTwvc3Bhbj48c3BhbiBjbGFzcz0iZGF0ZUFkZGVkIiB0aXRsZT0i0JTQsNGC0LAg0LTQvtCx0LDQstC70LXQvdC40Y8iPtCU0L7QsTogJHtmb3JtYXREYXRlU3RyaW5nKGl0ZW1EYXRlKX08L3NwYW4+YDsKICAgICAgICAgICAgICAgICAgICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvUm93MSk7CiAgICAgICAgICAgICAgICAgICAgIGluZm9Db250YWluZXIuYXBwZW5kQ2hpbGQoaW5mb1JvdzIpOwogICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxsZXJMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLmNsYXNzTmFtZSA9ICdzZWxsZXJMaW5rJzsKICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay50ZXh0Q29udGVudCA9IGDQn9GA0L7QtNCw0LLQtdGGOiAke2l0ZW0uc2VsbGVyX25hbWUgfHwgJ04vQSd9YDsKICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay50aXRsZSA9IGDQn9C10YDQtdC50YLQuCDQuiDQv9GA0L7QtNCw0LLRhtGDOiAke2l0ZW0uc2VsbGVyX25hbWUgfHwgJ04vQSd9YDsKICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2VsbGVyX2lkICYmIGl0ZW0uc2VsbGVyX25hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVTZWxsZXJOYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW0uc2VsbGVyX25hbWUucmVwbGFjZSgvW15hLXpBLVowLTlfXC0ufl0vZywgJy0nKSkucmVwbGFjZSgvJTJGL2csICcvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLmhyZWYgPSBgaHR0cHM6Ly9wbGF0aS5tYXJrZXQvc2VsbGVyLyR7c2FmZVNlbGxlck5hbWV9LyR7aXRlbS5zZWxsZXJfaWR9L2A7CiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLnRhcmdldCA9ICdfYmxhbmsnOwogICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay5yZWwgPSAnbm9vcGVuZXIgbm9yZWZlcnJlciBub2ZvbGxvdyc7CiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJMaW5rLm9uY2xpY2sgPSAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVyTGluay5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIGluZm9Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VsbGVyTGluayk7CiAgICAgICAgICAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQoaW5mb0NvbnRhaW5lcik7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1eUJ1dHRvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICBidXlCdXR0b25EaXYuY2xhc3NOYW1lID0gJ2J1eUJ1dHRvbic7CiAgICAgICAgICAgICAgICAgICAgIGJ1eUJ1dHRvbkRpdi50ZXh0Q29udGVudCA9ICfQn9C10YDQtdC50YLQuCc7CiAgICAgICAgICAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQoYnV5QnV0dG9uRGl2KTsKICAgICAgICAgICAgICAgICAgICAgaXRlbURpdi5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoaXRlbURpdik7CiAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgcHNfcmVzdWx0c0Rpdi5hcHBlbmRDaGlsZChmcmFnbWVudCk7CiAgICAgICAgICAgICAgICAgcHNfYXBwbHlGaWx0ZXJzKCk7CiAgICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAtLS0g0J7QsdGA0LDQsdC+0YLRh9C40LrQuCBVSSAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gcHNfaGFuZGxlQ3VycmVuY3lDaGFuZ2UoKSB7CiAgICAgICAgICAgICAgICBwc19jdXJyZW50Q3VycmVuY3kgPSBwc19jdXJyZW5jeVNlbGVjdC52YWx1ZS50b1VwcGVyQ2FzZSgpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoUFNfQ1VSUkVOQ1lfU1RPUkFHRV9LRVksIHBzX2N1cnJlbnRDdXJyZW5jeSk7CiAgICAgICAgICAgICAgICBhcHBseUxvYWRlZEZpbHRlcnNUb1VJKCk7CiAgICAgICAgICAgICAgICBwc191cGRhdGVGaWx0ZXJQbGFjZWhvbGRlcnMoKTsKICAgICAgICAgICAgICAgIGlmIChwc19jdXJyZW50U29ydC5maWVsZCA9PT0gJ3ByaWNlJykgewogICAgICAgICAgICAgICAgICAgIHBzX2FwcGx5U29ydChwc19jdXJyZW50U29ydC5maWVsZCwgcHNfY3VycmVudFNvcnQuZGlyZWN0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBzX3JlbmRlclJlc3VsdHMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCU0L7QsdCw0LLQu9C10L3QuNC1INC60L3QvtC/0LrQuCBQbGF0aSAtLS0KICAgICAgICAgICAgZnVuY3Rpb24gYWRkUGxhdGlCdXR0b24oKSB7CiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3F1ZXVlQWN0aW9uc0N0bicpOwoKICAgICAgICAgICAgICAgIGlmICghYWN0aW9uc0NvbnRhaW5lciB8fCBhY3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wbGF0aV9wcmljZV9idXR0b24nKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBpZ25vcmVCdXR0b25Db250YWluZXIgPSBhY3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNpZ25vcmVCdG4nKTsKCiAgICAgICAgICAgICAgICBjb25zdCBwbGF0aUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgcGxhdGlDb250YWluZXIuY2xhc3NOYW1lID0gJ3BsYXRpX3ByaWNlX2J1dHRvbiBxdWV1ZV9jb250cm9sX2J1dHRvbic7CiAgICAgICAgICAgICAgICBwbGF0aUNvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gJzNweCc7CiAgICAgICAgICAgICAgICBwbGF0aUNvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz0iYnRudjZfYmx1ZV9ob3ZlcmZhZGUgYnRuX21lZGl1bSIgc3R5bGU9ImhlaWdodDogMzJweDsgcGFkZGluZzogMCA1cHg7IiB0aXRsZT0i0J3QsNC50YLQuCDQvdCwIFBsYXRpLk1hcmtldCI+PHNwYW4+UGxhdGk8L3NwYW4+PC9kaXY+YDsKICAgICAgICAgICAgICAgIHBsYXRpQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICBzaG93UGxhdGlNb2RhbCgpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKGlnbm9yZUJ1dHRvbkNvbnRhaW5lcikgewogICAgICAgICAgICAgICAgICAgIGlnbm9yZUJ1dHRvbkNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgcGxhdGlDb250YWluZXIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXRpQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tINCh0YLQuNC70LggLS0tCiAgICAgICAgICAgICBmdW5jdGlvbiBhZGRQbGF0aVN0eWxlcygpIHsKICAgICAgICAgICAgICAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgICAgLyog0KHRgtC40LvQuCDRgdC/0LjQvdC90LXRgNCwICovCiAgICAgICAgICAgICAgICAgICAgQGtleWZyYW1lcyBwbGF0aVNwaW4gewogICAgICAgICAgICAgICAgICAgIAkwJSB7CiAgICAgICAgICAgICAgICAgICAgCQl0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsKICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAJMTAwJSB7CiAgICAgICAgICAgICAgICAgICAgCQl0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogICAgICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuc3Bpbm5lciB7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogM3B4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItdG9wLWNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMWVtOwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDFlbTsKICAgICAgICAgICAgICAgICAgICAJYW5pbWF0aW9uOiBwbGF0aVNwaW4gMXMgbGluZWFyIGluZmluaXRlOwogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1sZWZ0OiA1cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hCdG4gLnNwaW5uZXIgewogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMC44ZW07CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMC44ZW07CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci13aWR0aDogMnB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyog0KHRgtC40LvQuCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCAqLwogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaE1vZGFsIHsKICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgICAgIAl0b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgCWxlZnQ6IDA7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjAsIDIwLCAyNSwgMC45OCk7CiAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDk5OTk7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAlmb250LWZhbWlseTogIk1vdGl2YSBTYW5zIiwgU2Fucy1zZXJpZiwgQXJpYWw7CiAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgCXNjcm9sbGJhci1jb2xvcjogIzY3YzFmNSAjMTcyMDJkOwogICAgICAgICAgICAgICAgICAgIAlzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hNb2RhbDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogOHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogIzE3MjAyZDsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzRiNmY5YzsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IDJweCBzb2xpZCAjMTcyMDJkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoTW9kYWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaE1vZGFsICogewogICAgICAgICAgICAgICAgICAgIAlib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAJbWF4LXdpZHRoOiAxMzUwcHg7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxNXB4ICR7UFNfU0lERV9QQU5FTF9IT1JJWk9OVEFMX1BBRERJTkd9cHg7CiAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgICAgICAJbWluLWhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaENsb3NlQnRuIHsKICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgICAgIAl0b3A6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgCXJpZ2h0OiAyMHB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDM1cHg7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjYWFhOwogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAJbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDEwMDAyOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGNvbG9yIDAuMnMsIHRyYW5zZm9ybSAwLjJzOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoQ2xvc2VCdG46aG92ZXIgewogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgICAgICAJdHJhbnNmb3JtOiBzY2FsZSgxLjEpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyog0KjQsNC/0LrQsCAqLwogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaEhlYWRlciB7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCWdhcDogMTBweDsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgICAgICAgICAJZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNDQ0OwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy1sZWZ0OiAke1BTX0NPTlRFTlRfUEFERElOR19MRUZUfXB4OwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLXJpZ2h0OiAke1BTX0NPTlRFTlRfUEFERElOR19SSUdIVH1weDsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IC0ke1BTX0NPTlRFTlRfUEFERElOR19MRUZUfXB4OwogICAgICAgICAgICAgICAgICAgIAltYXJnaW4tcmlnaHQ6IC0ke1BTX0NPTlRFTlRfUEFERElOR19SSUdIVH1weDsKICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hJbnB1dENvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgICAgICAJZmxleC1ncm93OiAwLjc7CiAgICAgICAgICAgICAgICAgICAgCW1pbi13aWR0aDogMjAwcHg7CiAgICAgICAgICAgICAgICAgICAgCWZsZXgtYmFzaXM6IDM1MHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoSW5wdXQgewogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweCAxNXB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMzMzM7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogNDBweDsKICAgICAgICAgICAgICAgICAgICAJb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaElucHV0OmZvY3VzIHsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoU3VnZ2VzdGlvbnMgewogICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgCXRvcDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAJbGVmdDogMDsKICAgICAgICAgICAgICAgICAgICAJcmlnaHQ6IDA7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMzYTNhNDA7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci10b3A6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4OwogICAgICAgICAgICAgICAgICAgIAltYXgtaGVpZ2h0OiAzMDBweDsKICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgICAgICAJei1pbmRleDogMTAwMDA7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuc3VnZ2VzdGlvbkl0ZW0gewogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA4cHggMTVweDsKICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2VlZTsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItYm90dG9tOiAxcHggc29saWQgIzRhNGE1MDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5zdWdnZXN0aW9uSXRlbTpsYXN0LWNoaWxkIHsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWJvdHRvbTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5zdWdnZXN0aW9uSXRlbTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM0YTRhNTU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKiDQmtC90L7Qv9C60Lgg0LIg0YjQsNC/0LrQtSAqLwogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaEJ0biB7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDEwcHggMTVweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogd2hpdGU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCXdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogNDBweDsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogaW5saW5lLWZsZXg7CiAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzU1NTsKICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBsYXRpU2VhcmNoQnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzY2NjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaEJ0bjpkaXNhYmxlZCB7CiAgICAgICAgICAgICAgICAgICAgCW9wYWNpdHk6IDAuNjsKICAgICAgICAgICAgICAgICAgICAJY3Vyc29yOiBkZWZhdWx0OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoR29CdG4gewogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjNEQ4OEZGOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoR29CdG46aG92ZXIgewogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMzM2NkNDOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBsYXRpU2VhcmNoQnRuLnNvcnRCdG4uYWN0aXZlIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaEJ0bi5zb3J0QnRuLmFjdGl2ZTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlSZXNldFNvcnRCdG4gewogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjNzc3OwogICAgICAgICAgICAgICAgICAgIAltYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMCAxMHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpUmVzZXRTb3J0QnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzg4ODsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwbGF0aVJlc2V0U29ydEJ0biBzdmcgewogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTZweDsKICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxNnB4OwogICAgICAgICAgICAgICAgICAgIAlmaWxsOiBjdXJyZW50Q29sb3I7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlSZXNldFNvcnRCdG4uYWN0aXZlIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaEFkdlNvcnRCdG5Db250YWluZXIgewogICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgCWZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogJHtQU19BRFZfU09SVF9DT05UQUlORVJfV0lEVEh9cHg7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoQWR2U29ydEJ0biB7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICAJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hDdXJyZW5jeVNlbGVjdCB7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2VlZTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzU1NTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDQwcHg7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDAgOHB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgCW91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hDdXJyZW5jeVNlbGVjdDpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8qINCc0LXQvdGOINC00L7QvyDRgdC+0YDRgtC40YDQvtCy0LrQuCAqLwogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaEFkdlNvcnRNZW51IHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgICAgIAl0b3A6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgCWxlZnQ6IDA7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICMzYTNhNDA7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAJbWluLXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAl6LWluZGV4OiAxMDAwMTsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogNXB4IDA7CiAgICAgICAgICAgICAgICAgICAgCWJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hBZHZTb3J0QnRuQ29udGFpbmVyOmhvdmVyICNwbGF0aVNlYXJjaEFkdlNvcnRNZW51IHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hTb3J0TWVudUl0ZW0gewogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAJd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBsYXRpU2VhcmNoU29ydE1lbnVJdGVtOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzRhNGE1NTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaFNvcnRNZW51SXRlbS5hY3RpdmUgewogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmOwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogd2hpdGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hTb3J0TWVudUl0ZW0gLnNvcnRBcnJvdyB7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyog0JHQvtC60L7QstGL0LUg0L/QsNC90LXQu9C4ICovCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoRmlsdGVyc1BhbmVsLAogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaEV4Y2x1c2lvblRhZ3MgewogICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAgICAgCXRvcDogJHtQU19UT1BfT0ZGU0VUX0ZPUl9TSURFX1BBTkVMU31weDsKICAgICAgICAgICAgICAgICAgICAJbWF4LWhlaWdodDogY2FsYygxMDB2aCAtICR7UFNfVE9QX09GRlNFVF9GT1JfU0lERV9QQU5FTFN9cHggLSAke1BTX0JPVFRPTV9PRkZTRVRfRk9SX1NJREVfUEFORUxTfXB4KTsKICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgICAgICAgICAJei1pbmRleDogMTAwMDsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMTBweDsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy1yaWdodDogMTVweDsKICAgICAgICAgICAgICAgICAgICAJc2Nyb2xsYmFyLXdpZHRoOiB0aGluOwogICAgICAgICAgICAgICAgICAgIAlzY3JvbGxiYXItY29sb3I6ICM1NTUgIzJhMmEzMDsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IHRvcCAwLjJzIGVhc2UtaW4tb3V0OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpU2VhcmNoRmlsdGVyc1BhbmVsOjotd2Via2l0LXNjcm9sbGJhciwKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hFeGNsdXNpb25UYWdzOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hGaWx0ZXJzUGFuZWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLAogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaEV4Y2x1c2lvblRhZ3M6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZDogcmdiYSg0MiwgNDIsIDQ4LCAwLjUpOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hGaWx0ZXJzUGFuZWw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iLAogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaEV4Y2x1c2lvblRhZ3M6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSg4NSwgODUsIDg1LCAwLjcpOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hGaWx0ZXJzUGFuZWwgewogICAgICAgICAgICAgICAgICAgIAlsZWZ0OiAke1BTX1NJREVfUEFORUxfSE9SSVpPTlRBTF9QQURESU5HfXB4OwogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogJHtQU19GSUxURVJfUEFORUxfV0lEVEh9cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hFeGNsdXNpb25UYWdzIHsKICAgICAgICAgICAgICAgICAgICAJcmlnaHQ6ICR7UFNfU0lERV9QQU5FTF9IT1JJWk9OVEFMX1BBRERJTkd9cHg7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAke1BTX0VYQ0xVU0lPTl9QQU5FTF9XSURUSH1weDsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAJZ2FwOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyog0KTQuNC70YzRgtGA0YsgKi8KICAgICAgICAgICAgICAgICAgICAuZmlsdGVyR3JvdXAgewogICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiAxOHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlckdyb3VwIGg0IHsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxNXB4OwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2RkZDsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nLWJvdHRvbTogNHB4OwogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCXRleHQtc2hhZG93OiAxcHggMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyUmVzZXRCdG4gewogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjYWFhOwogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogMCAzcHg7CiAgICAgICAgICAgICAgICAgICAgCWxpbmUtaGVpZ2h0OiAxOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlclJlc2V0QnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyUmVzZXRCdG4gc3ZnIHsKICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTRweDsKICAgICAgICAgICAgICAgICAgICAJdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAgICAgICAgICAgICAJZmlsbDogY3VycmVudENvbG9yOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlclJhbmdlSW5wdXRzIHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJZ2FwOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyUmFuZ2VJbnB1dHMgaW5wdXRbdHlwZT0ibnVtYmVyIl0gewogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogY2FsYyg1MCUgLSA0cHgpOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA2cHggOHB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDUxLCA1MSwgMC44NSk7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICM2NjY7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICAJdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIAktbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDsKICAgICAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogaW5zZXQgMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgICAgICAgICAJb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5maWx0ZXJSYW5nZUlucHV0cyBpbnB1dFt0eXBlPSJudW1iZXIiXTpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5maWx0ZXJSYW5nZUlucHV0cyBpbnB1dFt0eXBlPSJudW1iZXIiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiwKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyUmFuZ2VJbnB1dHMgaW5wdXRbdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24gewogICAgICAgICAgICAgICAgICAgIAktd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbjogMDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5maWx0ZXJSYW5nZUlucHV0cyBpbnB1dFt0eXBlPSJudW1iZXIiXTo6cGxhY2Vob2xkZXIgewogICAgICAgICAgICAgICAgICAgIAljb2xvcjogIzk5OTsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyQ2hlY2tib3ggewogICAgICAgICAgICAgICAgICAgIAltYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyQ2hlY2tib3ggbGFiZWwgewogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIAlhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNjY2M7CiAgICAgICAgICAgICAgICAgICAgCXRleHQtc2hhZG93OiAxcHggMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyQ2hlY2tib3ggaW5wdXRbdHlwZT0iY2hlY2tib3giXSB7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1yaWdodDogOHB4OwogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTZweDsKICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxNnB4OwogICAgICAgICAgICAgICAgICAgIAlhY2NlbnQtY29sb3I6ICMwMDdiZmY7CiAgICAgICAgICAgICAgICAgICAgCWN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgICAJZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyU2VsZWN0IHNlbGVjdCB7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA2cHggOHB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDUxLCA1MSwgMC44NSk7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICM2NjY7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogaW5zZXQgMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgICAgICAgICAJb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5maWx0ZXJTZWxlY3Qgc2VsZWN0OmZvY3VzIHsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNjdjMWY1OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BzUmVzZXRBbGxGaWx0ZXJzQnRuIHsKICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDhweCAxMHB4OwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMTA4LCAxMTcsIDEyNSwgMC44KTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgIzg4ODsKICAgICAgICAgICAgICAgICAgICAJdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC40KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwc1Jlc2V0QWxsRmlsdGVyc0J0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoOTAsIDk4LCAxMDQsIDAuOSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKiDQmNGB0LrQu9GO0YfQtdC90LjRjyAqLwogICAgICAgICAgICAgICAgICAgIC5leGNsdXNpb25JbnB1dEdyb3VwIHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1MSwgNTEsIDUxLCAwLjg1KTsKICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAzNHB4OwogICAgICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogaW5zZXQgMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5leGNsdXNpb25JbnB1dEdyb3VwICNwbGF0aVNlYXJjaEV4Y2x1ZGVJbnB1dCB7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDZweCAxMHB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgICAgICAgICAgICAgIAlib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAlvdXRsaW5lOiBub25lOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiAwOwogICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiBhdXRvOwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZXhjbHVzaW9uSW5wdXRHcm91cCAjcGxhdGlTZWFyY2hFeGNsdWRlSW5wdXQ6Zm9jdXMgewogICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiBub25lOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmV4Y2x1c2lvbklucHV0R3JvdXAgI3BsYXRpU2VhcmNoQWRkRXhjbHVkZUJ0biB7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgCWFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAwIDEwcHg7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6ICM1NTU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNTU1OwogICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDA7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZXhjbHVzaW9uSW5wdXRHcm91cCAjcGxhdGlTZWFyY2hBZGRFeGNsdWRlQnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogIzY2NjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5leGNsdXNpb25JbnB1dEdyb3VwICNwbGF0aVNlYXJjaEFkZEV4Y2x1ZGVCdG4gc3ZnIHsKICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDE2cHg7CiAgICAgICAgICAgICAgICAgICAgCWhlaWdodDogMTZweDsKICAgICAgICAgICAgICAgICAgICAJZmlsbDogY3VycmVudENvbG9yOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgI3BsYXRpRXhjbHVzaW9uVGFnc0xpc3QgewogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogcm93OwogICAgICAgICAgICAgICAgICAgIAlmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgICAgICAgICAgICAgCWFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgCWdhcDogOHB4OwogICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICAgICAgICAgIAlmbGV4LWdyb3c6IDE7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuZXhjbHVzaW9uVGFnIHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDcwLCA3MCwgODAsIDAuOSk7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZGRkOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiA1cHggMTBweDsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogMTVweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgIAljdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4yczsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMDAsIDEwMCwgMTEwLCAwLjkpOwogICAgICAgICAgICAgICAgICAgIAl3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAgICAgICAgIAl0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmV4Y2x1c2lvblRhZzpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjIwLCA1MywgNjksIDAuOSk7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1jb2xvcjogcmdiYSgyMDAsIDQwLCA1MCwgMC45NSk7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmV4Y2x1c2lvblRhZzo6YWZ0ZXIgewogICAgICAgICAgICAgICAgICAgIAljb250ZW50OiAnIMOXJzsKICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1sZWZ0OiA0cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKiDQoNC10LfRg9C70YzRgtCw0YLRiyAqLwogICAgICAgICAgICAgICAgICAgICNwbGF0aVNlYXJjaFJlc3VsdHNDb250YWluZXIgewogICAgICAgICAgICAgICAgICAgIAlwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmctbGVmdDogJHtQU19DT05URU5UX1BBRERJTkdfTEVGVH1weDsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy1yaWdodDogJHtQU19DT05URU5UX1BBRERJTkdfUklHSFR9cHg7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1sZWZ0OiAtJHtQU19DT05URU5UX1BBRERJTkdfTEVGVH1weDsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXJpZ2h0OiAtJHtQU19DT05URU5UX1BBRERJTkdfUklHSFR9cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hSZXN1bHRzU3RhdHVzIHsKICAgICAgICAgICAgICAgICAgICAJd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgCXRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2FhYTsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZzogNTBweCAwOwogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgICAgIAltaW4taGVpZ2h0OiAxMDBweDsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcGxhdGlTZWFyY2hSZXN1bHRzIHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICAgICAgICAgIAlnYXA6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgCWp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKICAgICAgICAgICAgICAgICAgICAJcGFkZGluZy10b3A6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKiDQmtCw0YDRgtC+0YfQutCwINGC0L7QstCw0YDQsCAqLwogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaEl0ZW0gewogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMmEyYTMwOwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgCXdpZHRoOiBjYWxjKDIwJSAtIDEycHgpOwogICAgICAgICAgICAgICAgICAgIAltaW4td2lkdGg6IDE3MHB4OwogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIAlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlLCBib3gtc2hhZG93IDAuMnMgZWFzZTsKICAgICAgICAgICAgICAgICAgICAJYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2NjYzsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgIAltaW4taGVpZ2h0OiAzNDBweDsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hJdGVtOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAJdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogICAgICAgICAgICAgICAgICAgIAlib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC40KTsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLWNvbG9yOiAjNGI2ZjljOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBsYXRpU2VhcmNoSXRlbS5oaWRkZW4tYnktZmlsdGVyIHsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBsYXRpU2VhcmNoSXRlbSBhIHsKICAgICAgICAgICAgICAgICAgICAJdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogaW5oZXJpdDsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBsYXRpU2VhcmNoSXRlbSAuY2FyZC1pbWFnZS13cmFwcGVyIHsKICAgICAgICAgICAgICAgICAgICAJcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAJYXNwZWN0LXJhdGlvOiAxIC8gMTsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0OwogICAgICAgICAgICAgICAgICAgIAlib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hJdGVtIGltZyB7CiAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICAJdG9wOiAwOwogICAgICAgICAgICAgICAgICAgIAlsZWZ0OiAwOwogICAgICAgICAgICAgICAgICAgIAl3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAJaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAlvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgICAgICAgICAJYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLm5ld0l0ZW1CYWRnZSB7CiAgICAgICAgICAgICAgICAgICAgCXBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICAJdG9wOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgCWxlZnQ6IDRweDsKICAgICAgICAgICAgICAgICAgICAJYmFja2dyb3VuZC1jb2xvcjogI2Y1NDg0ODsKICAgICAgICAgICAgICAgICAgICAJY29sb3I6IHdoaXRlOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAxcHggNXB4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEwcHg7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgCXotaW5kZXg6IDE7CiAgICAgICAgICAgICAgICAgICAgCXRleHQtc2hhZG93OiAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hJdGVtIC5wcmljZSB7CiAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNhNGQwMDc7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDVweDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaEl0ZW0gLnRpdGxlIHsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICAgICAgICAgIAlsaW5lLWhlaWdodDogMS4zOwogICAgICAgICAgICAgICAgICAgIAloZWlnaHQ6IDMuOWVtOwogICAgICAgICAgICAgICAgICAgIAlvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgICAgIAl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogNnB4OwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2VlZTsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogLXdlYmtpdC1ib3g7CiAgICAgICAgICAgICAgICAgICAgCS13ZWJraXQtbGluZS1jbGFtcDogMzsKICAgICAgICAgICAgICAgICAgICAJLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5jYXJkSW5mb0NvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi10b3A6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmctdG9wOiA2cHg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuY2FyZEluZm9Sb3cxLAogICAgICAgICAgICAgICAgICAgIC5jYXJkSW5mb1JvdzIgewogICAgICAgICAgICAgICAgICAgIAlkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgICAgIAlqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgICAgICAgICAgCWZsZXgtd3JhcDogbm93cmFwOwogICAgICAgICAgICAgICAgICAgIAlnYXA6IDhweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2JiYjsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWJvdHRvbTogNHB4OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLmNhcmRJbmZvUm93MSBzcGFuLAogICAgICAgICAgICAgICAgICAgIC5jYXJkSW5mb1JvdzIgc3BhbiB7CiAgICAgICAgICAgICAgICAgICAgCXdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgICAgICAgICAgCW92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgCXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5jYXJkSW5mb1JvdzEgc3BhbjpmaXJzdC1jaGlsZCwKICAgICAgICAgICAgICAgICAgICAuY2FyZEluZm9Sb3cyIHNwYW46Zmlyc3QtY2hpbGQgewogICAgICAgICAgICAgICAgICAgIAlmbGV4LXNocmluazogMDsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXJpZ2h0OiBhdXRvOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnJldmlld3NHb29kIHsKICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICM2Y2ZmNWM7CiAgICAgICAgICAgICAgICAgICAgCWZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnJldmlld3NCYWQgewogICAgICAgICAgICAgICAgICAgIAljb2xvcjogI2Y1NDg0ODsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLWxlZnQ6IDJweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuc2FsZXMgewogICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICAgICAJY29sb3I6ICNlZWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuc2VsbGVyTGluayB7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgIAlmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjYmJiOwogICAgICAgICAgICAgICAgICAgIAl0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgCW1hcmdpbi1ib3R0b206IDRweDsKICAgICAgICAgICAgICAgICAgICAJd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgICAgICAJb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICAJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgICAgICAgICAgCXRyYW5zaXRpb246IGNvbG9yIDAuMnM7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAuc2VsbGVyTGluazpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgCWNvbG9yOiAjZGRkOwogICAgICAgICAgICAgICAgICAgIAl0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wbGF0aVNlYXJjaEl0ZW0gLmJ1eUJ1dHRvbiB7CiAgICAgICAgICAgICAgICAgICAgCWRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgIAl0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCXBhZGRpbmc6IDhweDsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luLXRvcDogOHB4OwogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmOwogICAgICAgICAgICAgICAgICAgIAljb2xvcjogd2hpdGU7CiAgICAgICAgICAgICAgICAgICAgCWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgICAgICAgICAJZm9udC1zaXplOiAxM3B4OwogICAgICAgICAgICAgICAgICAgIAlmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICAgICAgICAgIAl0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlTZWFyY2hJdGVtIC5idXlCdXR0b246aG92ZXIgewogICAgICAgICAgICAgICAgICAgIAliYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyog0JDQtNCw0L/RgtC40LLQvdC+0YHRgtGMICovCiAgICAgICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDE2NTBweCkgewogICAgICAgICAgICAgICAgICAgIAkucGxhdGlTZWFyY2hJdGVtIHsKICAgICAgICAgICAgICAgICAgICAJCXdpZHRoOiBjYWxjKDIwJSAtIDEycHgpOwogICAgICAgICAgICAgICAgICAgIAl9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMTQwMHB4KSB7CiAgICAgICAgICAgICAgICAgICAgCS5wbGF0aVNlYXJjaEl0ZW0gewogICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IGNhbGMoMjUlIC0gMTJweCk7CiAgICAgICAgICAgICAgICAgICAgCX0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMTAwcHgpIHsKICAgICAgICAgICAgICAgICAgICAJLnBsYXRpU2VhcmNoSXRlbSB7CiAgICAgICAgICAgICAgICAgICAgCQl3aWR0aDogY2FsYygzMy4zMyUgLSAxMHB4KTsKICAgICAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDg1MHB4KSB7CgogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlTZWFyY2hGaWx0ZXJzUGFuZWwsCiAgICAgICAgICAgICAgICAgICAgCSNwbGF0aVNlYXJjaEV4Y2x1c2lvblRhZ3MgewogICAgICAgICAgICAgICAgICAgIAkJZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAJI3BsYXRpU2VhcmNoSGVhZGVyLAogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlTZWFyY2hSZXN1bHRzQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAJCXBhZGRpbmctbGVmdDogMTVweDsKICAgICAgICAgICAgICAgICAgICAJCXBhZGRpbmctcmlnaHQ6IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgCQltYXJnaW4tbGVmdDogMDsKICAgICAgICAgICAgICAgICAgICAJCW1hcmdpbi1yaWdodDogMDsKICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAJLnBsYXRpU2VhcmNoSXRlbSB7CiAgICAgICAgICAgICAgICAgICAgCQl3aWR0aDogY2FsYyg1MCUgLSA4cHgpOwogICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlTZWFyY2hIZWFkZXIgewogICAgICAgICAgICAgICAgICAgIAkJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgCX0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogICAgICAgICAgICAgICAgICAgIAkucGxhdGlTZWFyY2hJdGVtIHsKICAgICAgICAgICAgICAgICAgICAJCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAkJbWluLWhlaWdodDogYXV0bzsKICAgICAgICAgICAgICAgICAgICAJfQoKICAgICAgICAgICAgICAgICAgICAJI3BsYXRpU2VhcmNoSGVhZGVyIHsKICAgICAgICAgICAgICAgICAgICAJCWdhcDogNXB4OwogICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgIAkucGxhdGlTZWFyY2hJbnB1dENvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgICAgCQlmbGV4LWJhc2lzOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAkJb3JkZXI6IC0xOwogICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgIAkucGxhdGlTZWFyY2hCdG4sCiAgICAgICAgICAgICAgICAgICAgCSNwbGF0aVNlYXJjaEN1cnJlbmN5U2VsZWN0LAogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlTZWFyY2hBZHZTb3J0QnRuQ29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgICAJCXdpZHRoOiBjYWxjKDMzLjMlIC0gNHB4KTsKICAgICAgICAgICAgICAgICAgICAJCWZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgICAgICAgICAgICAJCXBhZGRpbmc6IDhweCA1cHg7CiAgICAgICAgICAgICAgICAgICAgCQloZWlnaHQ6IDM2cHg7CiAgICAgICAgICAgICAgICAgICAgCX0KCiAgICAgICAgICAgICAgICAgICAgCSNwbGF0aVNlYXJjaEFkdlNvcnRCdG5Db250YWluZXIgewogICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IGNhbGMoMzMuMyUgLSA0cHgpOwogICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlTZWFyY2hBZHZTb3J0QnRuIHsKICAgICAgICAgICAgICAgICAgICAJCXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlTZWFyY2hBZHZTb3J0TWVudSB7CiAgICAgICAgICAgICAgICAgICAgCQltaW4td2lkdGg6IDIwMHB4OwogICAgICAgICAgICAgICAgICAgIAkJbGVmdDogNTAlOwogICAgICAgICAgICAgICAgICAgIAkJdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwogICAgICAgICAgICAgICAgICAgIAl9CgogICAgICAgICAgICAgICAgICAgIAkjcGxhdGlSZXNldFNvcnRCdG4gewogICAgICAgICAgICAgICAgICAgIAkJd2lkdGg6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgCQlwYWRkaW5nOiAwIDhweDsKICAgICAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyog0KHRgtC40LvQuCDQtNC70Y8g0LrQvdC+0L/QutC4IFBsYXRpINC90LAg0YHRgtGA0LDQvdC40YbQtSBTdGVhbSAqLwogICAgICAgICAgICAgICAgICAgIC5wbGF0aV9wcmljZV9idXR0b24gLmJ0bnY2X2JsdWVfaG92ZXJmYWRlIHsKICAgICAgICAgICAgICAgICAgICAJbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIAlwYWRkaW5nOiAwIDE1cHg7CiAgICAgICAgICAgICAgICAgICAgCWZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgICAgICAgICAgICAJZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgICAgICAJYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAJdHJhbnNpdGlvbjogZmlsdGVyIDAuMnM7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucGxhdGlfcHJpY2VfYnV0dG9uIC5idG52Nl9ibHVlX2hvdmVyZmFkZTpob3ZlciB7CiAgICAgICAgICAgICAgICAgICAgCWZpbHRlcjogYnJpZ2h0bmVzcygxLjEpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBzRXhjbHVzaW9uQWN0aW9ucyB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogOHB4OwogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NDQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAucHNFeGNsdXNpb25BY3Rpb25CdG4gewogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDhweDsKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDBweDsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNjY2OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwc0ltcG9ydE1vZGFsIHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTsKICAgICAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwMDM7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLnBzSW1wb3J0TW9kYWxDb250ZW50IHsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJhMmEzMDsKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjVweDsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMDA3YmZmOwogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogOTAlOwogICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDVweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wc0ltcG9ydE1vZGFsQ29udGVudCBoNCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIC5wc0ltcG9ydE1vZGFsQ29udGVudCBwIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2NjYzsKICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjcHNJbXBvcnRUZXh0YXJlYSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZWVlOwogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHB4OwogICAgICAgICAgICAgICAgICAgICAgICByZXNpemU6IHZlcnRpY2FsOwogICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAjcHNJbXBvcnRUZXh0YXJlYTpmb2N1cyB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzY3YzFmNTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC5wc0ltcG9ydE1vZGFsQWN0aW9ucyB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAucHNJbXBvcnRNb2RhbEFjdGlvbnMgLnBsYXRpU2VhcmNoQnRuIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwc0ltcG9ydEFjY2VwdEJ0biB7CiAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNEQ4OEZGOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAjcHNJbXBvcnRBY2NlcHRCdG46aG92ZXIgewogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzM2NkNDOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAjcHNJbXBvcnRDYW5jZWxCdG4gewogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzc3OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgI3BzSW1wb3J0Q2FuY2VsQnRuOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzg4ODsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICNwbGF0aUV4Y2x1c2lvblRhZ3NMaXN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgICB9CgogICAgICAgICAgICBhZGRQbGF0aVN0eWxlcygpOwogICAgICAgICAgICBjb25zdCBzdGVhbUFwcElkQ2hlY2sgPSB1bnNhZmVXaW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvYXBwXC8oXGQrKS8pOwogICAgICAgICAgICBpZiAoc3RlYW1BcHBJZENoZWNrICYmIHN0ZWFtQXBwSWRDaGVja1sxXSkgewogICAgICAgICAgICAgICAgYWRkUGxhdGlCdXR0b24oKTsKICAgICAgICAgICAgfQoKICAgICAgICB9KSgpOwogICAgfQoKICAgIH0KfSkoKTs=","requires":[{"meta":{"name":"jquery-3.6.0.min.js","url":"https://code.jquery.com/jquery-3.6.0.min.js","ts":1750836287897,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="},{"meta":{"name":"nouislider.min.js","url":"https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js","ts":1750836287806,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUoKHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikubm9VaVNsaWRlcj17fSl9KHRoaXMsZnVuY3Rpb24ob3QpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudG99ZnVuY3Rpb24gc3QodCl7dC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHQpfWZ1bmN0aW9uIGF0KHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIGx0KHQpe3QucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBpKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdCYmIWlzTmFOKHQpJiZpc0Zpbml0ZSh0KX1mdW5jdGlvbiB1dCh0LGUscil7MDxyJiYoZnQodCxlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZHQodCxlKX0scikpfWZ1bmN0aW9uIGN0KHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0LDEwMCksMCl9ZnVuY3Rpb24gcHQodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dDpbdF19ZnVuY3Rpb24gZSh0KXt0PSh0PVN0cmluZyh0KSkuc3BsaXQoIi4iKTtyZXR1cm4gMTx0Lmxlbmd0aD90WzFdLmxlbmd0aDowfWZ1bmN0aW9uIGZ0KHQsZSl7dC5jbGFzc0xpc3QmJiEvXHMvLnRlc3QoZSk/dC5jbGFzc0xpc3QuYWRkKGUpOnQuY2xhc3NOYW1lKz0iICIrZX1mdW5jdGlvbiBkdCh0LGUpe3QuY2xhc3NMaXN0JiYhL1xzLy50ZXN0KGUpP3QuY2xhc3NMaXN0LnJlbW92ZShlKTp0LmNsYXNzTmFtZT10LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoIihefFxcYikiK2Uuc3BsaXQoIiAiKS5qb2luKCJ8IikrIihcXGJ8JCkiLCJnaSIpLCIgIil9ZnVuY3Rpb24gaHQodCl7dmFyIGU9dm9pZCAwIT09d2luZG93LnBhZ2VYT2Zmc2V0LHI9IkNTUzFDb21wYXQiPT09KHQuY29tcGF0TW9kZXx8IiIpO3JldHVybnt4OmU/d2luZG93LnBhZ2VYT2Zmc2V0OihyP3QuZG9jdW1lbnRFbGVtZW50OnQuYm9keSkuc2Nyb2xsTGVmdCx5OmU/d2luZG93LnBhZ2VZT2Zmc2V0OihyP3QuZG9jdW1lbnRFbGVtZW50OnQuYm9keSkuc2Nyb2xsVG9wfX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIDEwMC8oZS10KX1mdW5jdGlvbiBhKHQsZSxyKXtyZXR1cm4gMTAwKmUvKHRbcisxXS10W3JdKX1mdW5jdGlvbiBsKHQsZSl7Zm9yKHZhciByPTE7dD49ZVtyXTspcis9MTtyZXR1cm4gcn1mdW5jdGlvbiByKHQsZSxyKXtpZihyPj10LnNsaWNlKC0xKVswXSlyZXR1cm4gMTAwO3ZhciBuPWwocix0KSxpPXRbbi0xXSxvPXRbbl0sdD1lW24tMV0sbj1lW25dO3JldHVybiB0KyhyPXIsYShvPVtpLG9dLG9bMF08MD9yK01hdGguYWJzKG9bMF0pOnItb1swXSwwKS9zKHQsbikpfWZ1bmN0aW9uIG8odCxlLHIsbil7aWYoMTAwPT09bilyZXR1cm4gbjt2YXIgaT1sKG4sdCksbz10W2ktMV0scz10W2ldO3JldHVybiByPyhzLW8pLzI8bi1vP3M6bzplW2ktMV0/dFtpLTFdKyh0PW4tdFtpLTFdLGk9ZVtpLTFdLE1hdGgucm91bmQodC9pKSppKTpufW90LlBpcHNNb2RlPXZvaWQgMCwoSD1vdC5QaXBzTW9kZXx8KG90LlBpcHNNb2RlPXt9KSkuUmFuZ2U9InJhbmdlIixILlN0ZXBzPSJzdGVwcyIsSC5Qb3NpdGlvbnM9InBvc2l0aW9ucyIsSC5Db3VudD0iY291bnQiLEguVmFsdWVzPSJ2YWx1ZXMiLG90LlBpcHNUeXBlPXZvaWQgMCwoSD1vdC5QaXBzVHlwZXx8KG90LlBpcHNUeXBlPXt9KSlbSC5Ob25lPS0xXT0iTm9uZSIsSFtILk5vVmFsdWU9MF09Ik5vVmFsdWUiLEhbSC5MYXJnZVZhbHVlPTFdPSJMYXJnZVZhbHVlIixIW0guU21hbGxWYWx1ZT0yXT0iU21hbGxWYWx1ZSI7dmFyIHU9KHQucHJvdG90eXBlLmdldERpc3RhbmNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTA7cjx0aGlzLnhOdW1TdGVwcy5sZW5ndGgtMTtyKyspZVtyXT1hKHRoaXMueFZhbCx0LHIpO3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRBYnNvbHV0ZURpc3RhbmNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0wO2lmKHQ8dGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGgtMV0pZm9yKDt0PnRoaXMueFBjdFtuKzFdOyluKys7ZWxzZSB0PT09dGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGgtMV0mJihuPXRoaXMueFBjdC5sZW5ndGgtMik7cnx8dCE9PXRoaXMueFBjdFtuKzFdfHxuKys7Zm9yKHZhciBpLG89MSxzPShlPW51bGw9PT1lP1tdOmUpW25dLGE9MCxsPTAsdT0wLGM9cj8odC10aGlzLnhQY3Rbbl0pLyh0aGlzLnhQY3RbbisxXS10aGlzLnhQY3Rbbl0pOih0aGlzLnhQY3RbbisxXS10KS8odGhpcy54UGN0W24rMV0tdGhpcy54UGN0W25dKTswPHM7KWk9dGhpcy54UGN0W24rMSt1XS10aGlzLnhQY3Rbbit1XSwxMDA8ZVtuK3VdKm8rMTAwLTEwMCpjPyhhPWkqYyxvPShzLTEwMCpjKS9lW24rdV0sYz0xKTooYT1lW24rdV0qaS8xMDAqbyxvPTApLHI/KGwtPWEsMTw9dGhpcy54UGN0Lmxlbmd0aCt1JiZ1LS0pOihsKz1hLDE8PXRoaXMueFBjdC5sZW5ndGgtdSYmdSsrKSxzPWVbbit1XSpvO3JldHVybiB0K2x9LHQucHJvdG90eXBlLnRvU3RlcHBpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cih0aGlzLnhWYWwsdGhpcy54UGN0LHQpfSx0LnByb3RvdHlwZS5mcm9tU3RlcHBpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtpZigxMDA8PXIpcmV0dXJuIHQuc2xpY2UoLTEpWzBdO3ZhciBuPWwocixlKSxpPXRbbi0xXSxvPXRbbl0sdD1lW24tMV0sbj1lW25dO3JldHVybihyLXQpKnModCxuKSooKG89W2ksb10pWzFdLW9bMF0pLzEwMCtvWzBdfSh0aGlzLnhWYWwsdGhpcy54UGN0LHQpfSx0LnByb3RvdHlwZS5nZXRTdGVwPWZ1bmN0aW9uKHQpe3JldHVybiB0PW8odGhpcy54UGN0LHRoaXMueFN0ZXBzLHRoaXMuc25hcCx0KX0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0ZXA9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWwodCx0aGlzLnhQY3QpO3JldHVybigxMDA9PT10fHxlJiZ0PT09dGhpcy54UGN0W24tMV0pJiYobj1NYXRoLm1heChuLTEsMSkpLCh0aGlzLnhWYWxbbl0tdGhpcy54VmFsW24tMV0pL3J9LHQucHJvdG90eXBlLmdldE5lYXJieVN0ZXBzPWZ1bmN0aW9uKHQpe3Q9bCh0LHRoaXMueFBjdCk7cmV0dXJue3N0ZXBCZWZvcmU6e3N0YXJ0VmFsdWU6dGhpcy54VmFsW3QtMl0sc3RlcDp0aGlzLnhOdW1TdGVwc1t0LTJdLGhpZ2hlc3RTdGVwOnRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbdC0yXX0sdGhpc1N0ZXA6e3N0YXJ0VmFsdWU6dGhpcy54VmFsW3QtMV0sc3RlcDp0aGlzLnhOdW1TdGVwc1t0LTFdLGhpZ2hlc3RTdGVwOnRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbdC0xXX0sc3RlcEFmdGVyOntzdGFydFZhbHVlOnRoaXMueFZhbFt0XSxzdGVwOnRoaXMueE51bVN0ZXBzW3RdLGhpZ2hlc3RTdGVwOnRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbdF19fX0sdC5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnhOdW1TdGVwcy5tYXAoZSk7cmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsdCl9LHQucHJvdG90eXBlLmhhc05vU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhWYWxbMF09PT10aGlzLnhWYWxbdGhpcy54VmFsLmxlbmd0aC0xXX0sdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRTdGVwKHRoaXMudG9TdGVwcGluZyh0KSl9LHQucHJvdG90eXBlLmhhbmRsZUVudHJ5UG9pbnQ9ZnVuY3Rpb24odCxlKXt0PSJtaW4iPT09dD8wOiJtYXgiPT09dD8xMDA6cGFyc2VGbG9hdCh0KTtpZighaSh0KXx8IWkoZVswXSkpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuIik7dGhpcy54UGN0LnB1c2godCksdGhpcy54VmFsLnB1c2goZVswXSk7ZT1OdW1iZXIoZVsxXSk7dD90aGlzLnhTdGVwcy5wdXNoKCFpc05hTihlKSYmZSk6aXNOYU4oZSl8fCh0aGlzLnhTdGVwc1swXT1lKSx0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwLnB1c2goMCl9LHQucHJvdG90eXBlLmhhbmRsZVN0ZXBQb2ludD1mdW5jdGlvbih0LGUpe2UmJih0aGlzLnhWYWxbdF0hPT10aGlzLnhWYWxbdCsxXT8odGhpcy54U3RlcHNbdF09YShbdGhpcy54VmFsW3RdLHRoaXMueFZhbFt0KzFdXSxlLDApL3ModGhpcy54UGN0W3RdLHRoaXMueFBjdFt0KzFdKSxlPSh0aGlzLnhWYWxbdCsxXS10aGlzLnhWYWxbdF0pL3RoaXMueE51bVN0ZXBzW3RdLGU9TWF0aC5jZWlsKE51bWJlcihlLnRvRml4ZWQoMykpLTEpLGU9dGhpcy54VmFsW3RdK3RoaXMueE51bVN0ZXBzW3RdKmUsdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFt0XT1lKTp0aGlzLnhTdGVwc1t0XT10aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW3RdPXRoaXMueFZhbFt0XSl9LHQpO2Z1bmN0aW9uIHQoZSx0LHIpe3ZhciBuO3RoaXMueFBjdD1bXSx0aGlzLnhWYWw9W10sdGhpcy54U3RlcHM9W10sdGhpcy54TnVtU3RlcHM9W10sdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcD1bXSx0aGlzLnhTdGVwcz1bcnx8ITFdLHRoaXMueE51bVN0ZXBzPVshMV0sdGhpcy5zbmFwPXQ7dmFyIGk9W107Zm9yKE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKFtwdChlW3RdKSx0XSl9KSxpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXVswXS1lWzBdWzBdfSksbj0wO248aS5sZW5ndGg7bisrKXRoaXMuaGFuZGxlRW50cnlQb2ludChpW25dWzFdLGlbbl1bMF0pO2Zvcih0aGlzLnhOdW1TdGVwcz10aGlzLnhTdGVwcy5zbGljZSgwKSxuPTA7bjx0aGlzLnhOdW1TdGVwcy5sZW5ndGg7bisrKXRoaXMuaGFuZGxlU3RlcFBvaW50KG4sdGhpcy54TnVtU3RlcHNbbl0pfXZhciBjPXt0bzpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD8iIjp0LnRvRml4ZWQoMil9LGZyb206TnVtYmVyfSxwPXt0YXJnZXQ6InRhcmdldCIsYmFzZToiYmFzZSIsb3JpZ2luOiJvcmlnaW4iLGhhbmRsZToiaGFuZGxlIixoYW5kbGVMb3dlcjoiaGFuZGxlLWxvd2VyIixoYW5kbGVVcHBlcjoiaGFuZGxlLXVwcGVyIix0b3VjaEFyZWE6InRvdWNoLWFyZWEiLGhvcml6b250YWw6Imhvcml6b250YWwiLHZlcnRpY2FsOiJ2ZXJ0aWNhbCIsYmFja2dyb3VuZDoiYmFja2dyb3VuZCIsY29ubmVjdDoiY29ubmVjdCIsY29ubmVjdHM6ImNvbm5lY3RzIixsdHI6Imx0ciIscnRsOiJydGwiLHRleHREaXJlY3Rpb25MdHI6InR4dC1kaXItbHRyIix0ZXh0RGlyZWN0aW9uUnRsOiJ0eHQtZGlyLXJ0bCIsZHJhZ2dhYmxlOiJkcmFnZ2FibGUiLGRyYWc6InN0YXRlLWRyYWciLHRhcDoic3RhdGUtdGFwIixhY3RpdmU6ImFjdGl2ZSIsdG9vbHRpcDoidG9vbHRpcCIscGlwczoicGlwcyIscGlwc0hvcml6b250YWw6InBpcHMtaG9yaXpvbnRhbCIscGlwc1ZlcnRpY2FsOiJwaXBzLXZlcnRpY2FsIixtYXJrZXI6Im1hcmtlciIsbWFya2VySG9yaXpvbnRhbDoibWFya2VyLWhvcml6b250YWwiLG1hcmtlclZlcnRpY2FsOiJtYXJrZXItdmVydGljYWwiLG1hcmtlck5vcm1hbDoibWFya2VyLW5vcm1hbCIsbWFya2VyTGFyZ2U6Im1hcmtlci1sYXJnZSIsbWFya2VyU3ViOiJtYXJrZXItc3ViIix2YWx1ZToidmFsdWUiLHZhbHVlSG9yaXpvbnRhbDoidmFsdWUtaG9yaXpvbnRhbCIsdmFsdWVWZXJ0aWNhbDoidmFsdWUtdmVydGljYWwiLHZhbHVlTm9ybWFsOiJ2YWx1ZS1ub3JtYWwiLHZhbHVlTGFyZ2U6InZhbHVlLWxhcmdlIix2YWx1ZVN1YjoidmFsdWUtc3ViIn0sbXQ9e3Rvb2x0aXBzOiIuX190b29sdGlwcyIsYXJpYToiLl9fYXJpYSJ9O2Z1bmN0aW9uIGYodCxlKXtpZighaShlKSl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdzdGVwJyBpcyBub3QgbnVtZXJpYy4iKTt0LnNpbmdsZVN0ZXA9ZX1mdW5jdGlvbiBkKHQsZSl7aWYoIWkoZSkpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAna2V5Ym9hcmRQYWdlTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuIik7dC5rZXlib2FyZFBhZ2VNdWx0aXBsaWVyPWV9ZnVuY3Rpb24gaCh0LGUpe2lmKCFpKGUpKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2tleWJvYXJkTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuIik7dC5rZXlib2FyZE11bHRpcGxpZXI9ZX1mdW5jdGlvbiBtKHQsZSl7aWYoIWkoZSkpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAna2V5Ym9hcmREZWZhdWx0U3RlcCcgaXMgbm90IG51bWVyaWMuIik7dC5rZXlib2FyZERlZmF1bHRTdGVwPWV9ZnVuY3Rpb24gZyh0LGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC4iKTtpZih2b2lkIDA9PT1lLm1pbnx8dm9pZCAwPT09ZS5tYXgpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiBNaXNzaW5nICdtaW4nIG9yICdtYXgnIGluICdyYW5nZScuIik7dC5zcGVjdHJ1bT1uZXcgdShlLHQuc25hcHx8ITEsdC5zaW5nbGVTdGVwKX1mdW5jdGlvbiB2KHQsZSl7aWYoZT1wdChlKSwhQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LiIpO3QuaGFuZGxlcz1lLmxlbmd0aCx0LnN0YXJ0PWV9ZnVuY3Rpb24gYih0LGUpe2lmKCJib29sZWFuIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLiIpO3Quc25hcD1lfWZ1bmN0aW9uIFModCxlKXtpZigiYm9vbGVhbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi4iKTt0LmFuaW1hdGU9ZX1mdW5jdGlvbiB4KHQsZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2FuaW1hdGlvbkR1cmF0aW9uJyBvcHRpb24gbXVzdCBiZSBhIG51bWJlci4iKTt0LmFuaW1hdGlvbkR1cmF0aW9uPWV9ZnVuY3Rpb24geSh0LGUpe3ZhciByLG49WyExXTtpZigibG93ZXIiPT09ZT9lPVshMCwhMV06InVwcGVyIj09PWUmJihlPVshMSwhMF0pLCEwPT09ZXx8ITE9PT1lKXtmb3Iocj0xO3I8dC5oYW5kbGVzO3IrKyluLnB1c2goZSk7bi5wdXNoKCExKX1lbHNle2lmKCFBcnJheS5pc0FycmF5KGUpfHwhZS5sZW5ndGh8fGUubGVuZ3RoIT09dC5oYW5kbGVzKzEpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LiIpO249ZX10LmNvbm5lY3Q9bn1mdW5jdGlvbiB3KHQsZSl7c3dpdGNoKGUpe2Nhc2UiaG9yaXpvbnRhbCI6dC5vcnQ9MDticmVhaztjYXNlInZlcnRpY2FsIjp0Lm9ydD0xO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnb3JpZW50YXRpb24nIG9wdGlvbiBpcyBpbnZhbGlkLiIpfX1mdW5jdGlvbiBFKHQsZSl7aWYoIWkoZSkpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLiIpOzAhPT1lJiYodC5tYXJnaW49dC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlKSl9ZnVuY3Rpb24gUCh0LGUpe2lmKCFpKGUpKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLiIpO2lmKHQubGltaXQ9dC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlKSwhdC5saW1pdHx8dC5oYW5kbGVzPDIpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnbGltaXQnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycyB3aXRoIDIgb3IgbW9yZSBoYW5kbGVzLiIpfWZ1bmN0aW9uIEModCxlKXt2YXIgcjtpZighaShlKSYmIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYyBvciBhcnJheSBvZiBleGFjdGx5IDIgbnVtYmVycy4iKTtpZihBcnJheS5pc0FycmF5KGUpJiYyIT09ZS5sZW5ndGgmJiFpKGVbMF0pJiYhaShlWzFdKSl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljIG9yIGFycmF5IG9mIGV4YWN0bHkgMiBudW1iZXJzLiIpO2lmKDAhPT1lKXtmb3IoQXJyYXkuaXNBcnJheShlKXx8KGU9W2UsZV0pLHQucGFkZGluZz1bdC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlWzBdKSx0LnNwZWN0cnVtLmdldERpc3RhbmNlKGVbMV0pXSxyPTA7cjx0LnNwZWN0cnVtLnhOdW1TdGVwcy5sZW5ndGgtMTtyKyspaWYodC5wYWRkaW5nWzBdW3JdPDB8fHQucGFkZGluZ1sxXVtyXTwwKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyKHMpLiIpO3ZhciBuPWVbMF0rZVsxXSxlPXQuc3BlY3RydW0ueFZhbFswXTtpZigxPG4vKHQuc3BlY3RydW0ueFZhbFt0LnNwZWN0cnVtLnhWYWwubGVuZ3RoLTFdLWUpKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IG5vdCBleGNlZWQgMTAwJSBvZiB0aGUgcmFuZ2UuIil9fWZ1bmN0aW9uIE4odCxlKXtzd2l0Y2goZSl7Y2FzZSJsdHIiOnQuZGlyPTA7YnJlYWs7Y2FzZSJydGwiOnQuZGlyPTE7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdkaXJlY3Rpb24nIG9wdGlvbiB3YXMgbm90IHJlY29nbml6ZWQuIil9fWZ1bmN0aW9uIFYodCxlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnYmVoYXZpb3VyJyBtdXN0IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgb3B0aW9ucy4iKTt2YXIgcj0wPD1lLmluZGV4T2YoInRhcCIpLG49MDw9ZS5pbmRleE9mKCJkcmFnIiksaT0wPD1lLmluZGV4T2YoImZpeGVkIiksbz0wPD1lLmluZGV4T2YoInNuYXAiKSxzPTA8PWUuaW5kZXhPZigiaG92ZXIiKSxhPTA8PWUuaW5kZXhPZigidW5jb25zdHJhaW5lZCIpLGw9MDw9ZS5pbmRleE9mKCJkcmFnLWFsbCIpLGU9MDw9ZS5pbmRleE9mKCJzbW9vdGgtc3RlcHMiKTtpZihpKXtpZigyIT09dC5oYW5kbGVzKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2ZpeGVkJyBiZWhhdmlvdXIgbXVzdCBiZSB1c2VkIHdpdGggMiBoYW5kbGVzIik7RSh0LHQuc3RhcnRbMV0tdC5zdGFydFswXSl9aWYoYSYmKHQubWFyZ2lufHx0LmxpbWl0KSl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICd1bmNvbnN0cmFpbmVkJyBiZWhhdmlvdXIgY2Fubm90IGJlIHVzZWQgd2l0aCBtYXJnaW4gb3IgbGltaXQiKTt0LmV2ZW50cz17dGFwOnJ8fG8sZHJhZzpuLGRyYWdBbGw6bCxzbW9vdGhTdGVwczplLGZpeGVkOmksc25hcDpvLGhvdmVyOnMsdW5jb25zdHJhaW5lZDphfX1mdW5jdGlvbiBBKHQsZSl7aWYoITEhPT1lKWlmKCEwPT09ZXx8bihlKSl7dC50b29sdGlwcz1bXTtmb3IodmFyIHI9MDtyPHQuaGFuZGxlcztyKyspdC50b29sdGlwcy5wdXNoKGUpfWVsc2V7aWYoKGU9cHQoZSkpLmxlbmd0aCE9PXQuaGFuZGxlcyl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKCJib29sZWFuIiE9dHlwZW9mIHQmJiFuKHQpKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ3Rvb2x0aXBzJyBtdXN0IGJlIHBhc3NlZCBhIGZvcm1hdHRlciBvciAnZmFsc2UnLiIpfSksdC50b29sdGlwcz1lfX1mdW5jdGlvbiBrKHQsZSl7aWYoZS5sZW5ndGghPT10LmhhbmRsZXMpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiBtdXN0IHBhc3MgYSBhdHRyaWJ1dGVzIGZvciBhbGwgaGFuZGxlcy4iKTt0LmhhbmRsZUF0dHJpYnV0ZXM9ZX1mdW5jdGlvbiBNKHQsZSl7aWYoIW4oZSkpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnYXJpYUZvcm1hdCcgcmVxdWlyZXMgJ3RvJyBtZXRob2QuIik7dC5hcmlhRm9ybWF0PWV9ZnVuY3Rpb24gVSh0LGUpe2lmKCFuKHI9ZSl8fCJmdW5jdGlvbiIhPXR5cGVvZiByLmZyb20pdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnZm9ybWF0JyByZXF1aXJlcyAndG8nIGFuZCAnZnJvbScgbWV0aG9kcy4iKTt2YXIgcjt0LmZvcm1hdD1lfWZ1bmN0aW9uIEQodCxlKXtpZigiYm9vbGVhbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2tleWJvYXJkU3VwcG9ydCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLiIpO3Qua2V5Ym9hcmRTdXBwb3J0PWV9ZnVuY3Rpb24gTyh0LGUpe3QuZG9jdW1lbnRFbGVtZW50PWV9ZnVuY3Rpb24gTCh0LGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSYmITEhPT1lKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2Nzc1ByZWZpeCcgbXVzdCBiZSBhIHN0cmluZyBvciBgZmFsc2VgLiIpO3QuY3NzUHJlZml4PWV9ZnVuY3Rpb24gVChlLHIpe2lmKCJvYmplY3QiIT10eXBlb2Ygcil0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC4iKTsic3RyaW5nIj09dHlwZW9mIGUuY3NzUHJlZml4PyhlLmNzc0NsYXNzZXM9e30sT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbih0KXtlLmNzc0NsYXNzZXNbdF09ZS5jc3NQcmVmaXgrclt0XX0pKTplLmNzc0NsYXNzZXM9cn1mdW5jdGlvbiBndChlKXt2YXIgcj17bWFyZ2luOm51bGwsbGltaXQ6bnVsbCxwYWRkaW5nOm51bGwsYW5pbWF0ZTohMCxhbmltYXRpb25EdXJhdGlvbjozMDAsYXJpYUZvcm1hdDpjLGZvcm1hdDpjfSxuPXtzdGVwOntyOiExLHQ6Zn0sa2V5Ym9hcmRQYWdlTXVsdGlwbGllcjp7cjohMSx0OmR9LGtleWJvYXJkTXVsdGlwbGllcjp7cjohMSx0Omh9LGtleWJvYXJkRGVmYXVsdFN0ZXA6e3I6ITEsdDptfSxzdGFydDp7cjohMCx0OnZ9LGNvbm5lY3Q6e3I6ITAsdDp5fSxkaXJlY3Rpb246e3I6ITAsdDpOfSxzbmFwOntyOiExLHQ6Yn0sYW5pbWF0ZTp7cjohMSx0OlN9LGFuaW1hdGlvbkR1cmF0aW9uOntyOiExLHQ6eH0scmFuZ2U6e3I6ITAsdDpnfSxvcmllbnRhdGlvbjp7cjohMSx0Ond9LG1hcmdpbjp7cjohMSx0OkV9LGxpbWl0OntyOiExLHQ6UH0scGFkZGluZzp7cjohMSx0OkN9LGJlaGF2aW91cjp7cjohMCx0OlZ9LGFyaWFGb3JtYXQ6e3I6ITEsdDpNfSxmb3JtYXQ6e3I6ITEsdDpVfSx0b29sdGlwczp7cjohMSx0OkF9LGtleWJvYXJkU3VwcG9ydDp7cjohMCx0OkR9LGRvY3VtZW50RWxlbWVudDp7cjohMSx0Ok99LGNzc1ByZWZpeDp7cjohMCx0Okx9LGNzc0NsYXNzZXM6e3I6ITAsdDpUfSxoYW5kbGVBdHRyaWJ1dGVzOntyOiExLHQ6a319LGk9e2Nvbm5lY3Q6ITEsZGlyZWN0aW9uOiJsdHIiLGJlaGF2aW91cjoidGFwIixvcmllbnRhdGlvbjoiaG9yaXpvbnRhbCIsa2V5Ym9hcmRTdXBwb3J0OiEwLGNzc1ByZWZpeDoibm9VaS0iLGNzc0NsYXNzZXM6cCxrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOjUsa2V5Ym9hcmRNdWx0aXBsaWVyOjEsa2V5Ym9hcmREZWZhdWx0U3RlcDoxMH07ZS5mb3JtYXQmJiFlLmFyaWFGb3JtYXQmJihlLmFyaWFGb3JtYXQ9ZS5mb3JtYXQpLE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24odCl7aWYoYXQoZVt0XSl8fHZvaWQgMCE9PWlbdF0pblt0XS50KHIsKGF0KGVbdF0pP2U6aSlbdF0pO2Vsc2UgaWYoblt0XS5yKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJyIrdCsiJyBpcyByZXF1aXJlZC4iKX0pLHIucGlwcz1lLnBpcHM7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz12b2lkIDAhPT10LnN0eWxlLm1zVHJhbnNmb3JtLHQ9dm9pZCAwIT09dC5zdHlsZS50cmFuc2Zvcm07ci50cmFuc2Zvcm1SdWxlPXQ/InRyYW5zZm9ybSI6bz8ibXNUcmFuc2Zvcm0iOiJ3ZWJraXRUcmFuc2Zvcm0iO3JldHVybiByLnN0eWxlPVtbImxlZnQiLCJ0b3AiXSxbInJpZ2h0IiwiYm90dG9tIl1dW3IuZGlyXVtyLm9ydF0scn1mdW5jdGlvbiBqKHQsZixvKXt2YXIgaSxsLGEsbixzLHUsYz13aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkP3tzdGFydDoicG9pbnRlcmRvd24iLG1vdmU6InBvaW50ZXJtb3ZlIixlbmQ6InBvaW50ZXJ1cCJ9OndpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD97c3RhcnQ6Ik1TUG9pbnRlckRvd24iLG1vdmU6Ik1TUG9pbnRlck1vdmUiLGVuZDoiTVNQb2ludGVyVXAifTp7c3RhcnQ6Im1vdXNlZG93biB0b3VjaHN0YXJ0Iixtb3ZlOiJtb3VzZW1vdmUgdG91Y2htb3ZlIixlbmQ6Im1vdXNldXAgdG91Y2hlbmQifSxwPXdpbmRvdy5DU1MmJkNTUy5zdXBwb3J0cyYmQ1NTLnN1cHBvcnRzKCJ0b3VjaC1hY3Rpb24iLCJub25lIikmJmZ1bmN0aW9uKCl7dmFyIHQ9ITE7dHJ5e3ZhciBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe3Q9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLG51bGwsZSl9Y2F0Y2godCl7fXJldHVybiB0fSgpLGQ9dCxTPWYuc3BlY3RydW0saD1bXSxtPVtdLGc9W10sdj0wLGI9e30seD10Lm93bmVyRG9jdW1lbnQseT1mLmRvY3VtZW50RWxlbWVudHx8eC5kb2N1bWVudEVsZW1lbnQsdz14LmJvZHksRT0icnRsIj09PXguZGlyfHwxPT09Zi5vcnQ/MDoxMDA7ZnVuY3Rpb24gUCh0LGUpe3ZhciByPXguY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUmJmZ0KHIsZSksdC5hcHBlbmRDaGlsZChyKSxyfWZ1bmN0aW9uIEModCxlKXt2YXIgcix0PVAodCxmLmNzc0NsYXNzZXMub3JpZ2luKSxuPVAodCxmLmNzc0NsYXNzZXMuaGFuZGxlKTtyZXR1cm4gUChuLGYuY3NzQ2xhc3Nlcy50b3VjaEFyZWEpLG4uc2V0QXR0cmlidXRlKCJkYXRhLWhhbmRsZSIsU3RyaW5nKGUpKSxmLmtleWJvYXJkU3VwcG9ydCYmKG4uc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKSxuLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKFYoKXx8QShlKSlyZXR1cm4hMTt2YXIgcj1bIkxlZnQiLCJSaWdodCJdLG49WyJEb3duIiwiVXAiXSxpPVsiUGFnZURvd24iLCJQYWdlVXAiXSxvPVsiSG9tZSIsIkVuZCJdO2YuZGlyJiYhZi5vcnQ/ci5yZXZlcnNlKCk6Zi5vcnQmJiFmLmRpciYmKG4ucmV2ZXJzZSgpLGkucmV2ZXJzZSgpKTt2YXIgcz10LmtleS5yZXBsYWNlKCJBcnJvdyIsIiIpLGE9cz09PWlbMF0sbD1zPT09aVsxXSxpPXM9PT1uWzBdfHxzPT09clswXXx8YSxuPXM9PT1uWzFdfHxzPT09clsxXXx8bCxyPXM9PT1vWzBdLG89cz09PW9bMV07aWYoIShpfHxufHxyfHxvKSlyZXR1cm4hMDtpZih0LnByZXZlbnREZWZhdWx0KCksbnx8aSl7dmFyIHU9aT8wOjEsdT1udChlKVt1XTtpZihudWxsPT09dSlyZXR1cm4hMTshMT09PXUmJih1PVMuZ2V0RGVmYXVsdFN0ZXAobVtlXSxpLGYua2V5Ym9hcmREZWZhdWx0U3RlcCkpLHUqPWx8fGE/Zi5rZXlib2FyZFBhZ2VNdWx0aXBsaWVyOmYua2V5Ym9hcmRNdWx0aXBsaWVyLHU9TWF0aC5tYXgodSwxZS03KSx1Kj1pPy0xOjEsdT1oW2VdK3V9ZWxzZSB1PW8/Zi5zcGVjdHJ1bS54VmFsW2Yuc3BlY3RydW0ueFZhbC5sZW5ndGgtMV06Zi5zcGVjdHJ1bS54VmFsWzBdO3JldHVybiBRKGUsUy50b1N0ZXBwaW5nKHUpLCEwLCEwKSxJKCJzbGlkZSIsZSksSSgidXBkYXRlIixlKSxJKCJjaGFuZ2UiLGUpLEkoInNldCIsZSksITF9KHQsZSl9KSksdm9pZCAwIT09Zi5oYW5kbGVBdHRyaWJ1dGVzJiYocj1mLmhhbmRsZUF0dHJpYnV0ZXNbZV0sT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbih0KXtuLnNldEF0dHJpYnV0ZSh0LHJbdF0pfSkpLG4uc2V0QXR0cmlidXRlKCJyb2xlIiwic2xpZGVyIiksbi5zZXRBdHRyaWJ1dGUoImFyaWEtb3JpZW50YXRpb24iLGYub3J0PyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwiKSwwPT09ZT9mdChuLGYuY3NzQ2xhc3Nlcy5oYW5kbGVMb3dlcik6ZT09PWYuaGFuZGxlcy0xJiZmdChuLGYuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlciksdC5oYW5kbGU9bix0fWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4hIWUmJlAodCxmLmNzc0NsYXNzZXMuY29ubmVjdCl9ZnVuY3Rpb24gZSh0LGUpe3JldHVybiEoIWYudG9vbHRpcHN8fCFmLnRvb2x0aXBzW2VdKSYmUCh0LmZpcnN0Q2hpbGQsZi5jc3NDbGFzc2VzLnRvb2x0aXApfWZ1bmN0aW9uIFYoKXtyZXR1cm4gZC5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIil9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gbFt0XS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIil9ZnVuY3Rpb24gaygpe3MmJihZKCJ1cGRhdGUiK210LnRvb2x0aXBzKSxzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmc3QodCl9KSxzPW51bGwpfWZ1bmN0aW9uIE0oKXtrKCkscz1sLm1hcChlKSxYKCJ1cGRhdGUiK210LnRvb2x0aXBzLGZ1bmN0aW9uKHQsZSxyKXtzJiZmLnRvb2x0aXBzJiYhMSE9PXNbZV0mJih0PXRbZV0sITAhPT1mLnRvb2x0aXBzW2VdJiYodD1mLnRvb2x0aXBzW2VdLnRvKHJbZV0pKSxzW2VdLmlubmVySFRNTD10KX0pfWZ1bmN0aW9uIFUodCxlKXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIFMuZnJvbVN0ZXBwaW5nKGU/Uy5nZXRTdGVwKHQpOnQpfSl9ZnVuY3Rpb24gRChkKXt2YXIgaD1mdW5jdGlvbih0KXtpZih0Lm1vZGU9PT1vdC5QaXBzTW9kZS5SYW5nZXx8dC5tb2RlPT09b3QuUGlwc01vZGUuU3RlcHMpcmV0dXJuIFMueFZhbDtpZih0Lm1vZGUhPT1vdC5QaXBzTW9kZS5Db3VudClyZXR1cm4gdC5tb2RlPT09b3QuUGlwc01vZGUuUG9zaXRpb25zP1UodC52YWx1ZXMsdC5zdGVwcGVkKTp0Lm1vZGU9PT1vdC5QaXBzTW9kZS5WYWx1ZXM/dC5zdGVwcGVkP3QudmFsdWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gUy5mcm9tU3RlcHBpbmcoUy5nZXRTdGVwKFMudG9TdGVwcGluZyh0KSkpfSk6dC52YWx1ZXM6W107aWYodC52YWx1ZXM8Mil0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICd2YWx1ZXMnICg+PSAyKSByZXF1aXJlZCBmb3IgbW9kZSAnY291bnQnLiIpO2Zvcih2YXIgZT10LnZhbHVlcy0xLHI9MTAwL2Usbj1bXTtlLS07KW5bZV09ZSpyO3JldHVybiBuLnB1c2goMTAwKSxVKG4sdC5zdGVwcGVkKX0oZCksbT17fSx0PVMueFZhbFswXSxlPVMueFZhbFtTLnhWYWwubGVuZ3RoLTFdLGc9ITEsdj0hMSxiPTA7cmV0dXJuKGg9aC5zbGljZSgpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF0aGlzW3RdJiYodGhpc1t0XT0hMCl9LHt9KSlbMF0hPT10JiYoaC51bnNoaWZ0KHQpLGc9ITApLGhbaC5sZW5ndGgtMV0hPT1lJiYoaC5wdXNoKGUpLHY9ITApLGguZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciByLG4saSxvLHMsYSxsLHUsdD10LGM9aFtlKzFdLHA9ZC5tb2RlPT09b3QuUGlwc01vZGUuU3RlcHMsZj0oZj1wP1MueE51bVN0ZXBzW2VdOmYpfHxjLXQ7Zm9yKHZvaWQgMD09PWMmJihjPXQpLGY9TWF0aC5tYXgoZiwxZS03KSxyPXQ7cjw9YztyPU51bWJlcigocitmKS50b0ZpeGVkKDcpKSl7Zm9yKGE9KG89KGk9Uy50b1N0ZXBwaW5nKHIpKS1iKS8oZC5kZW5zaXR5fHwxKSx1PW8vKGw9TWF0aC5yb3VuZChhKSksbj0xO248PWw7bis9MSltWyhzPWIrbip1KS50b0ZpeGVkKDUpXT1bUy5mcm9tU3RlcHBpbmcocyksMF07YT0tMTxoLmluZGV4T2Yocik/b3QuUGlwc1R5cGUuTGFyZ2VWYWx1ZTpwP290LlBpcHNUeXBlLlNtYWxsVmFsdWU6b3QuUGlwc1R5cGUuTm9WYWx1ZSwhZSYmZyYmciE9PWMmJihhPTApLHI9PT1jJiZ2fHwobVtpLnRvRml4ZWQoNSldPVtyLGFdKSxiPWl9fSksbX1mdW5jdGlvbiBPKGksbyxzKXt2YXIgdCxhPXguY3JlYXRlRWxlbWVudCgiZGl2Iiksbj0oKHQ9e30pW290LlBpcHNUeXBlLk5vbmVdPSIiLHRbb3QuUGlwc1R5cGUuTm9WYWx1ZV09Zi5jc3NDbGFzc2VzLnZhbHVlTm9ybWFsLHRbb3QuUGlwc1R5cGUuTGFyZ2VWYWx1ZV09Zi5jc3NDbGFzc2VzLnZhbHVlTGFyZ2UsdFtvdC5QaXBzVHlwZS5TbWFsbFZhbHVlXT1mLmNzc0NsYXNzZXMudmFsdWVTdWIsdCksbD0oKHQ9e30pW290LlBpcHNUeXBlLk5vbmVdPSIiLHRbb3QuUGlwc1R5cGUuTm9WYWx1ZV09Zi5jc3NDbGFzc2VzLm1hcmtlck5vcm1hbCx0W290LlBpcHNUeXBlLkxhcmdlVmFsdWVdPWYuY3NzQ2xhc3Nlcy5tYXJrZXJMYXJnZSx0W290LlBpcHNUeXBlLlNtYWxsVmFsdWVdPWYuY3NzQ2xhc3Nlcy5tYXJrZXJTdWIsdCksdT1bZi5jc3NDbGFzc2VzLnZhbHVlSG9yaXpvbnRhbCxmLmNzc0NsYXNzZXMudmFsdWVWZXJ0aWNhbF0sYz1bZi5jc3NDbGFzc2VzLm1hcmtlckhvcml6b250YWwsZi5jc3NDbGFzc2VzLm1hcmtlclZlcnRpY2FsXTtmdW5jdGlvbiBwKHQsZSl7dmFyIHI9ZT09PWYuY3NzQ2xhc3Nlcy52YWx1ZTtyZXR1cm4gZSsiICIrKHI/dTpjKVtmLm9ydF0rIiAiKyhyP246bClbdF19cmV0dXJuIGZ0KGEsZi5jc3NDbGFzc2VzLnBpcHMpLGZ0KGEsMD09PWYub3J0P2YuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbDpmLmNzc0NsYXNzZXMucGlwc1ZlcnRpY2FsKSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLHIsbjtyPWlbZT10XVswXSxuPWlbdF1bMV0sKG49bz9vKHIsbik6bikhPT1vdC5QaXBzVHlwZS5Ob25lJiYoKHQ9UChhLCExKSkuY2xhc3NOYW1lPXAobixmLmNzc0NsYXNzZXMubWFya2VyKSx0LnN0eWxlW2Yuc3R5bGVdPWUrIiUiLG4+b3QuUGlwc1R5cGUuTm9WYWx1ZSYmKCh0PVAoYSwhMSkpLmNsYXNzTmFtZT1wKG4sZi5jc3NDbGFzc2VzLnZhbHVlKSx0LnNldEF0dHJpYnV0ZSgiZGF0YS12YWx1ZSIsU3RyaW5nKHIpKSx0LnN0eWxlW2Yuc3R5bGVdPWUrIiUiLHQuaW5uZXJIVE1MPVN0cmluZyhzLnRvKHIpKSkpfSksYX1mdW5jdGlvbiBMKCl7biYmKHN0KG4pLG49bnVsbCl9ZnVuY3Rpb24gVCh0KXtMKCk7dmFyIGU9RCh0KSxyPXQuZmlsdGVyLHQ9dC5mb3JtYXR8fHt0bzpmdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKE1hdGgucm91bmQodCkpfX07cmV0dXJuIG49ZC5hcHBlbmRDaGlsZChPKGUscix0KSl9ZnVuY3Rpb24gaigpe3ZhciB0PWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZT0ib2Zmc2V0IitbIldpZHRoIiwiSGVpZ2h0Il1bZi5vcnRdO3JldHVybiAwPT09Zi5vcnQ/dC53aWR0aHx8aVtlXTp0LmhlaWdodHx8aVtlXX1mdW5jdGlvbiB6KG4saSxvLHMpe2Z1bmN0aW9uIGUodCl7dmFyIGUscj1mdW5jdGlvbihlLHQscil7dmFyIG49MD09PWUudHlwZS5pbmRleE9mKCJ0b3VjaCIpLGk9MD09PWUudHlwZS5pbmRleE9mKCJtb3VzZSIpLG89MD09PWUudHlwZS5pbmRleE9mKCJwb2ludGVyIikscz0wLGE9MDswPT09ZS50eXBlLmluZGV4T2YoIk1TUG9pbnRlciIpJiYobz0hMCk7aWYoIm1vdXNlZG93biI9PT1lLnR5cGUmJiFlLmJ1dHRvbnMmJiFlLnRvdWNoZXMpcmV0dXJuITE7aWYobil7dmFyIGw9ZnVuY3Rpb24odCl7dD10LnRhcmdldDtyZXR1cm4gdD09PXJ8fHIuY29udGFpbnModCl8fGUuY29tcG9zZWQmJmUuY29tcG9zZWRQYXRoKCkuc2hpZnQoKT09PXJ9O2lmKCJ0b3VjaHN0YXJ0Ij09PWUudHlwZSl7bj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLGwpO2lmKDE8bi5sZW5ndGgpcmV0dXJuITE7cz1uWzBdLnBhZ2VYLGE9blswXS5wYWdlWX1lbHNle2w9QXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChlLmNoYW5nZWRUb3VjaGVzLGwpO2lmKCFsKXJldHVybiExO3M9bC5wYWdlWCxhPWwucGFnZVl9fXQ9dHx8aHQoeCksKGl8fG8pJiYocz1lLmNsaWVudFgrdC54LGE9ZS5jbGllbnRZK3QueSk7cmV0dXJuIGUucGFnZU9mZnNldD10LGUucG9pbnRzPVtzLGFdLGUuY3Vyc29yPWl8fG8sZX0odCxzLnBhZ2VPZmZzZXQscy50YXJnZXR8fGkpO3JldHVybiEhciYmKCEoVigpJiYhcy5kb05vdFJlamVjdCkmJihlPWQsdD1mLmNzc0NsYXNzZXMudGFwLCEoKGUuY2xhc3NMaXN0P2UuY2xhc3NMaXN0LmNvbnRhaW5zKHQpOm5ldyBSZWdFeHAoIlxcYiIrdCsiXFxiIikudGVzdChlLmNsYXNzTmFtZSkpJiYhcy5kb05vdFJlamVjdCkmJighKG49PT1jLnN0YXJ0JiZ2b2lkIDAhPT1yLmJ1dHRvbnMmJjE8ci5idXR0b25zKSYmKCghcy5ob3Zlcnx8IXIuYnV0dG9ucykmJihwfHxyLnByZXZlbnREZWZhdWx0KCksci5jYWxjUG9pbnQ9ci5wb2ludHNbZi5vcnRdLHZvaWQgbyhyLHMpKSkpKSl9dmFyIHI9W107cmV0dXJuIG4uc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuYWRkRXZlbnRMaXN0ZW5lcih0LGUsISFwJiZ7cGFzc2l2ZTohMH0pLHIucHVzaChbdCxlXSl9KSxyfWZ1bmN0aW9uIEgodCl7dmFyIGUscixuPWN0KG49MTAwKih0LShuPWksZT1mLm9ydCxyPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj0odD1uLm93bmVyRG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCx0PWh0KHQpLC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKHQueD0wKSxlP3IudG9wK3QueS1uLmNsaWVudFRvcDpyLmxlZnQrdC54LW4uY2xpZW50TGVmdCkpL2ooKSk7cmV0dXJuIGYuZGlyPzEwMC1uOm59ZnVuY3Rpb24gRih0LGUpeyJtb3VzZW91dCI9PT10LnR5cGUmJiJIVE1MIj09PXQudGFyZ2V0Lm5vZGVOYW1lJiZudWxsPT09dC5yZWxhdGVkVGFyZ2V0JiZfKHQsZSl9ZnVuY3Rpb24gUih0LGUpe2lmKC0xPT09bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA5IikmJjA9PT10LmJ1dHRvbnMmJjAhPT1lLmJ1dHRvbnNQcm9wZXJ0eSlyZXR1cm4gXyh0LGUpO3Q9KGYuZGlyPy0xOjEpKih0LmNhbGNQb2ludC1lLnN0YXJ0Q2FsY1BvaW50KTtHKDA8dCwxMDAqdC9lLmJhc2VTaXplLGUubG9jYXRpb25zLGUuaGFuZGxlTnVtYmVycyxlLmNvbm5lY3QpfWZ1bmN0aW9uIF8odCxlKXtlLmhhbmRsZSYmKGR0KGUuaGFuZGxlLGYuY3NzQ2xhc3Nlcy5hY3RpdmUpLC0tdiksZS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXt5LnJlbW92ZUV2ZW50TGlzdGVuZXIodFswXSx0WzFdKX0pLDA9PT12JiYoZHQoZCxmLmNzc0NsYXNzZXMuZHJhZyksSygpLHQuY3Vyc29yJiYody5zdHlsZS5jdXJzb3I9IiIsdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWxlY3RzdGFydCIsbHQpKSksZi5ldmVudHMuc21vb3RoU3RlcHMmJihlLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbih0KXtRKHQsbVt0XSwhMCwhMCwhMSwhMSl9KSxlLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbih0KXtJKCJ1cGRhdGUiLHQpfSkpLGUuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe0koImNoYW5nZSIsdCksSSgic2V0Iix0KSxJKCJlbmQiLHQpfSl9ZnVuY3Rpb24gQih0LGUpe3ZhciByLG4saSxvO2UuaGFuZGxlTnVtYmVycy5zb21lKEEpfHwoMT09PWUuaGFuZGxlTnVtYmVycy5sZW5ndGgmJihvPWxbZS5oYW5kbGVOdW1iZXJzWzBdXS5jaGlsZHJlblswXSx2Kz0xLGZ0KG8sZi5jc3NDbGFzc2VzLmFjdGl2ZSkpLHQuc3RvcFByb3BhZ2F0aW9uKCksbj16KGMubW92ZSx5LFIse3RhcmdldDp0LnRhcmdldCxoYW5kbGU6byxjb25uZWN0OmUuY29ubmVjdCxsaXN0ZW5lcnM6cj1bXSxzdGFydENhbGNQb2ludDp0LmNhbGNQb2ludCxiYXNlU2l6ZTpqKCkscGFnZU9mZnNldDp0LnBhZ2VPZmZzZXQsaGFuZGxlTnVtYmVyczplLmhhbmRsZU51bWJlcnMsYnV0dG9uc1Byb3BlcnR5OnQuYnV0dG9ucyxsb2NhdGlvbnM6bS5zbGljZSgpfSksaT16KGMuZW5kLHksXyx7dGFyZ2V0OnQudGFyZ2V0LGhhbmRsZTpvLGxpc3RlbmVyczpyLGRvTm90UmVqZWN0OiEwLGhhbmRsZU51bWJlcnM6ZS5oYW5kbGVOdW1iZXJzfSksbz16KCJtb3VzZW91dCIseSxGLHt0YXJnZXQ6dC50YXJnZXQsaGFuZGxlOm8sbGlzdGVuZXJzOnIsZG9Ob3RSZWplY3Q6ITAsaGFuZGxlTnVtYmVyczplLmhhbmRsZU51bWJlcnN9KSxyLnB1c2guYXBwbHkocixuLmNvbmNhdChpLG8pKSx0LmN1cnNvciYmKHcuc3R5bGUuY3Vyc29yPWdldENvbXB1dGVkU3R5bGUodC50YXJnZXQpLmN1cnNvciwxPGwubGVuZ3RoJiZmdChkLGYuY3NzQ2xhc3Nlcy5kcmFnKSx3LmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdHN0YXJ0IixsdCwhMSkpLGUuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe0koInN0YXJ0Iix0KX0pKX1mdW5jdGlvbiByKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGksbyxzLGU9SCh0LmNhbGNQb2ludCkscj0oaT1lLHM9IShvPTEwMCksbC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIHIsbjtBKGUpfHwocj1tW2VdLCgobj1NYXRoLmFicyhyLWkpKTxvfHxuPD1vJiZyPGl8fDEwMD09PW4mJjEwMD09PW8pJiYocz1lLG89bikpfSkscyk7ITEhPT1yJiYoZi5ldmVudHMuc25hcHx8dXQoZCxmLmNzc0NsYXNzZXMudGFwLGYuYW5pbWF0aW9uRHVyYXRpb24pLFEocixlLCEwLCEwKSxLKCksSSgic2xpZGUiLHIsITApLEkoInVwZGF0ZSIsciwhMCksZi5ldmVudHMuc25hcD9CKHQse2hhbmRsZU51bWJlcnM6W3JdfSk6KEkoImNoYW5nZSIsciwhMCksSSgic2V0IixyLCEwKSkpfWZ1bmN0aW9uIHEodCl7dmFyIHQ9SCh0LmNhbGNQb2ludCksdD1TLmdldFN0ZXAodCksZT1TLmZyb21TdGVwcGluZyh0KTtPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpeyJob3ZlciI9PT10LnNwbGl0KCIuIilbMF0mJmJbdF0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmNhbGwoaXQsZSl9KX0pfWZ1bmN0aW9uIFgodCxlKXtiW3RdPWJbdF18fFtdLGJbdF0ucHVzaChlKSwidXBkYXRlIj09PXQuc3BsaXQoIi4iKVswXSYmbC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7SSgidXBkYXRlIixlKX0pfWZ1bmN0aW9uIFkodCl7dmFyIG49dCYmdC5zcGxpdCgiLiIpWzBdLGk9bj90LnN1YnN0cmluZyhuLmxlbmd0aCk6dDtPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoIi4iKVswXSxyPXQuc3Vic3RyaW5nKGUubGVuZ3RoKTtuJiZuIT09ZXx8aSYmaSE9PXJ8fCgoZT1yKSE9PW10LmFyaWEmJmUhPT1tdC50b29sdGlwc3x8aT09PXIpJiZkZWxldGUgYlt0XX0pfWZ1bmN0aW9uIEkocixuLGkpe09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdCgiLiIpWzBdO3I9PT1lJiZiW3RdLmZvckVhY2goZnVuY3Rpb24odCl7dC5jYWxsKGl0LGgubWFwKGYuZm9ybWF0LnRvKSxuLGguc2xpY2UoKSxpfHwhMSxtLnNsaWNlKCksaXQpfSl9KX1mdW5jdGlvbiBXKHQsZSxyLG4saSxvLHMpe3ZhciBhO3JldHVybiAxPGwubGVuZ3RoJiYhZi5ldmVudHMudW5jb25zdHJhaW5lZCYmKG4mJjA8ZSYmKGE9Uy5nZXRBYnNvbHV0ZURpc3RhbmNlKHRbZS0xXSxmLm1hcmdpbiwhMSkscj1NYXRoLm1heChyLGEpKSxpJiZlPGwubGVuZ3RoLTEmJihhPVMuZ2V0QWJzb2x1dGVEaXN0YW5jZSh0W2UrMV0sZi5tYXJnaW4sITApLHI9TWF0aC5taW4ocixhKSkpLDE8bC5sZW5ndGgmJmYubGltaXQmJihuJiYwPGUmJihhPVMuZ2V0QWJzb2x1dGVEaXN0YW5jZSh0W2UtMV0sZi5saW1pdCwhMSkscj1NYXRoLm1pbihyLGEpKSxpJiZlPGwubGVuZ3RoLTEmJihhPVMuZ2V0QWJzb2x1dGVEaXN0YW5jZSh0W2UrMV0sZi5saW1pdCwhMCkscj1NYXRoLm1heChyLGEpKSksZi5wYWRkaW5nJiYoMD09PWUmJihhPVMuZ2V0QWJzb2x1dGVEaXN0YW5jZSgwLGYucGFkZGluZ1swXSwhMSkscj1NYXRoLm1heChyLGEpKSxlPT09bC5sZW5ndGgtMSYmKGE9Uy5nZXRBYnNvbHV0ZURpc3RhbmNlKDEwMCxmLnBhZGRpbmdbMV0sITApLHI9TWF0aC5taW4ocixhKSkpLCEoKHI9Y3Qocj0hcz9TLmdldFN0ZXAocik6cikpPT09dFtlXSYmIW8pJiZyfWZ1bmN0aW9uICQodCxlKXt2YXIgcj1mLm9ydDtyZXR1cm4ocj9lOnQpKyIsICIrKHI/dDplKX1mdW5jdGlvbiBHKHQscixuLGUsaSl7dmFyIG89bi5zbGljZSgpLHM9ZVswXSxhPWYuZXZlbnRzLnNtb290aFN0ZXBzLGw9WyF0LHRdLHU9W3QsIXRdO2U9ZS5zbGljZSgpLHQmJmUucmV2ZXJzZSgpLDE8ZS5sZW5ndGg/ZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ZT1XKG8sdCxvW3RdK3IsbFtlXSx1W2VdLCExLGEpOyExPT09ZT9yPTA6KHI9ZS1vW3RdLG9bdF09ZSl9KTpsPXU9WyEwXTt2YXIgYz0hMTtlLmZvckVhY2goZnVuY3Rpb24odCxlKXtjPVEodCxuW3RdK3IsbFtlXSx1W2VdLCExLGEpfHxjfSksYyYmKGUuZm9yRWFjaChmdW5jdGlvbih0KXtJKCJ1cGRhdGUiLHQpLEkoInNsaWRlIix0KX0pLG51bGwhPWkmJkkoImRyYWciLHMpKX1mdW5jdGlvbiBKKHQsZSl7cmV0dXJuIGYuZGlyPzEwMC10LWU6dH1mdW5jdGlvbiBLKCl7Zy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPTUwPG1bdF0/LTE6MSxlPTMrKGwubGVuZ3RoK2UqdCk7bFt0XS5zdHlsZS56SW5kZXg9U3RyaW5nKGUpfSl9ZnVuY3Rpb24gUSh0LGUscixuLGksbyl7cmV0dXJuITEhPT0oZT1pP2U6VyhtLHQsZSxyLG4sITEsbykpJiYoZT1lLG1bdD10XT1lLGhbdF09Uy5mcm9tU3RlcHBpbmcoZSksZT0idHJhbnNsYXRlKCIrJChKKGUsMCktRSsiJSIsIjAiKSsiKSIsbFt0XS5zdHlsZVtmLnRyYW5zZm9ybVJ1bGVdPWUsWih0KSxaKHQrMSksITApfWZ1bmN0aW9uIFoodCl7dmFyIGUscjthW3RdJiYocj0xMDAsZT0idHJhbnNsYXRlKCIrJChKKGU9KGU9MCkhPT10P21bdC0xXTplLHI9KHI9dCE9PWEubGVuZ3RoLTE/bVt0XTpyKS1lKSsiJSIsIjAiKSsiKSIscj0ic2NhbGUoIiskKHIvMTAwLCIxIikrIikiLGFbdF0uc3R5bGVbZi50cmFuc2Zvcm1SdWxlXT1lKyIgIityKX1mdW5jdGlvbiB0dCh0LGUpe3JldHVybiBudWxsPT09dHx8ITE9PT10fHx2b2lkIDA9PT10P21bZV06KCJudW1iZXIiPT10eXBlb2YgdCYmKHQ9U3RyaW5nKHQpKSwhMT09PSh0PSExIT09KHQ9Zi5mb3JtYXQuZnJvbSh0KSk/Uy50b1N0ZXBwaW5nKHQpOnQpfHxpc05hTih0KT9tW2VdOnQpfWZ1bmN0aW9uIGV0KHQsZSxyKXt2YXIgbj1wdCh0KSx0PXZvaWQgMD09PW1bMF07ZT12b2lkIDA9PT1lfHxlLGYuYW5pbWF0ZSYmIXQmJnV0KGQsZi5jc3NDbGFzc2VzLnRhcCxmLmFuaW1hdGlvbkR1cmF0aW9uKSxnLmZvckVhY2goZnVuY3Rpb24odCl7USh0LHR0KG5bdF0sdCksITAsITEscil9KTt2YXIgaSxvPTE9PT1nLmxlbmd0aD8wOjE7Zm9yKHQmJlMuaGFzTm9TaXplKCkmJihyPSEwLG1bMF09MCwxPGcubGVuZ3RoJiYoaT0xMDAvKGcubGVuZ3RoLTEpLGcuZm9yRWFjaChmdW5jdGlvbih0KXttW3RdPXQqaX0pKSk7bzxnLmxlbmd0aDsrK28pZy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1EodCxtW3RdLCEwLCEwLHIpfSk7SygpLGcuZm9yRWFjaChmdW5jdGlvbih0KXtJKCJ1cGRhdGUiLHQpLG51bGwhPT1uW3RdJiZlJiZJKCJzZXQiLHQpfSl9ZnVuY3Rpb24gcnQodCl7aWYodD12b2lkIDA9PT10PyExOnQpcmV0dXJuIDE9PT1oLmxlbmd0aD9oWzBdOmguc2xpY2UoMCk7dD1oLm1hcChmLmZvcm1hdC50byk7cmV0dXJuIDE9PT10Lmxlbmd0aD90WzBdOnR9ZnVuY3Rpb24gbnQodCl7dmFyIGU9bVt0XSxyPVMuZ2V0TmVhcmJ5U3RlcHMoZSksbj1oW3RdLGk9ci50aGlzU3RlcC5zdGVwLHQ9bnVsbDtpZihmLnNuYXApcmV0dXJuW24tci5zdGVwQmVmb3JlLnN0YXJ0VmFsdWV8fG51bGwsci5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZS1ufHxudWxsXTshMSE9PWkmJm4raT5yLnN0ZXBBZnRlci5zdGFydFZhbHVlJiYoaT1yLnN0ZXBBZnRlci5zdGFydFZhbHVlLW4pLHQ9bj5yLnRoaXNTdGVwLnN0YXJ0VmFsdWU/ci50aGlzU3RlcC5zdGVwOiExIT09ci5zdGVwQmVmb3JlLnN0ZXAmJm4tci5zdGVwQmVmb3JlLmhpZ2hlc3RTdGVwLDEwMD09PWU/aT1udWxsOjA9PT1lJiYodD1udWxsKTtlPVMuY291bnRTdGVwRGVjaW1hbHMoKTtyZXR1cm4gbnVsbCE9PWkmJiExIT09aSYmKGk9TnVtYmVyKGkudG9GaXhlZChlKSkpLFt0PW51bGwhPT10JiYhMSE9PXQ/TnVtYmVyKHQudG9GaXhlZChlKSk6dCxpXX1mdCh0PWQsZi5jc3NDbGFzc2VzLnRhcmdldCksMD09PWYuZGlyP2Z0KHQsZi5jc3NDbGFzc2VzLmx0cik6ZnQodCxmLmNzc0NsYXNzZXMucnRsKSwwPT09Zi5vcnQ/ZnQodCxmLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk6ZnQodCxmLmNzc0NsYXNzZXMudmVydGljYWwpLGZ0KHQsInJ0bCI9PT1nZXRDb21wdXRlZFN0eWxlKHQpLmRpcmVjdGlvbj9mLmNzc0NsYXNzZXMudGV4dERpcmVjdGlvblJ0bDpmLmNzc0NsYXNzZXMudGV4dERpcmVjdGlvbkx0ciksaT1QKHQsZi5jc3NDbGFzc2VzLmJhc2UpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9UChlLGYuY3NzQ2xhc3Nlcy5jb25uZWN0cyk7bD1bXSwoYT1bXSkucHVzaChOKHIsdFswXSkpO2Zvcih2YXIgbj0wO248Zi5oYW5kbGVzO24rKylsLnB1c2goQyhlLG4pKSxnW25dPW4sYS5wdXNoKE4ocix0W24rMV0pKX0oZi5jb25uZWN0LGkpLCh1PWYuZXZlbnRzKS5maXhlZHx8bC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7eihjLnN0YXJ0LHQuY2hpbGRyZW5bMF0sQix7aGFuZGxlTnVtYmVyczpbZV19KX0pLHUudGFwJiZ6KGMuc3RhcnQsaSxyLHt9KSx1LmhvdmVyJiZ6KGMubW92ZSxpLHEse2hvdmVyOiEwfSksdS5kcmFnJiZhLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxzOyExIT09ZSYmMCE9PXQmJnQhPT1hLmxlbmd0aC0xJiYocj1sW3QtMV0sbj1sW3RdLGk9W2VdLG89W3Isbl0scz1bdC0xLHRdLGZ0KGUsZi5jc3NDbGFzc2VzLmRyYWdnYWJsZSksdS5maXhlZCYmKGkucHVzaChyLmNoaWxkcmVuWzBdKSxpLnB1c2gobi5jaGlsZHJlblswXSkpLHUuZHJhZ0FsbCYmKG89bCxzPWcpLGkuZm9yRWFjaChmdW5jdGlvbih0KXt6KGMuc3RhcnQsdCxCLHtoYW5kbGVzOm8saGFuZGxlTnVtYmVyczpzLGNvbm5lY3Q6ZX0pfSkpfSksZXQoZi5zdGFydCksZi5waXBzJiZUKGYucGlwcyksZi50b29sdGlwcyYmTSgpLFkoInVwZGF0ZSIrbXQuYXJpYSksWCgidXBkYXRlIittdC5hcmlhLGZ1bmN0aW9uKHQsZSxvLHIscyl7Zy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWxbdF0scj1XKG0sdCwwLCEwLCEwLCEwKSxuPVcobSx0LDEwMCwhMCwhMCwhMCksaT1zW3RdLHQ9U3RyaW5nKGYuYXJpYUZvcm1hdC50byhvW3RdKSkscj1TLmZyb21TdGVwcGluZyhyKS50b0ZpeGVkKDEpLG49Uy5mcm9tU3RlcHBpbmcobikudG9GaXhlZCgxKSxpPVMuZnJvbVN0ZXBwaW5nKGkpLnRvRml4ZWQoMSk7ZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVtaW4iLHIpLGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbWF4IixuKSxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsaSksZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0Iix0KX0pfSk7dmFyIGl0PXtkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKFkobXQuYXJpYSksWShtdC50b29sdGlwcyksT2JqZWN0LmtleXMoZi5jc3NDbGFzc2VzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2R0KGQsZi5jc3NDbGFzc2VzW3RdKX0pO2QuZmlyc3RDaGlsZDspZC5yZW1vdmVDaGlsZChkLmZpcnN0Q2hpbGQpO2RlbGV0ZSBkLm5vVWlTbGlkZXJ9LHN0ZXBzOmZ1bmN0aW9uKCl7cmV0dXJuIGcubWFwKG50KX0sb246WCxvZmY6WSxnZXQ6cnQsc2V0OmV0LHNldEhhbmRsZTpmdW5jdGlvbih0LGUscixuKXtpZighKDA8PSh0PU51bWJlcih0KSkmJnQ8Zy5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogaW52YWxpZCBoYW5kbGUgbnVtYmVyLCBnb3Q6ICIrdCk7USh0LHR0KGUsdCksITAsITAsbiksSSgidXBkYXRlIix0KSxyJiZJKCJzZXQiLHQpfSxyZXNldDpmdW5jdGlvbih0KXtldChmLnN0YXJ0LHQpfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe251bGwhPXQ/KGxbdF0uc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsIiIpLGxbdF0uaGFuZGxlLnJlbW92ZUF0dHJpYnV0ZSgidGFiaW5kZXgiKSk6KGQuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsIiIpLGwuZm9yRWFjaChmdW5jdGlvbih0KXt0LmhhbmRsZS5yZW1vdmVBdHRyaWJ1dGUoInRhYmluZGV4Iil9KSl9LGVuYWJsZTpmdW5jdGlvbih0KXtudWxsIT10PyhsW3RdLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKSxsW3RdLmhhbmRsZS5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiMCIpKTooZC5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIiksbC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpLHQuaGFuZGxlLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCIwIil9KSl9LF9fbW92ZUhhbmRsZXM6ZnVuY3Rpb24odCxlLHIpe0codCxlLG0scil9LG9wdGlvbnM6byx1cGRhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dmFyIHI9cnQoKSxuPVsibWFyZ2luIiwibGltaXQiLCJwYWRkaW5nIiwicmFuZ2UiLCJhbmltYXRlIiwic25hcCIsInN0ZXAiLCJmb3JtYXQiLCJwaXBzIiwidG9vbHRpcHMiXTtuLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwIT09ZVt0XSYmKG9bdF09ZVt0XSl9KTt2YXIgaT1ndChvKTtuLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwIT09ZVt0XSYmKGZbdF09aVt0XSl9KSxTPWkuc3BlY3RydW0sZi5tYXJnaW49aS5tYXJnaW4sZi5saW1pdD1pLmxpbWl0LGYucGFkZGluZz1pLnBhZGRpbmcsZi5waXBzP1QoZi5waXBzKTpMKCksKGYudG9vbHRpcHM/TTprKSgpLG09W10sZXQoYXQoZS5zdGFydCk/ZS5zdGFydDpyLHQpfSx0YXJnZXQ6ZCxyZW1vdmVQaXBzOkwscmVtb3ZlVG9vbHRpcHM6ayxnZXRQb3NpdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gbS5zbGljZSgpfSxnZXRUb29sdGlwczpmdW5jdGlvbigpe3JldHVybiBzfSxnZXRPcmlnaW5zOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LHBpcHM6VH07cmV0dXJuIGl0fWZ1bmN0aW9uIHoodCxlKXtpZighdHx8IXQubm9kZU5hbWUpdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiAiK3QpO2lmKHQubm9VaVNsaWRlcil0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6IFNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4iKTtlPWoodCxndChlKSxlKTtyZXR1cm4gdC5ub1VpU2xpZGVyPWV9dmFyIEg9e19fc3BlY3RydW06dSxjc3NDbGFzc2VzOnAsY3JlYXRlOnp9O290LmNyZWF0ZT16LG90LmNzc0NsYXNzZXM9cCxvdC5kZWZhdWx0PUgsT2JqZWN0LmRlZmluZVByb3BlcnR5KG90LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pOw=="},{"meta":{"name":"chart.umd.min.js","url":"https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js","ts":1750836287894,"mimetype":"text/javascript"},"source":"LyoqCiAqIFNraXBwZWQgbWluaWZpY2F0aW9uIGJlY2F1c2UgdGhlIG9yaWdpbmFsIGZpbGVzIGFwcGVhcnMgdG8gYmUgYWxyZWFkeSBtaW5pZmllZC4KICogT3JpZ2luYWwgZmlsZTogL25wbS9jaGFydC5qc0A0LjQuMS9kaXN0L2NoYXJ0LnVtZC5qcwogKgogKiBEbyBOT1QgdXNlIFNSSSB3aXRoIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBmaWxlcyEgTW9yZSBpbmZvcm1hdGlvbjogaHR0cHM6Ly93d3cuanNkZWxpdnIuY29tL3VzaW5nLXNyaS13aXRoLWR5bmFtaWMtZmlsZXMKICovCi8qIQogKiBDaGFydC5qcyB2NC40LjEKICogaHR0cHM6Ly93d3cuY2hhcnRqcy5vcmcKICogKGMpIDIwMjMgQ2hhcnQuanMgQ29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuQ2hhcnQ9ZSgpfSh0aGlzLChmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxnZXQgQ29sb3JzKCl7cmV0dXJuIEdvfSxnZXQgRGVjaW1hdGlvbigpe3JldHVybiBRb30sZ2V0IEZpbGxlcigpe3JldHVybiBtYX0sZ2V0IExlZ2VuZCgpe3JldHVybiB5YX0sZ2V0IFN1YlRpdGxlKCl7cmV0dXJuIGthfSxnZXQgVGl0bGUoKXtyZXR1cm4gTWF9LGdldCBUb29sdGlwKCl7cmV0dXJuIEJhfX0pO2Z1bmN0aW9uIGUoKXt9Y29uc3QgaT0oKCk9PntsZXQgdD0wO3JldHVybigpPT50Kyt9KSgpO2Z1bmN0aW9uIHModCl7cmV0dXJuIG51bGw9PXR9ZnVuY3Rpb24gbih0KXtpZihBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KHQpKXJldHVybiEwO2NvbnN0IGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO3JldHVybiJbb2JqZWN0Ij09PWUuc2xpY2UoMCw3KSYmIkFycmF5XSI9PT1lLnNsaWNlKC02KX1mdW5jdGlvbiBvKHQpe3JldHVybiBudWxsIT09dCYmIltvYmplY3QgT2JqZWN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4oIm51bWJlciI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmaXNGaW5pdGUoK3QpfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gYSh0KT90OmV9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiB2b2lkIDA9PT10P2U6dH1jb25zdCBoPSh0LGUpPT4ic3RyaW5nIj09dHlwZW9mIHQmJnQuZW5kc1dpdGgoIiUiKT9wYXJzZUZsb2F0KHQpLzEwMDordC9lLGM9KHQsZSk9PiJzdHJpbmciPT10eXBlb2YgdCYmdC5lbmRzV2l0aCgiJSIpP3BhcnNlRmxvYXQodCkvMTAwKmU6K3Q7ZnVuY3Rpb24gZCh0LGUsaSl7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbClyZXR1cm4gdC5hcHBseShpLGUpfWZ1bmN0aW9uIHUodCxlLGkscyl7bGV0IGEscixsO2lmKG4odCkpaWYocj10Lmxlbmd0aCxzKWZvcihhPXItMTthPj0wO2EtLSllLmNhbGwoaSx0W2FdLGEpO2Vsc2UgZm9yKGE9MDthPHI7YSsrKWUuY2FsbChpLHRbYV0sYSk7ZWxzZSBpZihvKHQpKWZvcihsPU9iamVjdC5rZXlzKHQpLHI9bC5sZW5ndGgsYT0wO2E8cjthKyspZS5jYWxsKGksdFtsW2FdXSxsW2FdKX1mdW5jdGlvbiBmKHQsZSl7bGV0IGkscyxuLG87aWYoIXR8fCFlfHx0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihpPTAscz10Lmxlbmd0aDtpPHM7KytpKWlmKG49dFtpXSxvPWVbaV0sbi5kYXRhc2V0SW5kZXghPT1vLmRhdGFzZXRJbmRleHx8bi5pbmRleCE9PW8uaW5kZXgpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZyh0KXtpZihuKHQpKXJldHVybiB0Lm1hcChnKTtpZihvKHQpKXtjb25zdCBlPU9iamVjdC5jcmVhdGUobnVsbCksaT1PYmplY3Qua2V5cyh0KSxzPWkubGVuZ3RoO2xldCBuPTA7Zm9yKDtuPHM7KytuKWVbaVtuXV09Zyh0W2lbbl1dKTtyZXR1cm4gZX1yZXR1cm4gdH1mdW5jdGlvbiBwKHQpe3JldHVybi0xPT09WyJfX3Byb3RvX18iLCJwcm90b3R5cGUiLCJjb25zdHJ1Y3RvciJdLmluZGV4T2YodCl9ZnVuY3Rpb24gbSh0LGUsaSxzKXtpZighcCh0KSlyZXR1cm47Y29uc3Qgbj1lW3RdLGE9aVt0XTtvKG4pJiZvKGEpP2IobixhLHMpOmVbdF09ZyhhKX1mdW5jdGlvbiBiKHQsZSxpKXtjb25zdCBzPW4oZSk/ZTpbZV0sYT1zLmxlbmd0aDtpZighbyh0KSlyZXR1cm4gdDtjb25zdCByPShpPWl8fHt9KS5tZXJnZXJ8fG07bGV0IGw7Zm9yKGxldCBlPTA7ZTxhOysrZSl7aWYobD1zW2VdLCFvKGwpKWNvbnRpbnVlO2NvbnN0IG49T2JqZWN0LmtleXMobCk7Zm9yKGxldCBlPTAscz1uLmxlbmd0aDtlPHM7KytlKXIobltlXSx0LGwsaSl9cmV0dXJuIHR9ZnVuY3Rpb24geCh0LGUpe3JldHVybiBiKHQsZSx7bWVyZ2VyOl99KX1mdW5jdGlvbiBfKHQsZSxpKXtpZighcCh0KSlyZXR1cm47Y29uc3Qgcz1lW3RdLG49aVt0XTtvKHMpJiZvKG4pP3gocyxuKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KXx8KGVbdF09ZyhuKSl9Y29uc3QgeT17IiI6dD0+dCx4OnQ9PnQueCx5OnQ9PnQueX07ZnVuY3Rpb24gdih0KXtjb25zdCBlPXQuc3BsaXQoIi4iKSxpPVtdO2xldCBzPSIiO2Zvcihjb25zdCB0IG9mIGUpcys9dCxzLmVuZHNXaXRoKCJcXCIpP3M9cy5zbGljZSgwLC0xKSsiLiI6KGkucHVzaChzKSxzPSIiKTtyZXR1cm4gaX1mdW5jdGlvbiBNKHQsZSl7Y29uc3QgaT15W2VdfHwoeVtlXT1mdW5jdGlvbih0KXtjb25zdCBlPXYodCk7cmV0dXJuIHQ9Pntmb3IoY29uc3QgaSBvZiBlKXtpZigiIj09PWkpYnJlYWs7dD10JiZ0W2ldfXJldHVybiB0fX0oZSkpO3JldHVybiBpKHQpfWZ1bmN0aW9uIHcodCl7cmV0dXJuIHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKX1jb25zdCBrPXQ9PnZvaWQgMCE9PXQsUz10PT4iZnVuY3Rpb24iPT10eXBlb2YgdCxQPSh0LGUpPT57aWYodC5zaXplIT09ZS5zaXplKXJldHVybiExO2Zvcihjb25zdCBpIG9mIHQpaWYoIWUuaGFzKGkpKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBEKHQpe3JldHVybiJtb3VzZXVwIj09PXQudHlwZXx8ImNsaWNrIj09PXQudHlwZXx8ImNvbnRleHRtZW51Ij09PXQudHlwZX1jb25zdCBDPU1hdGguUEksTz0yKkMsQT1PK0MsVD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTD1DLzE4MCxFPUMvMixSPUMvNCxJPTIqQy8zLHo9TWF0aC5sb2cxMCxGPU1hdGguc2lnbjtmdW5jdGlvbiBWKHQsZSxpKXtyZXR1cm4gTWF0aC5hYnModC1lKTxpfWZ1bmN0aW9uIEIodCl7Y29uc3QgZT1NYXRoLnJvdW5kKHQpO3Q9Vih0LGUsdC8xZTMpP2U6dDtjb25zdCBpPU1hdGgucG93KDEwLE1hdGguZmxvb3Ioeih0KSkpLHM9dC9pO3JldHVybihzPD0xPzE6czw9Mj8yOnM8PTU/NToxMCkqaX1mdW5jdGlvbiBXKHQpe2NvbnN0IGU9W10saT1NYXRoLnNxcnQodCk7bGV0IHM7Zm9yKHM9MTtzPGk7cysrKXQlcz09MCYmKGUucHVzaChzKSxlLnB1c2godC9zKSk7cmV0dXJuIGk9PT0oMHxpKSYmZS5wdXNoKGkpLGUuc29ydCgoKHQsZSk9PnQtZSkpLnBvcCgpLGV9ZnVuY3Rpb24gTih0KXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdCh0KSkmJmlzRmluaXRlKHQpfWZ1bmN0aW9uIEgodCxlKXtjb25zdCBpPU1hdGgucm91bmQodCk7cmV0dXJuIGktZTw9dCYmaStlPj10fWZ1bmN0aW9uIGoodCxlLGkpe2xldCBzLG4sbztmb3Iocz0wLG49dC5sZW5ndGg7czxuO3MrKylvPXRbc11baV0saXNOYU4obyl8fChlLm1pbj1NYXRoLm1pbihlLm1pbixvKSxlLm1heD1NYXRoLm1heChlLm1heCxvKSl9ZnVuY3Rpb24gJCh0KXtyZXR1cm4gdCooQy8xODApfWZ1bmN0aW9uIFkodCl7cmV0dXJuIHQqKDE4MC9DKX1mdW5jdGlvbiBVKHQpe2lmKCFhKHQpKXJldHVybjtsZXQgZT0xLGk9MDtmb3IoO01hdGgucm91bmQodCplKS9lIT09dDspZSo9MTAsaSsrO3JldHVybiBpfWZ1bmN0aW9uIFgodCxlKXtjb25zdCBpPWUueC10Lngscz1lLnktdC55LG49TWF0aC5zcXJ0KGkqaStzKnMpO2xldCBvPU1hdGguYXRhbjIocyxpKTtyZXR1cm4gbzwtLjUqQyYmKG8rPU8pLHthbmdsZTpvLGRpc3RhbmNlOm59fWZ1bmN0aW9uIHEodCxlKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGUueC10LngsMikrTWF0aC5wb3coZS55LXQueSwyKSl9ZnVuY3Rpb24gSyh0LGUpe3JldHVybih0LWUrQSklTy1DfWZ1bmN0aW9uIEcodCl7cmV0dXJuKHQlTytPKSVPfWZ1bmN0aW9uIFoodCxlLGkscyl7Y29uc3Qgbj1HKHQpLG89RyhlKSxhPUcoaSkscj1HKG8tbiksbD1HKGEtbiksaD1HKG4tbyksYz1HKG4tYSk7cmV0dXJuIG49PT1vfHxuPT09YXx8cyYmbz09PWF8fHI+bCYmaDxjfWZ1bmN0aW9uIEoodCxlLGkpe3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKGksdCkpfWZ1bmN0aW9uIFEodCl7cmV0dXJuIEoodCwtMzI3NjgsMzI3NjcpfWZ1bmN0aW9uIHR0KHQsZSxpLHM9MWUtNil7cmV0dXJuIHQ+PU1hdGgubWluKGUsaSktcyYmdDw9TWF0aC5tYXgoZSxpKStzfWZ1bmN0aW9uIGV0KHQsZSxpKXtpPWl8fChpPT50W2ldPGUpO2xldCBzLG49dC5sZW5ndGgtMSxvPTA7Zm9yKDtuLW8+MTspcz1vK24+PjEsaShzKT9vPXM6bj1zO3JldHVybntsbzpvLGhpOm59fWNvbnN0IGl0PSh0LGUsaSxzKT0+ZXQodCxpLHM/cz0+e2NvbnN0IG49dFtzXVtlXTtyZXR1cm4gbjxpfHxuPT09aSYmdFtzKzFdW2VdPT09aX06cz0+dFtzXVtlXTxpKSxzdD0odCxlLGkpPT5ldCh0LGksKHM9PnRbc11bZV0+PWkpKTtmdW5jdGlvbiBudCh0LGUsaSl7bGV0IHM9MCxuPXQubGVuZ3RoO2Zvcig7czxuJiZ0W3NdPGU7KXMrKztmb3IoO24+cyYmdFtuLTFdPmk7KW4tLTtyZXR1cm4gcz4wfHxuPHQubGVuZ3RoP3Quc2xpY2UocyxuKTp0fWNvbnN0IG90PVsicHVzaCIsInBvcCIsInNoaWZ0Iiwic3BsaWNlIiwidW5zaGlmdCJdO2Z1bmN0aW9uIGF0KHQsZSl7dC5fY2hhcnRqcz90Ll9jaGFydGpzLmxpc3RlbmVycy5wdXNoKGUpOihPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX2NoYXJ0anMiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTp7bGlzdGVuZXJzOltlXX19KSxvdC5mb3JFYWNoKChlPT57Y29uc3QgaT0iX29uRGF0YSIrdyhlKSxzPXRbZV07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWUoLi4uZSl7Y29uc3Qgbj1zLmFwcGx5KHRoaXMsZSk7cmV0dXJuIHQuX2NoYXJ0anMubGlzdGVuZXJzLmZvckVhY2goKHQ9PnsiZnVuY3Rpb24iPT10eXBlb2YgdFtpXSYmdFtpXSguLi5lKX0pKSxufX0pfSkpKX1mdW5jdGlvbiBydCh0LGUpe2NvbnN0IGk9dC5fY2hhcnRqcztpZighaSlyZXR1cm47Y29uc3Qgcz1pLmxpc3RlbmVycyxuPXMuaW5kZXhPZihlKTstMSE9PW4mJnMuc3BsaWNlKG4sMSkscy5sZW5ndGg+MHx8KG90LmZvckVhY2goKGU9PntkZWxldGUgdFtlXX0pKSxkZWxldGUgdC5fY2hhcnRqcyl9ZnVuY3Rpb24gbHQodCl7Y29uc3QgZT1uZXcgU2V0KHQpO3JldHVybiBlLnNpemU9PT10Lmxlbmd0aD90OkFycmF5LmZyb20oZSl9Y29uc3QgaHQ9InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/ZnVuY3Rpb24odCl7cmV0dXJuIHQoKX06d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtmdW5jdGlvbiBjdCh0LGUpe2xldCBpPVtdLHM9ITE7cmV0dXJuIGZ1bmN0aW9uKC4uLm4pe2k9bixzfHwocz0hMCxodC5jYWxsKHdpbmRvdywoKCk9PntzPSExLHQuYXBwbHkoZSxpKX0pKSl9fWZ1bmN0aW9uIGR0KHQsZSl7bGV0IGk7cmV0dXJuIGZ1bmN0aW9uKC4uLnMpe3JldHVybiBlPyhjbGVhclRpbWVvdXQoaSksaT1zZXRUaW1lb3V0KHQsZSxzKSk6dC5hcHBseSh0aGlzLHMpLGV9fWNvbnN0IHV0PXQ9PiJzdGFydCI9PT10PyJsZWZ0IjoiZW5kIj09PXQ/InJpZ2h0IjoiY2VudGVyIixmdD0odCxlLGkpPT4ic3RhcnQiPT09dD9lOiJlbmQiPT09dD9pOihlK2kpLzIsZ3Q9KHQsZSxpLHMpPT50PT09KHM/ImxlZnQiOiJyaWdodCIpP2k6ImNlbnRlciI9PT10PyhlK2kpLzI6ZTtmdW5jdGlvbiBwdCh0LGUsaSl7Y29uc3Qgcz1lLmxlbmd0aDtsZXQgbj0wLG89cztpZih0Ll9zb3J0ZWQpe2NvbnN0e2lTY2FsZTphLF9wYXJzZWQ6cn09dCxsPWEuYXhpcyx7bWluOmgsbWF4OmMsbWluRGVmaW5lZDpkLG1heERlZmluZWQ6dX09YS5nZXRVc2VyQm91bmRzKCk7ZCYmKG49SihNYXRoLm1pbihpdChyLGwsaCkubG8saT9zOml0KGUsbCxhLmdldFBpeGVsRm9yVmFsdWUoaCkpLmxvKSwwLHMtMSkpLG89dT9KKE1hdGgubWF4KGl0KHIsYS5heGlzLGMsITApLmhpKzEsaT8wOml0KGUsbCxhLmdldFBpeGVsRm9yVmFsdWUoYyksITApLmhpKzEpLG4scyktbjpzLW59cmV0dXJue3N0YXJ0Om4sY291bnQ6b319ZnVuY3Rpb24gbXQodCl7Y29uc3R7eFNjYWxlOmUseVNjYWxlOmksX3NjYWxlUmFuZ2VzOnN9PXQsbj17eG1pbjplLm1pbix4bWF4OmUubWF4LHltaW46aS5taW4seW1heDppLm1heH07aWYoIXMpcmV0dXJuIHQuX3NjYWxlUmFuZ2VzPW4sITA7Y29uc3Qgbz1zLnhtaW4hPT1lLm1pbnx8cy54bWF4IT09ZS5tYXh8fHMueW1pbiE9PWkubWlufHxzLnltYXghPT1pLm1heDtyZXR1cm4gT2JqZWN0LmFzc2lnbihzLG4pLG99Y2xhc3MgYnR7Y29uc3RydWN0b3IoKXt0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5fY2hhcnRzPW5ldyBNYXAsdGhpcy5fcnVubmluZz0hMSx0aGlzLl9sYXN0RGF0ZT12b2lkIDB9X25vdGlmeSh0LGUsaSxzKXtjb25zdCBuPWUubGlzdGVuZXJzW3NdLG89ZS5kdXJhdGlvbjtuLmZvckVhY2goKHM9PnMoe2NoYXJ0OnQsaW5pdGlhbDplLmluaXRpYWwsbnVtU3RlcHM6byxjdXJyZW50U3RlcDpNYXRoLm1pbihpLWUuc3RhcnQsbyl9KSkpfV9yZWZyZXNoKCl7dGhpcy5fcmVxdWVzdHx8KHRoaXMuX3J1bm5pbmc9ITAsdGhpcy5fcmVxdWVzdD1odC5jYWxsKHdpbmRvdywoKCk9Pnt0aGlzLl91cGRhdGUoKSx0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5fcnVubmluZyYmdGhpcy5fcmVmcmVzaCgpfSkpKX1fdXBkYXRlKHQ9RGF0ZS5ub3coKSl7bGV0IGU9MDt0aGlzLl9jaGFydHMuZm9yRWFjaCgoKGkscyk9PntpZighaS5ydW5uaW5nfHwhaS5pdGVtcy5sZW5ndGgpcmV0dXJuO2NvbnN0IG49aS5pdGVtcztsZXQgbyxhPW4ubGVuZ3RoLTEscj0hMTtmb3IoO2E+PTA7LS1hKW89blthXSxvLl9hY3RpdmU/KG8uX3RvdGFsPmkuZHVyYXRpb24mJihpLmR1cmF0aW9uPW8uX3RvdGFsKSxvLnRpY2sodCkscj0hMCk6KG5bYV09bltuLmxlbmd0aC0xXSxuLnBvcCgpKTtyJiYocy5kcmF3KCksdGhpcy5fbm90aWZ5KHMsaSx0LCJwcm9ncmVzcyIpKSxuLmxlbmd0aHx8KGkucnVubmluZz0hMSx0aGlzLl9ub3RpZnkocyxpLHQsImNvbXBsZXRlIiksaS5pbml0aWFsPSExKSxlKz1uLmxlbmd0aH0pKSx0aGlzLl9sYXN0RGF0ZT10LDA9PT1lJiYodGhpcy5fcnVubmluZz0hMSl9X2dldEFuaW1zKHQpe2NvbnN0IGU9dGhpcy5fY2hhcnRzO2xldCBpPWUuZ2V0KHQpO3JldHVybiBpfHwoaT17cnVubmluZzohMSxpbml0aWFsOiEwLGl0ZW1zOltdLGxpc3RlbmVyczp7Y29tcGxldGU6W10scHJvZ3Jlc3M6W119fSxlLnNldCh0LGkpKSxpfWxpc3Rlbih0LGUsaSl7dGhpcy5fZ2V0QW5pbXModCkubGlzdGVuZXJzW2VdLnB1c2goaSl9YWRkKHQsZSl7ZSYmZS5sZW5ndGgmJnRoaXMuX2dldEFuaW1zKHQpLml0ZW1zLnB1c2goLi4uZSl9aGFzKHQpe3JldHVybiB0aGlzLl9nZXRBbmltcyh0KS5pdGVtcy5sZW5ndGg+MH1zdGFydCh0KXtjb25zdCBlPXRoaXMuX2NoYXJ0cy5nZXQodCk7ZSYmKGUucnVubmluZz0hMCxlLnN0YXJ0PURhdGUubm93KCksZS5kdXJhdGlvbj1lLml0ZW1zLnJlZHVjZSgoKHQsZSk9Pk1hdGgubWF4KHQsZS5fZHVyYXRpb24pKSwwKSx0aGlzLl9yZWZyZXNoKCkpfXJ1bm5pbmcodCl7aWYoIXRoaXMuX3J1bm5pbmcpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9jaGFydHMuZ2V0KHQpO3JldHVybiEhKGUmJmUucnVubmluZyYmZS5pdGVtcy5sZW5ndGgpfXN0b3AodCl7Y29uc3QgZT10aGlzLl9jaGFydHMuZ2V0KHQpO2lmKCFlfHwhZS5pdGVtcy5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9ZS5pdGVtcztsZXQgcz1pLmxlbmd0aC0xO2Zvcig7cz49MDstLXMpaVtzXS5jYW5jZWwoKTtlLml0ZW1zPVtdLHRoaXMuX25vdGlmeSh0LGUsRGF0ZS5ub3coKSwiY29tcGxldGUiKX1yZW1vdmUodCl7cmV0dXJuIHRoaXMuX2NoYXJ0cy5kZWxldGUodCl9fXZhciB4dD1uZXcgYnQ7Ci8qIQogKiBAa3Vya2xlL2NvbG9yIHYwLjMuMgogKiBodHRwczovL2dpdGh1Yi5jb20va3Vya2xlL2NvbG9yI3JlYWRtZQogKiAoYykgMjAyMyBKdWtrYSBLdXJrZWxhCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZQogKi9mdW5jdGlvbiBfdCh0KXtyZXR1cm4gdCsuNXwwfWNvbnN0IHl0PSh0LGUsaSk9Pk1hdGgubWF4KE1hdGgubWluKHQsaSksZSk7ZnVuY3Rpb24gdnQodCl7cmV0dXJuIHl0KF90KDIuNTUqdCksMCwyNTUpfWZ1bmN0aW9uIE10KHQpe3JldHVybiB5dChfdCgyNTUqdCksMCwyNTUpfWZ1bmN0aW9uIHd0KHQpe3JldHVybiB5dChfdCh0LzIuNTUpLzEwMCwwLDEpfWZ1bmN0aW9uIGt0KHQpe3JldHVybiB5dChfdCgxMDAqdCksMCwxMDApfWNvbnN0IFN0PXswOjAsMToxLDI6MiwzOjMsNDo0LDU6NSw2OjYsNzo3LDg6OCw5OjksQToxMCxCOjExLEM6MTIsRDoxMyxFOjE0LEY6MTUsYToxMCxiOjExLGM6MTIsZDoxMyxlOjE0LGY6MTV9LFB0PVsuLi4iMDEyMzQ1Njc4OUFCQ0RFRiJdLER0PXQ9PlB0WzE1JnRdLEN0PXQ9PlB0WygyNDAmdCk+PjRdK1B0WzE1JnRdLE90PXQ9PigyNDAmdCk+PjQ9PSgxNSZ0KTtmdW5jdGlvbiBBdCh0KXt2YXIgZT0odD0+T3QodC5yKSYmT3QodC5nKSYmT3QodC5iKSYmT3QodC5hKSkodCk/RHQ6Q3Q7cmV0dXJuIHQ/IiMiK2UodC5yKStlKHQuZykrZSh0LmIpKygodCxlKT0+dDwyNTU/ZSh0KToiIikodC5hLGUpOnZvaWQgMH1jb25zdCBUdD0vXihoc2xhP3xod2J8aHN2KVwoXHMqKFstKy5lXGRdKykoPzpkZWcpP1tccyxdKyhbLSsuZVxkXSspJVtccyxdKyhbLSsuZVxkXSspJSg/OltccyxdKyhbLSsuZVxkXSspKCUpPyk/XHMqXCkkLztmdW5jdGlvbiBMdCh0LGUsaSl7Y29uc3Qgcz1lKk1hdGgubWluKGksMS1pKSxuPShlLG49KGUrdC8zMCklMTIpPT5pLXMqTWF0aC5tYXgoTWF0aC5taW4obi0zLDktbiwxKSwtMSk7cmV0dXJuW24oMCksbig4KSxuKDQpXX1mdW5jdGlvbiBFdCh0LGUsaSl7Y29uc3Qgcz0ocyxuPShzK3QvNjApJTYpPT5pLWkqZSpNYXRoLm1heChNYXRoLm1pbihuLDQtbiwxKSwwKTtyZXR1cm5bcyg1KSxzKDMpLHMoMSldfWZ1bmN0aW9uIFJ0KHQsZSxpKXtjb25zdCBzPUx0KHQsMSwuNSk7bGV0IG47Zm9yKGUraT4xJiYobj0xLyhlK2kpLGUqPW4saSo9biksbj0wO248MztuKyspc1tuXSo9MS1lLWksc1tuXSs9ZTtyZXR1cm4gc31mdW5jdGlvbiBJdCh0KXtjb25zdCBlPXQuci8yNTUsaT10LmcvMjU1LHM9dC5iLzI1NSxuPU1hdGgubWF4KGUsaSxzKSxvPU1hdGgubWluKGUsaSxzKSxhPShuK28pLzI7bGV0IHIsbCxoO3JldHVybiBuIT09byYmKGg9bi1vLGw9YT4uNT9oLygyLW4tbyk6aC8obitvKSxyPWZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIHQ9PT1uPyhlLWkpL3MrKGU8aT82OjApOmU9PT1uPyhpLXQpL3MrMjoodC1lKS9zKzR9KGUsaSxzLGgsbikscj02MCpyKy41KSxbMHxyLGx8fDAsYV19ZnVuY3Rpb24genQodCxlLGkscyl7cmV0dXJuKEFycmF5LmlzQXJyYXkoZSk/dChlWzBdLGVbMV0sZVsyXSk6dChlLGkscykpLm1hcChNdCl9ZnVuY3Rpb24gRnQodCxlLGkpe3JldHVybiB6dChMdCx0LGUsaSl9ZnVuY3Rpb24gVnQodCl7cmV0dXJuKHQlMzYwKzM2MCklMzYwfWZ1bmN0aW9uIEJ0KHQpe2NvbnN0IGU9VHQuZXhlYyh0KTtsZXQgaSxzPTI1NTtpZighZSlyZXR1cm47ZVs1XSE9PWkmJihzPWVbNl0/dnQoK2VbNV0pOk10KCtlWzVdKSk7Y29uc3Qgbj1WdCgrZVsyXSksbz0rZVszXS8xMDAsYT0rZVs0XS8xMDA7cmV0dXJuIGk9Imh3YiI9PT1lWzFdP2Z1bmN0aW9uKHQsZSxpKXtyZXR1cm4genQoUnQsdCxlLGkpfShuLG8sYSk6ImhzdiI9PT1lWzFdP2Z1bmN0aW9uKHQsZSxpKXtyZXR1cm4genQoRXQsdCxlLGkpfShuLG8sYSk6RnQobixvLGEpLHtyOmlbMF0sZzppWzFdLGI6aVsyXSxhOnN9fWNvbnN0IFd0PXt4OiJkYXJrIixaOiJsaWdodCIsWToicmUiLFg6ImJsdSIsVzoiZ3IiLFY6Im1lZGl1bSIsVToic2xhdGUiLEE6ImVlIixUOiJvbCIsUzoib3IiLEI6InJhIixDOiJsYXRlZyIsRDoiaWdodHMiLFI6ImluIixROiJ0dXJxdW9pcyIsRToiaGkiLFA6InJvIixPOiJhbCIsTjoibGUiLE06ImRlIixMOiJ5ZWxsbyIsRjoiZW4iLEs6ImNoIixHOiJhcmtzIixIOiJlYSIsSToiaWdodGciLEo6IndoIn0sTnQ9e09pY2VYZToiZjBmOGZmIixhbnRpcXVld0V0ZToiZmFlYmQ3IixhcXVhOiJmZmZmIixhcXVhbWFyUmU6IjdmZmZkNCIsYXp1WToiZjBmZmZmIixiZWlnZToiZjVmNWRjIixiaXNxdWU6ImZmZTRjNCIsYmxhY2s6IjAiLGJsYW5LZWRPbW9uZDoiZmZlYmNkIixYZToiZmYiLFhldmlUZXQ6IjhhMmJlMiIsYlB3bjoiYTUyYTJhIixidXJseXdvb2Q6ImRlYjg4NyIsY2FNdFhlOiI1ZjllYTAiLEthcnRZdXNlOiI3ZmZmMDAiLEtvY1RhdGU6ImQyNjkxZSIsY1NPOiJmZjdmNTAiLGNTbmZsb3dlclhlOiI2NDk1ZWQiLGNTbnNpbGs6ImZmZjhkYyIsY3JpbXNvbjoiZGMxNDNjIixjeWFuOiJmZmZmIix4WGU6IjhiIix4Y3lhbjoiOGI4YiIseGdUTW5QZDoiYjg4NjBiIix4V2F5OiJhOWE5YTkiLHhnWUY6IjY0MDAiLHhnWXk6ImE5YTlhOSIseGtoYWtpOiJiZGI3NmIiLHhtYWdGdGE6IjhiMDA4YiIseFRpdmVnWUY6IjU1NmIyZiIseFNhbmdlOiJmZjhjMDAiLHhTY0VkOiI5OTMyY2MiLHhZZDoiOGIwMDAwIix4c09tb246ImU5OTY3YSIseHNIZ1lGOiI4ZmJjOGYiLHhVWGU6IjQ4M2Q4YiIseFVXYXk6IjJmNGY0ZiIseFVnWXk6IjJmNGY0ZiIseFFlOiJjZWQxIix4dmlUZXQ6Ijk0MDBkMyIsZEFwcFJrOiJmZjE0OTMiLGRBcHNreVhlOiJiZmZmIixkaW1XYXk6IjY5Njk2OSIsZGltZ1l5OiI2OTY5NjkiLGRvZGdlclhlOiIxZTkwZmYiLGZpWWJyaWNrOiJiMjIyMjIiLGZsU093RXRlOiJmZmZhZjAiLGZvWXN0V0FuOiIyMjhiMjIiLGZ1S3NpYToiZmYwMGZmIixnYVJzYlNvOiJkY2RjZGMiLGdob3N0d0V0ZToiZjhmOGZmIixnVGQ6ImZmZDcwMCIsZ1RNblBkOiJkYWE1MjAiLFdheToiODA4MDgwIixnWUY6IjgwMDAiLGdZRkx3OiJhZGZmMmYiLGdZeToiODA4MDgwIixob25leU13OiJmMGZmZjAiLGhvdHBSazoiZmY2OWI0IixSZGlhbllkOiJjZDVjNWMiLFJkaWdvOiI0YjAwODIiLGl2U3k6ImZmZmZmMCIsa2hha2k6ImYwZTY4YyIsbGF2Rk1yOiJlNmU2ZmEiLGxhdkZNclhzaDoiZmZmMGY1IixsYXduZ1lGOiI3Y2ZjMDAiLE5tb25jRWZmb246ImZmZmFjZCIsWlhlOiJhZGQ4ZTYiLFpjU086ImYwODA4MCIsWmN5YW46ImUwZmZmZiIsWmdUTW5QZEx3OiJmYWZhZDIiLFpXYXk6ImQzZDNkMyIsWmdZRjoiOTBlZTkwIixaZ1l5OiJkM2QzZDMiLFpwUms6ImZmYjZjMSIsWnNPbW9uOiJmZmEwN2EiLFpzSGdZRjoiMjBiMmFhIixac2t5WGU6Ijg3Y2VmYSIsWlVXYXk6Ijc3ODg5OSIsWlVnWXk6Ijc3ODg5OSIsWnN0QWxYZToiYjBjNGRlIixaTHc6ImZmZmZlMCIsbGltZToiZmYwMCIsbGltZWdZRjoiMzJjZDMyIixsUkY6ImZhZjBlNiIsbWFnRnRhOiJmZjAwZmYiLG1hUG9uOiI4MDAwMDAiLFZhcXVhbWFyUmU6IjY2Y2RhYSIsVlhlOiJjZCIsVlNjRWQ6ImJhNTVkMyIsVnB1cnBOOiI5MzcwZGIiLFZzSGdZRjoiM2NiMzcxIixWVVhlOiI3YjY4ZWUiLFZzcHJSZ2dZRjoiZmE5YSIsVlFlOiI0OGQxY2MiLFZ2aVRldFlkOiJjNzE1ODUiLG1pZG5pZ2h0WGU6IjE5MTk3MCIsbVJ0Y1lhbToiZjVmZmZhIixtaXN0eVBzZToiZmZlNGUxIixtb2NjYXNSOiJmZmU0YjUiLG5hdmFqb3dFdGU6ImZmZGVhZCIsbmF2eToiODAiLFRkbGFjZToiZmRmNWU2IixUaXZlOiI4MDgwMDAiLFRpdmVkQmI6IjZiOGUyMyIsU2FuZ2U6ImZmYTUwMCIsU2FuZ2VZZDoiZmY0NTAwIixTY0VkOiJkYTcwZDYiLHBPZWdUTW5QZDoiZWVlOGFhIixwT2VnWUY6Ijk4ZmI5OCIscE9lUWU6ImFmZWVlZSIscE9ldmlUZXRZZDoiZGI3MDkzIixwYXBheWF3RXA6ImZmZWZkNSIscEhLcHVmZjoiZmZkYWI5IixwZXJ1OiJjZDg1M2YiLHBSazoiZmZjMGNiIixwbHVtOiJkZGEwZGQiLHBvd01yWGU6ImIwZTBlNiIscHVycE46IjgwMDA4MCIsWWJlY2NhcHVycE46IjY2MzM5OSIsWWQ6ImZmMDAwMCIsUHN5YnJvd246ImJjOGY4ZiIsUHlPWGU6IjQxNjllMSIsc2FkZE5iUHduOiI4YjQ1MTMiLHNPbW9uOiJmYTgwNzIiLHNhbmR5YlB3bjoiZjRhNDYwIixzSGdZRjoiMmU4YjU3IixzSHNoZWxsOiJmZmY1ZWUiLHNpRm5hOiJhMDUyMmQiLHNpbHZlcjoiYzBjMGMwIixza3lYZToiODdjZWViIixVWGU6IjZhNWFjZCIsVVdheToiNzA4MDkwIixVZ1l5OiI3MDgwOTAiLHNub3c6ImZmZmFmYSIsc3ByUmdnWUY6ImZmN2YiLHN0QWxYZToiNDY4MmI0Iix0YW46ImQyYjQ4YyIsdGVPOiI4MDgwIix0RXN0TjoiZDhiZmQ4Iix0b21hdG86ImZmNjM0NyIsUWU6IjQwZTBkMCIsdmlUZXQ6ImVlODJlZSIsSkh0OiJmNWRlYjMiLHdFdGU6ImZmZmZmZiIsd0V0ZXNtb2tlOiJmNWY1ZjUiLEx3OiJmZmZmMDAiLEx3Z1lGOiI5YWNkMzIifTtsZXQgSHQ7ZnVuY3Rpb24ganQodCl7SHR8fChIdD1mdW5jdGlvbigpe2NvbnN0IHQ9e30sZT1PYmplY3Qua2V5cyhOdCksaT1PYmplY3Qua2V5cyhXdCk7bGV0IHMsbixvLGEscjtmb3Iocz0wO3M8ZS5sZW5ndGg7cysrKXtmb3IoYT1yPWVbc10sbj0wO248aS5sZW5ndGg7bisrKW89aVtuXSxyPXIucmVwbGFjZShvLFd0W29dKTtvPXBhcnNlSW50KE50W2FdLDE2KSx0W3JdPVtvPj4xNiYyNTUsbz4+OCYyNTUsMjU1Jm9dfXJldHVybiB0fSgpLEh0LnRyYW5zcGFyZW50PVswLDAsMCwwXSk7Y29uc3QgZT1IdFt0LnRvTG93ZXJDYXNlKCldO3JldHVybiBlJiZ7cjplWzBdLGc6ZVsxXSxiOmVbMl0sYTo0PT09ZS5sZW5ndGg/ZVszXToyNTV9fWNvbnN0ICR0PS9ecmdiYT9cKFxzKihbLSsuXGRdKykoJSk/W1xzLF0rKFstKy5lXGRdKykoJSk/W1xzLF0rKFstKy5lXGRdKykoJSk/KD86W1xzLC9dKyhbLSsuZVxkXSspKCUpPyk/XHMqXCkkLztjb25zdCBZdD10PT50PD0uMDAzMTMwOD8xMi45Mip0OjEuMDU1Kk1hdGgucG93KHQsMS8yLjQpLS4wNTUsVXQ9dD0+dDw9LjA0MDQ1P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KTtmdW5jdGlvbiBYdCh0LGUsaSl7aWYodCl7bGV0IHM9SXQodCk7c1tlXT1NYXRoLm1heCgwLE1hdGgubWluKHNbZV0rc1tlXSppLDA9PT1lPzM2MDoxKSkscz1GdChzKSx0LnI9c1swXSx0Lmc9c1sxXSx0LmI9c1syXX19ZnVuY3Rpb24gcXQodCxlKXtyZXR1cm4gdD9PYmplY3QuYXNzaWduKGV8fHt9LHQpOnR9ZnVuY3Rpb24gS3QodCl7dmFyIGU9e3I6MCxnOjAsYjowLGE6MjU1fTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lmxlbmd0aD49MyYmKGU9e3I6dFswXSxnOnRbMV0sYjp0WzJdLGE6MjU1fSx0Lmxlbmd0aD4zJiYoZS5hPU10KHRbM10pKSk6KGU9cXQodCx7cjowLGc6MCxiOjAsYToxfSkpLmE9TXQoZS5hKSxlfWZ1bmN0aW9uIEd0KHQpe3JldHVybiJyIj09PXQuY2hhckF0KDApP2Z1bmN0aW9uKHQpe2NvbnN0IGU9JHQuZXhlYyh0KTtsZXQgaSxzLG4sbz0yNTU7aWYoZSl7aWYoZVs3XSE9PWkpe2NvbnN0IHQ9K2VbN107bz1lWzhdP3Z0KHQpOnl0KDI1NSp0LDAsMjU1KX1yZXR1cm4gaT0rZVsxXSxzPStlWzNdLG49K2VbNV0saT0yNTUmKGVbMl0/dnQoaSk6eXQoaSwwLDI1NSkpLHM9MjU1JihlWzRdP3Z0KHMpOnl0KHMsMCwyNTUpKSxuPTI1NSYoZVs2XT92dChuKTp5dChuLDAsMjU1KSkse3I6aSxnOnMsYjpuLGE6b319fSh0KTpCdCh0KX1jbGFzcyBadHtjb25zdHJ1Y3Rvcih0KXtpZih0IGluc3RhbmNlb2YgWnQpcmV0dXJuIHQ7Y29uc3QgZT10eXBlb2YgdDtsZXQgaTt2YXIgcyxuLG87Im9iamVjdCI9PT1lP2k9S3QodCk6InN0cmluZyI9PT1lJiYobz0ocz10KS5sZW5ndGgsIiMiPT09c1swXSYmKDQ9PT1vfHw1PT09bz9uPXtyOjI1NSYxNypTdFtzWzFdXSxnOjI1NSYxNypTdFtzWzJdXSxiOjI1NSYxNypTdFtzWzNdXSxhOjU9PT1vPzE3KlN0W3NbNF1dOjI1NX06NyE9PW8mJjkhPT1vfHwobj17cjpTdFtzWzFdXTw8NHxTdFtzWzJdXSxnOlN0W3NbM11dPDw0fFN0W3NbNF1dLGI6U3Rbc1s1XV08PDR8U3Rbc1s2XV0sYTo5PT09bz9TdFtzWzddXTw8NHxTdFtzWzhdXToyNTV9KSksaT1ufHxqdCh0KXx8R3QodCkpLHRoaXMuX3JnYj1pLHRoaXMuX3ZhbGlkPSEhaX1nZXQgdmFsaWQoKXtyZXR1cm4gdGhpcy5fdmFsaWR9Z2V0IHJnYigpe3ZhciB0PXF0KHRoaXMuX3JnYik7cmV0dXJuIHQmJih0LmE9d3QodC5hKSksdH1zZXQgcmdiKHQpe3RoaXMuX3JnYj1LdCh0KX1yZ2JTdHJpbmcoKXtyZXR1cm4gdGhpcy5fdmFsaWQ/KHQ9dGhpcy5fcmdiKSYmKHQuYTwyNTU/YHJnYmEoJHt0LnJ9LCAke3QuZ30sICR7dC5ifSwgJHt3dCh0LmEpfSlgOmByZ2IoJHt0LnJ9LCAke3QuZ30sICR7dC5ifSlgKTp2b2lkIDA7dmFyIHR9aGV4U3RyaW5nKCl7cmV0dXJuIHRoaXMuX3ZhbGlkP0F0KHRoaXMuX3JnYik6dm9pZCAwfWhzbFN0cmluZygpe3JldHVybiB0aGlzLl92YWxpZD9mdW5jdGlvbih0KXtpZighdClyZXR1cm47Y29uc3QgZT1JdCh0KSxpPWVbMF0scz1rdChlWzFdKSxuPWt0KGVbMl0pO3JldHVybiB0LmE8MjU1P2Boc2xhKCR7aX0sICR7c30lLCAke259JSwgJHt3dCh0LmEpfSlgOmBoc2woJHtpfSwgJHtzfSUsICR7bn0lKWB9KHRoaXMuX3JnYik6dm9pZCAwfW1peCh0LGUpe2lmKHQpe2NvbnN0IGk9dGhpcy5yZ2Iscz10LnJnYjtsZXQgbjtjb25zdCBvPWU9PT1uPy41OmUsYT0yKm8tMSxyPWkuYS1zLmEsbD0oKGEqcj09LTE/YTooYStyKS8oMSthKnIpKSsxKS8yO249MS1sLGkucj0yNTUmbCppLnIrbipzLnIrLjUsaS5nPTI1NSZsKmkuZytuKnMuZysuNSxpLmI9MjU1JmwqaS5iK24qcy5iKy41LGkuYT1vKmkuYSsoMS1vKSpzLmEsdGhpcy5yZ2I9aX1yZXR1cm4gdGhpc31pbnRlcnBvbGF0ZSh0LGUpe3JldHVybiB0JiYodGhpcy5fcmdiPWZ1bmN0aW9uKHQsZSxpKXtjb25zdCBzPVV0KHd0KHQucikpLG49VXQod3QodC5nKSksbz1VdCh3dCh0LmIpKTtyZXR1cm57cjpNdChZdChzK2kqKFV0KHd0KGUucikpLXMpKSksZzpNdChZdChuK2kqKFV0KHd0KGUuZykpLW4pKSksYjpNdChZdChvK2kqKFV0KHd0KGUuYikpLW8pKSksYTp0LmEraSooZS5hLXQuYSl9fSh0aGlzLl9yZ2IsdC5fcmdiLGUpKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyBadCh0aGlzLnJnYil9YWxwaGEodCl7cmV0dXJuIHRoaXMuX3JnYi5hPU10KHQpLHRoaXN9Y2xlYXJlcih0KXtyZXR1cm4gdGhpcy5fcmdiLmEqPTEtdCx0aGlzfWdyZXlzY2FsZSgpe2NvbnN0IHQ9dGhpcy5fcmdiLGU9X3QoLjMqdC5yKy41OSp0LmcrLjExKnQuYik7cmV0dXJuIHQucj10Lmc9dC5iPWUsdGhpc31vcGFxdWVyKHQpe3JldHVybiB0aGlzLl9yZ2IuYSo9MSt0LHRoaXN9bmVnYXRlKCl7Y29uc3QgdD10aGlzLl9yZ2I7cmV0dXJuIHQucj0yNTUtdC5yLHQuZz0yNTUtdC5nLHQuYj0yNTUtdC5iLHRoaXN9bGlnaHRlbih0KXtyZXR1cm4gWHQodGhpcy5fcmdiLDIsdCksdGhpc31kYXJrZW4odCl7cmV0dXJuIFh0KHRoaXMuX3JnYiwyLC10KSx0aGlzfXNhdHVyYXRlKHQpe3JldHVybiBYdCh0aGlzLl9yZ2IsMSx0KSx0aGlzfWRlc2F0dXJhdGUodCl7cmV0dXJuIFh0KHRoaXMuX3JnYiwxLC10KSx0aGlzfXJvdGF0ZSh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT1JdCh0KTtpWzBdPVZ0KGlbMF0rZSksaT1GdChpKSx0LnI9aVswXSx0Lmc9aVsxXSx0LmI9aVsyXX0odGhpcy5fcmdiLHQpLHRoaXN9fWZ1bmN0aW9uIEp0KHQpe2lmKHQmJiJvYmplY3QiPT10eXBlb2YgdCl7Y29uc3QgZT10LnRvU3RyaW5nKCk7cmV0dXJuIltvYmplY3QgQ2FudmFzUGF0dGVybl0iPT09ZXx8IltvYmplY3QgQ2FudmFzR3JhZGllbnRdIj09PWV9cmV0dXJuITF9ZnVuY3Rpb24gUXQodCl7cmV0dXJuIEp0KHQpP3Q6bmV3IFp0KHQpfWZ1bmN0aW9uIHRlKHQpe3JldHVybiBKdCh0KT90Om5ldyBadCh0KS5zYXR1cmF0ZSguNSkuZGFya2VuKC4xKS5oZXhTdHJpbmcoKX1jb25zdCBlZT1bIngiLCJ5IiwiYm9yZGVyV2lkdGgiLCJyYWRpdXMiLCJ0ZW5zaW9uIl0saWU9WyJjb2xvciIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIl07Y29uc3Qgc2U9bmV3IE1hcDtmdW5jdGlvbiBuZSh0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7ZT1lfHx7fTtjb25zdCBpPXQrSlNPTi5zdHJpbmdpZnkoZSk7bGV0IHM9c2UuZ2V0KGkpO3JldHVybiBzfHwocz1uZXcgSW50bC5OdW1iZXJGb3JtYXQodCxlKSxzZS5zZXQoaSxzKSksc30oZSxpKS5mb3JtYXQodCl9Y29uc3Qgb2U9e3ZhbHVlczp0PT5uKHQpP3Q6IiIrdCxudW1lcmljKHQsZSxpKXtpZigwPT09dClyZXR1cm4iMCI7Y29uc3Qgcz10aGlzLmNoYXJ0Lm9wdGlvbnMubG9jYWxlO2xldCBuLG89dDtpZihpLmxlbmd0aD4xKXtjb25zdCBlPU1hdGgubWF4KE1hdGguYWJzKGlbMF0udmFsdWUpLE1hdGguYWJzKGlbaS5sZW5ndGgtMV0udmFsdWUpKTsoZTwxZS00fHxlPjFlMTUpJiYobj0ic2NpZW50aWZpYyIpLG89ZnVuY3Rpb24odCxlKXtsZXQgaT1lLmxlbmd0aD4zP2VbMl0udmFsdWUtZVsxXS52YWx1ZTplWzFdLnZhbHVlLWVbMF0udmFsdWU7TWF0aC5hYnMoaSk+PTEmJnQhPT1NYXRoLmZsb29yKHQpJiYoaT10LU1hdGguZmxvb3IodCkpO3JldHVybiBpfSh0LGkpfWNvbnN0IGE9eihNYXRoLmFicyhvKSkscj1pc05hTihhKT8xOk1hdGgubWF4KE1hdGgubWluKC0xKk1hdGguZmxvb3IoYSksMjApLDApLGw9e25vdGF0aW9uOm4sbWluaW11bUZyYWN0aW9uRGlnaXRzOnIsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnJ9O3JldHVybiBPYmplY3QuYXNzaWduKGwsdGhpcy5vcHRpb25zLnRpY2tzLmZvcm1hdCksbmUodCxzLGwpfSxsb2dhcml0aG1pYyh0LGUsaSl7aWYoMD09PXQpcmV0dXJuIjAiO2NvbnN0IHM9aVtlXS5zaWduaWZpY2FuZHx8dC9NYXRoLnBvdygxMCxNYXRoLmZsb29yKHoodCkpKTtyZXR1cm5bMSwyLDMsNSwxMCwxNV0uaW5jbHVkZXMocyl8fGU+LjgqaS5sZW5ndGg/b2UubnVtZXJpYy5jYWxsKHRoaXMsdCxlLGkpOiIifX07dmFyIGFlPXtmb3JtYXR0ZXJzOm9lfTtjb25zdCByZT1PYmplY3QuY3JlYXRlKG51bGwpLGxlPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gaGUodCxlKXtpZighZSlyZXR1cm4gdDtjb25zdCBpPWUuc3BsaXQoIi4iKTtmb3IobGV0IGU9MCxzPWkubGVuZ3RoO2U8czsrK2Upe2NvbnN0IHM9aVtlXTt0PXRbc118fCh0W3NdPU9iamVjdC5jcmVhdGUobnVsbCkpfXJldHVybiB0fWZ1bmN0aW9uIGNlKHQsZSxpKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/YihoZSh0LGUpLGkpOmIoaGUodCwiIiksZSl9Y2xhc3MgZGV7Y29uc3RydWN0b3IodCxlKXt0aGlzLmFuaW1hdGlvbj12b2lkIDAsdGhpcy5iYWNrZ3JvdW5kQ29sb3I9InJnYmEoMCwwLDAsMC4xKSIsdGhpcy5ib3JkZXJDb2xvcj0icmdiYSgwLDAsMCwwLjEpIix0aGlzLmNvbG9yPSIjNjY2Iix0aGlzLmRhdGFzZXRzPXt9LHRoaXMuZGV2aWNlUGl4ZWxSYXRpbz10PT50LmNoYXJ0LnBsYXRmb3JtLmdldERldmljZVBpeGVsUmF0aW8oKSx0aGlzLmVsZW1lbnRzPXt9LHRoaXMuZXZlbnRzPVsibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJjbGljayIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiXSx0aGlzLmZvbnQ9e2ZhbWlseToiJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsIHNhbnMtc2VyaWYiLHNpemU6MTIsc3R5bGU6Im5vcm1hbCIsbGluZUhlaWdodDoxLjIsd2VpZ2h0Om51bGx9LHRoaXMuaG92ZXI9e30sdGhpcy5ob3ZlckJhY2tncm91bmRDb2xvcj0odCxlKT0+dGUoZS5iYWNrZ3JvdW5kQ29sb3IpLHRoaXMuaG92ZXJCb3JkZXJDb2xvcj0odCxlKT0+dGUoZS5ib3JkZXJDb2xvciksdGhpcy5ob3ZlckNvbG9yPSh0LGUpPT50ZShlLmNvbG9yKSx0aGlzLmluZGV4QXhpcz0ieCIsdGhpcy5pbnRlcmFjdGlvbj17bW9kZToibmVhcmVzdCIsaW50ZXJzZWN0OiEwLGluY2x1ZGVJbnZpc2libGU6ITF9LHRoaXMubWFpbnRhaW5Bc3BlY3RSYXRpbz0hMCx0aGlzLm9uSG92ZXI9bnVsbCx0aGlzLm9uQ2xpY2s9bnVsbCx0aGlzLnBhcnNpbmc9ITAsdGhpcy5wbHVnaW5zPXt9LHRoaXMucmVzcG9uc2l2ZT0hMCx0aGlzLnNjYWxlPXZvaWQgMCx0aGlzLnNjYWxlcz17fSx0aGlzLnNob3dMaW5lPSEwLHRoaXMuZHJhd0FjdGl2ZUVsZW1lbnRzT25Ub3A9ITAsdGhpcy5kZXNjcmliZSh0KSx0aGlzLmFwcGx5KGUpfXNldCh0LGUpe3JldHVybiBjZSh0aGlzLHQsZSl9Z2V0KHQpe3JldHVybiBoZSh0aGlzLHQpfWRlc2NyaWJlKHQsZSl7cmV0dXJuIGNlKGxlLHQsZSl9b3ZlcnJpZGUodCxlKXtyZXR1cm4gY2UocmUsdCxlKX1yb3V0ZSh0LGUsaSxzKXtjb25zdCBuPWhlKHRoaXMsdCksYT1oZSh0aGlzLGkpLHI9Il8iK2U7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7W3JdOnt2YWx1ZTpuW2VdLHdyaXRhYmxlOiEwfSxbZV06e2VudW1lcmFibGU6ITAsZ2V0KCl7Y29uc3QgdD10aGlzW3JdLGU9YVtzXTtyZXR1cm4gbyh0KT9PYmplY3QuYXNzaWduKHt9LGUsdCk6bCh0LGUpfSxzZXQodCl7dGhpc1tyXT10fX19KX1hcHBseSh0KXt0LmZvckVhY2goKHQ9PnQodGhpcykpKX19dmFyIHVlPW5ldyBkZSh7X3NjcmlwdGFibGU6dD0+IXQuc3RhcnRzV2l0aCgib24iKSxfaW5kZXhhYmxlOnQ9PiJldmVudHMiIT09dCxob3Zlcjp7X2ZhbGxiYWNrOiJpbnRlcmFjdGlvbiJ9LGludGVyYWN0aW9uOntfc2NyaXB0YWJsZTohMSxfaW5kZXhhYmxlOiExfX0sW2Z1bmN0aW9uKHQpe3Quc2V0KCJhbmltYXRpb24iLHtkZWxheTp2b2lkIDAsZHVyYXRpb246MWUzLGVhc2luZzoiZWFzZU91dFF1YXJ0Iixmbjp2b2lkIDAsZnJvbTp2b2lkIDAsbG9vcDp2b2lkIDAsdG86dm9pZCAwLHR5cGU6dm9pZCAwfSksdC5kZXNjcmliZSgiYW5pbWF0aW9uIix7X2ZhbGxiYWNrOiExLF9pbmRleGFibGU6ITEsX3NjcmlwdGFibGU6dD0+Im9uUHJvZ3Jlc3MiIT09dCYmIm9uQ29tcGxldGUiIT09dCYmImZuIiE9PXR9KSx0LnNldCgiYW5pbWF0aW9ucyIse2NvbG9yczp7dHlwZToiY29sb3IiLHByb3BlcnRpZXM6aWV9LG51bWJlcnM6e3R5cGU6Im51bWJlciIscHJvcGVydGllczplZX19KSx0LmRlc2NyaWJlKCJhbmltYXRpb25zIix7X2ZhbGxiYWNrOiJhbmltYXRpb24ifSksdC5zZXQoInRyYW5zaXRpb25zIix7YWN0aXZlOnthbmltYXRpb246e2R1cmF0aW9uOjQwMH19LHJlc2l6ZTp7YW5pbWF0aW9uOntkdXJhdGlvbjowfX0sc2hvdzp7YW5pbWF0aW9uczp7Y29sb3JzOntmcm9tOiJ0cmFuc3BhcmVudCJ9LHZpc2libGU6e3R5cGU6ImJvb2xlYW4iLGR1cmF0aW9uOjB9fX0saGlkZTp7YW5pbWF0aW9uczp7Y29sb3JzOnt0bzoidHJhbnNwYXJlbnQifSx2aXNpYmxlOnt0eXBlOiJib29sZWFuIixlYXNpbmc6ImxpbmVhciIsZm46dD0+MHx0fX19fSl9LGZ1bmN0aW9uKHQpe3Quc2V0KCJsYXlvdXQiLHthdXRvUGFkZGluZzohMCxwYWRkaW5nOnt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH19KX0sZnVuY3Rpb24odCl7dC5zZXQoInNjYWxlIix7ZGlzcGxheTohMCxvZmZzZXQ6ITEscmV2ZXJzZTohMSxiZWdpbkF0WmVybzohMSxib3VuZHM6InRpY2tzIixjbGlwOiEwLGdyYWNlOjAsZ3JpZDp7ZGlzcGxheTohMCxsaW5lV2lkdGg6MSxkcmF3T25DaGFydEFyZWE6ITAsZHJhd1RpY2tzOiEwLHRpY2tMZW5ndGg6OCx0aWNrV2lkdGg6KHQsZSk9PmUubGluZVdpZHRoLHRpY2tDb2xvcjoodCxlKT0+ZS5jb2xvcixvZmZzZXQ6ITF9LGJvcmRlcjp7ZGlzcGxheTohMCxkYXNoOltdLGRhc2hPZmZzZXQ6MCx3aWR0aDoxfSx0aXRsZTp7ZGlzcGxheTohMSx0ZXh0OiIiLHBhZGRpbmc6e3RvcDo0LGJvdHRvbTo0fX0sdGlja3M6e21pblJvdGF0aW9uOjAsbWF4Um90YXRpb246NTAsbWlycm9yOiExLHRleHRTdHJva2VXaWR0aDowLHRleHRTdHJva2VDb2xvcjoiIixwYWRkaW5nOjMsZGlzcGxheTohMCxhdXRvU2tpcDohMCxhdXRvU2tpcFBhZGRpbmc6MyxsYWJlbE9mZnNldDowLGNhbGxiYWNrOmFlLmZvcm1hdHRlcnMudmFsdWVzLG1pbm9yOnt9LG1ham9yOnt9LGFsaWduOiJjZW50ZXIiLGNyb3NzQWxpZ246Im5lYXIiLHNob3dMYWJlbEJhY2tkcm9wOiExLGJhY2tkcm9wQ29sb3I6InJnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSkiLGJhY2tkcm9wUGFkZGluZzoyfX0pLHQucm91dGUoInNjYWxlLnRpY2tzIiwiY29sb3IiLCIiLCJjb2xvciIpLHQucm91dGUoInNjYWxlLmdyaWQiLCJjb2xvciIsIiIsImJvcmRlckNvbG9yIiksdC5yb3V0ZSgic2NhbGUuYm9yZGVyIiwiY29sb3IiLCIiLCJib3JkZXJDb2xvciIpLHQucm91dGUoInNjYWxlLnRpdGxlIiwiY29sb3IiLCIiLCJjb2xvciIpLHQuZGVzY3JpYmUoInNjYWxlIix7X2ZhbGxiYWNrOiExLF9zY3JpcHRhYmxlOnQ9PiF0LnN0YXJ0c1dpdGgoImJlZm9yZSIpJiYhdC5zdGFydHNXaXRoKCJhZnRlciIpJiYiY2FsbGJhY2siIT09dCYmInBhcnNlciIhPT10LF9pbmRleGFibGU6dD0+ImJvcmRlckRhc2giIT09dCYmInRpY2tCb3JkZXJEYXNoIiE9PXQmJiJkYXNoIiE9PXR9KSx0LmRlc2NyaWJlKCJzY2FsZXMiLHtfZmFsbGJhY2s6InNjYWxlIn0pLHQuZGVzY3JpYmUoInNjYWxlLnRpY2tzIix7X3NjcmlwdGFibGU6dD0+ImJhY2tkcm9wUGFkZGluZyIhPT10JiYiY2FsbGJhY2siIT09dCxfaW5kZXhhYmxlOnQ9PiJiYWNrZHJvcFBhZGRpbmciIT09dH0pfV0pO2Z1bmN0aW9uIGZlKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnR9ZnVuY3Rpb24gZ2UodCl7bGV0IGU9dC5wYXJlbnROb2RlO3JldHVybiBlJiYiW29iamVjdCBTaGFkb3dSb290XSI9PT1lLnRvU3RyaW5nKCkmJihlPWUuaG9zdCksZX1mdW5jdGlvbiBwZSh0LGUsaSl7bGV0IHM7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0PyhzPXBhcnNlSW50KHQsMTApLC0xIT09dC5pbmRleE9mKCIlIikmJihzPXMvMTAwKmUucGFyZW50Tm9kZVtpXSkpOnM9dCxzfWNvbnN0IG1lPXQ9PnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk7ZnVuY3Rpb24gYmUodCxlKXtyZXR1cm4gbWUodCkuZ2V0UHJvcGVydHlWYWx1ZShlKX1jb25zdCB4ZT1bInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdO2Z1bmN0aW9uIF9lKHQsZSxpKXtjb25zdCBzPXt9O2k9aT8iLSIraToiIjtmb3IobGV0IG49MDtuPDQ7bisrKXtjb25zdCBvPXhlW25dO3Nbb109cGFyc2VGbG9hdCh0W2UrIi0iK28raV0pfHwwfXJldHVybiBzLndpZHRoPXMubGVmdCtzLnJpZ2h0LHMuaGVpZ2h0PXMudG9wK3MuYm90dG9tLHN9Y29uc3QgeWU9KHQsZSxpKT0+KHQ+MHx8ZT4wKSYmKCFpfHwhaS5zaGFkb3dSb290KTtmdW5jdGlvbiB2ZSh0LGUpe2lmKCJuYXRpdmUiaW4gdClyZXR1cm4gdDtjb25zdHtjYW52YXM6aSxjdXJyZW50RGV2aWNlUGl4ZWxSYXRpbzpzfT1lLG49bWUoaSksbz0iYm9yZGVyLWJveCI9PT1uLmJveFNpemluZyxhPV9lKG4sInBhZGRpbmciKSxyPV9lKG4sImJvcmRlciIsIndpZHRoIikse3g6bCx5OmgsYm94OmN9PWZ1bmN0aW9uKHQsZSl7Y29uc3QgaT10LnRvdWNoZXMscz1pJiZpLmxlbmd0aD9pWzBdOnQse29mZnNldFg6bixvZmZzZXRZOm99PXM7bGV0IGEscixsPSExO2lmKHllKG4sbyx0LnRhcmdldCkpYT1uLHI9bztlbHNle2NvbnN0IHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPXMuY2xpZW50WC10LmxlZnQscj1zLmNsaWVudFktdC50b3AsbD0hMH1yZXR1cm57eDphLHk6cixib3g6bH19KHQsaSksZD1hLmxlZnQrKGMmJnIubGVmdCksdT1hLnRvcCsoYyYmci50b3ApO2xldHt3aWR0aDpmLGhlaWdodDpnfT1lO3JldHVybiBvJiYoZi09YS53aWR0aCtyLndpZHRoLGctPWEuaGVpZ2h0K3IuaGVpZ2h0KSx7eDpNYXRoLnJvdW5kKChsLWQpL2YqaS53aWR0aC9zKSx5Ok1hdGgucm91bmQoKGgtdSkvZyppLmhlaWdodC9zKX19Y29uc3QgTWU9dD0+TWF0aC5yb3VuZCgxMCp0KS8xMDtmdW5jdGlvbiB3ZSh0LGUsaSxzKXtjb25zdCBuPW1lKHQpLG89X2UobiwibWFyZ2luIiksYT1wZShuLm1heFdpZHRoLHQsImNsaWVudFdpZHRoIil8fFQscj1wZShuLm1heEhlaWdodCx0LCJjbGllbnRIZWlnaHQiKXx8VCxsPWZ1bmN0aW9uKHQsZSxpKXtsZXQgcyxuO2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PWkpe2NvbnN0IG89Z2UodCk7aWYobyl7Y29uc3QgdD1vLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9bWUobykscj1fZShhLCJib3JkZXIiLCJ3aWR0aCIpLGw9X2UoYSwicGFkZGluZyIpO2U9dC53aWR0aC1sLndpZHRoLXIud2lkdGgsaT10LmhlaWdodC1sLmhlaWdodC1yLmhlaWdodCxzPXBlKGEubWF4V2lkdGgsbywiY2xpZW50V2lkdGgiKSxuPXBlKGEubWF4SGVpZ2h0LG8sImNsaWVudEhlaWdodCIpfWVsc2UgZT10LmNsaWVudFdpZHRoLGk9dC5jbGllbnRIZWlnaHR9cmV0dXJue3dpZHRoOmUsaGVpZ2h0OmksbWF4V2lkdGg6c3x8VCxtYXhIZWlnaHQ6bnx8VH19KHQsZSxpKTtsZXR7d2lkdGg6aCxoZWlnaHQ6Y309bDtpZigiY29udGVudC1ib3giPT09bi5ib3hTaXppbmcpe2NvbnN0IHQ9X2UobiwiYm9yZGVyIiwid2lkdGgiKSxlPV9lKG4sInBhZGRpbmciKTtoLT1lLndpZHRoK3Qud2lkdGgsYy09ZS5oZWlnaHQrdC5oZWlnaHR9aD1NYXRoLm1heCgwLGgtby53aWR0aCksYz1NYXRoLm1heCgwLHM/aC9zOmMtby5oZWlnaHQpLGg9TWUoTWF0aC5taW4oaCxhLGwubWF4V2lkdGgpKSxjPU1lKE1hdGgubWluKGMscixsLm1heEhlaWdodCkpLGgmJiFjJiYoYz1NZShoLzIpKTtyZXR1cm4odm9pZCAwIT09ZXx8dm9pZCAwIT09aSkmJnMmJmwuaGVpZ2h0JiZjPmwuaGVpZ2h0JiYoYz1sLmhlaWdodCxoPU1lKE1hdGguZmxvb3IoYypzKSkpLHt3aWR0aDpoLGhlaWdodDpjfX1mdW5jdGlvbiBrZSh0LGUsaSl7Y29uc3Qgcz1lfHwxLG49TWF0aC5mbG9vcih0LmhlaWdodCpzKSxvPU1hdGguZmxvb3IodC53aWR0aCpzKTt0LmhlaWdodD1NYXRoLmZsb29yKHQuaGVpZ2h0KSx0LndpZHRoPU1hdGguZmxvb3IodC53aWR0aCk7Y29uc3QgYT10LmNhbnZhcztyZXR1cm4gYS5zdHlsZSYmKGl8fCFhLnN0eWxlLmhlaWdodCYmIWEuc3R5bGUud2lkdGgpJiYoYS5zdHlsZS5oZWlnaHQ9YCR7dC5oZWlnaHR9cHhgLGEuc3R5bGUud2lkdGg9YCR7dC53aWR0aH1weGApLCh0LmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvIT09c3x8YS5oZWlnaHQhPT1ufHxhLndpZHRoIT09bykmJih0LmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvPXMsYS5oZWlnaHQ9bixhLndpZHRoPW8sdC5jdHguc2V0VHJhbnNmb3JtKHMsMCwwLHMsMCwwKSwhMCl9Y29uc3QgU2U9ZnVuY3Rpb24oKXtsZXQgdD0hMTt0cnl7Y29uc3QgZT17Z2V0IHBhc3NpdmUoKXtyZXR1cm4gdD0hMCwhMX19O2ZlKCkmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsbnVsbCxlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsbnVsbCxlKSl9Y2F0Y2godCl7fXJldHVybiB0fSgpO2Z1bmN0aW9uIFBlKHQsZSl7Y29uc3QgaT1iZSh0LGUpLHM9aSYmaS5tYXRjaCgvXihcZCspKFwuXGQrKT9weCQvKTtyZXR1cm4gcz8rc1sxXTp2b2lkIDB9ZnVuY3Rpb24gRGUodCl7cmV0dXJuIXR8fHModC5zaXplKXx8cyh0LmZhbWlseSk/bnVsbDoodC5zdHlsZT90LnN0eWxlKyIgIjoiIikrKHQud2VpZ2h0P3Qud2VpZ2h0KyIgIjoiIikrdC5zaXplKyJweCAiK3QuZmFtaWx5fWZ1bmN0aW9uIENlKHQsZSxpLHMsbil7bGV0IG89ZVtuXTtyZXR1cm4gb3x8KG89ZVtuXT10Lm1lYXN1cmVUZXh0KG4pLndpZHRoLGkucHVzaChuKSksbz5zJiYocz1vKSxzfWZ1bmN0aW9uIE9lKHQsZSxpLHMpe2xldCBvPShzPXN8fHt9KS5kYXRhPXMuZGF0YXx8e30sYT1zLmdhcmJhZ2VDb2xsZWN0PXMuZ2FyYmFnZUNvbGxlY3R8fFtdO3MuZm9udCE9PWUmJihvPXMuZGF0YT17fSxhPXMuZ2FyYmFnZUNvbGxlY3Q9W10scy5mb250PWUpLHQuc2F2ZSgpLHQuZm9udD1lO2xldCByPTA7Y29uc3QgbD1pLmxlbmd0aDtsZXQgaCxjLGQsdSxmO2ZvcihoPTA7aDxsO2grKylpZih1PWlbaF0sbnVsbD09dXx8bih1KSl7aWYobih1KSlmb3IoYz0wLGQ9dS5sZW5ndGg7YzxkO2MrKylmPXVbY10sbnVsbD09Znx8bihmKXx8KHI9Q2UodCxvLGEscixmKSl9ZWxzZSByPUNlKHQsbyxhLHIsdSk7dC5yZXN0b3JlKCk7Y29uc3QgZz1hLmxlbmd0aC8yO2lmKGc+aS5sZW5ndGgpe2ZvcihoPTA7aDxnO2grKylkZWxldGUgb1thW2hdXTthLnNwbGljZSgwLGcpfXJldHVybiByfWZ1bmN0aW9uIEFlKHQsZSxpKXtjb25zdCBzPXQuY3VycmVudERldmljZVBpeGVsUmF0aW8sbj0wIT09aT9NYXRoLm1heChpLzIsLjUpOjA7cmV0dXJuIE1hdGgucm91bmQoKGUtbikqcykvcytufWZ1bmN0aW9uIFRlKHQsZSl7KGU9ZXx8dC5nZXRDb250ZXh0KCIyZCIpKS5zYXZlKCksZS5yZXNldFRyYW5zZm9ybSgpLGUuY2xlYXJSZWN0KDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxlLnJlc3RvcmUoKX1mdW5jdGlvbiBMZSh0LGUsaSxzKXtFZSh0LGUsaSxzLG51bGwpfWZ1bmN0aW9uIEVlKHQsZSxpLHMsbil7bGV0IG8sYSxyLGwsaCxjLGQsdTtjb25zdCBmPWUucG9pbnRTdHlsZSxnPWUucm90YXRpb24scD1lLnJhZGl1cztsZXQgbT0oZ3x8MCkqTDtpZihmJiYib2JqZWN0Ij09dHlwZW9mIGYmJihvPWYudG9TdHJpbmcoKSwiW29iamVjdCBIVE1MSW1hZ2VFbGVtZW50XSI9PT1vfHwiW29iamVjdCBIVE1MQ2FudmFzRWxlbWVudF0iPT09bykpcmV0dXJuIHQuc2F2ZSgpLHQudHJhbnNsYXRlKGkscyksdC5yb3RhdGUobSksdC5kcmF3SW1hZ2UoZiwtZi53aWR0aC8yLC1mLmhlaWdodC8yLGYud2lkdGgsZi5oZWlnaHQpLHZvaWQgdC5yZXN0b3JlKCk7aWYoIShpc05hTihwKXx8cDw9MCkpe3N3aXRjaCh0LmJlZ2luUGF0aCgpLGYpe2RlZmF1bHQ6bj90LmVsbGlwc2UoaSxzLG4vMixwLDAsMCxPKTp0LmFyYyhpLHMscCwwLE8pLHQuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZSJ0cmlhbmdsZSI6Yz1uP24vMjpwLHQubW92ZVRvKGkrTWF0aC5zaW4obSkqYyxzLU1hdGguY29zKG0pKnApLG0rPUksdC5saW5lVG8oaStNYXRoLnNpbihtKSpjLHMtTWF0aC5jb3MobSkqcCksbSs9SSx0LmxpbmVUbyhpK01hdGguc2luKG0pKmMscy1NYXRoLmNvcyhtKSpwKSx0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UicmVjdFJvdW5kZWQiOmg9LjUxNipwLGw9cC1oLGE9TWF0aC5jb3MobStSKSpsLGQ9TWF0aC5jb3MobStSKSoobj9uLzItaDpsKSxyPU1hdGguc2luKG0rUikqbCx1PU1hdGguc2luKG0rUikqKG4/bi8yLWg6bCksdC5hcmMoaS1kLHMtcixoLG0tQyxtLUUpLHQuYXJjKGkrdSxzLWEsaCxtLUUsbSksdC5hcmMoaStkLHMrcixoLG0sbStFKSx0LmFyYyhpLXUscythLGgsbStFLG0rQyksdC5jbG9zZVBhdGgoKTticmVhaztjYXNlInJlY3QiOmlmKCFnKXtsPU1hdGguU1FSVDFfMipwLGM9bj9uLzI6bCx0LnJlY3QoaS1jLHMtbCwyKmMsMipsKTticmVha31tKz1SO2Nhc2UicmVjdFJvdCI6ZD1NYXRoLmNvcyhtKSoobj9uLzI6cCksYT1NYXRoLmNvcyhtKSpwLHI9TWF0aC5zaW4obSkqcCx1PU1hdGguc2luKG0pKihuP24vMjpwKSx0Lm1vdmVUbyhpLWQscy1yKSx0LmxpbmVUbyhpK3Uscy1hKSx0LmxpbmVUbyhpK2QscytyKSx0LmxpbmVUbyhpLXUscythKSx0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UiY3Jvc3NSb3QiOm0rPVI7Y2FzZSJjcm9zcyI6ZD1NYXRoLmNvcyhtKSoobj9uLzI6cCksYT1NYXRoLmNvcyhtKSpwLHI9TWF0aC5zaW4obSkqcCx1PU1hdGguc2luKG0pKihuP24vMjpwKSx0Lm1vdmVUbyhpLWQscy1yKSx0LmxpbmVUbyhpK2QscytyKSx0Lm1vdmVUbyhpK3Uscy1hKSx0LmxpbmVUbyhpLXUscythKTticmVhaztjYXNlInN0YXIiOmQ9TWF0aC5jb3MobSkqKG4/bi8yOnApLGE9TWF0aC5jb3MobSkqcCxyPU1hdGguc2luKG0pKnAsdT1NYXRoLnNpbihtKSoobj9uLzI6cCksdC5tb3ZlVG8oaS1kLHMtciksdC5saW5lVG8oaStkLHMrciksdC5tb3ZlVG8oaSt1LHMtYSksdC5saW5lVG8oaS11LHMrYSksbSs9UixkPU1hdGguY29zKG0pKihuP24vMjpwKSxhPU1hdGguY29zKG0pKnAscj1NYXRoLnNpbihtKSpwLHU9TWF0aC5zaW4obSkqKG4/bi8yOnApLHQubW92ZVRvKGktZCxzLXIpLHQubGluZVRvKGkrZCxzK3IpLHQubW92ZVRvKGkrdSxzLWEpLHQubGluZVRvKGktdSxzK2EpO2JyZWFrO2Nhc2UibGluZSI6YT1uP24vMjpNYXRoLmNvcyhtKSpwLHI9TWF0aC5zaW4obSkqcCx0Lm1vdmVUbyhpLWEscy1yKSx0LmxpbmVUbyhpK2EscytyKTticmVhaztjYXNlImRhc2giOnQubW92ZVRvKGkscyksdC5saW5lVG8oaStNYXRoLmNvcyhtKSoobj9uLzI6cCkscytNYXRoLnNpbihtKSpwKTticmVhaztjYXNlITE6dC5jbG9zZVBhdGgoKX10LmZpbGwoKSxlLmJvcmRlcldpZHRoPjAmJnQuc3Ryb2tlKCl9fWZ1bmN0aW9uIFJlKHQsZSxpKXtyZXR1cm4gaT1pfHwuNSwhZXx8dCYmdC54PmUubGVmdC1pJiZ0Lng8ZS5yaWdodCtpJiZ0Lnk+ZS50b3AtaSYmdC55PGUuYm90dG9tK2l9ZnVuY3Rpb24gSWUodCxlKXt0LnNhdmUoKSx0LmJlZ2luUGF0aCgpLHQucmVjdChlLmxlZnQsZS50b3AsZS5yaWdodC1lLmxlZnQsZS5ib3R0b20tZS50b3ApLHQuY2xpcCgpfWZ1bmN0aW9uIHplKHQpe3QucmVzdG9yZSgpfWZ1bmN0aW9uIEZlKHQsZSxpLHMsbil7aWYoIWUpcmV0dXJuIHQubGluZVRvKGkueCxpLnkpO2lmKCJtaWRkbGUiPT09bil7Y29uc3Qgcz0oZS54K2kueCkvMjt0LmxpbmVUbyhzLGUueSksdC5saW5lVG8ocyxpLnkpfWVsc2UiYWZ0ZXIiPT09biE9ISFzP3QubGluZVRvKGUueCxpLnkpOnQubGluZVRvKGkueCxlLnkpO3QubGluZVRvKGkueCxpLnkpfWZ1bmN0aW9uIFZlKHQsZSxpLHMpe2lmKCFlKXJldHVybiB0LmxpbmVUbyhpLngsaS55KTt0LmJlemllckN1cnZlVG8ocz9lLmNwMXg6ZS5jcDJ4LHM/ZS5jcDF5OmUuY3AyeSxzP2kuY3AyeDppLmNwMXgscz9pLmNwMnk6aS5jcDF5LGkueCxpLnkpfWZ1bmN0aW9uIEJlKHQsZSxpLHMsbil7aWYobi5zdHJpa2V0aHJvdWdofHxuLnVuZGVybGluZSl7Y29uc3Qgbz10Lm1lYXN1cmVUZXh0KHMpLGE9ZS1vLmFjdHVhbEJvdW5kaW5nQm94TGVmdCxyPWUrby5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0LGw9aS1vLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50LGg9aStvLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCxjPW4uc3RyaWtldGhyb3VnaD8obCtoKS8yOmg7dC5zdHJva2VTdHlsZT10LmZpbGxTdHlsZSx0LmJlZ2luUGF0aCgpLHQubGluZVdpZHRoPW4uZGVjb3JhdGlvbldpZHRofHwyLHQubW92ZVRvKGEsYyksdC5saW5lVG8ocixjKSx0LnN0cm9rZSgpfX1mdW5jdGlvbiBXZSh0LGUpe2NvbnN0IGk9dC5maWxsU3R5bGU7dC5maWxsU3R5bGU9ZS5jb2xvcix0LmZpbGxSZWN0KGUubGVmdCxlLnRvcCxlLndpZHRoLGUuaGVpZ2h0KSx0LmZpbGxTdHlsZT1pfWZ1bmN0aW9uIE5lKHQsZSxpLG8sYSxyPXt9KXtjb25zdCBsPW4oZSk/ZTpbZV0saD1yLnN0cm9rZVdpZHRoPjAmJiIiIT09ci5zdHJva2VDb2xvcjtsZXQgYyxkO2Zvcih0LnNhdmUoKSx0LmZvbnQ9YS5zdHJpbmcsZnVuY3Rpb24odCxlKXtlLnRyYW5zbGF0aW9uJiZ0LnRyYW5zbGF0ZShlLnRyYW5zbGF0aW9uWzBdLGUudHJhbnNsYXRpb25bMV0pLHMoZS5yb3RhdGlvbil8fHQucm90YXRlKGUucm90YXRpb24pLGUuY29sb3ImJih0LmZpbGxTdHlsZT1lLmNvbG9yKSxlLnRleHRBbGlnbiYmKHQudGV4dEFsaWduPWUudGV4dEFsaWduKSxlLnRleHRCYXNlbGluZSYmKHQudGV4dEJhc2VsaW5lPWUudGV4dEJhc2VsaW5lKX0odCxyKSxjPTA7YzxsLmxlbmd0aDsrK2MpZD1sW2NdLHIuYmFja2Ryb3AmJldlKHQsci5iYWNrZHJvcCksaCYmKHIuc3Ryb2tlQ29sb3ImJih0LnN0cm9rZVN0eWxlPXIuc3Ryb2tlQ29sb3IpLHMoci5zdHJva2VXaWR0aCl8fCh0LmxpbmVXaWR0aD1yLnN0cm9rZVdpZHRoKSx0LnN0cm9rZVRleHQoZCxpLG8sci5tYXhXaWR0aCkpLHQuZmlsbFRleHQoZCxpLG8sci5tYXhXaWR0aCksQmUodCxpLG8sZCxyKSxvKz1OdW1iZXIoYS5saW5lSGVpZ2h0KTt0LnJlc3RvcmUoKX1mdW5jdGlvbiBIZSh0LGUpe2NvbnN0e3g6aSx5OnMsdzpuLGg6byxyYWRpdXM6YX09ZTt0LmFyYyhpK2EudG9wTGVmdCxzK2EudG9wTGVmdCxhLnRvcExlZnQsMS41KkMsQywhMCksdC5saW5lVG8oaSxzK28tYS5ib3R0b21MZWZ0KSx0LmFyYyhpK2EuYm90dG9tTGVmdCxzK28tYS5ib3R0b21MZWZ0LGEuYm90dG9tTGVmdCxDLEUsITApLHQubGluZVRvKGkrbi1hLmJvdHRvbVJpZ2h0LHMrbyksdC5hcmMoaStuLWEuYm90dG9tUmlnaHQscytvLWEuYm90dG9tUmlnaHQsYS5ib3R0b21SaWdodCxFLDAsITApLHQubGluZVRvKGkrbixzK2EudG9wUmlnaHQpLHQuYXJjKGkrbi1hLnRvcFJpZ2h0LHMrYS50b3BSaWdodCxhLnRvcFJpZ2h0LDAsLUUsITApLHQubGluZVRvKGkrYS50b3BMZWZ0LHMpfWZ1bmN0aW9uIGplKHQsZT1bIiJdLGkscyxuPSgoKT0+dFswXSkpe2NvbnN0IG89aXx8dDt2b2lkIDA9PT1zJiYocz10aSgiX2ZhbGxiYWNrIix0KSk7Y29uc3QgYT17W1N5bWJvbC50b1N0cmluZ1RhZ106Ik9iamVjdCIsX2NhY2hlYWJsZTohMCxfc2NvcGVzOnQsX3Jvb3RTY29wZXM6byxfZmFsbGJhY2s6cyxfZ2V0VGFyZ2V0Om4sb3ZlcnJpZGU6aT0+amUoW2ksLi4udF0sZSxvLHMpfTtyZXR1cm4gbmV3IFByb3h5KGEse2RlbGV0ZVByb3BlcnR5OihlLGkpPT4oZGVsZXRlIGVbaV0sZGVsZXRlIGUuX2tleXMsZGVsZXRlIHRbMF1baV0sITApLGdldDooaSxzKT0+cWUoaSxzLCgoKT0+ZnVuY3Rpb24odCxlLGkscyl7bGV0IG47Zm9yKGNvbnN0IG8gb2YgZSlpZihuPXRpKFVlKG8sdCksaSksdm9pZCAwIT09bilyZXR1cm4gWGUodCxuKT9KZShpLHMsdCxuKTpufShzLGUsdCxpKSkpLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjoodCxlKT0+UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodC5fc2NvcGVzWzBdLGUpLGdldFByb3RvdHlwZU9mOigpPT5SZWZsZWN0LmdldFByb3RvdHlwZU9mKHRbMF0pLGhhczoodCxlKT0+ZWkodCkuaW5jbHVkZXMoZSksb3duS2V5czp0PT5laSh0KSxzZXQodCxlLGkpe2NvbnN0IHM9dC5fc3RvcmFnZXx8KHQuX3N0b3JhZ2U9bigpKTtyZXR1cm4gdFtlXT1zW2VdPWksZGVsZXRlIHQuX2tleXMsITB9fSl9ZnVuY3Rpb24gJGUodCxlLGkscyl7Y29uc3QgYT17X2NhY2hlYWJsZTohMSxfcHJveHk6dCxfY29udGV4dDplLF9zdWJQcm94eTppLF9zdGFjazpuZXcgU2V0LF9kZXNjcmlwdG9yczpZZSh0LHMpLHNldENvbnRleHQ6ZT0+JGUodCxlLGkscyksb3ZlcnJpZGU6bj0+JGUodC5vdmVycmlkZShuKSxlLGkscyl9O3JldHVybiBuZXcgUHJveHkoYSx7ZGVsZXRlUHJvcGVydHk6KGUsaSk9PihkZWxldGUgZVtpXSxkZWxldGUgdFtpXSwhMCksZ2V0Oih0LGUsaSk9PnFlKHQsZSwoKCk9PmZ1bmN0aW9uKHQsZSxpKXtjb25zdHtfcHJveHk6cyxfY29udGV4dDphLF9zdWJQcm94eTpyLF9kZXNjcmlwdG9yczpsfT10O2xldCBoPXNbZV07UyhoKSYmbC5pc1NjcmlwdGFibGUoZSkmJihoPWZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0e19wcm94eTpuLF9jb250ZXh0Om8sX3N1YlByb3h5OmEsX3N0YWNrOnJ9PWk7aWYoci5oYXModCkpdGhyb3cgbmV3IEVycm9yKCJSZWN1cnNpb24gZGV0ZWN0ZWQ6ICIrQXJyYXkuZnJvbShyKS5qb2luKCItPiIpKyItPiIrdCk7ci5hZGQodCk7bGV0IGw9ZShvLGF8fHMpO3IuZGVsZXRlKHQpLFhlKHQsbCkmJihsPUplKG4uX3Njb3BlcyxuLHQsbCkpO3JldHVybiBsfShlLGgsdCxpKSk7bihoKSYmaC5sZW5ndGgmJihoPWZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0e19wcm94eTpuLF9jb250ZXh0OmEsX3N1YlByb3h5OnIsX2Rlc2NyaXB0b3JzOmx9PWk7aWYodm9pZCAwIT09YS5pbmRleCYmcyh0KSlyZXR1cm4gZVthLmluZGV4JWUubGVuZ3RoXTtpZihvKGVbMF0pKXtjb25zdCBpPWUscz1uLl9zY29wZXMuZmlsdGVyKCh0PT50IT09aSkpO2U9W107Zm9yKGNvbnN0IG8gb2YgaSl7Y29uc3QgaT1KZShzLG4sdCxvKTtlLnB1c2goJGUoaSxhLHImJnJbdF0sbCkpfX1yZXR1cm4gZX0oZSxoLHQsbC5pc0luZGV4YWJsZSkpO1hlKGUsaCkmJihoPSRlKGgsYSxyJiZyW2VdLGwpKTtyZXR1cm4gaH0odCxlLGkpKSksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOihlLGkpPT5lLl9kZXNjcmlwdG9ycy5hbGxLZXlzP1JlZmxlY3QuaGFzKHQsaSk/e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTp2b2lkIDA6UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxpKSxnZXRQcm90b3R5cGVPZjooKT0+UmVmbGVjdC5nZXRQcm90b3R5cGVPZih0KSxoYXM6KGUsaSk9PlJlZmxlY3QuaGFzKHQsaSksb3duS2V5czooKT0+UmVmbGVjdC5vd25LZXlzKHQpLHNldDooZSxpLHMpPT4odFtpXT1zLGRlbGV0ZSBlW2ldLCEwKX0pfWZ1bmN0aW9uIFllKHQsZT17c2NyaXB0YWJsZTohMCxpbmRleGFibGU6ITB9KXtjb25zdHtfc2NyaXB0YWJsZTppPWUuc2NyaXB0YWJsZSxfaW5kZXhhYmxlOnM9ZS5pbmRleGFibGUsX2FsbEtleXM6bj1lLmFsbEtleXN9PXQ7cmV0dXJue2FsbEtleXM6bixzY3JpcHRhYmxlOmksaW5kZXhhYmxlOnMsaXNTY3JpcHRhYmxlOlMoaSk/aTooKT0+aSxpc0luZGV4YWJsZTpTKHMpP3M6KCk9PnN9fWNvbnN0IFVlPSh0LGUpPT50P3QrdyhlKTplLFhlPSh0LGUpPT5vKGUpJiYiYWRhcHRlcnMiIT09dCYmKG51bGw9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl8fGUuY29uc3RydWN0b3I9PT1PYmplY3QpO2Z1bmN0aW9uIHFlKHQsZSxpKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSlyZXR1cm4gdFtlXTtjb25zdCBzPWkoKTtyZXR1cm4gdFtlXT1zLHN9ZnVuY3Rpb24gS2UodCxlLGkpe3JldHVybiBTKHQpP3QoZSxpKTp0fWNvbnN0IEdlPSh0LGUpPT4hMD09PXQ/ZToic3RyaW5nIj09dHlwZW9mIHQ/TShlLHQpOnZvaWQgMDtmdW5jdGlvbiBaZSh0LGUsaSxzLG4pe2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9R2UoaSxvKTtpZihlKXt0LmFkZChlKTtjb25zdCBvPUtlKGUuX2ZhbGxiYWNrLGksbik7aWYodm9pZCAwIT09byYmbyE9PWkmJm8hPT1zKXJldHVybiBvfWVsc2UgaWYoITE9PT1lJiZ2b2lkIDAhPT1zJiZpIT09cylyZXR1cm4gbnVsbH1yZXR1cm4hMX1mdW5jdGlvbiBKZSh0LGUsaSxzKXtjb25zdCBhPWUuX3Jvb3RTY29wZXMscj1LZShlLl9mYWxsYmFjayxpLHMpLGw9Wy4uLnQsLi4uYV0saD1uZXcgU2V0O2guYWRkKHMpO2xldCBjPVFlKGgsbCxpLHJ8fGkscyk7cmV0dXJuIG51bGwhPT1jJiYoKHZvaWQgMD09PXJ8fHI9PT1pfHwoYz1RZShoLGwscixjLHMpLG51bGwhPT1jKSkmJmplKEFycmF5LmZyb20oaCksWyIiXSxhLHIsKCgpPT5mdW5jdGlvbih0LGUsaSl7Y29uc3Qgcz10Ll9nZXRUYXJnZXQoKTtlIGluIHN8fChzW2VdPXt9KTtjb25zdCBhPXNbZV07aWYobihhKSYmbyhpKSlyZXR1cm4gaTtyZXR1cm4gYXx8e319KGUsaSxzKSkpKX1mdW5jdGlvbiBRZSh0LGUsaSxzLG4pe2Zvcig7aTspaT1aZSh0LGUsaSxzLG4pO3JldHVybiBpfWZ1bmN0aW9uIHRpKHQsZSl7Zm9yKGNvbnN0IGkgb2YgZSl7aWYoIWkpY29udGludWU7Y29uc3QgZT1pW3RdO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGV9fWZ1bmN0aW9uIGVpKHQpe2xldCBlPXQuX2tleXM7cmV0dXJuIGV8fChlPXQuX2tleXM9ZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgU2V0O2Zvcihjb25zdCBpIG9mIHQpZm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoaSkuZmlsdGVyKCh0PT4hdC5zdGFydHNXaXRoKCJfIikpKSllLmFkZCh0KTtyZXR1cm4gQXJyYXkuZnJvbShlKX0odC5fc2NvcGVzKSksZX1mdW5jdGlvbiBpaSh0LGUsaSxzKXtjb25zdHtpU2NhbGU6bn09dCx7a2V5Om89InIifT10aGlzLl9wYXJzaW5nLGE9bmV3IEFycmF5KHMpO2xldCByLGwsaCxjO2ZvcihyPTAsbD1zO3I8bDsrK3IpaD1yK2ksYz1lW2hdLGFbcl09e3I6bi5wYXJzZShNKGMsbyksaCl9O3JldHVybiBhfWNvbnN0IHNpPU51bWJlci5FUFNJTE9OfHwxZS0xNCxuaT0odCxlKT0+ZTx0Lmxlbmd0aCYmIXRbZV0uc2tpcCYmdFtlXSxvaT10PT4ieCI9PT10PyJ5IjoieCI7ZnVuY3Rpb24gYWkodCxlLGkscyl7Y29uc3Qgbj10LnNraXA/ZTp0LG89ZSxhPWkuc2tpcD9lOmkscj1xKG8sbiksbD1xKGEsbyk7bGV0IGg9ci8ocitsKSxjPWwvKHIrbCk7aD1pc05hTihoKT8wOmgsYz1pc05hTihjKT8wOmM7Y29uc3QgZD1zKmgsdT1zKmM7cmV0dXJue3ByZXZpb3VzOnt4Om8ueC1kKihhLngtbi54KSx5Om8ueS1kKihhLnktbi55KX0sbmV4dDp7eDpvLngrdSooYS54LW4ueCkseTpvLnkrdSooYS55LW4ueSl9fX1mdW5jdGlvbiByaSh0LGU9IngiKXtjb25zdCBpPW9pKGUpLHM9dC5sZW5ndGgsbj1BcnJheShzKS5maWxsKDApLG89QXJyYXkocyk7bGV0IGEscixsLGg9bmkodCwwKTtmb3IoYT0wO2E8czsrK2EpaWYocj1sLGw9aCxoPW5pKHQsYSsxKSxsKXtpZihoKXtjb25zdCB0PWhbZV0tbFtlXTtuW2FdPTAhPT10PyhoW2ldLWxbaV0pL3Q6MH1vW2FdPXI/aD9GKG5bYS0xXSkhPT1GKG5bYV0pPzA6KG5bYS0xXStuW2FdKS8yOm5bYS0xXTpuW2FdfSFmdW5jdGlvbih0LGUsaSl7Y29uc3Qgcz10Lmxlbmd0aDtsZXQgbixvLGEscixsLGg9bmkodCwwKTtmb3IobGV0IGM9MDtjPHMtMTsrK2MpbD1oLGg9bmkodCxjKzEpLGwmJmgmJihWKGVbY10sMCxzaSk/aVtjXT1pW2MrMV09MDoobj1pW2NdL2VbY10sbz1pW2MrMV0vZVtjXSxyPU1hdGgucG93KG4sMikrTWF0aC5wb3cobywyKSxyPD05fHwoYT0zL01hdGguc3FydChyKSxpW2NdPW4qYSplW2NdLGlbYysxXT1vKmEqZVtjXSkpKX0odCxuLG8pLGZ1bmN0aW9uKHQsZSxpPSJ4Iil7Y29uc3Qgcz1vaShpKSxuPXQubGVuZ3RoO2xldCBvLGEscixsPW5pKHQsMCk7Zm9yKGxldCBoPTA7aDxuOysraCl7aWYoYT1yLHI9bCxsPW5pKHQsaCsxKSwhciljb250aW51ZTtjb25zdCBuPXJbaV0sYz1yW3NdO2EmJihvPShuLWFbaV0pLzMscltgY3AxJHtpfWBdPW4tbyxyW2BjcDEke3N9YF09Yy1vKmVbaF0pLGwmJihvPShsW2ldLW4pLzMscltgY3AyJHtpfWBdPW4rbyxyW2BjcDIke3N9YF09YytvKmVbaF0pfX0odCxvLGUpfWZ1bmN0aW9uIGxpKHQsZSxpKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odCxpKSxlKX1mdW5jdGlvbiBoaSh0LGUsaSxzLG4pe2xldCBvLGEscixsO2lmKGUuc3BhbkdhcHMmJih0PXQuZmlsdGVyKCh0PT4hdC5za2lwKSkpLCJtb25vdG9uZSI9PT1lLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUpcmkodCxuKTtlbHNle2xldCBpPXM/dFt0Lmxlbmd0aC0xXTp0WzBdO2ZvcihvPTAsYT10Lmxlbmd0aDtvPGE7KytvKXI9dFtvXSxsPWFpKGkscix0W01hdGgubWluKG8rMSxhLShzPzA6MSkpJWFdLGUudGVuc2lvbiksci5jcDF4PWwucHJldmlvdXMueCxyLmNwMXk9bC5wcmV2aW91cy55LHIuY3AyeD1sLm5leHQueCxyLmNwMnk9bC5uZXh0LnksaT1yfWUuY2FwQmV6aWVyUG9pbnRzJiZmdW5jdGlvbih0LGUpe2xldCBpLHMsbixvLGEscj1SZSh0WzBdLGUpO2ZvcihpPTAscz10Lmxlbmd0aDtpPHM7KytpKWE9byxvPXIscj1pPHMtMSYmUmUodFtpKzFdLGUpLG8mJihuPXRbaV0sYSYmKG4uY3AxeD1saShuLmNwMXgsZS5sZWZ0LGUucmlnaHQpLG4uY3AxeT1saShuLmNwMXksZS50b3AsZS5ib3R0b20pKSxyJiYobi5jcDJ4PWxpKG4uY3AyeCxlLmxlZnQsZS5yaWdodCksbi5jcDJ5PWxpKG4uY3AyeSxlLnRvcCxlLmJvdHRvbSkpKX0odCxpKX1jb25zdCBjaT10PT4wPT09dHx8MT09PXQsZGk9KHQsZSxpKT0+LU1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSpPL2kpLHVpPSh0LGUsaSk9Pk1hdGgucG93KDIsLTEwKnQpKk1hdGguc2luKCh0LWUpKk8vaSkrMSxmaT17bGluZWFyOnQ9PnQsZWFzZUluUXVhZDp0PT50KnQsZWFzZU91dFF1YWQ6dD0+LXQqKHQtMiksZWFzZUluT3V0UXVhZDp0PT4odC89LjUpPDE/LjUqdCp0Oi0uNSooLS10Kih0LTIpLTEpLGVhc2VJbkN1YmljOnQ9PnQqdCp0LGVhc2VPdXRDdWJpYzp0PT4odC09MSkqdCp0KzEsZWFzZUluT3V0Q3ViaWM6dD0+KHQvPS41KTwxPy41KnQqdCp0Oi41KigodC09MikqdCp0KzIpLGVhc2VJblF1YXJ0OnQ9PnQqdCp0KnQsZWFzZU91dFF1YXJ0OnQ9Pi0oKHQtPTEpKnQqdCp0LTEpLGVhc2VJbk91dFF1YXJ0OnQ9Pih0Lz0uNSk8MT8uNSp0KnQqdCp0Oi0uNSooKHQtPTIpKnQqdCp0LTIpLGVhc2VJblF1aW50OnQ9PnQqdCp0KnQqdCxlYXNlT3V0UXVpbnQ6dD0+KHQtPTEpKnQqdCp0KnQrMSxlYXNlSW5PdXRRdWludDp0PT4odC89LjUpPDE/LjUqdCp0KnQqdCp0Oi41KigodC09MikqdCp0KnQqdCsyKSxlYXNlSW5TaW5lOnQ9PjEtTWF0aC5jb3ModCpFKSxlYXNlT3V0U2luZTp0PT5NYXRoLnNpbih0KkUpLGVhc2VJbk91dFNpbmU6dD0+LS41KihNYXRoLmNvcyhDKnQpLTEpLGVhc2VJbkV4cG86dD0+MD09PXQ/MDpNYXRoLnBvdygyLDEwKih0LTEpKSxlYXNlT3V0RXhwbzp0PT4xPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCksZWFzZUluT3V0RXhwbzp0PT5jaSh0KT90OnQ8LjU/LjUqTWF0aC5wb3coMiwxMCooMip0LTEpKTouNSooMi1NYXRoLnBvdygyLC0xMCooMip0LTEpKSksZWFzZUluQ2lyYzp0PT50Pj0xP3Q6LShNYXRoLnNxcnQoMS10KnQpLTEpLGVhc2VPdXRDaXJjOnQ9Pk1hdGguc3FydCgxLSh0LT0xKSp0KSxlYXNlSW5PdXRDaXJjOnQ9Pih0Lz0uNSk8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKSxlYXNlSW5FbGFzdGljOnQ9PmNpKHQpP3Q6ZGkodCwuMDc1LC4zKSxlYXNlT3V0RWxhc3RpYzp0PT5jaSh0KT90OnVpKHQsLjA3NSwuMyksZWFzZUluT3V0RWxhc3RpYyh0KXtjb25zdCBlPS4xMTI1O3JldHVybiBjaSh0KT90OnQ8LjU/LjUqZGkoMip0LGUsLjQ1KTouNSsuNSp1aSgyKnQtMSxlLC40NSl9LGVhc2VJbkJhY2sodCl7Y29uc3QgZT0xLjcwMTU4O3JldHVybiB0KnQqKChlKzEpKnQtZSl9LGVhc2VPdXRCYWNrKHQpe2NvbnN0IGU9MS43MDE1ODtyZXR1cm4odC09MSkqdCooKGUrMSkqdCtlKSsxfSxlYXNlSW5PdXRCYWNrKHQpe2xldCBlPTEuNzAxNTg7cmV0dXJuKHQvPS41KTwxP3QqdCooKDErKGUqPTEuNTI1KSkqdC1lKSouNTouNSooKHQtPTIpKnQqKCgxKyhlKj0xLjUyNSkpKnQrZSkrMil9LGVhc2VJbkJvdW5jZTp0PT4xLWZpLmVhc2VPdXRCb3VuY2UoMS10KSxlYXNlT3V0Qm91bmNlKHQpe2NvbnN0IGU9Ny41NjI1LGk9Mi43NTtyZXR1cm4gdDwxL2k/ZSp0KnQ6dDwyL2k/ZSoodC09MS41L2kpKnQrLjc1OnQ8Mi41L2k/ZSoodC09Mi4yNS9pKSp0Ky45Mzc1OmUqKHQtPTIuNjI1L2kpKnQrLjk4NDM3NX0sZWFzZUluT3V0Qm91bmNlOnQ9PnQ8LjU/LjUqZmkuZWFzZUluQm91bmNlKDIqdCk6LjUqZmkuZWFzZU91dEJvdW5jZSgyKnQtMSkrLjV9O2Z1bmN0aW9uIGdpKHQsZSxpLHMpe3JldHVybnt4OnQueCtpKihlLngtdC54KSx5OnQueStpKihlLnktdC55KX19ZnVuY3Rpb24gcGkodCxlLGkscyl7cmV0dXJue3g6dC54K2kqKGUueC10LngpLHk6Im1pZGRsZSI9PT1zP2k8LjU/dC55OmUueToiYWZ0ZXIiPT09cz9pPDE/dC55OmUueTppPjA/ZS55OnQueX19ZnVuY3Rpb24gbWkodCxlLGkscyl7Y29uc3Qgbj17eDp0LmNwMngseTp0LmNwMnl9LG89e3g6ZS5jcDF4LHk6ZS5jcDF5fSxhPWdpKHQsbixpKSxyPWdpKG4sbyxpKSxsPWdpKG8sZSxpKSxoPWdpKGEscixpKSxjPWdpKHIsbCxpKTtyZXR1cm4gZ2koaCxjLGkpfWNvbnN0IGJpPS9eKG5vcm1hbHwoXGQrKD86XC5cZCspPykocHh8ZW18JSk/KSQvLHhpPS9eKG5vcm1hbHxpdGFsaWN8aW5pdGlhbHxpbmhlcml0fHVuc2V0fChvYmxpcXVlKCAtP1swLTldP1swLTldZGVnKT8pKSQvO2Z1bmN0aW9uIF9pKHQsZSl7Y29uc3QgaT0oIiIrdCkubWF0Y2goYmkpO2lmKCFpfHwibm9ybWFsIj09PWlbMV0pcmV0dXJuIDEuMiplO3N3aXRjaCh0PStpWzJdLGlbM10pe2Nhc2UicHgiOnJldHVybiB0O2Nhc2UiJSI6dC89MTAwfXJldHVybiBlKnR9Y29uc3QgeWk9dD0+K3R8fDA7ZnVuY3Rpb24gdmkodCxlKXtjb25zdCBpPXt9LHM9byhlKSxuPXM/T2JqZWN0LmtleXMoZSk6ZSxhPW8odCk/cz9pPT5sKHRbaV0sdFtlW2ldXSk6ZT0+dFtlXTooKT0+dDtmb3IoY29uc3QgdCBvZiBuKWlbdF09eWkoYSh0KSk7cmV0dXJuIGl9ZnVuY3Rpb24gTWkodCl7cmV0dXJuIHZpKHQse3RvcDoieSIscmlnaHQ6IngiLGJvdHRvbToieSIsbGVmdDoieCJ9KX1mdW5jdGlvbiB3aSh0KXtyZXR1cm4gdmkodCxbInRvcExlZnQiLCJ0b3BSaWdodCIsImJvdHRvbUxlZnQiLCJib3R0b21SaWdodCJdKX1mdW5jdGlvbiBraSh0KXtjb25zdCBlPU1pKHQpO3JldHVybiBlLndpZHRoPWUubGVmdCtlLnJpZ2h0LGUuaGVpZ2h0PWUudG9wK2UuYm90dG9tLGV9ZnVuY3Rpb24gU2kodCxlKXt0PXR8fHt9LGU9ZXx8dWUuZm9udDtsZXQgaT1sKHQuc2l6ZSxlLnNpemUpOyJzdHJpbmciPT10eXBlb2YgaSYmKGk9cGFyc2VJbnQoaSwxMCkpO2xldCBzPWwodC5zdHlsZSxlLnN0eWxlKTtzJiYhKCIiK3MpLm1hdGNoKHhpKSYmKGNvbnNvbGUud2FybignSW52YWxpZCBmb250IHN0eWxlIHNwZWNpZmllZDogIicrcysnIicpLHM9dm9pZCAwKTtjb25zdCBuPXtmYW1pbHk6bCh0LmZhbWlseSxlLmZhbWlseSksbGluZUhlaWdodDpfaShsKHQubGluZUhlaWdodCxlLmxpbmVIZWlnaHQpLGkpLHNpemU6aSxzdHlsZTpzLHdlaWdodDpsKHQud2VpZ2h0LGUud2VpZ2h0KSxzdHJpbmc6IiJ9O3JldHVybiBuLnN0cmluZz1EZShuKSxufWZ1bmN0aW9uIFBpKHQsZSxpLHMpe2xldCBvLGEscixsPSEwO2ZvcihvPTAsYT10Lmxlbmd0aDtvPGE7KytvKWlmKHI9dFtvXSx2b2lkIDAhPT1yJiYodm9pZCAwIT09ZSYmImZ1bmN0aW9uIj09dHlwZW9mIHImJihyPXIoZSksbD0hMSksdm9pZCAwIT09aSYmbihyKSYmKHI9cltpJXIubGVuZ3RoXSxsPSExKSx2b2lkIDAhPT1yKSlyZXR1cm4gcyYmIWwmJihzLmNhY2hlYWJsZT0hMSkscn1mdW5jdGlvbiBEaSh0LGUsaSl7Y29uc3R7bWluOnMsbWF4Om59PXQsbz1jKGUsKG4tcykvMiksYT0odCxlKT0+aSYmMD09PXQ/MDp0K2U7cmV0dXJue21pbjphKHMsLU1hdGguYWJzKG8pKSxtYXg6YShuLG8pfX1mdW5jdGlvbiBDaSh0LGUpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodCksZSl9ZnVuY3Rpb24gT2kodCxlLGkpe3JldHVybiB0P2Z1bmN0aW9uKHQsZSl7cmV0dXJue3g6aT0+dCt0K2UtaSxzZXRXaWR0aCh0KXtlPXR9LHRleHRBbGlnbjp0PT4iY2VudGVyIj09PXQ/dDoicmlnaHQiPT09dD8ibGVmdCI6InJpZ2h0Iix4UGx1czoodCxlKT0+dC1lLGxlZnRGb3JMdHI6KHQsZSk9PnQtZX19KGUsaSk6e3g6dD0+dCxzZXRXaWR0aCh0KXt9LHRleHRBbGlnbjp0PT50LHhQbHVzOih0LGUpPT50K2UsbGVmdEZvckx0cjoodCxlKT0+dH19ZnVuY3Rpb24gQWkodCxlKXtsZXQgaSxzOyJsdHIiIT09ZSYmInJ0bCIhPT1lfHwoaT10LmNhbnZhcy5zdHlsZSxzPVtpLmdldFByb3BlcnR5VmFsdWUoImRpcmVjdGlvbiIpLGkuZ2V0UHJvcGVydHlQcmlvcml0eSgiZGlyZWN0aW9uIildLGkuc2V0UHJvcGVydHkoImRpcmVjdGlvbiIsZSwiaW1wb3J0YW50IiksdC5wcmV2VGV4dERpcmVjdGlvbj1zKX1mdW5jdGlvbiBUaSh0LGUpe3ZvaWQgMCE9PWUmJihkZWxldGUgdC5wcmV2VGV4dERpcmVjdGlvbix0LmNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlyZWN0aW9uIixlWzBdLGVbMV0pKX1mdW5jdGlvbiBMaSh0KXtyZXR1cm4iYW5nbGUiPT09dD97YmV0d2VlbjpaLGNvbXBhcmU6Syxub3JtYWxpemU6R306e2JldHdlZW46dHQsY29tcGFyZToodCxlKT0+dC1lLG5vcm1hbGl6ZTp0PT50fX1mdW5jdGlvbiBFaSh7c3RhcnQ6dCxlbmQ6ZSxjb3VudDppLGxvb3A6cyxzdHlsZTpufSl7cmV0dXJue3N0YXJ0OnQlaSxlbmQ6ZSVpLGxvb3A6cyYmKGUtdCsxKSVpPT0wLHN0eWxlOm59fWZ1bmN0aW9uIFJpKHQsZSxpKXtpZighaSlyZXR1cm5bdF07Y29uc3R7cHJvcGVydHk6cyxzdGFydDpuLGVuZDpvfT1pLGE9ZS5sZW5ndGgse2NvbXBhcmU6cixiZXR3ZWVuOmwsbm9ybWFsaXplOmh9PUxpKHMpLHtzdGFydDpjLGVuZDpkLGxvb3A6dSxzdHlsZTpmfT1mdW5jdGlvbih0LGUsaSl7Y29uc3R7cHJvcGVydHk6cyxzdGFydDpuLGVuZDpvfT1pLHtiZXR3ZWVuOmEsbm9ybWFsaXplOnJ9PUxpKHMpLGw9ZS5sZW5ndGg7bGV0IGgsYyx7c3RhcnQ6ZCxlbmQ6dSxsb29wOmZ9PXQ7aWYoZil7Zm9yKGQrPWwsdSs9bCxoPTAsYz1sO2g8YyYmYShyKGVbZCVsXVtzXSksbixvKTsrK2gpZC0tLHUtLTtkJT1sLHUlPWx9cmV0dXJuIHU8ZCYmKHUrPWwpLHtzdGFydDpkLGVuZDp1LGxvb3A6ZixzdHlsZTp0LnN0eWxlfX0odCxlLGkpLGc9W107bGV0IHAsbSxiLHg9ITEsXz1udWxsO2NvbnN0IHk9KCk9Pnh8fGwobixiLHApJiYwIT09cihuLGIpLHY9KCk9PiF4fHwwPT09cihvLHApfHxsKG8sYixwKTtmb3IobGV0IHQ9YyxpPWM7dDw9ZDsrK3QpbT1lW3QlYV0sbS5za2lwfHwocD1oKG1bc10pLHAhPT1iJiYoeD1sKHAsbixvKSxudWxsPT09XyYmeSgpJiYoXz0wPT09cihwLG4pP3Q6aSksbnVsbCE9PV8mJnYoKSYmKGcucHVzaChFaSh7c3RhcnQ6XyxlbmQ6dCxsb29wOnUsY291bnQ6YSxzdHlsZTpmfSkpLF89bnVsbCksaT10LGI9cCkpO3JldHVybiBudWxsIT09XyYmZy5wdXNoKEVpKHtzdGFydDpfLGVuZDpkLGxvb3A6dSxjb3VudDphLHN0eWxlOmZ9KSksZ31mdW5jdGlvbiBJaSh0LGUpe2NvbnN0IGk9W10scz10LnNlZ21lbnRzO2ZvcihsZXQgbj0wO248cy5sZW5ndGg7bisrKXtjb25zdCBvPVJpKHNbbl0sdC5wb2ludHMsZSk7by5sZW5ndGgmJmkucHVzaCguLi5vKX1yZXR1cm4gaX1mdW5jdGlvbiB6aSh0LGUpe2NvbnN0IGk9dC5wb2ludHMscz10Lm9wdGlvbnMuc3BhbkdhcHMsbj1pLmxlbmd0aDtpZighbilyZXR1cm5bXTtjb25zdCBvPSEhdC5fbG9vcCx7c3RhcnQ6YSxlbmQ6cn09ZnVuY3Rpb24odCxlLGkscyl7bGV0IG49MCxvPWUtMTtpZihpJiYhcylmb3IoO248ZSYmIXRbbl0uc2tpcDspbisrO2Zvcig7bjxlJiZ0W25dLnNraXA7KW4rKztmb3IobiU9ZSxpJiYobys9bik7bz5uJiZ0W28lZV0uc2tpcDspby0tO3JldHVybiBvJT1lLHtzdGFydDpuLGVuZDpvfX0oaSxuLG8scyk7aWYoITA9PT1zKXJldHVybiBGaSh0LFt7c3RhcnQ6YSxlbmQ6cixsb29wOm99XSxpLGUpO3JldHVybiBGaSh0LGZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0IG49dC5sZW5ndGgsbz1bXTtsZXQgYSxyPWUsbD10W2VdO2ZvcihhPWUrMTthPD1pOysrYSl7Y29uc3QgaT10W2Elbl07aS5za2lwfHxpLnN0b3A/bC5za2lwfHwocz0hMSxvLnB1c2goe3N0YXJ0OmUlbixlbmQ6KGEtMSklbixsb29wOnN9KSxlPXI9aS5zdG9wP2E6bnVsbCk6KHI9YSxsLnNraXAmJihlPWEpKSxsPWl9cmV0dXJuIG51bGwhPT1yJiZvLnB1c2goe3N0YXJ0OmUlbixlbmQ6ciVuLGxvb3A6c30pLG99KGksYSxyPGE/cituOnIsISF0Ll9mdWxsTG9vcCYmMD09PWEmJnI9PT1uLTEpLGksZSl9ZnVuY3Rpb24gRmkodCxlLGkscyl7cmV0dXJuIHMmJnMuc2V0Q29udGV4dCYmaT9mdW5jdGlvbih0LGUsaSxzKXtjb25zdCBuPXQuX2NoYXJ0LmdldENvbnRleHQoKSxvPVZpKHQub3B0aW9ucykse19kYXRhc2V0SW5kZXg6YSxvcHRpb25zOntzcGFuR2FwczpyfX09dCxsPWkubGVuZ3RoLGg9W107bGV0IGM9byxkPWVbMF0uc3RhcnQsdT1kO2Z1bmN0aW9uIGYodCxlLHMsbil7Y29uc3Qgbz1yPy0xOjE7aWYodCE9PWUpe2Zvcih0Kz1sO2lbdCVsXS5za2lwOyl0LT1vO2Zvcig7aVtlJWxdLnNraXA7KWUrPW87dCVsIT1lJWwmJihoLnB1c2goe3N0YXJ0OnQlbCxlbmQ6ZSVsLGxvb3A6cyxzdHlsZTpufSksYz1uLGQ9ZSVsKX19Zm9yKGNvbnN0IHQgb2YgZSl7ZD1yP2Q6dC5zdGFydDtsZXQgZSxvPWlbZCVsXTtmb3IodT1kKzE7dTw9dC5lbmQ7dSsrKXtjb25zdCByPWlbdSVsXTtlPVZpKHMuc2V0Q29udGV4dChDaShuLHt0eXBlOiJzZWdtZW50IixwMDpvLHAxOnIscDBEYXRhSW5kZXg6KHUtMSklbCxwMURhdGFJbmRleDp1JWwsZGF0YXNldEluZGV4OmF9KSkpLEJpKGUsYykmJmYoZCx1LTEsdC5sb29wLGMpLG89cixjPWV9ZDx1LTEmJmYoZCx1LTEsdC5sb29wLGMpfXJldHVybiBofSh0LGUsaSxzKTplfWZ1bmN0aW9uIFZpKHQpe3JldHVybntiYWNrZ3JvdW5kQ29sb3I6dC5iYWNrZ3JvdW5kQ29sb3IsYm9yZGVyQ2FwU3R5bGU6dC5ib3JkZXJDYXBTdHlsZSxib3JkZXJEYXNoOnQuYm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0OnQuYm9yZGVyRGFzaE9mZnNldCxib3JkZXJKb2luU3R5bGU6dC5ib3JkZXJKb2luU3R5bGUsYm9yZGVyV2lkdGg6dC5ib3JkZXJXaWR0aCxib3JkZXJDb2xvcjp0LmJvcmRlckNvbG9yfX1mdW5jdGlvbiBCaSh0LGUpe2lmKCFlKXJldHVybiExO2NvbnN0IGk9W10scz1mdW5jdGlvbih0LGUpe3JldHVybiBKdChlKT8oaS5pbmNsdWRlcyhlKXx8aS5wdXNoKGUpLGkuaW5kZXhPZihlKSk6ZX07cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQscykhPT1KU09OLnN0cmluZ2lmeShlLHMpfXZhciBXaT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxIQUxGX1BJOkUsSU5GSU5JVFk6VCxQSTpDLFBJVEFVOkEsUVVBUlRFUl9QSTpSLFJBRF9QRVJfREVHOkwsVEFVOk8sVFdPX1RISVJEU19QSTpJLF9hZGRHcmFjZTpEaSxfYWxpZ25QaXhlbDpBZSxfYWxpZ25TdGFydEVuZDpmdCxfYW5nbGVCZXR3ZWVuOlosX2FuZ2xlRGlmZjpLLF9hcnJheVVuaXF1ZTpsdCxfYXR0YWNoQ29udGV4dDokZSxfYmV6aWVyQ3VydmVUbzpWZSxfYmV6aWVySW50ZXJwb2xhdGlvbjptaSxfYm91bmRTZWdtZW50OlJpLF9ib3VuZFNlZ21lbnRzOklpLF9jYXBpdGFsaXplOncsX2NvbXB1dGVTZWdtZW50czp6aSxfY3JlYXRlUmVzb2x2ZXI6amUsX2RlY2ltYWxQbGFjZXM6VSxfZGVwcmVjYXRlZDpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDAhPT1lJiZjb25zb2xlLndhcm4odCsnOiAiJytpKyciIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgIicrcysnIiBpbnN0ZWFkJyl9LF9kZXNjcmlwdG9yczpZZSxfZWxlbWVudHNFcXVhbDpmLF9mYWN0b3JpemU6VyxfZmlsdGVyQmV0d2VlbjpudCxfZ2V0UGFyZW50Tm9kZTpnZSxfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50czpwdCxfaW50MTZSYW5nZTpRLF9pc0JldHdlZW46dHQsX2lzQ2xpY2tFdmVudDpELF9pc0RvbVN1cHBvcnRlZDpmZSxfaXNQb2ludEluQXJlYTpSZSxfbGltaXRWYWx1ZTpKLF9sb25nZXN0VGV4dDpPZSxfbG9va3VwOmV0LF9sb29rdXBCeUtleTppdCxfbWVhc3VyZVRleHQ6Q2UsX21lcmdlcjptLF9tZXJnZXJJZjpfLF9ub3JtYWxpemVBbmdsZTpHLF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZTppaSxfcG9pbnRJbkxpbmU6Z2ksX3JlYWRWYWx1ZVRvUHJvcHM6dmksX3Jsb29rdXBCeUtleTpzdCxfc2NhbGVSYW5nZXNDaGFuZ2VkOm10LF9zZXRNaW5BbmRNYXhCeUtleTpqLF9zcGxpdEtleTp2LF9zdGVwcGVkSW50ZXJwb2xhdGlvbjpwaSxfc3RlcHBlZExpbmVUbzpGZSxfdGV4dFg6Z3QsX3RvTGVmdFJpZ2h0Q2VudGVyOnV0LF91cGRhdGVCZXppZXJDb250cm9sUG9pbnRzOmhpLGFkZFJvdW5kZWRSZWN0UGF0aDpIZSxhbG1vc3RFcXVhbHM6VixhbG1vc3RXaG9sZTpILGNhbGxiYWNrOmQsY2xlYXJDYW52YXM6VGUsY2xpcEFyZWE6SWUsY2xvbmU6Zyxjb2xvcjpRdCxjcmVhdGVDb250ZXh0OkNpLGRlYm91bmNlOmR0LGRlZmluZWQ6ayxkaXN0YW5jZUJldHdlZW5Qb2ludHM6cSxkcmF3UG9pbnQ6TGUsZHJhd1BvaW50TGVnZW5kOkVlLGVhY2g6dSxlYXNpbmdFZmZlY3RzOmZpLGZpbml0ZU9yRGVmYXVsdDpyLGZvbnRTdHJpbmc6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlKyIgIit0KyJweCAiK2l9LGZvcm1hdE51bWJlcjpuZSxnZXRBbmdsZUZyb21Qb2ludDpYLGdldEhvdmVyQ29sb3I6dGUsZ2V0TWF4aW11bVNpemU6d2UsZ2V0UmVsYXRpdmVQb3NpdGlvbjp2ZSxnZXRSdGxBZGFwdGVyOk9pLGdldFN0eWxlOmJlLGlzQXJyYXk6bixpc0Zpbml0ZTphLGlzRnVuY3Rpb246Uyxpc051bGxPclVuZGVmOnMsaXNOdW1iZXI6Tixpc09iamVjdDpvLGlzUGF0dGVybk9yR3JhZGllbnQ6SnQsbGlzdGVuQXJyYXlFdmVudHM6YXQsbG9nMTA6eixtZXJnZTpiLG1lcmdlSWY6eCxuaWNlTnVtOkIsbm9vcDplLG92ZXJyaWRlVGV4dERpcmVjdGlvbjpBaSxyZWFkVXNlZFNpemU6UGUscmVuZGVyVGV4dDpOZSxyZXF1ZXN0QW5pbUZyYW1lOmh0LHJlc29sdmU6UGkscmVzb2x2ZU9iamVjdEtleTpNLHJlc3RvcmVUZXh0RGlyZWN0aW9uOlRpLHJldGluYVNjYWxlOmtlLHNldHNFcXVhbDpQLHNpZ246RixzcGxpbmVDdXJ2ZTphaSxzcGxpbmVDdXJ2ZU1vbm90b25lOnJpLHN1cHBvcnRzRXZlbnRMaXN0ZW5lck9wdGlvbnM6U2UsdGhyb3R0bGVkOmN0LHRvRGVncmVlczpZLHRvRGltZW5zaW9uOmMsdG9Gb250OlNpLHRvRm9udFN0cmluZzpEZSx0b0xpbmVIZWlnaHQ6X2ksdG9QYWRkaW5nOmtpLHRvUGVyY2VudGFnZTpoLHRvUmFkaWFuczokLHRvVFJCTDpNaSx0b1RSQkxDb3JuZXJzOndpLHVpZDppLHVuY2xpcEFyZWE6emUsdW5saXN0ZW5BcnJheUV2ZW50czpydCx2YWx1ZU9yRGVmYXVsdDpsfSk7ZnVuY3Rpb24gTmkodCxlLGkscyl7Y29uc3R7Y29udHJvbGxlcjpuLGRhdGE6byxfc29ydGVkOmF9PXQscj1uLl9jYWNoZWRNZXRhLmlTY2FsZTtpZihyJiZlPT09ci5heGlzJiYiciIhPT1lJiZhJiZvLmxlbmd0aCl7Y29uc3QgdD1yLl9yZXZlcnNlUGl4ZWxzP3N0Oml0O2lmKCFzKXJldHVybiB0KG8sZSxpKTtpZihuLl9zaGFyZWRPcHRpb25zKXtjb25zdCBzPW9bMF0sbj0iZnVuY3Rpb24iPT10eXBlb2Ygcy5nZXRSYW5nZSYmcy5nZXRSYW5nZShlKTtpZihuKXtjb25zdCBzPXQobyxlLGktbiksYT10KG8sZSxpK24pO3JldHVybntsbzpzLmxvLGhpOmEuaGl9fX19cmV0dXJue2xvOjAsaGk6by5sZW5ndGgtMX19ZnVuY3Rpb24gSGkodCxlLGkscyxuKXtjb25zdCBvPXQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLGE9aVtlXTtmb3IobGV0IHQ9MCxpPW8ubGVuZ3RoO3Q8aTsrK3Qpe2NvbnN0e2luZGV4OmksZGF0YTpyfT1vW3RdLHtsbzpsLGhpOmh9PU5pKG9bdF0sZSxhLG4pO2ZvcihsZXQgdD1sO3Q8PWg7Kyt0KXtjb25zdCBlPXJbdF07ZS5za2lwfHxzKGUsaSx0KX19fWZ1bmN0aW9uIGppKHQsZSxpLHMsbil7Y29uc3Qgbz1bXTtpZighbiYmIXQuaXNQb2ludEluQXJlYShlKSlyZXR1cm4gbztyZXR1cm4gSGkodCxpLGUsKGZ1bmN0aW9uKGksYSxyKXsobnx8UmUoaSx0LmNoYXJ0QXJlYSwwKSkmJmkuaW5SYW5nZShlLngsZS55LHMpJiZvLnB1c2goe2VsZW1lbnQ6aSxkYXRhc2V0SW5kZXg6YSxpbmRleDpyfSl9KSwhMCksb31mdW5jdGlvbiAkaSh0LGUsaSxzLG4sbyl7bGV0IGE9W107Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBlPS0xIT09dC5pbmRleE9mKCJ4IiksaT0tMSE9PXQuaW5kZXhPZigieSIpO3JldHVybiBmdW5jdGlvbih0LHMpe2NvbnN0IG49ZT9NYXRoLmFicyh0Lngtcy54KTowLG89aT9NYXRoLmFicyh0Lnktcy55KTowO3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cobiwyKStNYXRoLnBvdyhvLDIpKX19KGkpO2xldCBsPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtyZXR1cm4gSGkodCxpLGUsKGZ1bmN0aW9uKGksaCxjKXtjb25zdCBkPWkuaW5SYW5nZShlLngsZS55LG4pO2lmKHMmJiFkKXJldHVybjtjb25zdCB1PWkuZ2V0Q2VudGVyUG9pbnQobik7aWYoISghIW98fHQuaXNQb2ludEluQXJlYSh1KSkmJiFkKXJldHVybjtjb25zdCBmPXIoZSx1KTtmPGw/KGE9W3tlbGVtZW50OmksZGF0YXNldEluZGV4OmgsaW5kZXg6Y31dLGw9Zik6Zj09PWwmJmEucHVzaCh7ZWxlbWVudDppLGRhdGFzZXRJbmRleDpoLGluZGV4OmN9KX0pKSxhfWZ1bmN0aW9uIFlpKHQsZSxpLHMsbixvKXtyZXR1cm4gb3x8dC5pc1BvaW50SW5BcmVhKGUpPyJyIiE9PWl8fHM/JGkodCxlLGkscyxuLG8pOmZ1bmN0aW9uKHQsZSxpLHMpe2xldCBuPVtdO3JldHVybiBIaSh0LGksZSwoZnVuY3Rpb24odCxpLG8pe2NvbnN0e3N0YXJ0QW5nbGU6YSxlbmRBbmdsZTpyfT10LmdldFByb3BzKFsic3RhcnRBbmdsZSIsImVuZEFuZ2xlIl0scykse2FuZ2xlOmx9PVgodCx7eDplLngseTplLnl9KTtaKGwsYSxyKSYmbi5wdXNoKHtlbGVtZW50OnQsZGF0YXNldEluZGV4OmksaW5kZXg6b30pfSkpLG59KHQsZSxpLG4pOltdfWZ1bmN0aW9uIFVpKHQsZSxpLHMsbil7Y29uc3Qgbz1bXSxhPSJ4Ij09PWk/ImluWFJhbmdlIjoiaW5ZUmFuZ2UiO2xldCByPSExO3JldHVybiBIaSh0LGksZSwoKHQscyxsKT0+e3RbYV0oZVtpXSxuKSYmKG8ucHVzaCh7ZWxlbWVudDp0LGRhdGFzZXRJbmRleDpzLGluZGV4Omx9KSxyPXJ8fHQuaW5SYW5nZShlLngsZS55LG4pKX0pKSxzJiYhcj9bXTpvfXZhciBYaT17ZXZhbHVhdGVJbnRlcmFjdGlvbkl0ZW1zOkhpLG1vZGVzOntpbmRleCh0LGUsaSxzKXtjb25zdCBuPXZlKGUsdCksbz1pLmF4aXN8fCJ4IixhPWkuaW5jbHVkZUludmlzaWJsZXx8ITEscj1pLmludGVyc2VjdD9qaSh0LG4sbyxzLGEpOllpKHQsbixvLCExLHMsYSksbD1bXTtyZXR1cm4gci5sZW5ndGg/KHQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLmZvckVhY2goKHQ9Pntjb25zdCBlPXJbMF0uaW5kZXgsaT10LmRhdGFbZV07aSYmIWkuc2tpcCYmbC5wdXNoKHtlbGVtZW50OmksZGF0YXNldEluZGV4OnQuaW5kZXgsaW5kZXg6ZX0pfSkpLGwpOltdfSxkYXRhc2V0KHQsZSxpLHMpe2NvbnN0IG49dmUoZSx0KSxvPWkuYXhpc3x8Inh5IixhPWkuaW5jbHVkZUludmlzaWJsZXx8ITE7bGV0IHI9aS5pbnRlcnNlY3Q/amkodCxuLG8scyxhKTpZaSh0LG4sbywhMSxzLGEpO2lmKHIubGVuZ3RoPjApe2NvbnN0IGU9clswXS5kYXRhc2V0SW5kZXgsaT10LmdldERhdGFzZXRNZXRhKGUpLmRhdGE7cj1bXTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoOysrdClyLnB1c2goe2VsZW1lbnQ6aVt0XSxkYXRhc2V0SW5kZXg6ZSxpbmRleDp0fSl9cmV0dXJuIHJ9LHBvaW50Oih0LGUsaSxzKT0+amkodCx2ZShlLHQpLGkuYXhpc3x8Inh5IixzLGkuaW5jbHVkZUludmlzaWJsZXx8ITEpLG5lYXJlc3QodCxlLGkscyl7Y29uc3Qgbj12ZShlLHQpLG89aS5heGlzfHwieHkiLGE9aS5pbmNsdWRlSW52aXNpYmxlfHwhMTtyZXR1cm4gWWkodCxuLG8saS5pbnRlcnNlY3QscyxhKX0seDoodCxlLGkscyk9PlVpKHQsdmUoZSx0KSwieCIsaS5pbnRlcnNlY3QscykseToodCxlLGkscyk9PlVpKHQsdmUoZSx0KSwieSIsaS5pbnRlcnNlY3Qscyl9fTtjb25zdCBxaT1bImxlZnQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSJdO2Z1bmN0aW9uIEtpKHQsZSl7cmV0dXJuIHQuZmlsdGVyKCh0PT50LnBvcz09PWUpKX1mdW5jdGlvbiBHaSh0LGUpe3JldHVybiB0LmZpbHRlcigodD0+LTE9PT1xaS5pbmRleE9mKHQucG9zKSYmdC5ib3guYXhpcz09PWUpKX1mdW5jdGlvbiBaaSh0LGUpe3JldHVybiB0LnNvcnQoKCh0LGkpPT57Y29uc3Qgcz1lP2k6dCxuPWU/dDppO3JldHVybiBzLndlaWdodD09PW4ud2VpZ2h0P3MuaW5kZXgtbi5pbmRleDpzLndlaWdodC1uLndlaWdodH0pKX1mdW5jdGlvbiBKaSh0LGUpe2NvbnN0IGk9ZnVuY3Rpb24odCl7Y29uc3QgZT17fTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdHtzdGFjazp0LHBvczpzLHN0YWNrV2VpZ2h0Om59PWk7aWYoIXR8fCFxaS5pbmNsdWRlcyhzKSljb250aW51ZTtjb25zdCBvPWVbdF18fChlW3RdPXtjb3VudDowLHBsYWNlZDowLHdlaWdodDowLHNpemU6MH0pO28uY291bnQrKyxvLndlaWdodCs9bn1yZXR1cm4gZX0odCkse3ZCb3hNYXhXaWR0aDpzLGhCb3hNYXhIZWlnaHQ6bn09ZTtsZXQgbyxhLHI7Zm9yKG89MCxhPXQubGVuZ3RoO288YTsrK28pe3I9dFtvXTtjb25zdHtmdWxsU2l6ZTphfT1yLmJveCxsPWlbci5zdGFja10saD1sJiZyLnN0YWNrV2VpZ2h0L2wud2VpZ2h0O3IuaG9yaXpvbnRhbD8oci53aWR0aD1oP2gqczphJiZlLmF2YWlsYWJsZVdpZHRoLHIuaGVpZ2h0PW4pOihyLndpZHRoPXMsci5oZWlnaHQ9aD9oKm46YSYmZS5hdmFpbGFibGVIZWlnaHQpfXJldHVybiBpfWZ1bmN0aW9uIFFpKHQsZSxpLHMpe3JldHVybiBNYXRoLm1heCh0W2ldLGVbaV0pK01hdGgubWF4KHRbc10sZVtzXSl9ZnVuY3Rpb24gdHModCxlKXt0LnRvcD1NYXRoLm1heCh0LnRvcCxlLnRvcCksdC5sZWZ0PU1hdGgubWF4KHQubGVmdCxlLmxlZnQpLHQuYm90dG9tPU1hdGgubWF4KHQuYm90dG9tLGUuYm90dG9tKSx0LnJpZ2h0PU1hdGgubWF4KHQucmlnaHQsZS5yaWdodCl9ZnVuY3Rpb24gZXModCxlLGkscyl7Y29uc3R7cG9zOm4sYm94OmF9PWkscj10Lm1heFBhZGRpbmc7aWYoIW8obikpe2kuc2l6ZSYmKHRbbl0tPWkuc2l6ZSk7Y29uc3QgZT1zW2kuc3RhY2tdfHx7c2l6ZTowLGNvdW50OjF9O2Uuc2l6ZT1NYXRoLm1heChlLnNpemUsaS5ob3Jpem9udGFsP2EuaGVpZ2h0OmEud2lkdGgpLGkuc2l6ZT1lLnNpemUvZS5jb3VudCx0W25dKz1pLnNpemV9YS5nZXRQYWRkaW5nJiZ0cyhyLGEuZ2V0UGFkZGluZygpKTtjb25zdCBsPU1hdGgubWF4KDAsZS5vdXRlcldpZHRoLVFpKHIsdCwibGVmdCIsInJpZ2h0IikpLGg9TWF0aC5tYXgoMCxlLm91dGVySGVpZ2h0LVFpKHIsdCwidG9wIiwiYm90dG9tIikpLGM9bCE9PXQudyxkPWghPT10Lmg7cmV0dXJuIHQudz1sLHQuaD1oLGkuaG9yaXpvbnRhbD97c2FtZTpjLG90aGVyOmR9OntzYW1lOmQsb3RoZXI6Y319ZnVuY3Rpb24gaXModCxlKXtjb25zdCBpPWUubWF4UGFkZGluZztmdW5jdGlvbiBzKHQpe2NvbnN0IHM9e2xlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowfTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57c1t0XT1NYXRoLm1heChlW3RdLGlbdF0pfSkpLHN9cmV0dXJuIHModD9bImxlZnQiLCJyaWdodCJdOlsidG9wIiwiYm90dG9tIl0pfWZ1bmN0aW9uIHNzKHQsZSxpLHMpe2NvbnN0IG49W107bGV0IG8sYSxyLGwsaCxjO2ZvcihvPTAsYT10Lmxlbmd0aCxoPTA7bzxhOysrbyl7cj10W29dLGw9ci5ib3gsbC51cGRhdGUoci53aWR0aHx8ZS53LHIuaGVpZ2h0fHxlLmgsaXMoci5ob3Jpem9udGFsLGUpKTtjb25zdHtzYW1lOmEsb3RoZXI6ZH09ZXMoZSxpLHIscyk7aHw9YSYmbi5sZW5ndGgsYz1jfHxkLGwuZnVsbFNpemV8fG4ucHVzaChyKX1yZXR1cm4gaCYmc3MobixlLGkscyl8fGN9ZnVuY3Rpb24gbnModCxlLGkscyxuKXt0LnRvcD1pLHQubGVmdD1lLHQucmlnaHQ9ZStzLHQuYm90dG9tPWkrbix0LndpZHRoPXMsdC5oZWlnaHQ9bn1mdW5jdGlvbiBvcyh0LGUsaSxzKXtjb25zdCBuPWkucGFkZGluZztsZXR7eDpvLHk6YX09ZTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PXIuYm94LGw9c1tyLnN0YWNrXXx8e2NvdW50OjEscGxhY2VkOjAsd2VpZ2h0OjF9LGg9ci5zdGFja1dlaWdodC9sLndlaWdodHx8MTtpZihyLmhvcml6b250YWwpe2NvbnN0IHM9ZS53Kmgsbz1sLnNpemV8fHQuaGVpZ2h0O2sobC5zdGFydCkmJihhPWwuc3RhcnQpLHQuZnVsbFNpemU/bnModCxuLmxlZnQsYSxpLm91dGVyV2lkdGgtbi5yaWdodC1uLmxlZnQsbyk6bnModCxlLmxlZnQrbC5wbGFjZWQsYSxzLG8pLGwuc3RhcnQ9YSxsLnBsYWNlZCs9cyxhPXQuYm90dG9tfWVsc2V7Y29uc3Qgcz1lLmgqaCxhPWwuc2l6ZXx8dC53aWR0aDtrKGwuc3RhcnQpJiYobz1sLnN0YXJ0KSx0LmZ1bGxTaXplP25zKHQsbyxuLnRvcCxhLGkub3V0ZXJIZWlnaHQtbi5ib3R0b20tbi50b3ApOm5zKHQsbyxlLnRvcCtsLnBsYWNlZCxhLHMpLGwuc3RhcnQ9byxsLnBsYWNlZCs9cyxvPXQucmlnaHR9fWUueD1vLGUueT1hfXZhciBhcz17YWRkQm94KHQsZSl7dC5ib3hlc3x8KHQuYm94ZXM9W10pLGUuZnVsbFNpemU9ZS5mdWxsU2l6ZXx8ITEsZS5wb3NpdGlvbj1lLnBvc2l0aW9ufHwidG9wIixlLndlaWdodD1lLndlaWdodHx8MCxlLl9sYXllcnM9ZS5fbGF5ZXJzfHxmdW5jdGlvbigpe3JldHVyblt7ejowLGRyYXcodCl7ZS5kcmF3KHQpfX1dfSx0LmJveGVzLnB1c2goZSl9LHJlbW92ZUJveCh0LGUpe2NvbnN0IGk9dC5ib3hlcz90LmJveGVzLmluZGV4T2YoZSk6LTE7LTEhPT1pJiZ0LmJveGVzLnNwbGljZShpLDEpfSxjb25maWd1cmUodCxlLGkpe2UuZnVsbFNpemU9aS5mdWxsU2l6ZSxlLnBvc2l0aW9uPWkucG9zaXRpb24sZS53ZWlnaHQ9aS53ZWlnaHR9LHVwZGF0ZSh0LGUsaSxzKXtpZighdClyZXR1cm47Y29uc3Qgbj1raSh0Lm9wdGlvbnMubGF5b3V0LnBhZGRpbmcpLG89TWF0aC5tYXgoZS1uLndpZHRoLDApLGE9TWF0aC5tYXgoaS1uLmhlaWdodCwwKSxyPWZ1bmN0aW9uKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtsZXQgaSxzLG4sbyxhLHI7Zm9yKGk9MCxzPSh0fHxbXSkubGVuZ3RoO2k8czsrK2kpbj10W2ldLCh7cG9zaXRpb246byxvcHRpb25zOntzdGFjazphLHN0YWNrV2VpZ2h0OnI9MX19PW4pLGUucHVzaCh7aW5kZXg6aSxib3g6bixwb3M6byxob3Jpem9udGFsOm4uaXNIb3Jpem9udGFsKCksd2VpZ2h0Om4ud2VpZ2h0LHN0YWNrOmEmJm8rYSxzdGFja1dlaWdodDpyfSk7cmV0dXJuIGV9KHQpLGk9WmkoZS5maWx0ZXIoKHQ9PnQuYm94LmZ1bGxTaXplKSksITApLHM9WmkoS2koZSwibGVmdCIpLCEwKSxuPVppKEtpKGUsInJpZ2h0IikpLG89WmkoS2koZSwidG9wIiksITApLGE9WmkoS2koZSwiYm90dG9tIikpLHI9R2koZSwieCIpLGw9R2koZSwieSIpO3JldHVybntmdWxsU2l6ZTppLGxlZnRBbmRUb3A6cy5jb25jYXQobykscmlnaHRBbmRCb3R0b206bi5jb25jYXQobCkuY29uY2F0KGEpLmNvbmNhdChyKSxjaGFydEFyZWE6S2koZSwiY2hhcnRBcmVhIiksdmVydGljYWw6cy5jb25jYXQobikuY29uY2F0KGwpLGhvcml6b250YWw6by5jb25jYXQoYSkuY29uY2F0KHIpfX0odC5ib3hlcyksbD1yLnZlcnRpY2FsLGg9ci5ob3Jpem9udGFsO3UodC5ib3hlcywodD0+eyJmdW5jdGlvbiI9PXR5cGVvZiB0LmJlZm9yZUxheW91dCYmdC5iZWZvcmVMYXlvdXQoKX0pKTtjb25zdCBjPWwucmVkdWNlKCgodCxlKT0+ZS5ib3gub3B0aW9ucyYmITE9PT1lLmJveC5vcHRpb25zLmRpc3BsYXk/dDp0KzEpLDApfHwxLGQ9T2JqZWN0LmZyZWV6ZSh7b3V0ZXJXaWR0aDplLG91dGVySGVpZ2h0OmkscGFkZGluZzpuLGF2YWlsYWJsZVdpZHRoOm8sYXZhaWxhYmxlSGVpZ2h0OmEsdkJveE1heFdpZHRoOm8vMi9jLGhCb3hNYXhIZWlnaHQ6YS8yfSksZj1PYmplY3QuYXNzaWduKHt9LG4pO3RzKGYsa2kocykpO2NvbnN0IGc9T2JqZWN0LmFzc2lnbih7bWF4UGFkZGluZzpmLHc6byxoOmEseDpuLmxlZnQseTpuLnRvcH0sbikscD1KaShsLmNvbmNhdChoKSxkKTtzcyhyLmZ1bGxTaXplLGcsZCxwKSxzcyhsLGcsZCxwKSxzcyhoLGcsZCxwKSYmc3MobCxnLGQscCksZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1heFBhZGRpbmc7ZnVuY3Rpb24gaShpKXtjb25zdCBzPU1hdGgubWF4KGVbaV0tdFtpXSwwKTtyZXR1cm4gdFtpXSs9cyxzfXQueSs9aSgidG9wIiksdC54Kz1pKCJsZWZ0IiksaSgicmlnaHQiKSxpKCJib3R0b20iKX0oZyksb3Moci5sZWZ0QW5kVG9wLGcsZCxwKSxnLngrPWcudyxnLnkrPWcuaCxvcyhyLnJpZ2h0QW5kQm90dG9tLGcsZCxwKSx0LmNoYXJ0QXJlYT17bGVmdDpnLmxlZnQsdG9wOmcudG9wLHJpZ2h0OmcubGVmdCtnLncsYm90dG9tOmcudG9wK2cuaCxoZWlnaHQ6Zy5oLHdpZHRoOmcud30sdShyLmNoYXJ0QXJlYSwoZT0+e2NvbnN0IGk9ZS5ib3g7T2JqZWN0LmFzc2lnbihpLHQuY2hhcnRBcmVhKSxpLnVwZGF0ZShnLncsZy5oLHtsZWZ0OjAsdG9wOjAscmlnaHQ6MCxib3R0b206MH0pfSkpfX07Y2xhc3MgcnN7YWNxdWlyZUNvbnRleHQodCxlKXt9cmVsZWFzZUNvbnRleHQodCl7cmV0dXJuITF9YWRkRXZlbnRMaXN0ZW5lcih0LGUsaSl7fXJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLGkpe31nZXREZXZpY2VQaXhlbFJhdGlvKCl7cmV0dXJuIDF9Z2V0TWF4aW11bVNpemUodCxlLGkscyl7cmV0dXJuIGU9TWF0aC5tYXgoMCxlfHx0LndpZHRoKSxpPWl8fHQuaGVpZ2h0LHt3aWR0aDplLGhlaWdodDpNYXRoLm1heCgwLHM/TWF0aC5mbG9vcihlL3MpOmkpfX1pc0F0dGFjaGVkKHQpe3JldHVybiEwfXVwZGF0ZUNvbmZpZyh0KXt9fWNsYXNzIGxzIGV4dGVuZHMgcnN7YWNxdWlyZUNvbnRleHQodCl7cmV0dXJuIHQmJnQuZ2V0Q29udGV4dCYmdC5nZXRDb250ZXh0KCIyZCIpfHxudWxsfXVwZGF0ZUNvbmZpZyh0KXt0Lm9wdGlvbnMuYW5pbWF0aW9uPSExfX1jb25zdCBocz0iJGNoYXJ0anMiLGNzPXt0b3VjaHN0YXJ0OiJtb3VzZWRvd24iLHRvdWNobW92ZToibW91c2Vtb3ZlIix0b3VjaGVuZDoibW91c2V1cCIscG9pbnRlcmVudGVyOiJtb3VzZWVudGVyIixwb2ludGVyZG93bjoibW91c2Vkb3duIixwb2ludGVybW92ZToibW91c2Vtb3ZlIixwb2ludGVydXA6Im1vdXNldXAiLHBvaW50ZXJsZWF2ZToibW91c2VvdXQiLHBvaW50ZXJvdXQ6Im1vdXNlb3V0In0sZHM9dD0+bnVsbD09PXR8fCIiPT09dDtjb25zdCB1cz0hIVNlJiZ7cGFzc2l2ZTohMH07ZnVuY3Rpb24gZnModCxlLGkpe3QuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLHVzKX1mdW5jdGlvbiBncyh0LGUpe2Zvcihjb25zdCBpIG9mIHQpaWYoaT09PWV8fGkuY29udGFpbnMoZSkpcmV0dXJuITB9ZnVuY3Rpb24gcHModCxlLGkpe2NvbnN0IHM9dC5jYW52YXMsbj1uZXcgTXV0YXRpb25PYnNlcnZlcigodD0+e2xldCBlPSExO2Zvcihjb25zdCBpIG9mIHQpZT1lfHxncyhpLmFkZGVkTm9kZXMscyksZT1lJiYhZ3MoaS5yZW1vdmVkTm9kZXMscyk7ZSYmaSgpfSkpO3JldHVybiBuLm9ic2VydmUoZG9jdW1lbnQse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSksbn1mdW5jdGlvbiBtcyh0LGUsaSl7Y29uc3Qgcz10LmNhbnZhcyxuPW5ldyBNdXRhdGlvbk9ic2VydmVyKCh0PT57bGV0IGU9ITE7Zm9yKGNvbnN0IGkgb2YgdCllPWV8fGdzKGkucmVtb3ZlZE5vZGVzLHMpLGU9ZSYmIWdzKGkuYWRkZWROb2RlcyxzKTtlJiZpKCl9KSk7cmV0dXJuIG4ub2JzZXJ2ZShkb2N1bWVudCx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxufWNvbnN0IGJzPW5ldyBNYXA7bGV0IHhzPTA7ZnVuY3Rpb24gX3MoKXtjb25zdCB0PXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO3QhPT14cyYmKHhzPXQsYnMuZm9yRWFjaCgoKGUsaSk9PntpLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvIT09dCYmZSgpfSkpKX1mdW5jdGlvbiB5cyh0LGUsaSl7Y29uc3Qgcz10LmNhbnZhcyxuPXMmJmdlKHMpO2lmKCFuKXJldHVybjtjb25zdCBvPWN0KCgodCxlKT0+e2NvbnN0IHM9bi5jbGllbnRXaWR0aDtpKHQsZSksczxuLmNsaWVudFdpZHRoJiZpKCl9KSx3aW5kb3cpLGE9bmV3IFJlc2l6ZU9ic2VydmVyKCh0PT57Y29uc3QgZT10WzBdLGk9ZS5jb250ZW50UmVjdC53aWR0aCxzPWUuY29udGVudFJlY3QuaGVpZ2h0OzA9PT1pJiYwPT09c3x8byhpLHMpfSkpO3JldHVybiBhLm9ic2VydmUobiksZnVuY3Rpb24odCxlKXticy5zaXplfHx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixfcyksYnMuc2V0KHQsZSl9KHQsbyksYX1mdW5jdGlvbiB2cyh0LGUsaSl7aSYmaS5kaXNjb25uZWN0KCksInJlc2l6ZSI9PT1lJiZmdW5jdGlvbih0KXticy5kZWxldGUodCksYnMuc2l6ZXx8d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsX3MpfSh0KX1mdW5jdGlvbiBNcyh0LGUsaSl7Y29uc3Qgcz10LmNhbnZhcyxuPWN0KChlPT57bnVsbCE9PXQuY3R4JiZpKGZ1bmN0aW9uKHQsZSl7Y29uc3QgaT1jc1t0LnR5cGVdfHx0LnR5cGUse3g6cyx5Om59PXZlKHQsZSk7cmV0dXJue3R5cGU6aSxjaGFydDplLG5hdGl2ZTp0LHg6dm9pZCAwIT09cz9zOm51bGwseTp2b2lkIDAhPT1uP246bnVsbH19KGUsdCkpfSksdCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxpLHVzKX0ocyxlLG4pLG59Y2xhc3Mgd3MgZXh0ZW5kcyByc3thY3F1aXJlQ29udGV4dCh0LGUpe2NvbnN0IGk9dCYmdC5nZXRDb250ZXh0JiZ0LmdldENvbnRleHQoIjJkIik7cmV0dXJuIGkmJmkuY2FudmFzPT09dD8oZnVuY3Rpb24odCxlKXtjb25zdCBpPXQuc3R5bGUscz10LmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iiksbj10LmdldEF0dHJpYnV0ZSgid2lkdGgiKTtpZih0W2hzXT17aW5pdGlhbDp7aGVpZ2h0OnMsd2lkdGg6bixzdHlsZTp7ZGlzcGxheTppLmRpc3BsYXksaGVpZ2h0OmkuaGVpZ2h0LHdpZHRoOmkud2lkdGh9fX0saS5kaXNwbGF5PWkuZGlzcGxheXx8ImJsb2NrIixpLmJveFNpemluZz1pLmJveFNpemluZ3x8ImJvcmRlci1ib3giLGRzKG4pKXtjb25zdCBlPVBlKHQsIndpZHRoIik7dm9pZCAwIT09ZSYmKHQud2lkdGg9ZSl9aWYoZHMocykpaWYoIiI9PT10LnN0eWxlLmhlaWdodCl0LmhlaWdodD10LndpZHRoLyhlfHwyKTtlbHNle2NvbnN0IGU9UGUodCwiaGVpZ2h0Iik7dm9pZCAwIT09ZSYmKHQuaGVpZ2h0PWUpfX0odCxlKSxpKTpudWxsfXJlbGVhc2VDb250ZXh0KHQpe2NvbnN0IGU9dC5jYW52YXM7aWYoIWVbaHNdKXJldHVybiExO2NvbnN0IGk9ZVtoc10uaW5pdGlhbDtbImhlaWdodCIsIndpZHRoIl0uZm9yRWFjaCgodD0+e2NvbnN0IG49aVt0XTtzKG4pP2UucmVtb3ZlQXR0cmlidXRlKHQpOmUuc2V0QXR0cmlidXRlKHQsbil9KSk7Y29uc3Qgbj1pLnN0eWxlfHx7fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaCgodD0+e2Uuc3R5bGVbdF09blt0XX0pKSxlLndpZHRoPWUud2lkdGgsZGVsZXRlIGVbaHNdLCEwfWFkZEV2ZW50TGlzdGVuZXIodCxlLGkpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpO2NvbnN0IHM9dC4kcHJveGllc3x8KHQuJHByb3hpZXM9e30pLG49e2F0dGFjaDpwcyxkZXRhY2g6bXMscmVzaXplOnlzfVtlXXx8TXM7c1tlXT1uKHQsZSxpKX1yZW1vdmVFdmVudExpc3RlbmVyKHQsZSl7Y29uc3QgaT10LiRwcm94aWVzfHwodC4kcHJveGllcz17fSkscz1pW2VdO2lmKCFzKXJldHVybjsoe2F0dGFjaDp2cyxkZXRhY2g6dnMscmVzaXplOnZzfVtlXXx8ZnMpKHQsZSxzKSxpW2VdPXZvaWQgMH1nZXREZXZpY2VQaXhlbFJhdGlvKCl7cmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfWdldE1heGltdW1TaXplKHQsZSxpLHMpe3JldHVybiB3ZSh0LGUsaSxzKX1pc0F0dGFjaGVkKHQpe2NvbnN0IGU9Z2UodCk7cmV0dXJuISghZXx8IWUuaXNDb25uZWN0ZWQpfX1mdW5jdGlvbiBrcyh0KXtyZXR1cm4hZmUoKXx8InVuZGVmaW5lZCIhPXR5cGVvZiBPZmZzY3JlZW5DYW52YXMmJnQgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXM/bHM6d3N9dmFyIFNzPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLEJhc2VQbGF0Zm9ybTpycyxCYXNpY1BsYXRmb3JtOmxzLERvbVBsYXRmb3JtOndzLF9kZXRlY3RQbGF0Zm9ybTprc30pO2NvbnN0IFBzPSJ0cmFuc3BhcmVudCIsRHM9e2Jvb2xlYW46KHQsZSxpKT0+aT4uNT9lOnQsY29sb3IodCxlLGkpe2NvbnN0IHM9UXQodHx8UHMpLG49cy52YWxpZCYmUXQoZXx8UHMpO3JldHVybiBuJiZuLnZhbGlkP24ubWl4KHMsaSkuaGV4U3RyaW5nKCk6ZX0sbnVtYmVyOih0LGUsaSk9PnQrKGUtdCkqaX07Y2xhc3MgQ3N7Y29uc3RydWN0b3IodCxlLGkscyl7Y29uc3Qgbj1lW2ldO3M9UGkoW3QudG8scyxuLHQuZnJvbV0pO2NvbnN0IG89UGkoW3QuZnJvbSxuLHNdKTt0aGlzLl9hY3RpdmU9ITAsdGhpcy5fZm49dC5mbnx8RHNbdC50eXBlfHx0eXBlb2Ygb10sdGhpcy5fZWFzaW5nPWZpW3QuZWFzaW5nXXx8ZmkubGluZWFyLHRoaXMuX3N0YXJ0PU1hdGguZmxvb3IoRGF0ZS5ub3coKSsodC5kZWxheXx8MCkpLHRoaXMuX2R1cmF0aW9uPXRoaXMuX3RvdGFsPU1hdGguZmxvb3IodC5kdXJhdGlvbiksdGhpcy5fbG9vcD0hIXQubG9vcCx0aGlzLl90YXJnZXQ9ZSx0aGlzLl9wcm9wPWksdGhpcy5fZnJvbT1vLHRoaXMuX3RvPXMsdGhpcy5fcHJvbWlzZXM9dm9pZCAwfWFjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9dXBkYXRlKHQsZSxpKXtpZih0aGlzLl9hY3RpdmUpe3RoaXMuX25vdGlmeSghMSk7Y29uc3Qgcz10aGlzLl90YXJnZXRbdGhpcy5fcHJvcF0sbj1pLXRoaXMuX3N0YXJ0LG89dGhpcy5fZHVyYXRpb24tbjt0aGlzLl9zdGFydD1pLHRoaXMuX2R1cmF0aW9uPU1hdGguZmxvb3IoTWF0aC5tYXgobyx0LmR1cmF0aW9uKSksdGhpcy5fdG90YWwrPW4sdGhpcy5fbG9vcD0hIXQubG9vcCx0aGlzLl90bz1QaShbdC50byxlLHMsdC5mcm9tXSksdGhpcy5fZnJvbT1QaShbdC5mcm9tLHMsZV0pfX1jYW5jZWwoKXt0aGlzLl9hY3RpdmUmJih0aGlzLnRpY2soRGF0ZS5ub3coKSksdGhpcy5fYWN0aXZlPSExLHRoaXMuX25vdGlmeSghMSkpfXRpY2sodCl7Y29uc3QgZT10LXRoaXMuX3N0YXJ0LGk9dGhpcy5fZHVyYXRpb24scz10aGlzLl9wcm9wLG49dGhpcy5fZnJvbSxvPXRoaXMuX2xvb3AsYT10aGlzLl90bztsZXQgcjtpZih0aGlzLl9hY3RpdmU9biE9PWEmJihvfHxlPGkpLCF0aGlzLl9hY3RpdmUpcmV0dXJuIHRoaXMuX3RhcmdldFtzXT1hLHZvaWQgdGhpcy5fbm90aWZ5KCEwKTtlPDA/dGhpcy5fdGFyZ2V0W3NdPW46KHI9ZS9pJTIscj1vJiZyPjE/Mi1yOnIscj10aGlzLl9lYXNpbmcoTWF0aC5taW4oMSxNYXRoLm1heCgwLHIpKSksdGhpcy5fdGFyZ2V0W3NdPXRoaXMuX2ZuKG4sYSxyKSl9d2FpdCgpe2NvbnN0IHQ9dGhpcy5fcHJvbWlzZXN8fCh0aGlzLl9wcm9taXNlcz1bXSk7cmV0dXJuIG5ldyBQcm9taXNlKCgoZSxpKT0+e3QucHVzaCh7cmVzOmUscmVqOml9KX0pKX1fbm90aWZ5KHQpe2NvbnN0IGU9dD8icmVzIjoicmVqIixpPXRoaXMuX3Byb21pc2VzfHxbXTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylpW3RdW2VdKCl9fWNsYXNzIE9ze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fY2hhcnQ9dCx0aGlzLl9wcm9wZXJ0aWVzPW5ldyBNYXAsdGhpcy5jb25maWd1cmUoZSl9Y29uZmlndXJlKHQpe2lmKCFvKHQpKXJldHVybjtjb25zdCBlPU9iamVjdC5rZXlzKHVlLmFuaW1hdGlvbiksaT10aGlzLl9wcm9wZXJ0aWVzO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZvckVhY2goKHM9Pntjb25zdCBhPXRbc107aWYoIW8oYSkpcmV0dXJuO2NvbnN0IHI9e307Zm9yKGNvbnN0IHQgb2YgZSlyW3RdPWFbdF07KG4oYS5wcm9wZXJ0aWVzKSYmYS5wcm9wZXJ0aWVzfHxbc10pLmZvckVhY2goKHQ9Pnt0IT09cyYmaS5oYXModCl8fGkuc2V0KHQscil9KSl9KSl9X2FuaW1hdGVPcHRpb25zKHQsZSl7Y29uc3QgaT1lLm9wdGlvbnMscz1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybjtsZXQgaT10Lm9wdGlvbnM7aWYoIWkpcmV0dXJuIHZvaWQodC5vcHRpb25zPWUpO2kuJHNoYXJlZCYmKHQub3B0aW9ucz1pPU9iamVjdC5hc3NpZ24oe30saSx7JHNoYXJlZDohMSwkYW5pbWF0aW9uczp7fX0pKTtyZXR1cm4gaX0odCxpKTtpZighcylyZXR1cm5bXTtjb25zdCBuPXRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMocyxpKTtyZXR1cm4gaS4kc2hhcmVkJiZmdW5jdGlvbih0LGUpe2NvbnN0IGk9W10scz1PYmplY3Qua2V5cyhlKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W3NbZV1dO24mJm4uYWN0aXZlKCkmJmkucHVzaChuLndhaXQoKSl9cmV0dXJuIFByb21pc2UuYWxsKGkpfSh0Lm9wdGlvbnMuJGFuaW1hdGlvbnMsaSkudGhlbigoKCk9Pnt0Lm9wdGlvbnM9aX0pLCgoKT0+e30pKSxufV9jcmVhdGVBbmltYXRpb25zKHQsZSl7Y29uc3QgaT10aGlzLl9wcm9wZXJ0aWVzLHM9W10sbj10LiRhbmltYXRpb25zfHwodC4kYW5pbWF0aW9ucz17fSksbz1PYmplY3Qua2V5cyhlKSxhPURhdGUubm93KCk7bGV0IHI7Zm9yKHI9by5sZW5ndGgtMTtyPj0wOy0tcil7Y29uc3QgbD1vW3JdO2lmKCIkIj09PWwuY2hhckF0KDApKWNvbnRpbnVlO2lmKCJvcHRpb25zIj09PWwpe3MucHVzaCguLi50aGlzLl9hbmltYXRlT3B0aW9ucyh0LGUpKTtjb250aW51ZX1jb25zdCBoPWVbbF07bGV0IGM9bltsXTtjb25zdCBkPWkuZ2V0KGwpO2lmKGMpe2lmKGQmJmMuYWN0aXZlKCkpe2MudXBkYXRlKGQsaCxhKTtjb250aW51ZX1jLmNhbmNlbCgpfWQmJmQuZHVyYXRpb24/KG5bbF09Yz1uZXcgQ3MoZCx0LGwsaCkscy5wdXNoKGMpKTp0W2xdPWh9cmV0dXJuIHN9dXBkYXRlKHQsZSl7aWYoMD09PXRoaXMuX3Byb3BlcnRpZXMuc2l6ZSlyZXR1cm4gdm9pZCBPYmplY3QuYXNzaWduKHQsZSk7Y29uc3QgaT10aGlzLl9jcmVhdGVBbmltYXRpb25zKHQsZSk7cmV0dXJuIGkubGVuZ3RoPyh4dC5hZGQodGhpcy5fY2hhcnQsaSksITApOnZvaWQgMH19ZnVuY3Rpb24gQXModCxlKXtjb25zdCBpPXQmJnQub3B0aW9uc3x8e30scz1pLnJldmVyc2Usbj12b2lkIDA9PT1pLm1pbj9lOjAsbz12b2lkIDA9PT1pLm1heD9lOjA7cmV0dXJue3N0YXJ0OnM/bzpuLGVuZDpzP246b319ZnVuY3Rpb24gVHModCxlKXtjb25zdCBpPVtdLHM9dC5fZ2V0U29ydGVkRGF0YXNldE1ldGFzKGUpO2xldCBuLG87Zm9yKG49MCxvPXMubGVuZ3RoO248bzsrK24paS5wdXNoKHNbbl0uaW5kZXgpO3JldHVybiBpfWZ1bmN0aW9uIExzKHQsZSxpLHM9e30pe2NvbnN0IG49dC5rZXlzLG89InNpbmdsZSI9PT1zLm1vZGU7bGV0IHIsbCxoLGM7aWYobnVsbCE9PWUpe2ZvcihyPTAsbD1uLmxlbmd0aDtyPGw7KytyKXtpZihoPStuW3JdLGg9PT1pKXtpZihzLmFsbCljb250aW51ZTticmVha31jPXQudmFsdWVzW2hdLGEoYykmJihvfHwwPT09ZXx8RihlKT09PUYoYykpJiYoZSs9Yyl9cmV0dXJuIGV9fWZ1bmN0aW9uIEVzKHQsZSl7Y29uc3QgaT10JiZ0Lm9wdGlvbnMuc3RhY2tlZDtyZXR1cm4gaXx8dm9pZCAwPT09aSYmdm9pZCAwIT09ZS5zdGFja31mdW5jdGlvbiBScyh0LGUsaSl7Y29uc3Qgcz10W2VdfHwodFtlXT17fSk7cmV0dXJuIHNbaV18fChzW2ldPXt9KX1mdW5jdGlvbiBJcyh0LGUsaSxzKXtmb3IoY29uc3QgbiBvZiBlLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKHMpLnJldmVyc2UoKSl7Y29uc3QgZT10W24uaW5kZXhdO2lmKGkmJmU+MHx8IWkmJmU8MClyZXR1cm4gbi5pbmRleH1yZXR1cm4gbnVsbH1mdW5jdGlvbiB6cyh0LGUpe2NvbnN0e2NoYXJ0OmksX2NhY2hlZE1ldGE6c309dCxuPWkuX3N0YWNrc3x8KGkuX3N0YWNrcz17fSkse2lTY2FsZTpvLHZTY2FsZTphLGluZGV4OnJ9PXMsbD1vLmF4aXMsaD1hLmF4aXMsYz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuYCR7dC5pZH0uJHtlLmlkfS4ke2kuc3RhY2t8fGkudHlwZX1gfShvLGEscyksZD1lLmxlbmd0aDtsZXQgdTtmb3IobGV0IHQ9MDt0PGQ7Kyt0KXtjb25zdCBpPWVbdF0se1tsXTpvLFtoXTpkfT1pO3U9KGkuX3N0YWNrc3x8KGkuX3N0YWNrcz17fSkpW2hdPVJzKG4sYyxvKSx1W3JdPWQsdS5fdG9wPUlzKHUsYSwhMCxzLnR5cGUpLHUuX2JvdHRvbT1Jcyh1LGEsITEscy50eXBlKTsodS5fdmlzdWFsVmFsdWVzfHwodS5fdmlzdWFsVmFsdWVzPXt9KSlbcl09ZH19ZnVuY3Rpb24gRnModCxlKXtjb25zdCBpPXQuc2NhbGVzO3JldHVybiBPYmplY3Qua2V5cyhpKS5maWx0ZXIoKHQ9PmlbdF0uYXhpcz09PWUpKS5zaGlmdCgpfWZ1bmN0aW9uIFZzKHQsZSl7Y29uc3QgaT10LmNvbnRyb2xsZXIuaW5kZXgscz10LnZTY2FsZSYmdC52U2NhbGUuYXhpcztpZihzKXtlPWV8fHQuX3BhcnNlZDtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQuX3N0YWNrcztpZighZXx8dm9pZCAwPT09ZVtzXXx8dm9pZCAwPT09ZVtzXVtpXSlyZXR1cm47ZGVsZXRlIGVbc11baV0sdm9pZCAwIT09ZVtzXS5fdmlzdWFsVmFsdWVzJiZ2b2lkIDAhPT1lW3NdLl92aXN1YWxWYWx1ZXNbaV0mJmRlbGV0ZSBlW3NdLl92aXN1YWxWYWx1ZXNbaV19fX1jb25zdCBCcz10PT4icmVzZXQiPT09dHx8Im5vbmUiPT09dCxXcz0odCxlKT0+ZT90Ok9iamVjdC5hc3NpZ24oe30sdCk7Y2xhc3MgTnN7c3RhdGljIGRlZmF1bHRzPXt9O3N0YXRpYyBkYXRhc2V0RWxlbWVudFR5cGU9bnVsbDtzdGF0aWMgZGF0YUVsZW1lbnRUeXBlPW51bGw7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNoYXJ0PXQsdGhpcy5fY3R4PXQuY3R4LHRoaXMuaW5kZXg9ZSx0aGlzLl9jYWNoZWREYXRhT3B0cz17fSx0aGlzLl9jYWNoZWRNZXRhPXRoaXMuZ2V0TWV0YSgpLHRoaXMuX3R5cGU9dGhpcy5fY2FjaGVkTWV0YS50eXBlLHRoaXMub3B0aW9ucz12b2lkIDAsdGhpcy5fcGFyc2luZz0hMSx0aGlzLl9kYXRhPXZvaWQgMCx0aGlzLl9vYmplY3REYXRhPXZvaWQgMCx0aGlzLl9zaGFyZWRPcHRpb25zPXZvaWQgMCx0aGlzLl9kcmF3U3RhcnQ9dm9pZCAwLHRoaXMuX2RyYXdDb3VudD12b2lkIDAsdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nPSExLHRoaXMuc3VwcG9ydHNEZWNpbWF0aW9uPSExLHRoaXMuJGNvbnRleHQ9dm9pZCAwLHRoaXMuX3N5bmNMaXN0PVtdLHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlPW5ldy50YXJnZXQuZGF0YXNldEVsZW1lbnRUeXBlLHRoaXMuZGF0YUVsZW1lbnRUeXBlPW5ldy50YXJnZXQuZGF0YUVsZW1lbnRUeXBlLHRoaXMuaW5pdGlhbGl6ZSgpfWluaXRpYWxpemUoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGE7dGhpcy5jb25maWd1cmUoKSx0aGlzLmxpbmtTY2FsZXMoKSx0Ll9zdGFja2VkPUVzKHQudlNjYWxlLHQpLHRoaXMuYWRkRWxlbWVudHMoKSx0aGlzLm9wdGlvbnMuZmlsbCYmIXRoaXMuY2hhcnQuaXNQbHVnaW5FbmFibGVkKCJmaWxsZXIiKSYmY29uc29sZS53YXJuKCJUcmllZCB0byB1c2UgdGhlICdmaWxsJyBvcHRpb24gd2l0aG91dCB0aGUgJ0ZpbGxlcicgcGx1Z2luIGVuYWJsZWQuIFBsZWFzZSBpbXBvcnQgYW5kIHJlZ2lzdGVyIHRoZSAnRmlsbGVyJyBwbHVnaW4gYW5kIG1ha2Ugc3VyZSBpdCBpcyBub3QgZGlzYWJsZWQgaW4gdGhlIG9wdGlvbnMiKX11cGRhdGVJbmRleCh0KXt0aGlzLmluZGV4IT09dCYmVnModGhpcy5fY2FjaGVkTWV0YSksdGhpcy5pbmRleD10fWxpbmtTY2FsZXMoKXtjb25zdCB0PXRoaXMuY2hhcnQsZT10aGlzLl9jYWNoZWRNZXRhLGk9dGhpcy5nZXREYXRhc2V0KCkscz0odCxlLGkscyk9PiJ4Ij09PXQ/ZToiciI9PT10P3M6aSxuPWUueEF4aXNJRD1sKGkueEF4aXNJRCxGcyh0LCJ4IikpLG89ZS55QXhpc0lEPWwoaS55QXhpc0lELEZzKHQsInkiKSksYT1lLnJBeGlzSUQ9bChpLnJBeGlzSUQsRnModCwiciIpKSxyPWUuaW5kZXhBeGlzLGg9ZS5pQXhpc0lEPXMocixuLG8sYSksYz1lLnZBeGlzSUQ9cyhyLG8sbixhKTtlLnhTY2FsZT10aGlzLmdldFNjYWxlRm9ySWQobiksZS55U2NhbGU9dGhpcy5nZXRTY2FsZUZvcklkKG8pLGUuclNjYWxlPXRoaXMuZ2V0U2NhbGVGb3JJZChhKSxlLmlTY2FsZT10aGlzLmdldFNjYWxlRm9ySWQoaCksZS52U2NhbGU9dGhpcy5nZXRTY2FsZUZvcklkKGMpfWdldERhdGFzZXQoKXtyZXR1cm4gdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3RoaXMuaW5kZXhdfWdldE1ldGEoKXtyZXR1cm4gdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YSh0aGlzLmluZGV4KX1nZXRTY2FsZUZvcklkKHQpe3JldHVybiB0aGlzLmNoYXJ0LnNjYWxlc1t0XX1fZ2V0T3RoZXJTY2FsZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGE7cmV0dXJuIHQ9PT1lLmlTY2FsZT9lLnZTY2FsZTplLmlTY2FsZX1yZXNldCgpe3RoaXMuX3VwZGF0ZSgicmVzZXQiKX1fZGVzdHJveSgpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YTt0aGlzLl9kYXRhJiZydCh0aGlzLl9kYXRhLHRoaXMpLHQuX3N0YWNrZWQmJlZzKHQpfV9kYXRhQ2hlY2soKXtjb25zdCB0PXRoaXMuZ2V0RGF0YXNldCgpLGU9dC5kYXRhfHwodC5kYXRhPVtdKSxpPXRoaXMuX2RhdGE7aWYobyhlKSl0aGlzLl9kYXRhPWZ1bmN0aW9uKHQpe2NvbnN0IGU9T2JqZWN0LmtleXModCksaT1uZXcgQXJyYXkoZS5sZW5ndGgpO2xldCBzLG4sbztmb3Iocz0wLG49ZS5sZW5ndGg7czxuOysrcylvPWVbc10saVtzXT17eDpvLHk6dFtvXX07cmV0dXJuIGl9KGUpO2Vsc2UgaWYoaSE9PWUpe2lmKGkpe3J0KGksdGhpcyk7Y29uc3QgdD10aGlzLl9jYWNoZWRNZXRhO1ZzKHQpLHQuX3BhcnNlZD1bXX1lJiZPYmplY3QuaXNFeHRlbnNpYmxlKGUpJiZhdChlLHRoaXMpLHRoaXMuX3N5bmNMaXN0PVtdLHRoaXMuX2RhdGE9ZX19YWRkRWxlbWVudHMoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGE7dGhpcy5fZGF0YUNoZWNrKCksdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUmJih0LmRhdGFzZXQ9bmV3IHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlKX1idWlsZE9yVXBkYXRlRWxlbWVudHModCl7Y29uc3QgZT10aGlzLl9jYWNoZWRNZXRhLGk9dGhpcy5nZXREYXRhc2V0KCk7bGV0IHM9ITE7dGhpcy5fZGF0YUNoZWNrKCk7Y29uc3Qgbj1lLl9zdGFja2VkO2UuX3N0YWNrZWQ9RXMoZS52U2NhbGUsZSksZS5zdGFjayE9PWkuc3RhY2smJihzPSEwLFZzKGUpLGUuc3RhY2s9aS5zdGFjayksdGhpcy5fcmVzeW5jRWxlbWVudHModCksKHN8fG4hPT1lLl9zdGFja2VkKSYmenModGhpcyxlLl9wYXJzZWQpfWNvbmZpZ3VyZSgpe2NvbnN0IHQ9dGhpcy5jaGFydC5jb25maWcsZT10LmRhdGFzZXRTY29wZUtleXModGhpcy5fdHlwZSksaT10LmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSxlLCEwKTt0aGlzLm9wdGlvbnM9dC5jcmVhdGVSZXNvbHZlcihpLHRoaXMuZ2V0Q29udGV4dCgpKSx0aGlzLl9wYXJzaW5nPXRoaXMub3B0aW9ucy5wYXJzaW5nLHRoaXMuX2NhY2hlZERhdGFPcHRzPXt9fXBhcnNlKHQsZSl7Y29uc3R7X2NhY2hlZE1ldGE6aSxfZGF0YTpzfT10aGlzLHtpU2NhbGU6YSxfc3RhY2tlZDpyfT1pLGw9YS5heGlzO2xldCBoLGMsZCx1PTA9PT10JiZlPT09cy5sZW5ndGh8fGkuX3NvcnRlZCxmPXQ+MCYmaS5fcGFyc2VkW3QtMV07aWYoITE9PT10aGlzLl9wYXJzaW5nKWkuX3BhcnNlZD1zLGkuX3NvcnRlZD0hMCxkPXM7ZWxzZXtkPW4oc1t0XSk/dGhpcy5wYXJzZUFycmF5RGF0YShpLHMsdCxlKTpvKHNbdF0pP3RoaXMucGFyc2VPYmplY3REYXRhKGkscyx0LGUpOnRoaXMucGFyc2VQcmltaXRpdmVEYXRhKGkscyx0LGUpO2NvbnN0IGE9KCk9Pm51bGw9PT1jW2xdfHxmJiZjW2xdPGZbbF07Zm9yKGg9MDtoPGU7KytoKWkuX3BhcnNlZFtoK3RdPWM9ZFtoXSx1JiYoYSgpJiYodT0hMSksZj1jKTtpLl9zb3J0ZWQ9dX1yJiZ6cyh0aGlzLGQpfXBhcnNlUHJpbWl0aXZlRGF0YSh0LGUsaSxzKXtjb25zdHtpU2NhbGU6bix2U2NhbGU6b309dCxhPW4uYXhpcyxyPW8uYXhpcyxsPW4uZ2V0TGFiZWxzKCksaD1uPT09byxjPW5ldyBBcnJheShzKTtsZXQgZCx1LGY7Zm9yKGQ9MCx1PXM7ZDx1OysrZClmPWQraSxjW2RdPXtbYV06aHx8bi5wYXJzZShsW2ZdLGYpLFtyXTpvLnBhcnNlKGVbZl0sZil9O3JldHVybiBjfXBhcnNlQXJyYXlEYXRhKHQsZSxpLHMpe2NvbnN0e3hTY2FsZTpuLHlTY2FsZTpvfT10LGE9bmV3IEFycmF5KHMpO2xldCByLGwsaCxjO2ZvcihyPTAsbD1zO3I8bDsrK3IpaD1yK2ksYz1lW2hdLGFbcl09e3g6bi5wYXJzZShjWzBdLGgpLHk6by5wYXJzZShjWzFdLGgpfTtyZXR1cm4gYX1wYXJzZU9iamVjdERhdGEodCxlLGkscyl7Y29uc3R7eFNjYWxlOm4seVNjYWxlOm99PXQse3hBeGlzS2V5OmE9IngiLHlBeGlzS2V5OnI9InkifT10aGlzLl9wYXJzaW5nLGw9bmV3IEFycmF5KHMpO2xldCBoLGMsZCx1O2ZvcihoPTAsYz1zO2g8YzsrK2gpZD1oK2ksdT1lW2RdLGxbaF09e3g6bi5wYXJzZShNKHUsYSksZCkseTpvLnBhcnNlKE0odSxyKSxkKX07cmV0dXJuIGx9Z2V0UGFyc2VkKHQpe3JldHVybiB0aGlzLl9jYWNoZWRNZXRhLl9wYXJzZWRbdF19Z2V0RGF0YUVsZW1lbnQodCl7cmV0dXJuIHRoaXMuX2NhY2hlZE1ldGEuZGF0YVt0XX1hcHBseVN0YWNrKHQsZSxpKXtjb25zdCBzPXRoaXMuY2hhcnQsbj10aGlzLl9jYWNoZWRNZXRhLG89ZVt0LmF4aXNdO3JldHVybiBMcyh7a2V5czpUcyhzLCEwKSx2YWx1ZXM6ZS5fc3RhY2tzW3QuYXhpc10uX3Zpc3VhbFZhbHVlc30sbyxuLmluZGV4LHttb2RlOml9KX11cGRhdGVSYW5nZUZyb21QYXJzZWQodCxlLGkscyl7Y29uc3Qgbj1pW2UuYXhpc107bGV0IG89bnVsbD09PW4/TmFOOm47Y29uc3QgYT1zJiZpLl9zdGFja3NbZS5heGlzXTtzJiZhJiYocy52YWx1ZXM9YSxvPUxzKHMsbix0aGlzLl9jYWNoZWRNZXRhLmluZGV4KSksdC5taW49TWF0aC5taW4odC5taW4sbyksdC5tYXg9TWF0aC5tYXgodC5tYXgsbyl9Z2V0TWluTWF4KHQsZSl7Y29uc3QgaT10aGlzLl9jYWNoZWRNZXRhLHM9aS5fcGFyc2VkLG49aS5fc29ydGVkJiZ0PT09aS5pU2NhbGUsbz1zLmxlbmd0aCxyPXRoaXMuX2dldE90aGVyU2NhbGUodCksbD0oKHQsZSxpKT0+dCYmIWUuaGlkZGVuJiZlLl9zdGFja2VkJiZ7a2V5czpUcyhpLCEwKSx2YWx1ZXM6bnVsbH0pKGUsaSx0aGlzLmNoYXJ0KSxoPXttaW46TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1heDpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFl9LHttaW46YyxtYXg6ZH09ZnVuY3Rpb24odCl7Y29uc3R7bWluOmUsbWF4OmksbWluRGVmaW5lZDpzLG1heERlZmluZWQ6bn09dC5nZXRVc2VyQm91bmRzKCk7cmV0dXJue21pbjpzP2U6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLG1heDpuP2k6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfX0ocik7bGV0IHUsZjtmdW5jdGlvbiBnKCl7Zj1zW3VdO2NvbnN0IGU9ZltyLmF4aXNdO3JldHVybiFhKGZbdC5heGlzXSl8fGM+ZXx8ZDxlfWZvcih1PTA7dTxvJiYoZygpfHwodGhpcy51cGRhdGVSYW5nZUZyb21QYXJzZWQoaCx0LGYsbCksIW4pKTsrK3UpO2lmKG4pZm9yKHU9by0xO3U+PTA7LS11KWlmKCFnKCkpe3RoaXMudXBkYXRlUmFuZ2VGcm9tUGFyc2VkKGgsdCxmLGwpO2JyZWFrfXJldHVybiBofWdldEFsbFBhcnNlZFZhbHVlcyh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEuX3BhcnNlZCxpPVtdO2xldCBzLG4sbztmb3Iocz0wLG49ZS5sZW5ndGg7czxuOysrcylvPWVbc11bdC5heGlzXSxhKG8pJiZpLnB1c2gobyk7cmV0dXJuIGl9Z2V0TWF4T3ZlcmZsb3coKXtyZXR1cm4hMX1nZXRMYWJlbEFuZFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSxpPWUuaVNjYWxlLHM9ZS52U2NhbGUsbj10aGlzLmdldFBhcnNlZCh0KTtyZXR1cm57bGFiZWw6aT8iIitpLmdldExhYmVsRm9yVmFsdWUobltpLmF4aXNdKToiIix2YWx1ZTpzPyIiK3MuZ2V0TGFiZWxGb3JWYWx1ZShuW3MuYXhpc10pOiIifX1fdXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YTt0aGlzLnVwZGF0ZSh0fHwiZGVmYXVsdCIpLGUuX2NsaXA9ZnVuY3Rpb24odCl7bGV0IGUsaSxzLG47cmV0dXJuIG8odCk/KGU9dC50b3AsaT10LnJpZ2h0LHM9dC5ib3R0b20sbj10LmxlZnQpOmU9aT1zPW49dCx7dG9wOmUscmlnaHQ6aSxib3R0b206cyxsZWZ0Om4sZGlzYWJsZWQ6ITE9PT10fX0obCh0aGlzLm9wdGlvbnMuY2xpcCxmdW5jdGlvbih0LGUsaSl7aWYoITE9PT1pKXJldHVybiExO2NvbnN0IHM9QXModCxpKSxuPUFzKGUsaSk7cmV0dXJue3RvcDpuLmVuZCxyaWdodDpzLmVuZCxib3R0b206bi5zdGFydCxsZWZ0OnMuc3RhcnR9fShlLnhTY2FsZSxlLnlTY2FsZSx0aGlzLmdldE1heE92ZXJmbG93KCkpKSl9dXBkYXRlKHQpe31kcmF3KCl7Y29uc3QgdD10aGlzLl9jdHgsZT10aGlzLmNoYXJ0LGk9dGhpcy5fY2FjaGVkTWV0YSxzPWkuZGF0YXx8W10sbj1lLmNoYXJ0QXJlYSxvPVtdLGE9dGhpcy5fZHJhd1N0YXJ0fHwwLHI9dGhpcy5fZHJhd0NvdW50fHxzLmxlbmd0aC1hLGw9dGhpcy5vcHRpb25zLmRyYXdBY3RpdmVFbGVtZW50c09uVG9wO2xldCBoO2ZvcihpLmRhdGFzZXQmJmkuZGF0YXNldC5kcmF3KHQsbixhLHIpLGg9YTtoPGErcjsrK2gpe2NvbnN0IGU9c1toXTtlLmhpZGRlbnx8KGUuYWN0aXZlJiZsP28ucHVzaChlKTplLmRyYXcodCxuKSl9Zm9yKGg9MDtoPG8ubGVuZ3RoOysraClvW2hdLmRyYXcodCxuKX1nZXRTdHlsZSh0LGUpe2NvbnN0IGk9ZT8iYWN0aXZlIjoiZGVmYXVsdCI7cmV0dXJuIHZvaWQgMD09PXQmJnRoaXMuX2NhY2hlZE1ldGEuZGF0YXNldD90aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMoaSk6dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHR8fDAsaSl9Z2V0Q29udGV4dCh0LGUsaSl7Y29uc3Qgcz10aGlzLmdldERhdGFzZXQoKTtsZXQgbjtpZih0Pj0wJiZ0PHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGgpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YS5kYXRhW3RdO249ZS4kY29udGV4dHx8KGUuJGNvbnRleHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBDaSh0LHthY3RpdmU6ITEsZGF0YUluZGV4OmUscGFyc2VkOnZvaWQgMCxyYXc6dm9pZCAwLGVsZW1lbnQ6aSxpbmRleDplLG1vZGU6ImRlZmF1bHQiLHR5cGU6ImRhdGEifSl9KHRoaXMuZ2V0Q29udGV4dCgpLHQsZSkpLG4ucGFyc2VkPXRoaXMuZ2V0UGFyc2VkKHQpLG4ucmF3PXMuZGF0YVt0XSxuLmluZGV4PW4uZGF0YUluZGV4PXR9ZWxzZSBuPXRoaXMuJGNvbnRleHR8fCh0aGlzLiRjb250ZXh0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIENpKHQse2FjdGl2ZTohMSxkYXRhc2V0OnZvaWQgMCxkYXRhc2V0SW5kZXg6ZSxpbmRleDplLG1vZGU6ImRlZmF1bHQiLHR5cGU6ImRhdGFzZXQifSl9KHRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLHRoaXMuaW5kZXgpKSxuLmRhdGFzZXQ9cyxuLmluZGV4PW4uZGF0YXNldEluZGV4PXRoaXMuaW5kZXg7cmV0dXJuIG4uYWN0aXZlPSEhZSxuLm1vZGU9aSxufXJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnModCl7cmV0dXJuIHRoaXMuX3Jlc29sdmVFbGVtZW50T3B0aW9ucyh0aGlzLmRhdGFzZXRFbGVtZW50VHlwZS5pZCx0KX1yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc29sdmVFbGVtZW50T3B0aW9ucyh0aGlzLmRhdGFFbGVtZW50VHlwZS5pZCxlLHQpfV9yZXNvbHZlRWxlbWVudE9wdGlvbnModCxlPSJkZWZhdWx0IixpKXtjb25zdCBzPSJhY3RpdmUiPT09ZSxuPXRoaXMuX2NhY2hlZERhdGFPcHRzLG89dCsiLSIrZSxhPW5bb10scj10aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcmJmsoaSk7aWYoYSlyZXR1cm4gV3MoYSxyKTtjb25zdCBsPXRoaXMuY2hhcnQuY29uZmlnLGg9bC5kYXRhc2V0RWxlbWVudFNjb3BlS2V5cyh0aGlzLl90eXBlLHQpLGM9cz9bYCR7dH1Ib3ZlcmAsImhvdmVyIix0LCIiXTpbdCwiIl0sZD1sLmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSxoKSx1PU9iamVjdC5rZXlzKHVlLmVsZW1lbnRzW3RdKSxmPWwucmVzb2x2ZU5hbWVkT3B0aW9ucyhkLHUsKCgpPT50aGlzLmdldENvbnRleHQoaSxzLGUpKSxjKTtyZXR1cm4gZi4kc2hhcmVkJiYoZi4kc2hhcmVkPXIsbltvXT1PYmplY3QuZnJlZXplKFdzKGYscikpKSxmfV9yZXNvbHZlQW5pbWF0aW9ucyh0LGUsaSl7Y29uc3Qgcz10aGlzLmNoYXJ0LG49dGhpcy5fY2FjaGVkRGF0YU9wdHMsbz1gYW5pbWF0aW9uLSR7ZX1gLGE9bltvXTtpZihhKXJldHVybiBhO2xldCByO2lmKCExIT09cy5vcHRpb25zLmFuaW1hdGlvbil7Y29uc3Qgcz10aGlzLmNoYXJ0LmNvbmZpZyxuPXMuZGF0YXNldEFuaW1hdGlvblNjb3BlS2V5cyh0aGlzLl90eXBlLGUpLG89cy5nZXRPcHRpb25TY29wZXModGhpcy5nZXREYXRhc2V0KCksbik7cj1zLmNyZWF0ZVJlc29sdmVyKG8sdGhpcy5nZXRDb250ZXh0KHQsaSxlKSl9Y29uc3QgbD1uZXcgT3MocyxyJiZyLmFuaW1hdGlvbnMpO3JldHVybiByJiZyLl9jYWNoZWFibGUmJihuW29dPU9iamVjdC5mcmVlemUobCkpLGx9Z2V0U2hhcmVkT3B0aW9ucyh0KXtpZih0LiRzaGFyZWQpcmV0dXJuIHRoaXMuX3NoYXJlZE9wdGlvbnN8fCh0aGlzLl9zaGFyZWRPcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdCkpfWluY2x1ZGVPcHRpb25zKHQsZSl7cmV0dXJuIWV8fEJzKHQpfHx0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWR9X2dldFNoYXJlZE9wdGlvbnModCxlKXtjb25zdCBpPXRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyh0LGUpLHM9dGhpcy5fc2hhcmVkT3B0aW9ucyxuPXRoaXMuZ2V0U2hhcmVkT3B0aW9ucyhpKSxvPXRoaXMuaW5jbHVkZU9wdGlvbnMoZSxuKXx8biE9PXM7cmV0dXJuIHRoaXMudXBkYXRlU2hhcmVkT3B0aW9ucyhuLGUsaSkse3NoYXJlZE9wdGlvbnM6bixpbmNsdWRlT3B0aW9uczpvfX11cGRhdGVFbGVtZW50KHQsZSxpLHMpe0JzKHMpP09iamVjdC5hc3NpZ24odCxpKTp0aGlzLl9yZXNvbHZlQW5pbWF0aW9ucyhlLHMpLnVwZGF0ZSh0LGkpfXVwZGF0ZVNoYXJlZE9wdGlvbnModCxlLGkpe3QmJiFCcyhlKSYmdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnModm9pZCAwLGUpLnVwZGF0ZSh0LGkpfV9zZXRTdHlsZSh0LGUsaSxzKXt0LmFjdGl2ZT1zO2NvbnN0IG49dGhpcy5nZXRTdHlsZShlLHMpO3RoaXMuX3Jlc29sdmVBbmltYXRpb25zKGUsaSxzKS51cGRhdGUodCx7b3B0aW9uczohcyYmdGhpcy5nZXRTaGFyZWRPcHRpb25zKG4pfHxufSl9cmVtb3ZlSG92ZXJTdHlsZSh0LGUsaSl7dGhpcy5fc2V0U3R5bGUodCxpLCJhY3RpdmUiLCExKX1zZXRIb3ZlclN0eWxlKHQsZSxpKXt0aGlzLl9zZXRTdHlsZSh0LGksImFjdGl2ZSIsITApfV9yZW1vdmVEYXRhc2V0SG92ZXJTdHlsZSgpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YS5kYXRhc2V0O3QmJnRoaXMuX3NldFN0eWxlKHQsdm9pZCAwLCJhY3RpdmUiLCExKX1fc2V0RGF0YXNldEhvdmVyU3R5bGUoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGEuZGF0YXNldDt0JiZ0aGlzLl9zZXRTdHlsZSh0LHZvaWQgMCwiYWN0aXZlIiwhMCl9X3Jlc3luY0VsZW1lbnRzKHQpe2NvbnN0IGU9dGhpcy5fZGF0YSxpPXRoaXMuX2NhY2hlZE1ldGEuZGF0YTtmb3IoY29uc3RbdCxlLGldb2YgdGhpcy5fc3luY0xpc3QpdGhpc1t0XShlLGkpO3RoaXMuX3N5bmNMaXN0PVtdO2NvbnN0IHM9aS5sZW5ndGgsbj1lLmxlbmd0aCxvPU1hdGgubWluKG4scyk7byYmdGhpcy5wYXJzZSgwLG8pLG4+cz90aGlzLl9pbnNlcnRFbGVtZW50cyhzLG4tcyx0KTpuPHMmJnRoaXMuX3JlbW92ZUVsZW1lbnRzKG4scy1uKX1faW5zZXJ0RWxlbWVudHModCxlLGk9ITApe2NvbnN0IHM9dGhpcy5fY2FjaGVkTWV0YSxuPXMuZGF0YSxvPXQrZTtsZXQgYTtjb25zdCByPXQ9Pntmb3IodC5sZW5ndGgrPWUsYT10Lmxlbmd0aC0xO2E+PW87YS0tKXRbYV09dFthLWVdfTtmb3IocihuKSxhPXQ7YTxvOysrYSluW2FdPW5ldyB0aGlzLmRhdGFFbGVtZW50VHlwZTt0aGlzLl9wYXJzaW5nJiZyKHMuX3BhcnNlZCksdGhpcy5wYXJzZSh0LGUpLGkmJnRoaXMudXBkYXRlRWxlbWVudHMobix0LGUsInJlc2V0Iil9dXBkYXRlRWxlbWVudHModCxlLGkscyl7fV9yZW1vdmVFbGVtZW50cyh0LGUpe2NvbnN0IGk9dGhpcy5fY2FjaGVkTWV0YTtpZih0aGlzLl9wYXJzaW5nKXtjb25zdCBzPWkuX3BhcnNlZC5zcGxpY2UodCxlKTtpLl9zdGFja2VkJiZWcyhpLHMpfWkuZGF0YS5zcGxpY2UodCxlKX1fc3luYyh0KXtpZih0aGlzLl9wYXJzaW5nKXRoaXMuX3N5bmNMaXN0LnB1c2godCk7ZWxzZXtjb25zdFtlLGksc109dDt0aGlzW2VdKGkscyl9dGhpcy5jaGFydC5fZGF0YUNoYW5nZXMucHVzaChbdGhpcy5pbmRleCwuLi50XSl9X29uRGF0YVB1c2goKXtjb25zdCB0PWFyZ3VtZW50cy5sZW5ndGg7dGhpcy5fc3luYyhbIl9pbnNlcnRFbGVtZW50cyIsdGhpcy5nZXREYXRhc2V0KCkuZGF0YS5sZW5ndGgtdCx0XSl9X29uRGF0YVBvcCgpe3RoaXMuX3N5bmMoWyJfcmVtb3ZlRWxlbWVudHMiLHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGgtMSwxXSl9X29uRGF0YVNoaWZ0KCl7dGhpcy5fc3luYyhbIl9yZW1vdmVFbGVtZW50cyIsMCwxXSl9X29uRGF0YVNwbGljZSh0LGUpe2UmJnRoaXMuX3N5bmMoWyJfcmVtb3ZlRWxlbWVudHMiLHQsZV0pO2NvbnN0IGk9YXJndW1lbnRzLmxlbmd0aC0yO2kmJnRoaXMuX3N5bmMoWyJfaW5zZXJ0RWxlbWVudHMiLHQsaV0pfV9vbkRhdGFVbnNoaWZ0KCl7dGhpcy5fc3luYyhbIl9pbnNlcnRFbGVtZW50cyIsMCxhcmd1bWVudHMubGVuZ3RoXSl9fWNsYXNzIEhze3N0YXRpYyBkZWZhdWx0cz17fTtzdGF0aWMgZGVmYXVsdFJvdXRlcz12b2lkIDA7eDt5O2FjdGl2ZT0hMTtvcHRpb25zOyRhbmltYXRpb25zO3Rvb2x0aXBQb3NpdGlvbih0KXtjb25zdHt4OmUseTppfT10aGlzLmdldFByb3BzKFsieCIsInkiXSx0KTtyZXR1cm57eDplLHk6aX19aGFzVmFsdWUoKXtyZXR1cm4gTih0aGlzLngpJiZOKHRoaXMueSl9Z2V0UHJvcHModCxlKXtjb25zdCBpPXRoaXMuJGFuaW1hdGlvbnM7aWYoIWV8fCFpKXJldHVybiB0aGlzO2NvbnN0IHM9e307cmV0dXJuIHQuZm9yRWFjaCgodD0+e3NbdF09aVt0XSYmaVt0XS5hY3RpdmUoKT9pW3RdLl90bzp0aGlzW3RdfSkpLHN9fWZ1bmN0aW9uIGpzKHQsZSl7Y29uc3QgaT10Lm9wdGlvbnMudGlja3Msbj1mdW5jdGlvbih0KXtjb25zdCBlPXQub3B0aW9ucy5vZmZzZXQsaT10Ll90aWNrU2l6ZSgpLHM9dC5fbGVuZ3RoL2krKGU/MDoxKSxuPXQuX21heExlbmd0aC9pO3JldHVybiBNYXRoLmZsb29yKE1hdGgubWluKHMsbikpfSh0KSxvPU1hdGgubWluKGkubWF4VGlja3NMaW1pdHx8bixuKSxhPWkubWFqb3IuZW5hYmxlZD9mdW5jdGlvbih0KXtjb25zdCBlPVtdO2xldCBpLHM7Zm9yKGk9MCxzPXQubGVuZ3RoO2k8cztpKyspdFtpXS5tYWpvciYmZS5wdXNoKGkpO3JldHVybiBlfShlKTpbXSxyPWEubGVuZ3RoLGw9YVswXSxoPWFbci0xXSxjPVtdO2lmKHI+bylyZXR1cm4gZnVuY3Rpb24odCxlLGkscyl7bGV0IG4sbz0wLGE9aVswXTtmb3Iocz1NYXRoLmNlaWwocyksbj0wO248dC5sZW5ndGg7bisrKW49PT1hJiYoZS5wdXNoKHRbbl0pLG8rKyxhPWlbbypzXSl9KGUsYyxhLHIvbyksYztjb25zdCBkPWZ1bmN0aW9uKHQsZSxpKXtjb25zdCBzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5sZW5ndGg7bGV0IGkscztpZihlPDIpcmV0dXJuITE7Zm9yKHM9dFswXSxpPTE7aTxlOysraSlpZih0W2ldLXRbaS0xXSE9PXMpcmV0dXJuITE7cmV0dXJuIHN9KHQpLG49ZS5sZW5ndGgvaTtpZighcylyZXR1cm4gTWF0aC5tYXgobiwxKTtjb25zdCBvPVcocyk7Zm9yKGxldCB0PTAsZT1vLmxlbmd0aC0xO3Q8ZTt0Kyspe2NvbnN0IGU9b1t0XTtpZihlPm4pcmV0dXJuIGV9cmV0dXJuIE1hdGgubWF4KG4sMSl9KGEsZSxvKTtpZihyPjApe2xldCB0LGk7Y29uc3Qgbj1yPjE/TWF0aC5yb3VuZCgoaC1sKS8oci0xKSk6bnVsbDtmb3IoJHMoZSxjLGQscyhuKT8wOmwtbixsKSx0PTAsaT1yLTE7dDxpO3QrKykkcyhlLGMsZCxhW3RdLGFbdCsxXSk7cmV0dXJuICRzKGUsYyxkLGgscyhuKT9lLmxlbmd0aDpoK24pLGN9cmV0dXJuICRzKGUsYyxkKSxjfWZ1bmN0aW9uICRzKHQsZSxpLHMsbil7Y29uc3Qgbz1sKHMsMCksYT1NYXRoLm1pbihsKG4sdC5sZW5ndGgpLHQubGVuZ3RoKTtsZXQgcixoLGMsZD0wO2ZvcihpPU1hdGguY2VpbChpKSxuJiYocj1uLXMsaT1yL01hdGguZmxvb3Ioci9pKSksYz1vO2M8MDspZCsrLGM9TWF0aC5yb3VuZChvK2QqaSk7Zm9yKGg9TWF0aC5tYXgobywwKTtoPGE7aCsrKWg9PT1jJiYoZS5wdXNoKHRbaF0pLGQrKyxjPU1hdGgucm91bmQobytkKmkpKX1jb25zdCBZcz0odCxlLGkpPT4idG9wIj09PWV8fCJsZWZ0Ij09PWU/dFtlXStpOnRbZV0taSxVcz0odCxlKT0+TWF0aC5taW4oZXx8dCx0KTtmdW5jdGlvbiBYcyh0LGUpe2NvbnN0IGk9W10scz10Lmxlbmd0aC9lLG49dC5sZW5ndGg7bGV0IG89MDtmb3IoO288bjtvKz1zKWkucHVzaCh0W01hdGguZmxvb3IobyldKTtyZXR1cm4gaX1mdW5jdGlvbiBxcyh0LGUsaSl7Y29uc3Qgcz10LnRpY2tzLmxlbmd0aCxuPU1hdGgubWluKGUscy0xKSxvPXQuX3N0YXJ0UGl4ZWwsYT10Ll9lbmRQaXhlbCxyPTFlLTY7bGV0IGwsaD10LmdldFBpeGVsRm9yVGljayhuKTtpZighKGkmJihsPTE9PT1zP01hdGgubWF4KGgtbyxhLWgpOjA9PT1lPyh0LmdldFBpeGVsRm9yVGljaygxKS1oKS8yOihoLXQuZ2V0UGl4ZWxGb3JUaWNrKG4tMSkpLzIsaCs9bjxlP2w6LWwsaDxvLXJ8fGg+YStyKSkpcmV0dXJuIGh9ZnVuY3Rpb24gS3ModCl7cmV0dXJuIHQuZHJhd1RpY2tzP3QudGlja0xlbmd0aDowfWZ1bmN0aW9uIEdzKHQsZSl7aWYoIXQuZGlzcGxheSlyZXR1cm4gMDtjb25zdCBpPVNpKHQuZm9udCxlKSxzPWtpKHQucGFkZGluZyk7cmV0dXJuKG4odC50ZXh0KT90LnRleHQubGVuZ3RoOjEpKmkubGluZUhlaWdodCtzLmhlaWdodH1mdW5jdGlvbiBacyh0LGUsaSl7bGV0IHM9dXQodCk7cmV0dXJuKGkmJiJyaWdodCIhPT1lfHwhaSYmInJpZ2h0Ij09PWUpJiYocz0odD0+ImxlZnQiPT09dD8icmlnaHQiOiJyaWdodCI9PT10PyJsZWZ0Ijp0KShzKSksc31jbGFzcyBKcyBleHRlbmRzIEhze2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5pZD10LmlkLHRoaXMudHlwZT10LnR5cGUsdGhpcy5vcHRpb25zPXZvaWQgMCx0aGlzLmN0eD10LmN0eCx0aGlzLmNoYXJ0PXQuY2hhcnQsdGhpcy50b3A9dm9pZCAwLHRoaXMuYm90dG9tPXZvaWQgMCx0aGlzLmxlZnQ9dm9pZCAwLHRoaXMucmlnaHQ9dm9pZCAwLHRoaXMud2lkdGg9dm9pZCAwLHRoaXMuaGVpZ2h0PXZvaWQgMCx0aGlzLl9tYXJnaW5zPXtsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MH0sdGhpcy5tYXhXaWR0aD12b2lkIDAsdGhpcy5tYXhIZWlnaHQ9dm9pZCAwLHRoaXMucGFkZGluZ1RvcD12b2lkIDAsdGhpcy5wYWRkaW5nQm90dG9tPXZvaWQgMCx0aGlzLnBhZGRpbmdMZWZ0PXZvaWQgMCx0aGlzLnBhZGRpbmdSaWdodD12b2lkIDAsdGhpcy5heGlzPXZvaWQgMCx0aGlzLmxhYmVsUm90YXRpb249dm9pZCAwLHRoaXMubWluPXZvaWQgMCx0aGlzLm1heD12b2lkIDAsdGhpcy5fcmFuZ2U9dm9pZCAwLHRoaXMudGlja3M9W10sdGhpcy5fZ3JpZExpbmVJdGVtcz1udWxsLHRoaXMuX2xhYmVsSXRlbXM9bnVsbCx0aGlzLl9sYWJlbFNpemVzPW51bGwsdGhpcy5fbGVuZ3RoPTAsdGhpcy5fbWF4TGVuZ3RoPTAsdGhpcy5fbG9uZ2VzdFRleHRDYWNoZT17fSx0aGlzLl9zdGFydFBpeGVsPXZvaWQgMCx0aGlzLl9lbmRQaXhlbD12b2lkIDAsdGhpcy5fcmV2ZXJzZVBpeGVscz0hMSx0aGlzLl91c2VyTWF4PXZvaWQgMCx0aGlzLl91c2VyTWluPXZvaWQgMCx0aGlzLl9zdWdnZXN0ZWRNYXg9dm9pZCAwLHRoaXMuX3N1Z2dlc3RlZE1pbj12b2lkIDAsdGhpcy5fdGlja3NMZW5ndGg9MCx0aGlzLl9ib3JkZXJWYWx1ZT0wLHRoaXMuX2NhY2hlPXt9LHRoaXMuX2RhdGFMaW1pdHNDYWNoZWQ9ITEsdGhpcy4kY29udGV4dD12b2lkIDB9aW5pdCh0KXt0aGlzLm9wdGlvbnM9dC5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKSx0aGlzLmF4aXM9dC5heGlzLHRoaXMuX3VzZXJNaW49dGhpcy5wYXJzZSh0Lm1pbiksdGhpcy5fdXNlck1heD10aGlzLnBhcnNlKHQubWF4KSx0aGlzLl9zdWdnZXN0ZWRNaW49dGhpcy5wYXJzZSh0LnN1Z2dlc3RlZE1pbiksdGhpcy5fc3VnZ2VzdGVkTWF4PXRoaXMucGFyc2UodC5zdWdnZXN0ZWRNYXgpfXBhcnNlKHQsZSl7cmV0dXJuIHR9Z2V0VXNlckJvdW5kcygpe2xldHtfdXNlck1pbjp0LF91c2VyTWF4OmUsX3N1Z2dlc3RlZE1pbjppLF9zdWdnZXN0ZWRNYXg6c309dGhpcztyZXR1cm4gdD1yKHQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxlPXIoZSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLGk9cihpLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkscz1yKHMsTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSx7bWluOnIodCxpKSxtYXg6cihlLHMpLG1pbkRlZmluZWQ6YSh0KSxtYXhEZWZpbmVkOmEoZSl9fWdldE1pbk1heCh0KXtsZXQgZSx7bWluOmksbWF4OnMsbWluRGVmaW5lZDpuLG1heERlZmluZWQ6b309dGhpcy5nZXRVc2VyQm91bmRzKCk7aWYobiYmbylyZXR1cm57bWluOmksbWF4OnN9O2NvbnN0IGE9dGhpcy5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcygpO2ZvcihsZXQgcj0wLGw9YS5sZW5ndGg7cjxsOysrcillPWFbcl0uY29udHJvbGxlci5nZXRNaW5NYXgodGhpcyx0KSxufHwoaT1NYXRoLm1pbihpLGUubWluKSksb3x8KHM9TWF0aC5tYXgocyxlLm1heCkpO3JldHVybiBpPW8mJmk+cz9zOmkscz1uJiZpPnM/aTpzLHttaW46cihpLHIocyxpKSksbWF4OnIocyxyKGkscykpfX1nZXRQYWRkaW5nKCl7cmV0dXJue2xlZnQ6dGhpcy5wYWRkaW5nTGVmdHx8MCx0b3A6dGhpcy5wYWRkaW5nVG9wfHwwLHJpZ2h0OnRoaXMucGFkZGluZ1JpZ2h0fHwwLGJvdHRvbTp0aGlzLnBhZGRpbmdCb3R0b218fDB9fWdldFRpY2tzKCl7cmV0dXJuIHRoaXMudGlja3N9Z2V0TGFiZWxzKCl7Y29uc3QgdD10aGlzLmNoYXJ0LmRhdGE7cmV0dXJuIHRoaXMub3B0aW9ucy5sYWJlbHN8fCh0aGlzLmlzSG9yaXpvbnRhbCgpP3QueExhYmVsczp0LnlMYWJlbHMpfHx0LmxhYmVsc3x8W119Z2V0TGFiZWxJdGVtcyh0PXRoaXMuY2hhcnQuY2hhcnRBcmVhKXtyZXR1cm4gdGhpcy5fbGFiZWxJdGVtc3x8KHRoaXMuX2xhYmVsSXRlbXM9dGhpcy5fY29tcHV0ZUxhYmVsSXRlbXModCkpfWJlZm9yZUxheW91dCgpe3RoaXMuX2NhY2hlPXt9LHRoaXMuX2RhdGFMaW1pdHNDYWNoZWQ9ITF9YmVmb3JlVXBkYXRlKCl7ZCh0aGlzLm9wdGlvbnMuYmVmb3JlVXBkYXRlLFt0aGlzXSl9dXBkYXRlKHQsZSxpKXtjb25zdHtiZWdpbkF0WmVybzpzLGdyYWNlOm4sdGlja3M6b309dGhpcy5vcHRpb25zLGE9by5zYW1wbGVTaXplO3RoaXMuYmVmb3JlVXBkYXRlKCksdGhpcy5tYXhXaWR0aD10LHRoaXMubWF4SGVpZ2h0PWUsdGhpcy5fbWFyZ2lucz1pPU9iamVjdC5hc3NpZ24oe2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfSxpKSx0aGlzLnRpY2tzPW51bGwsdGhpcy5fbGFiZWxTaXplcz1udWxsLHRoaXMuX2dyaWRMaW5lSXRlbXM9bnVsbCx0aGlzLl9sYWJlbEl0ZW1zPW51bGwsdGhpcy5iZWZvcmVTZXREaW1lbnNpb25zKCksdGhpcy5zZXREaW1lbnNpb25zKCksdGhpcy5hZnRlclNldERpbWVuc2lvbnMoKSx0aGlzLl9tYXhMZW5ndGg9dGhpcy5pc0hvcml6b250YWwoKT90aGlzLndpZHRoK2kubGVmdCtpLnJpZ2h0OnRoaXMuaGVpZ2h0K2kudG9wK2kuYm90dG9tLHRoaXMuX2RhdGFMaW1pdHNDYWNoZWR8fCh0aGlzLmJlZm9yZURhdGFMaW1pdHMoKSx0aGlzLmRldGVybWluZURhdGFMaW1pdHMoKSx0aGlzLmFmdGVyRGF0YUxpbWl0cygpLHRoaXMuX3JhbmdlPURpKHRoaXMsbixzKSx0aGlzLl9kYXRhTGltaXRzQ2FjaGVkPSEwKSx0aGlzLmJlZm9yZUJ1aWxkVGlja3MoKSx0aGlzLnRpY2tzPXRoaXMuYnVpbGRUaWNrcygpfHxbXSx0aGlzLmFmdGVyQnVpbGRUaWNrcygpO2NvbnN0IHI9YTx0aGlzLnRpY2tzLmxlbmd0aDt0aGlzLl9jb252ZXJ0VGlja3NUb0xhYmVscyhyP1hzKHRoaXMudGlja3MsYSk6dGhpcy50aWNrcyksdGhpcy5jb25maWd1cmUoKSx0aGlzLmJlZm9yZUNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKSx0aGlzLmNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKSx0aGlzLmFmdGVyQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpLG8uZGlzcGxheSYmKG8uYXV0b1NraXB8fCJhdXRvIj09PW8uc291cmNlKSYmKHRoaXMudGlja3M9anModGhpcyx0aGlzLnRpY2tzKSx0aGlzLl9sYWJlbFNpemVzPW51bGwsdGhpcy5hZnRlckF1dG9Ta2lwKCkpLHImJnRoaXMuX2NvbnZlcnRUaWNrc1RvTGFiZWxzKHRoaXMudGlja3MpLHRoaXMuYmVmb3JlRml0KCksdGhpcy5maXQoKSx0aGlzLmFmdGVyRml0KCksdGhpcy5hZnRlclVwZGF0ZSgpfWNvbmZpZ3VyZSgpe2xldCB0LGUsaT10aGlzLm9wdGlvbnMucmV2ZXJzZTt0aGlzLmlzSG9yaXpvbnRhbCgpPyh0PXRoaXMubGVmdCxlPXRoaXMucmlnaHQpOih0PXRoaXMudG9wLGU9dGhpcy5ib3R0b20saT0haSksdGhpcy5fc3RhcnRQaXhlbD10LHRoaXMuX2VuZFBpeGVsPWUsdGhpcy5fcmV2ZXJzZVBpeGVscz1pLHRoaXMuX2xlbmd0aD1lLXQsdGhpcy5fYWxpZ25Ub1BpeGVscz10aGlzLm9wdGlvbnMuYWxpZ25Ub1BpeGVsc31hZnRlclVwZGF0ZSgpe2QodGhpcy5vcHRpb25zLmFmdGVyVXBkYXRlLFt0aGlzXSl9YmVmb3JlU2V0RGltZW5zaW9ucygpe2QodGhpcy5vcHRpb25zLmJlZm9yZVNldERpbWVuc2lvbnMsW3RoaXNdKX1zZXREaW1lbnNpb25zKCl7dGhpcy5pc0hvcml6b250YWwoKT8odGhpcy53aWR0aD10aGlzLm1heFdpZHRoLHRoaXMubGVmdD0wLHRoaXMucmlnaHQ9dGhpcy53aWR0aCk6KHRoaXMuaGVpZ2h0PXRoaXMubWF4SGVpZ2h0LHRoaXMudG9wPTAsdGhpcy5ib3R0b209dGhpcy5oZWlnaHQpLHRoaXMucGFkZGluZ0xlZnQ9MCx0aGlzLnBhZGRpbmdUb3A9MCx0aGlzLnBhZGRpbmdSaWdodD0wLHRoaXMucGFkZGluZ0JvdHRvbT0wfWFmdGVyU2V0RGltZW5zaW9ucygpe2QodGhpcy5vcHRpb25zLmFmdGVyU2V0RGltZW5zaW9ucyxbdGhpc10pfV9jYWxsSG9va3ModCl7dGhpcy5jaGFydC5ub3RpZnlQbHVnaW5zKHQsdGhpcy5nZXRDb250ZXh0KCkpLGQodGhpcy5vcHRpb25zW3RdLFt0aGlzXSl9YmVmb3JlRGF0YUxpbWl0cygpe3RoaXMuX2NhbGxIb29rcygiYmVmb3JlRGF0YUxpbWl0cyIpfWRldGVybWluZURhdGFMaW1pdHMoKXt9YWZ0ZXJEYXRhTGltaXRzKCl7dGhpcy5fY2FsbEhvb2tzKCJhZnRlckRhdGFMaW1pdHMiKX1iZWZvcmVCdWlsZFRpY2tzKCl7dGhpcy5fY2FsbEhvb2tzKCJiZWZvcmVCdWlsZFRpY2tzIil9YnVpbGRUaWNrcygpe3JldHVybltdfWFmdGVyQnVpbGRUaWNrcygpe3RoaXMuX2NhbGxIb29rcygiYWZ0ZXJCdWlsZFRpY2tzIil9YmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uKCl7ZCh0aGlzLm9wdGlvbnMuYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uLFt0aGlzXSl9Z2VuZXJhdGVUaWNrTGFiZWxzKHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpY2tzO2xldCBpLHMsbjtmb3IoaT0wLHM9dC5sZW5ndGg7aTxzO2krKyluPXRbaV0sbi5sYWJlbD1kKGUuY2FsbGJhY2ssW24udmFsdWUsaSx0XSx0aGlzKX1hZnRlclRpY2tUb0xhYmVsQ29udmVyc2lvbigpe2QodGhpcy5vcHRpb25zLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uLFt0aGlzXSl9YmVmb3JlQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpe2QodGhpcy5vcHRpb25zLmJlZm9yZUNhbGN1bGF0ZUxhYmVsUm90YXRpb24sW3RoaXNdKX1jYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMsZT10LnRpY2tzLGk9VXModGhpcy50aWNrcy5sZW5ndGgsdC50aWNrcy5tYXhUaWNrc0xpbWl0KSxzPWUubWluUm90YXRpb258fDAsbj1lLm1heFJvdGF0aW9uO2xldCBvLGEscixsPXM7aWYoIXRoaXMuX2lzVmlzaWJsZSgpfHwhZS5kaXNwbGF5fHxzPj1ufHxpPD0xfHwhdGhpcy5pc0hvcml6b250YWwoKSlyZXR1cm4gdm9pZCh0aGlzLmxhYmVsUm90YXRpb249cyk7Y29uc3QgaD10aGlzLl9nZXRMYWJlbFNpemVzKCksYz1oLndpZGVzdC53aWR0aCxkPWguaGlnaGVzdC5oZWlnaHQsdT1KKHRoaXMuY2hhcnQud2lkdGgtYywwLHRoaXMubWF4V2lkdGgpO289dC5vZmZzZXQ/dGhpcy5tYXhXaWR0aC9pOnUvKGktMSksYys2Pm8mJihvPXUvKGktKHQub2Zmc2V0Py41OjEpKSxhPXRoaXMubWF4SGVpZ2h0LUtzKHQuZ3JpZCktZS5wYWRkaW5nLUdzKHQudGl0bGUsdGhpcy5jaGFydC5vcHRpb25zLmZvbnQpLHI9TWF0aC5zcXJ0KGMqYytkKmQpLGw9WShNYXRoLm1pbihNYXRoLmFzaW4oSigoaC5oaWdoZXN0LmhlaWdodCs2KS9vLC0xLDEpKSxNYXRoLmFzaW4oSihhL3IsLTEsMSkpLU1hdGguYXNpbihKKGQvciwtMSwxKSkpKSxsPU1hdGgubWF4KHMsTWF0aC5taW4obixsKSkpLHRoaXMubGFiZWxSb3RhdGlvbj1sfWFmdGVyQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpe2QodGhpcy5vcHRpb25zLmFmdGVyQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbixbdGhpc10pfWFmdGVyQXV0b1NraXAoKXt9YmVmb3JlRml0KCl7ZCh0aGlzLm9wdGlvbnMuYmVmb3JlRml0LFt0aGlzXSl9Zml0KCl7Y29uc3QgdD17d2lkdGg6MCxoZWlnaHQ6MH0se2NoYXJ0OmUsb3B0aW9uczp7dGlja3M6aSx0aXRsZTpzLGdyaWQ6bn19PXRoaXMsbz10aGlzLl9pc1Zpc2libGUoKSxhPXRoaXMuaXNIb3Jpem9udGFsKCk7aWYobyl7Y29uc3Qgbz1HcyhzLGUub3B0aW9ucy5mb250KTtpZihhPyh0LndpZHRoPXRoaXMubWF4V2lkdGgsdC5oZWlnaHQ9S3Mobikrbyk6KHQuaGVpZ2h0PXRoaXMubWF4SGVpZ2h0LHQud2lkdGg9S3MobikrbyksaS5kaXNwbGF5JiZ0aGlzLnRpY2tzLmxlbmd0aCl7Y29uc3R7Zmlyc3Q6ZSxsYXN0OnMsd2lkZXN0Om4saGlnaGVzdDpvfT10aGlzLl9nZXRMYWJlbFNpemVzKCkscj0yKmkucGFkZGluZyxsPSQodGhpcy5sYWJlbFJvdGF0aW9uKSxoPU1hdGguY29zKGwpLGM9TWF0aC5zaW4obCk7aWYoYSl7Y29uc3QgZT1pLm1pcnJvcj8wOmMqbi53aWR0aCtoKm8uaGVpZ2h0O3QuaGVpZ2h0PU1hdGgubWluKHRoaXMubWF4SGVpZ2h0LHQuaGVpZ2h0K2Urcil9ZWxzZXtjb25zdCBlPWkubWlycm9yPzA6aCpuLndpZHRoK2Mqby5oZWlnaHQ7dC53aWR0aD1NYXRoLm1pbih0aGlzLm1heFdpZHRoLHQud2lkdGgrZStyKX10aGlzLl9jYWxjdWxhdGVQYWRkaW5nKGUscyxjLGgpfX10aGlzLl9oYW5kbGVNYXJnaW5zKCksYT8odGhpcy53aWR0aD10aGlzLl9sZW5ndGg9ZS53aWR0aC10aGlzLl9tYXJnaW5zLmxlZnQtdGhpcy5fbWFyZ2lucy5yaWdodCx0aGlzLmhlaWdodD10LmhlaWdodCk6KHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10aGlzLl9sZW5ndGg9ZS5oZWlnaHQtdGhpcy5fbWFyZ2lucy50b3AtdGhpcy5fbWFyZ2lucy5ib3R0b20pfV9jYWxjdWxhdGVQYWRkaW5nKHQsZSxpLHMpe2NvbnN0e3RpY2tzOnthbGlnbjpuLHBhZGRpbmc6b30scG9zaXRpb246YX09dGhpcy5vcHRpb25zLHI9MCE9PXRoaXMubGFiZWxSb3RhdGlvbixsPSJ0b3AiIT09YSYmIngiPT09dGhpcy5heGlzO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpe2NvbnN0IGE9dGhpcy5nZXRQaXhlbEZvclRpY2soMCktdGhpcy5sZWZ0LGg9dGhpcy5yaWdodC10aGlzLmdldFBpeGVsRm9yVGljayh0aGlzLnRpY2tzLmxlbmd0aC0xKTtsZXQgYz0wLGQ9MDtyP2w/KGM9cyp0LndpZHRoLGQ9aSplLmhlaWdodCk6KGM9aSp0LmhlaWdodCxkPXMqZS53aWR0aCk6InN0YXJ0Ij09PW4/ZD1lLndpZHRoOiJlbmQiPT09bj9jPXQud2lkdGg6ImlubmVyIiE9PW4mJihjPXQud2lkdGgvMixkPWUud2lkdGgvMiksdGhpcy5wYWRkaW5nTGVmdD1NYXRoLm1heCgoYy1hK28pKnRoaXMud2lkdGgvKHRoaXMud2lkdGgtYSksMCksdGhpcy5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgoKGQtaCtvKSp0aGlzLndpZHRoLyh0aGlzLndpZHRoLWgpLDApfWVsc2V7bGV0IGk9ZS5oZWlnaHQvMixzPXQuaGVpZ2h0LzI7InN0YXJ0Ij09PW4/KGk9MCxzPXQuaGVpZ2h0KToiZW5kIj09PW4mJihpPWUuaGVpZ2h0LHM9MCksdGhpcy5wYWRkaW5nVG9wPWkrbyx0aGlzLnBhZGRpbmdCb3R0b209cytvfX1faGFuZGxlTWFyZ2lucygpe3RoaXMuX21hcmdpbnMmJih0aGlzLl9tYXJnaW5zLmxlZnQ9TWF0aC5tYXgodGhpcy5wYWRkaW5nTGVmdCx0aGlzLl9tYXJnaW5zLmxlZnQpLHRoaXMuX21hcmdpbnMudG9wPU1hdGgubWF4KHRoaXMucGFkZGluZ1RvcCx0aGlzLl9tYXJnaW5zLnRvcCksdGhpcy5fbWFyZ2lucy5yaWdodD1NYXRoLm1heCh0aGlzLnBhZGRpbmdSaWdodCx0aGlzLl9tYXJnaW5zLnJpZ2h0KSx0aGlzLl9tYXJnaW5zLmJvdHRvbT1NYXRoLm1heCh0aGlzLnBhZGRpbmdCb3R0b20sdGhpcy5fbWFyZ2lucy5ib3R0b20pKX1hZnRlckZpdCgpe2QodGhpcy5vcHRpb25zLmFmdGVyRml0LFt0aGlzXSl9aXNIb3Jpem9udGFsKCl7Y29uc3R7YXhpczp0LHBvc2l0aW9uOmV9PXRoaXMub3B0aW9ucztyZXR1cm4idG9wIj09PWV8fCJib3R0b20iPT09ZXx8IngiPT09dH1pc0Z1bGxTaXplKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5mdWxsU2l6ZX1fY29udmVydFRpY2tzVG9MYWJlbHModCl7bGV0IGUsaTtmb3IodGhpcy5iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24oKSx0aGlzLmdlbmVyYXRlVGlja0xhYmVscyh0KSxlPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXModFtlXS5sYWJlbCkmJih0LnNwbGljZShlLDEpLGktLSxlLS0pO3RoaXMuYWZ0ZXJUaWNrVG9MYWJlbENvbnZlcnNpb24oKX1fZ2V0TGFiZWxTaXplcygpe2xldCB0PXRoaXMuX2xhYmVsU2l6ZXM7aWYoIXQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpY2tzLnNhbXBsZVNpemU7bGV0IGk9dGhpcy50aWNrcztlPGkubGVuZ3RoJiYoaT1YcyhpLGUpKSx0aGlzLl9sYWJlbFNpemVzPXQ9dGhpcy5fY29tcHV0ZUxhYmVsU2l6ZXMoaSxpLmxlbmd0aCx0aGlzLm9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdCl9cmV0dXJuIHR9X2NvbXB1dGVMYWJlbFNpemVzKHQsZSxpKXtjb25zdHtjdHg6byxfbG9uZ2VzdFRleHRDYWNoZTphfT10aGlzLHI9W10sbD1bXSxoPU1hdGguZmxvb3IoZS9VcyhlLGkpKTtsZXQgYyxkLGYsZyxwLG0sYix4LF8seSx2LE09MCx3PTA7Zm9yKGM9MDtjPGU7Yys9aCl7aWYoZz10W2NdLmxhYmVsLHA9dGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucyhjKSxvLmZvbnQ9bT1wLnN0cmluZyxiPWFbbV09YVttXXx8e2RhdGE6e30sZ2M6W119LHg9cC5saW5lSGVpZ2h0LF89eT0wLHMoZyl8fG4oZykpe2lmKG4oZykpZm9yKGQ9MCxmPWcubGVuZ3RoO2Q8ZjsrK2Qpdj1nW2RdLHModil8fG4odil8fChfPUNlKG8sYi5kYXRhLGIuZ2MsXyx2KSx5Kz14KX1lbHNlIF89Q2UobyxiLmRhdGEsYi5nYyxfLGcpLHk9eDtyLnB1c2goXyksbC5wdXNoKHkpLE09TWF0aC5tYXgoXyxNKSx3PU1hdGgubWF4KHksdyl9IWZ1bmN0aW9uKHQsZSl7dSh0LCh0PT57Y29uc3QgaT10LmdjLHM9aS5sZW5ndGgvMjtsZXQgbjtpZihzPmUpe2ZvcihuPTA7bjxzOysrbilkZWxldGUgdC5kYXRhW2lbbl1dO2kuc3BsaWNlKDAscyl9fSkpfShhLGUpO2NvbnN0IGs9ci5pbmRleE9mKE0pLFM9bC5pbmRleE9mKHcpLFA9dD0+KHt3aWR0aDpyW3RdfHwwLGhlaWdodDpsW3RdfHwwfSk7cmV0dXJue2ZpcnN0OlAoMCksbGFzdDpQKGUtMSksd2lkZXN0OlAoayksaGlnaGVzdDpQKFMpLHdpZHRoczpyLGhlaWdodHM6bH19Z2V0TGFiZWxGb3JWYWx1ZSh0KXtyZXR1cm4gdH1nZXRQaXhlbEZvclZhbHVlKHQsZSl7cmV0dXJuIE5hTn1nZXRWYWx1ZUZvclBpeGVsKHQpe31nZXRQaXhlbEZvclRpY2sodCl7Y29uc3QgZT10aGlzLnRpY2tzO3JldHVybiB0PDB8fHQ+ZS5sZW5ndGgtMT9udWxsOnRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZShlW3RdLnZhbHVlKX1nZXRQaXhlbEZvckRlY2ltYWwodCl7dGhpcy5fcmV2ZXJzZVBpeGVscyYmKHQ9MS10KTtjb25zdCBlPXRoaXMuX3N0YXJ0UGl4ZWwrdCp0aGlzLl9sZW5ndGg7cmV0dXJuIFEodGhpcy5fYWxpZ25Ub1BpeGVscz9BZSh0aGlzLmNoYXJ0LGUsMCk6ZSl9Z2V0RGVjaW1hbEZvclBpeGVsKHQpe2NvbnN0IGU9KHQtdGhpcy5fc3RhcnRQaXhlbCkvdGhpcy5fbGVuZ3RoO3JldHVybiB0aGlzLl9yZXZlcnNlUGl4ZWxzPzEtZTplfWdldEJhc2VQaXhlbCgpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRCYXNlVmFsdWUoKSl9Z2V0QmFzZVZhbHVlKCl7Y29uc3R7bWluOnQsbWF4OmV9PXRoaXM7cmV0dXJuIHQ8MCYmZTwwP2U6dD4wJiZlPjA/dDowfWdldENvbnRleHQodCl7Y29uc3QgZT10aGlzLnRpY2tzfHxbXTtpZih0Pj0wJiZ0PGUubGVuZ3RoKXtjb25zdCBpPWVbdF07cmV0dXJuIGkuJGNvbnRleHR8fChpLiRjb250ZXh0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gQ2kodCx7dGljazppLGluZGV4OmUsdHlwZToidGljayJ9KX0odGhpcy5nZXRDb250ZXh0KCksdCxpKSl9cmV0dXJuIHRoaXMuJGNvbnRleHR8fCh0aGlzLiRjb250ZXh0PUNpKHRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLHtzY2FsZTp0aGlzLHR5cGU6InNjYWxlIn0pKX1fdGlja1NpemUoKXtjb25zdCB0PXRoaXMub3B0aW9ucy50aWNrcyxlPSQodGhpcy5sYWJlbFJvdGF0aW9uKSxpPU1hdGguYWJzKE1hdGguY29zKGUpKSxzPU1hdGguYWJzKE1hdGguc2luKGUpKSxuPXRoaXMuX2dldExhYmVsU2l6ZXMoKSxvPXQuYXV0b1NraXBQYWRkaW5nfHwwLGE9bj9uLndpZGVzdC53aWR0aCtvOjAscj1uP24uaGlnaGVzdC5oZWlnaHQrbzowO3JldHVybiB0aGlzLmlzSG9yaXpvbnRhbCgpP3IqaT5hKnM/YS9pOnIvczpyKnM8YSppP3IvaTphL3N9X2lzVmlzaWJsZSgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLmRpc3BsYXk7cmV0dXJuImF1dG8iIT09dD8hIXQ6dGhpcy5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcygpLmxlbmd0aD4wfV9jb21wdXRlR3JpZExpbmVJdGVtcyh0KXtjb25zdCBlPXRoaXMuYXhpcyxpPXRoaXMuY2hhcnQscz10aGlzLm9wdGlvbnMse2dyaWQ6bixwb3NpdGlvbjphLGJvcmRlcjpyfT1zLGg9bi5vZmZzZXQsYz10aGlzLmlzSG9yaXpvbnRhbCgpLGQ9dGhpcy50aWNrcy5sZW5ndGgrKGg/MTowKSx1PUtzKG4pLGY9W10sZz1yLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpLHA9Zy5kaXNwbGF5P2cud2lkdGg6MCxtPXAvMixiPWZ1bmN0aW9uKHQpe3JldHVybiBBZShpLHQscCl9O2xldCB4LF8seSx2LE0sdyxrLFMsUCxELEMsTztpZigidG9wIj09PWEpeD1iKHRoaXMuYm90dG9tKSx3PXRoaXMuYm90dG9tLXUsUz14LW0sRD1iKHQudG9wKSttLE89dC5ib3R0b207ZWxzZSBpZigiYm90dG9tIj09PWEpeD1iKHRoaXMudG9wKSxEPXQudG9wLE89Yih0LmJvdHRvbSktbSx3PXgrbSxTPXRoaXMudG9wK3U7ZWxzZSBpZigibGVmdCI9PT1hKXg9Yih0aGlzLnJpZ2h0KSxNPXRoaXMucmlnaHQtdSxrPXgtbSxQPWIodC5sZWZ0KSttLEM9dC5yaWdodDtlbHNlIGlmKCJyaWdodCI9PT1hKXg9Yih0aGlzLmxlZnQpLFA9dC5sZWZ0LEM9Yih0LnJpZ2h0KS1tLE09eCttLGs9dGhpcy5sZWZ0K3U7ZWxzZSBpZigieCI9PT1lKXtpZigiY2VudGVyIj09PWEpeD1iKCh0LnRvcCt0LmJvdHRvbSkvMisuNSk7ZWxzZSBpZihvKGEpKXtjb25zdCB0PU9iamVjdC5rZXlzKGEpWzBdLGU9YVt0XTt4PWIodGhpcy5jaGFydC5zY2FsZXNbdF0uZ2V0UGl4ZWxGb3JWYWx1ZShlKSl9RD10LnRvcCxPPXQuYm90dG9tLHc9eCttLFM9dyt1fWVsc2UgaWYoInkiPT09ZSl7aWYoImNlbnRlciI9PT1hKXg9YigodC5sZWZ0K3QucmlnaHQpLzIpO2Vsc2UgaWYobyhhKSl7Y29uc3QgdD1PYmplY3Qua2V5cyhhKVswXSxlPWFbdF07eD1iKHRoaXMuY2hhcnQuc2NhbGVzW3RdLmdldFBpeGVsRm9yVmFsdWUoZSkpfU09eC1tLGs9TS11LFA9dC5sZWZ0LEM9dC5yaWdodH1jb25zdCBBPWwocy50aWNrcy5tYXhUaWNrc0xpbWl0LGQpLFQ9TWF0aC5tYXgoMSxNYXRoLmNlaWwoZC9BKSk7Zm9yKF89MDtfPGQ7Xys9VCl7Y29uc3QgdD10aGlzLmdldENvbnRleHQoXyksZT1uLnNldENvbnRleHQodCkscz1yLnNldENvbnRleHQodCksbz1lLmxpbmVXaWR0aCxhPWUuY29sb3IsbD1zLmRhc2h8fFtdLGQ9cy5kYXNoT2Zmc2V0LHU9ZS50aWNrV2lkdGgsZz1lLnRpY2tDb2xvcixwPWUudGlja0JvcmRlckRhc2h8fFtdLG09ZS50aWNrQm9yZGVyRGFzaE9mZnNldDt5PXFzKHRoaXMsXyxoKSx2b2lkIDAhPT15JiYodj1BZShpLHksbyksYz9NPWs9UD1DPXY6dz1TPUQ9Tz12LGYucHVzaCh7dHgxOk0sdHkxOncsdHgyOmssdHkyOlMseDE6UCx5MTpELHgyOkMseTI6Tyx3aWR0aDpvLGNvbG9yOmEsYm9yZGVyRGFzaDpsLGJvcmRlckRhc2hPZmZzZXQ6ZCx0aWNrV2lkdGg6dSx0aWNrQ29sb3I6Zyx0aWNrQm9yZGVyRGFzaDpwLHRpY2tCb3JkZXJEYXNoT2Zmc2V0Om19KSl9cmV0dXJuIHRoaXMuX3RpY2tzTGVuZ3RoPWQsdGhpcy5fYm9yZGVyVmFsdWU9eCxmfV9jb21wdXRlTGFiZWxJdGVtcyh0KXtjb25zdCBlPXRoaXMuYXhpcyxpPXRoaXMub3B0aW9ucyx7cG9zaXRpb246cyx0aWNrczphfT1pLHI9dGhpcy5pc0hvcml6b250YWwoKSxsPXRoaXMudGlja3Mse2FsaWduOmgsY3Jvc3NBbGlnbjpjLHBhZGRpbmc6ZCxtaXJyb3I6dX09YSxmPUtzKGkuZ3JpZCksZz1mK2QscD11Py1kOmcsbT0tJCh0aGlzLmxhYmVsUm90YXRpb24pLGI9W107bGV0IHgsXyx5LHYsTSx3LGssUyxQLEQsQyxPLEE9Im1pZGRsZSI7aWYoInRvcCI9PT1zKXc9dGhpcy5ib3R0b20tcCxrPXRoaXMuX2dldFhBeGlzTGFiZWxBbGlnbm1lbnQoKTtlbHNlIGlmKCJib3R0b20iPT09cyl3PXRoaXMudG9wK3Asaz10aGlzLl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCk7ZWxzZSBpZigibGVmdCI9PT1zKXtjb25zdCB0PXRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQoZik7az10LnRleHRBbGlnbixNPXQueH1lbHNlIGlmKCJyaWdodCI9PT1zKXtjb25zdCB0PXRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQoZik7az10LnRleHRBbGlnbixNPXQueH1lbHNlIGlmKCJ4Ij09PWUpe2lmKCJjZW50ZXIiPT09cyl3PSh0LnRvcCt0LmJvdHRvbSkvMitnO2Vsc2UgaWYobyhzKSl7Y29uc3QgdD1PYmplY3Qua2V5cyhzKVswXSxlPXNbdF07dz10aGlzLmNoYXJ0LnNjYWxlc1t0XS5nZXRQaXhlbEZvclZhbHVlKGUpK2d9az10aGlzLl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCl9ZWxzZSBpZigieSI9PT1lKXtpZigiY2VudGVyIj09PXMpTT0odC5sZWZ0K3QucmlnaHQpLzItZztlbHNlIGlmKG8ocykpe2NvbnN0IHQ9T2JqZWN0LmtleXMocylbMF0sZT1zW3RdO009dGhpcy5jaGFydC5zY2FsZXNbdF0uZ2V0UGl4ZWxGb3JWYWx1ZShlKX1rPXRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQoZikudGV4dEFsaWdufSJ5Ij09PWUmJigic3RhcnQiPT09aD9BPSJ0b3AiOiJlbmQiPT09aCYmKEE9ImJvdHRvbSIpKTtjb25zdCBUPXRoaXMuX2dldExhYmVsU2l6ZXMoKTtmb3IoeD0wLF89bC5sZW5ndGg7eDxfOysreCl7eT1sW3hdLHY9eS5sYWJlbDtjb25zdCB0PWEuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoeCkpO1M9dGhpcy5nZXRQaXhlbEZvclRpY2soeCkrYS5sYWJlbE9mZnNldCxQPXRoaXMuX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoeCksRD1QLmxpbmVIZWlnaHQsQz1uKHYpP3YubGVuZ3RoOjE7Y29uc3QgZT1DLzIsaT10LmNvbG9yLG89dC50ZXh0U3Ryb2tlQ29sb3IsaD10LnRleHRTdHJva2VXaWR0aDtsZXQgZCxmPWs7aWYocj8oTT1TLCJpbm5lciI9PT1rJiYoZj14PT09Xy0xP3RoaXMub3B0aW9ucy5yZXZlcnNlPyJsZWZ0IjoicmlnaHQiOjA9PT14P3RoaXMub3B0aW9ucy5yZXZlcnNlPyJyaWdodCI6ImxlZnQiOiJjZW50ZXIiKSxPPSJ0b3AiPT09cz8ibmVhciI9PT1jfHwwIT09bT8tQypEK0QvMjoiY2VudGVyIj09PWM/LVQuaGlnaGVzdC5oZWlnaHQvMi1lKkQrRDotVC5oaWdoZXN0LmhlaWdodCtELzI6Im5lYXIiPT09Y3x8MCE9PW0/RC8yOiJjZW50ZXIiPT09Yz9ULmhpZ2hlc3QuaGVpZ2h0LzItZSpEOlQuaGlnaGVzdC5oZWlnaHQtQypELHUmJihPKj0tMSksMD09PW18fHQuc2hvd0xhYmVsQmFja2Ryb3B8fChNKz1ELzIqTWF0aC5zaW4obSkpKToodz1TLE89KDEtQykqRC8yKSx0LnNob3dMYWJlbEJhY2tkcm9wKXtjb25zdCBlPWtpKHQuYmFja2Ryb3BQYWRkaW5nKSxpPVQuaGVpZ2h0c1t4XSxzPVQud2lkdGhzW3hdO2xldCBuPU8tZS50b3Asbz0wLWUubGVmdDtzd2l0Y2goQSl7Y2FzZSJtaWRkbGUiOm4tPWkvMjticmVhaztjYXNlImJvdHRvbSI6bi09aX1zd2l0Y2goayl7Y2FzZSJjZW50ZXIiOm8tPXMvMjticmVhaztjYXNlInJpZ2h0IjpvLT1zO2JyZWFrO2Nhc2UiaW5uZXIiOng9PT1fLTE/by09czp4PjAmJihvLT1zLzIpfWQ9e2xlZnQ6byx0b3A6bix3aWR0aDpzK2Uud2lkdGgsaGVpZ2h0OmkrZS5oZWlnaHQsY29sb3I6dC5iYWNrZHJvcENvbG9yfX1iLnB1c2goe2xhYmVsOnYsZm9udDpQLHRleHRPZmZzZXQ6TyxvcHRpb25zOntyb3RhdGlvbjptLGNvbG9yOmksc3Ryb2tlQ29sb3I6byxzdHJva2VXaWR0aDpoLHRleHRBbGlnbjpmLHRleHRCYXNlbGluZTpBLHRyYW5zbGF0aW9uOltNLHddLGJhY2tkcm9wOmR9fSl9cmV0dXJuIGJ9X2dldFhBeGlzTGFiZWxBbGlnbm1lbnQoKXtjb25zdHtwb3NpdGlvbjp0LHRpY2tzOmV9PXRoaXMub3B0aW9ucztpZigtJCh0aGlzLmxhYmVsUm90YXRpb24pKXJldHVybiJ0b3AiPT09dD8ibGVmdCI6InJpZ2h0IjtsZXQgaT0iY2VudGVyIjtyZXR1cm4ic3RhcnQiPT09ZS5hbGlnbj9pPSJsZWZ0IjoiZW5kIj09PWUuYWxpZ24/aT0icmlnaHQiOiJpbm5lciI9PT1lLmFsaWduJiYoaT0iaW5uZXIiKSxpfV9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHQpe2NvbnN0e3Bvc2l0aW9uOmUsdGlja3M6e2Nyb3NzQWxpZ246aSxtaXJyb3I6cyxwYWRkaW5nOm59fT10aGlzLm9wdGlvbnMsbz10K24sYT10aGlzLl9nZXRMYWJlbFNpemVzKCkud2lkZXN0LndpZHRoO2xldCByLGw7cmV0dXJuImxlZnQiPT09ZT9zPyhsPXRoaXMucmlnaHQrbiwibmVhciI9PT1pP3I9ImxlZnQiOiJjZW50ZXIiPT09aT8ocj0iY2VudGVyIixsKz1hLzIpOihyPSJyaWdodCIsbCs9YSkpOihsPXRoaXMucmlnaHQtbywibmVhciI9PT1pP3I9InJpZ2h0IjoiY2VudGVyIj09PWk/KHI9ImNlbnRlciIsbC09YS8yKToocj0ibGVmdCIsbD10aGlzLmxlZnQpKToicmlnaHQiPT09ZT9zPyhsPXRoaXMubGVmdCtuLCJuZWFyIj09PWk/cj0icmlnaHQiOiJjZW50ZXIiPT09aT8ocj0iY2VudGVyIixsLT1hLzIpOihyPSJsZWZ0IixsLT1hKSk6KGw9dGhpcy5sZWZ0K28sIm5lYXIiPT09aT9yPSJsZWZ0IjoiY2VudGVyIj09PWk/KHI9ImNlbnRlciIsbCs9YS8yKToocj0icmlnaHQiLGw9dGhpcy5yaWdodCkpOnI9InJpZ2h0Iix7dGV4dEFsaWduOnIseDpsfX1fY29tcHV0ZUxhYmVsQXJlYSgpe2lmKHRoaXMub3B0aW9ucy50aWNrcy5taXJyb3IpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jaGFydCxlPXRoaXMub3B0aW9ucy5wb3NpdGlvbjtyZXR1cm4ibGVmdCI9PT1lfHwicmlnaHQiPT09ZT97dG9wOjAsbGVmdDp0aGlzLmxlZnQsYm90dG9tOnQuaGVpZ2h0LHJpZ2h0OnRoaXMucmlnaHR9OiJ0b3AiPT09ZXx8ImJvdHRvbSI9PT1lP3t0b3A6dGhpcy50b3AsbGVmdDowLGJvdHRvbTp0aGlzLmJvdHRvbSxyaWdodDp0LndpZHRofTp2b2lkIDB9ZHJhd0JhY2tncm91bmQoKXtjb25zdHtjdHg6dCxvcHRpb25zOntiYWNrZ3JvdW5kQ29sb3I6ZX0sbGVmdDppLHRvcDpzLHdpZHRoOm4saGVpZ2h0Om99PXRoaXM7ZSYmKHQuc2F2ZSgpLHQuZmlsbFN0eWxlPWUsdC5maWxsUmVjdChpLHMsbixvKSx0LnJlc3RvcmUoKSl9Z2V0TGluZVdpZHRoRm9yVmFsdWUodCl7Y29uc3QgZT10aGlzLm9wdGlvbnMuZ3JpZDtpZighdGhpcy5faXNWaXNpYmxlKCl8fCFlLmRpc3BsYXkpcmV0dXJuIDA7Y29uc3QgaT10aGlzLnRpY2tzLmZpbmRJbmRleCgoZT0+ZS52YWx1ZT09PXQpKTtpZihpPj0wKXtyZXR1cm4gZS5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpKSkubGluZVdpZHRofXJldHVybiAwfWRyYXdHcmlkKHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLmdyaWQsaT10aGlzLmN0eCxzPXRoaXMuX2dyaWRMaW5lSXRlbXN8fCh0aGlzLl9ncmlkTGluZUl0ZW1zPXRoaXMuX2NvbXB1dGVHcmlkTGluZUl0ZW1zKHQpKTtsZXQgbixvO2NvbnN0IGE9KHQsZSxzKT0+e3Mud2lkdGgmJnMuY29sb3ImJihpLnNhdmUoKSxpLmxpbmVXaWR0aD1zLndpZHRoLGkuc3Ryb2tlU3R5bGU9cy5jb2xvcixpLnNldExpbmVEYXNoKHMuYm9yZGVyRGFzaHx8W10pLGkubGluZURhc2hPZmZzZXQ9cy5ib3JkZXJEYXNoT2Zmc2V0LGkuYmVnaW5QYXRoKCksaS5tb3ZlVG8odC54LHQueSksaS5saW5lVG8oZS54LGUueSksaS5zdHJva2UoKSxpLnJlc3RvcmUoKSl9O2lmKGUuZGlzcGxheSlmb3Iobj0wLG89cy5sZW5ndGg7bjxvOysrbil7Y29uc3QgdD1zW25dO2UuZHJhd09uQ2hhcnRBcmVhJiZhKHt4OnQueDEseTp0LnkxfSx7eDp0LngyLHk6dC55Mn0sdCksZS5kcmF3VGlja3MmJmEoe3g6dC50eDEseTp0LnR5MX0se3g6dC50eDIseTp0LnR5Mn0se2NvbG9yOnQudGlja0NvbG9yLHdpZHRoOnQudGlja1dpZHRoLGJvcmRlckRhc2g6dC50aWNrQm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0OnQudGlja0JvcmRlckRhc2hPZmZzZXR9KX19ZHJhd0JvcmRlcigpe2NvbnN0e2NoYXJ0OnQsY3R4OmUsb3B0aW9uczp7Ym9yZGVyOmksZ3JpZDpzfX09dGhpcyxuPWkuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSksbz1pLmRpc3BsYXk/bi53aWR0aDowO2lmKCFvKXJldHVybjtjb25zdCBhPXMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoMCkpLmxpbmVXaWR0aCxyPXRoaXMuX2JvcmRlclZhbHVlO2xldCBsLGgsYyxkO3RoaXMuaXNIb3Jpem9udGFsKCk/KGw9QWUodCx0aGlzLmxlZnQsbyktby8yLGg9QWUodCx0aGlzLnJpZ2h0LGEpK2EvMixjPWQ9cik6KGM9QWUodCx0aGlzLnRvcCxvKS1vLzIsZD1BZSh0LHRoaXMuYm90dG9tLGEpK2EvMixsPWg9ciksZS5zYXZlKCksZS5saW5lV2lkdGg9bi53aWR0aCxlLnN0cm9rZVN0eWxlPW4uY29sb3IsZS5iZWdpblBhdGgoKSxlLm1vdmVUbyhsLGMpLGUubGluZVRvKGgsZCksZS5zdHJva2UoKSxlLnJlc3RvcmUoKX1kcmF3TGFiZWxzKHQpe2lmKCF0aGlzLm9wdGlvbnMudGlja3MuZGlzcGxheSlyZXR1cm47Y29uc3QgZT10aGlzLmN0eCxpPXRoaXMuX2NvbXB1dGVMYWJlbEFyZWEoKTtpJiZJZShlLGkpO2NvbnN0IHM9dGhpcy5nZXRMYWJlbEl0ZW1zKHQpO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IGk9dC5vcHRpb25zLHM9dC5mb250O05lKGUsdC5sYWJlbCwwLHQudGV4dE9mZnNldCxzLGkpfWkmJnplKGUpfWRyYXdUaXRsZSgpe2NvbnN0e2N0eDp0LG9wdGlvbnM6e3Bvc2l0aW9uOmUsdGl0bGU6aSxyZXZlcnNlOnN9fT10aGlzO2lmKCFpLmRpc3BsYXkpcmV0dXJuO2NvbnN0IGE9U2koaS5mb250KSxyPWtpKGkucGFkZGluZyksbD1pLmFsaWduO2xldCBoPWEubGluZUhlaWdodC8yOyJib3R0b20iPT09ZXx8ImNlbnRlciI9PT1lfHxvKGUpPyhoKz1yLmJvdHRvbSxuKGkudGV4dCkmJihoKz1hLmxpbmVIZWlnaHQqKGkudGV4dC5sZW5ndGgtMSkpKTpoKz1yLnRvcDtjb25zdHt0aXRsZVg6Yyx0aXRsZVk6ZCxtYXhXaWR0aDp1LHJvdGF0aW9uOmZ9PWZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0e3RvcDpuLGxlZnQ6YSxib3R0b206cixyaWdodDpsLGNoYXJ0Omh9PXQse2NoYXJ0QXJlYTpjLHNjYWxlczpkfT1oO2xldCB1LGYsZyxwPTA7Y29uc3QgbT1yLW4sYj1sLWE7aWYodC5pc0hvcml6b250YWwoKSl7aWYoZj1mdChzLGEsbCksbyhpKSl7Y29uc3QgdD1PYmplY3Qua2V5cyhpKVswXSxzPWlbdF07Zz1kW3RdLmdldFBpeGVsRm9yVmFsdWUocykrbS1lfWVsc2UgZz0iY2VudGVyIj09PWk/KGMuYm90dG9tK2MudG9wKS8yK20tZTpZcyh0LGksZSk7dT1sLWF9ZWxzZXtpZihvKGkpKXtjb25zdCB0PU9iamVjdC5rZXlzKGkpWzBdLHM9aVt0XTtmPWRbdF0uZ2V0UGl4ZWxGb3JWYWx1ZShzKS1iK2V9ZWxzZSBmPSJjZW50ZXIiPT09aT8oYy5sZWZ0K2MucmlnaHQpLzItYitlOllzKHQsaSxlKTtnPWZ0KHMscixuKSxwPSJsZWZ0Ij09PWk/LUU6RX1yZXR1cm57dGl0bGVYOmYsdGl0bGVZOmcsbWF4V2lkdGg6dSxyb3RhdGlvbjpwfX0odGhpcyxoLGUsbCk7TmUodCxpLnRleHQsMCwwLGEse2NvbG9yOmkuY29sb3IsbWF4V2lkdGg6dSxyb3RhdGlvbjpmLHRleHRBbGlnbjpacyhsLGUscyksdGV4dEJhc2VsaW5lOiJtaWRkbGUiLHRyYW5zbGF0aW9uOltjLGRdfSl9ZHJhdyh0KXt0aGlzLl9pc1Zpc2libGUoKSYmKHRoaXMuZHJhd0JhY2tncm91bmQoKSx0aGlzLmRyYXdHcmlkKHQpLHRoaXMuZHJhd0JvcmRlcigpLHRoaXMuZHJhd1RpdGxlKCksdGhpcy5kcmF3TGFiZWxzKHQpKX1fbGF5ZXJzKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMsZT10LnRpY2tzJiZ0LnRpY2tzLnp8fDAsaT1sKHQuZ3JpZCYmdC5ncmlkLnosLTEpLHM9bCh0LmJvcmRlciYmdC5ib3JkZXIueiwwKTtyZXR1cm4gdGhpcy5faXNWaXNpYmxlKCkmJnRoaXMuZHJhdz09PUpzLnByb3RvdHlwZS5kcmF3P1t7ejppLGRyYXc6dD0+e3RoaXMuZHJhd0JhY2tncm91bmQoKSx0aGlzLmRyYXdHcmlkKHQpLHRoaXMuZHJhd1RpdGxlKCl9fSx7ejpzLGRyYXc6KCk9Pnt0aGlzLmRyYXdCb3JkZXIoKX19LHt6OmUsZHJhdzp0PT57dGhpcy5kcmF3TGFiZWxzKHQpfX1dOlt7ejplLGRyYXc6dD0+e3RoaXMuZHJhdyh0KX19XX1nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0KXtjb25zdCBlPXRoaXMuY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLGk9dGhpcy5heGlzKyJBeGlzSUQiLHM9W107bGV0IG4sbztmb3Iobj0wLG89ZS5sZW5ndGg7bjxvOysrbil7Y29uc3Qgbz1lW25dO29baV0hPT10aGlzLmlkfHx0JiZvLnR5cGUhPT10fHxzLnB1c2gobyl9cmV0dXJuIHN9X3Jlc29sdmVUaWNrRm9udE9wdGlvbnModCl7cmV0dXJuIFNpKHRoaXMub3B0aW9ucy50aWNrcy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCh0KSkuZm9udCl9X21heERpZ2l0cygpe2NvbnN0IHQ9dGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKS5saW5lSGVpZ2h0O3JldHVybih0aGlzLmlzSG9yaXpvbnRhbCgpP3RoaXMud2lkdGg6dGhpcy5oZWlnaHQpL3R9fWNsYXNzIFFze2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLnR5cGU9dCx0aGlzLnNjb3BlPWUsdGhpcy5vdmVycmlkZT1pLHRoaXMuaXRlbXM9T2JqZWN0LmNyZWF0ZShudWxsKX1pc0ZvclR5cGUodCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZi5jYWxsKHRoaXMudHlwZS5wcm90b3R5cGUsdC5wcm90b3R5cGUpfXJlZ2lzdGVyKHQpe2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO2xldCBpOyhmdW5jdGlvbih0KXtyZXR1cm4iaWQiaW4gdCYmImRlZmF1bHRzImluIHR9KShlKSYmKGk9dGhpcy5yZWdpc3RlcihlKSk7Y29uc3Qgcz10aGlzLml0ZW1zLG49dC5pZCxvPXRoaXMuc2NvcGUrIi4iK247aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJjbGFzcyBkb2VzIG5vdCBoYXZlIGlkOiAiK3QpO3JldHVybiBuIGluIHN8fChzW25dPXQsZnVuY3Rpb24odCxlLGkpe2NvbnN0IHM9YihPYmplY3QuY3JlYXRlKG51bGwpLFtpP3VlLmdldChpKTp7fSx1ZS5nZXQoZSksdC5kZWZhdWx0c10pO3VlLnNldChlLHMpLHQuZGVmYXVsdFJvdXRlcyYmZnVuY3Rpb24odCxlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57Y29uc3Qgcz1pLnNwbGl0KCIuIiksbj1zLnBvcCgpLG89W3RdLmNvbmNhdChzKS5qb2luKCIuIiksYT1lW2ldLnNwbGl0KCIuIikscj1hLnBvcCgpLGw9YS5qb2luKCIuIik7dWUucm91dGUobyxuLGwscil9KSl9KGUsdC5kZWZhdWx0Um91dGVzKTt0LmRlc2NyaXB0b3JzJiZ1ZS5kZXNjcmliZShlLHQuZGVzY3JpcHRvcnMpfSh0LG8saSksdGhpcy5vdmVycmlkZSYmdWUub3ZlcnJpZGUodC5pZCx0Lm92ZXJyaWRlcykpLG99Z2V0KHQpe3JldHVybiB0aGlzLml0ZW1zW3RdfXVucmVnaXN0ZXIodCl7Y29uc3QgZT10aGlzLml0ZW1zLGk9dC5pZCxzPXRoaXMuc2NvcGU7aSBpbiBlJiZkZWxldGUgZVtpXSxzJiZpIGluIHVlW3NdJiYoZGVsZXRlIHVlW3NdW2ldLHRoaXMub3ZlcnJpZGUmJmRlbGV0ZSByZVtpXSl9fWNsYXNzIHRue2NvbnN0cnVjdG9yKCl7dGhpcy5jb250cm9sbGVycz1uZXcgUXMoTnMsImRhdGFzZXRzIiwhMCksdGhpcy5lbGVtZW50cz1uZXcgUXMoSHMsImVsZW1lbnRzIiksdGhpcy5wbHVnaW5zPW5ldyBRcyhPYmplY3QsInBsdWdpbnMiKSx0aGlzLnNjYWxlcz1uZXcgUXMoSnMsInNjYWxlcyIpLHRoaXMuX3R5cGVkUmVnaXN0cmllcz1bdGhpcy5jb250cm9sbGVycyx0aGlzLnNjYWxlcyx0aGlzLmVsZW1lbnRzXX1hZGQoLi4udCl7dGhpcy5fZWFjaCgicmVnaXN0ZXIiLHQpfXJlbW92ZSguLi50KXt0aGlzLl9lYWNoKCJ1bnJlZ2lzdGVyIix0KX1hZGRDb250cm9sbGVycyguLi50KXt0aGlzLl9lYWNoKCJyZWdpc3RlciIsdCx0aGlzLmNvbnRyb2xsZXJzKX1hZGRFbGVtZW50cyguLi50KXt0aGlzLl9lYWNoKCJyZWdpc3RlciIsdCx0aGlzLmVsZW1lbnRzKX1hZGRQbHVnaW5zKC4uLnQpe3RoaXMuX2VhY2goInJlZ2lzdGVyIix0LHRoaXMucGx1Z2lucyl9YWRkU2NhbGVzKC4uLnQpe3RoaXMuX2VhY2goInJlZ2lzdGVyIix0LHRoaXMuc2NhbGVzKX1nZXRDb250cm9sbGVyKHQpe3JldHVybiB0aGlzLl9nZXQodCx0aGlzLmNvbnRyb2xsZXJzLCJjb250cm9sbGVyIil9Z2V0RWxlbWVudCh0KXtyZXR1cm4gdGhpcy5fZ2V0KHQsdGhpcy5lbGVtZW50cywiZWxlbWVudCIpfWdldFBsdWdpbih0KXtyZXR1cm4gdGhpcy5fZ2V0KHQsdGhpcy5wbHVnaW5zLCJwbHVnaW4iKX1nZXRTY2FsZSh0KXtyZXR1cm4gdGhpcy5fZ2V0KHQsdGhpcy5zY2FsZXMsInNjYWxlIil9cmVtb3ZlQ29udHJvbGxlcnMoLi4udCl7dGhpcy5fZWFjaCgidW5yZWdpc3RlciIsdCx0aGlzLmNvbnRyb2xsZXJzKX1yZW1vdmVFbGVtZW50cyguLi50KXt0aGlzLl9lYWNoKCJ1bnJlZ2lzdGVyIix0LHRoaXMuZWxlbWVudHMpfXJlbW92ZVBsdWdpbnMoLi4udCl7dGhpcy5fZWFjaCgidW5yZWdpc3RlciIsdCx0aGlzLnBsdWdpbnMpfXJlbW92ZVNjYWxlcyguLi50KXt0aGlzLl9lYWNoKCJ1bnJlZ2lzdGVyIix0LHRoaXMuc2NhbGVzKX1fZWFjaCh0LGUsaSl7Wy4uLmVdLmZvckVhY2goKGU9Pntjb25zdCBzPWl8fHRoaXMuX2dldFJlZ2lzdHJ5Rm9yVHlwZShlKTtpfHxzLmlzRm9yVHlwZShlKXx8cz09PXRoaXMucGx1Z2lucyYmZS5pZD90aGlzLl9leGVjKHQscyxlKTp1KGUsKGU9Pntjb25zdCBzPWl8fHRoaXMuX2dldFJlZ2lzdHJ5Rm9yVHlwZShlKTt0aGlzLl9leGVjKHQscyxlKX0pKX0pKX1fZXhlYyh0LGUsaSl7Y29uc3Qgcz13KHQpO2QoaVsiYmVmb3JlIitzXSxbXSxpKSxlW3RdKGkpLGQoaVsiYWZ0ZXIiK3NdLFtdLGkpfV9nZXRSZWdpc3RyeUZvclR5cGUodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl90eXBlZFJlZ2lzdHJpZXMubGVuZ3RoO2UrKyl7Y29uc3QgaT10aGlzLl90eXBlZFJlZ2lzdHJpZXNbZV07aWYoaS5pc0ZvclR5cGUodCkpcmV0dXJuIGl9cmV0dXJuIHRoaXMucGx1Z2luc31fZ2V0KHQsZSxpKXtjb25zdCBzPWUuZ2V0KHQpO2lmKHZvaWQgMD09PXMpdGhyb3cgbmV3IEVycm9yKCciJyt0KyciIGlzIG5vdCBhIHJlZ2lzdGVyZWQgJytpKyIuIik7cmV0dXJuIHN9fXZhciBlbj1uZXcgdG47Y2xhc3Mgc257Y29uc3RydWN0b3IoKXt0aGlzLl9pbml0PVtdfW5vdGlmeSh0LGUsaSxzKXsiYmVmb3JlSW5pdCI9PT1lJiYodGhpcy5faW5pdD10aGlzLl9jcmVhdGVEZXNjcmlwdG9ycyh0LCEwKSx0aGlzLl9ub3RpZnkodGhpcy5faW5pdCx0LCJpbnN0YWxsIikpO2NvbnN0IG49cz90aGlzLl9kZXNjcmlwdG9ycyh0KS5maWx0ZXIocyk6dGhpcy5fZGVzY3JpcHRvcnModCksbz10aGlzLl9ub3RpZnkobix0LGUsaSk7cmV0dXJuImFmdGVyRGVzdHJveSI9PT1lJiYodGhpcy5fbm90aWZ5KG4sdCwic3RvcCIpLHRoaXMuX25vdGlmeSh0aGlzLl9pbml0LHQsInVuaW5zdGFsbCIpKSxvfV9ub3RpZnkodCxlLGkscyl7cz1zfHx7fTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW4ucGx1Z2luO2lmKCExPT09ZCh0W2ldLFtlLHMsbi5vcHRpb25zXSx0KSYmcy5jYW5jZWxhYmxlKXJldHVybiExfXJldHVybiEwfWludmFsaWRhdGUoKXtzKHRoaXMuX2NhY2hlKXx8KHRoaXMuX29sZENhY2hlPXRoaXMuX2NhY2hlLHRoaXMuX2NhY2hlPXZvaWQgMCl9X2Rlc2NyaXB0b3JzKHQpe2lmKHRoaXMuX2NhY2hlKXJldHVybiB0aGlzLl9jYWNoZTtjb25zdCBlPXRoaXMuX2NhY2hlPXRoaXMuX2NyZWF0ZURlc2NyaXB0b3JzKHQpO3JldHVybiB0aGlzLl9ub3RpZnlTdGF0ZUNoYW5nZXModCksZX1fY3JlYXRlRGVzY3JpcHRvcnModCxlKXtjb25zdCBpPXQmJnQuY29uZmlnLHM9bChpLm9wdGlvbnMmJmkub3B0aW9ucy5wbHVnaW5zLHt9KSxuPWZ1bmN0aW9uKHQpe2NvbnN0IGU9e30saT1bXSxzPU9iamVjdC5rZXlzKGVuLnBsdWdpbnMuaXRlbXMpO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCsrKWkucHVzaChlbi5nZXRQbHVnaW4oc1t0XSkpO2NvbnN0IG49dC5wbHVnaW5zfHxbXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3Qgcz1uW3RdOy0xPT09aS5pbmRleE9mKHMpJiYoaS5wdXNoKHMpLGVbcy5pZF09ITApfXJldHVybntwbHVnaW5zOmksbG9jYWxJZHM6ZX19KGkpO3JldHVybiExIT09c3x8ZT9mdW5jdGlvbih0LHtwbHVnaW5zOmUsbG9jYWxJZHM6aX0scyxuKXtjb25zdCBvPVtdLGE9dC5nZXRDb250ZXh0KCk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLmlkLGw9bm4oc1tlXSxuKTtudWxsIT09bCYmby5wdXNoKHtwbHVnaW46cixvcHRpb25zOm9uKHQuY29uZmlnLHtwbHVnaW46cixsb2NhbDppW2VdfSxsLGEpfSl9cmV0dXJuIG99KHQsbixzLGUpOltdfV9ub3RpZnlTdGF0ZUNoYW5nZXModCl7Y29uc3QgZT10aGlzLl9vbGRDYWNoZXx8W10saT10aGlzLl9jYWNoZSxzPSh0LGUpPT50LmZpbHRlcigodD0+IWUuc29tZSgoZT0+dC5wbHVnaW4uaWQ9PT1lLnBsdWdpbi5pZCkpKSk7dGhpcy5fbm90aWZ5KHMoZSxpKSx0LCJzdG9wIiksdGhpcy5fbm90aWZ5KHMoaSxlKSx0LCJzdGFydCIpfX1mdW5jdGlvbiBubih0LGUpe3JldHVybiBlfHwhMSE9PXQ/ITA9PT10P3t9OnQ6bnVsbH1mdW5jdGlvbiBvbih0LHtwbHVnaW46ZSxsb2NhbDppfSxzLG4pe2NvbnN0IG89dC5wbHVnaW5TY29wZUtleXMoZSksYT10LmdldE9wdGlvblNjb3BlcyhzLG8pO3JldHVybiBpJiZlLmRlZmF1bHRzJiZhLnB1c2goZS5kZWZhdWx0cyksdC5jcmVhdGVSZXNvbHZlcihhLG4sWyIiXSx7c2NyaXB0YWJsZTohMSxpbmRleGFibGU6ITEsYWxsS2V5czohMH0pfWZ1bmN0aW9uIGFuKHQsZSl7Y29uc3QgaT11ZS5kYXRhc2V0c1t0XXx8e307cmV0dXJuKChlLmRhdGFzZXRzfHx7fSlbdF18fHt9KS5pbmRleEF4aXN8fGUuaW5kZXhBeGlzfHxpLmluZGV4QXhpc3x8IngifWZ1bmN0aW9uIHJuKHQpe2lmKCJ4Ij09PXR8fCJ5Ij09PXR8fCJyIj09PXQpcmV0dXJuIHR9ZnVuY3Rpb24gbG4odCwuLi5lKXtpZihybih0KSlyZXR1cm4gdDtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXMuYXhpc3x8KCJ0b3AiPT09KGk9cy5wb3NpdGlvbil8fCJib3R0b20iPT09aT8ieCI6ImxlZnQiPT09aXx8InJpZ2h0Ij09PWk/InkiOnZvaWQgMCl8fHQubGVuZ3RoPjEmJnJuKHRbMF0udG9Mb3dlckNhc2UoKSk7aWYoZSlyZXR1cm4gZX12YXIgaTt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZXRlcm1pbmUgdHlwZSBvZiAnJHt0fScgYXhpcy4gUGxlYXNlIHByb3ZpZGUgJ2F4aXMnIG9yICdwb3NpdGlvbicgb3B0aW9uLmApfWZ1bmN0aW9uIGhuKHQsZSxpKXtpZihpW2UrIkF4aXNJRCJdPT09dClyZXR1cm57YXhpczplfX1mdW5jdGlvbiBjbih0LGUpe2NvbnN0IGk9cmVbdC50eXBlXXx8e3NjYWxlczp7fX0scz1lLnNjYWxlc3x8e30sbj1hbih0LnR5cGUsZSksYT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChlPT57Y29uc3Qgcj1zW2VdO2lmKCFvKHIpKXJldHVybiBjb25zb2xlLmVycm9yKGBJbnZhbGlkIHNjYWxlIGNvbmZpZ3VyYXRpb24gZm9yIHNjYWxlOiAke2V9YCk7aWYoci5fcHJveHkpcmV0dXJuIGNvbnNvbGUud2FybihgSWdub3JpbmcgcmVzb2x2ZXIgcGFzc2VkIGFzIG9wdGlvbnMgZm9yIHNjYWxlOiAke2V9YCk7Y29uc3QgbD1sbihlLHIsZnVuY3Rpb24odCxlKXtpZihlLmRhdGEmJmUuZGF0YS5kYXRhc2V0cyl7Y29uc3QgaT1lLmRhdGEuZGF0YXNldHMuZmlsdGVyKChlPT5lLnhBeGlzSUQ9PT10fHxlLnlBeGlzSUQ9PT10KSk7aWYoaS5sZW5ndGgpcmV0dXJuIGhuKHQsIngiLGlbMF0pfHxobih0LCJ5IixpWzBdKX1yZXR1cm57fX0oZSx0KSx1ZS5zY2FsZXNbci50eXBlXSksaD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZT8iX2luZGV4XyI6Il92YWx1ZV8ifShsLG4pLGM9aS5zY2FsZXN8fHt9O2FbZV09eChPYmplY3QuY3JlYXRlKG51bGwpLFt7YXhpczpsfSxyLGNbbF0sY1toXV0pfSkpLHQuZGF0YS5kYXRhc2V0cy5mb3JFYWNoKChpPT57Y29uc3Qgbj1pLnR5cGV8fHQudHlwZSxvPWkuaW5kZXhBeGlzfHxhbihuLGUpLHI9KHJlW25dfHx7fSkuc2NhbGVzfHx7fTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKCh0PT57Y29uc3QgZT1mdW5jdGlvbih0LGUpe2xldCBpPXQ7cmV0dXJuIl9pbmRleF8iPT09dD9pPWU6Il92YWx1ZV8iPT09dCYmKGk9IngiPT09ZT8ieSI6IngiKSxpfSh0LG8pLG49aVtlKyJBeGlzSUQiXXx8ZTthW25dPWFbbl18fE9iamVjdC5jcmVhdGUobnVsbCkseChhW25dLFt7YXhpczplfSxzW25dLHJbdF1dKX0pKX0pKSxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKCh0PT57Y29uc3QgZT1hW3RdO3goZSxbdWUuc2NhbGVzW2UudHlwZV0sdWUuc2NhbGVdKX0pKSxhfWZ1bmN0aW9uIGRuKHQpe2NvbnN0IGU9dC5vcHRpb25zfHwodC5vcHRpb25zPXt9KTtlLnBsdWdpbnM9bChlLnBsdWdpbnMse30pLGUuc2NhbGVzPWNuKHQsZSl9ZnVuY3Rpb24gdW4odCl7cmV0dXJuKHQ9dHx8e30pLmRhdGFzZXRzPXQuZGF0YXNldHN8fFtdLHQubGFiZWxzPXQubGFiZWxzfHxbXSx0fWNvbnN0IGZuPW5ldyBNYXAsZ249bmV3IFNldDtmdW5jdGlvbiBwbih0LGUpe2xldCBpPWZuLmdldCh0KTtyZXR1cm4gaXx8KGk9ZSgpLGZuLnNldCh0LGkpLGduLmFkZChpKSksaX1jb25zdCBtbj0odCxlLGkpPT57Y29uc3Qgcz1NKGUsaSk7dm9pZCAwIT09cyYmdC5hZGQocyl9O2NsYXNzIGJue2NvbnN0cnVjdG9yKHQpe3RoaXMuX2NvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4odD10fHx7fSkuZGF0YT11bih0LmRhdGEpLGRuKHQpLHR9KHQpLHRoaXMuX3Njb3BlQ2FjaGU9bmV3IE1hcCx0aGlzLl9yZXNvbHZlckNhY2hlPW5ldyBNYXB9Z2V0IHBsYXRmb3JtKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5wbGF0Zm9ybX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9jb25maWcudHlwZX1zZXQgdHlwZSh0KXt0aGlzLl9jb25maWcudHlwZT10fWdldCBkYXRhKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5kYXRhfXNldCBkYXRhKHQpe3RoaXMuX2NvbmZpZy5kYXRhPXVuKHQpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5vcHRpb25zfXNldCBvcHRpb25zKHQpe3RoaXMuX2NvbmZpZy5vcHRpb25zPXR9Z2V0IHBsdWdpbnMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLnBsdWdpbnN9dXBkYXRlKCl7Y29uc3QgdD10aGlzLl9jb25maWc7dGhpcy5jbGVhckNhY2hlKCksZG4odCl9Y2xlYXJDYWNoZSgpe3RoaXMuX3Njb3BlQ2FjaGUuY2xlYXIoKSx0aGlzLl9yZXNvbHZlckNhY2hlLmNsZWFyKCl9ZGF0YXNldFNjb3BlS2V5cyh0KXtyZXR1cm4gcG4odCwoKCk9PltbYGRhdGFzZXRzLiR7dH1gLCIiXV0pKX1kYXRhc2V0QW5pbWF0aW9uU2NvcGVLZXlzKHQsZSl7cmV0dXJuIHBuKGAke3R9LnRyYW5zaXRpb24uJHtlfWAsKCgpPT5bW2BkYXRhc2V0cy4ke3R9LnRyYW5zaXRpb25zLiR7ZX1gLGB0cmFuc2l0aW9ucy4ke2V9YF0sW2BkYXRhc2V0cy4ke3R9YCwiIl1dKSl9ZGF0YXNldEVsZW1lbnRTY29wZUtleXModCxlKXtyZXR1cm4gcG4oYCR7dH0tJHtlfWAsKCgpPT5bW2BkYXRhc2V0cy4ke3R9LmVsZW1lbnRzLiR7ZX1gLGBkYXRhc2V0cy4ke3R9YCxgZWxlbWVudHMuJHtlfWAsIiJdXSkpfXBsdWdpblNjb3BlS2V5cyh0KXtjb25zdCBlPXQuaWQ7cmV0dXJuIHBuKGAke3RoaXMudHlwZX0tcGx1Z2luLSR7ZX1gLCgoKT0+W1tgcGx1Z2lucy4ke2V9YCwuLi50LmFkZGl0aW9uYWxPcHRpb25TY29wZXN8fFtdXV0pKX1fY2FjaGVkU2NvcGVzKHQsZSl7Y29uc3QgaT10aGlzLl9zY29wZUNhY2hlO2xldCBzPWkuZ2V0KHQpO3JldHVybiBzJiYhZXx8KHM9bmV3IE1hcCxpLnNldCh0LHMpKSxzfWdldE9wdGlvblNjb3Blcyh0LGUsaSl7Y29uc3R7b3B0aW9uczpzLHR5cGU6bn09dGhpcyxvPXRoaXMuX2NhY2hlZFNjb3Blcyh0LGkpLGE9by5nZXQoZSk7aWYoYSlyZXR1cm4gYTtjb25zdCByPW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57dCYmKHIuYWRkKHQpLGUuZm9yRWFjaCgoZT0+bW4ocix0LGUpKSkpLGUuZm9yRWFjaCgodD0+bW4ocixzLHQpKSksZS5mb3JFYWNoKCh0PT5tbihyLHJlW25dfHx7fSx0KSkpLGUuZm9yRWFjaCgodD0+bW4ocix1ZSx0KSkpLGUuZm9yRWFjaCgodD0+bW4ocixsZSx0KSkpfSkpO2NvbnN0IGw9QXJyYXkuZnJvbShyKTtyZXR1cm4gMD09PWwubGVuZ3RoJiZsLnB1c2goT2JqZWN0LmNyZWF0ZShudWxsKSksZ24uaGFzKGUpJiZvLnNldChlLGwpLGx9Y2hhcnRPcHRpb25TY29wZXMoKXtjb25zdHtvcHRpb25zOnQsdHlwZTplfT10aGlzO3JldHVyblt0LHJlW2VdfHx7fSx1ZS5kYXRhc2V0c1tlXXx8e30se3R5cGU6ZX0sdWUsbGVdfXJlc29sdmVOYW1lZE9wdGlvbnModCxlLGkscz1bIiJdKXtjb25zdCBvPXskc2hhcmVkOiEwfSx7cmVzb2x2ZXI6YSxzdWJQcmVmaXhlczpyfT14bih0aGlzLl9yZXNvbHZlckNhY2hlLHQscyk7bGV0IGw9YTtpZihmdW5jdGlvbih0LGUpe2NvbnN0e2lzU2NyaXB0YWJsZTppLGlzSW5kZXhhYmxlOnN9PVllKHQpO2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9aShvKSxhPXMobykscj0oYXx8ZSkmJnRbb107aWYoZSYmKFMocil8fF9uKHIpKXx8YSYmbihyKSlyZXR1cm4hMH1yZXR1cm4hMX0oYSxlKSl7by4kc2hhcmVkPSExO2w9JGUoYSxpPVMoaSk/aSgpOmksdGhpcy5jcmVhdGVSZXNvbHZlcih0LGkscikpfWZvcihjb25zdCB0IG9mIGUpb1t0XT1sW3RdO3JldHVybiBvfWNyZWF0ZVJlc29sdmVyKHQsZSxpPVsiIl0scyl7Y29uc3R7cmVzb2x2ZXI6bn09eG4odGhpcy5fcmVzb2x2ZXJDYWNoZSx0LGkpO3JldHVybiBvKGUpPyRlKG4sZSx2b2lkIDAscyk6bn19ZnVuY3Rpb24geG4odCxlLGkpe2xldCBzPXQuZ2V0KGUpO3N8fChzPW5ldyBNYXAsdC5zZXQoZSxzKSk7Y29uc3Qgbj1pLmpvaW4oKTtsZXQgbz1zLmdldChuKTtpZighbyl7bz17cmVzb2x2ZXI6amUoZSxpKSxzdWJQcmVmaXhlczppLmZpbHRlcigodD0+IXQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygiaG92ZXIiKSkpfSxzLnNldChuLG8pfXJldHVybiBvfWNvbnN0IF9uPXQ9Pm8odCkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLnNvbWUoKGU9PlModFtlXSkpKTtjb25zdCB5bj1bInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsImNoYXJ0QXJlYSJdO2Z1bmN0aW9uIHZuKHQsZSl7cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR8fC0xPT09eW4uaW5kZXhPZih0KSYmIngiPT09ZX1mdW5jdGlvbiBNbih0LGUpe3JldHVybiBmdW5jdGlvbihpLHMpe3JldHVybiBpW3RdPT09c1t0XT9pW2VdLXNbZV06aVt0XS1zW3RdfX1mdW5jdGlvbiB3bih0KXtjb25zdCBlPXQuY2hhcnQsaT1lLm9wdGlvbnMuYW5pbWF0aW9uO2Uubm90aWZ5UGx1Z2lucygiYWZ0ZXJSZW5kZXIiKSxkKGkmJmkub25Db21wbGV0ZSxbdF0sZSl9ZnVuY3Rpb24ga24odCl7Y29uc3QgZT10LmNoYXJ0LGk9ZS5vcHRpb25zLmFuaW1hdGlvbjtkKGkmJmkub25Qcm9ncmVzcyxbdF0sZSl9ZnVuY3Rpb24gU24odCl7cmV0dXJuIGZlKCkmJiJzdHJpbmciPT10eXBlb2YgdD90PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpOnQmJnQubGVuZ3RoJiYodD10WzBdKSx0JiZ0LmNhbnZhcyYmKHQ9dC5jYW52YXMpLHR9Y29uc3QgUG49e30sRG49dD0+e2NvbnN0IGU9U24odCk7cmV0dXJuIE9iamVjdC52YWx1ZXMoUG4pLmZpbHRlcigodD0+dC5jYW52YXM9PT1lKSkucG9wKCl9O2Z1bmN0aW9uIENuKHQsZSxpKXtjb25zdCBzPU9iamVjdC5rZXlzKHQpO2Zvcihjb25zdCBuIG9mIHMpe2NvbnN0IHM9K247aWYocz49ZSl7Y29uc3Qgbz10W25dO2RlbGV0ZSB0W25dLChpPjB8fHM+ZSkmJih0W3MraV09byl9fX1mdW5jdGlvbiBPbih0LGUsaSl7cmV0dXJuIHQub3B0aW9ucy5jbGlwP3RbaV06ZVtpXX1jbGFzcyBBbntzdGF0aWMgZGVmYXVsdHM9dWU7c3RhdGljIGluc3RhbmNlcz1QbjtzdGF0aWMgb3ZlcnJpZGVzPXJlO3N0YXRpYyByZWdpc3RyeT1lbjtzdGF0aWMgdmVyc2lvbj0iNC40LjEiO3N0YXRpYyBnZXRDaGFydD1EbjtzdGF0aWMgcmVnaXN0ZXIoLi4udCl7ZW4uYWRkKC4uLnQpLFRuKCl9c3RhdGljIHVucmVnaXN0ZXIoLi4udCl7ZW4ucmVtb3ZlKC4uLnQpLFRuKCl9Y29uc3RydWN0b3IodCxlKXtjb25zdCBzPXRoaXMuY29uZmlnPW5ldyBibihlKSxuPVNuKHQpLG89RG4obik7aWYobyl0aHJvdyBuZXcgRXJyb3IoIkNhbnZhcyBpcyBhbHJlYWR5IGluIHVzZS4gQ2hhcnQgd2l0aCBJRCAnIitvLmlkKyInIG11c3QgYmUgZGVzdHJveWVkIGJlZm9yZSB0aGUgY2FudmFzIHdpdGggSUQgJyIrby5jYW52YXMuaWQrIicgY2FuIGJlIHJldXNlZC4iKTtjb25zdCBhPXMuY3JlYXRlUmVzb2x2ZXIocy5jaGFydE9wdGlvblNjb3BlcygpLHRoaXMuZ2V0Q29udGV4dCgpKTt0aGlzLnBsYXRmb3JtPW5ldyhzLnBsYXRmb3JtfHxrcyhuKSksdGhpcy5wbGF0Zm9ybS51cGRhdGVDb25maWcocyk7Y29uc3Qgcj10aGlzLnBsYXRmb3JtLmFjcXVpcmVDb250ZXh0KG4sYS5hc3BlY3RSYXRpbyksbD1yJiZyLmNhbnZhcyxoPWwmJmwuaGVpZ2h0LGM9bCYmbC53aWR0aDt0aGlzLmlkPWkoKSx0aGlzLmN0eD1yLHRoaXMuY2FudmFzPWwsdGhpcy53aWR0aD1jLHRoaXMuaGVpZ2h0PWgsdGhpcy5fb3B0aW9ucz1hLHRoaXMuX2FzcGVjdFJhdGlvPXRoaXMuYXNwZWN0UmF0aW8sdGhpcy5fbGF5ZXJzPVtdLHRoaXMuX21ldGFzZXRzPVtdLHRoaXMuX3N0YWNrcz12b2lkIDAsdGhpcy5ib3hlcz1bXSx0aGlzLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvPXZvaWQgMCx0aGlzLmNoYXJ0QXJlYT12b2lkIDAsdGhpcy5fYWN0aXZlPVtdLHRoaXMuX2xhc3RFdmVudD12b2lkIDAsdGhpcy5fbGlzdGVuZXJzPXt9LHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM9dm9pZCAwLHRoaXMuX3NvcnRlZE1ldGFzZXRzPVtdLHRoaXMuc2NhbGVzPXt9LHRoaXMuX3BsdWdpbnM9bmV3IHNuLHRoaXMuJHByb3hpZXM9e30sdGhpcy5faGlkZGVuSW5kaWNlcz17fSx0aGlzLmF0dGFjaGVkPSExLHRoaXMuX2FuaW1hdGlvbnNEaXNhYmxlZD12b2lkIDAsdGhpcy4kY29udGV4dD12b2lkIDAsdGhpcy5fZG9SZXNpemU9ZHQoKHQ9PnRoaXMudXBkYXRlKHQpKSxhLnJlc2l6ZURlbGF5fHwwKSx0aGlzLl9kYXRhQ2hhbmdlcz1bXSxQblt0aGlzLmlkXT10aGlzLHImJmw/KHh0Lmxpc3Rlbih0aGlzLCJjb21wbGV0ZSIsd24pLHh0Lmxpc3Rlbih0aGlzLCJwcm9ncmVzcyIsa24pLHRoaXMuX2luaXRpYWxpemUoKSx0aGlzLmF0dGFjaGVkJiZ0aGlzLnVwZGF0ZSgpKTpjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gY3JlYXRlIGNoYXJ0OiBjYW4ndCBhY3F1aXJlIGNvbnRleHQgZnJvbSB0aGUgZ2l2ZW4gaXRlbSIpfWdldCBhc3BlY3RSYXRpbygpe2NvbnN0e29wdGlvbnM6e2FzcGVjdFJhdGlvOnQsbWFpbnRhaW5Bc3BlY3RSYXRpbzplfSx3aWR0aDppLGhlaWdodDpuLF9hc3BlY3RSYXRpbzpvfT10aGlzO3JldHVybiBzKHQpP2UmJm8/bzpuP2kvbjpudWxsOnR9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5jb25maWcuZGF0YX1zZXQgZGF0YSh0KXt0aGlzLmNvbmZpZy5kYXRhPXR9Z2V0IG9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fb3B0aW9uc31zZXQgb3B0aW9ucyh0KXt0aGlzLmNvbmZpZy5vcHRpb25zPXR9Z2V0IHJlZ2lzdHJ5KCl7cmV0dXJuIGVufV9pbml0aWFsaXplKCl7cmV0dXJuIHRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlSW5pdCIpLHRoaXMub3B0aW9ucy5yZXNwb25zaXZlP3RoaXMucmVzaXplKCk6a2UodGhpcyx0aGlzLm9wdGlvbnMuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5iaW5kRXZlbnRzKCksdGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlckluaXQiKSx0aGlzfWNsZWFyKCl7cmV0dXJuIFRlKHRoaXMuY2FudmFzLHRoaXMuY3R4KSx0aGlzfXN0b3AoKXtyZXR1cm4geHQuc3RvcCh0aGlzKSx0aGlzfXJlc2l6ZSh0LGUpe3h0LnJ1bm5pbmcodGhpcyk/dGhpcy5fcmVzaXplQmVmb3JlRHJhdz17d2lkdGg6dCxoZWlnaHQ6ZX06dGhpcy5fcmVzaXplKHQsZSl9X3Jlc2l6ZSh0LGUpe2NvbnN0IGk9dGhpcy5vcHRpb25zLHM9dGhpcy5jYW52YXMsbj1pLm1haW50YWluQXNwZWN0UmF0aW8mJnRoaXMuYXNwZWN0UmF0aW8sbz10aGlzLnBsYXRmb3JtLmdldE1heGltdW1TaXplKHMsdCxlLG4pLGE9aS5kZXZpY2VQaXhlbFJhdGlvfHx0aGlzLnBsYXRmb3JtLmdldERldmljZVBpeGVsUmF0aW8oKSxyPXRoaXMud2lkdGg/InJlc2l6ZSI6ImF0dGFjaCI7dGhpcy53aWR0aD1vLndpZHRoLHRoaXMuaGVpZ2h0PW8uaGVpZ2h0LHRoaXMuX2FzcGVjdFJhdGlvPXRoaXMuYXNwZWN0UmF0aW8sa2UodGhpcyxhLCEwKSYmKHRoaXMubm90aWZ5UGx1Z2lucygicmVzaXplIix7c2l6ZTpvfSksZChpLm9uUmVzaXplLFt0aGlzLG9dLHRoaXMpLHRoaXMuYXR0YWNoZWQmJnRoaXMuX2RvUmVzaXplKHIpJiZ0aGlzLnJlbmRlcigpKX1lbnN1cmVTY2FsZXNIYXZlSURzKCl7dSh0aGlzLm9wdGlvbnMuc2NhbGVzfHx7fSwoKHQsZSk9Pnt0LmlkPWV9KSl9YnVpbGRPclVwZGF0ZVNjYWxlcygpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9dC5zY2FsZXMsaT10aGlzLnNjYWxlcyxzPU9iamVjdC5rZXlzKGkpLnJlZHVjZSgoKHQsZSk9Pih0W2VdPSExLHQpKSx7fSk7bGV0IG49W107ZSYmKG49bi5jb25jYXQoT2JqZWN0LmtleXMoZSkubWFwKCh0PT57Y29uc3QgaT1lW3RdLHM9bG4odCxpKSxuPSJyIj09PXMsbz0ieCI9PT1zO3JldHVybntvcHRpb25zOmksZHBvc2l0aW9uOm4/ImNoYXJ0QXJlYSI6bz8iYm90dG9tIjoibGVmdCIsZHR5cGU6bj8icmFkaWFsTGluZWFyIjpvPyJjYXRlZ29yeSI6ImxpbmVhciJ9fSkpKSksdShuLChlPT57Y29uc3Qgbj1lLm9wdGlvbnMsbz1uLmlkLGE9bG4obyxuKSxyPWwobi50eXBlLGUuZHR5cGUpO3ZvaWQgMCE9PW4ucG9zaXRpb24mJnZuKG4ucG9zaXRpb24sYSk9PT12bihlLmRwb3NpdGlvbil8fChuLnBvc2l0aW9uPWUuZHBvc2l0aW9uKSxzW29dPSEwO2xldCBoPW51bGw7aWYobyBpbiBpJiZpW29dLnR5cGU9PT1yKWg9aVtvXTtlbHNle2g9bmV3KGVuLmdldFNjYWxlKHIpKSh7aWQ6byx0eXBlOnIsY3R4OnRoaXMuY3R4LGNoYXJ0OnRoaXN9KSxpW2guaWRdPWh9aC5pbml0KG4sdCl9KSksdShzLCgodCxlKT0+e3R8fGRlbGV0ZSBpW2VdfSkpLHUoaSwodD0+e2FzLmNvbmZpZ3VyZSh0aGlzLHQsdC5vcHRpb25zKSxhcy5hZGRCb3godGhpcyx0KX0pKX1fdXBkYXRlTWV0YXNldHMoKXtjb25zdCB0PXRoaXMuX21ldGFzZXRzLGU9dGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aCxpPXQubGVuZ3RoO2lmKHQuc29ydCgoKHQsZSk9PnQuaW5kZXgtZS5pbmRleCkpLGk+ZSl7Zm9yKGxldCB0PWU7dDxpOysrdCl0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEodCk7dC5zcGxpY2UoZSxpLWUpfXRoaXMuX3NvcnRlZE1ldGFzZXRzPXQuc2xpY2UoMCkuc29ydChNbigib3JkZXIiLCJpbmRleCIpKX1fcmVtb3ZlVW5yZWZlcmVuY2VkTWV0YXNldHMoKXtjb25zdHtfbWV0YXNldHM6dCxkYXRhOntkYXRhc2V0czplfX09dGhpczt0Lmxlbmd0aD5lLmxlbmd0aCYmZGVsZXRlIHRoaXMuX3N0YWNrcyx0LmZvckVhY2goKCh0LGkpPT57MD09PWUuZmlsdGVyKChlPT5lPT09dC5fZGF0YXNldCkpLmxlbmd0aCYmdGhpcy5fZGVzdHJveURhdGFzZXRNZXRhKGkpfSkpfWJ1aWxkT3JVcGRhdGVDb250cm9sbGVycygpe2NvbnN0IHQ9W10sZT10aGlzLmRhdGEuZGF0YXNldHM7bGV0IGkscztmb3IodGhpcy5fcmVtb3ZlVW5yZWZlcmVuY2VkTWV0YXNldHMoKSxpPTAscz1lLmxlbmd0aDtpPHM7aSsrKXtjb25zdCBzPWVbaV07bGV0IG49dGhpcy5nZXREYXRhc2V0TWV0YShpKTtjb25zdCBvPXMudHlwZXx8dGhpcy5jb25maWcudHlwZTtpZihuLnR5cGUmJm4udHlwZSE9PW8mJih0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEoaSksbj10aGlzLmdldERhdGFzZXRNZXRhKGkpKSxuLnR5cGU9byxuLmluZGV4QXhpcz1zLmluZGV4QXhpc3x8YW4obyx0aGlzLm9wdGlvbnMpLG4ub3JkZXI9cy5vcmRlcnx8MCxuLmluZGV4PWksbi5sYWJlbD0iIitzLmxhYmVsLG4udmlzaWJsZT10aGlzLmlzRGF0YXNldFZpc2libGUoaSksbi5jb250cm9sbGVyKW4uY29udHJvbGxlci51cGRhdGVJbmRleChpKSxuLmNvbnRyb2xsZXIubGlua1NjYWxlcygpO2Vsc2V7Y29uc3QgZT1lbi5nZXRDb250cm9sbGVyKG8pLHtkYXRhc2V0RWxlbWVudFR5cGU6cyxkYXRhRWxlbWVudFR5cGU6YX09dWUuZGF0YXNldHNbb107T2JqZWN0LmFzc2lnbihlLHtkYXRhRWxlbWVudFR5cGU6ZW4uZ2V0RWxlbWVudChhKSxkYXRhc2V0RWxlbWVudFR5cGU6cyYmZW4uZ2V0RWxlbWVudChzKX0pLG4uY29udHJvbGxlcj1uZXcgZSh0aGlzLGkpLHQucHVzaChuLmNvbnRyb2xsZXIpfX1yZXR1cm4gdGhpcy5fdXBkYXRlTWV0YXNldHMoKSx0fV9yZXNldEVsZW1lbnRzKCl7dSh0aGlzLmRhdGEuZGF0YXNldHMsKCh0LGUpPT57dGhpcy5nZXREYXRhc2V0TWV0YShlKS5jb250cm9sbGVyLnJlc2V0KCl9KSx0aGlzKX1yZXNldCgpe3RoaXMuX3Jlc2V0RWxlbWVudHMoKSx0aGlzLm5vdGlmeVBsdWdpbnMoInJlc2V0Iil9dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5jb25maWc7ZS51cGRhdGUoKTtjb25zdCBpPXRoaXMuX29wdGlvbnM9ZS5jcmVhdGVSZXNvbHZlcihlLmNoYXJ0T3B0aW9uU2NvcGVzKCksdGhpcy5nZXRDb250ZXh0KCkpLHM9dGhpcy5fYW5pbWF0aW9uc0Rpc2FibGVkPSFpLmFuaW1hdGlvbjtpZih0aGlzLl91cGRhdGVTY2FsZXMoKSx0aGlzLl9jaGVja0V2ZW50QmluZGluZ3MoKSx0aGlzLl91cGRhdGVIaWRkZW5JbmRpY2VzKCksdGhpcy5fcGx1Z2lucy5pbnZhbGlkYXRlKCksITE9PT10aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZVVwZGF0ZSIse21vZGU6dCxjYW5jZWxhYmxlOiEwfSkpcmV0dXJuO2NvbnN0IG49dGhpcy5idWlsZE9yVXBkYXRlQ29udHJvbGxlcnMoKTt0aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZUVsZW1lbnRzVXBkYXRlIik7bGV0IG89MDtmb3IobGV0IHQ9MCxlPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7dDxlO3QrKyl7Y29uc3R7Y29udHJvbGxlcjplfT10aGlzLmdldERhdGFzZXRNZXRhKHQpLGk9IXMmJi0xPT09bi5pbmRleE9mKGUpO2UuYnVpbGRPclVwZGF0ZUVsZW1lbnRzKGkpLG89TWF0aC5tYXgoK2UuZ2V0TWF4T3ZlcmZsb3coKSxvKX1vPXRoaXMuX21pblBhZGRpbmc9aS5sYXlvdXQuYXV0b1BhZGRpbmc/bzowLHRoaXMuX3VwZGF0ZUxheW91dChvKSxzfHx1KG4sKHQ9Pnt0LnJlc2V0KCl9KSksdGhpcy5fdXBkYXRlRGF0YXNldHModCksdGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlclVwZGF0ZSIse21vZGU6dH0pLHRoaXMuX2xheWVycy5zb3J0KE1uKCJ6IiwiX2lkeCIpKTtjb25zdHtfYWN0aXZlOmEsX2xhc3RFdmVudDpyfT10aGlzO3I/dGhpcy5fZXZlbnRIYW5kbGVyKHIsITApOmEubGVuZ3RoJiZ0aGlzLl91cGRhdGVIb3ZlclN0eWxlcyhhLGEsITApLHRoaXMucmVuZGVyKCl9X3VwZGF0ZVNjYWxlcygpe3UodGhpcy5zY2FsZXMsKHQ9Pnthcy5yZW1vdmVCb3godGhpcyx0KX0pKSx0aGlzLmVuc3VyZVNjYWxlc0hhdmVJRHMoKSx0aGlzLmJ1aWxkT3JVcGRhdGVTY2FsZXMoKX1fY2hlY2tFdmVudEJpbmRpbmdzKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMsZT1uZXcgU2V0KE9iamVjdC5rZXlzKHRoaXMuX2xpc3RlbmVycykpLGk9bmV3IFNldCh0LmV2ZW50cyk7UChlLGkpJiYhIXRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM9PT10LnJlc3BvbnNpdmV8fCh0aGlzLnVuYmluZEV2ZW50cygpLHRoaXMuYmluZEV2ZW50cygpKX1fdXBkYXRlSGlkZGVuSW5kaWNlcygpe2NvbnN0e19oaWRkZW5JbmRpY2VzOnR9PXRoaXMsZT10aGlzLl9nZXRVbmlmb3JtRGF0YUNoYW5nZXMoKXx8W107Zm9yKGNvbnN0e21ldGhvZDppLHN0YXJ0OnMsY291bnQ6bn1vZiBlKXtDbih0LHMsIl9yZW1vdmVFbGVtZW50cyI9PT1pPy1uOm4pfX1fZ2V0VW5pZm9ybURhdGFDaGFuZ2VzKCl7Y29uc3QgdD10aGlzLl9kYXRhQ2hhbmdlcztpZighdHx8IXQubGVuZ3RoKXJldHVybjt0aGlzLl9kYXRhQ2hhbmdlcz1bXTtjb25zdCBlPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGgsaT1lPT5uZXcgU2V0KHQuZmlsdGVyKCh0PT50WzBdPT09ZSkpLm1hcCgoKHQsZSk9PmUrIiwiK3Quc3BsaWNlKDEpLmpvaW4oIiwiKSkpKSxzPWkoMCk7Zm9yKGxldCB0PTE7dDxlO3QrKylpZighUChzLGkodCkpKXJldHVybjtyZXR1cm4gQXJyYXkuZnJvbShzKS5tYXAoKHQ9PnQuc3BsaXQoIiwiKSkpLm1hcCgodD0+KHttZXRob2Q6dFsxXSxzdGFydDordFsyXSxjb3VudDordFszXX0pKSl9X3VwZGF0ZUxheW91dCh0KXtpZighMT09PXRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlTGF5b3V0Iix7Y2FuY2VsYWJsZTohMH0pKXJldHVybjthcy51cGRhdGUodGhpcyx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHQpO2NvbnN0IGU9dGhpcy5jaGFydEFyZWEsaT1lLndpZHRoPD0wfHxlLmhlaWdodDw9MDt0aGlzLl9sYXllcnM9W10sdSh0aGlzLmJveGVzLCh0PT57aSYmImNoYXJ0QXJlYSI9PT10LnBvc2l0aW9ufHwodC5jb25maWd1cmUmJnQuY29uZmlndXJlKCksdGhpcy5fbGF5ZXJzLnB1c2goLi4udC5fbGF5ZXJzKCkpKX0pLHRoaXMpLHRoaXMuX2xheWVycy5mb3JFYWNoKCgodCxlKT0+e3QuX2lkeD1lfSkpLHRoaXMubm90aWZ5UGx1Z2lucygiYWZ0ZXJMYXlvdXQiKX1fdXBkYXRlRGF0YXNldHModCl7aWYoITEhPT10aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZURhdGFzZXRzVXBkYXRlIix7bW9kZTp0LGNhbmNlbGFibGU6ITB9KSl7Zm9yKGxldCB0PTAsZT10aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoO3Q8ZTsrK3QpdGhpcy5nZXREYXRhc2V0TWV0YSh0KS5jb250cm9sbGVyLmNvbmZpZ3VyZSgpO2ZvcihsZXQgZT0wLGk9dGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDtlPGk7KytlKXRoaXMuX3VwZGF0ZURhdGFzZXQoZSxTKHQpP3Qoe2RhdGFzZXRJbmRleDplfSk6dCk7dGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlckRhdGFzZXRzVXBkYXRlIix7bW9kZTp0fSl9fV91cGRhdGVEYXRhc2V0KHQsZSl7Y29uc3QgaT10aGlzLmdldERhdGFzZXRNZXRhKHQpLHM9e21ldGE6aSxpbmRleDp0LG1vZGU6ZSxjYW5jZWxhYmxlOiEwfTshMSE9PXRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlRGF0YXNldFVwZGF0ZSIscykmJihpLmNvbnRyb2xsZXIuX3VwZGF0ZShlKSxzLmNhbmNlbGFibGU9ITEsdGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlckRhdGFzZXRVcGRhdGUiLHMpKX1yZW5kZXIoKXshMSE9PXRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlUmVuZGVyIix7Y2FuY2VsYWJsZTohMH0pJiYoeHQuaGFzKHRoaXMpP3RoaXMuYXR0YWNoZWQmJiF4dC5ydW5uaW5nKHRoaXMpJiZ4dC5zdGFydCh0aGlzKToodGhpcy5kcmF3KCksd24oe2NoYXJ0OnRoaXN9KSkpfWRyYXcoKXtsZXQgdDtpZih0aGlzLl9yZXNpemVCZWZvcmVEcmF3KXtjb25zdHt3aWR0aDp0LGhlaWdodDplfT10aGlzLl9yZXNpemVCZWZvcmVEcmF3O3RoaXMuX3Jlc2l6ZSh0LGUpLHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXc9bnVsbH1pZih0aGlzLmNsZWFyKCksdGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTApcmV0dXJuO2lmKCExPT09dGhpcy5ub3RpZnlQbHVnaW5zKCJiZWZvcmVEcmF3Iix7Y2FuY2VsYWJsZTohMH0pKXJldHVybjtjb25zdCBlPXRoaXMuX2xheWVycztmb3IodD0wO3Q8ZS5sZW5ndGgmJmVbdF0uejw9MDsrK3QpZVt0XS5kcmF3KHRoaXMuY2hhcnRBcmVhKTtmb3IodGhpcy5fZHJhd0RhdGFzZXRzKCk7dDxlLmxlbmd0aDsrK3QpZVt0XS5kcmF3KHRoaXMuY2hhcnRBcmVhKTt0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRHJhdyIpfV9nZXRTb3J0ZWREYXRhc2V0TWV0YXModCl7Y29uc3QgZT10aGlzLl9zb3J0ZWRNZXRhc2V0cyxpPVtdO2xldCBzLG47Zm9yKHM9MCxuPWUubGVuZ3RoO3M8bjsrK3Mpe2NvbnN0IG49ZVtzXTt0JiYhbi52aXNpYmxlfHxpLnB1c2gobil9cmV0dXJuIGl9Z2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpe3JldHVybiB0aGlzLl9nZXRTb3J0ZWREYXRhc2V0TWV0YXMoITApfV9kcmF3RGF0YXNldHMoKXtpZighMT09PXRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlRGF0YXNldHNEcmF3Iix7Y2FuY2VsYWJsZTohMH0pKXJldHVybjtjb25zdCB0PXRoaXMuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO2ZvcihsZXQgZT10Lmxlbmd0aC0xO2U+PTA7LS1lKXRoaXMuX2RyYXdEYXRhc2V0KHRbZV0pO3RoaXMubm90aWZ5UGx1Z2lucygiYWZ0ZXJEYXRhc2V0c0RyYXciKX1fZHJhd0RhdGFzZXQodCl7Y29uc3QgZT10aGlzLmN0eCxpPXQuX2NsaXAscz0haS5kaXNhYmxlZCxuPWZ1bmN0aW9uKHQsZSl7Y29uc3R7eFNjYWxlOmkseVNjYWxlOnN9PXQ7cmV0dXJuIGkmJnM/e2xlZnQ6T24oaSxlLCJsZWZ0IikscmlnaHQ6T24oaSxlLCJyaWdodCIpLHRvcDpPbihzLGUsInRvcCIpLGJvdHRvbTpPbihzLGUsImJvdHRvbSIpfTplfSh0LHRoaXMuY2hhcnRBcmVhKSxvPXttZXRhOnQsaW5kZXg6dC5pbmRleCxjYW5jZWxhYmxlOiEwfTshMSE9PXRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlRGF0YXNldERyYXciLG8pJiYocyYmSWUoZSx7bGVmdDohMT09PWkubGVmdD8wOm4ubGVmdC1pLmxlZnQscmlnaHQ6ITE9PT1pLnJpZ2h0P3RoaXMud2lkdGg6bi5yaWdodCtpLnJpZ2h0LHRvcDohMT09PWkudG9wPzA6bi50b3AtaS50b3AsYm90dG9tOiExPT09aS5ib3R0b20/dGhpcy5oZWlnaHQ6bi5ib3R0b20raS5ib3R0b219KSx0LmNvbnRyb2xsZXIuZHJhdygpLHMmJnplKGUpLG8uY2FuY2VsYWJsZT0hMSx0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRGF0YXNldERyYXciLG8pKX1pc1BvaW50SW5BcmVhKHQpe3JldHVybiBSZSh0LHRoaXMuY2hhcnRBcmVhLHRoaXMuX21pblBhZGRpbmcpfWdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUodCxlLGkscyl7Y29uc3Qgbj1YaS5tb2Rlc1tlXTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbj9uKHRoaXMsdCxpLHMpOltdfWdldERhdGFzZXRNZXRhKHQpe2NvbnN0IGU9dGhpcy5kYXRhLmRhdGFzZXRzW3RdLGk9dGhpcy5fbWV0YXNldHM7bGV0IHM9aS5maWx0ZXIoKHQ9PnQmJnQuX2RhdGFzZXQ9PT1lKSkucG9wKCk7cmV0dXJuIHN8fChzPXt0eXBlOm51bGwsZGF0YTpbXSxkYXRhc2V0Om51bGwsY29udHJvbGxlcjpudWxsLGhpZGRlbjpudWxsLHhBeGlzSUQ6bnVsbCx5QXhpc0lEOm51bGwsb3JkZXI6ZSYmZS5vcmRlcnx8MCxpbmRleDp0LF9kYXRhc2V0OmUsX3BhcnNlZDpbXSxfc29ydGVkOiExfSxpLnB1c2gocykpLHN9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLiRjb250ZXh0fHwodGhpcy4kY29udGV4dD1DaShudWxsLHtjaGFydDp0aGlzLHR5cGU6ImNoYXJ0In0pKX1nZXRWaXNpYmxlRGF0YXNldENvdW50KCl7cmV0dXJuIHRoaXMuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLmxlbmd0aH1pc0RhdGFzZXRWaXNpYmxlKHQpe2NvbnN0IGU9dGhpcy5kYXRhLmRhdGFzZXRzW3RdO2lmKCFlKXJldHVybiExO2NvbnN0IGk9dGhpcy5nZXREYXRhc2V0TWV0YSh0KTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBpLmhpZGRlbj8haS5oaWRkZW46IWUuaGlkZGVufXNldERhdGFzZXRWaXNpYmlsaXR5KHQsZSl7dGhpcy5nZXREYXRhc2V0TWV0YSh0KS5oaWRkZW49IWV9dG9nZ2xlRGF0YVZpc2liaWxpdHkodCl7dGhpcy5faGlkZGVuSW5kaWNlc1t0XT0hdGhpcy5faGlkZGVuSW5kaWNlc1t0XX1nZXREYXRhVmlzaWJpbGl0eSh0KXtyZXR1cm4hdGhpcy5faGlkZGVuSW5kaWNlc1t0XX1fdXBkYXRlVmlzaWJpbGl0eSh0LGUsaSl7Y29uc3Qgcz1pPyJzaG93IjoiaGlkZSIsbj10aGlzLmdldERhdGFzZXRNZXRhKHQpLG89bi5jb250cm9sbGVyLl9yZXNvbHZlQW5pbWF0aW9ucyh2b2lkIDAscyk7ayhlKT8obi5kYXRhW2VdLmhpZGRlbj0haSx0aGlzLnVwZGF0ZSgpKToodGhpcy5zZXREYXRhc2V0VmlzaWJpbGl0eSh0LGkpLG8udXBkYXRlKG4se3Zpc2libGU6aX0pLHRoaXMudXBkYXRlKChlPT5lLmRhdGFzZXRJbmRleD09PXQ/czp2b2lkIDApKSl9aGlkZSh0LGUpe3RoaXMuX3VwZGF0ZVZpc2liaWxpdHkodCxlLCExKX1zaG93KHQsZSl7dGhpcy5fdXBkYXRlVmlzaWJpbGl0eSh0LGUsITApfV9kZXN0cm95RGF0YXNldE1ldGEodCl7Y29uc3QgZT10aGlzLl9tZXRhc2V0c1t0XTtlJiZlLmNvbnRyb2xsZXImJmUuY29udHJvbGxlci5fZGVzdHJveSgpLGRlbGV0ZSB0aGlzLl9tZXRhc2V0c1t0XX1fc3RvcCgpe2xldCB0LGU7Zm9yKHRoaXMuc3RvcCgpLHh0LnJlbW92ZSh0aGlzKSx0PTAsZT10aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoO3Q8ZTsrK3QpdGhpcy5fZGVzdHJveURhdGFzZXRNZXRhKHQpfWRlc3Ryb3koKXt0aGlzLm5vdGlmeVBsdWdpbnMoImJlZm9yZURlc3Ryb3kiKTtjb25zdHtjYW52YXM6dCxjdHg6ZX09dGhpczt0aGlzLl9zdG9wKCksdGhpcy5jb25maWcuY2xlYXJDYWNoZSgpLHQmJih0aGlzLnVuYmluZEV2ZW50cygpLFRlKHQsZSksdGhpcy5wbGF0Zm9ybS5yZWxlYXNlQ29udGV4dChlKSx0aGlzLmNhbnZhcz1udWxsLHRoaXMuY3R4PW51bGwpLGRlbGV0ZSBQblt0aGlzLmlkXSx0aGlzLm5vdGlmeVBsdWdpbnMoImFmdGVyRGVzdHJveSIpfXRvQmFzZTY0SW1hZ2UoLi4udCl7cmV0dXJuIHRoaXMuY2FudmFzLnRvRGF0YVVSTCguLi50KX1iaW5kRXZlbnRzKCl7dGhpcy5iaW5kVXNlckV2ZW50cygpLHRoaXMub3B0aW9ucy5yZXNwb25zaXZlP3RoaXMuYmluZFJlc3BvbnNpdmVFdmVudHMoKTp0aGlzLmF0dGFjaGVkPSEwfWJpbmRVc2VyRXZlbnRzKCl7Y29uc3QgdD10aGlzLl9saXN0ZW5lcnMsZT10aGlzLnBsYXRmb3JtLGk9KGkscyk9PntlLmFkZEV2ZW50TGlzdGVuZXIodGhpcyxpLHMpLHRbaV09c30scz0odCxlLGkpPT57dC5vZmZzZXRYPWUsdC5vZmZzZXRZPWksdGhpcy5fZXZlbnRIYW5kbGVyKHQpfTt1KHRoaXMub3B0aW9ucy5ldmVudHMsKHQ9PmkodCxzKSkpfWJpbmRSZXNwb25zaXZlRXZlbnRzKCl7dGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVyc3x8KHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM9e30pO2NvbnN0IHQ9dGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyxlPXRoaXMucGxhdGZvcm0saT0oaSxzKT0+e2UuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLGkscyksdFtpXT1zfSxzPShpLHMpPT57dFtpXSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLGkscyksZGVsZXRlIHRbaV0pfSxuPSh0LGUpPT57dGhpcy5jYW52YXMmJnRoaXMucmVzaXplKHQsZSl9O2xldCBvO2NvbnN0IGE9KCk9PntzKCJhdHRhY2giLGEpLHRoaXMuYXR0YWNoZWQ9ITAsdGhpcy5yZXNpemUoKSxpKCJyZXNpemUiLG4pLGkoImRldGFjaCIsbyl9O289KCk9Pnt0aGlzLmF0dGFjaGVkPSExLHMoInJlc2l6ZSIsbiksdGhpcy5fc3RvcCgpLHRoaXMuX3Jlc2l6ZSgwLDApLGkoImF0dGFjaCIsYSl9LGUuaXNBdHRhY2hlZCh0aGlzLmNhbnZhcyk/YSgpOm8oKX11bmJpbmRFdmVudHMoKXt1KHRoaXMuX2xpc3RlbmVycywoKHQsZSk9Pnt0aGlzLnBsYXRmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcyxlLHQpfSkpLHRoaXMuX2xpc3RlbmVycz17fSx1KHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnMsKCh0LGUpPT57dGhpcy5wbGF0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMsZSx0KX0pKSx0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzPXZvaWQgMH11cGRhdGVIb3ZlclN0eWxlKHQsZSxpKXtjb25zdCBzPWk/InNldCI6InJlbW92ZSI7bGV0IG4sbyxhLHI7Zm9yKCJkYXRhc2V0Ij09PWUmJihuPXRoaXMuZ2V0RGF0YXNldE1ldGEodFswXS5kYXRhc2V0SW5kZXgpLG4uY29udHJvbGxlclsiXyIrcysiRGF0YXNldEhvdmVyU3R5bGUiXSgpKSxhPTAscj10Lmxlbmd0aDthPHI7KythKXtvPXRbYV07Y29uc3QgZT1vJiZ0aGlzLmdldERhdGFzZXRNZXRhKG8uZGF0YXNldEluZGV4KS5jb250cm9sbGVyO2UmJmVbcysiSG92ZXJTdHlsZSJdKG8uZWxlbWVudCxvLmRhdGFzZXRJbmRleCxvLmluZGV4KX19Z2V0QWN0aXZlRWxlbWVudHMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfHxbXX1zZXRBY3RpdmVFbGVtZW50cyh0KXtjb25zdCBlPXRoaXMuX2FjdGl2ZXx8W10saT10Lm1hcCgoKHtkYXRhc2V0SW5kZXg6dCxpbmRleDplfSk9Pntjb25zdCBpPXRoaXMuZ2V0RGF0YXNldE1ldGEodCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJObyBkYXRhc2V0IGZvdW5kIGF0IGluZGV4ICIrdCk7cmV0dXJue2RhdGFzZXRJbmRleDp0LGVsZW1lbnQ6aS5kYXRhW2VdLGluZGV4OmV9fSkpOyFmKGksZSkmJih0aGlzLl9hY3RpdmU9aSx0aGlzLl9sYXN0RXZlbnQ9bnVsbCx0aGlzLl91cGRhdGVIb3ZlclN0eWxlcyhpLGUpKX1ub3RpZnlQbHVnaW5zKHQsZSxpKXtyZXR1cm4gdGhpcy5fcGx1Z2lucy5ub3RpZnkodGhpcyx0LGUsaSl9aXNQbHVnaW5FbmFibGVkKHQpe3JldHVybiAxPT09dGhpcy5fcGx1Z2lucy5fY2FjaGUuZmlsdGVyKChlPT5lLnBsdWdpbi5pZD09PXQpKS5sZW5ndGh9X3VwZGF0ZUhvdmVyU3R5bGVzKHQsZSxpKXtjb25zdCBzPXRoaXMub3B0aW9ucy5ob3ZlcixuPSh0LGUpPT50LmZpbHRlcigodD0+IWUuc29tZSgoZT0+dC5kYXRhc2V0SW5kZXg9PT1lLmRhdGFzZXRJbmRleCYmdC5pbmRleD09PWUuaW5kZXgpKSkpLG89bihlLHQpLGE9aT90Om4odCxlKTtvLmxlbmd0aCYmdGhpcy51cGRhdGVIb3ZlclN0eWxlKG8scy5tb2RlLCExKSxhLmxlbmd0aCYmcy5tb2RlJiZ0aGlzLnVwZGF0ZUhvdmVyU3R5bGUoYSxzLm1vZGUsITApfV9ldmVudEhhbmRsZXIodCxlKXtjb25zdCBpPXtldmVudDp0LHJlcGxheTplLGNhbmNlbGFibGU6ITAsaW5DaGFydEFyZWE6dGhpcy5pc1BvaW50SW5BcmVhKHQpfSxzPWU9PihlLm9wdGlvbnMuZXZlbnRzfHx0aGlzLm9wdGlvbnMuZXZlbnRzKS5pbmNsdWRlcyh0Lm5hdGl2ZS50eXBlKTtpZighMT09PXRoaXMubm90aWZ5UGx1Z2lucygiYmVmb3JlRXZlbnQiLGkscykpcmV0dXJuO2NvbnN0IG49dGhpcy5faGFuZGxlRXZlbnQodCxlLGkuaW5DaGFydEFyZWEpO3JldHVybiBpLmNhbmNlbGFibGU9ITEsdGhpcy5ub3RpZnlQbHVnaW5zKCJhZnRlckV2ZW50IixpLHMpLChufHxpLmNoYW5nZWQpJiZ0aGlzLnJlbmRlcigpLHRoaXN9X2hhbmRsZUV2ZW50KHQsZSxpKXtjb25zdHtfYWN0aXZlOnM9W10sb3B0aW9uczpufT10aGlzLG89ZSxhPXRoaXMuX2dldEFjdGl2ZUVsZW1lbnRzKHQscyxpLG8pLHI9RCh0KSxsPWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBpJiYibW91c2VvdXQiIT09dC50eXBlP3M/ZTp0Om51bGx9KHQsdGhpcy5fbGFzdEV2ZW50LGkscik7aSYmKHRoaXMuX2xhc3RFdmVudD1udWxsLGQobi5vbkhvdmVyLFt0LGEsdGhpc10sdGhpcyksciYmZChuLm9uQ2xpY2ssW3QsYSx0aGlzXSx0aGlzKSk7Y29uc3QgaD0hZihhLHMpO3JldHVybihofHxlKSYmKHRoaXMuX2FjdGl2ZT1hLHRoaXMuX3VwZGF0ZUhvdmVyU3R5bGVzKGEscyxlKSksdGhpcy5fbGFzdEV2ZW50PWwsaH1fZ2V0QWN0aXZlRWxlbWVudHModCxlLGkscyl7aWYoIm1vdXNlb3V0Ij09PXQudHlwZSlyZXR1cm5bXTtpZighaSlyZXR1cm4gZTtjb25zdCBuPXRoaXMub3B0aW9ucy5ob3ZlcjtyZXR1cm4gdGhpcy5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKHQsbi5tb2RlLG4scyl9fWZ1bmN0aW9uIFRuKCl7cmV0dXJuIHUoQW4uaW5zdGFuY2VzLCh0PT50Ll9wbHVnaW5zLmludmFsaWRhdGUoKSkpfWZ1bmN0aW9uIExuKCl7dGhyb3cgbmV3IEVycm9yKCJUaGlzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQ6IENoZWNrIHRoYXQgYSBjb21wbGV0ZSBkYXRlIGFkYXB0ZXIgaXMgcHJvdmlkZWQuIil9Y2xhc3MgRW57c3RhdGljIG92ZXJyaWRlKHQpe09iamVjdC5hc3NpZ24oRW4ucHJvdG90eXBlLHQpfW9wdGlvbnM7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPXR8fHt9fWluaXQoKXt9Zm9ybWF0cygpe3JldHVybiBMbigpfXBhcnNlKCl7cmV0dXJuIExuKCl9Zm9ybWF0KCl7cmV0dXJuIExuKCl9YWRkKCl7cmV0dXJuIExuKCl9ZGlmZigpe3JldHVybiBMbigpfXN0YXJ0T2YoKXtyZXR1cm4gTG4oKX1lbmRPZigpe3JldHVybiBMbigpfX12YXIgUm49e19kYXRlOkVufTtmdW5jdGlvbiBJbih0KXtjb25zdCBlPXQuaVNjYWxlLGk9ZnVuY3Rpb24odCxlKXtpZighdC5fY2FjaGUuJGJhcil7Y29uc3QgaT10LmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKGUpO2xldCBzPVtdO2ZvcihsZXQgZT0wLG49aS5sZW5ndGg7ZTxuO2UrKylzPXMuY29uY2F0KGlbZV0uY29udHJvbGxlci5nZXRBbGxQYXJzZWRWYWx1ZXModCkpO3QuX2NhY2hlLiRiYXI9bHQocy5zb3J0KCgodCxlKT0+dC1lKSkpfXJldHVybiB0Ll9jYWNoZS4kYmFyfShlLHQudHlwZSk7bGV0IHMsbixvLGEscj1lLl9sZW5ndGg7Y29uc3QgbD0oKT0+ezMyNzY3IT09byYmLTMyNzY4IT09byYmKGsoYSkmJihyPU1hdGgubWluKHIsTWF0aC5hYnMoby1hKXx8cikpLGE9byl9O2ZvcihzPTAsbj1pLmxlbmd0aDtzPG47KytzKW89ZS5nZXRQaXhlbEZvclZhbHVlKGlbc10pLGwoKTtmb3IoYT12b2lkIDAscz0wLG49ZS50aWNrcy5sZW5ndGg7czxuOysrcylvPWUuZ2V0UGl4ZWxGb3JUaWNrKHMpLGwoKTtyZXR1cm4gcn1mdW5jdGlvbiB6bih0LGUsaSxzKXtyZXR1cm4gbih0KT9mdW5jdGlvbih0LGUsaSxzKXtjb25zdCBuPWkucGFyc2UodFswXSxzKSxvPWkucGFyc2UodFsxXSxzKSxhPU1hdGgubWluKG4sbykscj1NYXRoLm1heChuLG8pO2xldCBsPWEsaD1yO01hdGguYWJzKGEpPk1hdGguYWJzKHIpJiYobD1yLGg9YSksZVtpLmF4aXNdPWgsZS5fY3VzdG9tPXtiYXJTdGFydDpsLGJhckVuZDpoLHN0YXJ0Om4sZW5kOm8sbWluOmEsbWF4OnJ9fSh0LGUsaSxzKTplW2kuYXhpc109aS5wYXJzZSh0LHMpLGV9ZnVuY3Rpb24gRm4odCxlLGkscyl7Y29uc3Qgbj10LmlTY2FsZSxvPXQudlNjYWxlLGE9bi5nZXRMYWJlbHMoKSxyPW49PT1vLGw9W107bGV0IGgsYyxkLHU7Zm9yKGg9aSxjPWkrcztoPGM7KytoKXU9ZVtoXSxkPXt9LGRbbi5heGlzXT1yfHxuLnBhcnNlKGFbaF0saCksbC5wdXNoKHpuKHUsZCxvLGgpKTtyZXR1cm4gbH1mdW5jdGlvbiBWbih0KXtyZXR1cm4gdCYmdm9pZCAwIT09dC5iYXJTdGFydCYmdm9pZCAwIT09dC5iYXJFbmR9ZnVuY3Rpb24gQm4odCxlLGkscyl7bGV0IG49ZS5ib3JkZXJTa2lwcGVkO2NvbnN0IG89e307aWYoIW4pcmV0dXJuIHZvaWQodC5ib3JkZXJTa2lwcGVkPW8pO2lmKCEwPT09bilyZXR1cm4gdm9pZCh0LmJvcmRlclNraXBwZWQ9e3RvcDohMCxyaWdodDohMCxib3R0b206ITAsbGVmdDohMH0pO2NvbnN0e3N0YXJ0OmEsZW5kOnIscmV2ZXJzZTpsLHRvcDpoLGJvdHRvbTpjfT1mdW5jdGlvbih0KXtsZXQgZSxpLHMsbixvO3JldHVybiB0Lmhvcml6b250YWw/KGU9dC5iYXNlPnQueCxpPSJsZWZ0IixzPSJyaWdodCIpOihlPXQuYmFzZTx0LnksaT0iYm90dG9tIixzPSJ0b3AiKSxlPyhuPSJlbmQiLG89InN0YXJ0Iik6KG49InN0YXJ0IixvPSJlbmQiKSx7c3RhcnQ6aSxlbmQ6cyxyZXZlcnNlOmUsdG9wOm4sYm90dG9tOm99fSh0KTsibWlkZGxlIj09PW4mJmkmJih0LmVuYWJsZUJvcmRlclJhZGl1cz0hMCwoaS5fdG9wfHwwKT09PXM/bj1oOihpLl9ib3R0b218fDApPT09cz9uPWM6KG9bV24oYyxhLHIsbCldPSEwLG49aCkpLG9bV24obixhLHIsbCldPSEwLHQuYm9yZGVyU2tpcHBlZD1vfWZ1bmN0aW9uIFduKHQsZSxpLHMpe3ZhciBuLG8sYTtyZXR1cm4gcz8oYT1pLHQ9Tm4odD0obj10KT09PShvPWUpP2E6bj09PWE/bzpuLGksZSkpOnQ9Tm4odCxlLGkpLHR9ZnVuY3Rpb24gTm4odCxlLGkpe3JldHVybiJzdGFydCI9PT10P2U6ImVuZCI9PT10P2k6dH1mdW5jdGlvbiBIbih0LHtpbmZsYXRlQW1vdW50OmV9LGkpe3QuaW5mbGF0ZUFtb3VudD0iYXV0byI9PT1lPzE9PT1pPy4zMzowOmV9Y2xhc3Mgam4gZXh0ZW5kcyBOc3tzdGF0aWMgaWQ9ImRvdWdobnV0IjtzdGF0aWMgZGVmYXVsdHM9e2RhdGFzZXRFbGVtZW50VHlwZTohMSxkYXRhRWxlbWVudFR5cGU6ImFyYyIsYW5pbWF0aW9uOnthbmltYXRlUm90YXRlOiEwLGFuaW1hdGVTY2FsZTohMX0sYW5pbWF0aW9uczp7bnVtYmVyczp7dHlwZToibnVtYmVyIixwcm9wZXJ0aWVzOlsiY2lyY3VtZmVyZW5jZSIsImVuZEFuZ2xlIiwiaW5uZXJSYWRpdXMiLCJvdXRlclJhZGl1cyIsInN0YXJ0QW5nbGUiLCJ4IiwieSIsIm9mZnNldCIsImJvcmRlcldpZHRoIiwic3BhY2luZyJdfX0sY3V0b3V0OiI1MCUiLHJvdGF0aW9uOjAsY2lyY3VtZmVyZW5jZTozNjAscmFkaXVzOiIxMDAlIixzcGFjaW5nOjAsaW5kZXhBeGlzOiJyIn07c3RhdGljIGRlc2NyaXB0b3JzPXtfc2NyaXB0YWJsZTp0PT4ic3BhY2luZyIhPT10LF9pbmRleGFibGU6dD0+InNwYWNpbmciIT09dCYmIXQuc3RhcnRzV2l0aCgiYm9yZGVyRGFzaCIpJiYhdC5zdGFydHNXaXRoKCJob3ZlckJvcmRlckRhc2giKX07c3RhdGljIG92ZXJyaWRlcz17YXNwZWN0UmF0aW86MSxwbHVnaW5zOntsZWdlbmQ6e2xhYmVsczp7Z2VuZXJhdGVMYWJlbHModCl7Y29uc3QgZT10LmRhdGE7aWYoZS5sYWJlbHMubGVuZ3RoJiZlLmRhdGFzZXRzLmxlbmd0aCl7Y29uc3R7bGFiZWxzOntwb2ludFN0eWxlOmksY29sb3I6c319PXQubGVnZW5kLm9wdGlvbnM7cmV0dXJuIGUubGFiZWxzLm1hcCgoKGUsbik9Pntjb25zdCBvPXQuZ2V0RGF0YXNldE1ldGEoMCkuY29udHJvbGxlci5nZXRTdHlsZShuKTtyZXR1cm57dGV4dDplLGZpbGxTdHlsZTpvLmJhY2tncm91bmRDb2xvcixzdHJva2VTdHlsZTpvLmJvcmRlckNvbG9yLGZvbnRDb2xvcjpzLGxpbmVXaWR0aDpvLmJvcmRlcldpZHRoLHBvaW50U3R5bGU6aSxoaWRkZW46IXQuZ2V0RGF0YVZpc2liaWxpdHkobiksaW5kZXg6bn19KSl9cmV0dXJuW119fSxvbkNsaWNrKHQsZSxpKXtpLmNoYXJ0LnRvZ2dsZURhdGFWaXNpYmlsaXR5KGUuaW5kZXgpLGkuY2hhcnQudXBkYXRlKCl9fX19O2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmc9ITAsdGhpcy5pbm5lclJhZGl1cz12b2lkIDAsdGhpcy5vdXRlclJhZGl1cz12b2lkIDAsdGhpcy5vZmZzZXRYPXZvaWQgMCx0aGlzLm9mZnNldFk9dm9pZCAwfWxpbmtTY2FsZXMoKXt9cGFyc2UodCxlKXtjb25zdCBpPXRoaXMuZ2V0RGF0YXNldCgpLmRhdGEscz10aGlzLl9jYWNoZWRNZXRhO2lmKCExPT09dGhpcy5fcGFyc2luZylzLl9wYXJzZWQ9aTtlbHNle2xldCBuLGEscj10PT4raVt0XTtpZihvKGlbdF0pKXtjb25zdHtrZXk6dD0idmFsdWUifT10aGlzLl9wYXJzaW5nO3I9ZT0+K00oaVtlXSx0KX1mb3Iobj10LGE9dCtlO248YTsrK24pcy5fcGFyc2VkW25dPXIobil9fV9nZXRSb3RhdGlvbigpe3JldHVybiAkKHRoaXMub3B0aW9ucy5yb3RhdGlvbi05MCl9X2dldENpcmN1bWZlcmVuY2UoKXtyZXR1cm4gJCh0aGlzLm9wdGlvbnMuY2lyY3VtZmVyZW5jZSl9X2dldFJvdGF0aW9uRXh0ZW50cygpe2xldCB0PU8sZT0tTztmb3IobGV0IGk9MDtpPHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cy5sZW5ndGg7KytpKWlmKHRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSYmdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShpKS50eXBlPT09dGhpcy5fdHlwZSl7Y29uc3Qgcz10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGkpLmNvbnRyb2xsZXIsbj1zLl9nZXRSb3RhdGlvbigpLG89cy5fZ2V0Q2lyY3VtZmVyZW5jZSgpO3Q9TWF0aC5taW4odCxuKSxlPU1hdGgubWF4KGUsbitvKX1yZXR1cm57cm90YXRpb246dCxjaXJjdW1mZXJlbmNlOmUtdH19dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5jaGFydCx7Y2hhcnRBcmVhOml9PWUscz10aGlzLl9jYWNoZWRNZXRhLG49cy5kYXRhLG89dGhpcy5nZXRNYXhCb3JkZXJXaWR0aCgpK3RoaXMuZ2V0TWF4T2Zmc2V0KG4pK3RoaXMub3B0aW9ucy5zcGFjaW5nLGE9TWF0aC5tYXgoKE1hdGgubWluKGkud2lkdGgsaS5oZWlnaHQpLW8pLzIsMCkscj1NYXRoLm1pbihoKHRoaXMub3B0aW9ucy5jdXRvdXQsYSksMSksbD10aGlzLl9nZXRSaW5nV2VpZ2h0KHRoaXMuaW5kZXgpLHtjaXJjdW1mZXJlbmNlOmQscm90YXRpb246dX09dGhpcy5fZ2V0Um90YXRpb25FeHRlbnRzKCkse3JhdGlvWDpmLHJhdGlvWTpnLG9mZnNldFg6cCxvZmZzZXRZOm19PWZ1bmN0aW9uKHQsZSxpKXtsZXQgcz0xLG49MSxvPTAsYT0wO2lmKGU8Tyl7Y29uc3Qgcj10LGw9citlLGg9TWF0aC5jb3MociksYz1NYXRoLnNpbihyKSxkPU1hdGguY29zKGwpLHU9TWF0aC5zaW4obCksZj0odCxlLHMpPT5aKHQscixsLCEwKT8xOk1hdGgubWF4KGUsZSppLHMscyppKSxnPSh0LGUscyk9PloodCxyLGwsITApPy0xOk1hdGgubWluKGUsZSppLHMscyppKSxwPWYoMCxoLGQpLG09ZihFLGMsdSksYj1nKEMsaCxkKSx4PWcoQytFLGMsdSk7cz0ocC1iKS8yLG49KG0teCkvMixvPS0ocCtiKS8yLGE9LShtK3gpLzJ9cmV0dXJue3JhdGlvWDpzLHJhdGlvWTpuLG9mZnNldFg6byxvZmZzZXRZOmF9fSh1LGQsciksYj0oaS53aWR0aC1vKS9mLHg9KGkuaGVpZ2h0LW8pL2csXz1NYXRoLm1heChNYXRoLm1pbihiLHgpLzIsMCkseT1jKHRoaXMub3B0aW9ucy5yYWRpdXMsXyksdj0oeS1NYXRoLm1heCh5KnIsMCkpL3RoaXMuX2dldFZpc2libGVEYXRhc2V0V2VpZ2h0VG90YWwoKTt0aGlzLm9mZnNldFg9cCp5LHRoaXMub2Zmc2V0WT1tKnkscy50b3RhbD10aGlzLmNhbGN1bGF0ZVRvdGFsKCksdGhpcy5vdXRlclJhZGl1cz15LXYqdGhpcy5fZ2V0UmluZ1dlaWdodE9mZnNldCh0aGlzLmluZGV4KSx0aGlzLmlubmVyUmFkaXVzPU1hdGgubWF4KHRoaXMub3V0ZXJSYWRpdXMtdipsLDApLHRoaXMudXBkYXRlRWxlbWVudHMobiwwLG4ubGVuZ3RoLHQpfV9jaXJjdW1mZXJlbmNlKHQsZSl7Y29uc3QgaT10aGlzLm9wdGlvbnMscz10aGlzLl9jYWNoZWRNZXRhLG49dGhpcy5fZ2V0Q2lyY3VtZmVyZW5jZSgpO3JldHVybiBlJiZpLmFuaW1hdGlvbi5hbmltYXRlUm90YXRlfHwhdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eSh0KXx8bnVsbD09PXMuX3BhcnNlZFt0XXx8cy5kYXRhW3RdLmhpZGRlbj8wOnRoaXMuY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZShzLl9wYXJzZWRbdF0qbi9PKX11cGRhdGVFbGVtZW50cyh0LGUsaSxzKXtjb25zdCBuPSJyZXNldCI9PT1zLG89dGhpcy5jaGFydCxhPW8uY2hhcnRBcmVhLHI9by5vcHRpb25zLmFuaW1hdGlvbixsPShhLmxlZnQrYS5yaWdodCkvMixoPShhLnRvcCthLmJvdHRvbSkvMixjPW4mJnIuYW5pbWF0ZVNjYWxlLGQ9Yz8wOnRoaXMuaW5uZXJSYWRpdXMsdT1jPzA6dGhpcy5vdXRlclJhZGl1cyx7c2hhcmVkT3B0aW9uczpmLGluY2x1ZGVPcHRpb25zOmd9PXRoaXMuX2dldFNoYXJlZE9wdGlvbnMoZSxzKTtsZXQgcCxtPXRoaXMuX2dldFJvdGF0aW9uKCk7Zm9yKHA9MDtwPGU7KytwKW0rPXRoaXMuX2NpcmN1bWZlcmVuY2UocCxuKTtmb3IocD1lO3A8ZStpOysrcCl7Y29uc3QgZT10aGlzLl9jaXJjdW1mZXJlbmNlKHAsbiksaT10W3BdLG89e3g6bCt0aGlzLm9mZnNldFgseTpoK3RoaXMub2Zmc2V0WSxzdGFydEFuZ2xlOm0sZW5kQW5nbGU6bStlLGNpcmN1bWZlcmVuY2U6ZSxvdXRlclJhZGl1czp1LGlubmVyUmFkaXVzOmR9O2cmJihvLm9wdGlvbnM9Znx8dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHAsaS5hY3RpdmU/ImFjdGl2ZSI6cykpLG0rPWUsdGhpcy51cGRhdGVFbGVtZW50KGkscCxvLHMpfX1jYWxjdWxhdGVUb3RhbCgpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YSxlPXQuZGF0YTtsZXQgaSxzPTA7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10Ll9wYXJzZWRbaV07bnVsbD09PW58fGlzTmFOKG4pfHwhdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKXx8ZVtpXS5oaWRkZW58fChzKz1NYXRoLmFicyhuKSl9cmV0dXJuIHN9Y2FsY3VsYXRlQ2lyY3VtZmVyZW5jZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEudG90YWw7cmV0dXJuIGU+MCYmIWlzTmFOKHQpP08qKE1hdGguYWJzKHQpL2UpOjB9Z2V0TGFiZWxBbmRWYWx1ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEsaT10aGlzLmNoYXJ0LHM9aS5kYXRhLmxhYmVsc3x8W10sbj1uZShlLl9wYXJzZWRbdF0saS5vcHRpb25zLmxvY2FsZSk7cmV0dXJue2xhYmVsOnNbdF18fCIiLHZhbHVlOm59fWdldE1heEJvcmRlcldpZHRoKHQpe2xldCBlPTA7Y29uc3QgaT10aGlzLmNoYXJ0O2xldCBzLG4sbyxhLHI7aWYoIXQpZm9yKHM9MCxuPWkuZGF0YS5kYXRhc2V0cy5sZW5ndGg7czxuOysrcylpZihpLmlzRGF0YXNldFZpc2libGUocykpe289aS5nZXREYXRhc2V0TWV0YShzKSx0PW8uZGF0YSxhPW8uY29udHJvbGxlcjticmVha31pZighdClyZXR1cm4gMDtmb3Iocz0wLG49dC5sZW5ndGg7czxuOysrcylyPWEucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhzKSwiaW5uZXIiIT09ci5ib3JkZXJBbGlnbiYmKGU9TWF0aC5tYXgoZSxyLmJvcmRlcldpZHRofHwwLHIuaG92ZXJCb3JkZXJXaWR0aHx8MCkpO3JldHVybiBlfWdldE1heE9mZnNldCh0KXtsZXQgZT0wO2ZvcihsZXQgaT0wLHM9dC5sZW5ndGg7aTxzOysraSl7Y29uc3QgdD10aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSk7ZT1NYXRoLm1heChlLHQub2Zmc2V0fHwwLHQuaG92ZXJPZmZzZXR8fDApfXJldHVybiBlfV9nZXRSaW5nV2VpZ2h0T2Zmc2V0KHQpe2xldCBlPTA7Zm9yKGxldCBpPTA7aTx0OysraSl0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSkmJihlKz10aGlzLl9nZXRSaW5nV2VpZ2h0KGkpKTtyZXR1cm4gZX1fZ2V0UmluZ1dlaWdodCh0KXtyZXR1cm4gTWF0aC5tYXgobCh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdF0ud2VpZ2h0LDEpLDApfV9nZXRWaXNpYmxlRGF0YXNldFdlaWdodFRvdGFsKCl7cmV0dXJuIHRoaXMuX2dldFJpbmdXZWlnaHRPZmZzZXQodGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aCl8fDF9fWNsYXNzICRuIGV4dGVuZHMgTnN7c3RhdGljIGlkPSJwb2xhckFyZWEiO3N0YXRpYyBkZWZhdWx0cz17ZGF0YUVsZW1lbnRUeXBlOiJhcmMiLGFuaW1hdGlvbjp7YW5pbWF0ZVJvdGF0ZTohMCxhbmltYXRlU2NhbGU6ITB9LGFuaW1hdGlvbnM6e251bWJlcnM6e3R5cGU6Im51bWJlciIscHJvcGVydGllczpbIngiLCJ5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiaW5uZXJSYWRpdXMiLCJvdXRlclJhZGl1cyJdfX0saW5kZXhBeGlzOiJyIixzdGFydEFuZ2xlOjB9O3N0YXRpYyBvdmVycmlkZXM9e2FzcGVjdFJhdGlvOjEscGx1Z2luczp7bGVnZW5kOntsYWJlbHM6e2dlbmVyYXRlTGFiZWxzKHQpe2NvbnN0IGU9dC5kYXRhO2lmKGUubGFiZWxzLmxlbmd0aCYmZS5kYXRhc2V0cy5sZW5ndGgpe2NvbnN0e2xhYmVsczp7cG9pbnRTdHlsZTppLGNvbG9yOnN9fT10LmxlZ2VuZC5vcHRpb25zO3JldHVybiBlLmxhYmVscy5tYXAoKChlLG4pPT57Y29uc3Qgbz10LmdldERhdGFzZXRNZXRhKDApLmNvbnRyb2xsZXIuZ2V0U3R5bGUobik7cmV0dXJue3RleHQ6ZSxmaWxsU3R5bGU6by5iYWNrZ3JvdW5kQ29sb3Isc3Ryb2tlU3R5bGU6by5ib3JkZXJDb2xvcixmb250Q29sb3I6cyxsaW5lV2lkdGg6by5ib3JkZXJXaWR0aCxwb2ludFN0eWxlOmksaGlkZGVuOiF0LmdldERhdGFWaXNpYmlsaXR5KG4pLGluZGV4Om59fSkpfXJldHVybltdfX0sb25DbGljayh0LGUsaSl7aS5jaGFydC50b2dnbGVEYXRhVmlzaWJpbGl0eShlLmluZGV4KSxpLmNoYXJ0LnVwZGF0ZSgpfX19LHNjYWxlczp7cjp7dHlwZToicmFkaWFsTGluZWFyIixhbmdsZUxpbmVzOntkaXNwbGF5OiExfSxiZWdpbkF0WmVybzohMCxncmlkOntjaXJjdWxhcjohMH0scG9pbnRMYWJlbHM6e2Rpc3BsYXk6ITF9LHN0YXJ0QW5nbGU6MH19fTtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5pbm5lclJhZGl1cz12b2lkIDAsdGhpcy5vdXRlclJhZGl1cz12b2lkIDB9Z2V0TGFiZWxBbmRWYWx1ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEsaT10aGlzLmNoYXJ0LHM9aS5kYXRhLmxhYmVsc3x8W10sbj1uZShlLl9wYXJzZWRbdF0ucixpLm9wdGlvbnMubG9jYWxlKTtyZXR1cm57bGFiZWw6c1t0XXx8IiIsdmFsdWU6bn19cGFyc2VPYmplY3REYXRhKHQsZSxpLHMpe3JldHVybiBpaS5iaW5kKHRoaXMpKHQsZSxpLHMpfXVwZGF0ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGEuZGF0YTt0aGlzLl91cGRhdGVSYWRpdXMoKSx0aGlzLnVwZGF0ZUVsZW1lbnRzKGUsMCxlLmxlbmd0aCx0KX1nZXRNaW5NYXgoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGEsZT17bWluOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtYXg6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfTtyZXR1cm4gdC5kYXRhLmZvckVhY2goKCh0LGkpPT57Y29uc3Qgcz10aGlzLmdldFBhcnNlZChpKS5yOyFpc05hTihzKSYmdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSYmKHM8ZS5taW4mJihlLm1pbj1zKSxzPmUubWF4JiYoZS5tYXg9cykpfSkpLGV9X3VwZGF0ZVJhZGl1cygpe2NvbnN0IHQ9dGhpcy5jaGFydCxlPXQuY2hhcnRBcmVhLGk9dC5vcHRpb25zLHM9TWF0aC5taW4oZS5yaWdodC1lLmxlZnQsZS5ib3R0b20tZS50b3ApLG49TWF0aC5tYXgocy8yLDApLG89KG4tTWF0aC5tYXgoaS5jdXRvdXRQZXJjZW50YWdlP24vMTAwKmkuY3V0b3V0UGVyY2VudGFnZToxLDApKS90LmdldFZpc2libGVEYXRhc2V0Q291bnQoKTt0aGlzLm91dGVyUmFkaXVzPW4tbyp0aGlzLmluZGV4LHRoaXMuaW5uZXJSYWRpdXM9dGhpcy5vdXRlclJhZGl1cy1vfXVwZGF0ZUVsZW1lbnRzKHQsZSxpLHMpe2NvbnN0IG49InJlc2V0Ij09PXMsbz10aGlzLmNoYXJ0LGE9by5vcHRpb25zLmFuaW1hdGlvbixyPXRoaXMuX2NhY2hlZE1ldGEuclNjYWxlLGw9ci54Q2VudGVyLGg9ci55Q2VudGVyLGM9ci5nZXRJbmRleEFuZ2xlKDApLS41KkM7bGV0IGQsdT1jO2NvbnN0IGY9MzYwL3RoaXMuY291bnRWaXNpYmxlRWxlbWVudHMoKTtmb3IoZD0wO2Q8ZTsrK2QpdSs9dGhpcy5fY29tcHV0ZUFuZ2xlKGQscyxmKTtmb3IoZD1lO2Q8ZStpO2QrKyl7Y29uc3QgZT10W2RdO2xldCBpPXUsZz11K3RoaXMuX2NvbXB1dGVBbmdsZShkLHMsZikscD1vLmdldERhdGFWaXNpYmlsaXR5KGQpP3IuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQoZCkucik6MDt1PWcsbiYmKGEuYW5pbWF0ZVNjYWxlJiYocD0wKSxhLmFuaW1hdGVSb3RhdGUmJihpPWc9YykpO2NvbnN0IG09e3g6bCx5OmgsaW5uZXJSYWRpdXM6MCxvdXRlclJhZGl1czpwLHN0YXJ0QW5nbGU6aSxlbmRBbmdsZTpnLG9wdGlvbnM6dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGQsZS5hY3RpdmU/ImFjdGl2ZSI6cyl9O3RoaXMudXBkYXRlRWxlbWVudChlLGQsbSxzKX19Y291bnRWaXNpYmxlRWxlbWVudHMoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGE7bGV0IGU9MDtyZXR1cm4gdC5kYXRhLmZvckVhY2goKCh0LGkpPT57IWlzTmFOKHRoaXMuZ2V0UGFyc2VkKGkpLnIpJiZ0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpJiZlKyt9KSksZX1fY29tcHV0ZUFuZ2xlKHQsZSxpKXtyZXR1cm4gdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eSh0KT8kKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyh0LGUpLmFuZ2xlfHxpKTowfX12YXIgWW49T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQmFyQ29udHJvbGxlcjpjbGFzcyBleHRlbmRzIE5ze3N0YXRpYyBpZD0iYmFyIjtzdGF0aWMgZGVmYXVsdHM9e2RhdGFzZXRFbGVtZW50VHlwZTohMSxkYXRhRWxlbWVudFR5cGU6ImJhciIsY2F0ZWdvcnlQZXJjZW50YWdlOi44LGJhclBlcmNlbnRhZ2U6LjksZ3JvdXBlZDohMCxhbmltYXRpb25zOntudW1iZXJzOnt0eXBlOiJudW1iZXIiLHByb3BlcnRpZXM6WyJ4IiwieSIsImJhc2UiLCJ3aWR0aCIsImhlaWdodCJdfX19O3N0YXRpYyBvdmVycmlkZXM9e3NjYWxlczp7X2luZGV4Xzp7dHlwZToiY2F0ZWdvcnkiLG9mZnNldDohMCxncmlkOntvZmZzZXQ6ITB9fSxfdmFsdWVfOnt0eXBlOiJsaW5lYXIiLGJlZ2luQXRaZXJvOiEwfX19O3BhcnNlUHJpbWl0aXZlRGF0YSh0LGUsaSxzKXtyZXR1cm4gRm4odCxlLGkscyl9cGFyc2VBcnJheURhdGEodCxlLGkscyl7cmV0dXJuIEZuKHQsZSxpLHMpfXBhcnNlT2JqZWN0RGF0YSh0LGUsaSxzKXtjb25zdHtpU2NhbGU6bix2U2NhbGU6b309dCx7eEF4aXNLZXk6YT0ieCIseUF4aXNLZXk6cj0ieSJ9PXRoaXMuX3BhcnNpbmcsbD0ieCI9PT1uLmF4aXM/YTpyLGg9IngiPT09by5heGlzP2E6cixjPVtdO2xldCBkLHUsZixnO2ZvcihkPWksdT1pK3M7ZDx1OysrZClnPWVbZF0sZj17fSxmW24uYXhpc109bi5wYXJzZShNKGcsbCksZCksYy5wdXNoKHpuKE0oZyxoKSxmLG8sZCkpO3JldHVybiBjfXVwZGF0ZVJhbmdlRnJvbVBhcnNlZCh0LGUsaSxzKXtzdXBlci51cGRhdGVSYW5nZUZyb21QYXJzZWQodCxlLGkscyk7Y29uc3Qgbj1pLl9jdXN0b207biYmZT09PXRoaXMuX2NhY2hlZE1ldGEudlNjYWxlJiYodC5taW49TWF0aC5taW4odC5taW4sbi5taW4pLHQubWF4PU1hdGgubWF4KHQubWF4LG4ubWF4KSl9Z2V0TWF4T3ZlcmZsb3coKXtyZXR1cm4gMH1nZXRMYWJlbEFuZFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSx7aVNjYWxlOmksdlNjYWxlOnN9PWUsbj10aGlzLmdldFBhcnNlZCh0KSxvPW4uX2N1c3RvbSxhPVZuKG8pPyJbIitvLnN0YXJ0KyIsICIrby5lbmQrIl0iOiIiK3MuZ2V0TGFiZWxGb3JWYWx1ZShuW3MuYXhpc10pO3JldHVybntsYWJlbDoiIitpLmdldExhYmVsRm9yVmFsdWUobltpLmF4aXNdKSx2YWx1ZTphfX1pbml0aWFsaXplKCl7dGhpcy5lbmFibGVPcHRpb25TaGFyaW5nPSEwLHN1cGVyLmluaXRpYWxpemUoKTt0aGlzLl9jYWNoZWRNZXRhLnN0YWNrPXRoaXMuZ2V0RGF0YXNldCgpLnN0YWNrfXVwZGF0ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlZE1ldGE7dGhpcy51cGRhdGVFbGVtZW50cyhlLmRhdGEsMCxlLmRhdGEubGVuZ3RoLHQpfXVwZGF0ZUVsZW1lbnRzKHQsZSxpLG4pe2NvbnN0IG89InJlc2V0Ij09PW4se2luZGV4OmEsX2NhY2hlZE1ldGE6e3ZTY2FsZTpyfX09dGhpcyxsPXIuZ2V0QmFzZVBpeGVsKCksaD1yLmlzSG9yaXpvbnRhbCgpLGM9dGhpcy5fZ2V0UnVsZXIoKSx7c2hhcmVkT3B0aW9uczpkLGluY2x1ZGVPcHRpb25zOnV9PXRoaXMuX2dldFNoYXJlZE9wdGlvbnMoZSxuKTtmb3IobGV0IGY9ZTtmPGUraTtmKyspe2NvbnN0IGU9dGhpcy5nZXRQYXJzZWQoZiksaT1vfHxzKGVbci5heGlzXSk/e2Jhc2U6bCxoZWFkOmx9OnRoaXMuX2NhbGN1bGF0ZUJhclZhbHVlUGl4ZWxzKGYpLGc9dGhpcy5fY2FsY3VsYXRlQmFySW5kZXhQaXhlbHMoZixjKSxwPShlLl9zdGFja3N8fHt9KVtyLmF4aXNdLG09e2hvcml6b250YWw6aCxiYXNlOmkuYmFzZSxlbmFibGVCb3JkZXJSYWRpdXM6IXB8fFZuKGUuX2N1c3RvbSl8fGE9PT1wLl90b3B8fGE9PT1wLl9ib3R0b20seDpoP2kuaGVhZDpnLmNlbnRlcix5Omg/Zy5jZW50ZXI6aS5oZWFkLGhlaWdodDpoP2cuc2l6ZTpNYXRoLmFicyhpLnNpemUpLHdpZHRoOmg/TWF0aC5hYnMoaS5zaXplKTpnLnNpemV9O3UmJihtLm9wdGlvbnM9ZHx8dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGYsdFtmXS5hY3RpdmU/ImFjdGl2ZSI6bikpO2NvbnN0IGI9bS5vcHRpb25zfHx0W2ZdLm9wdGlvbnM7Qm4obSxiLHAsYSksSG4obSxiLGMucmF0aW8pLHRoaXMudXBkYXRlRWxlbWVudCh0W2ZdLGYsbSxuKX19X2dldFN0YWNrcyh0LGUpe2NvbnN0e2lTY2FsZTppfT10aGlzLl9jYWNoZWRNZXRhLG49aS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0aGlzLl90eXBlKS5maWx0ZXIoKHQ9PnQuY29udHJvbGxlci5vcHRpb25zLmdyb3VwZWQpKSxvPWkub3B0aW9ucy5zdGFja2VkLGE9W10scj10PT57Y29uc3QgaT10LmNvbnRyb2xsZXIuZ2V0UGFyc2VkKGUpLG49aSYmaVt0LnZTY2FsZS5heGlzXTtpZihzKG4pfHxpc05hTihuKSlyZXR1cm4hMH07Zm9yKGNvbnN0IGkgb2YgbilpZigodm9pZCAwPT09ZXx8IXIoaSkpJiYoKCExPT09b3x8LTE9PT1hLmluZGV4T2YoaS5zdGFjayl8fHZvaWQgMD09PW8mJnZvaWQgMD09PWkuc3RhY2spJiZhLnB1c2goaS5zdGFjayksaS5pbmRleD09PXQpKWJyZWFrO3JldHVybiBhLmxlbmd0aHx8YS5wdXNoKHZvaWQgMCksYX1fZ2V0U3RhY2tDb3VudCh0KXtyZXR1cm4gdGhpcy5fZ2V0U3RhY2tzKHZvaWQgMCx0KS5sZW5ndGh9X2dldFN0YWNrSW5kZXgodCxlLGkpe2NvbnN0IHM9dGhpcy5fZ2V0U3RhY2tzKHQsaSksbj12b2lkIDAhPT1lP3MuaW5kZXhPZihlKTotMTtyZXR1cm4tMT09PW4/cy5sZW5ndGgtMTpufV9nZXRSdWxlcigpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fY2FjaGVkTWV0YSxpPWUuaVNjYWxlLHM9W107bGV0IG4sbztmb3Iobj0wLG89ZS5kYXRhLmxlbmd0aDtuPG87KytuKXMucHVzaChpLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQobilbaS5heGlzXSxuKSk7Y29uc3QgYT10LmJhclRoaWNrbmVzcztyZXR1cm57bWluOmF8fEluKGUpLHBpeGVsczpzLHN0YXJ0OmkuX3N0YXJ0UGl4ZWwsZW5kOmkuX2VuZFBpeGVsLHN0YWNrQ291bnQ6dGhpcy5fZ2V0U3RhY2tDb3VudCgpLHNjYWxlOmksZ3JvdXBlZDp0Lmdyb3VwZWQscmF0aW86YT8xOnQuY2F0ZWdvcnlQZXJjZW50YWdlKnQuYmFyUGVyY2VudGFnZX19X2NhbGN1bGF0ZUJhclZhbHVlUGl4ZWxzKHQpe2NvbnN0e19jYWNoZWRNZXRhOnt2U2NhbGU6ZSxfc3RhY2tlZDppLGluZGV4Om59LG9wdGlvbnM6e2Jhc2U6byxtaW5CYXJMZW5ndGg6YX19PXRoaXMscj1vfHwwLGw9dGhpcy5nZXRQYXJzZWQodCksaD1sLl9jdXN0b20sYz1WbihoKTtsZXQgZCx1LGY9bFtlLmF4aXNdLGc9MCxwPWk/dGhpcy5hcHBseVN0YWNrKGUsbCxpKTpmO3AhPT1mJiYoZz1wLWYscD1mKSxjJiYoZj1oLmJhclN0YXJ0LHA9aC5iYXJFbmQtaC5iYXJTdGFydCwwIT09ZiYmRihmKSE9PUYoaC5iYXJFbmQpJiYoZz0wKSxnKz1mKTtjb25zdCBtPXMobyl8fGM/ZzpvO2xldCBiPWUuZ2V0UGl4ZWxGb3JWYWx1ZShtKTtpZihkPXRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkodCk/ZS5nZXRQaXhlbEZvclZhbHVlKGcrcCk6Yix1PWQtYixNYXRoLmFicyh1KTxhKXt1PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gMCE9PXQ/Rih0KTooZS5pc0hvcml6b250YWwoKT8xOi0xKSooZS5taW4+PWk/MTotMSl9KHUsZSxyKSphLGY9PT1yJiYoYi09dS8yKTtjb25zdCB0PWUuZ2V0UGl4ZWxGb3JEZWNpbWFsKDApLHM9ZS5nZXRQaXhlbEZvckRlY2ltYWwoMSksbz1NYXRoLm1pbih0LHMpLGg9TWF0aC5tYXgodCxzKTtiPU1hdGgubWF4KE1hdGgubWluKGIsaCksbyksZD1iK3UsaSYmIWMmJihsLl9zdGFja3NbZS5heGlzXS5fdmlzdWFsVmFsdWVzW25dPWUuZ2V0VmFsdWVGb3JQaXhlbChkKS1lLmdldFZhbHVlRm9yUGl4ZWwoYikpfWlmKGI9PT1lLmdldFBpeGVsRm9yVmFsdWUocikpe2NvbnN0IHQ9Rih1KSplLmdldExpbmVXaWR0aEZvclZhbHVlKHIpLzI7Yis9dCx1LT10fXJldHVybntzaXplOnUsYmFzZTpiLGhlYWQ6ZCxjZW50ZXI6ZCt1LzJ9fV9jYWxjdWxhdGVCYXJJbmRleFBpeGVscyh0LGUpe2NvbnN0IGk9ZS5zY2FsZSxuPXRoaXMub3B0aW9ucyxvPW4uc2tpcE51bGwsYT1sKG4ubWF4QmFyVGhpY2tuZXNzLDEvMCk7bGV0IHIsaDtpZihlLmdyb3VwZWQpe2NvbnN0IGk9bz90aGlzLl9nZXRTdGFja0NvdW50KHQpOmUuc3RhY2tDb3VudCxsPSJmbGV4Ij09PW4uYmFyVGhpY2tuZXNzP2Z1bmN0aW9uKHQsZSxpLHMpe2NvbnN0IG49ZS5waXhlbHMsbz1uW3RdO2xldCBhPXQ+MD9uW3QtMV06bnVsbCxyPXQ8bi5sZW5ndGgtMT9uW3QrMV06bnVsbDtjb25zdCBsPWkuY2F0ZWdvcnlQZXJjZW50YWdlO251bGw9PT1hJiYoYT1vLShudWxsPT09cj9lLmVuZC1lLnN0YXJ0OnItbykpLG51bGw9PT1yJiYocj1vK28tYSk7Y29uc3QgaD1vLShvLU1hdGgubWluKGEscikpLzIqbDtyZXR1cm57Y2h1bms6TWF0aC5hYnMoci1hKS8yKmwvcyxyYXRpbzppLmJhclBlcmNlbnRhZ2Usc3RhcnQ6aH19KHQsZSxuLGkpOmZ1bmN0aW9uKHQsZSxpLG4pe2NvbnN0IG89aS5iYXJUaGlja25lc3M7bGV0IGEscjtyZXR1cm4gcyhvKT8oYT1lLm1pbippLmNhdGVnb3J5UGVyY2VudGFnZSxyPWkuYmFyUGVyY2VudGFnZSk6KGE9bypuLHI9MSkse2NodW5rOmEvbixyYXRpbzpyLHN0YXJ0OmUucGl4ZWxzW3RdLWEvMn19KHQsZSxuLGkpLGM9dGhpcy5fZ2V0U3RhY2tJbmRleCh0aGlzLmluZGV4LHRoaXMuX2NhY2hlZE1ldGEuc3RhY2ssbz90OnZvaWQgMCk7cj1sLnN0YXJ0K2wuY2h1bmsqYytsLmNodW5rLzIsaD1NYXRoLm1pbihhLGwuY2h1bmsqbC5yYXRpbyl9ZWxzZSByPWkuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldFBhcnNlZCh0KVtpLmF4aXNdLHQpLGg9TWF0aC5taW4oYSxlLm1pbiplLnJhdGlvKTtyZXR1cm57YmFzZTpyLWgvMixoZWFkOnIraC8yLGNlbnRlcjpyLHNpemU6aH19ZHJhdygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YSxlPXQudlNjYWxlLGk9dC5kYXRhLHM9aS5sZW5ndGg7bGV0IG49MDtmb3IoO248czsrK24pbnVsbCE9PXRoaXMuZ2V0UGFyc2VkKG4pW2UuYXhpc10mJmlbbl0uZHJhdyh0aGlzLl9jdHgpfX0sQnViYmxlQ29udHJvbGxlcjpjbGFzcyBleHRlbmRzIE5ze3N0YXRpYyBpZD0iYnViYmxlIjtzdGF0aWMgZGVmYXVsdHM9e2RhdGFzZXRFbGVtZW50VHlwZTohMSxkYXRhRWxlbWVudFR5cGU6InBvaW50IixhbmltYXRpb25zOntudW1iZXJzOnt0eXBlOiJudW1iZXIiLHByb3BlcnRpZXM6WyJ4IiwieSIsImJvcmRlcldpZHRoIiwicmFkaXVzIl19fX07c3RhdGljIG92ZXJyaWRlcz17c2NhbGVzOnt4Ont0eXBlOiJsaW5lYXIifSx5Ont0eXBlOiJsaW5lYXIifX19O2luaXRpYWxpemUoKXt0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmc9ITAsc3VwZXIuaW5pdGlhbGl6ZSgpfXBhcnNlUHJpbWl0aXZlRGF0YSh0LGUsaSxzKXtjb25zdCBuPXN1cGVyLnBhcnNlUHJpbWl0aXZlRGF0YSh0LGUsaSxzKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdLl9jdXN0b209dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHQraSkucmFkaXVzO3JldHVybiBufXBhcnNlQXJyYXlEYXRhKHQsZSxpLHMpe2NvbnN0IG49c3VwZXIucGFyc2VBcnJheURhdGEodCxlLGkscyk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZVtpK3RdO25bdF0uX2N1c3RvbT1sKHNbMl0sdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHQraSkucmFkaXVzKX1yZXR1cm4gbn1wYXJzZU9iamVjdERhdGEodCxlLGkscyl7Y29uc3Qgbj1zdXBlci5wYXJzZU9iamVjdERhdGEodCxlLGkscyk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZVtpK3RdO25bdF0uX2N1c3RvbT1sKHMmJnMuciYmK3Mucix0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnModCtpKS5yYWRpdXMpfXJldHVybiBufWdldE1heE92ZXJmbG93KCl7Y29uc3QgdD10aGlzLl9jYWNoZWRNZXRhLmRhdGE7bGV0IGU9MDtmb3IobGV0IGk9dC5sZW5ndGgtMTtpPj0wOy0taSllPU1hdGgubWF4KGUsdFtpXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpKSkvMik7cmV0dXJuIGU+MCYmZX1nZXRMYWJlbEFuZFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSxpPXRoaXMuY2hhcnQuZGF0YS5sYWJlbHN8fFtdLHt4U2NhbGU6cyx5U2NhbGU6bn09ZSxvPXRoaXMuZ2V0UGFyc2VkKHQpLGE9cy5nZXRMYWJlbEZvclZhbHVlKG8ueCkscj1uLmdldExhYmVsRm9yVmFsdWUoby55KSxsPW8uX2N1c3RvbTtyZXR1cm57bGFiZWw6aVt0XXx8IiIsdmFsdWU6IigiK2ErIiwgIityKyhsPyIsICIrbDoiIikrIikifX11cGRhdGUodCl7Y29uc3QgZT10aGlzLl9jYWNoZWRNZXRhLmRhdGE7dGhpcy51cGRhdGVFbGVtZW50cyhlLDAsZS5sZW5ndGgsdCl9dXBkYXRlRWxlbWVudHModCxlLGkscyl7Y29uc3Qgbj0icmVzZXQiPT09cyx7aVNjYWxlOm8sdlNjYWxlOmF9PXRoaXMuX2NhY2hlZE1ldGEse3NoYXJlZE9wdGlvbnM6cixpbmNsdWRlT3B0aW9uczpsfT10aGlzLl9nZXRTaGFyZWRPcHRpb25zKGUscyksaD1vLmF4aXMsYz1hLmF4aXM7Zm9yKGxldCBkPWU7ZDxlK2k7ZCsrKXtjb25zdCBlPXRbZF0saT0hbiYmdGhpcy5nZXRQYXJzZWQoZCksdT17fSxmPXVbaF09bj9vLmdldFBpeGVsRm9yRGVjaW1hbCguNSk6by5nZXRQaXhlbEZvclZhbHVlKGlbaF0pLGc9dVtjXT1uP2EuZ2V0QmFzZVBpeGVsKCk6YS5nZXRQaXhlbEZvclZhbHVlKGlbY10pO3Uuc2tpcD1pc05hTihmKXx8aXNOYU4oZyksbCYmKHUub3B0aW9ucz1yfHx0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoZCxlLmFjdGl2ZT8iYWN0aXZlIjpzKSxuJiYodS5vcHRpb25zLnJhZGl1cz0wKSksdGhpcy51cGRhdGVFbGVtZW50KGUsZCx1LHMpfX1yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHQsZSl7Y29uc3QgaT10aGlzLmdldFBhcnNlZCh0KTtsZXQgcz1zdXBlci5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHQsZSk7cy4kc2hhcmVkJiYocz1PYmplY3QuYXNzaWduKHt9LHMseyRzaGFyZWQ6ITF9KSk7Y29uc3Qgbj1zLnJhZGl1cztyZXR1cm4iYWN0aXZlIiE9PWUmJihzLnJhZGl1cz0wKSxzLnJhZGl1cys9bChpJiZpLl9jdXN0b20sbiksc319LERvdWdobnV0Q29udHJvbGxlcjpqbixMaW5lQ29udHJvbGxlcjpjbGFzcyBleHRlbmRzIE5ze3N0YXRpYyBpZD0ibGluZSI7c3RhdGljIGRlZmF1bHRzPXtkYXRhc2V0RWxlbWVudFR5cGU6ImxpbmUiLGRhdGFFbGVtZW50VHlwZToicG9pbnQiLHNob3dMaW5lOiEwLHNwYW5HYXBzOiExfTtzdGF0aWMgb3ZlcnJpZGVzPXtzY2FsZXM6e19pbmRleF86e3R5cGU6ImNhdGVnb3J5In0sX3ZhbHVlXzp7dHlwZToibGluZWFyIn19fTtpbml0aWFsaXplKCl7dGhpcy5lbmFibGVPcHRpb25TaGFyaW5nPSEwLHRoaXMuc3VwcG9ydHNEZWNpbWF0aW9uPSEwLHN1cGVyLmluaXRpYWxpemUoKX11cGRhdGUodCl7Y29uc3QgZT10aGlzLl9jYWNoZWRNZXRhLHtkYXRhc2V0OmksZGF0YTpzPVtdLF9kYXRhc2V0Om59PWUsbz10aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQ7bGV0e3N0YXJ0OmEsY291bnQ6cn09cHQoZSxzLG8pO3RoaXMuX2RyYXdTdGFydD1hLHRoaXMuX2RyYXdDb3VudD1yLG10KGUpJiYoYT0wLHI9cy5sZW5ndGgpLGkuX2NoYXJ0PXRoaXMuY2hhcnQsaS5fZGF0YXNldEluZGV4PXRoaXMuaW5kZXgsaS5fZGVjaW1hdGVkPSEhbi5fZGVjaW1hdGVkLGkucG9pbnRzPXM7Y29uc3QgbD10aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnModCk7dGhpcy5vcHRpb25zLnNob3dMaW5lfHwobC5ib3JkZXJXaWR0aD0wKSxsLnNlZ21lbnQ9dGhpcy5vcHRpb25zLnNlZ21lbnQsdGhpcy51cGRhdGVFbGVtZW50KGksdm9pZCAwLHthbmltYXRlZDohbyxvcHRpb25zOmx9LHQpLHRoaXMudXBkYXRlRWxlbWVudHMocyxhLHIsdCl9dXBkYXRlRWxlbWVudHModCxlLGksbil7Y29uc3Qgbz0icmVzZXQiPT09bix7aVNjYWxlOmEsdlNjYWxlOnIsX3N0YWNrZWQ6bCxfZGF0YXNldDpofT10aGlzLl9jYWNoZWRNZXRhLHtzaGFyZWRPcHRpb25zOmMsaW5jbHVkZU9wdGlvbnM6ZH09dGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhlLG4pLHU9YS5heGlzLGY9ci5heGlzLHtzcGFuR2FwczpnLHNlZ21lbnQ6cH09dGhpcy5vcHRpb25zLG09TihnKT9nOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxiPXRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZHx8b3x8Im5vbmUiPT09bix4PWUraSxfPXQubGVuZ3RoO2xldCB5PWU+MCYmdGhpcy5nZXRQYXJzZWQoZS0xKTtmb3IobGV0IGk9MDtpPF87KytpKXtjb25zdCBnPXRbaV0sXz1iP2c6e307aWYoaTxlfHxpPj14KXtfLnNraXA9ITA7Y29udGludWV9Y29uc3Qgdj10aGlzLmdldFBhcnNlZChpKSxNPXModltmXSksdz1fW3VdPWEuZ2V0UGl4ZWxGb3JWYWx1ZSh2W3VdLGkpLGs9X1tmXT1vfHxNP3IuZ2V0QmFzZVBpeGVsKCk6ci5nZXRQaXhlbEZvclZhbHVlKGw/dGhpcy5hcHBseVN0YWNrKHIsdixsKTp2W2ZdLGkpO18uc2tpcD1pc05hTih3KXx8aXNOYU4oayl8fE0sXy5zdG9wPWk+MCYmTWF0aC5hYnModlt1XS15W3VdKT5tLHAmJihfLnBhcnNlZD12LF8ucmF3PWguZGF0YVtpXSksZCYmKF8ub3B0aW9ucz1jfHx0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSxnLmFjdGl2ZT8iYWN0aXZlIjpuKSksYnx8dGhpcy51cGRhdGVFbGVtZW50KGcsaSxfLG4pLHk9dn19Z2V0TWF4T3ZlcmZsb3coKXtjb25zdCB0PXRoaXMuX2NhY2hlZE1ldGEsZT10LmRhdGFzZXQsaT1lLm9wdGlvbnMmJmUub3B0aW9ucy5ib3JkZXJXaWR0aHx8MCxzPXQuZGF0YXx8W107aWYoIXMubGVuZ3RoKXJldHVybiBpO2NvbnN0IG49c1swXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucygwKSksbz1zW3MubGVuZ3RoLTFdLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHMubGVuZ3RoLTEpKTtyZXR1cm4gTWF0aC5tYXgoaSxuLG8pLzJ9ZHJhdygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTWV0YTt0LmRhdGFzZXQudXBkYXRlQ29udHJvbFBvaW50cyh0aGlzLmNoYXJ0LmNoYXJ0QXJlYSx0LmlTY2FsZS5heGlzKSxzdXBlci5kcmF3KCl9fSxQaWVDb250cm9sbGVyOmNsYXNzIGV4dGVuZHMgam57c3RhdGljIGlkPSJwaWUiO3N0YXRpYyBkZWZhdWx0cz17Y3V0b3V0OjAscm90YXRpb246MCxjaXJjdW1mZXJlbmNlOjM2MCxyYWRpdXM6IjEwMCUifX0sUG9sYXJBcmVhQ29udHJvbGxlcjokbixSYWRhckNvbnRyb2xsZXI6Y2xhc3MgZXh0ZW5kcyBOc3tzdGF0aWMgaWQ9InJhZGFyIjtzdGF0aWMgZGVmYXVsdHM9e2RhdGFzZXRFbGVtZW50VHlwZToibGluZSIsZGF0YUVsZW1lbnRUeXBlOiJwb2ludCIsaW5kZXhBeGlzOiJyIixzaG93TGluZTohMCxlbGVtZW50czp7bGluZTp7ZmlsbDoic3RhcnQifX19O3N0YXRpYyBvdmVycmlkZXM9e2FzcGVjdFJhdGlvOjEsc2NhbGVzOntyOnt0eXBlOiJyYWRpYWxMaW5lYXIifX19O2dldExhYmVsQW5kVmFsdWUodCl7Y29uc3QgZT10aGlzLl9jYWNoZWRNZXRhLnZTY2FsZSxpPXRoaXMuZ2V0UGFyc2VkKHQpO3JldHVybntsYWJlbDplLmdldExhYmVscygpW3RdLHZhbHVlOiIiK2UuZ2V0TGFiZWxGb3JWYWx1ZShpW2UuYXhpc10pfX1wYXJzZU9iamVjdERhdGEodCxlLGkscyl7cmV0dXJuIGlpLmJpbmQodGhpcykodCxlLGkscyl9dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSxpPWUuZGF0YXNldCxzPWUuZGF0YXx8W10sbj1lLmlTY2FsZS5nZXRMYWJlbHMoKTtpZihpLnBvaW50cz1zLCJyZXNpemUiIT09dCl7Y29uc3QgZT10aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnModCk7dGhpcy5vcHRpb25zLnNob3dMaW5lfHwoZS5ib3JkZXJXaWR0aD0wKTtjb25zdCBvPXtfbG9vcDohMCxfZnVsbExvb3A6bi5sZW5ndGg9PT1zLmxlbmd0aCxvcHRpb25zOmV9O3RoaXMudXBkYXRlRWxlbWVudChpLHZvaWQgMCxvLHQpfXRoaXMudXBkYXRlRWxlbWVudHMocywwLHMubGVuZ3RoLHQpfXVwZGF0ZUVsZW1lbnRzKHQsZSxpLHMpe2NvbnN0IG49dGhpcy5fY2FjaGVkTWV0YS5yU2NhbGUsbz0icmVzZXQiPT09cztmb3IobGV0IGE9ZTthPGUraTthKyspe2NvbnN0IGU9dFthXSxpPXRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhhLGUuYWN0aXZlPyJhY3RpdmUiOnMpLHI9bi5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoYSx0aGlzLmdldFBhcnNlZChhKS5yKSxsPW8/bi54Q2VudGVyOnIueCxoPW8/bi55Q2VudGVyOnIueSxjPXt4OmwseTpoLGFuZ2xlOnIuYW5nbGUsc2tpcDppc05hTihsKXx8aXNOYU4oaCksb3B0aW9uczppfTt0aGlzLnVwZGF0ZUVsZW1lbnQoZSxhLGMscyl9fX0sU2NhdHRlckNvbnRyb2xsZXI6Y2xhc3MgZXh0ZW5kcyBOc3tzdGF0aWMgaWQ9InNjYXR0ZXIiO3N0YXRpYyBkZWZhdWx0cz17ZGF0YXNldEVsZW1lbnRUeXBlOiExLGRhdGFFbGVtZW50VHlwZToicG9pbnQiLHNob3dMaW5lOiExLGZpbGw6ITF9O3N0YXRpYyBvdmVycmlkZXM9e2ludGVyYWN0aW9uOnttb2RlOiJwb2ludCJ9LHNjYWxlczp7eDp7dHlwZToibGluZWFyIn0seTp7dHlwZToibGluZWFyIn19fTtnZXRMYWJlbEFuZFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSxpPXRoaXMuY2hhcnQuZGF0YS5sYWJlbHN8fFtdLHt4U2NhbGU6cyx5U2NhbGU6bn09ZSxvPXRoaXMuZ2V0UGFyc2VkKHQpLGE9cy5nZXRMYWJlbEZvclZhbHVlKG8ueCkscj1uLmdldExhYmVsRm9yVmFsdWUoby55KTtyZXR1cm57bGFiZWw6aVt0XXx8IiIsdmFsdWU6IigiK2ErIiwgIityKyIpIn19dXBkYXRlKHQpe2NvbnN0IGU9dGhpcy5fY2FjaGVkTWV0YSx7ZGF0YTppPVtdfT1lLHM9dGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkO2xldHtzdGFydDpuLGNvdW50Om99PXB0KGUsaSxzKTtpZih0aGlzLl9kcmF3U3RhcnQ9bix0aGlzLl9kcmF3Q291bnQ9byxtdChlKSYmKG49MCxvPWkubGVuZ3RoKSx0aGlzLm9wdGlvbnMuc2hvd0xpbmUpe3RoaXMuZGF0YXNldEVsZW1lbnRUeXBlfHx0aGlzLmFkZEVsZW1lbnRzKCk7Y29uc3R7ZGF0YXNldDpuLF9kYXRhc2V0Om99PWU7bi5fY2hhcnQ9dGhpcy5jaGFydCxuLl9kYXRhc2V0SW5kZXg9dGhpcy5pbmRleCxuLl9kZWNpbWF0ZWQ9ISFvLl9kZWNpbWF0ZWQsbi5wb2ludHM9aTtjb25zdCBhPXRoaXMucmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyh0KTthLnNlZ21lbnQ9dGhpcy5vcHRpb25zLnNlZ21lbnQsdGhpcy51cGRhdGVFbGVtZW50KG4sdm9pZCAwLHthbmltYXRlZDohcyxvcHRpb25zOmF9LHQpfWVsc2UgdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUmJihkZWxldGUgZS5kYXRhc2V0LHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlPSExKTt0aGlzLnVwZGF0ZUVsZW1lbnRzKGksbixvLHQpfWFkZEVsZW1lbnRzKCl7Y29uc3R7c2hvd0xpbmU6dH09dGhpcy5vcHRpb25zOyF0aGlzLmRhdGFzZXRFbGVtZW50VHlwZSYmdCYmKHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlPXRoaXMuY2hhcnQucmVnaXN0cnkuZ2V0RWxlbWVudCgibGluZSIpKSxzdXBlci5hZGRFbGVtZW50cygpfXVwZGF0ZUVsZW1lbnRzKHQsZSxpLG4pe2NvbnN0IG89InJlc2V0Ij09PW4se2lTY2FsZTphLHZTY2FsZTpyLF9zdGFja2VkOmwsX2RhdGFzZXQ6aH09dGhpcy5fY2FjaGVkTWV0YSxjPXRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhlLG4pLGQ9dGhpcy5nZXRTaGFyZWRPcHRpb25zKGMpLHU9dGhpcy5pbmNsdWRlT3B0aW9ucyhuLGQpLGY9YS5heGlzLGc9ci5heGlzLHtzcGFuR2FwczpwLHNlZ21lbnQ6bX09dGhpcy5vcHRpb25zLGI9TihwKT9wOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSx4PXRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZHx8b3x8Im5vbmUiPT09bjtsZXQgXz1lPjAmJnRoaXMuZ2V0UGFyc2VkKGUtMSk7Zm9yKGxldCBjPWU7YzxlK2k7KytjKXtjb25zdCBlPXRbY10saT10aGlzLmdldFBhcnNlZChjKSxwPXg/ZTp7fSx5PXMoaVtnXSksdj1wW2ZdPWEuZ2V0UGl4ZWxGb3JWYWx1ZShpW2ZdLGMpLE09cFtnXT1vfHx5P3IuZ2V0QmFzZVBpeGVsKCk6ci5nZXRQaXhlbEZvclZhbHVlKGw/dGhpcy5hcHBseVN0YWNrKHIsaSxsKTppW2ddLGMpO3Auc2tpcD1pc05hTih2KXx8aXNOYU4oTSl8fHkscC5zdG9wPWM+MCYmTWF0aC5hYnMoaVtmXS1fW2ZdKT5iLG0mJihwLnBhcnNlZD1pLHAucmF3PWguZGF0YVtjXSksdSYmKHAub3B0aW9ucz1kfHx0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoYyxlLmFjdGl2ZT8iYWN0aXZlIjpuKSkseHx8dGhpcy51cGRhdGVFbGVtZW50KGUsYyxwLG4pLF89aX10aGlzLnVwZGF0ZVNoYXJlZE9wdGlvbnMoZCxuLGMpfWdldE1heE92ZXJmbG93KCl7Y29uc3QgdD10aGlzLl9jYWNoZWRNZXRhLGU9dC5kYXRhfHxbXTtpZighdGhpcy5vcHRpb25zLnNob3dMaW5lKXtsZXQgdD0wO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7LS1pKXQ9TWF0aC5tYXgodCxlW2ldLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkpKS8yKTtyZXR1cm4gdD4wJiZ0fWNvbnN0IGk9dC5kYXRhc2V0LHM9aS5vcHRpb25zJiZpLm9wdGlvbnMuYm9yZGVyV2lkdGh8fDA7aWYoIWUubGVuZ3RoKXJldHVybiBzO2NvbnN0IG49ZVswXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucygwKSksbz1lW2UubGVuZ3RoLTFdLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGUubGVuZ3RoLTEpKTtyZXR1cm4gTWF0aC5tYXgocyxuLG8pLzJ9fX0pO2Z1bmN0aW9uIFVuKHQsZSxpLHMpe2NvbnN0IG49dmkodC5vcHRpb25zLmJvcmRlclJhZGl1cyxbIm91dGVyU3RhcnQiLCJvdXRlckVuZCIsImlubmVyU3RhcnQiLCJpbm5lckVuZCJdKTtjb25zdCBvPShpLWUpLzIsYT1NYXRoLm1pbihvLHMqZS8yKSxyPXQ9Pntjb25zdCBlPShpLU1hdGgubWluKG8sdCkpKnMvMjtyZXR1cm4gSih0LDAsTWF0aC5taW4obyxlKSl9O3JldHVybntvdXRlclN0YXJ0OnIobi5vdXRlclN0YXJ0KSxvdXRlckVuZDpyKG4ub3V0ZXJFbmQpLGlubmVyU3RhcnQ6SihuLmlubmVyU3RhcnQsMCxhKSxpbm5lckVuZDpKKG4uaW5uZXJFbmQsMCxhKX19ZnVuY3Rpb24gWG4odCxlLGkscyl7cmV0dXJue3g6aSt0Kk1hdGguY29zKGUpLHk6cyt0Kk1hdGguc2luKGUpfX1mdW5jdGlvbiBxbih0LGUsaSxzLG4sbyl7Y29uc3R7eDphLHk6cixzdGFydEFuZ2xlOmwscGl4ZWxNYXJnaW46aCxpbm5lclJhZGl1czpjfT1lLGQ9TWF0aC5tYXgoZS5vdXRlclJhZGl1cytzK2ktaCwwKSx1PWM+MD9jK3MraStoOjA7bGV0IGY9MDtjb25zdCBnPW4tbDtpZihzKXtjb25zdCB0PSgoYz4wP2MtczowKSsoZD4wP2QtczowKSkvMjtmPShnLSgwIT09dD9nKnQvKHQrcyk6ZykpLzJ9Y29uc3QgcD0oZy1NYXRoLm1heCguMDAxLGcqZC1pL0MpL2QpLzIsbT1sK3ArZixiPW4tcC1mLHtvdXRlclN0YXJ0Ongsb3V0ZXJFbmQ6Xyxpbm5lclN0YXJ0OnksaW5uZXJFbmQ6dn09VW4oZSx1LGQsYi1tKSxNPWQteCx3PWQtXyxrPW0reC9NLFM9Yi1fL3csUD11K3ksRD11K3YsTz1tK3kvUCxBPWItdi9EO2lmKHQuYmVnaW5QYXRoKCksbyl7Y29uc3QgZT0oaytTKS8yO2lmKHQuYXJjKGEscixkLGssZSksdC5hcmMoYSxyLGQsZSxTKSxfPjApe2NvbnN0IGU9WG4odyxTLGEscik7dC5hcmMoZS54LGUueSxfLFMsYitFKX1jb25zdCBpPVhuKEQsYixhLHIpO2lmKHQubGluZVRvKGkueCxpLnkpLHY+MCl7Y29uc3QgZT1YbihELEEsYSxyKTt0LmFyYyhlLngsZS55LHYsYitFLEErTWF0aC5QSSl9Y29uc3Qgcz0oYi12L3UrKG0reS91KSkvMjtpZih0LmFyYyhhLHIsdSxiLXYvdSxzLCEwKSx0LmFyYyhhLHIsdSxzLG0reS91LCEwKSx5PjApe2NvbnN0IGU9WG4oUCxPLGEscik7dC5hcmMoZS54LGUueSx5LE8rTWF0aC5QSSxtLUUpfWNvbnN0IG49WG4oTSxtLGEscik7aWYodC5saW5lVG8obi54LG4ueSkseD4wKXtjb25zdCBlPVhuKE0sayxhLHIpO3QuYXJjKGUueCxlLnkseCxtLUUsayl9fWVsc2V7dC5tb3ZlVG8oYSxyKTtjb25zdCBlPU1hdGguY29zKGspKmQrYSxpPU1hdGguc2luKGspKmQrcjt0LmxpbmVUbyhlLGkpO2NvbnN0IHM9TWF0aC5jb3MoUykqZCthLG49TWF0aC5zaW4oUykqZCtyO3QubGluZVRvKHMsbil9dC5jbG9zZVBhdGgoKX1mdW5jdGlvbiBLbih0LGUsaSxzLG4pe2NvbnN0e2Z1bGxDaXJjbGVzOm8sc3RhcnRBbmdsZTphLGNpcmN1bWZlcmVuY2U6cixvcHRpb25zOmx9PWUse2JvcmRlcldpZHRoOmgsYm9yZGVySm9pblN0eWxlOmMsYm9yZGVyRGFzaDpkLGJvcmRlckRhc2hPZmZzZXQ6dX09bCxmPSJpbm5lciI9PT1sLmJvcmRlckFsaWduO2lmKCFoKXJldHVybjt0LnNldExpbmVEYXNoKGR8fFtdKSx0LmxpbmVEYXNoT2Zmc2V0PXUsZj8odC5saW5lV2lkdGg9MipoLHQubGluZUpvaW49Y3x8InJvdW5kIik6KHQubGluZVdpZHRoPWgsdC5saW5lSm9pbj1jfHwiYmV2ZWwiKTtsZXQgZz1lLmVuZEFuZ2xlO2lmKG8pe3FuKHQsZSxpLHMsZyxuKTtmb3IobGV0IGU9MDtlPG87KytlKXQuc3Ryb2tlKCk7aXNOYU4ocil8fChnPWErKHIlT3x8TykpfWYmJmZ1bmN0aW9uKHQsZSxpKXtjb25zdHtzdGFydEFuZ2xlOnMscGl4ZWxNYXJnaW46bix4Om8seTphLG91dGVyUmFkaXVzOnIsaW5uZXJSYWRpdXM6bH09ZTtsZXQgaD1uL3I7dC5iZWdpblBhdGgoKSx0LmFyYyhvLGEscixzLWgsaStoKSxsPm4/KGg9bi9sLHQuYXJjKG8sYSxsLGkraCxzLWgsITApKTp0LmFyYyhvLGEsbixpK0Uscy1FKSx0LmNsb3NlUGF0aCgpLHQuY2xpcCgpfSh0LGUsZyksb3x8KHFuKHQsZSxpLHMsZyxuKSx0LnN0cm9rZSgpKX1mdW5jdGlvbiBHbih0LGUsaT1lKXt0LmxpbmVDYXA9bChpLmJvcmRlckNhcFN0eWxlLGUuYm9yZGVyQ2FwU3R5bGUpLHQuc2V0TGluZURhc2gobChpLmJvcmRlckRhc2gsZS5ib3JkZXJEYXNoKSksdC5saW5lRGFzaE9mZnNldD1sKGkuYm9yZGVyRGFzaE9mZnNldCxlLmJvcmRlckRhc2hPZmZzZXQpLHQubGluZUpvaW49bChpLmJvcmRlckpvaW5TdHlsZSxlLmJvcmRlckpvaW5TdHlsZSksdC5saW5lV2lkdGg9bChpLmJvcmRlcldpZHRoLGUuYm9yZGVyV2lkdGgpLHQuc3Ryb2tlU3R5bGU9bChpLmJvcmRlckNvbG9yLGUuYm9yZGVyQ29sb3IpfWZ1bmN0aW9uIFpuKHQsZSxpKXt0LmxpbmVUbyhpLngsaS55KX1mdW5jdGlvbiBKbih0LGUsaT17fSl7Y29uc3Qgcz10Lmxlbmd0aCx7c3RhcnQ6bj0wLGVuZDpvPXMtMX09aSx7c3RhcnQ6YSxlbmQ6cn09ZSxsPU1hdGgubWF4KG4sYSksaD1NYXRoLm1pbihvLHIpLGM9bjxhJiZvPGF8fG4+ciYmbz5yO3JldHVybntjb3VudDpzLHN0YXJ0OmwsbG9vcDplLmxvb3AsaWxlbjpoPGwmJiFjP3MraC1sOmgtbH19ZnVuY3Rpb24gUW4odCxlLGkscyl7Y29uc3R7cG9pbnRzOm4sb3B0aW9uczpvfT1lLHtjb3VudDphLHN0YXJ0OnIsbG9vcDpsLGlsZW46aH09Sm4obixpLHMpLGM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RlcHBlZD9GZTp0LnRlbnNpb258fCJtb25vdG9uZSI9PT10LmN1YmljSW50ZXJwb2xhdGlvbk1vZGU/VmU6Wm59KG8pO2xldCBkLHUsZix7bW92ZTpnPSEwLHJldmVyc2U6cH09c3x8e307Zm9yKGQ9MDtkPD1oOysrZCl1PW5bKHIrKHA/aC1kOmQpKSVhXSx1LnNraXB8fChnPyh0Lm1vdmVUbyh1LngsdS55KSxnPSExKTpjKHQsZix1LHAsby5zdGVwcGVkKSxmPXUpO3JldHVybiBsJiYodT1uWyhyKyhwP2g6MCkpJWFdLGModCxmLHUscCxvLnN0ZXBwZWQpKSwhIWx9ZnVuY3Rpb24gdG8odCxlLGkscyl7Y29uc3Qgbj1lLnBvaW50cyx7Y291bnQ6byxzdGFydDphLGlsZW46cn09Sm4obixpLHMpLHttb3ZlOmw9ITAscmV2ZXJzZTpofT1zfHx7fTtsZXQgYyxkLHUsZixnLHAsbT0wLGI9MDtjb25zdCB4PXQ9PihhKyhoP3ItdDp0KSklbyxfPSgpPT57ZiE9PWcmJih0LmxpbmVUbyhtLGcpLHQubGluZVRvKG0sZiksdC5saW5lVG8obSxwKSl9O2ZvcihsJiYoZD1uW3goMCldLHQubW92ZVRvKGQueCxkLnkpKSxjPTA7Yzw9cjsrK2Mpe2lmKGQ9blt4KGMpXSxkLnNraXApY29udGludWU7Y29uc3QgZT1kLngsaT1kLnkscz0wfGU7cz09PXU/KGk8Zj9mPWk6aT5nJiYoZz1pKSxtPShiKm0rZSkvKytiKTooXygpLHQubGluZVRvKGUsaSksdT1zLGI9MCxmPWc9aSkscD1pfV8oKX1mdW5jdGlvbiBlbyh0KXtjb25zdCBlPXQub3B0aW9ucyxpPWUuYm9yZGVyRGFzaCYmZS5ib3JkZXJEYXNoLmxlbmd0aDtyZXR1cm4hKHQuX2RlY2ltYXRlZHx8dC5fbG9vcHx8ZS50ZW5zaW9ufHwibW9ub3RvbmUiPT09ZS5jdWJpY0ludGVycG9sYXRpb25Nb2RlfHxlLnN0ZXBwZWR8fGkpP3RvOlFufWNvbnN0IGlvPSJmdW5jdGlvbiI9PXR5cGVvZiBQYXRoMkQ7ZnVuY3Rpb24gc28odCxlLGkscyl7aW8mJiFlLm9wdGlvbnMuc2VnbWVudD9mdW5jdGlvbih0LGUsaSxzKXtsZXQgbj1lLl9wYXRoO258fChuPWUuX3BhdGg9bmV3IFBhdGgyRCxlLnBhdGgobixpLHMpJiZuLmNsb3NlUGF0aCgpKSxHbih0LGUub3B0aW9ucyksdC5zdHJva2Uobil9KHQsZSxpLHMpOmZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0e3NlZ21lbnRzOm4sb3B0aW9uczpvfT1lLGE9ZW8oZSk7Zm9yKGNvbnN0IHIgb2YgbilHbih0LG8sci5zdHlsZSksdC5iZWdpblBhdGgoKSxhKHQsZSxyLHtzdGFydDppLGVuZDppK3MtMX0pJiZ0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9KHQsZSxpLHMpfWNsYXNzIG5vIGV4dGVuZHMgSHN7c3RhdGljIGlkPSJsaW5lIjtzdGF0aWMgZGVmYXVsdHM9e2JvcmRlckNhcFN0eWxlOiJidXR0Iixib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6Im1pdGVyIixib3JkZXJXaWR0aDozLGNhcEJlemllclBvaW50czohMCxjdWJpY0ludGVycG9sYXRpb25Nb2RlOiJkZWZhdWx0IixmaWxsOiExLHNwYW5HYXBzOiExLHN0ZXBwZWQ6ITEsdGVuc2lvbjowfTtzdGF0aWMgZGVmYXVsdFJvdXRlcz17YmFja2dyb3VuZENvbG9yOiJiYWNrZ3JvdW5kQ29sb3IiLGJvcmRlckNvbG9yOiJib3JkZXJDb2xvciJ9O3N0YXRpYyBkZXNjcmlwdG9ycz17X3NjcmlwdGFibGU6ITAsX2luZGV4YWJsZTp0PT4iYm9yZGVyRGFzaCIhPT10JiYiZmlsbCIhPT10fTtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuYW5pbWF0ZWQ9ITAsdGhpcy5vcHRpb25zPXZvaWQgMCx0aGlzLl9jaGFydD12b2lkIDAsdGhpcy5fbG9vcD12b2lkIDAsdGhpcy5fZnVsbExvb3A9dm9pZCAwLHRoaXMuX3BhdGg9dm9pZCAwLHRoaXMuX3BvaW50cz12b2lkIDAsdGhpcy5fc2VnbWVudHM9dm9pZCAwLHRoaXMuX2RlY2ltYXRlZD0hMSx0aGlzLl9wb2ludHNVcGRhdGVkPSExLHRoaXMuX2RhdGFzZXRJbmRleD12b2lkIDAsdCYmT2JqZWN0LmFzc2lnbih0aGlzLHQpfXVwZGF0ZUNvbnRyb2xQb2ludHModCxlKXtjb25zdCBpPXRoaXMub3B0aW9ucztpZigoaS50ZW5zaW9ufHwibW9ub3RvbmUiPT09aS5jdWJpY0ludGVycG9sYXRpb25Nb2RlKSYmIWkuc3RlcHBlZCYmIXRoaXMuX3BvaW50c1VwZGF0ZWQpe2NvbnN0IHM9aS5zcGFuR2Fwcz90aGlzLl9sb29wOnRoaXMuX2Z1bGxMb29wO2hpKHRoaXMuX3BvaW50cyxpLHQscyxlKSx0aGlzLl9wb2ludHNVcGRhdGVkPSEwfX1zZXQgcG9pbnRzKHQpe3RoaXMuX3BvaW50cz10LGRlbGV0ZSB0aGlzLl9zZWdtZW50cyxkZWxldGUgdGhpcy5fcGF0aCx0aGlzLl9wb2ludHNVcGRhdGVkPSExfWdldCBwb2ludHMoKXtyZXR1cm4gdGhpcy5fcG9pbnRzfWdldCBzZWdtZW50cygpe3JldHVybiB0aGlzLl9zZWdtZW50c3x8KHRoaXMuX3NlZ21lbnRzPXppKHRoaXMsdGhpcy5vcHRpb25zLnNlZ21lbnQpKX1maXJzdCgpe2NvbnN0IHQ9dGhpcy5zZWdtZW50cyxlPXRoaXMucG9pbnRzO3JldHVybiB0Lmxlbmd0aCYmZVt0WzBdLnN0YXJ0XX1sYXN0KCl7Y29uc3QgdD10aGlzLnNlZ21lbnRzLGU9dGhpcy5wb2ludHMsaT10Lmxlbmd0aDtyZXR1cm4gaSYmZVt0W2ktMV0uZW5kXX1pbnRlcnBvbGF0ZSh0LGUpe2NvbnN0IGk9dGhpcy5vcHRpb25zLHM9dFtlXSxuPXRoaXMucG9pbnRzLG89SWkodGhpcyx7cHJvcGVydHk6ZSxzdGFydDpzLGVuZDpzfSk7aWYoIW8ubGVuZ3RoKXJldHVybjtjb25zdCBhPVtdLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RlcHBlZD9waTp0LnRlbnNpb258fCJtb25vdG9uZSI9PT10LmN1YmljSW50ZXJwb2xhdGlvbk1vZGU/bWk6Z2l9KGkpO2xldCBsLGg7Zm9yKGw9MCxoPW8ubGVuZ3RoO2w8aDsrK2wpe2NvbnN0e3N0YXJ0OmgsZW5kOmN9PW9bbF0sZD1uW2hdLHU9bltjXTtpZihkPT09dSl7YS5wdXNoKGQpO2NvbnRpbnVlfWNvbnN0IGY9cihkLHUsTWF0aC5hYnMoKHMtZFtlXSkvKHVbZV0tZFtlXSkpLGkuc3RlcHBlZCk7ZltlXT10W2VdLGEucHVzaChmKX1yZXR1cm4gMT09PWEubGVuZ3RoP2FbMF06YX1wYXRoU2VnbWVudCh0LGUsaSl7cmV0dXJuIGVvKHRoaXMpKHQsdGhpcyxlLGkpfXBhdGgodCxlLGkpe2NvbnN0IHM9dGhpcy5zZWdtZW50cyxuPWVvKHRoaXMpO2xldCBvPXRoaXMuX2xvb3A7ZT1lfHwwLGk9aXx8dGhpcy5wb2ludHMubGVuZ3RoLWU7Zm9yKGNvbnN0IGEgb2YgcylvJj1uKHQsdGhpcyxhLHtzdGFydDplLGVuZDplK2ktMX0pO3JldHVybiEhb31kcmF3KHQsZSxpLHMpe2NvbnN0IG49dGhpcy5vcHRpb25zfHx7fTsodGhpcy5wb2ludHN8fFtdKS5sZW5ndGgmJm4uYm9yZGVyV2lkdGgmJih0LnNhdmUoKSxzbyh0LHRoaXMsaSxzKSx0LnJlc3RvcmUoKSksdGhpcy5hbmltYXRlZCYmKHRoaXMuX3BvaW50c1VwZGF0ZWQ9ITEsdGhpcy5fcGF0aD12b2lkIDApfX1mdW5jdGlvbiBvbyh0LGUsaSxzKXtjb25zdCBuPXQub3B0aW9ucyx7W2ldOm99PXQuZ2V0UHJvcHMoW2ldLHMpO3JldHVybiBNYXRoLmFicyhlLW8pPG4ucmFkaXVzK24uaGl0UmFkaXVzfWZ1bmN0aW9uIGFvKHQsZSl7Y29uc3R7eDppLHk6cyxiYXNlOm4sd2lkdGg6byxoZWlnaHQ6YX09dC5nZXRQcm9wcyhbIngiLCJ5IiwiYmFzZSIsIndpZHRoIiwiaGVpZ2h0Il0sZSk7bGV0IHIsbCxoLGMsZDtyZXR1cm4gdC5ob3Jpem9udGFsPyhkPWEvMixyPU1hdGgubWluKGksbiksbD1NYXRoLm1heChpLG4pLGg9cy1kLGM9cytkKTooZD1vLzIscj1pLWQsbD1pK2QsaD1NYXRoLm1pbihzLG4pLGM9TWF0aC5tYXgocyxuKSkse2xlZnQ6cix0b3A6aCxyaWdodDpsLGJvdHRvbTpjfX1mdW5jdGlvbiBybyh0LGUsaSxzKXtyZXR1cm4gdD8wOkooZSxpLHMpfWZ1bmN0aW9uIGxvKHQpe2NvbnN0IGU9YW8odCksaT1lLnJpZ2h0LWUubGVmdCxzPWUuYm90dG9tLWUudG9wLG49ZnVuY3Rpb24odCxlLGkpe2NvbnN0IHM9dC5vcHRpb25zLmJvcmRlcldpZHRoLG49dC5ib3JkZXJTa2lwcGVkLG89TWkocyk7cmV0dXJue3Q6cm8obi50b3Asby50b3AsMCxpKSxyOnJvKG4ucmlnaHQsby5yaWdodCwwLGUpLGI6cm8obi5ib3R0b20sby5ib3R0b20sMCxpKSxsOnJvKG4ubGVmdCxvLmxlZnQsMCxlKX19KHQsaS8yLHMvMiksYT1mdW5jdGlvbih0LGUsaSl7Y29uc3R7ZW5hYmxlQm9yZGVyUmFkaXVzOnN9PXQuZ2V0UHJvcHMoWyJlbmFibGVCb3JkZXJSYWRpdXMiXSksbj10Lm9wdGlvbnMuYm9yZGVyUmFkaXVzLGE9d2kobikscj1NYXRoLm1pbihlLGkpLGw9dC5ib3JkZXJTa2lwcGVkLGg9c3x8byhuKTtyZXR1cm57dG9wTGVmdDpybyghaHx8bC50b3B8fGwubGVmdCxhLnRvcExlZnQsMCxyKSx0b3BSaWdodDpybyghaHx8bC50b3B8fGwucmlnaHQsYS50b3BSaWdodCwwLHIpLGJvdHRvbUxlZnQ6cm8oIWh8fGwuYm90dG9tfHxsLmxlZnQsYS5ib3R0b21MZWZ0LDAsciksYm90dG9tUmlnaHQ6cm8oIWh8fGwuYm90dG9tfHxsLnJpZ2h0LGEuYm90dG9tUmlnaHQsMCxyKX19KHQsaS8yLHMvMik7cmV0dXJue291dGVyOnt4OmUubGVmdCx5OmUudG9wLHc6aSxoOnMscmFkaXVzOmF9LGlubmVyOnt4OmUubGVmdCtuLmwseTplLnRvcCtuLnQsdzppLW4ubC1uLnIsaDpzLW4udC1uLmIscmFkaXVzOnt0b3BMZWZ0Ok1hdGgubWF4KDAsYS50b3BMZWZ0LU1hdGgubWF4KG4udCxuLmwpKSx0b3BSaWdodDpNYXRoLm1heCgwLGEudG9wUmlnaHQtTWF0aC5tYXgobi50LG4ucikpLGJvdHRvbUxlZnQ6TWF0aC5tYXgoMCxhLmJvdHRvbUxlZnQtTWF0aC5tYXgobi5iLG4ubCkpLGJvdHRvbVJpZ2h0Ok1hdGgubWF4KDAsYS5ib3R0b21SaWdodC1NYXRoLm1heChuLmIsbi5yKSl9fX19ZnVuY3Rpb24gaG8odCxlLGkscyl7Y29uc3Qgbj1udWxsPT09ZSxvPW51bGw9PT1pLGE9dCYmIShuJiZvKSYmYW8odCxzKTtyZXR1cm4gYSYmKG58fHR0KGUsYS5sZWZ0LGEucmlnaHQpKSYmKG98fHR0KGksYS50b3AsYS5ib3R0b20pKX1mdW5jdGlvbiBjbyh0LGUpe3QucmVjdChlLngsZS55LGUudyxlLmgpfWZ1bmN0aW9uIHVvKHQsZSxpPXt9KXtjb25zdCBzPXQueCE9PWkueD8tZTowLG49dC55IT09aS55Py1lOjAsbz0odC54K3QudyE9PWkueCtpLnc/ZTowKS1zLGE9KHQueSt0LmghPT1pLnkraS5oP2U6MCktbjtyZXR1cm57eDp0Lngrcyx5OnQueStuLHc6dC53K28saDp0LmgrYSxyYWRpdXM6dC5yYWRpdXN9fXZhciBmbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxBcmNFbGVtZW50OmNsYXNzIGV4dGVuZHMgSHN7c3RhdGljIGlkPSJhcmMiO3N0YXRpYyBkZWZhdWx0cz17Ym9yZGVyQWxpZ246ImNlbnRlciIsYm9yZGVyQ29sb3I6IiNmZmYiLGJvcmRlckRhc2g6W10sYm9yZGVyRGFzaE9mZnNldDowLGJvcmRlckpvaW5TdHlsZTp2b2lkIDAsYm9yZGVyUmFkaXVzOjAsYm9yZGVyV2lkdGg6MixvZmZzZXQ6MCxzcGFjaW5nOjAsYW5nbGU6dm9pZCAwLGNpcmN1bGFyOiEwfTtzdGF0aWMgZGVmYXVsdFJvdXRlcz17YmFja2dyb3VuZENvbG9yOiJiYWNrZ3JvdW5kQ29sb3IifTtzdGF0aWMgZGVzY3JpcHRvcnM9e19zY3JpcHRhYmxlOiEwLF9pbmRleGFibGU6dD0+ImJvcmRlckRhc2giIT09dH07Y2lyY3VtZmVyZW5jZTtlbmRBbmdsZTtmdWxsQ2lyY2xlcztpbm5lclJhZGl1cztvdXRlclJhZGl1cztwaXhlbE1hcmdpbjtzdGFydEFuZ2xlO2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPXZvaWQgMCx0aGlzLmNpcmN1bWZlcmVuY2U9dm9pZCAwLHRoaXMuc3RhcnRBbmdsZT12b2lkIDAsdGhpcy5lbmRBbmdsZT12b2lkIDAsdGhpcy5pbm5lclJhZGl1cz12b2lkIDAsdGhpcy5vdXRlclJhZGl1cz12b2lkIDAsdGhpcy5waXhlbE1hcmdpbj0wLHRoaXMuZnVsbENpcmNsZXM9MCx0JiZPYmplY3QuYXNzaWduKHRoaXMsdCl9aW5SYW5nZSh0LGUsaSl7Y29uc3Qgcz10aGlzLmdldFByb3BzKFsieCIsInkiXSxpKSx7YW5nbGU6bixkaXN0YW5jZTpvfT1YKHMse3g6dCx5OmV9KSx7c3RhcnRBbmdsZTphLGVuZEFuZ2xlOnIsaW5uZXJSYWRpdXM6aCxvdXRlclJhZGl1czpjLGNpcmN1bWZlcmVuY2U6ZH09dGhpcy5nZXRQcm9wcyhbInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsImlubmVyUmFkaXVzIiwib3V0ZXJSYWRpdXMiLCJjaXJjdW1mZXJlbmNlIl0saSksdT0odGhpcy5vcHRpb25zLnNwYWNpbmcrdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoKS8yLGY9bChkLHItYSk+PU98fFoobixhLHIpLGc9dHQobyxoK3UsYyt1KTtyZXR1cm4gZiYmZ31nZXRDZW50ZXJQb2ludCh0KXtjb25zdHt4OmUseTppLHN0YXJ0QW5nbGU6cyxlbmRBbmdsZTpuLGlubmVyUmFkaXVzOm8sb3V0ZXJSYWRpdXM6YX09dGhpcy5nZXRQcm9wcyhbIngiLCJ5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiaW5uZXJSYWRpdXMiLCJvdXRlclJhZGl1cyJdLHQpLHtvZmZzZXQ6cixzcGFjaW5nOmx9PXRoaXMub3B0aW9ucyxoPShzK24pLzIsYz0obythK2wrcikvMjtyZXR1cm57eDplK01hdGguY29zKGgpKmMseTppK01hdGguc2luKGgpKmN9fXRvb2x0aXBQb3NpdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRDZW50ZXJQb2ludCh0KX1kcmF3KHQpe2NvbnN0e29wdGlvbnM6ZSxjaXJjdW1mZXJlbmNlOml9PXRoaXMscz0oZS5vZmZzZXR8fDApLzQsbj0oZS5zcGFjaW5nfHwwKS8yLG89ZS5jaXJjdWxhcjtpZih0aGlzLnBpeGVsTWFyZ2luPSJpbm5lciI9PT1lLmJvcmRlckFsaWduPy4zMzowLHRoaXMuZnVsbENpcmNsZXM9aT5PP01hdGguZmxvb3IoaS9PKTowLDA9PT1pfHx0aGlzLmlubmVyUmFkaXVzPDB8fHRoaXMub3V0ZXJSYWRpdXM8MClyZXR1cm47dC5zYXZlKCk7Y29uc3QgYT0odGhpcy5zdGFydEFuZ2xlK3RoaXMuZW5kQW5nbGUpLzI7dC50cmFuc2xhdGUoTWF0aC5jb3MoYSkqcyxNYXRoLnNpbihhKSpzKTtjb25zdCByPXMqKDEtTWF0aC5zaW4oTWF0aC5taW4oQyxpfHwwKSkpO3QuZmlsbFN0eWxlPWUuYmFja2dyb3VuZENvbG9yLHQuc3Ryb2tlU3R5bGU9ZS5ib3JkZXJDb2xvcixmdW5jdGlvbih0LGUsaSxzLG4pe2NvbnN0e2Z1bGxDaXJjbGVzOm8sc3RhcnRBbmdsZTphLGNpcmN1bWZlcmVuY2U6cn09ZTtsZXQgbD1lLmVuZEFuZ2xlO2lmKG8pe3FuKHQsZSxpLHMsbCxuKTtmb3IobGV0IGU9MDtlPG87KytlKXQuZmlsbCgpO2lzTmFOKHIpfHwobD1hKyhyJU98fE8pKX1xbih0LGUsaSxzLGwsbiksdC5maWxsKCl9KHQsdGhpcyxyLG4sbyksS24odCx0aGlzLHIsbixvKSx0LnJlc3RvcmUoKX19LEJhckVsZW1lbnQ6Y2xhc3MgZXh0ZW5kcyBIc3tzdGF0aWMgaWQ9ImJhciI7c3RhdGljIGRlZmF1bHRzPXtib3JkZXJTa2lwcGVkOiJzdGFydCIsYm9yZGVyV2lkdGg6MCxib3JkZXJSYWRpdXM6MCxpbmZsYXRlQW1vdW50OiJhdXRvIixwb2ludFN0eWxlOnZvaWQgMH07c3RhdGljIGRlZmF1bHRSb3V0ZXM9e2JhY2tncm91bmRDb2xvcjoiYmFja2dyb3VuZENvbG9yIixib3JkZXJDb2xvcjoiYm9yZGVyQ29sb3IifTtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz12b2lkIDAsdGhpcy5ob3Jpem9udGFsPXZvaWQgMCx0aGlzLmJhc2U9dm9pZCAwLHRoaXMud2lkdGg9dm9pZCAwLHRoaXMuaGVpZ2h0PXZvaWQgMCx0aGlzLmluZmxhdGVBbW91bnQ9dm9pZCAwLHQmJk9iamVjdC5hc3NpZ24odGhpcyx0KX1kcmF3KHQpe2NvbnN0e2luZmxhdGVBbW91bnQ6ZSxvcHRpb25zOntib3JkZXJDb2xvcjppLGJhY2tncm91bmRDb2xvcjpzfX09dGhpcyx7aW5uZXI6bixvdXRlcjpvfT1sbyh0aGlzKSxhPShyPW8ucmFkaXVzKS50b3BMZWZ0fHxyLnRvcFJpZ2h0fHxyLmJvdHRvbUxlZnR8fHIuYm90dG9tUmlnaHQ/SGU6Y287dmFyIHI7dC5zYXZlKCksby53PT09bi53JiZvLmg9PT1uLmh8fCh0LmJlZ2luUGF0aCgpLGEodCx1byhvLGUsbikpLHQuY2xpcCgpLGEodCx1byhuLC1lLG8pKSx0LmZpbGxTdHlsZT1pLHQuZmlsbCgiZXZlbm9kZCIpKSx0LmJlZ2luUGF0aCgpLGEodCx1byhuLGUpKSx0LmZpbGxTdHlsZT1zLHQuZmlsbCgpLHQucmVzdG9yZSgpfWluUmFuZ2UodCxlLGkpe3JldHVybiBobyh0aGlzLHQsZSxpKX1pblhSYW5nZSh0LGUpe3JldHVybiBobyh0aGlzLHQsbnVsbCxlKX1pbllSYW5nZSh0LGUpe3JldHVybiBobyh0aGlzLG51bGwsdCxlKX1nZXRDZW50ZXJQb2ludCh0KXtjb25zdHt4OmUseTppLGJhc2U6cyxob3Jpem9udGFsOm59PXRoaXMuZ2V0UHJvcHMoWyJ4IiwieSIsImJhc2UiLCJob3Jpem9udGFsIl0sdCk7cmV0dXJue3g6bj8oZStzKS8yOmUseTpuP2k6KGkrcykvMn19Z2V0UmFuZ2UodCl7cmV0dXJuIngiPT09dD90aGlzLndpZHRoLzI6dGhpcy5oZWlnaHQvMn19LExpbmVFbGVtZW50Om5vLFBvaW50RWxlbWVudDpjbGFzcyBleHRlbmRzIEhze3N0YXRpYyBpZD0icG9pbnQiO3BhcnNlZDtza2lwO3N0b3A7c3RhdGljIGRlZmF1bHRzPXtib3JkZXJXaWR0aDoxLGhpdFJhZGl1czoxLGhvdmVyQm9yZGVyV2lkdGg6MSxob3ZlclJhZGl1czo0LHBvaW50U3R5bGU6ImNpcmNsZSIscmFkaXVzOjMscm90YXRpb246MH07c3RhdGljIGRlZmF1bHRSb3V0ZXM9e2JhY2tncm91bmRDb2xvcjoiYmFja2dyb3VuZENvbG9yIixib3JkZXJDb2xvcjoiYm9yZGVyQ29sb3IifTtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz12b2lkIDAsdGhpcy5wYXJzZWQ9dm9pZCAwLHRoaXMuc2tpcD12b2lkIDAsdGhpcy5zdG9wPXZvaWQgMCx0JiZPYmplY3QuYXNzaWduKHRoaXMsdCl9aW5SYW5nZSh0LGUsaSl7Y29uc3Qgcz10aGlzLm9wdGlvbnMse3g6bix5Om99PXRoaXMuZ2V0UHJvcHMoWyJ4IiwieSJdLGkpO3JldHVybiBNYXRoLnBvdyh0LW4sMikrTWF0aC5wb3coZS1vLDIpPE1hdGgucG93KHMuaGl0UmFkaXVzK3MucmFkaXVzLDIpfWluWFJhbmdlKHQsZSl7cmV0dXJuIG9vKHRoaXMsdCwieCIsZSl9aW5ZUmFuZ2UodCxlKXtyZXR1cm4gb28odGhpcyx0LCJ5IixlKX1nZXRDZW50ZXJQb2ludCh0KXtjb25zdHt4OmUseTppfT10aGlzLmdldFByb3BzKFsieCIsInkiXSx0KTtyZXR1cm57eDplLHk6aX19c2l6ZSh0KXtsZXQgZT0odD10fHx0aGlzLm9wdGlvbnN8fHt9KS5yYWRpdXN8fDA7ZT1NYXRoLm1heChlLGUmJnQuaG92ZXJSYWRpdXN8fDApO3JldHVybiAyKihlKyhlJiZ0LmJvcmRlcldpZHRofHwwKSl9ZHJhdyh0LGUpe2NvbnN0IGk9dGhpcy5vcHRpb25zO3RoaXMuc2tpcHx8aS5yYWRpdXM8LjF8fCFSZSh0aGlzLGUsdGhpcy5zaXplKGkpLzIpfHwodC5zdHJva2VTdHlsZT1pLmJvcmRlckNvbG9yLHQubGluZVdpZHRoPWkuYm9yZGVyV2lkdGgsdC5maWxsU3R5bGU9aS5iYWNrZ3JvdW5kQ29sb3IsTGUodCxpLHRoaXMueCx0aGlzLnkpKX1nZXRSYW5nZSgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zfHx7fTtyZXR1cm4gdC5yYWRpdXMrdC5oaXRSYWRpdXN9fX0pO2Z1bmN0aW9uIGdvKHQsZSxpLHMpe2NvbnN0IG49dC5pbmRleE9mKGUpO2lmKC0xPT09bilyZXR1cm4oKHQsZSxpLHMpPT4oInN0cmluZyI9PXR5cGVvZiBlPyhpPXQucHVzaChlKS0xLHMudW5zaGlmdCh7aW5kZXg6aSxsYWJlbDplfSkpOmlzTmFOKGUpJiYoaT1udWxsKSxpKSkodCxlLGkscyk7cmV0dXJuIG4hPT10Lmxhc3RJbmRleE9mKGUpP2k6bn1mdW5jdGlvbiBwbyh0KXtjb25zdCBlPXRoaXMuZ2V0TGFiZWxzKCk7cmV0dXJuIHQ+PTAmJnQ8ZS5sZW5ndGg/ZVt0XTp0fWZ1bmN0aW9uIG1vKHQsZSx7aG9yaXpvbnRhbDppLG1pblJvdGF0aW9uOnN9KXtjb25zdCBuPSQocyksbz0oaT9NYXRoLnNpbihuKTpNYXRoLmNvcyhuKSl8fC4wMDEsYT0uNzUqZSooIiIrdCkubGVuZ3RoO3JldHVybiBNYXRoLm1pbihlL28sYSl9Y2xhc3MgYm8gZXh0ZW5kcyBKc3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnN0YXJ0PXZvaWQgMCx0aGlzLmVuZD12b2lkIDAsdGhpcy5fc3RhcnRWYWx1ZT12b2lkIDAsdGhpcy5fZW5kVmFsdWU9dm9pZCAwLHRoaXMuX3ZhbHVlUmFuZ2U9MH1wYXJzZSh0LGUpe3JldHVybiBzKHQpfHwoIm51bWJlciI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmIWlzRmluaXRlKCt0KT9udWxsOit0fWhhbmRsZVRpY2tSYW5nZU9wdGlvbnMoKXtjb25zdHtiZWdpbkF0WmVybzp0fT10aGlzLm9wdGlvbnMse21pbkRlZmluZWQ6ZSxtYXhEZWZpbmVkOml9PXRoaXMuZ2V0VXNlckJvdW5kcygpO2xldHttaW46cyxtYXg6bn09dGhpcztjb25zdCBvPXQ9PnM9ZT9zOnQsYT10PT5uPWk/bjp0O2lmKHQpe2NvbnN0IHQ9RihzKSxlPUYobik7dDwwJiZlPDA/YSgwKTp0PjAmJmU+MCYmbygwKX1pZihzPT09bil7bGV0IGU9MD09PW4/MTpNYXRoLmFicyguMDUqbik7YShuK2UpLHR8fG8ocy1lKX10aGlzLm1pbj1zLHRoaXMubWF4PW59Z2V0VGlja0xpbWl0KCl7Y29uc3QgdD10aGlzLm9wdGlvbnMudGlja3M7bGV0IGUse21heFRpY2tzTGltaXQ6aSxzdGVwU2l6ZTpzfT10O3JldHVybiBzPyhlPU1hdGguY2VpbCh0aGlzLm1heC9zKS1NYXRoLmZsb29yKHRoaXMubWluL3MpKzEsZT4xZTMmJihjb25zb2xlLndhcm4oYHNjYWxlcy4ke3RoaXMuaWR9LnRpY2tzLnN0ZXBTaXplOiAke3N9IHdvdWxkIHJlc3VsdCBnZW5lcmF0aW5nIHVwIHRvICR7ZX0gdGlja3MuIExpbWl0aW5nIHRvIDEwMDAuYCksZT0xZTMpKTooZT10aGlzLmNvbXB1dGVUaWNrTGltaXQoKSxpPWl8fDExKSxpJiYoZT1NYXRoLm1pbihpLGUpKSxlfWNvbXB1dGVUaWNrTGltaXQoKXtyZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfWJ1aWxkVGlja3MoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQudGlja3M7bGV0IGk9dGhpcy5nZXRUaWNrTGltaXQoKTtpPU1hdGgubWF4KDIsaSk7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe2NvbnN0IGk9W10se2JvdW5kczpuLHN0ZXA6byxtaW46YSxtYXg6cixwcmVjaXNpb246bCxjb3VudDpoLG1heFRpY2tzOmMsbWF4RGlnaXRzOmQsaW5jbHVkZUJvdW5kczp1fT10LGY9b3x8MSxnPWMtMSx7bWluOnAsbWF4Om19PWUsYj0hcyhhKSx4PSFzKHIpLF89IXMoaCkseT0obS1wKS8oZCsxKTtsZXQgdixNLHcsayxTPUIoKG0tcCkvZy9mKSpmO2lmKFM8MWUtMTQmJiFiJiYheClyZXR1cm5be3ZhbHVlOnB9LHt2YWx1ZTptfV07az1NYXRoLmNlaWwobS9TKS1NYXRoLmZsb29yKHAvUyksaz5nJiYoUz1CKGsqUy9nL2YpKmYpLHMobCl8fCh2PU1hdGgucG93KDEwLGwpLFM9TWF0aC5jZWlsKFMqdikvdiksInRpY2tzIj09PW4/KE09TWF0aC5mbG9vcihwL1MpKlMsdz1NYXRoLmNlaWwobS9TKSpTKTooTT1wLHc9bSksYiYmeCYmbyYmSCgoci1hKS9vLFMvMWUzKT8oaz1NYXRoLnJvdW5kKE1hdGgubWluKChyLWEpL1MsYykpLFM9KHItYSkvayxNPWEsdz1yKTpfPyhNPWI/YTpNLHc9eD9yOncsaz1oLTEsUz0ody1NKS9rKTooaz0ody1NKS9TLGs9VihrLE1hdGgucm91bmQoayksUy8xZTMpP01hdGgucm91bmQoayk6TWF0aC5jZWlsKGspKTtjb25zdCBQPU1hdGgubWF4KFUoUyksVShNKSk7dj1NYXRoLnBvdygxMCxzKGwpP1A6bCksTT1NYXRoLnJvdW5kKE0qdikvdix3PU1hdGgucm91bmQodyp2KS92O2xldCBEPTA7Zm9yKGImJih1JiZNIT09YT8oaS5wdXNoKHt2YWx1ZTphfSksTTxhJiZEKyssVihNYXRoLnJvdW5kKChNK0QqUykqdikvdixhLG1vKGEseSx0KSkmJkQrKyk6TTxhJiZEKyspO0Q8azsrK0Qpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoTStEKlMpKnYpL3Y7aWYoeCYmdD5yKWJyZWFrO2kucHVzaCh7dmFsdWU6dH0pfXJldHVybiB4JiZ1JiZ3IT09cj9pLmxlbmd0aCYmVihpW2kubGVuZ3RoLTFdLnZhbHVlLHIsbW8ocix5LHQpKT9pW2kubGVuZ3RoLTFdLnZhbHVlPXI6aS5wdXNoKHt2YWx1ZTpyfSk6eCYmdyE9PXJ8fGkucHVzaCh7dmFsdWU6d30pLGl9KHttYXhUaWNrczppLGJvdW5kczp0LmJvdW5kcyxtaW46dC5taW4sbWF4OnQubWF4LHByZWNpc2lvbjplLnByZWNpc2lvbixzdGVwOmUuc3RlcFNpemUsY291bnQ6ZS5jb3VudCxtYXhEaWdpdHM6dGhpcy5fbWF4RGlnaXRzKCksaG9yaXpvbnRhbDp0aGlzLmlzSG9yaXpvbnRhbCgpLG1pblJvdGF0aW9uOmUubWluUm90YXRpb258fDAsaW5jbHVkZUJvdW5kczohMSE9PWUuaW5jbHVkZUJvdW5kc30sdGhpcy5fcmFuZ2V8fHRoaXMpO3JldHVybiJ0aWNrcyI9PT10LmJvdW5kcyYmaihuLHRoaXMsInZhbHVlIiksdC5yZXZlcnNlPyhuLnJldmVyc2UoKSx0aGlzLnN0YXJ0PXRoaXMubWF4LHRoaXMuZW5kPXRoaXMubWluKToodGhpcy5zdGFydD10aGlzLm1pbix0aGlzLmVuZD10aGlzLm1heCksbn1jb25maWd1cmUoKXtjb25zdCB0PXRoaXMudGlja3M7bGV0IGU9dGhpcy5taW4saT10aGlzLm1heDtpZihzdXBlci5jb25maWd1cmUoKSx0aGlzLm9wdGlvbnMub2Zmc2V0JiZ0Lmxlbmd0aCl7Y29uc3Qgcz0oaS1lKS9NYXRoLm1heCh0Lmxlbmd0aC0xLDEpLzI7ZS09cyxpKz1zfXRoaXMuX3N0YXJ0VmFsdWU9ZSx0aGlzLl9lbmRWYWx1ZT1pLHRoaXMuX3ZhbHVlUmFuZ2U9aS1lfWdldExhYmVsRm9yVmFsdWUodCl7cmV0dXJuIG5lKHQsdGhpcy5jaGFydC5vcHRpb25zLmxvY2FsZSx0aGlzLm9wdGlvbnMudGlja3MuZm9ybWF0KX19Y2xhc3MgeG8gZXh0ZW5kcyBib3tzdGF0aWMgaWQ9ImxpbmVhciI7c3RhdGljIGRlZmF1bHRzPXt0aWNrczp7Y2FsbGJhY2s6YWUuZm9ybWF0dGVycy5udW1lcmljfX07ZGV0ZXJtaW5lRGF0YUxpbWl0cygpe2NvbnN0e21pbjp0LG1heDplfT10aGlzLmdldE1pbk1heCghMCk7dGhpcy5taW49YSh0KT90OjAsdGhpcy5tYXg9YShlKT9lOjEsdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCl9Y29tcHV0ZVRpY2tMaW1pdCgpe2NvbnN0IHQ9dGhpcy5pc0hvcml6b250YWwoKSxlPXQ/dGhpcy53aWR0aDp0aGlzLmhlaWdodCxpPSQodGhpcy5vcHRpb25zLnRpY2tzLm1pblJvdGF0aW9uKSxzPSh0P01hdGguc2luKGkpOk1hdGguY29zKGkpKXx8LjAwMSxuPXRoaXMuX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoMCk7cmV0dXJuIE1hdGguY2VpbChlL01hdGgubWluKDQwLG4ubGluZUhlaWdodC9zKSl9Z2V0UGl4ZWxGb3JWYWx1ZSh0KXtyZXR1cm4gbnVsbD09PXQ/TmFOOnRoaXMuZ2V0UGl4ZWxGb3JEZWNpbWFsKCh0LXRoaXMuX3N0YXJ0VmFsdWUpL3RoaXMuX3ZhbHVlUmFuZ2UpfWdldFZhbHVlRm9yUGl4ZWwodCl7cmV0dXJuIHRoaXMuX3N0YXJ0VmFsdWUrdGhpcy5nZXREZWNpbWFsRm9yUGl4ZWwodCkqdGhpcy5fdmFsdWVSYW5nZX19Y29uc3QgX289dD0+TWF0aC5mbG9vcih6KHQpKSx5bz0odCxlKT0+TWF0aC5wb3coMTAsX28odCkrZSk7ZnVuY3Rpb24gdm8odCl7cmV0dXJuIDE9PT10L01hdGgucG93KDEwLF9vKHQpKX1mdW5jdGlvbiBNbyh0LGUsaSl7Y29uc3Qgcz1NYXRoLnBvdygxMCxpKSxuPU1hdGguZmxvb3IodC9zKTtyZXR1cm4gTWF0aC5jZWlsKGUvcyktbn1mdW5jdGlvbiB3byh0LHttaW46ZSxtYXg6aX0pe2U9cih0Lm1pbixlKTtjb25zdCBzPVtdLG49X28oZSk7bGV0IG89ZnVuY3Rpb24odCxlKXtsZXQgaT1fbyhlLXQpO2Zvcig7TW8odCxlLGkpPjEwOylpKys7Zm9yKDtNbyh0LGUsaSk8MTA7KWktLTtyZXR1cm4gTWF0aC5taW4oaSxfbyh0KSl9KGUsaSksYT1vPDA/TWF0aC5wb3coMTAsTWF0aC5hYnMobykpOjE7Y29uc3QgbD1NYXRoLnBvdygxMCxvKSxoPW4+bz9NYXRoLnBvdygxMCxuKTowLGM9TWF0aC5yb3VuZCgoZS1oKSphKS9hLGQ9TWF0aC5mbG9vcigoZS1oKS9sLzEwKSpsKjEwO2xldCB1PU1hdGguZmxvb3IoKGMtZCkvTWF0aC5wb3coMTAsbykpLGY9cih0Lm1pbixNYXRoLnJvdW5kKChoK2QrdSpNYXRoLnBvdygxMCxvKSkqYSkvYSk7Zm9yKDtmPGk7KXMucHVzaCh7dmFsdWU6ZixtYWpvcjp2byhmKSxzaWduaWZpY2FuZDp1fSksdT49MTA/dT11PDE1PzE1OjIwOnUrKyx1Pj0yMCYmKG8rKyx1PTIsYT1vPj0wPzE6YSksZj1NYXRoLnJvdW5kKChoK2QrdSpNYXRoLnBvdygxMCxvKSkqYSkvYTtjb25zdCBnPXIodC5tYXgsZik7cmV0dXJuIHMucHVzaCh7dmFsdWU6ZyxtYWpvcjp2byhnKSxzaWduaWZpY2FuZDp1fSksc31jbGFzcyBrbyBleHRlbmRzIEpze3N0YXRpYyBpZD0ibG9nYXJpdGhtaWMiO3N0YXRpYyBkZWZhdWx0cz17dGlja3M6e2NhbGxiYWNrOmFlLmZvcm1hdHRlcnMubG9nYXJpdGhtaWMsbWFqb3I6e2VuYWJsZWQ6ITB9fX07Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zdGFydD12b2lkIDAsdGhpcy5lbmQ9dm9pZCAwLHRoaXMuX3N0YXJ0VmFsdWU9dm9pZCAwLHRoaXMuX3ZhbHVlUmFuZ2U9MH1wYXJzZSh0LGUpe2NvbnN0IGk9Ym8ucHJvdG90eXBlLnBhcnNlLmFwcGx5KHRoaXMsW3QsZV0pO2lmKDAhPT1pKXJldHVybiBhKGkpJiZpPjA/aTpudWxsO3RoaXMuX3plcm89ITB9ZGV0ZXJtaW5lRGF0YUxpbWl0cygpe2NvbnN0e21pbjp0LG1heDplfT10aGlzLmdldE1pbk1heCghMCk7dGhpcy5taW49YSh0KT9NYXRoLm1heCgwLHQpOm51bGwsdGhpcy5tYXg9YShlKT9NYXRoLm1heCgwLGUpOm51bGwsdGhpcy5vcHRpb25zLmJlZ2luQXRaZXJvJiYodGhpcy5femVybz0hMCksdGhpcy5femVybyYmdGhpcy5taW4hPT10aGlzLl9zdWdnZXN0ZWRNaW4mJiFhKHRoaXMuX3VzZXJNaW4pJiYodGhpcy5taW49dD09PXlvKHRoaXMubWluLDApP3lvKHRoaXMubWluLC0xKTp5byh0aGlzLm1pbiwwKSksdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCl9aGFuZGxlVGlja1JhbmdlT3B0aW9ucygpe2NvbnN0e21pbkRlZmluZWQ6dCxtYXhEZWZpbmVkOmV9PXRoaXMuZ2V0VXNlckJvdW5kcygpO2xldCBpPXRoaXMubWluLHM9dGhpcy5tYXg7Y29uc3Qgbj1lPT5pPXQ/aTplLG89dD0+cz1lP3M6dDtpPT09cyYmKGk8PTA/KG4oMSksbygxMCkpOihuKHlvKGksLTEpKSxvKHlvKHMsMSkpKSksaTw9MCYmbih5byhzLC0xKSksczw9MCYmbyh5byhpLDEpKSx0aGlzLm1pbj1pLHRoaXMubWF4PXN9YnVpbGRUaWNrcygpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9d28oe21pbjp0aGlzLl91c2VyTWluLG1heDp0aGlzLl91c2VyTWF4fSx0aGlzKTtyZXR1cm4idGlja3MiPT09dC5ib3VuZHMmJmooZSx0aGlzLCJ2YWx1ZSIpLHQucmV2ZXJzZT8oZS5yZXZlcnNlKCksdGhpcy5zdGFydD10aGlzLm1heCx0aGlzLmVuZD10aGlzLm1pbik6KHRoaXMuc3RhcnQ9dGhpcy5taW4sdGhpcy5lbmQ9dGhpcy5tYXgpLGV9Z2V0TGFiZWxGb3JWYWx1ZSh0KXtyZXR1cm4gdm9pZCAwPT09dD8iMCI6bmUodCx0aGlzLmNoYXJ0Lm9wdGlvbnMubG9jYWxlLHRoaXMub3B0aW9ucy50aWNrcy5mb3JtYXQpfWNvbmZpZ3VyZSgpe2NvbnN0IHQ9dGhpcy5taW47c3VwZXIuY29uZmlndXJlKCksdGhpcy5fc3RhcnRWYWx1ZT16KHQpLHRoaXMuX3ZhbHVlUmFuZ2U9eih0aGlzLm1heCkteih0KX1nZXRQaXhlbEZvclZhbHVlKHQpe3JldHVybiB2b2lkIDAhPT10JiYwIT09dHx8KHQ9dGhpcy5taW4pLG51bGw9PT10fHxpc05hTih0KT9OYU46dGhpcy5nZXRQaXhlbEZvckRlY2ltYWwodD09PXRoaXMubWluPzA6KHoodCktdGhpcy5fc3RhcnRWYWx1ZSkvdGhpcy5fdmFsdWVSYW5nZSl9Z2V0VmFsdWVGb3JQaXhlbCh0KXtjb25zdCBlPXRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHQpO3JldHVybiBNYXRoLnBvdygxMCx0aGlzLl9zdGFydFZhbHVlK2UqdGhpcy5fdmFsdWVSYW5nZSl9fWZ1bmN0aW9uIFNvKHQpe2NvbnN0IGU9dC50aWNrcztpZihlLmRpc3BsYXkmJnQuZGlzcGxheSl7Y29uc3QgdD1raShlLmJhY2tkcm9wUGFkZGluZyk7cmV0dXJuIGwoZS5mb250JiZlLmZvbnQuc2l6ZSx1ZS5mb250LnNpemUpK3QuaGVpZ2h0fXJldHVybiAwfWZ1bmN0aW9uIFBvKHQsZSxpLHMsbil7cmV0dXJuIHQ9PT1zfHx0PT09bj97c3RhcnQ6ZS1pLzIsZW5kOmUraS8yfTp0PHN8fHQ+bj97c3RhcnQ6ZS1pLGVuZDplfTp7c3RhcnQ6ZSxlbmQ6ZStpfX1mdW5jdGlvbiBEbyh0KXtjb25zdCBlPXtsOnQubGVmdCt0Ll9wYWRkaW5nLmxlZnQscjp0LnJpZ2h0LXQuX3BhZGRpbmcucmlnaHQsdDp0LnRvcCt0Ll9wYWRkaW5nLnRvcCxiOnQuYm90dG9tLXQuX3BhZGRpbmcuYm90dG9tfSxpPU9iamVjdC5hc3NpZ24oe30sZSkscz1bXSxvPVtdLGE9dC5fcG9pbnRMYWJlbHMubGVuZ3RoLHI9dC5vcHRpb25zLnBvaW50TGFiZWxzLGw9ci5jZW50ZXJQb2ludExhYmVscz9DL2E6MDtmb3IobGV0IHU9MDt1PGE7dSsrKXtjb25zdCBhPXIuc2V0Q29udGV4dCh0LmdldFBvaW50TGFiZWxDb250ZXh0KHUpKTtvW3VdPWEucGFkZGluZztjb25zdCBmPXQuZ2V0UG9pbnRQb3NpdGlvbih1LHQuZHJhd2luZ0FyZWErb1t1XSxsKSxnPVNpKGEuZm9udCkscD0oaD10LmN0eCxjPWcsZD1uKGQ9dC5fcG9pbnRMYWJlbHNbdV0pP2Q6W2RdLHt3Ok9lKGgsYy5zdHJpbmcsZCksaDpkLmxlbmd0aCpjLmxpbmVIZWlnaHR9KTtzW3VdPXA7Y29uc3QgbT1HKHQuZ2V0SW5kZXhBbmdsZSh1KStsKSxiPU1hdGgucm91bmQoWShtKSk7Q28oaSxlLG0sUG8oYixmLngscC53LDAsMTgwKSxQbyhiLGYueSxwLmgsOTAsMjcwKSl9dmFyIGgsYyxkO3Quc2V0Q2VudGVyUG9pbnQoZS5sLWkubCxpLnItZS5yLGUudC1pLnQsaS5iLWUuYiksdC5fcG9pbnRMYWJlbEl0ZW1zPWZ1bmN0aW9uKHQsZSxpKXtjb25zdCBzPVtdLG49dC5fcG9pbnRMYWJlbHMubGVuZ3RoLG89dC5vcHRpb25zLHtjZW50ZXJQb2ludExhYmVsczphLGRpc3BsYXk6cn09by5wb2ludExhYmVscyxsPXtleHRyYTpTbyhvKS8yLGFkZGl0aW9uYWxBbmdsZTphP0MvbjowfTtsZXQgaDtmb3IobGV0IG89MDtvPG47bysrKXtsLnBhZGRpbmc9aVtvXSxsLnNpemU9ZVtvXTtjb25zdCBuPU9vKHQsbyxsKTtzLnB1c2gobiksImF1dG8iPT09ciYmKG4udmlzaWJsZT1BbyhuLGgpLG4udmlzaWJsZSYmKGg9bikpfXJldHVybiBzfSh0LHMsbyl9ZnVuY3Rpb24gQ28odCxlLGkscyxuKXtjb25zdCBvPU1hdGguYWJzKE1hdGguc2luKGkpKSxhPU1hdGguYWJzKE1hdGguY29zKGkpKTtsZXQgcj0wLGw9MDtzLnN0YXJ0PGUubD8ocj0oZS5sLXMuc3RhcnQpL28sdC5sPU1hdGgubWluKHQubCxlLmwtcikpOnMuZW5kPmUuciYmKHI9KHMuZW5kLWUucikvbyx0LnI9TWF0aC5tYXgodC5yLGUucityKSksbi5zdGFydDxlLnQ/KGw9KGUudC1uLnN0YXJ0KS9hLHQudD1NYXRoLm1pbih0LnQsZS50LWwpKTpuLmVuZD5lLmImJihsPShuLmVuZC1lLmIpL2EsdC5iPU1hdGgubWF4KHQuYixlLmIrbCkpfWZ1bmN0aW9uIE9vKHQsZSxpKXtjb25zdCBzPXQuZHJhd2luZ0FyZWEse2V4dHJhOm4sYWRkaXRpb25hbEFuZ2xlOm8scGFkZGluZzphLHNpemU6cn09aSxsPXQuZ2V0UG9pbnRQb3NpdGlvbihlLHMrbithLG8pLGg9TWF0aC5yb3VuZChZKEcobC5hbmdsZStFKSkpLGM9ZnVuY3Rpb24odCxlLGkpezkwPT09aXx8MjcwPT09aT90LT1lLzI6KGk+MjcwfHxpPDkwKSYmKHQtPWUpO3JldHVybiB0fShsLnksci5oLGgpLGQ9ZnVuY3Rpb24odCl7aWYoMD09PXR8fDE4MD09PXQpcmV0dXJuImNlbnRlciI7aWYodDwxODApcmV0dXJuImxlZnQiO3JldHVybiJyaWdodCJ9KGgpLHU9ZnVuY3Rpb24odCxlLGkpeyJyaWdodCI9PT1pP3QtPWU6ImNlbnRlciI9PT1pJiYodC09ZS8yKTtyZXR1cm4gdH0obC54LHIudyxkKTtyZXR1cm57dmlzaWJsZTohMCx4OmwueCx5OmMsdGV4dEFsaWduOmQsbGVmdDp1LHRvcDpjLHJpZ2h0OnUrci53LGJvdHRvbTpjK3IuaH19ZnVuY3Rpb24gQW8odCxlKXtpZighZSlyZXR1cm4hMDtjb25zdHtsZWZ0OmksdG9wOnMscmlnaHQ6bixib3R0b206b309dDtyZXR1cm4hKFJlKHt4OmkseTpzfSxlKXx8UmUoe3g6aSx5Om99LGUpfHxSZSh7eDpuLHk6c30sZSl8fFJlKHt4Om4seTpvfSxlKSl9ZnVuY3Rpb24gVG8odCxlLGkpe2NvbnN0e2xlZnQ6bix0b3A6byxyaWdodDphLGJvdHRvbTpyfT1pLHtiYWNrZHJvcENvbG9yOmx9PWU7aWYoIXMobCkpe2NvbnN0IGk9d2koZS5ib3JkZXJSYWRpdXMpLHM9a2koZS5iYWNrZHJvcFBhZGRpbmcpO3QuZmlsbFN0eWxlPWw7Y29uc3QgaD1uLXMubGVmdCxjPW8tcy50b3AsZD1hLW4rcy53aWR0aCx1PXItbytzLmhlaWdodDtPYmplY3QudmFsdWVzKGkpLnNvbWUoKHQ9PjAhPT10KSk/KHQuYmVnaW5QYXRoKCksSGUodCx7eDpoLHk6Yyx3OmQsaDp1LHJhZGl1czppfSksdC5maWxsKCkpOnQuZmlsbFJlY3QoaCxjLGQsdSl9fWZ1bmN0aW9uIExvKHQsZSxpLHMpe2NvbnN0e2N0eDpufT10O2lmKGkpbi5hcmModC54Q2VudGVyLHQueUNlbnRlcixlLDAsTyk7ZWxzZXtsZXQgaT10LmdldFBvaW50UG9zaXRpb24oMCxlKTtuLm1vdmVUbyhpLngsaS55KTtmb3IobGV0IG89MTtvPHM7bysrKWk9dC5nZXRQb2ludFBvc2l0aW9uKG8sZSksbi5saW5lVG8oaS54LGkueSl9fWNsYXNzIEVvIGV4dGVuZHMgYm97c3RhdGljIGlkPSJyYWRpYWxMaW5lYXIiO3N0YXRpYyBkZWZhdWx0cz17ZGlzcGxheTohMCxhbmltYXRlOiEwLHBvc2l0aW9uOiJjaGFydEFyZWEiLGFuZ2xlTGluZXM6e2Rpc3BsYXk6ITAsbGluZVdpZHRoOjEsYm9yZGVyRGFzaDpbXSxib3JkZXJEYXNoT2Zmc2V0OjB9LGdyaWQ6e2NpcmN1bGFyOiExfSxzdGFydEFuZ2xlOjAsdGlja3M6e3Nob3dMYWJlbEJhY2tkcm9wOiEwLGNhbGxiYWNrOmFlLmZvcm1hdHRlcnMubnVtZXJpY30scG9pbnRMYWJlbHM6e2JhY2tkcm9wQ29sb3I6dm9pZCAwLGJhY2tkcm9wUGFkZGluZzoyLGRpc3BsYXk6ITAsZm9udDp7c2l6ZToxMH0sY2FsbGJhY2s6dD0+dCxwYWRkaW5nOjUsY2VudGVyUG9pbnRMYWJlbHM6ITF9fTtzdGF0aWMgZGVmYXVsdFJvdXRlcz17ImFuZ2xlTGluZXMuY29sb3IiOiJib3JkZXJDb2xvciIsInBvaW50TGFiZWxzLmNvbG9yIjoiY29sb3IiLCJ0aWNrcy5jb2xvciI6ImNvbG9yIn07c3RhdGljIGRlc2NyaXB0b3JzPXthbmdsZUxpbmVzOntfZmFsbGJhY2s6ImdyaWQifX07Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy54Q2VudGVyPXZvaWQgMCx0aGlzLnlDZW50ZXI9dm9pZCAwLHRoaXMuZHJhd2luZ0FyZWE9dm9pZCAwLHRoaXMuX3BvaW50TGFiZWxzPVtdLHRoaXMuX3BvaW50TGFiZWxJdGVtcz1bXX1zZXREaW1lbnNpb25zKCl7Y29uc3QgdD10aGlzLl9wYWRkaW5nPWtpKFNvKHRoaXMub3B0aW9ucykvMiksZT10aGlzLndpZHRoPXRoaXMubWF4V2lkdGgtdC53aWR0aCxpPXRoaXMuaGVpZ2h0PXRoaXMubWF4SGVpZ2h0LXQuaGVpZ2h0O3RoaXMueENlbnRlcj1NYXRoLmZsb29yKHRoaXMubGVmdCtlLzIrdC5sZWZ0KSx0aGlzLnlDZW50ZXI9TWF0aC5mbG9vcih0aGlzLnRvcCtpLzIrdC50b3ApLHRoaXMuZHJhd2luZ0FyZWE9TWF0aC5mbG9vcihNYXRoLm1pbihlLGkpLzIpfWRldGVybWluZURhdGFMaW1pdHMoKXtjb25zdHttaW46dCxtYXg6ZX09dGhpcy5nZXRNaW5NYXgoITEpO3RoaXMubWluPWEodCkmJiFpc05hTih0KT90OjAsdGhpcy5tYXg9YShlKSYmIWlzTmFOKGUpP2U6MCx0aGlzLmhhbmRsZVRpY2tSYW5nZU9wdGlvbnMoKX1jb21wdXRlVGlja0xpbWl0KCl7cmV0dXJuIE1hdGguY2VpbCh0aGlzLmRyYXdpbmdBcmVhL1NvKHRoaXMub3B0aW9ucykpfWdlbmVyYXRlVGlja0xhYmVscyh0KXtiby5wcm90b3R5cGUuZ2VuZXJhdGVUaWNrTGFiZWxzLmNhbGwodGhpcyx0KSx0aGlzLl9wb2ludExhYmVscz10aGlzLmdldExhYmVscygpLm1hcCgoKHQsZSk9Pntjb25zdCBpPWQodGhpcy5vcHRpb25zLnBvaW50TGFiZWxzLmNhbGxiYWNrLFt0LGVdLHRoaXMpO3JldHVybiBpfHwwPT09aT9pOiIifSkpLmZpbHRlcigoKHQsZSk9PnRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoZSkpKX1maXQoKXtjb25zdCB0PXRoaXMub3B0aW9uczt0LmRpc3BsYXkmJnQucG9pbnRMYWJlbHMuZGlzcGxheT9Ebyh0aGlzKTp0aGlzLnNldENlbnRlclBvaW50KDAsMCwwLDApfXNldENlbnRlclBvaW50KHQsZSxpLHMpe3RoaXMueENlbnRlcis9TWF0aC5mbG9vcigodC1lKS8yKSx0aGlzLnlDZW50ZXIrPU1hdGguZmxvb3IoKGktcykvMiksdGhpcy5kcmF3aW5nQXJlYS09TWF0aC5taW4odGhpcy5kcmF3aW5nQXJlYS8yLE1hdGgubWF4KHQsZSxpLHMpKX1nZXRJbmRleEFuZ2xlKHQpe3JldHVybiBHKHQqKE8vKHRoaXMuX3BvaW50TGFiZWxzLmxlbmd0aHx8MSkpKyQodGhpcy5vcHRpb25zLnN0YXJ0QW5nbGV8fDApKX1nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0KXtpZihzKHQpKXJldHVybiBOYU47Y29uc3QgZT10aGlzLmRyYXdpbmdBcmVhLyh0aGlzLm1heC10aGlzLm1pbik7cmV0dXJuIHRoaXMub3B0aW9ucy5yZXZlcnNlPyh0aGlzLm1heC10KSplOih0LXRoaXMubWluKSplfWdldFZhbHVlRm9yRGlzdGFuY2VGcm9tQ2VudGVyKHQpe2lmKHModCkpcmV0dXJuIE5hTjtjb25zdCBlPXQvKHRoaXMuZHJhd2luZ0FyZWEvKHRoaXMubWF4LXRoaXMubWluKSk7cmV0dXJuIHRoaXMub3B0aW9ucy5yZXZlcnNlP3RoaXMubWF4LWU6dGhpcy5taW4rZX1nZXRQb2ludExhYmVsQ29udGV4dCh0KXtjb25zdCBlPXRoaXMuX3BvaW50TGFiZWxzfHxbXTtpZih0Pj0wJiZ0PGUubGVuZ3RoKXtjb25zdCBpPWVbdF07cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gQ2kodCx7bGFiZWw6aSxpbmRleDplLHR5cGU6InBvaW50TGFiZWwifSl9KHRoaXMuZ2V0Q29udGV4dCgpLHQsaSl9fWdldFBvaW50UG9zaXRpb24odCxlLGk9MCl7Y29uc3Qgcz10aGlzLmdldEluZGV4QW5nbGUodCktRStpO3JldHVybnt4Ok1hdGguY29zKHMpKmUrdGhpcy54Q2VudGVyLHk6TWF0aC5zaW4ocykqZSt0aGlzLnlDZW50ZXIsYW5nbGU6c319Z2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UG9pbnRQb3NpdGlvbih0LHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUoZSkpfWdldEJhc2VQb3NpdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUodHx8MCx0aGlzLmdldEJhc2VWYWx1ZSgpKX1nZXRQb2ludExhYmVsUG9zaXRpb24odCl7Y29uc3R7bGVmdDplLHRvcDppLHJpZ2h0OnMsYm90dG9tOm59PXRoaXMuX3BvaW50TGFiZWxJdGVtc1t0XTtyZXR1cm57bGVmdDplLHRvcDppLHJpZ2h0OnMsYm90dG9tOm59fWRyYXdCYWNrZ3JvdW5kKCl7Y29uc3R7YmFja2dyb3VuZENvbG9yOnQsZ3JpZDp7Y2lyY3VsYXI6ZX19PXRoaXMub3B0aW9ucztpZih0KXtjb25zdCBpPXRoaXMuY3R4O2kuc2F2ZSgpLGkuYmVnaW5QYXRoKCksTG8odGhpcyx0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHRoaXMuX2VuZFZhbHVlKSxlLHRoaXMuX3BvaW50TGFiZWxzLmxlbmd0aCksaS5jbG9zZVBhdGgoKSxpLmZpbGxTdHlsZT10LGkuZmlsbCgpLGkucmVzdG9yZSgpfX1kcmF3R3JpZCgpe2NvbnN0IHQ9dGhpcy5jdHgsZT10aGlzLm9wdGlvbnMse2FuZ2xlTGluZXM6aSxncmlkOnMsYm9yZGVyOm59PWUsbz10aGlzLl9wb2ludExhYmVscy5sZW5ndGg7bGV0IGEscixsO2lmKGUucG9pbnRMYWJlbHMuZGlzcGxheSYmZnVuY3Rpb24odCxlKXtjb25zdHtjdHg6aSxvcHRpb25zOntwb2ludExhYmVsczpzfX09dDtmb3IobGV0IG49ZS0xO24+PTA7bi0tKXtjb25zdCBlPXQuX3BvaW50TGFiZWxJdGVtc1tuXTtpZighZS52aXNpYmxlKWNvbnRpbnVlO2NvbnN0IG89cy5zZXRDb250ZXh0KHQuZ2V0UG9pbnRMYWJlbENvbnRleHQobikpO1RvKGksbyxlKTtjb25zdCBhPVNpKG8uZm9udCkse3g6cix5OmwsdGV4dEFsaWduOmh9PWU7TmUoaSx0Ll9wb2ludExhYmVsc1tuXSxyLGwrYS5saW5lSGVpZ2h0LzIsYSx7Y29sb3I6by5jb2xvcix0ZXh0QWxpZ246aCx0ZXh0QmFzZWxpbmU6Im1pZGRsZSJ9KX19KHRoaXMsbykscy5kaXNwbGF5JiZ0aGlzLnRpY2tzLmZvckVhY2goKCh0LGUpPT57aWYoMCE9PWUpe3I9dGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0LnZhbHVlKTtjb25zdCBpPXRoaXMuZ2V0Q29udGV4dChlKSxhPXMuc2V0Q29udGV4dChpKSxsPW4uc2V0Q29udGV4dChpKTshZnVuY3Rpb24odCxlLGkscyxuKXtjb25zdCBvPXQuY3R4LGE9ZS5jaXJjdWxhcix7Y29sb3I6cixsaW5lV2lkdGg6bH09ZTshYSYmIXN8fCFyfHwhbHx8aTwwfHwoby5zYXZlKCksby5zdHJva2VTdHlsZT1yLG8ubGluZVdpZHRoPWwsby5zZXRMaW5lRGFzaChuLmRhc2gpLG8ubGluZURhc2hPZmZzZXQ9bi5kYXNoT2Zmc2V0LG8uYmVnaW5QYXRoKCksTG8odCxpLGEscyksby5jbG9zZVBhdGgoKSxvLnN0cm9rZSgpLG8ucmVzdG9yZSgpKX0odGhpcyxhLHIsbyxsKX19KSksaS5kaXNwbGF5KXtmb3IodC5zYXZlKCksYT1vLTE7YT49MDthLS0pe2NvbnN0IHM9aS5zZXRDb250ZXh0KHRoaXMuZ2V0UG9pbnRMYWJlbENvbnRleHQoYSkpLHtjb2xvcjpuLGxpbmVXaWR0aDpvfT1zO28mJm4mJih0LmxpbmVXaWR0aD1vLHQuc3Ryb2tlU3R5bGU9bix0LnNldExpbmVEYXNoKHMuYm9yZGVyRGFzaCksdC5saW5lRGFzaE9mZnNldD1zLmJvcmRlckRhc2hPZmZzZXQscj10aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKGUudGlja3MucmV2ZXJzZT90aGlzLm1pbjp0aGlzLm1heCksbD10aGlzLmdldFBvaW50UG9zaXRpb24oYSxyKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHRoaXMueENlbnRlcix0aGlzLnlDZW50ZXIpLHQubGluZVRvKGwueCxsLnkpLHQuc3Ryb2tlKCkpfXQucmVzdG9yZSgpfX1kcmF3Qm9yZGVyKCl7fWRyYXdMYWJlbHMoKXtjb25zdCB0PXRoaXMuY3R4LGU9dGhpcy5vcHRpb25zLGk9ZS50aWNrcztpZighaS5kaXNwbGF5KXJldHVybjtjb25zdCBzPXRoaXMuZ2V0SW5kZXhBbmdsZSgwKTtsZXQgbixvO3Quc2F2ZSgpLHQudHJhbnNsYXRlKHRoaXMueENlbnRlcix0aGlzLnlDZW50ZXIpLHQucm90YXRlKHMpLHQudGV4dEFsaWduPSJjZW50ZXIiLHQudGV4dEJhc2VsaW5lPSJtaWRkbGUiLHRoaXMudGlja3MuZm9yRWFjaCgoKHMsYSk9PntpZigwPT09YSYmIWUucmV2ZXJzZSlyZXR1cm47Y29uc3Qgcj1pLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KGEpKSxsPVNpKHIuZm9udCk7aWYobj10aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHRoaXMudGlja3NbYV0udmFsdWUpLHIuc2hvd0xhYmVsQmFja2Ryb3Ape3QuZm9udD1sLnN0cmluZyxvPXQubWVhc3VyZVRleHQocy5sYWJlbCkud2lkdGgsdC5maWxsU3R5bGU9ci5iYWNrZHJvcENvbG9yO2NvbnN0IGU9a2koci5iYWNrZHJvcFBhZGRpbmcpO3QuZmlsbFJlY3QoLW8vMi1lLmxlZnQsLW4tbC5zaXplLzItZS50b3AsbytlLndpZHRoLGwuc2l6ZStlLmhlaWdodCl9TmUodCxzLmxhYmVsLDAsLW4sbCx7Y29sb3I6ci5jb2xvcixzdHJva2VDb2xvcjpyLnRleHRTdHJva2VDb2xvcixzdHJva2VXaWR0aDpyLnRleHRTdHJva2VXaWR0aH0pfSkpLHQucmVzdG9yZSgpfWRyYXdUaXRsZSgpe319Y29uc3QgUm89e21pbGxpc2Vjb25kOntjb21tb246ITAsc2l6ZToxLHN0ZXBzOjFlM30sc2Vjb25kOntjb21tb246ITAsc2l6ZToxZTMsc3RlcHM6NjB9LG1pbnV0ZTp7Y29tbW9uOiEwLHNpemU6NmU0LHN0ZXBzOjYwfSxob3VyOntjb21tb246ITAsc2l6ZTozNmU1LHN0ZXBzOjI0fSxkYXk6e2NvbW1vbjohMCxzaXplOjg2NGU1LHN0ZXBzOjMwfSx3ZWVrOntjb21tb246ITEsc2l6ZTo2MDQ4ZTUsc3RlcHM6NH0sbW9udGg6e2NvbW1vbjohMCxzaXplOjI2MjhlNixzdGVwczoxMn0scXVhcnRlcjp7Y29tbW9uOiExLHNpemU6Nzg4NGU2LHN0ZXBzOjR9LHllYXI6e2NvbW1vbjohMCxzaXplOjMxNTRlN319LElvPU9iamVjdC5rZXlzKFJvKTtmdW5jdGlvbiB6byh0LGUpe3JldHVybiB0LWV9ZnVuY3Rpb24gRm8odCxlKXtpZihzKGUpKXJldHVybiBudWxsO2NvbnN0IGk9dC5fYWRhcHRlcix7cGFyc2VyOm4scm91bmQ6byxpc29XZWVrZGF5OnJ9PXQuX3BhcnNlT3B0cztsZXQgbD1lO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobD1uKGwpKSxhKGwpfHwobD0ic3RyaW5nIj09dHlwZW9mIG4/aS5wYXJzZShsLG4pOmkucGFyc2UobCkpLG51bGw9PT1sP251bGw6KG8mJihsPSJ3ZWVrIiE9PW98fCFOKHIpJiYhMCE9PXI/aS5zdGFydE9mKGwsbyk6aS5zdGFydE9mKGwsImlzb1dlZWsiLHIpKSwrbCl9ZnVuY3Rpb24gVm8odCxlLGkscyl7Y29uc3Qgbj1Jby5sZW5ndGg7Zm9yKGxldCBvPUlvLmluZGV4T2YodCk7bzxuLTE7KytvKXtjb25zdCB0PVJvW0lvW29dXSxuPXQuc3RlcHM/dC5zdGVwczpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtpZih0LmNvbW1vbiYmTWF0aC5jZWlsKChpLWUpLyhuKnQuc2l6ZSkpPD1zKXJldHVybiBJb1tvXX1yZXR1cm4gSW9bbi0xXX1mdW5jdGlvbiBCbyh0LGUsaSl7aWYoaSl7aWYoaS5sZW5ndGgpe2NvbnN0e2xvOnMsaGk6bn09ZXQoaSxlKTt0W2lbc10+PWU/aVtzXTppW25dXT0hMH19ZWxzZSB0W2VdPSEwfWZ1bmN0aW9uIFdvKHQsZSxpKXtjb25zdCBzPVtdLG49e30sbz1lLmxlbmd0aDtsZXQgYSxyO2ZvcihhPTA7YTxvOysrYSlyPWVbYV0sbltyXT1hLHMucHVzaCh7dmFsdWU6cixtYWpvcjohMX0pO3JldHVybiAwIT09byYmaT9mdW5jdGlvbih0LGUsaSxzKXtjb25zdCBuPXQuX2FkYXB0ZXIsbz0rbi5zdGFydE9mKGVbMF0udmFsdWUscyksYT1lW2UubGVuZ3RoLTFdLnZhbHVlO2xldCByLGw7Zm9yKHI9bztyPD1hO3I9K24uYWRkKHIsMSxzKSlsPWlbcl0sbD49MCYmKGVbbF0ubWFqb3I9ITApO3JldHVybiBlfSh0LHMsbixpKTpzfWNsYXNzIE5vIGV4dGVuZHMgSnN7c3RhdGljIGlkPSJ0aW1lIjtzdGF0aWMgZGVmYXVsdHM9e2JvdW5kczoiZGF0YSIsYWRhcHRlcnM6e30sdGltZTp7cGFyc2VyOiExLHVuaXQ6ITEscm91bmQ6ITEsaXNvV2Vla2RheTohMSxtaW5Vbml0OiJtaWxsaXNlY29uZCIsZGlzcGxheUZvcm1hdHM6e319LHRpY2tzOntzb3VyY2U6ImF1dG8iLGNhbGxiYWNrOiExLG1ham9yOntlbmFibGVkOiExfX19O2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX2NhY2hlPXtkYXRhOltdLGxhYmVsczpbXSxhbGw6W119LHRoaXMuX3VuaXQ9ImRheSIsdGhpcy5fbWFqb3JVbml0PXZvaWQgMCx0aGlzLl9vZmZzZXRzPXt9LHRoaXMuX25vcm1hbGl6ZWQ9ITEsdGhpcy5fcGFyc2VPcHRzPXZvaWQgMH1pbml0KHQsZT17fSl7Y29uc3QgaT10LnRpbWV8fCh0LnRpbWU9e30pLHM9dGhpcy5fYWRhcHRlcj1uZXcgUm4uX2RhdGUodC5hZGFwdGVycy5kYXRlKTtzLmluaXQoZSkseChpLmRpc3BsYXlGb3JtYXRzLHMuZm9ybWF0cygpKSx0aGlzLl9wYXJzZU9wdHM9e3BhcnNlcjppLnBhcnNlcixyb3VuZDppLnJvdW5kLGlzb1dlZWtkYXk6aS5pc29XZWVrZGF5fSxzdXBlci5pbml0KHQpLHRoaXMuX25vcm1hbGl6ZWQ9ZS5ub3JtYWxpemVkfXBhcnNlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQ/bnVsbDpGbyh0aGlzLHQpfWJlZm9yZUxheW91dCgpe3N1cGVyLmJlZm9yZUxheW91dCgpLHRoaXMuX2NhY2hlPXtkYXRhOltdLGxhYmVsczpbXSxhbGw6W119fWRldGVybWluZURhdGFMaW1pdHMoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXRoaXMuX2FkYXB0ZXIsaT10LnRpbWUudW5pdHx8ImRheSI7bGV0e21pbjpzLG1heDpuLG1pbkRlZmluZWQ6byxtYXhEZWZpbmVkOnJ9PXRoaXMuZ2V0VXNlckJvdW5kcygpO2Z1bmN0aW9uIGwodCl7b3x8aXNOYU4odC5taW4pfHwocz1NYXRoLm1pbihzLHQubWluKSkscnx8aXNOYU4odC5tYXgpfHwobj1NYXRoLm1heChuLHQubWF4KSl9byYmcnx8KGwodGhpcy5fZ2V0TGFiZWxCb3VuZHMoKSksInRpY2tzIj09PXQuYm91bmRzJiYibGFiZWxzIj09PXQudGlja3Muc291cmNlfHxsKHRoaXMuZ2V0TWluTWF4KCExKSkpLHM9YShzKSYmIWlzTmFOKHMpP3M6K2Uuc3RhcnRPZihEYXRlLm5vdygpLGkpLG49YShuKSYmIWlzTmFOKG4pP246K2UuZW5kT2YoRGF0ZS5ub3coKSxpKSsxLHRoaXMubWluPU1hdGgubWluKHMsbi0xKSx0aGlzLm1heD1NYXRoLm1heChzKzEsbil9X2dldExhYmVsQm91bmRzKCl7Y29uc3QgdD10aGlzLmdldExhYmVsVGltZXN0YW1wcygpO2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxpPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtyZXR1cm4gdC5sZW5ndGgmJihlPXRbMF0saT10W3QubGVuZ3RoLTFdKSx7bWluOmUsbWF4Oml9fWJ1aWxkVGlja3MoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQudGltZSxpPXQudGlja3Mscz0ibGFiZWxzIj09PWkuc291cmNlP3RoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCk6dGhpcy5fZ2VuZXJhdGUoKTsidGlja3MiPT09dC5ib3VuZHMmJnMubGVuZ3RoJiYodGhpcy5taW49dGhpcy5fdXNlck1pbnx8c1swXSx0aGlzLm1heD10aGlzLl91c2VyTWF4fHxzW3MubGVuZ3RoLTFdKTtjb25zdCBuPXRoaXMubWluLG89bnQocyxuLHRoaXMubWF4KTtyZXR1cm4gdGhpcy5fdW5pdD1lLnVuaXR8fChpLmF1dG9Ta2lwP1ZvKGUubWluVW5pdCx0aGlzLm1pbix0aGlzLm1heCx0aGlzLl9nZXRMYWJlbENhcGFjaXR5KG4pKTpmdW5jdGlvbih0LGUsaSxzLG4pe2ZvcihsZXQgbz1Jby5sZW5ndGgtMTtvPj1Jby5pbmRleE9mKGkpO28tLSl7Y29uc3QgaT1Jb1tvXTtpZihSb1tpXS5jb21tb24mJnQuX2FkYXB0ZXIuZGlmZihuLHMsaSk+PWUtMSlyZXR1cm4gaX1yZXR1cm4gSW9baT9Jby5pbmRleE9mKGkpOjBdfSh0aGlzLG8ubGVuZ3RoLGUubWluVW5pdCx0aGlzLm1pbix0aGlzLm1heCkpLHRoaXMuX21ham9yVW5pdD1pLm1ham9yLmVuYWJsZWQmJiJ5ZWFyIiE9PXRoaXMuX3VuaXQ/ZnVuY3Rpb24odCl7Zm9yKGxldCBlPUlvLmluZGV4T2YodCkrMSxpPUlvLmxlbmd0aDtlPGk7KytlKWlmKFJvW0lvW2VdXS5jb21tb24pcmV0dXJuIElvW2VdfSh0aGlzLl91bml0KTp2b2lkIDAsdGhpcy5pbml0T2Zmc2V0cyhzKSx0LnJldmVyc2UmJm8ucmV2ZXJzZSgpLFdvKHRoaXMsbyx0aGlzLl9tYWpvclVuaXQpfWFmdGVyQXV0b1NraXAoKXt0aGlzLm9wdGlvbnMub2Zmc2V0QWZ0ZXJBdXRvc2tpcCYmdGhpcy5pbml0T2Zmc2V0cyh0aGlzLnRpY2tzLm1hcCgodD0+K3QudmFsdWUpKSl9aW5pdE9mZnNldHModD1bXSl7bGV0IGUsaSxzPTAsbj0wO3RoaXMub3B0aW9ucy5vZmZzZXQmJnQubGVuZ3RoJiYoZT10aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0WzBdKSxzPTE9PT10Lmxlbmd0aD8xLWU6KHRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRbMV0pLWUpLzIsaT10aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0W3QubGVuZ3RoLTFdKSxuPTE9PT10Lmxlbmd0aD9pOihpLXRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRbdC5sZW5ndGgtMl0pKS8yKTtjb25zdCBvPXQubGVuZ3RoPDM/LjU6LjI1O3M9SihzLDAsbyksbj1KKG4sMCxvKSx0aGlzLl9vZmZzZXRzPXtzdGFydDpzLGVuZDpuLGZhY3RvcjoxLyhzKzErbil9fV9nZW5lcmF0ZSgpe2NvbnN0IHQ9dGhpcy5fYWRhcHRlcixlPXRoaXMubWluLGk9dGhpcy5tYXgscz10aGlzLm9wdGlvbnMsbj1zLnRpbWUsbz1uLnVuaXR8fFZvKG4ubWluVW5pdCxlLGksdGhpcy5fZ2V0TGFiZWxDYXBhY2l0eShlKSksYT1sKHMudGlja3Muc3RlcFNpemUsMSkscj0id2VlayI9PT1vJiZuLmlzb1dlZWtkYXksaD1OKHIpfHwhMD09PXIsYz17fTtsZXQgZCx1LGY9ZTtpZihoJiYoZj0rdC5zdGFydE9mKGYsImlzb1dlZWsiLHIpKSxmPSt0LnN0YXJ0T2YoZixoPyJkYXkiOm8pLHQuZGlmZihpLGUsbyk+MWU1KmEpdGhyb3cgbmV3IEVycm9yKGUrIiBhbmQgIitpKyIgYXJlIHRvbyBmYXIgYXBhcnQgd2l0aCBzdGVwU2l6ZSBvZiAiK2ErIiAiK28pO2NvbnN0IGc9ImRhdGEiPT09cy50aWNrcy5zb3VyY2UmJnRoaXMuZ2V0RGF0YVRpbWVzdGFtcHMoKTtmb3IoZD1mLHU9MDtkPGk7ZD0rdC5hZGQoZCxhLG8pLHUrKylCbyhjLGQsZyk7cmV0dXJuIGQhPT1pJiYidGlja3MiIT09cy5ib3VuZHMmJjEhPT11fHxCbyhjLGQsZyksT2JqZWN0LmtleXMoYykuc29ydCh6bykubWFwKCh0PT4rdCkpfWdldExhYmVsRm9yVmFsdWUodCl7Y29uc3QgZT10aGlzLl9hZGFwdGVyLGk9dGhpcy5vcHRpb25zLnRpbWU7cmV0dXJuIGkudG9vbHRpcEZvcm1hdD9lLmZvcm1hdCh0LGkudG9vbHRpcEZvcm1hdCk6ZS5mb3JtYXQodCxpLmRpc3BsYXlGb3JtYXRzLmRhdGV0aW1lKX1mb3JtYXQodCxlKXtjb25zdCBpPXRoaXMub3B0aW9ucy50aW1lLmRpc3BsYXlGb3JtYXRzLHM9dGhpcy5fdW5pdCxuPWV8fGlbc107cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZm9ybWF0KHQsbil9X3RpY2tGb3JtYXRGdW5jdGlvbih0LGUsaSxzKXtjb25zdCBuPXRoaXMub3B0aW9ucyxvPW4udGlja3MuY2FsbGJhY2s7aWYobylyZXR1cm4gZChvLFt0LGUsaV0sdGhpcyk7Y29uc3QgYT1uLnRpbWUuZGlzcGxheUZvcm1hdHMscj10aGlzLl91bml0LGw9dGhpcy5fbWFqb3JVbml0LGg9ciYmYVtyXSxjPWwmJmFbbF0sdT1pW2VdLGY9bCYmYyYmdSYmdS5tYWpvcjtyZXR1cm4gdGhpcy5fYWRhcHRlci5mb3JtYXQodCxzfHwoZj9jOmgpKX1nZW5lcmF0ZVRpY2tMYWJlbHModCl7bGV0IGUsaSxzO2ZvcihlPTAsaT10Lmxlbmd0aDtlPGk7KytlKXM9dFtlXSxzLmxhYmVsPXRoaXMuX3RpY2tGb3JtYXRGdW5jdGlvbihzLnZhbHVlLGUsdCl9Z2V0RGVjaW1hbEZvclZhbHVlKHQpe3JldHVybiBudWxsPT09dD9OYU46KHQtdGhpcy5taW4pLyh0aGlzLm1heC10aGlzLm1pbil9Z2V0UGl4ZWxGb3JWYWx1ZSh0KXtjb25zdCBlPXRoaXMuX29mZnNldHMsaT10aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0KTtyZXR1cm4gdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwoKGUuc3RhcnQraSkqZS5mYWN0b3IpfWdldFZhbHVlRm9yUGl4ZWwodCl7Y29uc3QgZT10aGlzLl9vZmZzZXRzLGk9dGhpcy5nZXREZWNpbWFsRm9yUGl4ZWwodCkvZS5mYWN0b3ItZS5lbmQ7cmV0dXJuIHRoaXMubWluK2kqKHRoaXMubWF4LXRoaXMubWluKX1fZ2V0TGFiZWxTaXplKHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpY2tzLGk9dGhpcy5jdHgubWVhc3VyZVRleHQodCkud2lkdGgscz0kKHRoaXMuaXNIb3Jpem9udGFsKCk/ZS5tYXhSb3RhdGlvbjplLm1pblJvdGF0aW9uKSxuPU1hdGguY29zKHMpLG89TWF0aC5zaW4ocyksYT10aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKDApLnNpemU7cmV0dXJue3c6aSpuK2EqbyxoOmkqbythKm59fV9nZXRMYWJlbENhcGFjaXR5KHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnRpbWUsaT1lLmRpc3BsYXlGb3JtYXRzLHM9aVtlLnVuaXRdfHxpLm1pbGxpc2Vjb25kLG49dGhpcy5fdGlja0Zvcm1hdEZ1bmN0aW9uKHQsMCxXbyh0aGlzLFt0XSx0aGlzLl9tYWpvclVuaXQpLHMpLG89dGhpcy5fZ2V0TGFiZWxTaXplKG4pLGE9TWF0aC5mbG9vcih0aGlzLmlzSG9yaXpvbnRhbCgpP3RoaXMud2lkdGgvby53OnRoaXMuaGVpZ2h0L28uaCktMTtyZXR1cm4gYT4wP2E6MX1nZXREYXRhVGltZXN0YW1wcygpe2xldCB0LGUsaT10aGlzLl9jYWNoZS5kYXRhfHxbXTtpZihpLmxlbmd0aClyZXR1cm4gaTtjb25zdCBzPXRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKTtpZih0aGlzLl9ub3JtYWxpemVkJiZzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FjaGUuZGF0YT1zWzBdLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKHRoaXMpO2Zvcih0PTAsZT1zLmxlbmd0aDt0PGU7Kyt0KWk9aS5jb25jYXQoc1t0XS5jb250cm9sbGVyLmdldEFsbFBhcnNlZFZhbHVlcyh0aGlzKSk7cmV0dXJuIHRoaXMuX2NhY2hlLmRhdGE9dGhpcy5ub3JtYWxpemUoaSl9Z2V0TGFiZWxUaW1lc3RhbXBzKCl7Y29uc3QgdD10aGlzLl9jYWNoZS5sYWJlbHN8fFtdO2xldCBlLGk7aWYodC5sZW5ndGgpcmV0dXJuIHQ7Y29uc3Qgcz10aGlzLmdldExhYmVscygpO2ZvcihlPTAsaT1zLmxlbmd0aDtlPGk7KytlKXQucHVzaChGbyh0aGlzLHNbZV0pKTtyZXR1cm4gdGhpcy5fY2FjaGUubGFiZWxzPXRoaXMuX25vcm1hbGl6ZWQ/dDp0aGlzLm5vcm1hbGl6ZSh0KX1ub3JtYWxpemUodCl7cmV0dXJuIGx0KHQuc29ydCh6bykpfX1mdW5jdGlvbiBIbyh0LGUsaSl7bGV0IHMsbixvLGEscj0wLGw9dC5sZW5ndGgtMTtpPyhlPj10W3JdLnBvcyYmZTw9dFtsXS5wb3MmJih7bG86cixoaTpsfT1pdCh0LCJwb3MiLGUpKSwoe3BvczpzLHRpbWU6b309dFtyXSksKHtwb3M6bix0aW1lOmF9PXRbbF0pKTooZT49dFtyXS50aW1lJiZlPD10W2xdLnRpbWUmJih7bG86cixoaTpsfT1pdCh0LCJ0aW1lIixlKSksKHt0aW1lOnMscG9zOm99PXRbcl0pLCh7dGltZTpuLHBvczphfT10W2xdKSk7Y29uc3QgaD1uLXM7cmV0dXJuIGg/bysoYS1vKSooZS1zKS9oOm99dmFyIGpvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLENhdGVnb3J5U2NhbGU6Y2xhc3MgZXh0ZW5kcyBKc3tzdGF0aWMgaWQ9ImNhdGVnb3J5IjtzdGF0aWMgZGVmYXVsdHM9e3RpY2tzOntjYWxsYmFjazpwb319O2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3N0YXJ0VmFsdWU9dm9pZCAwLHRoaXMuX3ZhbHVlUmFuZ2U9MCx0aGlzLl9hZGRlZExhYmVscz1bXX1pbml0KHQpe2NvbnN0IGU9dGhpcy5fYWRkZWRMYWJlbHM7aWYoZS5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5nZXRMYWJlbHMoKTtmb3IoY29uc3R7aW5kZXg6aSxsYWJlbDpzfW9mIGUpdFtpXT09PXMmJnQuc3BsaWNlKGksMSk7dGhpcy5fYWRkZWRMYWJlbHM9W119c3VwZXIuaW5pdCh0KX1wYXJzZSh0LGUpe2lmKHModCkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLmdldExhYmVscygpO3JldHVybigodCxlKT0+bnVsbD09PXQ/bnVsbDpKKE1hdGgucm91bmQodCksMCxlKSkoZT1pc0Zpbml0ZShlKSYmaVtlXT09PXQ/ZTpnbyhpLHQsbChlLHQpLHRoaXMuX2FkZGVkTGFiZWxzKSxpLmxlbmd0aC0xKX1kZXRlcm1pbmVEYXRhTGltaXRzKCl7Y29uc3R7bWluRGVmaW5lZDp0LG1heERlZmluZWQ6ZX09dGhpcy5nZXRVc2VyQm91bmRzKCk7bGV0e21pbjppLG1heDpzfT10aGlzLmdldE1pbk1heCghMCk7InRpY2tzIj09PXRoaXMub3B0aW9ucy5ib3VuZHMmJih0fHwoaT0wKSxlfHwocz10aGlzLmdldExhYmVscygpLmxlbmd0aC0xKSksdGhpcy5taW49aSx0aGlzLm1heD1zfWJ1aWxkVGlja3MoKXtjb25zdCB0PXRoaXMubWluLGU9dGhpcy5tYXgsaT10aGlzLm9wdGlvbnMub2Zmc2V0LHM9W107bGV0IG49dGhpcy5nZXRMYWJlbHMoKTtuPTA9PT10JiZlPT09bi5sZW5ndGgtMT9uOm4uc2xpY2UodCxlKzEpLHRoaXMuX3ZhbHVlUmFuZ2U9TWF0aC5tYXgobi5sZW5ndGgtKGk/MDoxKSwxKSx0aGlzLl9zdGFydFZhbHVlPXRoaXMubWluLShpPy41OjApO2ZvcihsZXQgaT10O2k8PWU7aSsrKXMucHVzaCh7dmFsdWU6aX0pO3JldHVybiBzfWdldExhYmVsRm9yVmFsdWUodCl7cmV0dXJuIHBvLmNhbGwodGhpcyx0KX1jb25maWd1cmUoKXtzdXBlci5jb25maWd1cmUoKSx0aGlzLmlzSG9yaXpvbnRhbCgpfHwodGhpcy5fcmV2ZXJzZVBpeGVscz0hdGhpcy5fcmV2ZXJzZVBpeGVscyl9Z2V0UGl4ZWxGb3JWYWx1ZSh0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQmJih0PXRoaXMucGFyc2UodCkpLG51bGw9PT10P05hTjp0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCgodC10aGlzLl9zdGFydFZhbHVlKS90aGlzLl92YWx1ZVJhbmdlKX1nZXRQaXhlbEZvclRpY2sodCl7Y29uc3QgZT10aGlzLnRpY2tzO3JldHVybiB0PDB8fHQ+ZS5sZW5ndGgtMT9udWxsOnRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZShlW3RdLnZhbHVlKX1nZXRWYWx1ZUZvclBpeGVsKHQpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMuX3N0YXJ0VmFsdWUrdGhpcy5nZXREZWNpbWFsRm9yUGl4ZWwodCkqdGhpcy5fdmFsdWVSYW5nZSl9Z2V0QmFzZVBpeGVsKCl7cmV0dXJuIHRoaXMuYm90dG9tfX0sTGluZWFyU2NhbGU6eG8sTG9nYXJpdGhtaWNTY2FsZTprbyxSYWRpYWxMaW5lYXJTY2FsZTpFbyxUaW1lU2NhbGU6Tm8sVGltZVNlcmllc1NjYWxlOmNsYXNzIGV4dGVuZHMgTm97c3RhdGljIGlkPSJ0aW1lc2VyaWVzIjtzdGF0aWMgZGVmYXVsdHM9Tm8uZGVmYXVsdHM7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fdGFibGU9W10sdGhpcy5fbWluUG9zPXZvaWQgMCx0aGlzLl90YWJsZVJhbmdlPXZvaWQgMH1pbml0T2Zmc2V0cygpe2NvbnN0IHQ9dGhpcy5fZ2V0VGltZXN0YW1wc0ZvclRhYmxlKCksZT10aGlzLl90YWJsZT10aGlzLmJ1aWxkTG9va3VwVGFibGUodCk7dGhpcy5fbWluUG9zPUhvKGUsdGhpcy5taW4pLHRoaXMuX3RhYmxlUmFuZ2U9SG8oZSx0aGlzLm1heCktdGhpcy5fbWluUG9zLHN1cGVyLmluaXRPZmZzZXRzKHQpfWJ1aWxkTG9va3VwVGFibGUodCl7Y29uc3R7bWluOmUsbWF4Oml9PXRoaXMscz1bXSxuPVtdO2xldCBvLGEscixsLGg7Zm9yKG89MCxhPXQubGVuZ3RoO288YTsrK28pbD10W29dLGw+PWUmJmw8PWkmJnMucHVzaChsKTtpZihzLmxlbmd0aDwyKXJldHVyblt7dGltZTplLHBvczowfSx7dGltZTppLHBvczoxfV07Zm9yKG89MCxhPXMubGVuZ3RoO288YTsrK28paD1zW28rMV0scj1zW28tMV0sbD1zW29dLE1hdGgucm91bmQoKGgrcikvMikhPT1sJiZuLnB1c2goe3RpbWU6bCxwb3M6by8oYS0xKX0pO3JldHVybiBufV9nZW5lcmF0ZSgpe2NvbnN0IHQ9dGhpcy5taW4sZT10aGlzLm1heDtsZXQgaT1zdXBlci5nZXREYXRhVGltZXN0YW1wcygpO3JldHVybiBpLmluY2x1ZGVzKHQpJiZpLmxlbmd0aHx8aS5zcGxpY2UoMCwwLHQpLGkuaW5jbHVkZXMoZSkmJjEhPT1pLmxlbmd0aHx8aS5wdXNoKGUpLGkuc29ydCgoKHQsZSk9PnQtZSkpfV9nZXRUaW1lc3RhbXBzRm9yVGFibGUoKXtsZXQgdD10aGlzLl9jYWNoZS5hbGx8fFtdO2lmKHQubGVuZ3RoKXJldHVybiB0O2NvbnN0IGU9dGhpcy5nZXREYXRhVGltZXN0YW1wcygpLGk9dGhpcy5nZXRMYWJlbFRpbWVzdGFtcHMoKTtyZXR1cm4gdD1lLmxlbmd0aCYmaS5sZW5ndGg/dGhpcy5ub3JtYWxpemUoZS5jb25jYXQoaSkpOmUubGVuZ3RoP2U6aSx0PXRoaXMuX2NhY2hlLmFsbD10LHR9Z2V0RGVjaW1hbEZvclZhbHVlKHQpe3JldHVybihIbyh0aGlzLl90YWJsZSx0KS10aGlzLl9taW5Qb3MpL3RoaXMuX3RhYmxlUmFuZ2V9Z2V0VmFsdWVGb3JQaXhlbCh0KXtjb25zdCBlPXRoaXMuX29mZnNldHMsaT10aGlzLmdldERlY2ltYWxGb3JQaXhlbCh0KS9lLmZhY3Rvci1lLmVuZDtyZXR1cm4gSG8odGhpcy5fdGFibGUsaSp0aGlzLl90YWJsZVJhbmdlK3RoaXMuX21pblBvcywhMCl9fX0pO2NvbnN0ICRvPVsicmdiKDU0LCAxNjIsIDIzNSkiLCJyZ2IoMjU1LCA5OSwgMTMyKSIsInJnYigyNTUsIDE1OSwgNjQpIiwicmdiKDI1NSwgMjA1LCA4NikiLCJyZ2IoNzUsIDE5MiwgMTkyKSIsInJnYigxNTMsIDEwMiwgMjU1KSIsInJnYigyMDEsIDIwMywgMjA3KSJdLFlvPSRvLm1hcCgodD0+dC5yZXBsYWNlKCJyZ2IoIiwicmdiYSgiKS5yZXBsYWNlKCIpIiwiLCAwLjUpIikpKTtmdW5jdGlvbiBVbyh0KXtyZXR1cm4gJG9bdCUkby5sZW5ndGhdfWZ1bmN0aW9uIFhvKHQpe3JldHVybiBZb1t0JVlvLmxlbmd0aF19ZnVuY3Rpb24gcW8odCl7bGV0IGU9MDtyZXR1cm4oaSxzKT0+e2NvbnN0IG49dC5nZXREYXRhc2V0TWV0YShzKS5jb250cm9sbGVyO24gaW5zdGFuY2VvZiBqbj9lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYmFja2dyb3VuZENvbG9yPXQuZGF0YS5tYXAoKCgpPT5VbyhlKyspKSksZX0oaSxlKTpuIGluc3RhbmNlb2YgJG4/ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmJhY2tncm91bmRDb2xvcj10LmRhdGEubWFwKCgoKT0+WG8oZSsrKSkpLGV9KGksZSk6biYmKGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ib3JkZXJDb2xvcj1VbyhlKSx0LmJhY2tncm91bmRDb2xvcj1YbyhlKSwrK2V9KGksZSkpfX1mdW5jdGlvbiBLbyh0KXtsZXQgZTtmb3IoZSBpbiB0KWlmKHRbZV0uYm9yZGVyQ29sb3J8fHRbZV0uYmFja2dyb3VuZENvbG9yKXJldHVybiEwO3JldHVybiExfXZhciBHbz17aWQ6ImNvbG9ycyIsZGVmYXVsdHM6e2VuYWJsZWQ6ITAsZm9yY2VPdmVycmlkZTohMX0sYmVmb3JlTGF5b3V0KHQsZSxpKXtpZighaS5lbmFibGVkKXJldHVybjtjb25zdHtkYXRhOntkYXRhc2V0czpzfSxvcHRpb25zOm59PXQuY29uZmlnLHtlbGVtZW50czpvfT1uO2lmKCFpLmZvcmNlT3ZlcnJpZGUmJihLbyhzKXx8KGE9bikmJihhLmJvcmRlckNvbG9yfHxhLmJhY2tncm91bmRDb2xvcil8fG8mJktvKG8pKSlyZXR1cm47dmFyIGE7Y29uc3Qgcj1xbyh0KTtzLmZvckVhY2gocil9fTtmdW5jdGlvbiBabyh0KXtpZih0Ll9kZWNpbWF0ZWQpe2NvbnN0IGU9dC5fZGF0YTtkZWxldGUgdC5fZGVjaW1hdGVkLGRlbGV0ZSB0Ll9kYXRhLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJkYXRhIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX1mdW5jdGlvbiBKbyh0KXt0LmRhdGEuZGF0YXNldHMuZm9yRWFjaCgodD0+e1pvKHQpfSkpfXZhciBRbz17aWQ6ImRlY2ltYXRpb24iLGRlZmF1bHRzOnthbGdvcml0aG06Im1pbi1tYXgiLGVuYWJsZWQ6ITF9LGJlZm9yZUVsZW1lbnRzVXBkYXRlOih0LGUsaSk9PntpZighaS5lbmFibGVkKXJldHVybiB2b2lkIEpvKHQpO2NvbnN0IG49dC53aWR0aDt0LmRhdGEuZGF0YXNldHMuZm9yRWFjaCgoKGUsbyk9Pntjb25zdHtfZGF0YTphLGluZGV4QXhpczpyfT1lLGw9dC5nZXREYXRhc2V0TWV0YShvKSxoPWF8fGUuZGF0YTtpZigieSI9PT1QaShbcix0Lm9wdGlvbnMuaW5kZXhBeGlzXSkpcmV0dXJuO2lmKCFsLmNvbnRyb2xsZXIuc3VwcG9ydHNEZWNpbWF0aW9uKXJldHVybjtjb25zdCBjPXQuc2NhbGVzW2wueEF4aXNJRF07aWYoImxpbmVhciIhPT1jLnR5cGUmJiJ0aW1lIiE9PWMudHlwZSlyZXR1cm47aWYodC5vcHRpb25zLnBhcnNpbmcpcmV0dXJuO2xldHtzdGFydDpkLGNvdW50OnV9PWZ1bmN0aW9uKHQsZSl7Y29uc3QgaT1lLmxlbmd0aDtsZXQgcyxuPTA7Y29uc3R7aVNjYWxlOm99PXQse21pbjphLG1heDpyLG1pbkRlZmluZWQ6bCxtYXhEZWZpbmVkOmh9PW8uZ2V0VXNlckJvdW5kcygpO3JldHVybiBsJiYobj1KKGl0KGUsby5heGlzLGEpLmxvLDAsaS0xKSkscz1oP0ooaXQoZSxvLmF4aXMscikuaGkrMSxuLGkpLW46aS1uLHtzdGFydDpuLGNvdW50OnN9fShsLGgpO2lmKHU8PShpLnRocmVzaG9sZHx8NCpuKSlyZXR1cm4gdm9pZCBabyhlKTtsZXQgZjtzd2l0Y2gocyhhKSYmKGUuX2RhdGE9aCxkZWxldGUgZS5kYXRhLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJkYXRhIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlY2ltYXRlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH19KSksaS5hbGdvcml0aG0pe2Nhc2UibHR0YiI6Zj1mdW5jdGlvbih0LGUsaSxzLG4pe2NvbnN0IG89bi5zYW1wbGVzfHxzO2lmKG8+PWkpcmV0dXJuIHQuc2xpY2UoZSxlK2kpO2NvbnN0IGE9W10scj0oaS0yKS8oby0yKTtsZXQgbD0wO2NvbnN0IGg9ZStpLTE7bGV0IGMsZCx1LGYsZyxwPWU7Zm9yKGFbbCsrXT10W3BdLGM9MDtjPG8tMjtjKyspe2xldCBzLG49MCxvPTA7Y29uc3QgaD1NYXRoLmZsb29yKChjKzEpKnIpKzErZSxtPU1hdGgubWluKE1hdGguZmxvb3IoKGMrMikqcikrMSxpKStlLGI9bS1oO2ZvcihzPWg7czxtO3MrKyluKz10W3NdLngsbys9dFtzXS55O24vPWIsby89Yjtjb25zdCB4PU1hdGguZmxvb3IoYypyKSsxK2UsXz1NYXRoLm1pbihNYXRoLmZsb29yKChjKzEpKnIpKzEsaSkrZSx7eDp5LHk6dn09dFtwXTtmb3IodT1mPS0xLHM9eDtzPF87cysrKWY9LjUqTWF0aC5hYnMoKHktbikqKHRbc10ueS12KS0oeS10W3NdLngpKihvLXYpKSxmPnUmJih1PWYsZD10W3NdLGc9cyk7YVtsKytdPWQscD1nfXJldHVybiBhW2wrK109dFtoXSxhfShoLGQsdSxuLGkpO2JyZWFrO2Nhc2UibWluLW1heCI6Zj1mdW5jdGlvbih0LGUsaSxuKXtsZXQgbyxhLHIsbCxoLGMsZCx1LGYsZyxwPTAsbT0wO2NvbnN0IGI9W10seD1lK2ktMSxfPXRbZV0ueCx5PXRbeF0ueC1fO2ZvcihvPWU7bzxlK2k7KytvKXthPXRbb10scj0oYS54LV8pL3kqbixsPWEueTtjb25zdCBlPTB8cjtpZihlPT09aClsPGY/KGY9bCxjPW8pOmw+ZyYmKGc9bCxkPW8pLHA9KG0qcCthLngpLysrbTtlbHNle2NvbnN0IGk9by0xO2lmKCFzKGMpJiYhcyhkKSl7Y29uc3QgZT1NYXRoLm1pbihjLGQpLHM9TWF0aC5tYXgoYyxkKTtlIT09dSYmZSE9PWkmJmIucHVzaCh7Li4udFtlXSx4OnB9KSxzIT09dSYmcyE9PWkmJmIucHVzaCh7Li4udFtzXSx4OnB9KX1vPjAmJmkhPT11JiZiLnB1c2godFtpXSksYi5wdXNoKGEpLGg9ZSxtPTAsZj1nPWwsYz1kPXU9b319cmV0dXJuIGJ9KGgsZCx1LG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkZWNpbWF0aW9uIGFsZ29yaXRobSAnJHtpLmFsZ29yaXRobX0nYCl9ZS5fZGVjaW1hdGVkPWZ9KSl9LGRlc3Ryb3kodCl7Sm8odCl9fTtmdW5jdGlvbiB0YSh0LGUsaSxzKXtpZihzKXJldHVybjtsZXQgbj1lW3RdLG89aVt0XTtyZXR1cm4iYW5nbGUiPT09dCYmKG49RyhuKSxvPUcobykpLHtwcm9wZXJ0eTp0LHN0YXJ0Om4sZW5kOm99fWZ1bmN0aW9uIGVhKHQsZSxpKXtmb3IoO2U+dDtlLS0pe2NvbnN0IHQ9aVtlXTtpZighaXNOYU4odC54KSYmIWlzTmFOKHQueSkpYnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gaWEodCxlLGkscyl7cmV0dXJuIHQmJmU/cyh0W2ldLGVbaV0pOnQ/dFtpXTplP2VbaV06MH1mdW5jdGlvbiBzYSh0LGUpe2xldCBpPVtdLHM9ITE7cmV0dXJuIG4odCk/KHM9ITAsaT10KTppPWZ1bmN0aW9uKHQsZSl7Y29uc3R7eDppPW51bGwseTpzPW51bGx9PXR8fHt9LG49ZS5wb2ludHMsbz1bXTtyZXR1cm4gZS5zZWdtZW50cy5mb3JFYWNoKCgoe3N0YXJ0OnQsZW5kOmV9KT0+e2U9ZWEodCxlLG4pO2NvbnN0IGE9blt0XSxyPW5bZV07bnVsbCE9PXM/KG8ucHVzaCh7eDphLngseTpzfSksby5wdXNoKHt4OnIueCx5OnN9KSk6bnVsbCE9PWkmJihvLnB1c2goe3g6aSx5OmEueX0pLG8ucHVzaCh7eDppLHk6ci55fSkpfSkpLG99KHQsZSksaS5sZW5ndGg/bmV3IG5vKHtwb2ludHM6aSxvcHRpb25zOnt0ZW5zaW9uOjB9LF9sb29wOnMsX2Z1bGxMb29wOnN9KTpudWxsfWZ1bmN0aW9uIG5hKHQpe3JldHVybiB0JiYhMSE9PXQuZmlsbH1mdW5jdGlvbiBvYSh0LGUsaSl7bGV0IHM9dFtlXS5maWxsO2NvbnN0IG49W2VdO2xldCBvO2lmKCFpKXJldHVybiBzO2Zvcig7ITEhPT1zJiYtMT09PW4uaW5kZXhPZihzKTspe2lmKCFhKHMpKXJldHVybiBzO2lmKG89dFtzXSwhbylyZXR1cm4hMTtpZihvLnZpc2libGUpcmV0dXJuIHM7bi5wdXNoKHMpLHM9by5maWxsfXJldHVybiExfWZ1bmN0aW9uIGFhKHQsZSxpKXtjb25zdCBzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5vcHRpb25zLGk9ZS5maWxsO2xldCBzPWwoaSYmaS50YXJnZXQsaSk7dm9pZCAwPT09cyYmKHM9ISFlLmJhY2tncm91bmRDb2xvcik7aWYoITE9PT1zfHxudWxsPT09cylyZXR1cm4hMTtpZighMD09PXMpcmV0dXJuIm9yaWdpbiI7cmV0dXJuIHN9KHQpO2lmKG8ocykpcmV0dXJuIWlzTmFOKHMudmFsdWUpJiZzO2xldCBuPXBhcnNlRmxvYXQocyk7cmV0dXJuIGEobikmJk1hdGguZmxvb3Iobik9PT1uP2Z1bmN0aW9uKHQsZSxpLHMpeyItIiE9PXQmJiIrIiE9PXR8fChpPWUraSk7aWYoaT09PWV8fGk8MHx8aT49cylyZXR1cm4hMTtyZXR1cm4gaX0oc1swXSxlLG4saSk6WyJvcmlnaW4iLCJzdGFydCIsImVuZCIsInN0YWNrIiwic2hhcGUiXS5pbmRleE9mKHMpPj0wJiZzfWZ1bmN0aW9uIHJhKHQsZSxpKXtjb25zdCBzPVtdO2ZvcihsZXQgbj0wO248aS5sZW5ndGg7bisrKXtjb25zdCBvPWlbbl0se2ZpcnN0OmEsbGFzdDpyLHBvaW50Omx9PWxhKG8sZSwieCIpO2lmKCEoIWx8fGEmJnIpKWlmKGEpcy51bnNoaWZ0KGwpO2Vsc2UgaWYodC5wdXNoKGwpLCFyKWJyZWFrfXQucHVzaCguLi5zKX1mdW5jdGlvbiBsYSh0LGUsaSl7Y29uc3Qgcz10LmludGVycG9sYXRlKGUsaSk7aWYoIXMpcmV0dXJue307Y29uc3Qgbj1zW2ldLG89dC5zZWdtZW50cyxhPXQucG9pbnRzO2xldCByPSExLGw9ITE7Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IGU9b1t0XSxzPWFbZS5zdGFydF1baV0saD1hW2UuZW5kXVtpXTtpZih0dChuLHMsaCkpe3I9bj09PXMsbD1uPT09aDticmVha319cmV0dXJue2ZpcnN0OnIsbGFzdDpsLHBvaW50OnN9fWNsYXNzIGhhe2NvbnN0cnVjdG9yKHQpe3RoaXMueD10LngsdGhpcy55PXQueSx0aGlzLnJhZGl1cz10LnJhZGl1c31wYXRoU2VnbWVudCh0LGUsaSl7Y29uc3R7eDpzLHk6bixyYWRpdXM6b309dGhpcztyZXR1cm4gZT1lfHx7c3RhcnQ6MCxlbmQ6T30sdC5hcmMocyxuLG8sZS5lbmQsZS5zdGFydCwhMCksIWkuYm91bmRzfWludGVycG9sYXRlKHQpe2NvbnN0e3g6ZSx5OmkscmFkaXVzOnN9PXRoaXMsbj10LmFuZ2xlO3JldHVybnt4OmUrTWF0aC5jb3Mobikqcyx5OmkrTWF0aC5zaW4obikqcyxhbmdsZTpufX19ZnVuY3Rpb24gY2EodCl7Y29uc3R7Y2hhcnQ6ZSxmaWxsOmksbGluZTpzfT10O2lmKGEoaSkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3QgaT10LmdldERhdGFzZXRNZXRhKGUpLHM9aSYmdC5pc0RhdGFzZXRWaXNpYmxlKGUpO3JldHVybiBzP2kuZGF0YXNldDpudWxsfShlLGkpO2lmKCJzdGFjayI9PT1pKXJldHVybiBmdW5jdGlvbih0KXtjb25zdHtzY2FsZTplLGluZGV4OmksbGluZTpzfT10LG49W10sbz1zLnNlZ21lbnRzLGE9cy5wb2ludHMscj1mdW5jdGlvbih0LGUpe2NvbnN0IGk9W10scz10LmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKCJsaW5lIik7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe2NvbnN0IG49c1t0XTtpZihuLmluZGV4PT09ZSlicmVhaztuLmhpZGRlbnx8aS51bnNoaWZ0KG4uZGF0YXNldCl9cmV0dXJuIGl9KGUsaSk7ci5wdXNoKHNhKHt4Om51bGwseTplLmJvdHRvbX0scykpO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCBlPW9bdF07Zm9yKGxldCB0PWUuc3RhcnQ7dDw9ZS5lbmQ7dCsrKXJhKG4sYVt0XSxyKX1yZXR1cm4gbmV3IG5vKHtwb2ludHM6bixvcHRpb25zOnt9fSl9KHQpO2lmKCJzaGFwZSI9PT1pKXJldHVybiEwO2NvbnN0IG49ZnVuY3Rpb24odCl7Y29uc3QgZT10LnNjYWxlfHx7fTtpZihlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZSlyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3R7c2NhbGU6ZSxmaWxsOml9PXQscz1lLm9wdGlvbnMsbj1lLmdldExhYmVscygpLmxlbmd0aCxhPXMucmV2ZXJzZT9lLm1heDplLm1pbixyPWZ1bmN0aW9uKHQsZSxpKXtsZXQgcztyZXR1cm4gcz0ic3RhcnQiPT09dD9pOiJlbmQiPT09dD9lLm9wdGlvbnMucmV2ZXJzZT9lLm1pbjplLm1heDpvKHQpP3QudmFsdWU6ZS5nZXRCYXNlVmFsdWUoKSxzfShpLGUsYSksbD1bXTtpZihzLmdyaWQuY2lyY3VsYXIpe2NvbnN0IHQ9ZS5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoMCxhKTtyZXR1cm4gbmV3IGhhKHt4OnQueCx5OnQueSxyYWRpdXM6ZS5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZShyKX0pfWZvcihsZXQgdD0wO3Q8bjsrK3QpbC5wdXNoKGUuZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKHQscikpO3JldHVybiBsfSh0KTtyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3R7c2NhbGU6ZT17fSxmaWxsOml9PXQscz1mdW5jdGlvbih0LGUpe2xldCBpPW51bGw7cmV0dXJuInN0YXJ0Ij09PXQ/aT1lLmJvdHRvbToiZW5kIj09PXQ/aT1lLnRvcDpvKHQpP2k9ZS5nZXRQaXhlbEZvclZhbHVlKHQudmFsdWUpOmUuZ2V0QmFzZVBpeGVsJiYoaT1lLmdldEJhc2VQaXhlbCgpKSxpfShpLGUpO2lmKGEocykpe2NvbnN0IHQ9ZS5pc0hvcml6b250YWwoKTtyZXR1cm57eDp0P3M6bnVsbCx5OnQ/bnVsbDpzfX1yZXR1cm4gbnVsbH0odCl9KHQpO3JldHVybiBuIGluc3RhbmNlb2YgaGE/bjpzYShuLHMpfWZ1bmN0aW9uIGRhKHQsZSxpKXtjb25zdCBzPWNhKGUpLHtsaW5lOm4sc2NhbGU6byxheGlzOmF9PWUscj1uLm9wdGlvbnMsbD1yLmZpbGwsaD1yLmJhY2tncm91bmRDb2xvcix7YWJvdmU6Yz1oLGJlbG93OmQ9aH09bHx8e307cyYmbi5wb2ludHMubGVuZ3RoJiYoSWUodCxpKSxmdW5jdGlvbih0LGUpe2NvbnN0e2xpbmU6aSx0YXJnZXQ6cyxhYm92ZTpuLGJlbG93Om8sYXJlYTphLHNjYWxlOnJ9PWUsbD1pLl9sb29wPyJhbmdsZSI6ZS5heGlzO3Quc2F2ZSgpLCJ4Ij09PWwmJm8hPT1uJiYodWEodCxzLGEudG9wKSxmYSh0LHtsaW5lOmksdGFyZ2V0OnMsY29sb3I6bixzY2FsZTpyLHByb3BlcnR5Omx9KSx0LnJlc3RvcmUoKSx0LnNhdmUoKSx1YSh0LHMsYS5ib3R0b20pKTtmYSh0LHtsaW5lOmksdGFyZ2V0OnMsY29sb3I6byxzY2FsZTpyLHByb3BlcnR5Omx9KSx0LnJlc3RvcmUoKX0odCx7bGluZTpuLHRhcmdldDpzLGFib3ZlOmMsYmVsb3c6ZCxhcmVhOmksc2NhbGU6byxheGlzOmF9KSx6ZSh0KSl9ZnVuY3Rpb24gdWEodCxlLGkpe2NvbnN0e3NlZ21lbnRzOnMscG9pbnRzOm59PWU7bGV0IG89ITAsYT0hMTt0LmJlZ2luUGF0aCgpO2Zvcihjb25zdCByIG9mIHMpe2NvbnN0e3N0YXJ0OnMsZW5kOmx9PXIsaD1uW3NdLGM9bltlYShzLGwsbildO28/KHQubW92ZVRvKGgueCxoLnkpLG89ITEpOih0LmxpbmVUbyhoLngsaSksdC5saW5lVG8oaC54LGgueSkpLGE9ISFlLnBhdGhTZWdtZW50KHQscix7bW92ZTphfSksYT90LmNsb3NlUGF0aCgpOnQubGluZVRvKGMueCxpKX10LmxpbmVUbyhlLmZpcnN0KCkueCxpKSx0LmNsb3NlUGF0aCgpLHQuY2xpcCgpfWZ1bmN0aW9uIGZhKHQsZSl7Y29uc3R7bGluZTppLHRhcmdldDpzLHByb3BlcnR5Om4sY29sb3I6byxzY2FsZTphfT1lLHI9ZnVuY3Rpb24odCxlLGkpe2NvbnN0IHM9dC5zZWdtZW50cyxuPXQucG9pbnRzLG89ZS5wb2ludHMsYT1bXTtmb3IoY29uc3QgdCBvZiBzKXtsZXR7c3RhcnQ6cyxlbmQ6cn09dDtyPWVhKHMscixuKTtjb25zdCBsPXRhKGksbltzXSxuW3JdLHQubG9vcCk7aWYoIWUuc2VnbWVudHMpe2EucHVzaCh7c291cmNlOnQsdGFyZ2V0Omwsc3RhcnQ6bltzXSxlbmQ6bltyXX0pO2NvbnRpbnVlfWNvbnN0IGg9SWkoZSxsKTtmb3IoY29uc3QgZSBvZiBoKXtjb25zdCBzPXRhKGksb1tlLnN0YXJ0XSxvW2UuZW5kXSxlLmxvb3ApLHI9UmkodCxuLHMpO2Zvcihjb25zdCB0IG9mIHIpYS5wdXNoKHtzb3VyY2U6dCx0YXJnZXQ6ZSxzdGFydDp7W2ldOmlhKGwscywic3RhcnQiLE1hdGgubWF4KX0sZW5kOntbaV06aWEobCxzLCJlbmQiLE1hdGgubWluKX19KX19cmV0dXJuIGF9KGkscyxuKTtmb3IoY29uc3R7c291cmNlOmUsdGFyZ2V0Omwsc3RhcnQ6aCxlbmQ6Y31vZiByKXtjb25zdHtzdHlsZTp7YmFja2dyb3VuZENvbG9yOnI9b309e319PWUsZD0hMCE9PXM7dC5zYXZlKCksdC5maWxsU3R5bGU9cixnYSh0LGEsZCYmdGEobixoLGMpKSx0LmJlZ2luUGF0aCgpO2NvbnN0IHU9ISFpLnBhdGhTZWdtZW50KHQsZSk7bGV0IGY7aWYoZCl7dT90LmNsb3NlUGF0aCgpOnBhKHQscyxjLG4pO2NvbnN0IGU9ISFzLnBhdGhTZWdtZW50KHQsbCx7bW92ZTp1LHJldmVyc2U6ITB9KTtmPXUmJmUsZnx8cGEodCxzLGgsbil9dC5jbG9zZVBhdGgoKSx0LmZpbGwoZj8iZXZlbm9kZCI6Im5vbnplcm8iKSx0LnJlc3RvcmUoKX19ZnVuY3Rpb24gZ2EodCxlLGkpe2NvbnN0e3RvcDpzLGJvdHRvbTpufT1lLmNoYXJ0LmNoYXJ0QXJlYSx7cHJvcGVydHk6byxzdGFydDphLGVuZDpyfT1pfHx7fTsieCI9PT1vJiYodC5iZWdpblBhdGgoKSx0LnJlY3QoYSxzLHItYSxuLXMpLHQuY2xpcCgpKX1mdW5jdGlvbiBwYSh0LGUsaSxzKXtjb25zdCBuPWUuaW50ZXJwb2xhdGUoaSxzKTtuJiZ0LmxpbmVUbyhuLngsbi55KX12YXIgbWE9e2lkOiJmaWxsZXIiLGFmdGVyRGF0YXNldHNVcGRhdGUodCxlLGkpe2NvbnN0IHM9KHQuZGF0YS5kYXRhc2V0c3x8W10pLmxlbmd0aCxuPVtdO2xldCBvLGEscixsO2ZvcihhPTA7YTxzOysrYSlvPXQuZ2V0RGF0YXNldE1ldGEoYSkscj1vLmRhdGFzZXQsbD1udWxsLHImJnIub3B0aW9ucyYmciBpbnN0YW5jZW9mIG5vJiYobD17dmlzaWJsZTp0LmlzRGF0YXNldFZpc2libGUoYSksaW5kZXg6YSxmaWxsOmFhKHIsYSxzKSxjaGFydDp0LGF4aXM6by5jb250cm9sbGVyLm9wdGlvbnMuaW5kZXhBeGlzLHNjYWxlOm8udlNjYWxlLGxpbmU6cn0pLG8uJGZpbGxlcj1sLG4ucHVzaChsKTtmb3IoYT0wO2E8czsrK2EpbD1uW2FdLGwmJiExIT09bC5maWxsJiYobC5maWxsPW9hKG4sYSxpLnByb3BhZ2F0ZSkpfSxiZWZvcmVEcmF3KHQsZSxpKXtjb25zdCBzPSJiZWZvcmVEcmF3Ij09PWkuZHJhd1RpbWUsbj10LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKSxvPXQuY2hhcnRBcmVhO2ZvcihsZXQgZT1uLmxlbmd0aC0xO2U+PTA7LS1lKXtjb25zdCBpPW5bZV0uJGZpbGxlcjtpJiYoaS5saW5lLnVwZGF0ZUNvbnRyb2xQb2ludHMobyxpLmF4aXMpLHMmJmkuZmlsbCYmZGEodC5jdHgsaSxvKSl9fSxiZWZvcmVEYXRhc2V0c0RyYXcodCxlLGkpe2lmKCJiZWZvcmVEYXRhc2V0c0RyYXciIT09aS5kcmF3VGltZSlyZXR1cm47Y29uc3Qgcz10LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtmb3IobGV0IGU9cy5sZW5ndGgtMTtlPj0wOy0tZSl7Y29uc3QgaT1zW2VdLiRmaWxsZXI7bmEoaSkmJmRhKHQuY3R4LGksdC5jaGFydEFyZWEpfX0sYmVmb3JlRGF0YXNldERyYXcodCxlLGkpe2NvbnN0IHM9ZS5tZXRhLiRmaWxsZXI7bmEocykmJiJiZWZvcmVEYXRhc2V0RHJhdyI9PT1pLmRyYXdUaW1lJiZkYSh0LmN0eCxzLHQuY2hhcnRBcmVhKX0sZGVmYXVsdHM6e3Byb3BhZ2F0ZTohMCxkcmF3VGltZToiYmVmb3JlRGF0YXNldERyYXcifX07Y29uc3QgYmE9KHQsZSk9PntsZXR7Ym94SGVpZ2h0Omk9ZSxib3hXaWR0aDpzPWV9PXQ7cmV0dXJuIHQudXNlUG9pbnRTdHlsZSYmKGk9TWF0aC5taW4oaSxlKSxzPXQucG9pbnRTdHlsZVdpZHRofHxNYXRoLm1pbihzLGUpKSx7Ym94V2lkdGg6cyxib3hIZWlnaHQ6aSxpdGVtSGVpZ2h0Ok1hdGgubWF4KGUsaSl9fTtjbGFzcyB4YSBleHRlbmRzIEhze2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fYWRkZWQ9ITEsdGhpcy5sZWdlbmRIaXRCb3hlcz1bXSx0aGlzLl9ob3ZlcmVkSXRlbT1udWxsLHRoaXMuZG91Z2hudXRNb2RlPSExLHRoaXMuY2hhcnQ9dC5jaGFydCx0aGlzLm9wdGlvbnM9dC5vcHRpb25zLHRoaXMuY3R4PXQuY3R4LHRoaXMubGVnZW5kSXRlbXM9dm9pZCAwLHRoaXMuY29sdW1uU2l6ZXM9dm9pZCAwLHRoaXMubGluZVdpZHRocz12b2lkIDAsdGhpcy5tYXhIZWlnaHQ9dm9pZCAwLHRoaXMubWF4V2lkdGg9dm9pZCAwLHRoaXMudG9wPXZvaWQgMCx0aGlzLmJvdHRvbT12b2lkIDAsdGhpcy5sZWZ0PXZvaWQgMCx0aGlzLnJpZ2h0PXZvaWQgMCx0aGlzLmhlaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5fbWFyZ2lucz12b2lkIDAsdGhpcy5wb3NpdGlvbj12b2lkIDAsdGhpcy53ZWlnaHQ9dm9pZCAwLHRoaXMuZnVsbFNpemU9dm9pZCAwfXVwZGF0ZSh0LGUsaSl7dGhpcy5tYXhXaWR0aD10LHRoaXMubWF4SGVpZ2h0PWUsdGhpcy5fbWFyZ2lucz1pLHRoaXMuc2V0RGltZW5zaW9ucygpLHRoaXMuYnVpbGRMYWJlbHMoKSx0aGlzLmZpdCgpfXNldERpbWVuc2lvbnMoKXt0aGlzLmlzSG9yaXpvbnRhbCgpPyh0aGlzLndpZHRoPXRoaXMubWF4V2lkdGgsdGhpcy5sZWZ0PXRoaXMuX21hcmdpbnMubGVmdCx0aGlzLnJpZ2h0PXRoaXMud2lkdGgpOih0aGlzLmhlaWdodD10aGlzLm1heEhlaWdodCx0aGlzLnRvcD10aGlzLl9tYXJnaW5zLnRvcCx0aGlzLmJvdHRvbT10aGlzLmhlaWdodCl9YnVpbGRMYWJlbHMoKXtjb25zdCB0PXRoaXMub3B0aW9ucy5sYWJlbHN8fHt9O2xldCBlPWQodC5nZW5lcmF0ZUxhYmVscyxbdGhpcy5jaGFydF0sdGhpcyl8fFtdO3QuZmlsdGVyJiYoZT1lLmZpbHRlcigoZT0+dC5maWx0ZXIoZSx0aGlzLmNoYXJ0LmRhdGEpKSkpLHQuc29ydCYmKGU9ZS5zb3J0KCgoZSxpKT0+dC5zb3J0KGUsaSx0aGlzLmNoYXJ0LmRhdGEpKSkpLHRoaXMub3B0aW9ucy5yZXZlcnNlJiZlLnJldmVyc2UoKSx0aGlzLmxlZ2VuZEl0ZW1zPWV9Zml0KCl7Y29uc3R7b3B0aW9uczp0LGN0eDplfT10aGlzO2lmKCF0LmRpc3BsYXkpcmV0dXJuIHZvaWQodGhpcy53aWR0aD10aGlzLmhlaWdodD0wKTtjb25zdCBpPXQubGFiZWxzLHM9U2koaS5mb250KSxuPXMuc2l6ZSxvPXRoaXMuX2NvbXB1dGVUaXRsZUhlaWdodCgpLHtib3hXaWR0aDphLGl0ZW1IZWlnaHQ6cn09YmEoaSxuKTtsZXQgbCxoO2UuZm9udD1zLnN0cmluZyx0aGlzLmlzSG9yaXpvbnRhbCgpPyhsPXRoaXMubWF4V2lkdGgsaD10aGlzLl9maXRSb3dzKG8sbixhLHIpKzEwKTooaD10aGlzLm1heEhlaWdodCxsPXRoaXMuX2ZpdENvbHMobyxzLGEscikrMTApLHRoaXMud2lkdGg9TWF0aC5taW4obCx0Lm1heFdpZHRofHx0aGlzLm1heFdpZHRoKSx0aGlzLmhlaWdodD1NYXRoLm1pbihoLHQubWF4SGVpZ2h0fHx0aGlzLm1heEhlaWdodCl9X2ZpdFJvd3ModCxlLGkscyl7Y29uc3R7Y3R4Om4sbWF4V2lkdGg6byxvcHRpb25zOntsYWJlbHM6e3BhZGRpbmc6YX19fT10aGlzLHI9dGhpcy5sZWdlbmRIaXRCb3hlcz1bXSxsPXRoaXMubGluZVdpZHRocz1bMF0saD1zK2E7bGV0IGM9dDtuLnRleHRBbGlnbj0ibGVmdCIsbi50ZXh0QmFzZWxpbmU9Im1pZGRsZSI7bGV0IGQ9LTEsdT0taDtyZXR1cm4gdGhpcy5sZWdlbmRJdGVtcy5mb3JFYWNoKCgodCxmKT0+e2NvbnN0IGc9aStlLzIrbi5tZWFzdXJlVGV4dCh0LnRleHQpLndpZHRoOygwPT09Znx8bFtsLmxlbmd0aC0xXStnKzIqYT5vKSYmKGMrPWgsbFtsLmxlbmd0aC0oZj4wPzA6MSldPTAsdSs9aCxkKyspLHJbZl09e2xlZnQ6MCx0b3A6dSxyb3c6ZCx3aWR0aDpnLGhlaWdodDpzfSxsW2wubGVuZ3RoLTFdKz1nK2F9KSksY31fZml0Q29scyh0LGUsaSxzKXtjb25zdHtjdHg6bixtYXhIZWlnaHQ6byxvcHRpb25zOntsYWJlbHM6e3BhZGRpbmc6YX19fT10aGlzLHI9dGhpcy5sZWdlbmRIaXRCb3hlcz1bXSxsPXRoaXMuY29sdW1uU2l6ZXM9W10saD1vLXQ7bGV0IGM9YSxkPTAsdT0wLGY9MCxnPTA7cmV0dXJuIHRoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgoKHQsbyk9Pntjb25zdHtpdGVtV2lkdGg6cCxpdGVtSGVpZ2h0Om19PWZ1bmN0aW9uKHQsZSxpLHMsbil7Y29uc3Qgbz1mdW5jdGlvbih0LGUsaSxzKXtsZXQgbj10LnRleHQ7biYmInN0cmluZyIhPXR5cGVvZiBuJiYobj1uLnJlZHVjZSgoKHQsZSk9PnQubGVuZ3RoPmUubGVuZ3RoP3Q6ZSkpKTtyZXR1cm4gZStpLnNpemUvMitzLm1lYXN1cmVUZXh0KG4pLndpZHRofShzLHQsZSxpKSxhPWZ1bmN0aW9uKHQsZSxpKXtsZXQgcz10OyJzdHJpbmciIT10eXBlb2YgZS50ZXh0JiYocz1fYShlLGkpKTtyZXR1cm4gc30obixzLGUubGluZUhlaWdodCk7cmV0dXJue2l0ZW1XaWR0aDpvLGl0ZW1IZWlnaHQ6YX19KGksZSxuLHQscyk7bz4wJiZ1K20rMiphPmgmJihjKz1kK2EsbC5wdXNoKHt3aWR0aDpkLGhlaWdodDp1fSksZis9ZCthLGcrKyxkPXU9MCkscltvXT17bGVmdDpmLHRvcDp1LGNvbDpnLHdpZHRoOnAsaGVpZ2h0Om19LGQ9TWF0aC5tYXgoZCxwKSx1Kz1tK2F9KSksYys9ZCxsLnB1c2goe3dpZHRoOmQsaGVpZ2h0OnV9KSxjfWFkanVzdEhpdEJveGVzKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNwbGF5KXJldHVybjtjb25zdCB0PXRoaXMuX2NvbXB1dGVUaXRsZUhlaWdodCgpLHtsZWdlbmRIaXRCb3hlczplLG9wdGlvbnM6e2FsaWduOmksbGFiZWxzOntwYWRkaW5nOnN9LHJ0bDpufX09dGhpcyxvPU9pKG4sdGhpcy5sZWZ0LHRoaXMud2lkdGgpO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpe2xldCBuPTAsYT1mdChpLHRoaXMubGVmdCtzLHRoaXMucmlnaHQtdGhpcy5saW5lV2lkdGhzW25dKTtmb3IoY29uc3QgciBvZiBlKW4hPT1yLnJvdyYmKG49ci5yb3csYT1mdChpLHRoaXMubGVmdCtzLHRoaXMucmlnaHQtdGhpcy5saW5lV2lkdGhzW25dKSksci50b3ArPXRoaXMudG9wK3QrcyxyLmxlZnQ9by5sZWZ0Rm9yTHRyKG8ueChhKSxyLndpZHRoKSxhKz1yLndpZHRoK3N9ZWxzZXtsZXQgbj0wLGE9ZnQoaSx0aGlzLnRvcCt0K3MsdGhpcy5ib3R0b20tdGhpcy5jb2x1bW5TaXplc1tuXS5oZWlnaHQpO2Zvcihjb25zdCByIG9mIGUpci5jb2whPT1uJiYobj1yLmNvbCxhPWZ0KGksdGhpcy50b3ArdCtzLHRoaXMuYm90dG9tLXRoaXMuY29sdW1uU2l6ZXNbbl0uaGVpZ2h0KSksci50b3A9YSxyLmxlZnQrPXRoaXMubGVmdCtzLHIubGVmdD1vLmxlZnRGb3JMdHIoby54KHIubGVmdCksci53aWR0aCksYSs9ci5oZWlnaHQrc319aXNIb3Jpem9udGFsKCl7cmV0dXJuInRvcCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb258fCJib3R0b20iPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufWRyYXcoKXtpZih0aGlzLm9wdGlvbnMuZGlzcGxheSl7Y29uc3QgdD10aGlzLmN0eDtJZSh0LHRoaXMpLHRoaXMuX2RyYXcoKSx6ZSh0KX19X2RyYXcoKXtjb25zdHtvcHRpb25zOnQsY29sdW1uU2l6ZXM6ZSxsaW5lV2lkdGhzOmksY3R4OnN9PXRoaXMse2FsaWduOm4sbGFiZWxzOm99PXQsYT11ZS5jb2xvcixyPU9pKHQucnRsLHRoaXMubGVmdCx0aGlzLndpZHRoKSxoPVNpKG8uZm9udCkse3BhZGRpbmc6Y309byxkPWguc2l6ZSx1PWQvMjtsZXQgZjt0aGlzLmRyYXdUaXRsZSgpLHMudGV4dEFsaWduPXIudGV4dEFsaWduKCJsZWZ0Iikscy50ZXh0QmFzZWxpbmU9Im1pZGRsZSIscy5saW5lV2lkdGg9LjUscy5mb250PWguc3RyaW5nO2NvbnN0e2JveFdpZHRoOmcsYm94SGVpZ2h0OnAsaXRlbUhlaWdodDptfT1iYShvLGQpLGI9dGhpcy5pc0hvcml6b250YWwoKSx4PXRoaXMuX2NvbXB1dGVUaXRsZUhlaWdodCgpO2Y9Yj97eDpmdChuLHRoaXMubGVmdCtjLHRoaXMucmlnaHQtaVswXSkseTp0aGlzLnRvcCtjK3gsbGluZTowfTp7eDp0aGlzLmxlZnQrYyx5OmZ0KG4sdGhpcy50b3AreCtjLHRoaXMuYm90dG9tLWVbMF0uaGVpZ2h0KSxsaW5lOjB9LEFpKHRoaXMuY3R4LHQudGV4dERpcmVjdGlvbik7Y29uc3QgXz1tK2M7dGhpcy5sZWdlbmRJdGVtcy5mb3JFYWNoKCgoeSx2KT0+e3Muc3Ryb2tlU3R5bGU9eS5mb250Q29sb3Iscy5maWxsU3R5bGU9eS5mb250Q29sb3I7Y29uc3QgTT1zLm1lYXN1cmVUZXh0KHkudGV4dCkud2lkdGgsdz1yLnRleHRBbGlnbih5LnRleHRBbGlnbnx8KHkudGV4dEFsaWduPW8udGV4dEFsaWduKSksaz1nK3UrTTtsZXQgUz1mLngsUD1mLnk7ci5zZXRXaWR0aCh0aGlzLndpZHRoKSxiP3Y+MCYmUytrK2M+dGhpcy5yaWdodCYmKFA9Zi55Kz1fLGYubGluZSsrLFM9Zi54PWZ0KG4sdGhpcy5sZWZ0K2MsdGhpcy5yaWdodC1pW2YubGluZV0pKTp2PjAmJlArXz50aGlzLmJvdHRvbSYmKFM9Zi54PVMrZVtmLmxpbmVdLndpZHRoK2MsZi5saW5lKyssUD1mLnk9ZnQobix0aGlzLnRvcCt4K2MsdGhpcy5ib3R0b20tZVtmLmxpbmVdLmhlaWdodCkpO2lmKGZ1bmN0aW9uKHQsZSxpKXtpZihpc05hTihnKXx8Zzw9MHx8aXNOYU4ocCl8fHA8MClyZXR1cm47cy5zYXZlKCk7Y29uc3Qgbj1sKGkubGluZVdpZHRoLDEpO2lmKHMuZmlsbFN0eWxlPWwoaS5maWxsU3R5bGUsYSkscy5saW5lQ2FwPWwoaS5saW5lQ2FwLCJidXR0Iikscy5saW5lRGFzaE9mZnNldD1sKGkubGluZURhc2hPZmZzZXQsMCkscy5saW5lSm9pbj1sKGkubGluZUpvaW4sIm1pdGVyIikscy5saW5lV2lkdGg9bixzLnN0cm9rZVN0eWxlPWwoaS5zdHJva2VTdHlsZSxhKSxzLnNldExpbmVEYXNoKGwoaS5saW5lRGFzaCxbXSkpLG8udXNlUG9pbnRTdHlsZSl7Y29uc3QgYT17cmFkaXVzOnAqTWF0aC5TUVJUMi8yLHBvaW50U3R5bGU6aS5wb2ludFN0eWxlLHJvdGF0aW9uOmkucm90YXRpb24sYm9yZGVyV2lkdGg6bn0sbD1yLnhQbHVzKHQsZy8yKTtFZShzLGEsbCxlK3Usby5wb2ludFN0eWxlV2lkdGgmJmcpfWVsc2V7Y29uc3Qgbz1lK01hdGgubWF4KChkLXApLzIsMCksYT1yLmxlZnRGb3JMdHIodCxnKSxsPXdpKGkuYm9yZGVyUmFkaXVzKTtzLmJlZ2luUGF0aCgpLE9iamVjdC52YWx1ZXMobCkuc29tZSgodD0+MCE9PXQpKT9IZShzLHt4OmEseTpvLHc6ZyxoOnAscmFkaXVzOmx9KTpzLnJlY3QoYSxvLGcscCkscy5maWxsKCksMCE9PW4mJnMuc3Ryb2tlKCl9cy5yZXN0b3JlKCl9KHIueChTKSxQLHkpLFM9Z3QodyxTK2crdSxiP1Mrazp0aGlzLnJpZ2h0LHQucnRsKSxmdW5jdGlvbih0LGUsaSl7TmUocyxpLnRleHQsdCxlK20vMixoLHtzdHJpa2V0aHJvdWdoOmkuaGlkZGVuLHRleHRBbGlnbjpyLnRleHRBbGlnbihpLnRleHRBbGlnbil9KX0oci54KFMpLFAseSksYilmLngrPWsrYztlbHNlIGlmKCJzdHJpbmciIT10eXBlb2YgeS50ZXh0KXtjb25zdCB0PWgubGluZUhlaWdodDtmLnkrPV9hKHksdCkrY31lbHNlIGYueSs9X30pKSxUaSh0aGlzLmN0eCx0LnRleHREaXJlY3Rpb24pfWRyYXdUaXRsZSgpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9dC50aXRsZSxpPVNpKGUuZm9udCkscz1raShlLnBhZGRpbmcpO2lmKCFlLmRpc3BsYXkpcmV0dXJuO2NvbnN0IG49T2kodC5ydGwsdGhpcy5sZWZ0LHRoaXMud2lkdGgpLG89dGhpcy5jdHgsYT1lLnBvc2l0aW9uLHI9aS5zaXplLzIsbD1zLnRvcCtyO2xldCBoLGM9dGhpcy5sZWZ0LGQ9dGhpcy53aWR0aDtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKWQ9TWF0aC5tYXgoLi4udGhpcy5saW5lV2lkdGhzKSxoPXRoaXMudG9wK2wsYz1mdCh0LmFsaWduLGMsdGhpcy5yaWdodC1kKTtlbHNle2NvbnN0IGU9dGhpcy5jb2x1bW5TaXplcy5yZWR1Y2UoKCh0LGUpPT5NYXRoLm1heCh0LGUuaGVpZ2h0KSksMCk7aD1sK2Z0KHQuYWxpZ24sdGhpcy50b3AsdGhpcy5ib3R0b20tZS10LmxhYmVscy5wYWRkaW5nLXRoaXMuX2NvbXB1dGVUaXRsZUhlaWdodCgpKX1jb25zdCB1PWZ0KGEsYyxjK2QpO28udGV4dEFsaWduPW4udGV4dEFsaWduKHV0KGEpKSxvLnRleHRCYXNlbGluZT0ibWlkZGxlIixvLnN0cm9rZVN0eWxlPWUuY29sb3Isby5maWxsU3R5bGU9ZS5jb2xvcixvLmZvbnQ9aS5zdHJpbmcsTmUobyxlLnRleHQsdSxoLGkpfV9jb21wdXRlVGl0bGVIZWlnaHQoKXtjb25zdCB0PXRoaXMub3B0aW9ucy50aXRsZSxlPVNpKHQuZm9udCksaT1raSh0LnBhZGRpbmcpO3JldHVybiB0LmRpc3BsYXk/ZS5saW5lSGVpZ2h0K2kuaGVpZ2h0OjB9X2dldExlZ2VuZEl0ZW1BdCh0LGUpe2xldCBpLHMsbjtpZih0dCh0LHRoaXMubGVmdCx0aGlzLnJpZ2h0KSYmdHQoZSx0aGlzLnRvcCx0aGlzLmJvdHRvbSkpZm9yKG49dGhpcy5sZWdlbmRIaXRCb3hlcyxpPTA7aTxuLmxlbmd0aDsrK2kpaWYocz1uW2ldLHR0KHQscy5sZWZ0LHMubGVmdCtzLndpZHRoKSYmdHQoZSxzLnRvcCxzLnRvcCtzLmhlaWdodCkpcmV0dXJuIHRoaXMubGVnZW5kSXRlbXNbaV07cmV0dXJuIG51bGx9aGFuZGxlRXZlbnQodCl7Y29uc3QgZT10aGlzLm9wdGlvbnM7aWYoIWZ1bmN0aW9uKHQsZSl7aWYoKCJtb3VzZW1vdmUiPT09dHx8Im1vdXNlb3V0Ij09PXQpJiYoZS5vbkhvdmVyfHxlLm9uTGVhdmUpKXJldHVybiEwO2lmKGUub25DbGljayYmKCJjbGljayI9PT10fHwibW91c2V1cCI9PT10KSlyZXR1cm4hMDtyZXR1cm4hMX0odC50eXBlLGUpKXJldHVybjtjb25zdCBpPXRoaXMuX2dldExlZ2VuZEl0ZW1BdCh0LngsdC55KTtpZigibW91c2Vtb3ZlIj09PXQudHlwZXx8Im1vdXNlb3V0Ij09PXQudHlwZSl7Y29uc3Qgbz10aGlzLl9ob3ZlcmVkSXRlbSxhPShuPWksbnVsbCE9PShzPW8pJiZudWxsIT09biYmcy5kYXRhc2V0SW5kZXg9PT1uLmRhdGFzZXRJbmRleCYmcy5pbmRleD09PW4uaW5kZXgpO28mJiFhJiZkKGUub25MZWF2ZSxbdCxvLHRoaXNdLHRoaXMpLHRoaXMuX2hvdmVyZWRJdGVtPWksaSYmIWEmJmQoZS5vbkhvdmVyLFt0LGksdGhpc10sdGhpcyl9ZWxzZSBpJiZkKGUub25DbGljayxbdCxpLHRoaXNdLHRoaXMpO3ZhciBzLG59fWZ1bmN0aW9uIF9hKHQsZSl7cmV0dXJuIGUqKHQudGV4dD90LnRleHQubGVuZ3RoOjApfXZhciB5YT17aWQ6ImxlZ2VuZCIsX2VsZW1lbnQ6eGEsc3RhcnQodCxlLGkpe2NvbnN0IHM9dC5sZWdlbmQ9bmV3IHhhKHtjdHg6dC5jdHgsb3B0aW9uczppLGNoYXJ0OnR9KTthcy5jb25maWd1cmUodCxzLGkpLGFzLmFkZEJveCh0LHMpfSxzdG9wKHQpe2FzLnJlbW92ZUJveCh0LHQubGVnZW5kKSxkZWxldGUgdC5sZWdlbmR9LGJlZm9yZVVwZGF0ZSh0LGUsaSl7Y29uc3Qgcz10LmxlZ2VuZDthcy5jb25maWd1cmUodCxzLGkpLHMub3B0aW9ucz1pfSxhZnRlclVwZGF0ZSh0KXtjb25zdCBlPXQubGVnZW5kO2UuYnVpbGRMYWJlbHMoKSxlLmFkanVzdEhpdEJveGVzKCl9LGFmdGVyRXZlbnQodCxlKXtlLnJlcGxheXx8dC5sZWdlbmQuaGFuZGxlRXZlbnQoZS5ldmVudCl9LGRlZmF1bHRzOntkaXNwbGF5OiEwLHBvc2l0aW9uOiJ0b3AiLGFsaWduOiJjZW50ZXIiLGZ1bGxTaXplOiEwLHJldmVyc2U6ITEsd2VpZ2h0OjFlMyxvbkNsaWNrKHQsZSxpKXtjb25zdCBzPWUuZGF0YXNldEluZGV4LG49aS5jaGFydDtuLmlzRGF0YXNldFZpc2libGUocyk/KG4uaGlkZShzKSxlLmhpZGRlbj0hMCk6KG4uc2hvdyhzKSxlLmhpZGRlbj0hMSl9LG9uSG92ZXI6bnVsbCxvbkxlYXZlOm51bGwsbGFiZWxzOntjb2xvcjp0PT50LmNoYXJ0Lm9wdGlvbnMuY29sb3IsYm94V2lkdGg6NDAscGFkZGluZzoxMCxnZW5lcmF0ZUxhYmVscyh0KXtjb25zdCBlPXQuZGF0YS5kYXRhc2V0cyx7bGFiZWxzOnt1c2VQb2ludFN0eWxlOmkscG9pbnRTdHlsZTpzLHRleHRBbGlnbjpuLGNvbG9yOm8sdXNlQm9yZGVyUmFkaXVzOmEsYm9yZGVyUmFkaXVzOnJ9fT10LmxlZ2VuZC5vcHRpb25zO3JldHVybiB0Ll9nZXRTb3J0ZWREYXRhc2V0TWV0YXMoKS5tYXAoKHQ9Pntjb25zdCBsPXQuY29udHJvbGxlci5nZXRTdHlsZShpPzA6dm9pZCAwKSxoPWtpKGwuYm9yZGVyV2lkdGgpO3JldHVybnt0ZXh0OmVbdC5pbmRleF0ubGFiZWwsZmlsbFN0eWxlOmwuYmFja2dyb3VuZENvbG9yLGZvbnRDb2xvcjpvLGhpZGRlbjohdC52aXNpYmxlLGxpbmVDYXA6bC5ib3JkZXJDYXBTdHlsZSxsaW5lRGFzaDpsLmJvcmRlckRhc2gsbGluZURhc2hPZmZzZXQ6bC5ib3JkZXJEYXNoT2Zmc2V0LGxpbmVKb2luOmwuYm9yZGVySm9pblN0eWxlLGxpbmVXaWR0aDooaC53aWR0aCtoLmhlaWdodCkvNCxzdHJva2VTdHlsZTpsLmJvcmRlckNvbG9yLHBvaW50U3R5bGU6c3x8bC5wb2ludFN0eWxlLHJvdGF0aW9uOmwucm90YXRpb24sdGV4dEFsaWduOm58fGwudGV4dEFsaWduLGJvcmRlclJhZGl1czphJiYocnx8bC5ib3JkZXJSYWRpdXMpLGRhdGFzZXRJbmRleDp0LmluZGV4fX0pLHRoaXMpfX0sdGl0bGU6e2NvbG9yOnQ9PnQuY2hhcnQub3B0aW9ucy5jb2xvcixkaXNwbGF5OiExLHBvc2l0aW9uOiJjZW50ZXIiLHRleHQ6IiJ9fSxkZXNjcmlwdG9yczp7X3NjcmlwdGFibGU6dD0+IXQuc3RhcnRzV2l0aCgib24iKSxsYWJlbHM6e19zY3JpcHRhYmxlOnQ9PiFbImdlbmVyYXRlTGFiZWxzIiwiZmlsdGVyIiwic29ydCJdLmluY2x1ZGVzKHQpfX19O2NsYXNzIHZhIGV4dGVuZHMgSHN7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNoYXJ0PXQuY2hhcnQsdGhpcy5vcHRpb25zPXQub3B0aW9ucyx0aGlzLmN0eD10LmN0eCx0aGlzLl9wYWRkaW5nPXZvaWQgMCx0aGlzLnRvcD12b2lkIDAsdGhpcy5ib3R0b209dm9pZCAwLHRoaXMubGVmdD12b2lkIDAsdGhpcy5yaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5oZWlnaHQ9dm9pZCAwLHRoaXMucG9zaXRpb249dm9pZCAwLHRoaXMud2VpZ2h0PXZvaWQgMCx0aGlzLmZ1bGxTaXplPXZvaWQgMH11cGRhdGUodCxlKXtjb25zdCBpPXRoaXMub3B0aW9ucztpZih0aGlzLmxlZnQ9MCx0aGlzLnRvcD0wLCFpLmRpc3BsYXkpcmV0dXJuIHZvaWQodGhpcy53aWR0aD10aGlzLmhlaWdodD10aGlzLnJpZ2h0PXRoaXMuYm90dG9tPTApO3RoaXMud2lkdGg9dGhpcy5yaWdodD10LHRoaXMuaGVpZ2h0PXRoaXMuYm90dG9tPWU7Y29uc3Qgcz1uKGkudGV4dCk/aS50ZXh0Lmxlbmd0aDoxO3RoaXMuX3BhZGRpbmc9a2koaS5wYWRkaW5nKTtjb25zdCBvPXMqU2koaS5mb250KS5saW5lSGVpZ2h0K3RoaXMuX3BhZGRpbmcuaGVpZ2h0O3RoaXMuaXNIb3Jpem9udGFsKCk/dGhpcy5oZWlnaHQ9bzp0aGlzLndpZHRoPW99aXNIb3Jpem9udGFsKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMucG9zaXRpb247cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR9X2RyYXdBcmdzKHQpe2NvbnN0e3RvcDplLGxlZnQ6aSxib3R0b206cyxyaWdodDpuLG9wdGlvbnM6b309dGhpcyxhPW8uYWxpZ247bGV0IHIsbCxoLGM9MDtyZXR1cm4gdGhpcy5pc0hvcml6b250YWwoKT8obD1mdChhLGksbiksaD1lK3Qscj1uLWkpOigibGVmdCI9PT1vLnBvc2l0aW9uPyhsPWkrdCxoPWZ0KGEscyxlKSxjPS0uNSpDKToobD1uLXQsaD1mdChhLGUscyksYz0uNSpDKSxyPXMtZSkse3RpdGxlWDpsLHRpdGxlWTpoLG1heFdpZHRoOnIscm90YXRpb246Y319ZHJhdygpe2NvbnN0IHQ9dGhpcy5jdHgsZT10aGlzLm9wdGlvbnM7aWYoIWUuZGlzcGxheSlyZXR1cm47Y29uc3QgaT1TaShlLmZvbnQpLHM9aS5saW5lSGVpZ2h0LzIrdGhpcy5fcGFkZGluZy50b3Ase3RpdGxlWDpuLHRpdGxlWTpvLG1heFdpZHRoOmEscm90YXRpb246cn09dGhpcy5fZHJhd0FyZ3Mocyk7TmUodCxlLnRleHQsMCwwLGkse2NvbG9yOmUuY29sb3IsbWF4V2lkdGg6YSxyb3RhdGlvbjpyLHRleHRBbGlnbjp1dChlLmFsaWduKSx0ZXh0QmFzZWxpbmU6Im1pZGRsZSIsdHJhbnNsYXRpb246W24sb119KX19dmFyIE1hPXtpZDoidGl0bGUiLF9lbGVtZW50OnZhLHN0YXJ0KHQsZSxpKXshZnVuY3Rpb24odCxlKXtjb25zdCBpPW5ldyB2YSh7Y3R4OnQuY3R4LG9wdGlvbnM6ZSxjaGFydDp0fSk7YXMuY29uZmlndXJlKHQsaSxlKSxhcy5hZGRCb3godCxpKSx0LnRpdGxlQmxvY2s9aX0odCxpKX0sc3RvcCh0KXtjb25zdCBlPXQudGl0bGVCbG9jazthcy5yZW1vdmVCb3godCxlKSxkZWxldGUgdC50aXRsZUJsb2NrfSxiZWZvcmVVcGRhdGUodCxlLGkpe2NvbnN0IHM9dC50aXRsZUJsb2NrO2FzLmNvbmZpZ3VyZSh0LHMsaSkscy5vcHRpb25zPWl9LGRlZmF1bHRzOnthbGlnbjoiY2VudGVyIixkaXNwbGF5OiExLGZvbnQ6e3dlaWdodDoiYm9sZCJ9LGZ1bGxTaXplOiEwLHBhZGRpbmc6MTAscG9zaXRpb246InRvcCIsdGV4dDoiIix3ZWlnaHQ6MmUzfSxkZWZhdWx0Um91dGVzOntjb2xvcjoiY29sb3IifSxkZXNjcmlwdG9yczp7X3NjcmlwdGFibGU6ITAsX2luZGV4YWJsZTohMX19O2NvbnN0IHdhPW5ldyBXZWFrTWFwO3ZhciBrYT17aWQ6InN1YnRpdGxlIixzdGFydCh0LGUsaSl7Y29uc3Qgcz1uZXcgdmEoe2N0eDp0LmN0eCxvcHRpb25zOmksY2hhcnQ6dH0pO2FzLmNvbmZpZ3VyZSh0LHMsaSksYXMuYWRkQm94KHQscyksd2Euc2V0KHQscyl9LHN0b3AodCl7YXMucmVtb3ZlQm94KHQsd2EuZ2V0KHQpKSx3YS5kZWxldGUodCl9LGJlZm9yZVVwZGF0ZSh0LGUsaSl7Y29uc3Qgcz13YS5nZXQodCk7YXMuY29uZmlndXJlKHQscyxpKSxzLm9wdGlvbnM9aX0sZGVmYXVsdHM6e2FsaWduOiJjZW50ZXIiLGRpc3BsYXk6ITEsZm9udDp7d2VpZ2h0OiJub3JtYWwifSxmdWxsU2l6ZTohMCxwYWRkaW5nOjAscG9zaXRpb246InRvcCIsdGV4dDoiIix3ZWlnaHQ6MTUwMH0sZGVmYXVsdFJvdXRlczp7Y29sb3I6ImNvbG9yIn0sZGVzY3JpcHRvcnM6e19zY3JpcHRhYmxlOiEwLF9pbmRleGFibGU6ITF9fTtjb25zdCBTYT17YXZlcmFnZSh0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7bGV0IGUsaSxzPTAsbj0wLG89MDtmb3IoZT0wLGk9dC5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10W2VdLmVsZW1lbnQ7aWYoaSYmaS5oYXNWYWx1ZSgpKXtjb25zdCB0PWkudG9vbHRpcFBvc2l0aW9uKCk7cys9dC54LG4rPXQueSwrK299fXJldHVybnt4OnMvbyx5Om4vb319LG5lYXJlc3QodCxlKXtpZighdC5sZW5ndGgpcmV0dXJuITE7bGV0IGkscyxuLG89ZS54LGE9ZS55LHI9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2ZvcihpPTAscz10Lmxlbmd0aDtpPHM7KytpKXtjb25zdCBzPXRbaV0uZWxlbWVudDtpZihzJiZzLmhhc1ZhbHVlKCkpe2NvbnN0IHQ9cShlLHMuZ2V0Q2VudGVyUG9pbnQoKSk7dDxyJiYocj10LG49cyl9fWlmKG4pe2NvbnN0IHQ9bi50b29sdGlwUG9zaXRpb24oKTtvPXQueCxhPXQueX1yZXR1cm57eDpvLHk6YX19fTtmdW5jdGlvbiBQYSh0LGUpe3JldHVybiBlJiYobihlKT9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0LGUpOnQucHVzaChlKSksdH1mdW5jdGlvbiBEYSh0KXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nKSYmdC5pbmRleE9mKCJcbiIpPi0xP3Quc3BsaXQoIlxuIik6dH1mdW5jdGlvbiBDYSh0LGUpe2NvbnN0e2VsZW1lbnQ6aSxkYXRhc2V0SW5kZXg6cyxpbmRleDpufT1lLG89dC5nZXREYXRhc2V0TWV0YShzKS5jb250cm9sbGVyLHtsYWJlbDphLHZhbHVlOnJ9PW8uZ2V0TGFiZWxBbmRWYWx1ZShuKTtyZXR1cm57Y2hhcnQ6dCxsYWJlbDphLHBhcnNlZDpvLmdldFBhcnNlZChuKSxyYXc6dC5kYXRhLmRhdGFzZXRzW3NdLmRhdGFbbl0sZm9ybWF0dGVkVmFsdWU6cixkYXRhc2V0Om8uZ2V0RGF0YXNldCgpLGRhdGFJbmRleDpuLGRhdGFzZXRJbmRleDpzLGVsZW1lbnQ6aX19ZnVuY3Rpb24gT2EodCxlKXtjb25zdCBpPXQuY2hhcnQuY3R4LHtib2R5OnMsZm9vdGVyOm4sdGl0bGU6b309dCx7Ym94V2lkdGg6YSxib3hIZWlnaHQ6cn09ZSxsPVNpKGUuYm9keUZvbnQpLGg9U2koZS50aXRsZUZvbnQpLGM9U2koZS5mb290ZXJGb250KSxkPW8ubGVuZ3RoLGY9bi5sZW5ndGgsZz1zLmxlbmd0aCxwPWtpKGUucGFkZGluZyk7bGV0IG09cC5oZWlnaHQsYj0wLHg9cy5yZWR1Y2UoKCh0LGUpPT50K2UuYmVmb3JlLmxlbmd0aCtlLmxpbmVzLmxlbmd0aCtlLmFmdGVyLmxlbmd0aCksMCk7aWYoeCs9dC5iZWZvcmVCb2R5Lmxlbmd0aCt0LmFmdGVyQm9keS5sZW5ndGgsZCYmKG0rPWQqaC5saW5lSGVpZ2h0KyhkLTEpKmUudGl0bGVTcGFjaW5nK2UudGl0bGVNYXJnaW5Cb3R0b20pLHgpe20rPWcqKGUuZGlzcGxheUNvbG9ycz9NYXRoLm1heChyLGwubGluZUhlaWdodCk6bC5saW5lSGVpZ2h0KSsoeC1nKSpsLmxpbmVIZWlnaHQrKHgtMSkqZS5ib2R5U3BhY2luZ31mJiYobSs9ZS5mb290ZXJNYXJnaW5Ub3ArZipjLmxpbmVIZWlnaHQrKGYtMSkqZS5mb290ZXJTcGFjaW5nKTtsZXQgXz0wO2NvbnN0IHk9ZnVuY3Rpb24odCl7Yj1NYXRoLm1heChiLGkubWVhc3VyZVRleHQodCkud2lkdGgrXyl9O3JldHVybiBpLnNhdmUoKSxpLmZvbnQ9aC5zdHJpbmcsdSh0LnRpdGxlLHkpLGkuZm9udD1sLnN0cmluZyx1KHQuYmVmb3JlQm9keS5jb25jYXQodC5hZnRlckJvZHkpLHkpLF89ZS5kaXNwbGF5Q29sb3JzP2ErMitlLmJveFBhZGRpbmc6MCx1KHMsKHQ9Pnt1KHQuYmVmb3JlLHkpLHUodC5saW5lcyx5KSx1KHQuYWZ0ZXIseSl9KSksXz0wLGkuZm9udD1jLnN0cmluZyx1KHQuZm9vdGVyLHkpLGkucmVzdG9yZSgpLGIrPXAud2lkdGgse3dpZHRoOmIsaGVpZ2h0Om19fWZ1bmN0aW9uIEFhKHQsZSxpLHMpe2NvbnN0e3g6bix3aWR0aDpvfT1pLHt3aWR0aDphLGNoYXJ0QXJlYTp7bGVmdDpyLHJpZ2h0Omx9fT10O2xldCBoPSJjZW50ZXIiO3JldHVybiJjZW50ZXIiPT09cz9oPW48PShyK2wpLzI/ImxlZnQiOiJyaWdodCI6bjw9by8yP2g9ImxlZnQiOm4+PWEtby8yJiYoaD0icmlnaHQiKSxmdW5jdGlvbih0LGUsaSxzKXtjb25zdHt4Om4sd2lkdGg6b309cyxhPWkuY2FyZXRTaXplK2kuY2FyZXRQYWRkaW5nO3JldHVybiJsZWZ0Ij09PXQmJm4rbythPmUud2lkdGh8fCJyaWdodCI9PT10JiZuLW8tYTwwfHx2b2lkIDB9KGgsdCxlLGkpJiYoaD0iY2VudGVyIiksaH1mdW5jdGlvbiBUYSh0LGUsaSl7Y29uc3Qgcz1pLnlBbGlnbnx8ZS55QWxpZ258fGZ1bmN0aW9uKHQsZSl7Y29uc3R7eTppLGhlaWdodDpzfT1lO3JldHVybiBpPHMvMj8idG9wIjppPnQuaGVpZ2h0LXMvMj8iYm90dG9tIjoiY2VudGVyIn0odCxpKTtyZXR1cm57eEFsaWduOmkueEFsaWdufHxlLnhBbGlnbnx8QWEodCxlLGkscykseUFsaWduOnN9fWZ1bmN0aW9uIExhKHQsZSxpLHMpe2NvbnN0e2NhcmV0U2l6ZTpuLGNhcmV0UGFkZGluZzpvLGNvcm5lclJhZGl1czphfT10LHt4QWxpZ246cix5QWxpZ246bH09aSxoPW4rbyx7dG9wTGVmdDpjLHRvcFJpZ2h0OmQsYm90dG9tTGVmdDp1LGJvdHRvbVJpZ2h0OmZ9PXdpKGEpO2xldCBnPWZ1bmN0aW9uKHQsZSl7bGV0e3g6aSx3aWR0aDpzfT10O3JldHVybiJyaWdodCI9PT1lP2ktPXM6ImNlbnRlciI9PT1lJiYoaS09cy8yKSxpfShlLHIpO2NvbnN0IHA9ZnVuY3Rpb24odCxlLGkpe2xldHt5OnMsaGVpZ2h0Om59PXQ7cmV0dXJuInRvcCI9PT1lP3MrPWk6cy09ImJvdHRvbSI9PT1lP24raTpuLzIsc30oZSxsLGgpO3JldHVybiJjZW50ZXIiPT09bD8ibGVmdCI9PT1yP2crPWg6InJpZ2h0Ij09PXImJihnLT1oKToibGVmdCI9PT1yP2ctPU1hdGgubWF4KGMsdSkrbjoicmlnaHQiPT09ciYmKGcrPU1hdGgubWF4KGQsZikrbikse3g6SihnLDAscy53aWR0aC1lLndpZHRoKSx5OkoocCwwLHMuaGVpZ2h0LWUuaGVpZ2h0KX19ZnVuY3Rpb24gRWEodCxlLGkpe2NvbnN0IHM9a2koaS5wYWRkaW5nKTtyZXR1cm4iY2VudGVyIj09PWU/dC54K3Qud2lkdGgvMjoicmlnaHQiPT09ZT90LngrdC53aWR0aC1zLnJpZ2h0OnQueCtzLmxlZnR9ZnVuY3Rpb24gUmEodCl7cmV0dXJuIFBhKFtdLERhKHQpKX1mdW5jdGlvbiBJYSh0LGUpe2NvbnN0IGk9ZSYmZS5kYXRhc2V0JiZlLmRhdGFzZXQudG9vbHRpcCYmZS5kYXRhc2V0LnRvb2x0aXAuY2FsbGJhY2tzO3JldHVybiBpP3Qub3ZlcnJpZGUoaSk6dH1jb25zdCB6YT17YmVmb3JlVGl0bGU6ZSx0aXRsZSh0KXtpZih0Lmxlbmd0aD4wKXtjb25zdCBlPXRbMF0saT1lLmNoYXJ0LmRhdGEubGFiZWxzLHM9aT9pLmxlbmd0aDowO2lmKHRoaXMmJnRoaXMub3B0aW9ucyYmImRhdGFzZXQiPT09dGhpcy5vcHRpb25zLm1vZGUpcmV0dXJuIGUuZGF0YXNldC5sYWJlbHx8IiI7aWYoZS5sYWJlbClyZXR1cm4gZS5sYWJlbDtpZihzPjAmJmUuZGF0YUluZGV4PHMpcmV0dXJuIGlbZS5kYXRhSW5kZXhdfXJldHVybiIifSxhZnRlclRpdGxlOmUsYmVmb3JlQm9keTplLGJlZm9yZUxhYmVsOmUsbGFiZWwodCl7aWYodGhpcyYmdGhpcy5vcHRpb25zJiYiZGF0YXNldCI9PT10aGlzLm9wdGlvbnMubW9kZSlyZXR1cm4gdC5sYWJlbCsiOiAiK3QuZm9ybWF0dGVkVmFsdWV8fHQuZm9ybWF0dGVkVmFsdWU7bGV0IGU9dC5kYXRhc2V0LmxhYmVsfHwiIjtlJiYoZSs9IjogIik7Y29uc3QgaT10LmZvcm1hdHRlZFZhbHVlO3JldHVybiBzKGkpfHwoZSs9aSksZX0sbGFiZWxDb2xvcih0KXtjb25zdCBlPXQuY2hhcnQuZ2V0RGF0YXNldE1ldGEodC5kYXRhc2V0SW5kZXgpLmNvbnRyb2xsZXIuZ2V0U3R5bGUodC5kYXRhSW5kZXgpO3JldHVybntib3JkZXJDb2xvcjplLmJvcmRlckNvbG9yLGJhY2tncm91bmRDb2xvcjplLmJhY2tncm91bmRDb2xvcixib3JkZXJXaWR0aDplLmJvcmRlcldpZHRoLGJvcmRlckRhc2g6ZS5ib3JkZXJEYXNoLGJvcmRlckRhc2hPZmZzZXQ6ZS5ib3JkZXJEYXNoT2Zmc2V0LGJvcmRlclJhZGl1czowfX0sbGFiZWxUZXh0Q29sb3IoKXtyZXR1cm4gdGhpcy5vcHRpb25zLmJvZHlDb2xvcn0sbGFiZWxQb2ludFN0eWxlKHQpe2NvbnN0IGU9dC5jaGFydC5nZXREYXRhc2V0TWV0YSh0LmRhdGFzZXRJbmRleCkuY29udHJvbGxlci5nZXRTdHlsZSh0LmRhdGFJbmRleCk7cmV0dXJue3BvaW50U3R5bGU6ZS5wb2ludFN0eWxlLHJvdGF0aW9uOmUucm90YXRpb259fSxhZnRlckxhYmVsOmUsYWZ0ZXJCb2R5OmUsYmVmb3JlRm9vdGVyOmUsZm9vdGVyOmUsYWZ0ZXJGb290ZXI6ZX07ZnVuY3Rpb24gRmEodCxlLGkscyl7Y29uc3Qgbj10W2VdLmNhbGwoaSxzKTtyZXR1cm4gdm9pZCAwPT09bj96YVtlXS5jYWxsKGkscyk6bn1jbGFzcyBWYSBleHRlbmRzIEhze3N0YXRpYyBwb3NpdGlvbmVycz1TYTtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3BhY2l0eT0wLHRoaXMuX2FjdGl2ZT1bXSx0aGlzLl9ldmVudFBvc2l0aW9uPXZvaWQgMCx0aGlzLl9zaXplPXZvaWQgMCx0aGlzLl9jYWNoZWRBbmltYXRpb25zPXZvaWQgMCx0aGlzLl90b29sdGlwSXRlbXM9W10sdGhpcy4kYW5pbWF0aW9ucz12b2lkIDAsdGhpcy4kY29udGV4dD12b2lkIDAsdGhpcy5jaGFydD10LmNoYXJ0LHRoaXMub3B0aW9ucz10Lm9wdGlvbnMsdGhpcy5kYXRhUG9pbnRzPXZvaWQgMCx0aGlzLnRpdGxlPXZvaWQgMCx0aGlzLmJlZm9yZUJvZHk9dm9pZCAwLHRoaXMuYm9keT12b2lkIDAsdGhpcy5hZnRlckJvZHk9dm9pZCAwLHRoaXMuZm9vdGVyPXZvaWQgMCx0aGlzLnhBbGlnbj12b2lkIDAsdGhpcy55QWxpZ249dm9pZCAwLHRoaXMueD12b2lkIDAsdGhpcy55PXZvaWQgMCx0aGlzLmhlaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5jYXJldFg9dm9pZCAwLHRoaXMuY2FyZXRZPXZvaWQgMCx0aGlzLmxhYmVsQ29sb3JzPXZvaWQgMCx0aGlzLmxhYmVsUG9pbnRTdHlsZXM9dm9pZCAwLHRoaXMubGFiZWxUZXh0Q29sb3JzPXZvaWQgMH1pbml0aWFsaXplKHQpe3RoaXMub3B0aW9ucz10LHRoaXMuX2NhY2hlZEFuaW1hdGlvbnM9dm9pZCAwLHRoaXMuJGNvbnRleHQ9dm9pZCAwfV9yZXNvbHZlQW5pbWF0aW9ucygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkQW5pbWF0aW9ucztpZih0KXJldHVybiB0O2NvbnN0IGU9dGhpcy5jaGFydCxpPXRoaXMub3B0aW9ucy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKSxzPWkuZW5hYmxlZCYmZS5vcHRpb25zLmFuaW1hdGlvbiYmaS5hbmltYXRpb25zLG49bmV3IE9zKHRoaXMuY2hhcnQscyk7cmV0dXJuIHMuX2NhY2hlYWJsZSYmKHRoaXMuX2NhY2hlZEFuaW1hdGlvbnM9T2JqZWN0LmZyZWV6ZShuKSksbn1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuJGNvbnRleHR8fCh0aGlzLiRjb250ZXh0PSh0PXRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLGU9dGhpcyxpPXRoaXMuX3Rvb2x0aXBJdGVtcyxDaSh0LHt0b29sdGlwOmUsdG9vbHRpcEl0ZW1zOmksdHlwZToidG9vbHRpcCJ9KSkpO3ZhciB0LGUsaX1nZXRUaXRsZSh0LGUpe2NvbnN0e2NhbGxiYWNrczppfT1lLHM9RmEoaSwiYmVmb3JlVGl0bGUiLHRoaXMsdCksbj1GYShpLCJ0aXRsZSIsdGhpcyx0KSxvPUZhKGksImFmdGVyVGl0bGUiLHRoaXMsdCk7bGV0IGE9W107cmV0dXJuIGE9UGEoYSxEYShzKSksYT1QYShhLERhKG4pKSxhPVBhKGEsRGEobykpLGF9Z2V0QmVmb3JlQm9keSh0LGUpe3JldHVybiBSYShGYShlLmNhbGxiYWNrcywiYmVmb3JlQm9keSIsdGhpcyx0KSl9Z2V0Qm9keSh0LGUpe2NvbnN0e2NhbGxiYWNrczppfT1lLHM9W107cmV0dXJuIHUodCwodD0+e2NvbnN0IGU9e2JlZm9yZTpbXSxsaW5lczpbXSxhZnRlcjpbXX0sbj1JYShpLHQpO1BhKGUuYmVmb3JlLERhKEZhKG4sImJlZm9yZUxhYmVsIix0aGlzLHQpKSksUGEoZS5saW5lcyxGYShuLCJsYWJlbCIsdGhpcyx0KSksUGEoZS5hZnRlcixEYShGYShuLCJhZnRlckxhYmVsIix0aGlzLHQpKSkscy5wdXNoKGUpfSkpLHN9Z2V0QWZ0ZXJCb2R5KHQsZSl7cmV0dXJuIFJhKEZhKGUuY2FsbGJhY2tzLCJhZnRlckJvZHkiLHRoaXMsdCkpfWdldEZvb3Rlcih0LGUpe2NvbnN0e2NhbGxiYWNrczppfT1lLHM9RmEoaSwiYmVmb3JlRm9vdGVyIix0aGlzLHQpLG49RmEoaSwiZm9vdGVyIix0aGlzLHQpLG89RmEoaSwiYWZ0ZXJGb290ZXIiLHRoaXMsdCk7bGV0IGE9W107cmV0dXJuIGE9UGEoYSxEYShzKSksYT1QYShhLERhKG4pKSxhPVBhKGEsRGEobykpLGF9X2NyZWF0ZUl0ZW1zKHQpe2NvbnN0IGU9dGhpcy5fYWN0aXZlLGk9dGhpcy5jaGFydC5kYXRhLHM9W10sbj1bXSxvPVtdO2xldCBhLHIsbD1bXTtmb3IoYT0wLHI9ZS5sZW5ndGg7YTxyOysrYSlsLnB1c2goQ2EodGhpcy5jaGFydCxlW2FdKSk7cmV0dXJuIHQuZmlsdGVyJiYobD1sLmZpbHRlcigoKGUscyxuKT0+dC5maWx0ZXIoZSxzLG4saSkpKSksdC5pdGVtU29ydCYmKGw9bC5zb3J0KCgoZSxzKT0+dC5pdGVtU29ydChlLHMsaSkpKSksdShsLChlPT57Y29uc3QgaT1JYSh0LmNhbGxiYWNrcyxlKTtzLnB1c2goRmEoaSwibGFiZWxDb2xvciIsdGhpcyxlKSksbi5wdXNoKEZhKGksImxhYmVsUG9pbnRTdHlsZSIsdGhpcyxlKSksby5wdXNoKEZhKGksImxhYmVsVGV4dENvbG9yIix0aGlzLGUpKX0pKSx0aGlzLmxhYmVsQ29sb3JzPXMsdGhpcy5sYWJlbFBvaW50U3R5bGVzPW4sdGhpcy5sYWJlbFRleHRDb2xvcnM9byx0aGlzLmRhdGFQb2ludHM9bCxsfXVwZGF0ZSh0LGUpe2NvbnN0IGk9dGhpcy5vcHRpb25zLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpLHM9dGhpcy5fYWN0aXZlO2xldCBuLG89W107aWYocy5sZW5ndGgpe2NvbnN0IHQ9U2FbaS5wb3NpdGlvbl0uY2FsbCh0aGlzLHMsdGhpcy5fZXZlbnRQb3NpdGlvbik7bz10aGlzLl9jcmVhdGVJdGVtcyhpKSx0aGlzLnRpdGxlPXRoaXMuZ2V0VGl0bGUobyxpKSx0aGlzLmJlZm9yZUJvZHk9dGhpcy5nZXRCZWZvcmVCb2R5KG8saSksdGhpcy5ib2R5PXRoaXMuZ2V0Qm9keShvLGkpLHRoaXMuYWZ0ZXJCb2R5PXRoaXMuZ2V0QWZ0ZXJCb2R5KG8saSksdGhpcy5mb290ZXI9dGhpcy5nZXRGb290ZXIobyxpKTtjb25zdCBlPXRoaXMuX3NpemU9T2EodGhpcyxpKSxhPU9iamVjdC5hc3NpZ24oe30sdCxlKSxyPVRhKHRoaXMuY2hhcnQsaSxhKSxsPUxhKGksYSxyLHRoaXMuY2hhcnQpO3RoaXMueEFsaWduPXIueEFsaWduLHRoaXMueUFsaWduPXIueUFsaWduLG49e29wYWNpdHk6MSx4OmwueCx5OmwueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxjYXJldFg6dC54LGNhcmV0WTp0Lnl9fWVsc2UgMCE9PXRoaXMub3BhY2l0eSYmKG49e29wYWNpdHk6MH0pO3RoaXMuX3Rvb2x0aXBJdGVtcz1vLHRoaXMuJGNvbnRleHQ9dm9pZCAwLG4mJnRoaXMuX3Jlc29sdmVBbmltYXRpb25zKCkudXBkYXRlKHRoaXMsbiksdCYmaS5leHRlcm5hbCYmaS5leHRlcm5hbC5jYWxsKHRoaXMse2NoYXJ0OnRoaXMuY2hhcnQsdG9vbHRpcDp0aGlzLHJlcGxheTplfSl9ZHJhd0NhcmV0KHQsZSxpLHMpe2NvbnN0IG49dGhpcy5nZXRDYXJldFBvc2l0aW9uKHQsaSxzKTtlLmxpbmVUbyhuLngxLG4ueTEpLGUubGluZVRvKG4ueDIsbi55MiksZS5saW5lVG8obi54MyxuLnkzKX1nZXRDYXJldFBvc2l0aW9uKHQsZSxpKXtjb25zdHt4QWxpZ246cyx5QWxpZ246bn09dGhpcyx7Y2FyZXRTaXplOm8sY29ybmVyUmFkaXVzOmF9PWkse3RvcExlZnQ6cix0b3BSaWdodDpsLGJvdHRvbUxlZnQ6aCxib3R0b21SaWdodDpjfT13aShhKSx7eDpkLHk6dX09dCx7d2lkdGg6ZixoZWlnaHQ6Z309ZTtsZXQgcCxtLGIseCxfLHk7cmV0dXJuImNlbnRlciI9PT1uPyhfPXUrZy8yLCJsZWZ0Ij09PXM/KHA9ZCxtPXAtbyx4PV8rbyx5PV8tbyk6KHA9ZCtmLG09cCtvLHg9Xy1vLHk9XytvKSxiPXApOihtPSJsZWZ0Ij09PXM/ZCtNYXRoLm1heChyLGgpK286InJpZ2h0Ij09PXM/ZCtmLU1hdGgubWF4KGwsYyktbzp0aGlzLmNhcmV0WCwidG9wIj09PW4/KHg9dSxfPXgtbyxwPW0tbyxiPW0rbyk6KHg9dStnLF89eCtvLHA9bStvLGI9bS1vKSx5PXgpLHt4MTpwLHgyOm0seDM6Yix5MTp4LHkyOl8seTM6eX19ZHJhd1RpdGxlKHQsZSxpKXtjb25zdCBzPXRoaXMudGl0bGUsbj1zLmxlbmd0aDtsZXQgbyxhLHI7aWYobil7Y29uc3QgbD1PaShpLnJ0bCx0aGlzLngsdGhpcy53aWR0aCk7Zm9yKHQueD1FYSh0aGlzLGkudGl0bGVBbGlnbixpKSxlLnRleHRBbGlnbj1sLnRleHRBbGlnbihpLnRpdGxlQWxpZ24pLGUudGV4dEJhc2VsaW5lPSJtaWRkbGUiLG89U2koaS50aXRsZUZvbnQpLGE9aS50aXRsZVNwYWNpbmcsZS5maWxsU3R5bGU9aS50aXRsZUNvbG9yLGUuZm9udD1vLnN0cmluZyxyPTA7cjxuOysrcillLmZpbGxUZXh0KHNbcl0sbC54KHQueCksdC55K28ubGluZUhlaWdodC8yKSx0LnkrPW8ubGluZUhlaWdodCthLHIrMT09PW4mJih0LnkrPWkudGl0bGVNYXJnaW5Cb3R0b20tYSl9fV9kcmF3Q29sb3JCb3godCxlLGkscyxuKXtjb25zdCBhPXRoaXMubGFiZWxDb2xvcnNbaV0scj10aGlzLmxhYmVsUG9pbnRTdHlsZXNbaV0se2JveEhlaWdodDpsLGJveFdpZHRoOmh9PW4sYz1TaShuLmJvZHlGb250KSxkPUVhKHRoaXMsImxlZnQiLG4pLHU9cy54KGQpLGY9bDxjLmxpbmVIZWlnaHQ/KGMubGluZUhlaWdodC1sKS8yOjAsZz1lLnkrZjtpZihuLnVzZVBvaW50U3R5bGUpe2NvbnN0IGU9e3JhZGl1czpNYXRoLm1pbihoLGwpLzIscG9pbnRTdHlsZTpyLnBvaW50U3R5bGUscm90YXRpb246ci5yb3RhdGlvbixib3JkZXJXaWR0aDoxfSxpPXMubGVmdEZvckx0cih1LGgpK2gvMixvPWcrbC8yO3Quc3Ryb2tlU3R5bGU9bi5tdWx0aUtleUJhY2tncm91bmQsdC5maWxsU3R5bGU9bi5tdWx0aUtleUJhY2tncm91bmQsTGUodCxlLGksbyksdC5zdHJva2VTdHlsZT1hLmJvcmRlckNvbG9yLHQuZmlsbFN0eWxlPWEuYmFja2dyb3VuZENvbG9yLExlKHQsZSxpLG8pfWVsc2V7dC5saW5lV2lkdGg9byhhLmJvcmRlcldpZHRoKT9NYXRoLm1heCguLi5PYmplY3QudmFsdWVzKGEuYm9yZGVyV2lkdGgpKTphLmJvcmRlcldpZHRofHwxLHQuc3Ryb2tlU3R5bGU9YS5ib3JkZXJDb2xvcix0LnNldExpbmVEYXNoKGEuYm9yZGVyRGFzaHx8W10pLHQubGluZURhc2hPZmZzZXQ9YS5ib3JkZXJEYXNoT2Zmc2V0fHwwO2NvbnN0IGU9cy5sZWZ0Rm9yTHRyKHUsaCksaT1zLmxlZnRGb3JMdHIocy54UGx1cyh1LDEpLGgtMikscj13aShhLmJvcmRlclJhZGl1cyk7T2JqZWN0LnZhbHVlcyhyKS5zb21lKCh0PT4wIT09dCkpPyh0LmJlZ2luUGF0aCgpLHQuZmlsbFN0eWxlPW4ubXVsdGlLZXlCYWNrZ3JvdW5kLEhlKHQse3g6ZSx5OmcsdzpoLGg6bCxyYWRpdXM6cn0pLHQuZmlsbCgpLHQuc3Ryb2tlKCksdC5maWxsU3R5bGU9YS5iYWNrZ3JvdW5kQ29sb3IsdC5iZWdpblBhdGgoKSxIZSh0LHt4OmkseTpnKzEsdzpoLTIsaDpsLTIscmFkaXVzOnJ9KSx0LmZpbGwoKSk6KHQuZmlsbFN0eWxlPW4ubXVsdGlLZXlCYWNrZ3JvdW5kLHQuZmlsbFJlY3QoZSxnLGgsbCksdC5zdHJva2VSZWN0KGUsZyxoLGwpLHQuZmlsbFN0eWxlPWEuYmFja2dyb3VuZENvbG9yLHQuZmlsbFJlY3QoaSxnKzEsaC0yLGwtMikpfXQuZmlsbFN0eWxlPXRoaXMubGFiZWxUZXh0Q29sb3JzW2ldfWRyYXdCb2R5KHQsZSxpKXtjb25zdHtib2R5OnN9PXRoaXMse2JvZHlTcGFjaW5nOm4sYm9keUFsaWduOm8sZGlzcGxheUNvbG9yczphLGJveEhlaWdodDpyLGJveFdpZHRoOmwsYm94UGFkZGluZzpofT1pLGM9U2koaS5ib2R5Rm9udCk7bGV0IGQ9Yy5saW5lSGVpZ2h0LGY9MDtjb25zdCBnPU9pKGkucnRsLHRoaXMueCx0aGlzLndpZHRoKSxwPWZ1bmN0aW9uKGkpe2UuZmlsbFRleHQoaSxnLngodC54K2YpLHQueStkLzIpLHQueSs9ZCtufSxtPWcudGV4dEFsaWduKG8pO2xldCBiLHgsXyx5LHYsTSx3O2ZvcihlLnRleHRBbGlnbj1vLGUudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGUuZm9udD1jLnN0cmluZyx0Lng9RWEodGhpcyxtLGkpLGUuZmlsbFN0eWxlPWkuYm9keUNvbG9yLHUodGhpcy5iZWZvcmVCb2R5LHApLGY9YSYmInJpZ2h0IiE9PW0/ImNlbnRlciI9PT1vP2wvMitoOmwrMitoOjAseT0wLE09cy5sZW5ndGg7eTxNOysreSl7Zm9yKGI9c1t5XSx4PXRoaXMubGFiZWxUZXh0Q29sb3JzW3ldLGUuZmlsbFN0eWxlPXgsdShiLmJlZm9yZSxwKSxfPWIubGluZXMsYSYmXy5sZW5ndGgmJih0aGlzLl9kcmF3Q29sb3JCb3goZSx0LHksZyxpKSxkPU1hdGgubWF4KGMubGluZUhlaWdodCxyKSksdj0wLHc9Xy5sZW5ndGg7djx3OysrdilwKF9bdl0pLGQ9Yy5saW5lSGVpZ2h0O3UoYi5hZnRlcixwKX1mPTAsZD1jLmxpbmVIZWlnaHQsdSh0aGlzLmFmdGVyQm9keSxwKSx0LnktPW59ZHJhd0Zvb3Rlcih0LGUsaSl7Y29uc3Qgcz10aGlzLmZvb3RlcixuPXMubGVuZ3RoO2xldCBvLGE7aWYobil7Y29uc3Qgcj1PaShpLnJ0bCx0aGlzLngsdGhpcy53aWR0aCk7Zm9yKHQueD1FYSh0aGlzLGkuZm9vdGVyQWxpZ24saSksdC55Kz1pLmZvb3Rlck1hcmdpblRvcCxlLnRleHRBbGlnbj1yLnRleHRBbGlnbihpLmZvb3RlckFsaWduKSxlLnRleHRCYXNlbGluZT0ibWlkZGxlIixvPVNpKGkuZm9vdGVyRm9udCksZS5maWxsU3R5bGU9aS5mb290ZXJDb2xvcixlLmZvbnQ9by5zdHJpbmcsYT0wO2E8bjsrK2EpZS5maWxsVGV4dChzW2FdLHIueCh0LngpLHQueStvLmxpbmVIZWlnaHQvMiksdC55Kz1vLmxpbmVIZWlnaHQraS5mb290ZXJTcGFjaW5nfX1kcmF3QmFja2dyb3VuZCh0LGUsaSxzKXtjb25zdHt4QWxpZ246bix5QWxpZ246b309dGhpcyx7eDphLHk6cn09dCx7d2lkdGg6bCxoZWlnaHQ6aH09aSx7dG9wTGVmdDpjLHRvcFJpZ2h0OmQsYm90dG9tTGVmdDp1LGJvdHRvbVJpZ2h0OmZ9PXdpKHMuY29ybmVyUmFkaXVzKTtlLmZpbGxTdHlsZT1zLmJhY2tncm91bmRDb2xvcixlLnN0cm9rZVN0eWxlPXMuYm9yZGVyQ29sb3IsZS5saW5lV2lkdGg9cy5ib3JkZXJXaWR0aCxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKGErYyxyKSwidG9wIj09PW8mJnRoaXMuZHJhd0NhcmV0KHQsZSxpLHMpLGUubGluZVRvKGErbC1kLHIpLGUucXVhZHJhdGljQ3VydmVUbyhhK2wscixhK2wscitkKSwiY2VudGVyIj09PW8mJiJyaWdodCI9PT1uJiZ0aGlzLmRyYXdDYXJldCh0LGUsaSxzKSxlLmxpbmVUbyhhK2wscitoLWYpLGUucXVhZHJhdGljQ3VydmVUbyhhK2wscitoLGErbC1mLHIraCksImJvdHRvbSI9PT1vJiZ0aGlzLmRyYXdDYXJldCh0LGUsaSxzKSxlLmxpbmVUbyhhK3UscitoKSxlLnF1YWRyYXRpY0N1cnZlVG8oYSxyK2gsYSxyK2gtdSksImNlbnRlciI9PT1vJiYibGVmdCI9PT1uJiZ0aGlzLmRyYXdDYXJldCh0LGUsaSxzKSxlLmxpbmVUbyhhLHIrYyksZS5xdWFkcmF0aWNDdXJ2ZVRvKGEscixhK2MsciksZS5jbG9zZVBhdGgoKSxlLmZpbGwoKSxzLmJvcmRlcldpZHRoPjAmJmUuc3Ryb2tlKCl9X3VwZGF0ZUFuaW1hdGlvblRhcmdldCh0KXtjb25zdCBlPXRoaXMuY2hhcnQsaT10aGlzLiRhbmltYXRpb25zLHM9aSYmaS54LG49aSYmaS55O2lmKHN8fG4pe2NvbnN0IGk9U2FbdC5wb3NpdGlvbl0uY2FsbCh0aGlzLHRoaXMuX2FjdGl2ZSx0aGlzLl9ldmVudFBvc2l0aW9uKTtpZighaSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zaXplPU9hKHRoaXMsdCksYT1PYmplY3QuYXNzaWduKHt9LGksdGhpcy5fc2l6ZSkscj1UYShlLHQsYSksbD1MYSh0LGEscixlKTtzLl90bz09PWwueCYmbi5fdG89PT1sLnl8fCh0aGlzLnhBbGlnbj1yLnhBbGlnbix0aGlzLnlBbGlnbj1yLnlBbGlnbix0aGlzLndpZHRoPW8ud2lkdGgsdGhpcy5oZWlnaHQ9by5oZWlnaHQsdGhpcy5jYXJldFg9aS54LHRoaXMuY2FyZXRZPWkueSx0aGlzLl9yZXNvbHZlQW5pbWF0aW9ucygpLnVwZGF0ZSh0aGlzLGwpKX19X3dpbGxSZW5kZXIoKXtyZXR1cm4hIXRoaXMub3BhY2l0eX1kcmF3KHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO2xldCBpPXRoaXMub3BhY2l0eTtpZighaSlyZXR1cm47dGhpcy5fdXBkYXRlQW5pbWF0aW9uVGFyZ2V0KGUpO2NvbnN0IHM9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuPXt4OnRoaXMueCx5OnRoaXMueX07aT1NYXRoLmFicyhpKTwuMDAxPzA6aTtjb25zdCBvPWtpKGUucGFkZGluZyksYT10aGlzLnRpdGxlLmxlbmd0aHx8dGhpcy5iZWZvcmVCb2R5Lmxlbmd0aHx8dGhpcy5ib2R5Lmxlbmd0aHx8dGhpcy5hZnRlckJvZHkubGVuZ3RofHx0aGlzLmZvb3Rlci5sZW5ndGg7ZS5lbmFibGVkJiZhJiYodC5zYXZlKCksdC5nbG9iYWxBbHBoYT1pLHRoaXMuZHJhd0JhY2tncm91bmQobix0LHMsZSksQWkodCxlLnRleHREaXJlY3Rpb24pLG4ueSs9by50b3AsdGhpcy5kcmF3VGl0bGUobix0LGUpLHRoaXMuZHJhd0JvZHkobix0LGUpLHRoaXMuZHJhd0Zvb3RlcihuLHQsZSksVGkodCxlLnRleHREaXJlY3Rpb24pLHQucmVzdG9yZSgpKX1nZXRBY3RpdmVFbGVtZW50cygpe3JldHVybiB0aGlzLl9hY3RpdmV8fFtdfXNldEFjdGl2ZUVsZW1lbnRzKHQsZSl7Y29uc3QgaT10aGlzLl9hY3RpdmUscz10Lm1hcCgoKHtkYXRhc2V0SW5kZXg6dCxpbmRleDplfSk9Pntjb25zdCBpPXRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEodCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBhIGRhdGFzZXQgYXQgaW5kZXggIit0KTtyZXR1cm57ZGF0YXNldEluZGV4OnQsZWxlbWVudDppLmRhdGFbZV0saW5kZXg6ZX19KSksbj0hZihpLHMpLG89dGhpcy5fcG9zaXRpb25DaGFuZ2VkKHMsZSk7KG58fG8pJiYodGhpcy5fYWN0aXZlPXMsdGhpcy5fZXZlbnRQb3NpdGlvbj1lLHRoaXMuX2lnbm9yZVJlcGxheUV2ZW50cz0hMCx0aGlzLnVwZGF0ZSghMCkpfWhhbmRsZUV2ZW50KHQsZSxpPSEwKXtpZihlJiZ0aGlzLl9pZ25vcmVSZXBsYXlFdmVudHMpcmV0dXJuITE7dGhpcy5faWdub3JlUmVwbGF5RXZlbnRzPSExO2NvbnN0IHM9dGhpcy5vcHRpb25zLG49dGhpcy5fYWN0aXZlfHxbXSxvPXRoaXMuX2dldEFjdGl2ZUVsZW1lbnRzKHQsbixlLGkpLGE9dGhpcy5fcG9zaXRpb25DaGFuZ2VkKG8sdCkscj1lfHwhZihvLG4pfHxhO3JldHVybiByJiYodGhpcy5fYWN0aXZlPW8sKHMuZW5hYmxlZHx8cy5leHRlcm5hbCkmJih0aGlzLl9ldmVudFBvc2l0aW9uPXt4OnQueCx5OnQueX0sdGhpcy51cGRhdGUoITAsZSkpKSxyfV9nZXRBY3RpdmVFbGVtZW50cyh0LGUsaSxzKXtjb25zdCBuPXRoaXMub3B0aW9ucztpZigibW91c2VvdXQiPT09dC50eXBlKXJldHVybltdO2lmKCFzKXJldHVybiBlLmZpbHRlcigodD0+dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XSYmdm9pZCAwIT09dGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YSh0LmRhdGFzZXRJbmRleCkuY29udHJvbGxlci5nZXRQYXJzZWQodC5pbmRleCkpKTtjb25zdCBvPXRoaXMuY2hhcnQuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZSh0LG4ubW9kZSxuLGkpO3JldHVybiBuLnJldmVyc2UmJm8ucmV2ZXJzZSgpLG99X3Bvc2l0aW9uQ2hhbmdlZCh0LGUpe2NvbnN0e2NhcmV0WDppLGNhcmV0WTpzLG9wdGlvbnM6bn09dGhpcyxvPVNhW24ucG9zaXRpb25dLmNhbGwodGhpcyx0LGUpO3JldHVybiExIT09byYmKGkhPT1vLnh8fHMhPT1vLnkpfX12YXIgQmE9e2lkOiJ0b29sdGlwIixfZWxlbWVudDpWYSxwb3NpdGlvbmVyczpTYSxhZnRlckluaXQodCxlLGkpe2kmJih0LnRvb2x0aXA9bmV3IFZhKHtjaGFydDp0LG9wdGlvbnM6aX0pKX0sYmVmb3JlVXBkYXRlKHQsZSxpKXt0LnRvb2x0aXAmJnQudG9vbHRpcC5pbml0aWFsaXplKGkpfSxyZXNldCh0LGUsaSl7dC50b29sdGlwJiZ0LnRvb2x0aXAuaW5pdGlhbGl6ZShpKX0sYWZ0ZXJEcmF3KHQpe2NvbnN0IGU9dC50b29sdGlwO2lmKGUmJmUuX3dpbGxSZW5kZXIoKSl7Y29uc3QgaT17dG9vbHRpcDplfTtpZighMT09PXQubm90aWZ5UGx1Z2lucygiYmVmb3JlVG9vbHRpcERyYXciLHsuLi5pLGNhbmNlbGFibGU6ITB9KSlyZXR1cm47ZS5kcmF3KHQuY3R4KSx0Lm5vdGlmeVBsdWdpbnMoImFmdGVyVG9vbHRpcERyYXciLGkpfX0sYWZ0ZXJFdmVudCh0LGUpe2lmKHQudG9vbHRpcCl7Y29uc3QgaT1lLnJlcGxheTt0LnRvb2x0aXAuaGFuZGxlRXZlbnQoZS5ldmVudCxpLGUuaW5DaGFydEFyZWEpJiYoZS5jaGFuZ2VkPSEwKX19LGRlZmF1bHRzOntlbmFibGVkOiEwLGV4dGVybmFsOm51bGwscG9zaXRpb246ImF2ZXJhZ2UiLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwLjgpIix0aXRsZUNvbG9yOiIjZmZmIix0aXRsZUZvbnQ6e3dlaWdodDoiYm9sZCJ9LHRpdGxlU3BhY2luZzoyLHRpdGxlTWFyZ2luQm90dG9tOjYsdGl0bGVBbGlnbjoibGVmdCIsYm9keUNvbG9yOiIjZmZmIixib2R5U3BhY2luZzoyLGJvZHlGb250Ont9LGJvZHlBbGlnbjoibGVmdCIsZm9vdGVyQ29sb3I6IiNmZmYiLGZvb3RlclNwYWNpbmc6Mixmb290ZXJNYXJnaW5Ub3A6Nixmb290ZXJGb250Ont3ZWlnaHQ6ImJvbGQifSxmb290ZXJBbGlnbjoibGVmdCIscGFkZGluZzo2LGNhcmV0UGFkZGluZzoyLGNhcmV0U2l6ZTo1LGNvcm5lclJhZGl1czo2LGJveEhlaWdodDoodCxlKT0+ZS5ib2R5Rm9udC5zaXplLGJveFdpZHRoOih0LGUpPT5lLmJvZHlGb250LnNpemUsbXVsdGlLZXlCYWNrZ3JvdW5kOiIjZmZmIixkaXNwbGF5Q29sb3JzOiEwLGJveFBhZGRpbmc6MCxib3JkZXJDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyV2lkdGg6MCxhbmltYXRpb246e2R1cmF0aW9uOjQwMCxlYXNpbmc6ImVhc2VPdXRRdWFydCJ9LGFuaW1hdGlvbnM6e251bWJlcnM6e3R5cGU6Im51bWJlciIscHJvcGVydGllczpbIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJjYXJldFgiLCJjYXJldFkiXX0sb3BhY2l0eTp7ZWFzaW5nOiJsaW5lYXIiLGR1cmF0aW9uOjIwMH19LGNhbGxiYWNrczp6YX0sZGVmYXVsdFJvdXRlczp7Ym9keUZvbnQ6ImZvbnQiLGZvb3RlckZvbnQ6ImZvbnQiLHRpdGxlRm9udDoiZm9udCJ9LGRlc2NyaXB0b3JzOntfc2NyaXB0YWJsZTp0PT4iZmlsdGVyIiE9PXQmJiJpdGVtU29ydCIhPT10JiYiZXh0ZXJuYWwiIT09dCxfaW5kZXhhYmxlOiExLGNhbGxiYWNrczp7X3NjcmlwdGFibGU6ITEsX2luZGV4YWJsZTohMX0sYW5pbWF0aW9uOntfZmFsbGJhY2s6ITF9LGFuaW1hdGlvbnM6e19mYWxsYmFjazoiYW5pbWF0aW9uIn19LGFkZGl0aW9uYWxPcHRpb25TY29wZXM6WyJpbnRlcmFjdGlvbiJdfTtyZXR1cm4gQW4ucmVnaXN0ZXIoWW4sam8sZm8sdCksQW4uaGVscGVycz17Li4uV2l9LEFuLl9hZGFwdGVycz1SbixBbi5BbmltYXRpb249Q3MsQW4uQW5pbWF0aW9ucz1PcyxBbi5hbmltYXRvcj14dCxBbi5jb250cm9sbGVycz1lbi5jb250cm9sbGVycy5pdGVtcyxBbi5EYXRhc2V0Q29udHJvbGxlcj1OcyxBbi5FbGVtZW50PUhzLEFuLmVsZW1lbnRzPWZvLEFuLkludGVyYWN0aW9uPVhpLEFuLmxheW91dHM9YXMsQW4ucGxhdGZvcm1zPVNzLEFuLlNjYWxlPUpzLEFuLlRpY2tzPWFlLE9iamVjdC5hc3NpZ24oQW4sWW4sam8sZm8sdCxTcyksQW4uQ2hhcnQ9QW4sInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuQ2hhcnQ9QW4pLEFufSkpOwovLyMgc291cmNlTWFwcGluZ1VSTD1jaGFydC51bWQuanMubWFwCg=="},{"meta":{"name":"chartjs-plugin-datalabels.min.js","url":"https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js","ts":1750836287894,"mimetype":"text/javascript"},"source":"LyohCiAqIGNoYXJ0anMtcGx1Z2luLWRhdGFsYWJlbHMgdjIuMi4wCiAqIGh0dHBzOi8vY2hhcnRqcy1wbHVnaW4tZGF0YWxhYmVscy5uZXRsaWZ5LmFwcAogKiAoYykgMjAxNy0yMDIyIGNoYXJ0anMtcGx1Z2luLWRhdGFsYWJlbHMgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoImNoYXJ0LmpzL2hlbHBlcnMiKSxyZXF1aXJlKCJjaGFydC5qcyIpKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImNoYXJ0LmpzL2hlbHBlcnMiLCJjaGFydC5qcyJdLGUpOih0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLkNoYXJ0RGF0YUxhYmVscz1lKHQuQ2hhcnQuaGVscGVycyx0LkNoYXJ0KX0odGhpcywoZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyl7aWYod2luZG93LmRldmljZVBpeGVsUmF0aW8pcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO3ZhciB0PXdpbmRvdy5zY3JlZW47aWYodClyZXR1cm4odC5kZXZpY2VYRFBJfHwxKS8odC5sb2dpY2FsWERQSXx8MSl9cmV0dXJuIDF9KCksYT1mdW5jdGlvbihlKXt2YXIgcixhPVtdO2ZvcihlPVtdLmNvbmNhdChlKTtlLmxlbmd0aDspInN0cmluZyI9PXR5cGVvZihyPWUucG9wKCkpP2EudW5zaGlmdC5hcHBseShhLHIuc3BsaXQoIlxuIikpOkFycmF5LmlzQXJyYXkocik/ZS5wdXNoLmFwcGx5KGUscik6dC5pc051bGxPclVuZGVmKGUpfHxhLnVuc2hpZnQoIiIrcik7cmV0dXJuIGF9LG89ZnVuY3Rpb24odCxlLHIpe3ZhciBhLG89W10uY29uY2F0KGUpLG49by5sZW5ndGgsaT10LmZvbnQsbD0wO2Zvcih0LmZvbnQ9ci5zdHJpbmcsYT0wO2E8bjsrK2EpbD1NYXRoLm1heCh0Lm1lYXN1cmVUZXh0KG9bYV0pLndpZHRoLGwpO3JldHVybiB0LmZvbnQ9aSx7aGVpZ2h0Om4qci5saW5lSGVpZ2h0LHdpZHRoOmx9fSxuPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gTWF0aC5tYXgodCxNYXRoLm1pbihlLHIpKX0saT1mdW5jdGlvbih0LGUpe3ZhciByLGEsbyxuLGk9dC5zbGljZSgpLGw9W107Zm9yKHI9MCxvPWUubGVuZ3RoO3I8bzsrK3Ipbj1lW3JdLC0xPT09KGE9aS5pbmRleE9mKG4pKT9sLnB1c2goW24sMV0pOmkuc3BsaWNlKGEsMSk7Zm9yKHI9MCxvPWkubGVuZ3RoO3I8bzsrK3IpbC5wdXNoKFtpW3JdLC0xXSk7cmV0dXJuIGx9O2Z1bmN0aW9uIGwodCxlKXt2YXIgcj1lLngsYT1lLnk7aWYobnVsbD09PXIpcmV0dXJue3g6MCx5Oi0xfTtpZihudWxsPT09YSlyZXR1cm57eDoxLHk6MH07dmFyIG89dC54LXIsbj10LnktYSxpPU1hdGguc3FydChvKm8rbipuKTtyZXR1cm57eDppP28vaTowLHk6aT9uL2k6LTF9fWZ1bmN0aW9uIHModCxlLHIpe3ZhciBhPTA7cmV0dXJuIHQ8ci5sZWZ0P2F8PTE6dD5yLnJpZ2h0JiYoYXw9MiksZTxyLnRvcD9hfD04OmU+ci5ib3R0b20mJihhfD00KSxhfWZ1bmN0aW9uIHUodCxlKXt2YXIgcixhLG89ZS5hbmNob3Isbj10O3JldHVybiBlLmNsYW1wJiYobj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcixhLG8sbj10LngwLGk9dC55MCxsPXQueDEsdT10LnkxLGQ9cyhuLGksZSksYz1zKGwsdSxlKTtkfGMmJiEoZCZjKTspOCYocj1kfHxjKT8oYT1uKyhsLW4pKihlLnRvcC1pKS8odS1pKSxvPWUudG9wKTo0JnI/KGE9bisobC1uKSooZS5ib3R0b20taSkvKHUtaSksbz1lLmJvdHRvbSk6MiZyPyhvPWkrKHUtaSkqKGUucmlnaHQtbikvKGwtbiksYT1lLnJpZ2h0KToxJnImJihvPWkrKHUtaSkqKGUubGVmdC1uKS8obC1uKSxhPWUubGVmdCkscj09PWQ/ZD1zKG49YSxpPW8sZSk6Yz1zKGw9YSx1PW8sZSk7cmV0dXJue3gwOm4seDE6bCx5MDppLHkxOnV9fShuLGUuYXJlYSkpLCJzdGFydCI9PT1vPyhyPW4ueDAsYT1uLnkwKToiZW5kIj09PW8/KHI9bi54MSxhPW4ueTEpOihyPShuLngwK24ueDEpLzIsYT0obi55MCtuLnkxKS8yKSxmdW5jdGlvbih0LGUscixhLG8pe3N3aXRjaChvKXtjYXNlImNlbnRlciI6cj1hPTA7YnJlYWs7Y2FzZSJib3R0b20iOnI9MCxhPTE7YnJlYWs7Y2FzZSJyaWdodCI6cj0xLGE9MDticmVhaztjYXNlImxlZnQiOnI9LTEsYT0wO2JyZWFrO2Nhc2UidG9wIjpyPTAsYT0tMTticmVhaztjYXNlInN0YXJ0IjpyPS1yLGE9LWE7YnJlYWs7Y2FzZSJlbmQiOmJyZWFrO2RlZmF1bHQ6byo9TWF0aC5QSS8xODAscj1NYXRoLmNvcyhvKSxhPU1hdGguc2luKG8pfXJldHVybnt4OnQseTplLHZ4OnIsdnk6YX19KHIsYSx0LnZ4LHQudnksZS5hbGlnbil9dmFyIGQ9ZnVuY3Rpb24odCxlKXt2YXIgcj0odC5zdGFydEFuZ2xlK3QuZW5kQW5nbGUpLzIsYT1NYXRoLmNvcyhyKSxvPU1hdGguc2luKHIpLG49dC5pbm5lclJhZGl1cyxpPXQub3V0ZXJSYWRpdXM7cmV0dXJuIHUoe3gwOnQueCthKm4seTA6dC55K28qbix4MTp0LngrYSppLHkxOnQueStvKmksdng6YSx2eTpvfSxlKX0sYz1mdW5jdGlvbih0LGUpe3ZhciByPWwodCxlLm9yaWdpbiksYT1yLngqdC5vcHRpb25zLnJhZGl1cyxvPXIueSp0Lm9wdGlvbnMucmFkaXVzO3JldHVybiB1KHt4MDp0LngtYSx5MDp0Lnktbyx4MTp0LngrYSx5MTp0Lnkrbyx2eDpyLngsdnk6ci55fSxlKX0saD1mdW5jdGlvbih0LGUpe3ZhciByPWwodCxlLm9yaWdpbiksYT10Lngsbz10Lnksbj0wLGk9MDtyZXR1cm4gdC5ob3Jpem9udGFsPyhhPU1hdGgubWluKHQueCx0LmJhc2UpLG49TWF0aC5hYnModC5iYXNlLXQueCkpOihvPU1hdGgubWluKHQueSx0LmJhc2UpLGk9TWF0aC5hYnModC5iYXNlLXQueSkpLHUoe3gwOmEseTA6bytpLHgxOmErbix5MTpvLHZ4OnIueCx2eTpyLnl9LGUpfSxmPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bCh0LGUub3JpZ2luKTtyZXR1cm4gdSh7eDA6dC54LHkwOnQueSx4MTp0LngrKHQud2lkdGh8fDApLHkxOnQueSsodC5oZWlnaHR8fDApLHZ4OnIueCx2eTpyLnl9LGUpfSx4PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQqcikvcn07ZnVuY3Rpb24geSh0LGUpe3ZhciByPWUuY2hhcnQuZ2V0RGF0YXNldE1ldGEoZS5kYXRhc2V0SW5kZXgpLnZTY2FsZTtpZighcilyZXR1cm4gbnVsbDtpZih2b2lkIDAhPT1yLnhDZW50ZXImJnZvaWQgMCE9PXIueUNlbnRlcilyZXR1cm57eDpyLnhDZW50ZXIseTpyLnlDZW50ZXJ9O3ZhciBhPXIuZ2V0QmFzZVBpeGVsKCk7cmV0dXJuIHQuaG9yaXpvbnRhbD97eDphLHk6bnVsbH06e3g6bnVsbCx5OmF9fWZ1bmN0aW9uIHYodCxlLHIpe3ZhciBhPXIuYmFja2dyb3VuZENvbG9yLG89ci5ib3JkZXJDb2xvcixuPXIuYm9yZGVyV2lkdGg7KGF8fG8mJm4pJiYodC5iZWdpblBhdGgoKSxmdW5jdGlvbih0LGUscixhLG8sbil7dmFyIGk9TWF0aC5QSS8yO2lmKG4pe3ZhciBsPU1hdGgubWluKG4sby8yLGEvMikscz1lK2wsdT1yK2wsZD1lK2EtbCxjPXIrby1sO3QubW92ZVRvKGUsdSksczxkJiZ1PGM/KHQuYXJjKHMsdSxsLC1NYXRoLlBJLC1pKSx0LmFyYyhkLHUsbCwtaSwwKSx0LmFyYyhkLGMsbCwwLGkpLHQuYXJjKHMsYyxsLGksTWF0aC5QSSkpOnM8ZD8odC5tb3ZlVG8ocyxyKSx0LmFyYyhkLHUsbCwtaSxpKSx0LmFyYyhzLHUsbCxpLE1hdGguUEkraSkpOnU8Yz8odC5hcmMocyx1LGwsLU1hdGguUEksMCksdC5hcmMocyxjLGwsMCxNYXRoLlBJKSk6dC5hcmMocyx1LGwsLU1hdGguUEksTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0Lm1vdmVUbyhlLHIpfWVsc2UgdC5yZWN0KGUscixhLG8pfSh0LHgoZS54KStuLzIseChlLnkpK24vMix4KGUudyktbix4KGUuaCktbixyLmJvcmRlclJhZGl1cyksdC5jbG9zZVBhdGgoKSxhJiYodC5maWxsU3R5bGU9YSx0LmZpbGwoKSksbyYmbiYmKHQuc3Ryb2tlU3R5bGU9byx0LmxpbmVXaWR0aD1uLHQubGluZUpvaW49Im1pdGVyIix0LnN0cm9rZSgpKSl9ZnVuY3Rpb24gYih0LGUscil7dmFyIGE9dC5zaGFkb3dCbHVyLG89ci5zdHJva2VkLG49eChyLngpLGk9eChyLnkpLGw9eChyLncpO28mJnQuc3Ryb2tlVGV4dChlLG4saSxsKSxyLmZpbGxlZCYmKGEmJm8mJih0LnNoYWRvd0JsdXI9MCksdC5maWxsVGV4dChlLG4saSxsKSxhJiZvJiYodC5zaGFkb3dCbHVyPWEpKX12YXIgXz1mdW5jdGlvbih0LGUscixhKXt2YXIgbz10aGlzO28uX2NvbmZpZz10LG8uX2luZGV4PWEsby5fbW9kZWw9bnVsbCxvLl9yZWN0cz1udWxsLG8uX2N0eD1lLG8uX2VsPXJ9O3QubWVyZ2UoXy5wcm90b3R5cGUse19tb2RlbGl6ZTpmdW5jdGlvbihyLGEsbixpKXt2YXIgbCxzPXRoaXMsdT1zLl9pbmRleCx4PXQudG9Gb250KHQucmVzb2x2ZShbbi5mb250LHt9XSxpLHUpKSx2PXQucmVzb2x2ZShbbi5jb2xvcixlLmRlZmF1bHRzLmNvbG9yXSxpLHUpO3JldHVybnthbGlnbjp0LnJlc29sdmUoW24uYWxpZ24sImNlbnRlciJdLGksdSksYW5jaG9yOnQucmVzb2x2ZShbbi5hbmNob3IsImNlbnRlciJdLGksdSksYXJlYTppLmNoYXJ0LmNoYXJ0QXJlYSxiYWNrZ3JvdW5kQ29sb3I6dC5yZXNvbHZlKFtuLmJhY2tncm91bmRDb2xvcixudWxsXSxpLHUpLGJvcmRlckNvbG9yOnQucmVzb2x2ZShbbi5ib3JkZXJDb2xvcixudWxsXSxpLHUpLGJvcmRlclJhZGl1czp0LnJlc29sdmUoW24uYm9yZGVyUmFkaXVzLDBdLGksdSksYm9yZGVyV2lkdGg6dC5yZXNvbHZlKFtuLmJvcmRlcldpZHRoLDBdLGksdSksY2xhbXA6dC5yZXNvbHZlKFtuLmNsYW1wLCExXSxpLHUpLGNsaXA6dC5yZXNvbHZlKFtuLmNsaXAsITFdLGksdSksY29sb3I6dixkaXNwbGF5OnIsZm9udDp4LGxpbmVzOmEsb2Zmc2V0OnQucmVzb2x2ZShbbi5vZmZzZXQsNF0saSx1KSxvcGFjaXR5OnQucmVzb2x2ZShbbi5vcGFjaXR5LDFdLGksdSksb3JpZ2luOnkocy5fZWwsaSkscGFkZGluZzp0LnRvUGFkZGluZyh0LnJlc29sdmUoW24ucGFkZGluZyw0XSxpLHUpKSxwb3NpdGlvbmVyOihsPXMuX2VsLGwgaW5zdGFuY2VvZiBlLkFyY0VsZW1lbnQ/ZDpsIGluc3RhbmNlb2YgZS5Qb2ludEVsZW1lbnQ/YzpsIGluc3RhbmNlb2YgZS5CYXJFbGVtZW50P2g6Zikscm90YXRpb246dC5yZXNvbHZlKFtuLnJvdGF0aW9uLDBdLGksdSkqKE1hdGguUEkvMTgwKSxzaXplOm8ocy5fY3R4LGEseCksdGV4dEFsaWduOnQucmVzb2x2ZShbbi50ZXh0QWxpZ24sInN0YXJ0Il0saSx1KSx0ZXh0U2hhZG93Qmx1cjp0LnJlc29sdmUoW24udGV4dFNoYWRvd0JsdXIsMF0saSx1KSx0ZXh0U2hhZG93Q29sb3I6dC5yZXNvbHZlKFtuLnRleHRTaGFkb3dDb2xvcix2XSxpLHUpLHRleHRTdHJva2VDb2xvcjp0LnJlc29sdmUoW24udGV4dFN0cm9rZUNvbG9yLHZdLGksdSksdGV4dFN0cm9rZVdpZHRoOnQucmVzb2x2ZShbbi50ZXh0U3Ryb2tlV2lkdGgsMF0saSx1KX19LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgcixvLG4saT10aGlzLGw9bnVsbCxzPW51bGwsdT1pLl9pbmRleCxkPWkuX2NvbmZpZyxjPXQucmVzb2x2ZShbZC5kaXNwbGF5LCEwXSxlLHUpO2MmJihyPWUuZGF0YXNldC5kYXRhW3VdLG89dC52YWx1ZU9yRGVmYXVsdCh0LmNhbGxiYWNrKGQuZm9ybWF0dGVyLFtyLGVdKSxyKSwobj10LmlzTnVsbE9yVW5kZWYobyk/W106YShvKSkubGVuZ3RoJiYocz1mdW5jdGlvbih0KXt2YXIgZT10LmJvcmRlcldpZHRofHwwLHI9dC5wYWRkaW5nLGE9dC5zaXplLmhlaWdodCxvPXQuc2l6ZS53aWR0aCxuPS1vLzIsaT0tYS8yO3JldHVybntmcmFtZTp7eDpuLXIubGVmdC1lLHk6aS1yLnRvcC1lLHc6bytyLndpZHRoKzIqZSxoOmErci5oZWlnaHQrMiplfSx0ZXh0Ont4Om4seTppLHc6byxoOmF9fX0obD1pLl9tb2RlbGl6ZShjLG4sZCxlKSkpKSxpLl9tb2RlbD1sLGkuX3JlY3RzPXN9LGdlb21ldHJ5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3RzP3RoaXMuX3JlY3RzLmZyYW1lOnt9fSxyb3RhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbD90aGlzLl9tb2RlbC5yb3RhdGlvbjowfSx2aXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsJiZ0aGlzLl9tb2RlbC5vcGFjaXR5fSxtb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sZHJhdzpmdW5jdGlvbih0LGUpe3ZhciByLGE9dC5jdHgsbz10aGlzLl9tb2RlbCxpPXRoaXMuX3JlY3RzO3RoaXMudmlzaWJsZSgpJiYoYS5zYXZlKCksby5jbGlwJiYocj1vLmFyZWEsYS5iZWdpblBhdGgoKSxhLnJlY3Qoci5sZWZ0LHIudG9wLHIucmlnaHQtci5sZWZ0LHIuYm90dG9tLXIudG9wKSxhLmNsaXAoKSksYS5nbG9iYWxBbHBoYT1uKDAsby5vcGFjaXR5LDEpLGEudHJhbnNsYXRlKHgoZS54KSx4KGUueSkpLGEucm90YXRlKG8ucm90YXRpb24pLHYoYSxpLmZyYW1lLG8pLGZ1bmN0aW9uKHQsZSxyLGEpe3ZhciBvLG49YS50ZXh0QWxpZ24saT1hLmNvbG9yLGw9ISFpLHM9YS5mb250LHU9ZS5sZW5ndGgsZD1hLnRleHRTdHJva2VDb2xvcixjPWEudGV4dFN0cm9rZVdpZHRoLGg9ZCYmYztpZih1JiYobHx8aCkpZm9yKHI9ZnVuY3Rpb24odCxlLHIpe3ZhciBhPXIubGluZUhlaWdodCxvPXQudyxuPXQueDtyZXR1cm4iY2VudGVyIj09PWU/bis9by8yOiJlbmQiIT09ZSYmInJpZ2h0IiE9PWV8fChuKz1vKSx7aDphLHc6byx4Om4seTp0LnkrYS8yfX0ocixuLHMpLHQuZm9udD1zLnN0cmluZyx0LnRleHRBbGlnbj1uLHQudGV4dEJhc2VsaW5lPSJtaWRkbGUiLHQuc2hhZG93Qmx1cj1hLnRleHRTaGFkb3dCbHVyLHQuc2hhZG93Q29sb3I9YS50ZXh0U2hhZG93Q29sb3IsbCYmKHQuZmlsbFN0eWxlPWkpLGgmJih0LmxpbmVKb2luPSJyb3VuZCIsdC5saW5lV2lkdGg9Yyx0LnN0cm9rZVN0eWxlPWQpLG89MCx1PWUubGVuZ3RoO288dTsrK28pYih0LGVbb10se3N0cm9rZWQ6aCxmaWxsZWQ6bCx3OnIudyx4OnIueCx5OnIueStyLmgqb30pfShhLG8ubGluZXMsaS50ZXh0LG8pLGEucmVzdG9yZSgpKX19KTt2YXIgcD1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUnx8LTkwMDcxOTkyNTQ3NDA5OTEsZz1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUnx8OTAwNzE5OTI1NDc0MDk5MTtmdW5jdGlvbiBtKHQsZSxyKXt2YXIgYT1NYXRoLmNvcyhyKSxvPU1hdGguc2luKHIpLG49ZS54LGk9ZS55O3JldHVybnt4Om4rYSoodC54LW4pLW8qKHQueS1pKSx5OmkrbyoodC54LW4pK2EqKHQueS1pKX19ZnVuY3Rpb24gdyh0LGUpe3ZhciByLGEsbyxuLGksbD1nLHM9cCx1PWUub3JpZ2luO2ZvcihyPTA7cjx0Lmxlbmd0aDsrK3Ipbz0oYT10W3JdKS54LXUueCxuPWEueS11LnksaT1lLnZ4Km8rZS52eSpuLGw9TWF0aC5taW4obCxpKSxzPU1hdGgubWF4KHMsaSk7cmV0dXJue21pbjpsLG1heDpzfX1mdW5jdGlvbiBNKHQsZSl7dmFyIHI9ZS54LXQueCxhPWUueS10Lnksbz1NYXRoLnNxcnQocipyK2EqYSk7cmV0dXJue3Z4OihlLngtdC54KS9vLHZ5OihlLnktdC55KS9vLG9yaWdpbjp0LGxuOm99fXZhciBrPWZ1bmN0aW9uKCl7dGhpcy5fcm90YXRpb249MCx0aGlzLl9yZWN0PXt4OjAseTowLHc6MCxoOjB9fTtmdW5jdGlvbiAkKHQsZSxyKXt2YXIgYT1lLnBvc2l0aW9uZXIodCxlKSxvPWEudngsbj1hLnZ5O2lmKCFvJiYhbilyZXR1cm57eDphLngseTphLnl9O3ZhciBpPXIudyxsPXIuaCxzPWUucm90YXRpb24sdT1NYXRoLmFicyhpLzIqTWF0aC5jb3MocykpK01hdGguYWJzKGwvMipNYXRoLnNpbihzKSksZD1NYXRoLmFicyhpLzIqTWF0aC5zaW4ocykpK01hdGguYWJzKGwvMipNYXRoLmNvcyhzKSksYz0xL01hdGgubWF4KE1hdGguYWJzKG8pLE1hdGguYWJzKG4pKTtyZXR1cm4gdSo9bypjLGQqPW4qYyx1Kz1lLm9mZnNldCpvLGQrPWUub2Zmc2V0Km4se3g6YS54K3UseTphLnkrZH19dC5tZXJnZShrLnByb3RvdHlwZSx7Y2VudGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdDtyZXR1cm57eDp0LngrdC53LzIseTp0LnkrdC5oLzJ9fSx1cGRhdGU6ZnVuY3Rpb24odCxlLHIpe3RoaXMuX3JvdGF0aW9uPXIsdGhpcy5fcmVjdD17eDplLngrdC54LHk6ZS55K3QueSx3OmUudyxoOmUuaH19LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1lLl9yZWN0O3JldHVybiEoKHQ9bSh0LGUuY2VudGVyKCksLWUuX3JvdGF0aW9uKSkueDxyLngtMXx8dC55PHIueS0xfHx0Lng+ci54K3IudysyfHx0Lnk+ci55K3IuaCsyKX0saW50ZXJzZWN0czpmdW5jdGlvbih0KXt2YXIgZSxyLGEsbz10aGlzLl9wb2ludHMoKSxuPXQuX3BvaW50cygpLGk9W00ob1swXSxvWzFdKSxNKG9bMF0sb1szXSldO2Zvcih0aGlzLl9yb3RhdGlvbiE9PXQuX3JvdGF0aW9uJiZpLnB1c2goTShuWzBdLG5bMV0pLE0oblswXSxuWzNdKSksZT0wO2U8aS5sZW5ndGg7KytlKWlmKHI9dyhvLGlbZV0pLGE9dyhuLGlbZV0pLHIubWF4PGEubWlufHxhLm1heDxyLm1pbilyZXR1cm4hMTtyZXR1cm4hMH0sX3BvaW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9yZWN0LHI9dC5fcm90YXRpb24sYT10LmNlbnRlcigpO3JldHVyblttKHt4OmUueCx5OmUueX0sYSxyKSxtKHt4OmUueCtlLncseTplLnl9LGEsciksbSh7eDplLngrZS53LHk6ZS55K2UuaH0sYSxyKSxtKHt4OmUueCx5OmUueStlLmh9LGEscildfX0pO3ZhciBDPXtwcmVwYXJlOmZ1bmN0aW9uKHQpe3ZhciBlLHIsYSxvLG4saT1bXTtmb3IoZT0wLGE9dC5sZW5ndGg7ZTxhOysrZSlmb3Iocj0wLG89dFtlXS5sZW5ndGg7cjxvOysrciluPXRbZV1bcl0saS5wdXNoKG4pLG4uJGxheW91dD17X2JveDpuZXcgayxfaGlkYWJsZTohMSxfdmlzaWJsZTohMCxfc2V0OmUsX2lkeDpuLl9pbmRleH07cmV0dXJuIGkuc29ydCgoZnVuY3Rpb24odCxlKXt2YXIgcj10LiRsYXlvdXQsYT1lLiRsYXlvdXQ7cmV0dXJuIHIuX2lkeD09PWEuX2lkeD9hLl9zZXQtci5fc2V0OmEuX2lkeC1yLl9pZHh9KSksdGhpcy51cGRhdGUoaSksaX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlLHIsYSxvLG4saT0hMTtmb3IoZT0wLHI9dC5sZW5ndGg7ZTxyOysrZSlvPShhPXRbZV0pLm1vZGVsKCksKG49YS4kbGF5b3V0KS5faGlkYWJsZT1vJiYiYXV0byI9PT1vLmRpc3BsYXksbi5fdmlzaWJsZT1hLnZpc2libGUoKSxpfD1uLl9oaWRhYmxlO2kmJmZ1bmN0aW9uKHQpe3ZhciBlLHIsYSxvLG4saSxsO2ZvcihlPTAscj10Lmxlbmd0aDtlPHI7KytlKShvPShhPXRbZV0pLiRsYXlvdXQpLl92aXNpYmxlJiYobD1uZXcgUHJveHkoYS5fZWwse2dldDoodCxlKT0+dC5nZXRQcm9wcyhbZV0sITApW2VdfSksbj1hLmdlb21ldHJ5KCksaT0kKGwsYS5tb2RlbCgpLG4pLG8uX2JveC51cGRhdGUoaSxuLGEucm90YXRpb24oKSkpOyhmdW5jdGlvbih0LGUpe3ZhciByLGEsbyxuO2ZvcihyPXQubGVuZ3RoLTE7cj49MDstLXIpZm9yKG89dFtyXS4kbGF5b3V0LGE9ci0xO2E+PTAmJm8uX3Zpc2libGU7LS1hKShuPXRbYV0uJGxheW91dCkuX3Zpc2libGUmJm8uX2JveC5pbnRlcnNlY3RzKG4uX2JveCkmJmUobyxuKX0pKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5faGlkYWJsZSxhPWUuX2hpZGFibGU7ciYmYXx8YT9lLl92aXNpYmxlPSExOnImJih0Ll92aXNpYmxlPSExKX0pKX0odCl9LGxvb2t1cDpmdW5jdGlvbih0LGUpe3ZhciByLGE7Zm9yKHI9dC5sZW5ndGgtMTtyPj0wOy0tcilpZigoYT10W3JdLiRsYXlvdXQpJiZhLl92aXNpYmxlJiZhLl9ib3guY29udGFpbnMoZSkpcmV0dXJuIHRbcl07cmV0dXJuIG51bGx9LGRyYXc6ZnVuY3Rpb24odCxlKXt2YXIgcixhLG8sbixpLGw7Zm9yKHI9MCxhPWUubGVuZ3RoO3I8YTsrK3IpKG49KG89ZVtyXSkuJGxheW91dCkuX3Zpc2libGUmJihpPW8uZ2VvbWV0cnkoKSxsPSQoby5fZWwsby5tb2RlbCgpLGkpLG4uX2JveC51cGRhdGUobCxpLG8ucm90YXRpb24oKSksby5kcmF3KHQsbCkpfX0sUD0iJGRlZmF1bHQiO2Z1bmN0aW9uIFMoZSxyLGEsbyl7aWYocil7dmFyIG4saT1hLiRjb250ZXh0LGw9YS4kZ3JvdXBzO3JbbC5fc2V0XSYmKG49cltsLl9zZXRdW2wuX2tleV0pJiYhMD09PXQuY2FsbGJhY2sobixbaSxvXSkmJihlLiRkYXRhbGFiZWxzLl9kaXJ0eT0hMCxhLnVwZGF0ZShpKSl9fWZ1bmN0aW9uIEkodCxlKXt2YXIgcixhLG89dC4kZGF0YWxhYmVscyxuPW8uX2xpc3RlbmVycztpZihuLmVudGVyfHxuLmxlYXZlKXtpZigibW91c2Vtb3ZlIj09PWUudHlwZSlhPUMubG9va3VwKG8uX2xhYmVscyxlKTtlbHNlIGlmKCJtb3VzZW91dCIhPT1lLnR5cGUpcmV0dXJuO3I9by5faG92ZXJlZCxvLl9ob3ZlcmVkPWEsZnVuY3Rpb24odCxlLHIsYSxvKXt2YXIgbixpOyhyfHxhKSYmKHI/YT9yIT09YSYmKGk9bj0hMCk6aT0hMDpuPSEwLGkmJlModCxlLmxlYXZlLHIsbyksbiYmUyh0LGUuZW50ZXIsYSxvKSl9KHQsbixyLGEsZSl9fXJldHVybntpZDoiZGF0YWxhYmVscyIsZGVmYXVsdHM6e2FsaWduOiJjZW50ZXIiLGFuY2hvcjoiY2VudGVyIixiYWNrZ3JvdW5kQ29sb3I6bnVsbCxib3JkZXJDb2xvcjpudWxsLGJvcmRlclJhZGl1czowLGJvcmRlcldpZHRoOjAsY2xhbXA6ITEsY2xpcDohMSxjb2xvcjp2b2lkIDAsZGlzcGxheTohMCxmb250OntmYW1pbHk6dm9pZCAwLGxpbmVIZWlnaHQ6MS4yLHNpemU6dm9pZCAwLHN0eWxlOnZvaWQgMCx3ZWlnaHQ6bnVsbH0sZm9ybWF0dGVyOmZ1bmN0aW9uKGUpe2lmKHQuaXNOdWxsT3JVbmRlZihlKSlyZXR1cm4gbnVsbDt2YXIgcixhLG8sbj1lO2lmKHQuaXNPYmplY3QoZSkpaWYodC5pc051bGxPclVuZGVmKGUubGFiZWwpKWlmKHQuaXNOdWxsT3JVbmRlZihlLnIpKWZvcihuPSIiLG89MCxhPShyPU9iamVjdC5rZXlzKGUpKS5sZW5ndGg7bzxhOysrbyluKz0oMCE9PW8/IiwgIjoiIikrcltvXSsiOiAiK2VbcltvXV07ZWxzZSBuPWUucjtlbHNlIG49ZS5sYWJlbDtyZXR1cm4iIitufSxsYWJlbHM6dm9pZCAwLGxpc3RlbmVyczp7fSxvZmZzZXQ6NCxvcGFjaXR5OjEscGFkZGluZzp7dG9wOjQscmlnaHQ6NCxib3R0b206NCxsZWZ0OjR9LHJvdGF0aW9uOjAsdGV4dEFsaWduOiJzdGFydCIsdGV4dFN0cm9rZUNvbG9yOnZvaWQgMCx0ZXh0U3Ryb2tlV2lkdGg6MCx0ZXh0U2hhZG93Qmx1cjowLHRleHRTaGFkb3dDb2xvcjp2b2lkIDB9LGJlZm9yZUluaXQ6ZnVuY3Rpb24odCl7dC4kZGF0YWxhYmVscz17X2FjdGl2ZXM6W119fSxiZWZvcmVVcGRhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dC4kZGF0YWxhYmVscztlLl9saXN0ZW5lZD0hMSxlLl9saXN0ZW5lcnM9e30sZS5fZGF0YXNldHM9W10sZS5fbGFiZWxzPVtdfSxhZnRlckRhdGFzZXRVcGRhdGU6ZnVuY3Rpb24oZSxyLGEpe3ZhciBvLG4saSxsLHMsdSxkLGMsaD1yLmluZGV4LGY9ZS4kZGF0YWxhYmVscyx4PWYuX2RhdGFzZXRzW2hdPVtdLHk9ZS5pc0RhdGFzZXRWaXNpYmxlKGgpLHY9ZS5kYXRhLmRhdGFzZXRzW2hdLGI9ZnVuY3Rpb24oZSxyKXt2YXIgYSxvLG4saT1lLmRhdGFsYWJlbHMsbD1bXTtyZXR1cm4hMT09PWk/bnVsbDooITA9PT1pJiYoaT17fSkscj10Lm1lcmdlKHt9LFtyLGldKSxvPXIubGFiZWxzfHx7fSxuPU9iamVjdC5rZXlzKG8pLGRlbGV0ZSByLmxhYmVscyxuLmxlbmd0aD9uLmZvckVhY2goKGZ1bmN0aW9uKGUpe29bZV0mJmwucHVzaCh0Lm1lcmdlKHt9LFtyLG9bZV0se19rZXk6ZX1dKSl9KSk6bC5wdXNoKHIpLGE9bC5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuZWFjaChyLmxpc3RlbmVyc3x8e30sKGZ1bmN0aW9uKHQsYSl7ZVthXT1lW2FdfHx7fSxlW2FdW3IuX2tleXx8UF09dH0pKSxkZWxldGUgci5saXN0ZW5lcnMsZX0pLHt9KSx7bGFiZWxzOmwsbGlzdGVuZXJzOmF9KX0odixhKSxwPXIubWV0YS5kYXRhfHxbXSxnPWUuY3R4O2ZvcihnLnNhdmUoKSxvPTAsaT1wLmxlbmd0aDtvPGk7KytvKWlmKChkPXBbb10pLiRkYXRhbGFiZWxzPVtdLHkmJmQmJmUuZ2V0RGF0YVZpc2liaWxpdHkobykmJiFkLnNraXApZm9yKG49MCxsPWIubGFiZWxzLmxlbmd0aDtuPGw7KytuKXU9KHM9Yi5sYWJlbHNbbl0pLl9rZXksKGM9bmV3IF8ocyxnLGQsbykpLiRncm91cHM9e19zZXQ6aCxfa2V5OnV8fFB9LGMuJGNvbnRleHQ9e2FjdGl2ZTohMSxjaGFydDplLGRhdGFJbmRleDpvLGRhdGFzZXQ6dixkYXRhc2V0SW5kZXg6aH0sYy51cGRhdGUoYy4kY29udGV4dCksZC4kZGF0YWxhYmVscy5wdXNoKGMpLHgucHVzaChjKTtnLnJlc3RvcmUoKSx0Lm1lcmdlKGYuX2xpc3RlbmVycyxiLmxpc3RlbmVycyx7bWVyZ2VyOmZ1bmN0aW9uKHQsZSxhKXtlW3RdPWVbdF18fHt9LGVbdF1bci5pbmRleF09YVt0XSxmLl9saXN0ZW5lZD0hMH19KX0sYWZ0ZXJVcGRhdGU6ZnVuY3Rpb24odCl7dC4kZGF0YWxhYmVscy5fbGFiZWxzPUMucHJlcGFyZSh0LiRkYXRhbGFiZWxzLl9kYXRhc2V0cyl9LGFmdGVyRGF0YXNldHNEcmF3OmZ1bmN0aW9uKHQpe0MuZHJhdyh0LHQuJGRhdGFsYWJlbHMuX2xhYmVscyl9LGJlZm9yZUV2ZW50OmZ1bmN0aW9uKHQsZSl7aWYodC4kZGF0YWxhYmVscy5fbGlzdGVuZWQpe3ZhciByPWUuZXZlbnQ7c3dpdGNoKHIudHlwZSl7Y2FzZSJtb3VzZW1vdmUiOmNhc2UibW91c2VvdXQiOkkodCxyKTticmVhaztjYXNlImNsaWNrIjohZnVuY3Rpb24odCxlKXt2YXIgcj10LiRkYXRhbGFiZWxzLGE9ci5fbGlzdGVuZXJzLmNsaWNrLG89YSYmQy5sb29rdXAoci5fbGFiZWxzLGUpO28mJlModCxhLG8sZSl9KHQscil9fX0sYWZ0ZXJFdmVudDpmdW5jdGlvbih0KXt2YXIgZSxyLGEsbyxuLGwscyx1PXQuJGRhdGFsYWJlbHMsZD11Ll9hY3RpdmVzLGM9dS5fYWN0aXZlcz10LmdldEFjdGl2ZUVsZW1lbnRzKCksaD1pKGQsYyk7Zm9yKGU9MCxyPWgubGVuZ3RoO2U8cjsrK2UpaWYoKG49aFtlXSlbMV0pZm9yKGE9MCxvPShzPW5bMF0uZWxlbWVudC4kZGF0YWxhYmVsc3x8W10pLmxlbmd0aDthPG87KythKShsPXNbYV0pLiRjb250ZXh0LmFjdGl2ZT0xPT09blsxXSxsLnVwZGF0ZShsLiRjb250ZXh0KTsodS5fZGlydHl8fGgubGVuZ3RoKSYmKEMudXBkYXRlKHUuX2xhYmVscyksdC5yZW5kZXIoKSksZGVsZXRlIHUuX2RpcnR5fX19KSk7Cg=="}]},{"name":"[VOT] - Voice Over Translation","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["yandex.ru","disk.yandex.kz","disk.yandex.com","disk.yandex.com.am","disk.yandex.com.ge","disk.yandex.com.tr","disk.yandex.by","disk.yandex.az","disk.yandex.co.il","disk.yandex.ee","disk.yandex.lt","disk.yandex.lv","disk.yandex.md","disk.yandex.net","disk.yandex.tj","disk.yandex.tm","disk.yandex.uz","yandex.net","timeweb.cloud","raw.githubusercontent.com","vimeo.com","toil.cc","deno.dev","onrender.com","workers.dev","speed.cloudflare.com","porntn.com","googlevideo.com"],"orig_excludes":["file://*/*.mp4*","file://*/*.webm*","*://accounts.youtube.com/*"],"orig_includes":[],"orig_matches":["*://*.youtube.com/*","*://*.youtube-nocookie.com/*","*://*.youtubekids.com/*","*://*.twitch.tv/*","*://*.xvideos.com/*","*://*.xvideos-ar.com/*","*://*.xvideos005.com/*","*://*.xv-ru.com/*","*://*.pornhub.com/*","*://*.pornhub.org/*","*://*.vk.com/*","*://*.vkvideo.ru/*","*://*.vk.ru/*","*://*.vimeo.com/*","*://*.imdb.com/*","*://*.9gag.com/*","*://*.twitter.com/*","*://*.x.com/*","*://*.facebook.com/*","*://*.rutube.ru/*","*://*.bilibili.com/*","*://my.mail.ru/*","*://*.bitchute.com/*","*://*.coursera.org/*","*://*.udemy.com/course/*","*://*.tiktok.com/*","*://*.douyin.com/*","*://rumble.com/*","*://*.eporner.com/*","*://*.dailymotion.com/*","*://*.ok.ru/*","*://trovo.live/*","*://disk.yandex.ru/*","*://disk.yandex.kz/*","*://disk.yandex.com/*","*://disk.yandex.com.am/*","*://disk.yandex.com.ge/*","*://disk.yandex.com.tr/*","*://disk.yandex.by/*","*://disk.yandex.az/*","*://disk.yandex.co.il/*","*://disk.yandex.ee/*","*://disk.yandex.lt/*","*://disk.yandex.lv/*","*://disk.yandex.md/*","*://disk.yandex.net/*","*://disk.yandex.tj/*","*://disk.yandex.tm/*","*://disk.yandex.uz/*","*://youtube.googleapis.com/embed/*","*://*.banned.video/*","*://*.madmaxworld.tv/*","*://*.weverse.io/*","*://*.newgrounds.com/*","*://*.egghead.io/*","*://*.youku.com/*","*://*.archive.org/*","*://*.patreon.com/*","*://*.reddit.com/*","*://*.kodik.info/*","*://*.kodik.biz/*","*://*.kodik.cc/*","*://*.kick.com/*","*://developer.apple.com/*","*://dev.epicgames.com/*","*://*.rapid-cloud.co/*","*://odysee.com/*","*://learning.sap.com/*","*://*.watchporn.to/*","*://*.linkedin.com/*","*://*.incestflix.net/*","*://*.incestflix.to/*","*://*.porntn.com/*","*://*.dzen.ru/*","*://*.cloudflarestream.com/*","*://*.loom.com/*","*://*.artstation.com/learning/*","*://*.rt.com/*","*://*.bitview.net/*","*://*.kickstarter.com/*","*://*.thisvid.com/*","*://*.ign.com/*","*://*.bunkr.site/*","*://*.bunkr.black/*","*://*.bunkr.cat/*","*://*.bunkr.media/*","*://*.bunkr.red/*","*://*.bunkr.ws/*","*://*.bunkr.org/*","*://*.bunkr.sk/*","*://*.bunkr.si/*","*://*.bunkr.su/*","*://*.bunkr.ci/*","*://*.bunkr.cr/*","*://*.bunkr.fi/*","*://*.bunkr.ph/*","*://*.bunkr.pk/*","*://*.bunkr.ps/*","*://*.bunkr.ru/*","*://*.bunkr.la/*","*://*.bunkr.is/*","*://*.bunkr.to/*","*://*.bunkr.ac/*","*://*.bunkr.ax/*","*://web.telegram.org/k/*","*://t2mc.toil.cc/*","*://mylearn.oracle.com/*","*://learn.deeplearning.ai/*","*://learn-staging.deeplearning.ai/*","*://learn-dev.deeplearning.ai/*","*://*.netacad.com/content/i2cs/*","*://*/*.mp4*","*://*/*.webm*","*://*.yewtu.be/*","*://yt.artemislena.eu/*","*://invidious.flokinet.to/*","*://iv.melmac.space/*","*://inv.nadeko.net/*","*://inv.tux.pizza/*","*://invidious.private.coffee/*","*://yt.drgnz.club/*","*://vid.puffyan.us/*","*://invidious.dhusch.de/*","*://*.piped.video/*","*://piped.tokhmi.xyz/*","*://piped.moomoo.me/*","*://piped.syncpundit.io/*","*://piped.mha.fi/*","*://watch.whatever.social/*","*://piped.garudalinux.org/*","*://efy.piped.pages.dev/*","*://watch.leptons.xyz/*","*://piped.lunar.icu/*","*://yt.dc09.ru/*","*://piped.mint.lgbt/*","*://*.il.ax/*","*://piped.privacy.com.de/*","*://piped.esmailelbob.xyz/*","*://piped.projectsegfau.lt/*","*://piped.in.projectsegfau.lt/*","*://piped.us.projectsegfau.lt/*","*://piped.privacydev.net/*","*://piped.palveluntarjoaja.eu/*","*://piped.smnz.de/*","*://piped.adminforge.de/*","*://piped.qdi.fi/*","*://piped.hostux.net/*","*://piped.chauvet.pro/*","*://piped.jotoma.de/*","*://piped.pfcd.me/*","*://piped.frontendfriendly.xyz/*","*://proxitok.pabloferreiro.es/*","*://proxitok.pussthecat.org/*","*://tok.habedieeh.re/*","*://proxitok.esmailelbob.xyz/*","*://proxitok.privacydev.net/*","*://tok.artemislena.eu/*","*://tok.adminforge.de/*","*://tt.vern.cc/*","*://cringe.whatever.social/*","*://proxitok.lunar.icu/*","*://proxitok.privacy.com.de/*","*://peertube.1312.media/*","*://tube.shanti.cafe/*","*://*.bee-tube.fr/*","*://video.sadmin.io/*","*://*.dalek.zone/*","*://review.peertube.biz/*","*://*.peervideo.club/*","*://tube.la-dina.net/*","*://peertube.tmp.rcp.tf/*","*://*.peertube.su/*","*://video.blender.org/*","*://videos.viorsan.com/*","*://tube-sciences-technologies.apps.education.fr/*","*://tube-numerique-educatif.apps.education.fr/*","*://tube-arts-lettres-sciences-humaines.apps.education.fr/*","*://*.beetoons.tv/*","*://comics.peertube.biz/*","*://*.makertube.net/*","*://*.poketube.fun/*","*://pt.sudovanilla.org/*","*://poke.ggtyler.dev/*","*://poke.uk2.littlekai.co.uk/*","*://poke.blahai.gay/*","*://*.ricktube.ru/*","*://*.coursehunter.net/*","*://*.coursetrain.net/*"],"orig_noframes":null,"orig_run_at":"document-idle","orig_run_in":[],"orig_tags":[],"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"run_in":null,"sandbox":null,"tags":[],"unwrap":null,"user_modified":null},"storage":{"ts":1750858828953,"data":{}},"enabled":true,"position":2,"file_url":"https://raw.githubusercontent.com/ilyhalight/voice-over-translation/master/dist/vot.user.js","uuid":"9ef181cd-8626-49ec-b9ee-90d9921ec25d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFtWT1RdIC0gVm9pY2UgT3ZlciBUcmFuc2xhdGlvbgovLyBAbmFtZTpkZSAgICAgICAgW1ZPVF0gLSBWb2ljZS1PdmVyLVZpZGVvLcOcYmVyc2V0enVuZwovLyBAbmFtZTplcyAgICAgICAgW1ZPVF0gLSBUcmFkdWNjacOzbiBkZSB2w61kZW8gZW4gb2ZmCi8vIEBuYW1lOmZyICAgICAgICBbVk9UXSAtIFRyYWR1Y3Rpb24gdmlkw6lvIHZvaXgtb2ZmCi8vIEBuYW1lOml0ICAgICAgICBbVk9UXSAtIFRyYWR1emlvbmUgVmlkZW8gZnVvcmkgY2FtcG8KLy8gQG5hbWU6cnUgICAgICAgIFtWT1RdIC0g0JfQsNC60LDQtNGA0L7QstGL0Lkg0L/QtdGA0LXQstC+0LQg0LLQuNC00LXQvgovLyBAbmFtZTp6aCAgICAgICAgW1ZPVF0gLSDnlLvlpJbpn7Pop4bpopHnv7vor5EKLy8gQGRlc2NyaXB0aW9uICAgIEEgc21hbGwgZXh0ZW5zaW9uIHRoYXQgYWRkcyBhIFlhbmRleCBCcm93c2VyIHZpZGVvIHRyYW5zbGF0aW9uIHRvIG90aGVyIGJyb3dzZXJzCi8vIEBkZXNjcmlwdGlvbjpkZSBFaW5lIGtsZWluZSBFcndlaXRlcnVuZywgZGllIGVpbmUgVm9pY2Utb3Zlci3DnGJlcnNldHp1bmcgdm9uIFZpZGVvcyBhdXMgZGVtIFlhbmRleC1Ccm93c2VyIHp1IGFuZGVyZW4gQnJvd3Nlcm4gaGluenVmw7xndAovLyBAZGVzY3JpcHRpb246ZXMgVW5hIHBlcXVlw7FhIGV4dGVuc2nDs24gcXVlIGFncmVnYSB1bmEgdHJhZHVjY2nDs24gZGUgdm96IGVuIG9mZiBkZSB1biB2aWRlbyBkZSBZYW5kZXggQnJvd3NlciBhIG90cm9zIG5hdmVnYWRvcmVzCi8vIEBkZXNjcmlwdGlvbjpmciBVbmUgcGV0aXRlIGV4dGVuc2lvbiBxdWkgYWpvdXRlIGxhIHRyYWR1Y3Rpb24gdm9jYWxlIGRlIGxhIHZpZMOpbyBkdSBOYXZpZ2F0ZXVyIFlhbmRleCDDoCBkJ2F1dHJlcyBuYXZpZ2F0ZXVycwovLyBAZGVzY3JpcHRpb246aXQgVW5hIHBpY2NvbGEgZXN0ZW5zaW9uZSBjaGUgYWdnaXVuZ2UgbGEgdHJhZHV6aW9uZSB2b2NhbGUgZGVsIHZpZGVvIGRhbCBicm93c2VyIFlhbmRleCBhZCBhbHRyaSBicm93c2VyCi8vIEBkZXNjcmlwdGlvbjpydSDQndC10LHQvtC70YzRiNC+0LUg0YDQsNGB0YjQuNGA0LXQvdC40LUsINC60L7RgtC+0YDQvtC1INC00L7QsdCw0LLQu9GP0LXRgiDQt9Cw0LrQsNC00YDQvtCy0YvQuSDQv9C10YDQtdCy0L7QtCDQstC40LTQtdC+INC40Lcg0K/QvdC00LXQutGBINCR0YDQsNGD0LfQtdGA0LAg0LIg0LTRgNGD0LPQuNC1INCx0YDQsNGD0LfQtdGA0YsKLy8gQGRlc2NyaXB0aW9uOnpoIOS4gOS4quWwj+aJqeWxle+8jOWug+WinuWKoOS6huinhumikeS7jllhbmRleOa1j+iniOWZqOWIsOWFtuS7lua1j+iniOWZqOeahOeUu+Wklumfs+e/u+ivkQovLyBAZ3JhbnQgICAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICAgIEdNX2xpc3RWYWx1ZXMKLy8gQGdyYW50ICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX25vdGlmaWNhdGlvbgovLyBAZ3JhbnQgICAgICAgICAgR01faW5mbwovLyBAZ3JhbnQgICAgICAgICAgd2luZG93LmZvY3VzCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9obHMuanMvMS41LjE4L2hscy5saWdodC5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vaWx5aGFsaWdodC82ZWI1YmI0ZGZmYzdjYTllM2M1N2Q2OTMzZTI0NTJmMy9yYXcvN2FiMzhhZjIyMjhkMGJlZDEzOTEyZTUwM2JjOGE5ZWU0YjExODI4ZC9nbS1hZGRzdHlsZS1wb2x5ZmlsbC5qcwovLyBAbWF0Y2ggICAgICAgICAgKjovLyoueW91dHViZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoueW91dHViZS1ub2Nvb2tpZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoueW91dHViZWtpZHMuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnR3aXRjaC50di8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi54dmlkZW9zLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi54dmlkZW9zLWFyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi54dmlkZW9zMDA1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi54di1ydS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoucG9ybmh1Yi5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoucG9ybmh1Yi5vcmcvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoudmsuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnZrdmlkZW8ucnUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoudmsucnUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoudmltZW8uY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmltZGIuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLjlnYWcuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnR3aXR0ZXIuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnguY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmZhY2Vib29rLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5ydXR1YmUucnUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouYmlsaWJpbGkuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9teS5tYWlsLnJ1LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJpdGNodXRlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5jb3Vyc2VyYS5vcmcvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoudWRlbXkuY29tL2NvdXJzZS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi50aWt0b2suY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmRvdXlpbi5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3J1bWJsZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouZXBvcm5lci5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouZGFpbHltb3Rpb24uY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLm9rLnJ1LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly90cm92by5saXZlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kaXNrLnlhbmRleC5ydS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vZGlzay55YW5kZXgua3ovKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Rpc2sueWFuZGV4LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vZGlzay55YW5kZXguY29tLmFtLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kaXNrLnlhbmRleC5jb20uZ2UvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Rpc2sueWFuZGV4LmNvbS50ci8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vZGlzay55YW5kZXguYnkvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Rpc2sueWFuZGV4LmF6LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kaXNrLnlhbmRleC5jby5pbC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vZGlzay55YW5kZXguZWUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Rpc2sueWFuZGV4Lmx0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kaXNrLnlhbmRleC5sdi8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vZGlzay55YW5kZXgubWQvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Rpc2sueWFuZGV4Lm5ldC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vZGlzay55YW5kZXgudGovKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Rpc2sueWFuZGV4LnRtLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kaXNrLnlhbmRleC51ei8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8veW91dHViZS5nb29nbGVhcGlzLmNvbS9lbWJlZC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5iYW5uZWQudmlkZW8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoubWFkbWF4d29ybGQudHYvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoud2V2ZXJzZS5pby8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5uZXdncm91bmRzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5lZ2doZWFkLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnlvdWt1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5hcmNoaXZlLm9yZy8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5wYXRyZW9uLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5yZWRkaXQuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmtvZGlrLmluZm8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoua29kaWsuYml6LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmtvZGlrLmNjLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmtpY2suY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kZXZlbG9wZXIuYXBwbGUuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9kZXYuZXBpY2dhbWVzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5yYXBpZC1jbG91ZC5jby8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vb2R5c2VlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vbGVhcm5pbmcuc2FwLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi53YXRjaHBvcm4udG8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoubGlua2VkaW4uY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmluY2VzdGZsaXgubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmluY2VzdGZsaXgudG8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoucG9ybnRuLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5kemVuLnJ1LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmNsb3VkZmxhcmVzdHJlYW0uY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmxvb20uY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmFydHN0YXRpb24uY29tL2xlYXJuaW5nLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnJ0LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5iaXR2aWV3Lm5ldC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5raWNrc3RhcnRlci5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoudGhpc3ZpZC5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouaWduLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5idW5rci5zaXRlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmJsYWNrLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmNhdC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5idW5rci5tZWRpYS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5idW5rci5yZWQvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouYnVua3Iud3MvKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouYnVua3Iub3JnLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnNrLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnNpLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnN1LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmNpLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmNyLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmZpLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnBoLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnBrLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnBzLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnJ1LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmxhLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmlzLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLnRvLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmFjLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJ1bmtyLmF4LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly93ZWIudGVsZWdyYW0ub3JnL2svKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3QybWMudG9pbC5jYy8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vbXlsZWFybi5vcmFjbGUuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9sZWFybi5kZWVwbGVhcm5pbmcuYWkvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2xlYXJuLXN0YWdpbmcuZGVlcGxlYXJuaW5nLmFpLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9sZWFybi1kZXYuZGVlcGxlYXJuaW5nLmFpLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLm5ldGFjYWQuY29tL2NvbnRlbnQvaTJjcy8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi8qLm1wNCoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLyoud2VibSoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnlld3R1LmJlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly95dC5hcnRlbWlzbGVuYS5ldS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vaW52aWRpb3VzLmZsb2tpbmV0LnRvLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9pdi5tZWxtYWMuc3BhY2UvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2ludi5uYWRla28ubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9pbnYudHV4LnBpenphLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9pbnZpZGlvdXMucHJpdmF0ZS5jb2ZmZWUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3l0LmRyZ256LmNsdWIvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3ZpZC5wdWZmeWFuLnVzLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9pbnZpZGlvdXMuZGh1c2NoLmRlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnBpcGVkLnZpZGVvLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9waXBlZC50b2tobWkueHl6LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9waXBlZC5tb29tb28ubWUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLnN5bmNwdW5kaXQuaW8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLm1oYS5maS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vd2F0Y2gud2hhdGV2ZXIuc29jaWFsLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9waXBlZC5nYXJ1ZGFsaW51eC5vcmcvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2VmeS5waXBlZC5wYWdlcy5kZXYvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3dhdGNoLmxlcHRvbnMueHl6LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9waXBlZC5sdW5hci5pY3UvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3l0LmRjMDkucnUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLm1pbnQubGdidC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5pbC5heC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQucHJpdmFjeS5jb20uZGUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLmVzbWFpbGVsYm9iLnh5ei8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQucHJvamVjdHNlZ2ZhdS5sdC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQuaW4ucHJvamVjdHNlZ2ZhdS5sdC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQudXMucHJvamVjdHNlZ2ZhdS5sdC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQucHJpdmFjeWRldi5uZXQvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLnBhbHZlbHVudGFyam9hamEuZXUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLnNtbnouZGUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLmFkbWluZm9yZ2UuZGUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLnFkaS5maS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQuaG9zdHV4Lm5ldC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQuY2hhdXZldC5wcm8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3BpcGVkLmpvdG9tYS5kZS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQucGZjZC5tZS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGlwZWQuZnJvbnRlbmRmcmllbmRseS54eXovKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3Byb3hpdG9rLnBhYmxvZmVycmVpcm8uZXMvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3Byb3hpdG9rLnB1c3N0aGVjYXQub3JnLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly90b2suaGFiZWRpZWVoLnJlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9wcm94aXRvay5lc21haWxlbGJvYi54eXovKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3Byb3hpdG9rLnByaXZhY3lkZXYubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly90b2suYXJ0ZW1pc2xlbmEuZXUvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3Rvay5hZG1pbmZvcmdlLmRlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly90dC52ZXJuLmNjLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9jcmluZ2Uud2hhdGV2ZXIuc29jaWFsLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9wcm94aXRvay5sdW5hci5pY3UvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3Byb3hpdG9rLnByaXZhY3kuY29tLmRlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9wZWVydHViZS4xMzEyLm1lZGlhLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly90dWJlLnNoYW50aS5jYWZlLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmJlZS10dWJlLmZyLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly92aWRlby5zYWRtaW4uaW8vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouZGFsZWsuem9uZS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcmV2aWV3LnBlZXJ0dWJlLmJpei8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5wZWVydmlkZW8uY2x1Yi8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vdHViZS5sYS1kaW5hLm5ldC8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcGVlcnR1YmUudG1wLnJjcC50Zi8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5wZWVydHViZS5zdS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vdmlkZW8uYmxlbmRlci5vcmcvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3ZpZGVvcy52aW9yc2FuLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vdHViZS1zY2llbmNlcy10ZWNobm9sb2dpZXMuYXBwcy5lZHVjYXRpb24uZnIvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3R1YmUtbnVtZXJpcXVlLWVkdWNhdGlmLmFwcHMuZWR1Y2F0aW9uLmZyLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly90dWJlLWFydHMtbGV0dHJlcy1zY2llbmNlcy1odW1haW5lcy5hcHBzLmVkdWNhdGlvbi5mci8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5iZWV0b29ucy50di8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vY29taWNzLnBlZXJ0dWJlLmJpei8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5tYWtlcnR1YmUubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLnBva2V0dWJlLmZ1bi8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vcHQuc3Vkb3ZhbmlsbGEub3JnLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9wb2tlLmdndHlsZXIuZGV2LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9wb2tlLnVrMi5saXR0bGVrYWkuY28udWsvKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3Bva2UuYmxhaGFpLmdheS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5yaWNrdHViZS5ydS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vKi5jb3Vyc2VodW50ZXIubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLmNvdXJzZXRyYWluLm5ldC8qCi8vIEBleGNsdWRlICAgICAgICBmaWxlOi8vKi8qLm1wNCoKLy8gQGV4Y2x1ZGUgICAgICAgIGZpbGU6Ly8qLyoud2VibSoKLy8gQGV4Y2x1ZGUgICAgICAgICo6Ly9hY2NvdW50cy55b3V0dWJlLmNvbS8qCi8vIEBjb25uZWN0ICAgICAgICB5YW5kZXgucnUKLy8gQGNvbm5lY3QgICAgICAgIGRpc2sueWFuZGV4Lmt6Ci8vIEBjb25uZWN0ICAgICAgICBkaXNrLnlhbmRleC5jb20KLy8gQGNvbm5lY3QgICAgICAgIGRpc2sueWFuZGV4LmNvbS5hbQovLyBAY29ubmVjdCAgICAgICAgZGlzay55YW5kZXguY29tLmdlCi8vIEBjb25uZWN0ICAgICAgICBkaXNrLnlhbmRleC5jb20udHIKLy8gQGNvbm5lY3QgICAgICAgIGRpc2sueWFuZGV4LmJ5Ci8vIEBjb25uZWN0ICAgICAgICBkaXNrLnlhbmRleC5hegovLyBAY29ubmVjdCAgICAgICAgZGlzay55YW5kZXguY28uaWwKLy8gQGNvbm5lY3QgICAgICAgIGRpc2sueWFuZGV4LmVlCi8vIEBjb25uZWN0ICAgICAgICBkaXNrLnlhbmRleC5sdAovLyBAY29ubmVjdCAgICAgICAgZGlzay55YW5kZXgubHYKLy8gQGNvbm5lY3QgICAgICAgIGRpc2sueWFuZGV4Lm1kCi8vIEBjb25uZWN0ICAgICAgICBkaXNrLnlhbmRleC5uZXQKLy8gQGNvbm5lY3QgICAgICAgIGRpc2sueWFuZGV4LnRqCi8vIEBjb25uZWN0ICAgICAgICBkaXNrLnlhbmRleC50bQovLyBAY29ubmVjdCAgICAgICAgZGlzay55YW5kZXgudXoKLy8gQGNvbm5lY3QgICAgICAgIHlhbmRleC5uZXQKLy8gQGNvbm5lY3QgICAgICAgIHRpbWV3ZWIuY2xvdWQKLy8gQGNvbm5lY3QgICAgICAgIHJhdy5naXRodWJ1c2VyY29udGVudC5jb20KLy8gQGNvbm5lY3QgICAgICAgIHZpbWVvLmNvbQovLyBAY29ubmVjdCAgICAgICAgdG9pbC5jYwovLyBAY29ubmVjdCAgICAgICAgZGVuby5kZXYKLy8gQGNvbm5lY3QgICAgICAgIG9ucmVuZGVyLmNvbQovLyBAY29ubmVjdCAgICAgICAgd29ya2Vycy5kZXYKLy8gQGNvbm5lY3QgICAgICAgIHNwZWVkLmNsb3VkZmxhcmUuY29tCi8vIEBjb25uZWN0ICAgICAgICBwb3JudG4uY29tCi8vIEBjb25uZWN0ICAgICAgICBnb29nbGV2aWRlby5jb20KLy8gQG5hbWVzcGFjZSAgICAgIHZvdAovLyBAdmVyc2lvbiAgICAgICAgMS4xMC41Ci8vIEBpY29uICAgICAgICAgICBodHRwczovL3RyYW5zbGF0ZS55YW5kZXgucnUvaWNvbnMvZmF2aWNvbi5pY28KLy8gQGF1dGhvciAgICAgICAgIFRvaWwsIFNhc2hhWHNlciwgTXJTb2N6ZWtYRCwgbXlub3ZlbGhvc3QsIHNvZGFwbmcKLy8gQGhvbWVwYWdlVVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9pbHloYWxpZ2h0L3ZvaWNlLW92ZXItdHJhbnNsYXRpb24KLy8gQHVwZGF0ZVVSTCAgICAgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9pbHloYWxpZ2h0L3ZvaWNlLW92ZXItdHJhbnNsYXRpb24vbWFzdGVyL2Rpc3Qvdm90LnVzZXIuanMKLy8gQGRvd25sb2FkVVJMICAgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9pbHloYWxpZ2h0L3ZvaWNlLW92ZXItdHJhbnNsYXRpb24vbWFzdGVyL2Rpc3Qvdm90LnVzZXIuanMKLy8gQHN1cHBvcnRVUkwgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9pbHloYWxpZ2h0L3ZvaWNlLW92ZXItdHJhbnNsYXRpb24vaXNzdWVzCi8vID09L1VzZXJTY3JpcHQ9PQoKKCgpID0+IHsKCXZhciBkID0gewoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC9jbGllbnQuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgewoJCQkJCQlBeTogKCkgPT4gVk9UQ2xpZW50LAoJCQkJCQlQdTogKCkgPT4gVk9UV29ya2VyQ2xpZW50CgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uZmlnLmpzIiksIGcgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3V0aWxzL2xvZ2dlci5qcyIpLCBfID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9wcm90b3MveWFuZGV4LmpzIiksIHYgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3NlY3VyZS5qcyIpLCBiID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC91dGlscy91dGlscy5qcyIpLCB4ID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvcHJvdG9idWYuanMiKSwgQyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3R5cGVzL3lhbmRleC5qcyIpLCB3ID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdXRpbHMvdm90LmpzIiksIFQgPSBwKCIuL3NyYy91dGlscy9WT1RMb2NhbGl6ZWRFcnJvci5qcyIpLCBFID0gZChbVF0pOwoJCQkJCVQgPSAoRS50aGVuID8gKGF3YWl0IEUpKCkgOiBFKVswXTsKCQkJCQljbGFzcyBWT1RKU0Vycm9yIGV4dGVuZHMgRXJyb3IgewoJCQkJCQlkYXRhOwoJCQkJCQljb25zdHJ1Y3RvcihkLCBmID0gdm9pZCAwKSB7CgkJCQkJCQlzdXBlcihkKSwgdGhpcy5kYXRhID0gZiwgdGhpcy5uYW1lID0gIlZPVEpTRXJyb3IiLCB0aGlzLm1lc3NhZ2UgPSBkOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWNsYXNzIE1pbmltYWxDbGllbnQgewoJCQkJCQlob3N0OwoJCQkJCQlzY2hlbWE7CgkJCQkJCWZldGNoOwoJCQkJCQlmZXRjaE9wdHM7CgkJCQkJCXNlc3Npb25zID0ge307CgkJCQkJCXVzZXJBZ2VudCA9IGguQS51c2VyQWdlbnQ7CgkJCQkJCWhlYWRlcnMgPSB7CgkJCQkJCQkiVXNlci1BZ2VudCI6IHRoaXMudXNlckFnZW50LAoJCQkJCQkJQWNjZXB0OiAiYXBwbGljYXRpb24veC1wcm90b2J1ZiIsCgkJCQkJCQkiQWNjZXB0LUxhbmd1YWdlIjogImVuIiwKCQkJCQkJCSJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC1wcm90b2J1ZiIsCgkJCQkJCQlQcmFnbWE6ICJuby1jYWNoZSIsCgkJCQkJCQkiQ2FjaGUtQ29udHJvbCI6ICJuby1jYWNoZSIKCQkJCQkJfTsKCQkJCQkJaG9zdFNjaGVtYVJlID0gLyhodHRwKHMpPyk6XC9cLy87CgkJCQkJCWNvbnN0cnVjdG9yKHsgaG9zdDogZCA9IGguQS5ob3N0LCBmZXRjaEZuOiBmID0gYi51OSwgZmV0Y2hPcHRzOiBwID0ge30sIGhlYWRlcnM6IG0gPSB7fSB9ID0ge30pIHsKCQkJCQkJCWxldCBnID0gdGhpcy5ob3N0U2NoZW1hUmUuZXhlYyhkKT8uWzFdOwoJCQkJCQkJdGhpcy5ob3N0ID0gZyA/IGQucmVwbGFjZShgJHtnfTovL2AsICIiKSA6IGQsIHRoaXMuc2NoZW1hID0gZyA/PyAiaHR0cHMiLCB0aGlzLmZldGNoID0gZiwgdGhpcy5mZXRjaE9wdHMgPSBwLCB0aGlzLmhlYWRlcnMgPSB7CgkJCQkJCQkJLi4udGhpcy5oZWFkZXJzLAoJCQkJCQkJCS4uLm0KCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYXN5bmMgcmVxdWVzdChkLCBmLCBwID0ge30sIG0gPSAiUE9TVCIpIHsKCQkJCQkJCWxldCBoID0gdGhpcy5nZXRPcHRzKG5ldyBCbG9iKFtmXSksIHAsIG0pOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5zY2hlbWF9Oi8vJHt0aGlzLmhvc3R9JHtkfWAsIGgpLCBwID0gYXdhaXQgZi5hcnJheUJ1ZmZlcigpOwoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6IGYuc3RhdHVzID09PSAyMDAsCgkJCQkJCQkJCWRhdGE6IHAKCQkJCQkJCQl9OwoJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6ICExLAoJCQkJCQkJCQlkYXRhOiBkPy5tZXNzYWdlCgkJCQkJCQkJfTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlhc3luYyByZXF1ZXN0SlNPTihkLCBmID0gbnVsbCwgcCA9IHt9LCBtID0gIlBPU1QiKSB7CgkJCQkJCQlsZXQgaCA9IHRoaXMuZ2V0T3B0cyhmLCB7CgkJCQkJCQkJIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKCQkJCQkJCQkuLi5wCgkJCQkJCQl9LCBtKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuc2NoZW1hfTovLyR7dGhpcy5ob3N0fSR7ZH1gLCBoKSwgcCA9IGF3YWl0IGYuanNvbigpOwoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6IGYuc3RhdHVzID09PSAyMDAsCgkJCQkJCQkJCWRhdGE6IHAKCQkJCQkJCQl9OwoJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6ICExLAoJCQkJCQkJCQlkYXRhOiBkPy5tZXNzYWdlCgkJCQkJCQkJfTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlnZXRPcHRzKGQsIGYgPSB7fSwgcCA9ICJQT1NUIikgewoJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQltZXRob2Q6IHAsCgkJCQkJCQkJaGVhZGVyczogewoJCQkJCQkJCQkuLi50aGlzLmhlYWRlcnMsCgkJCQkJCQkJCS4uLmYKCQkJCQkJCQl9LAoJCQkJCQkJCWJvZHk6IGQsCgkJCQkJCQkJLi4udGhpcy5mZXRjaE9wdHMKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYXN5bmMgZ2V0U2Vzc2lvbihkKSB7CgkJCQkJCQlsZXQgZiA9ICgwLCBiLmxnKSgpLCBwID0gdGhpcy5zZXNzaW9uc1tkXTsKCQkJCQkJCWlmIChwICYmIHAudGltZXN0YW1wICsgcC5leHBpcmVzID4gZikgcmV0dXJuIHA7CgkJCQkJCQlsZXQgeyBzZWNyZXRLZXk6IG0sIGV4cGlyZXM6IGgsIHV1aWQ6IGcgfSA9IGF3YWl0IHRoaXMuY3JlYXRlU2Vzc2lvbihkKTsKCQkJCQkJCXJldHVybiB0aGlzLnNlc3Npb25zW2RdID0gewoJCQkJCQkJCXNlY3JldEtleTogbSwKCQkJCQkJCQlleHBpcmVzOiBoLAoJCQkJCQkJCXRpbWVzdGFtcDogZiwKCQkJCQkJCQl1dWlkOiBnCgkJCQkJCQl9LCB0aGlzLnNlc3Npb25zW2RdOwoJCQkJCQl9CgkJCQkJCWFzeW5jIGNyZWF0ZVNlc3Npb24oZCkgewoJCQkJCQkJbGV0IGYgPSAoMCwgdi55aykoKSwgcCA9IHguUC5lbmNvZGVTZXNzaW9uUmVxdWVzdChmLCBkKSwgbSA9IGF3YWl0IHRoaXMucmVxdWVzdCgiL3Nlc3Npb24vY3JlYXRlIiwgcCwgeyAiVnRyYW5zLVNpZ25hdHVyZSI6IGF3YWl0ICgwLCB2LmREKShwKSB9KTsKCQkJCQkJCWlmICghbS5zdWNjZXNzKSB0aHJvdyBuZXcgVk9USlNFcnJvcigiRmFpbGVkIHRvIHJlcXVlc3QgY3JlYXRlIHNlc3Npb24iLCBtKTsKCQkJCQkJCWxldCBoID0geC5QLmRlY29kZVNlc3Npb25SZXNwb25zZShtLmRhdGEpOwoJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkuLi5oLAoJCQkJCQkJCXV1aWQ6IGYKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQl9CgkJCQkJY2xhc3MgVk9UQ2xpZW50IGV4dGVuZHMgTWluaW1hbENsaWVudCB7CgkJCQkJCWhvc3RWT1Q7CgkJCQkJCXNjaGVtYVZPVDsKCQkJCQkJYXBpVG9rZW47CgkJCQkJCXJlcXVlc3RMYW5nOwoJCQkJCQlyZXNwb25zZUxhbmc7CgkJCQkJCXBhdGhzID0gewoJCQkJCQkJdmlkZW9UcmFuc2xhdGlvbjogIi92aWRlby10cmFuc2xhdGlvbi90cmFuc2xhdGUiLAoJCQkJCQkJdmlkZW9UcmFuc2xhdGlvbkZhaWxBdWRpbzogIi92aWRlby10cmFuc2xhdGlvbi9mYWlsLWF1ZGlvLWpzIiwKCQkJCQkJCXZpZGVvVHJhbnNsYXRpb25BdWRpbzogIi92aWRlby10cmFuc2xhdGlvbi9hdWRpbyIsCgkJCQkJCQl2aWRlb1RyYW5zbGF0aW9uQ2FjaGU6ICIvdmlkZW8tdHJhbnNsYXRpb24vY2FjaGUiLAoJCQkJCQkJdmlkZW9TdWJ0aXRsZXM6ICIvdmlkZW8tc3VidGl0bGVzL2dldC1zdWJ0aXRsZXMiLAoJCQkJCQkJc3RyZWFtUGluZzogIi9zdHJlYW0tdHJhbnNsYXRpb24vcGluZy1zdHJlYW0iLAoJCQkJCQkJc3RyZWFtVHJhbnNsYXRpb246ICIvc3RyZWFtLXRyYW5zbGF0aW9uL3RyYW5zbGF0ZS1zdHJlYW0iCgkJCQkJCX07CgkJCQkJCWlzQ3VzdG9tTGluayhkKSB7CgkJCQkJCQlyZXR1cm4gISEoL1wuKG0zdTh8bTQoYXx2KXxtcGQpLy5leGVjKGQpID8/IC9eaHR0cHM6XC9cL2NkblwucXN0dlwub25cLmVwaWNnYW1lc1wuY29tLy5leGVjKGQpKTsKCQkJCQkJfQoJCQkJCQloZWFkZXJzVk9UID0gewoJCQkJCQkJIlVzZXItQWdlbnQiOiBgdm90LmpzLyR7aC5BLnZlcnNpb259YCwKCQkJCQkJCSJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCgkJCQkJCQlQcmFnbWE6ICJuby1jYWNoZSIsCgkJCQkJCQkiQ2FjaGUtQ29udHJvbCI6ICJuby1jYWNoZSIKCQkJCQkJfTsKCQkJCQkJY29uc3RydWN0b3IoeyBob3N0OiBkLCBob3N0Vk9UOiBmID0gaC5BLmhvc3RWT1QsIGZldGNoRm46IHAsIGZldGNoT3B0czogbSwgcmVxdWVzdExhbmc6IGcgPSAiZW4iLCByZXNwb25zZUxhbmc6IF8gPSAicnUiLCBhcGlUb2tlbjogdiwgaGVhZGVyczogYiB9ID0ge30pIHsKCQkJCQkJCXN1cGVyKHsKCQkJCQkJCQlob3N0OiBkLAoJCQkJCQkJCWZldGNoRm46IHAsCgkJCQkJCQkJZmV0Y2hPcHRzOiBtLAoJCQkJCQkJCWhlYWRlcnM6IGIKCQkJCQkJCX0pOwoJCQkJCQkJbGV0IHggPSB0aGlzLmhvc3RTY2hlbWFSZS5leGVjKGYpPy5bMV07CgkJCQkJCQl0aGlzLmhvc3RWT1QgPSB4ID8gZi5yZXBsYWNlKGAke3h9Oi8vYCwgIiIpIDogZiwgdGhpcy5zY2hlbWFWT1QgPSB4ID8/ICJodHRwcyIsIHRoaXMucmVxdWVzdExhbmcgPSBnLCB0aGlzLnJlc3BvbnNlTGFuZyA9IF8sIHRoaXMuYXBpVG9rZW4gPSB2OwoJCQkJCQl9CgkJCQkJCWdldCBhcGlUb2tlbkhlYWRlcigpIHsKCQkJCQkJCXJldHVybiB0aGlzLmFwaVRva2VuID8geyBBdXRob3JpemF0aW9uOiBgT0F1dGggJHt0aGlzLmFwaVRva2VufWAgfSA6IHt9OwoJCQkJCQl9CgkJCQkJCWFzeW5jIHJlcXVlc3RWT1QoZCwgZiwgcCA9IHt9KSB7CgkJCQkJCQlsZXQgbSA9IHRoaXMuZ2V0T3B0cyhKU09OLnN0cmluZ2lmeShmKSwgewoJCQkJCQkJCS4uLnRoaXMuaGVhZGVyc1ZPVCwKCQkJCQkJCQkuLi5wCgkJCQkJCQl9KTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuc2NoZW1hVk9UfTovLyR7dGhpcy5ob3N0Vk9UfSR7ZH1gLCBtKSwgcCA9IGF3YWl0IGYuanNvbigpOwoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6IGYuc3RhdHVzID09PSAyMDAsCgkJCQkJCQkJCWRhdGE6IHAKCQkJCQkJCQl9OwoJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6ICExLAoJCQkJCQkJCQlkYXRhOiBkPy5tZXNzYWdlCgkJCQkJCQkJfTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlhc3luYyB0cmFuc2xhdGVWaWRlb1lBSW1wbCh7IHZpZGVvRGF0YTogZCwgcmVxdWVzdExhbmc6IGYgPSB0aGlzLnJlcXVlc3RMYW5nLCByZXNwb25zZUxhbmc6IHAgPSB0aGlzLnJlc3BvbnNlTGFuZywgdHJhbnNsYXRpb25IZWxwOiBtID0gbnVsbCwgaGVhZGVyczogXyA9IHt9LCBleHRyYU9wdHM6IGIgPSB7fSwgc2hvdWxkU2VuZEZhaWxlZEF1ZGlvOiB3ID0gITAgfSkgewoJCQkJCQkJbGV0IHsgdXJsOiBFLCBkdXJhdGlvbjogRCA9IGguQS5kZWZhdWx0RHVyYXRpb24gfSA9IGQsIE8gPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oInZpZGVvLXRyYW5zbGF0aW9uIiksIEEgPSB4LlMuZW5jb2RlVHJhbnNsYXRpb25SZXF1ZXN0KEUsIEQsIGYsIHAsIG0sIGIpLCBqID0gdGhpcy5wYXRocy52aWRlb1RyYW5zbGF0aW9uLCBGID0gYXdhaXQgKDAsIHYuQzApKCJWdHJhbnMiLCBPLCBBLCBqKSwgVSA9IGIudXNlTGl2ZWx5Vm9pY2UgPyB0aGlzLmFwaVRva2VuSGVhZGVyIDoge30sIFcgPSBhd2FpdCB0aGlzLnJlcXVlc3QoaiwgQSwgewoJCQkJCQkJCS4uLkYsCgkJCQkJCQkJLi4uVSwKCQkJCQkJCQkuLi5fCgkJCQkJCQl9KTsKCQkJCQkJCWlmICghVy5zdWNjZXNzKSB0aHJvdyBuZXcgVC5uKCJyZXF1ZXN0VHJhbnNsYXRpb25GYWlsZWQiKTsKCQkJCQkJCWxldCBHID0geC5TLmRlY29kZVRyYW5zbGF0aW9uUmVzcG9uc2UoVy5kYXRhKTsKCQkJCQkJCWcuQS5sb2coInRyYW5zbGF0ZVZpZGVvIiwgRyk7CgkJCQkJCQlsZXQgeyBzdGF0dXM6IEssIHRyYW5zbGF0aW9uSWQ6IHEgfSA9IEc7CgkJCQkJCQlzd2l0Y2ggKEspIHsKCQkJCQkJCQljYXNlIEMudi5GQUlMRUQ6IHRocm93IEc/Lm1lc3NhZ2UgPyBuZXcgVk9USlNFcnJvcigiWWFuZGV4IGNvdWxkbid0IHRyYW5zbGF0ZSB2aWRlbyIsIEcpIDogbmV3IFQubigicmVxdWVzdFRyYW5zbGF0aW9uRmFpbGVkIik7CgkJCQkJCQkJY2FzZSBDLnYuRklOSVNIRUQ6CgkJCQkJCQkJY2FzZSBDLnYuUEFSVF9DT05URU5UOgoJCQkJCQkJCQlpZiAoIUcudXJsKSB0aHJvdyBuZXcgVC5uKCJhdWRpb05vdFJlY2VpdmVkIik7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQl0cmFuc2xhdGlvbklkOiBxLAoJCQkJCQkJCQkJdHJhbnNsYXRlZDogITAsCgkJCQkJCQkJCQl1cmw6IEcudXJsLAoJCQkJCQkJCQkJc3RhdHVzOiBLLAoJCQkJCQkJCQkJcmVtYWluaW5nVGltZTogRy5yZW1haW5pbmdUaW1lID8/IC0xCgkJCQkJCQkJCX07CgkJCQkJCQkJY2FzZSBDLnYuV0FJVElORzoKCQkJCQkJCQljYXNlIEMudi5MT05HX1dBSVRJTkc6IHJldHVybiB7CgkJCQkJCQkJCXRyYW5zbGF0aW9uSWQ6IHEsCgkJCQkJCQkJCXRyYW5zbGF0ZWQ6ICExLAoJCQkJCQkJCQlzdGF0dXM6IEssCgkJCQkJCQkJCXJlbWFpbmluZ1RpbWU6IEcucmVtYWluaW5nVGltZQoJCQkJCQkJCX07CgkJCQkJCQkJY2FzZSBDLnYuQVVESU9fUkVRVUVTVEVEOiByZXR1cm4gRS5zdGFydHNXaXRoKCJodHRwczovL3lvdXR1LmJlLyIpICYmIHcgPyAoYXdhaXQgdGhpcy5yZXF1ZXN0VnRyYW5zRmFpbEF1ZGlvKEUpLCBhd2FpdCB0aGlzLnJlcXVlc3RWdHJhbnNBdWRpbyhFLCBHLnRyYW5zbGF0aW9uSWQsIHsKCQkJCQkJCQkJYXVkaW9GaWxlOiBuZXcgVWludDhBcnJheSgpLAoJCQkJCQkJCQlmaWxlSWQ6IEMuSi5XRUJfQVBJX0dFVF9BTExfR0VORVJBVElOR19VUkxTX0RBVEFfRlJPTV9JRlJBTUUKCQkJCQkJCQl9KSwgYXdhaXQgdGhpcy50cmFuc2xhdGVWaWRlb1lBSW1wbCh7CgkJCQkJCQkJCXZpZGVvRGF0YTogZCwKCQkJCQkJCQkJcmVxdWVzdExhbmc6IGYsCgkJCQkJCQkJCXJlc3BvbnNlTGFuZzogcCwKCQkJCQkJCQkJdHJhbnNsYXRpb25IZWxwOiBtLAoJCQkJCQkJCQloZWFkZXJzOiBfLAoJCQkJCQkJCQlzaG91bGRTZW5kRmFpbGVkQXVkaW86ICExCgkJCQkJCQkJfSkpIDogewoJCQkJCQkJCQl0cmFuc2xhdGlvbklkOiBxLAoJCQkJCQkJCQl0cmFuc2xhdGVkOiAhMSwKCQkJCQkJCQkJc3RhdHVzOiBLLAoJCQkJCQkJCQlyZW1haW5pbmdUaW1lOiBHLnJlbWFpbmluZ1RpbWUgPz8gLTEKCQkJCQkJCQl9OwoJCQkJCQkJCWNhc2UgQy52LlNFU1NJT05fUkVRVUlSRUQ6IHRocm93IG5ldyBWT1RKU0Vycm9yKCJZYW5kZXggYXV0aCByZXF1aXJlZCB0byB0cmFuc2xhdGUgdmlkZW8uIFNlZSBkb2NzIGZvciBtb3JlIGluZm8iLCBHKTsKCQkJCQkJCQlkZWZhdWx0OiB0aHJvdyBnLkEuZXJyb3IoIlVua25vd24gcmVzcG9uc2UiLCBHKSwgbmV3IFZPVEpTRXJyb3IoIlVua25vd24gcmVzcG9uc2UgZnJvbSBZYW5kZXgiLCBHKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlhc3luYyB0cmFuc2xhdGVWaWRlb1ZPVEltcGwoeyB1cmw6IGQsIHZpZGVvSWQ6IGYsIHNlcnZpY2U6IHAsIHJlcXVlc3RMYW5nOiBtID0gdGhpcy5yZXF1ZXN0TGFuZywgcmVzcG9uc2VMYW5nOiBoID0gdGhpcy5yZXNwb25zZUxhbmcsIGhlYWRlcnM6IGcgPSB7fSwgcHJvdmlkZXI6IF8gPSAieWFuZGV4IiB9KSB7CgkJCQkJCQlsZXQgdiA9ICgwLCB3LnApKHAsIGYsIGQpLCBiID0gYXdhaXQgdGhpcy5yZXF1ZXN0Vk9UKHRoaXMucGF0aHMudmlkZW9UcmFuc2xhdGlvbiwgewoJCQkJCQkJCXByb3ZpZGVyOiBfLAoJCQkJCQkJCXNlcnZpY2U6IHYuc2VydmljZSwKCQkJCQkJCQl2aWRlb19pZDogdi52aWRlb0lkLAoJCQkJCQkJCWZyb21fbGFuZzogbSwKCQkJCQkJCQl0b19sYW5nOiBoLAoJCQkJCQkJCXJhd192aWRlbzogZAoJCQkJCQkJfSwgeyAuLi5nIH0pOwoJCQkJCQkJaWYgKCFiLnN1Y2Nlc3MpIHRocm93IG5ldyBULm4oInJlcXVlc3RUcmFuc2xhdGlvbkZhaWxlZCIpOwoJCQkJCQkJbGV0IHggPSBiLmRhdGE7CgkJCQkJCQlzd2l0Y2ggKHguc3RhdHVzKSB7CgkJCQkJCQkJY2FzZSAiZmFpbGVkIjogdGhyb3cgbmV3IFZPVEpTRXJyb3IoIllhbmRleCBjb3VsZG4ndCB0cmFuc2xhdGUgdmlkZW8iLCB4KTsKCQkJCQkJCQljYXNlICJzdWNjZXNzIjoKCQkJCQkJCQkJaWYgKCF4LnRyYW5zbGF0ZWRfdXJsKSB0aHJvdyBuZXcgVC5uKCJhdWRpb05vdFJlY2VpdmVkIik7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQl0cmFuc2xhdGlvbklkOiBTdHJpbmcoeC5pZCksCgkJCQkJCQkJCQl0cmFuc2xhdGVkOiAhMCwKCQkJCQkJCQkJCXVybDogeC50cmFuc2xhdGVkX3VybCwKCQkJCQkJCQkJCXN0YXR1czogMSwKCQkJCQkJCQkJCXJlbWFpbmluZ1RpbWU6IC0xCgkJCQkJCQkJCX07CgkJCQkJCQkJY2FzZSAid2FpdGluZyI6IHJldHVybiB7CgkJCQkJCQkJCXRyYW5zbGF0aW9uSWQ6ICIiLAoJCQkJCQkJCQl0cmFuc2xhdGVkOiAhMSwKCQkJCQkJCQkJcmVtYWluaW5nVGltZTogeC5yZW1haW5pbmdfdGltZSwKCQkJCQkJCQkJc3RhdHVzOiAyLAoJCQkJCQkJCQltZXNzYWdlOiB4Lm1lc3NhZ2UKCQkJCQkJCQl9OwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWFzeW5jIHJlcXVlc3RWdHJhbnNGYWlsQXVkaW8oZCkgewoJCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLnJlcXVlc3RKU09OKHRoaXMucGF0aHMudmlkZW9UcmFuc2xhdGlvbkZhaWxBdWRpbywgSlNPTi5zdHJpbmdpZnkoeyB2aWRlb191cmw6IGQgfSksIHZvaWQgMCwgIlBVVCIpOwoJCQkJCQkJaWYgKCFmLmRhdGEgfHwgdHlwZW9mIGYuZGF0YSA9PSAic3RyaW5nIiB8fCBmLmRhdGEuc3RhdHVzICE9PSAxKSB0aHJvdyBuZXcgVk9USlNFcnJvcigiRmFpbGVkIHRvIHJlcXVlc3QgdG8gZmFrZSB2aWRlbyB0cmFuc2xhdGlvbiBmYWlsIGF1ZGlvIGpzIiwgZik7CgkJCQkJCQlyZXR1cm4gZjsKCQkJCQkJfQoJCQkJCQlhc3luYyByZXF1ZXN0VnRyYW5zQXVkaW8oZCwgZiwgcCwgbSwgaCA9IHt9KSB7CgkJCQkJCQlsZXQgZyA9IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbigidmlkZW8tdHJhbnNsYXRpb24iKSwgXyA9IHguUy5pc1BhcnRpYWxBdWRpb0J1ZmZlcihwKSA/IHguUy5lbmNvZGVUcmFuc2xhdGlvbkF1ZGlvUmVxdWVzdChkLCBmLCBwLCBtKSA6IHguUy5lbmNvZGVUcmFuc2xhdGlvbkF1ZGlvUmVxdWVzdChkLCBmLCBwLCB2b2lkIDApLCBiID0gdGhpcy5wYXRocy52aWRlb1RyYW5zbGF0aW9uQXVkaW8sIEMgPSBhd2FpdCAoMCwgdi5DMCkoIlZ0cmFucyIsIGcsIF8sIGIpLCB3ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KGIsIF8sIHsKCQkJCQkJCQkuLi5DLAoJCQkJCQkJCS4uLmgKCQkJCQkJCX0sICJQVVQiKTsKCQkJCQkJCWlmICghdy5zdWNjZXNzKSB0aHJvdyBuZXcgVk9USlNFcnJvcigiRmFpbGVkIHRvIHJlcXVlc3QgdmlkZW8gdHJhbnNsYXRpb24gYXVkaW8iLCB3KTsKCQkJCQkJCXJldHVybiB4LlMuZGVjb2RlVHJhbnNsYXRpb25BdWRpb1Jlc3BvbnNlKHcuZGF0YSk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgdHJhbnNsYXRlVmlkZW9DYWNoZSh7IHZpZGVvRGF0YTogZCwgcmVxdWVzdExhbmc6IGYgPSB0aGlzLnJlcXVlc3RMYW5nLCByZXNwb25zZUxhbmc6IHAgPSB0aGlzLnJlc3BvbnNlTGFuZywgaGVhZGVyczogbSA9IHt9IH0pIHsKCQkJCQkJCWxldCB7IHVybDogZywgZHVyYXRpb246IF8gPSBoLkEuZGVmYXVsdER1cmF0aW9uIH0gPSBkLCBiID0gYXdhaXQgdGhpcy5nZXRTZXNzaW9uKCJ2aWRlby10cmFuc2xhdGlvbiIpLCBDID0geC5TLmVuY29kZVRyYW5zbGF0aW9uQ2FjaGVSZXF1ZXN0KGcsIF8sIGYsIHApLCB3ID0gdGhpcy5wYXRocy52aWRlb1RyYW5zbGF0aW9uQ2FjaGUsIFQgPSBhd2FpdCAoMCwgdi5DMCkoIlZ0cmFucyIsIGIsIEMsIHcpLCBFID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHcsIEMsIHsKCQkJCQkJCQkuLi5ULAoJCQkJCQkJCS4uLm0KCQkJCQkJCX0sICJQT1NUIik7CgkJCQkJCQlpZiAoIUUuc3VjY2VzcykgdGhyb3cgbmV3IFZPVEpTRXJyb3IoIkZhaWxlZCB0byByZXF1ZXN0IHZpZGVvIHRyYW5zbGF0aW9uIGNhY2hlIiwgRSk7CgkJCQkJCQlyZXR1cm4geC5TLmRlY29kZVRyYW5zbGF0aW9uQ2FjaGVSZXNwb25zZShFLmRhdGEpOwoJCQkJCQl9CgkJCQkJCWFzeW5jIHRyYW5zbGF0ZVZpZGVvKHsgdmlkZW9EYXRhOiBkLCByZXF1ZXN0TGFuZzogZiA9IHRoaXMucmVxdWVzdExhbmcsIHJlc3BvbnNlTGFuZzogcCA9IHRoaXMucmVzcG9uc2VMYW5nLCB0cmFuc2xhdGlvbkhlbHA6IG0gPSBudWxsLCBoZWFkZXJzOiBoID0ge30sIGV4dHJhT3B0czogZyA9IHt9LCBzaG91bGRTZW5kRmFpbGVkQXVkaW86IF8gPSAhMCB9KSB7CgkJCQkJCQlsZXQgeyB1cmw6IHYsIHZpZGVvSWQ6IGIsIGhvc3Q6IHggfSA9IGQ7CgkJCQkJCQlyZXR1cm4gdGhpcy5pc0N1c3RvbUxpbmsodikgPyBhd2FpdCB0aGlzLnRyYW5zbGF0ZVZpZGVvVk9USW1wbCh7CgkJCQkJCQkJdXJsOiB2LAoJCQkJCQkJCXZpZGVvSWQ6IGIsCgkJCQkJCQkJc2VydmljZTogeCwKCQkJCQkJCQlyZXF1ZXN0TGFuZzogZiwKCQkJCQkJCQlyZXNwb25zZUxhbmc6IHAsCgkJCQkJCQkJaGVhZGVyczogaCwKCQkJCQkJCQlwcm92aWRlcjogZy51c2VMaXZlbHlWb2ljZSA/ICJ5YW5kZXhfbGl2ZWx5IiA6ICJ5YW5kZXgiCgkJCQkJCQl9KSA6IGF3YWl0IHRoaXMudHJhbnNsYXRlVmlkZW9ZQUltcGwoewoJCQkJCQkJCXZpZGVvRGF0YTogZCwKCQkJCQkJCQlyZXF1ZXN0TGFuZzogZiwKCQkJCQkJCQlyZXNwb25zZUxhbmc6IHAsCgkJCQkJCQkJdHJhbnNsYXRpb25IZWxwOiBtLAoJCQkJCQkJCWhlYWRlcnM6IGgsCgkJCQkJCQkJZXh0cmFPcHRzOiBnLAoJCQkJCQkJCXNob3VsZFNlbmRGYWlsZWRBdWRpbzogXwoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgZ2V0U3VidGl0bGVzWUFJbXBsKHsgdmlkZW9EYXRhOiBkLCByZXF1ZXN0TGFuZzogZiA9IHRoaXMucmVxdWVzdExhbmcsIGhlYWRlcnM6IHAgPSB7fSB9KSB7CgkJCQkJCQlsZXQgeyB1cmw6IG0gfSA9IGQsIGggPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oInZpZGVvLXRyYW5zbGF0aW9uIiksIGcgPSB4LlMuZW5jb2RlU3VidGl0bGVzUmVxdWVzdChtLCBmKSwgXyA9IHRoaXMucGF0aHMudmlkZW9TdWJ0aXRsZXMsIGIgPSBhd2FpdCAoMCwgdi5DMCkoIlZzdWJzIiwgaCwgZywgXyksIEMgPSBhd2FpdCB0aGlzLnJlcXVlc3QoXywgZywgewoJCQkJCQkJCS4uLmIsCgkJCQkJCQkJLi4ucAoJCQkJCQkJfSk7CgkJCQkJCQlpZiAoIUMuc3VjY2VzcykgdGhyb3cgbmV3IFZPVEpTRXJyb3IoIkZhaWxlZCB0byByZXF1ZXN0IHZpZGVvIHN1YnRpdGxlcyIsIEMpOwoJCQkJCQkJbGV0IHcgPSB4LlMuZGVjb2RlU3VidGl0bGVzUmVzcG9uc2UoQy5kYXRhKSwgVCA9IHcuc3VidGl0bGVzLm1hcCgoZCkgPT4gewoJCQkJCQkJCWxldCB7IGxhbmd1YWdlOiBmLCB1cmw6IHAsIHRyYW5zbGF0ZWRMYW5ndWFnZTogbSwgdHJhbnNsYXRlZFVybDogaCB9ID0gZDsKCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQlsYW5ndWFnZTogZiwKCQkJCQkJCQkJdXJsOiBwLAoJCQkJCQkJCQl0cmFuc2xhdGVkTGFuZ3VhZ2U6IG0sCgkJCQkJCQkJCXRyYW5zbGF0ZWRVcmw6IGgKCQkJCQkJCQl9OwoJCQkJCQkJfSk7CgkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCXdhaXRpbmc6IHcud2FpdGluZywKCQkJCQkJCQlzdWJ0aXRsZXM6IFQKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYXN5bmMgZ2V0U3VidGl0bGVzVk9USW1wbCh7IHVybDogZCwgdmlkZW9JZDogZiwgc2VydmljZTogcCwgaGVhZGVyczogbSA9IHt9IH0pIHsKCQkJCQkJCWxldCBoID0gKDAsIHcucCkocCwgZiwgZCksIGcgPSBhd2FpdCB0aGlzLnJlcXVlc3RWT1QodGhpcy5wYXRocy52aWRlb1N1YnRpdGxlcywgewoJCQkJCQkJCXByb3ZpZGVyOiAieWFuZGV4IiwKCQkJCQkJCQlzZXJ2aWNlOiBoLnNlcnZpY2UsCgkJCQkJCQkJdmlkZW9faWQ6IGgudmlkZW9JZAoJCQkJCQkJfSwgbSk7CgkJCQkJCQlpZiAoIWcuc3VjY2VzcykgdGhyb3cgbmV3IFZPVEpTRXJyb3IoIkZhaWxlZCB0byByZXF1ZXN0IHZpZGVvIHN1YnRpdGxlcyIsIGcpOwoJCQkJCQkJbGV0IF8gPSBnLmRhdGEsIHYgPSBfLnJlZHVjZSgoZCwgZikgPT4gewoJCQkJCQkJCWlmICghZi5sYW5nX2Zyb20pIHJldHVybiBkOwoJCQkJCQkJCWxldCBwID0gXy5maW5kKChkKSA9PiBkLmxhbmcgPT09IGYubGFuZ19mcm9tKTsKCQkJCQkJCQlyZXR1cm4gcCAmJiBkLnB1c2goewoJCQkJCQkJCQlsYW5ndWFnZTogcC5sYW5nLAoJCQkJCQkJCQl1cmw6IHAuc3VidGl0bGVfdXJsLAoJCQkJCQkJCQl0cmFuc2xhdGVkTGFuZ3VhZ2U6IGYubGFuZywKCQkJCQkJCQkJdHJhbnNsYXRlZFVybDogZi5zdWJ0aXRsZV91cmwKCQkJCQkJCQl9KSwgZDsKCQkJCQkJCX0sIFtdKTsKCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJd2FpdGluZzogITEsCgkJCQkJCQkJc3VidGl0bGVzOiB2CgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJCWFzeW5jIGdldFN1YnRpdGxlcyh7IHZpZGVvRGF0YTogZCwgcmVxdWVzdExhbmc6IGYgPSB0aGlzLnJlcXVlc3RMYW5nLCBoZWFkZXJzOiBwID0ge30gfSkgewoJCQkJCQkJbGV0IHsgdXJsOiBtLCB2aWRlb0lkOiBoLCBob3N0OiBnIH0gPSBkOwoJCQkJCQkJcmV0dXJuIHRoaXMuaXNDdXN0b21MaW5rKG0pID8gYXdhaXQgdGhpcy5nZXRTdWJ0aXRsZXNWT1RJbXBsKHsKCQkJCQkJCQl1cmw6IG0sCgkJCQkJCQkJdmlkZW9JZDogaCwKCQkJCQkJCQlzZXJ2aWNlOiBnLAoJCQkJCQkJCWhlYWRlcnM6IHAKCQkJCQkJCX0pIDogYXdhaXQgdGhpcy5nZXRTdWJ0aXRsZXNZQUltcGwoewoJCQkJCQkJCXZpZGVvRGF0YTogZCwKCQkJCQkJCQlyZXF1ZXN0TGFuZzogZiwKCQkJCQkJCQloZWFkZXJzOiBwCgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCQlhc3luYyBwaW5nU3RyZWFtKHsgcGluZ0lkOiBkLCBoZWFkZXJzOiBmID0ge30gfSkgewoJCQkJCQkJbGV0IHAgPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oInZpZGVvLXRyYW5zbGF0aW9uIiksIG0gPSB4LlMuZW5jb2RlU3RyZWFtUGluZ1JlcXVlc3QoZCksIGggPSB0aGlzLnBhdGhzLnN0cmVhbVBpbmcsIGcgPSBhd2FpdCAoMCwgdi5DMCkoIlZ0cmFucyIsIHAsIG0sIGgpLCBfID0gYXdhaXQgdGhpcy5yZXF1ZXN0KGgsIG0sIHsKCQkJCQkJCQkuLi5nLAoJCQkJCQkJCS4uLmYKCQkJCQkJCX0pOwoJCQkJCQkJaWYgKCFfLnN1Y2Nlc3MpIHRocm93IG5ldyBWT1RKU0Vycm9yKCJGYWlsZWQgdG8gcmVxdWVzdCBzdHJlYW0gcGluZyIsIF8pOwoJCQkJCQkJcmV0dXJuICEwOwoJCQkJCQl9CgkJCQkJCWFzeW5jIHRyYW5zbGF0ZVN0cmVhbSh7IHZpZGVvRGF0YTogZCwgcmVxdWVzdExhbmc6IGYgPSB0aGlzLnJlcXVlc3RMYW5nLCByZXNwb25zZUxhbmc6IHAgPSB0aGlzLnJlc3BvbnNlTGFuZywgaGVhZGVyczogbSA9IHt9IH0pIHsKCQkJCQkJCWxldCB7IHVybDogaCB9ID0gZDsKCQkJCQkJCWlmICh0aGlzLmlzQ3VzdG9tTGluayhoKSkgdGhyb3cgbmV3IFQubigiVk9UU3RyZWFtTm90U3VwcG9ydGVkVXJsIik7CgkJCQkJCQlsZXQgYiA9IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbigidmlkZW8tdHJhbnNsYXRpb24iKSwgQyA9IHguUy5lbmNvZGVTdHJlYW1SZXF1ZXN0KGgsIGYsIHApLCB3ID0gdGhpcy5wYXRocy5zdHJlYW1UcmFuc2xhdGlvbiwgRSA9IGF3YWl0ICgwLCB2LkMwKSgiVnRyYW5zIiwgYiwgQywgdyksIEQgPSBhd2FpdCB0aGlzLnJlcXVlc3QodywgQywgewoJCQkJCQkJCS4uLkUsCgkJCQkJCQkJLi4ubQoJCQkJCQkJfSk7CgkJCQkJCQlpZiAoIUQuc3VjY2VzcykgdGhyb3cgbmV3IFZPVEpTRXJyb3IoIkZhaWxlZCB0byByZXF1ZXN0IHN0cmVhbSB0cmFuc2xhdGlvbiIsIEQpOwoJCQkJCQkJbGV0IE8gPSB4LlMuZGVjb2RlU3RyZWFtUmVzcG9uc2UoRC5kYXRhKSwgQSA9IE8uaW50ZXJ2YWw7CgkJCQkJCQlzd2l0Y2ggKEEpIHsKCQkJCQkJCQljYXNlIF8ucTguTk9fQ09OTkVDVElPTjoKCQkJCQkJCQljYXNlIF8ucTguVFJBTlNMQVRJTkc6IHJldHVybiB7CgkJCQkJCQkJCXRyYW5zbGF0ZWQ6ICExLAoJCQkJCQkJCQlpbnRlcnZhbDogQSwKCQkJCQkJCQkJbWVzc2FnZTogQSA9PT0gXy5xOC5OT19DT05ORUNUSU9OID8gInN0cmVhbU5vQ29ubmVjdGlvblRvU2VydmVyIiA6ICJ0cmFuc2xhdGlvblRha2VGZXdNaW51dGVzIgoJCQkJCQkJCX07CgkJCQkJCQkJY2FzZSBfLnE4LlNUUkVBTUlORzogcmV0dXJuIHsKCQkJCQkJCQkJdHJhbnNsYXRlZDogITAsCgkJCQkJCQkJCWludGVydmFsOiBBLAoJCQkJCQkJCQlwaW5nSWQ6IE8ucGluZ0lkLAoJCQkJCQkJCQlyZXN1bHQ6IE8udHJhbnNsYXRlZEluZm8KCQkJCQkJCQl9OwoJCQkJCQkJCWRlZmF1bHQ6IHRocm93IGcuQS5lcnJvcigiVW5rbm93biByZXNwb25zZSIsIE8pLCBuZXcgVk9USlNFcnJvcigiVW5rbm93biByZXNwb25zZSBmcm9tIFlhbmRleCIsIE8pOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJCWNsYXNzIFZPVFdvcmtlckNsaWVudCBleHRlbmRzIFZPVENsaWVudCB7CgkJCQkJCWNvbnN0cnVjdG9yKGQgPSB7fSkgewoJCQkJCQkJZC5ob3N0ID0gZC5ob3N0ID8/IGguQS5ob3N0V29ya2VyLCBzdXBlcihkKTsKCQkJCQkJfQoJCQkJCQlhc3luYyByZXF1ZXN0KGQsIGYsIHAgPSB7fSwgbSA9ICJQT1NUIikgewoJCQkJCQkJbGV0IGggPSB0aGlzLmdldE9wdHMoSlNPTi5zdHJpbmdpZnkoewoJCQkJCQkJCWhlYWRlcnM6IHsKCQkJCQkJCQkJLi4udGhpcy5oZWFkZXJzLAoJCQkJCQkJCQkuLi5wCgkJCQkJCQkJfSwKCQkJCQkJCQlib2R5OiBBcnJheS5mcm9tKGYpCgkJCQkJCQl9KSwgeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iIH0sIG0pOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5zY2hlbWF9Oi8vJHt0aGlzLmhvc3R9JHtkfWAsIGgpLCBwID0gYXdhaXQgZi5hcnJheUJ1ZmZlcigpOwoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6IGYuc3RhdHVzID09PSAyMDAsCgkJCQkJCQkJCWRhdGE6IHAKCQkJCQkJCQl9OwoJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCXN1Y2Nlc3M6ICExLAoJCQkJCQkJCQlkYXRhOiBkPy5tZXNzYWdlCgkJCQkJCQkJfTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlhc3luYyByZXF1ZXN0SlNPTihkLCBmID0gbnVsbCwgcCA9IHt9LCBtID0gIlBPU1QiKSB7CgkJCQkJCQlsZXQgaCA9IHRoaXMuZ2V0T3B0cyhKU09OLnN0cmluZ2lmeSh7CgkJCQkJCQkJaGVhZGVyczogewoJCQkJCQkJCQkuLi50aGlzLmhlYWRlcnMsCgkJCQkJCQkJCSJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCgkJCQkJCQkJCUFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAoJCQkJCQkJCQkuLi5wCgkJCQkJCQkJfSwKCQkJCQkJCQlib2R5OiBmCgkJCQkJCQl9KSwgewoJCQkJCQkJCUFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAoJCQkJCQkJCSJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKCQkJCQkJCX0sIG0pOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5zY2hlbWF9Oi8vJHt0aGlzLmhvc3R9JHtkfWAsIGgpLCBwID0gYXdhaXQgZi5qc29uKCk7CgkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJc3VjY2VzczogZi5zdGF0dXMgPT09IDIwMCwKCQkJCQkJCQkJZGF0YTogcAoJCQkJCQkJCX07CgkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJc3VjY2VzczogITEsCgkJCQkJCQkJCWRhdGE6IGQ/Lm1lc3NhZ2UKCQkJCQkJCQl9OwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC9wcm90b2J1Zi5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCVA6ICgpID0+IFlhbmRleFNlc3Npb25Qcm90b2J1ZiwKCQkJCVM6ICgpID0+IFlhbmRleFZPVFByb3RvYnVmCgkJCX0pOwoJCQl2YXIgbSA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvcHJvdG9zL3lhbmRleC5qcyIpOwoJCQljbGFzcyBZYW5kZXhWT1RQcm90b2J1ZiB7CgkJCQlzdGF0aWMgZW5jb2RlVHJhbnNsYXRpb25SZXF1ZXN0KGQsIGYsIHAsIGgsIGcsIHsgZm9yY2VTb3VyY2VMYW5nOiBfID0gITEsIHdhc1N0cmVhbTogdiA9ICExLCB2aWRlb1RpdGxlOiBiID0gIiIsIGJ5cGFzc0NhY2hlOiB4ID0gITEsIHVzZUxpdmVseVZvaWNlOiBDID0gITEsIGZpcnN0UmVxdWVzdDogdyA9ICEwIH0gPSB7fSkgewoJCQkJCXJldHVybiBtLnl5LmVuY29kZSh7CgkJCQkJCXVybDogZCwKCQkJCQkJZmlyc3RSZXF1ZXN0OiB3LAoJCQkJCQlkdXJhdGlvbjogZiwKCQkJCQkJdW5rbm93bjA6IDEsCgkJCQkJCWxhbmd1YWdlOiBwLAoJCQkJCQlmb3JjZVNvdXJjZUxhbmc6IF8sCgkJCQkJCXVua25vd24xOiAwLAoJCQkJCQl0cmFuc2xhdGlvbkhlbHA6IGcgPz8gW10sCgkJCQkJCXJlc3BvbnNlTGFuZ3VhZ2U6IGgsCgkJCQkJCXdhc1N0cmVhbTogdiwKCQkJCQkJdW5rbm93bjI6IDEsCgkJCQkJCXVua25vd24zOiAyLAoJCQkJCQlieXBhc3NDYWNoZTogeCwKCQkJCQkJdXNlTGl2ZWx5Vm9pY2U6IEMsCgkJCQkJCXZpZGVvVGl0bGU6IGIKCQkJCQl9KS5maW5pc2goKTsKCQkJCX0KCQkJCXN0YXRpYyBkZWNvZGVUcmFuc2xhdGlvblJlc3BvbnNlKGQpIHsKCQkJCQlyZXR1cm4gbS5BSi5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoZCkpOwoJCQkJfQoJCQkJc3RhdGljIGVuY29kZVRyYW5zbGF0aW9uQ2FjaGVSZXF1ZXN0KGQsIGYsIHAsIGgpIHsKCQkJCQlyZXR1cm4gbS5ZeC5lbmNvZGUoewoJCQkJCQl1cmw6IGQsCgkJCQkJCWR1cmF0aW9uOiBmLAoJCQkJCQlsYW5ndWFnZTogcCwKCQkJCQkJcmVzcG9uc2VMYW5ndWFnZTogaAoJCQkJCX0pLmZpbmlzaCgpOwoJCQkJfQoJCQkJc3RhdGljIGRlY29kZVRyYW5zbGF0aW9uQ2FjaGVSZXNwb25zZShkKSB7CgkJCQkJcmV0dXJuIG0uWksuZGVjb2RlKG5ldyBVaW50OEFycmF5KGQpKTsKCQkJCX0KCQkJCXN0YXRpYyBpc1BhcnRpYWxBdWRpb0J1ZmZlcihkKSB7CgkJCQkJcmV0dXJuICJjaHVua0lkIiBpbiBkOwoJCQkJfQoJCQkJc3RhdGljIGVuY29kZVRyYW5zbGF0aW9uQXVkaW9SZXF1ZXN0KGQsIGYsIHAsIGgpIHsKCQkJCQlyZXR1cm4gaCAmJiBZYW5kZXhWT1RQcm90b2J1Zi5pc1BhcnRpYWxBdWRpb0J1ZmZlcihwKSA/IG0uWTcuZW5jb2RlKHsKCQkJCQkJdXJsOiBkLAoJCQkJCQl0cmFuc2xhdGlvbklkOiBmLAoJCQkJCQlwYXJ0aWFsQXVkaW9JbmZvOiB7CgkJCQkJCQkuLi5oLAoJCQkJCQkJYXVkaW9CdWZmZXI6IHAKCQkJCQkJfQoJCQkJCX0pLmZpbmlzaCgpIDogbS5ZNy5lbmNvZGUoewoJCQkJCQl1cmw6IGQsCgkJCQkJCXRyYW5zbGF0aW9uSWQ6IGYsCgkJCQkJCWF1ZGlvSW5mbzogcAoJCQkJCX0pLmZpbmlzaCgpOwoJCQkJfQoJCQkJc3RhdGljIGRlY29kZVRyYW5zbGF0aW9uQXVkaW9SZXNwb25zZShkKSB7CgkJCQkJcmV0dXJuIG0uV2kuZGVjb2RlKG5ldyBVaW50OEFycmF5KGQpKTsKCQkJCX0KCQkJCXN0YXRpYyBlbmNvZGVTdWJ0aXRsZXNSZXF1ZXN0KGQsIGYpIHsKCQkJCQlyZXR1cm4gbS5QNC5lbmNvZGUoewoJCQkJCQl1cmw6IGQsCgkJCQkJCWxhbmd1YWdlOiBmCgkJCQkJfSkuZmluaXNoKCk7CgkJCQl9CgkJCQlzdGF0aWMgZGVjb2RlU3VidGl0bGVzUmVzcG9uc2UoZCkgewoJCQkJCXJldHVybiBtLkxELmRlY29kZShuZXcgVWludDhBcnJheShkKSk7CgkJCQl9CgkJCQlzdGF0aWMgZW5jb2RlU3RyZWFtUGluZ1JlcXVlc3QoZCkgewoJCQkJCXJldHVybiBtLmtPLmVuY29kZSh7IHBpbmdJZDogZCB9KS5maW5pc2goKTsKCQkJCX0KCQkJCXN0YXRpYyBlbmNvZGVTdHJlYW1SZXF1ZXN0KGQsIGYsIHApIHsKCQkJCQlyZXR1cm4gbS5Ydi5lbmNvZGUoewoJCQkJCQl1cmw6IGQsCgkJCQkJCWxhbmd1YWdlOiBmLAoJCQkJCQlyZXNwb25zZUxhbmd1YWdlOiBwLAoJCQkJCQl1bmtub3duMDogMSwKCQkJCQkJdW5rbm93bjE6IDAKCQkJCQl9KS5maW5pc2goKTsKCQkJCX0KCQkJCXN0YXRpYyBkZWNvZGVTdHJlYW1SZXNwb25zZShkKSB7CgkJCQkJcmV0dXJuIG0ubl8uZGVjb2RlKG5ldyBVaW50OEFycmF5KGQpKTsKCQkJCX0KCQkJfQoJCQljbGFzcyBZYW5kZXhTZXNzaW9uUHJvdG9idWYgewoJCQkJc3RhdGljIGVuY29kZVNlc3Npb25SZXF1ZXN0KGQsIGYpIHsKCQkJCQlyZXR1cm4gbS5scy5lbmNvZGUoewoJCQkJCQl1dWlkOiBkLAoJCQkJCQltb2R1bGU6IGYKCQkJCQl9KS5maW5pc2goKTsKCQkJCX0KCQkJCXN0YXRpYyBkZWNvZGVTZXNzaW9uUmVzcG9uc2UoZCkgewoJCQkJCXJldHVybiBtLkJ2LmRlY29kZShuZXcgVWludDhBcnJheShkKSk7CgkJCQl9CgkJCX0KCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC90eXBlcy9zZXJ2aWNlLmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyByOiAoKSA9PiBtIH0pOwoJCQl2YXIgbTsKCQkJKGZ1bmN0aW9uKGQpIHsKCQkJCWQuY3VzdG9tID0gImN1c3RvbSIsIGQuZGlyZWN0bGluayA9ICJjdXN0b20iLCBkLnlvdXR1YmUgPSAieW91dHViZSIsIGQucGlwZWQgPSAicGlwZWQiLCBkLmludmlkaW91cyA9ICJpbnZpZGlvdXMiLCBkLnZrID0gInZrIiwgZC5uaW5lX2dhZyA9ICJuaW5lX2dhZyIsIGQuZ2FnID0gIm5pbmVfZ2FnIiwgZC50d2l0Y2ggPSAidHdpdGNoIiwgZC5wcm94aXRvayA9ICJwcm94aXRvayIsIGQudGlrdG9rID0gInRpa3RvayIsIGQudmltZW8gPSAidmltZW8iLCBkLnh2aWRlb3MgPSAieHZpZGVvcyIsIGQucG9ybmh1YiA9ICJwb3JuaHViIiwgZC50d2l0dGVyID0gInR3aXR0ZXIiLCBkLnggPSAidHdpdHRlciIsIGQucnVtYmxlID0gInJ1bWJsZSIsIGQuZmFjZWJvb2sgPSAiZmFjZWJvb2siLCBkLnJ1dHViZSA9ICJydXR1YmUiLCBkLmNvdWIgPSAiY291YiIsIGQuYmlsaWJpbGkgPSAiYmlsaWJpbGkiLCBkLm1haWxfcnUgPSAibWFpbHJ1IiwgZC5tYWlscnUgPSAibWFpbHJ1IiwgZC5iaXRjaHV0ZSA9ICJiaXRjaHV0ZSIsIGQuZXBvcm5lciA9ICJlcG9ybmVyIiwgZC5wZWVydHViZSA9ICJwZWVydHViZSIsIGQuZGFpbHltb3Rpb24gPSAiZGFpbHltb3Rpb24iLCBkLnRyb3ZvID0gInRyb3ZvIiwgZC55YW5kZXhkaXNrID0gInlhbmRleGRpc2siLCBkLm9rX3J1ID0gIm9rcnUiLCBkLm9rcnUgPSAib2tydSIsIGQuZ29vZ2xlZHJpdmUgPSAiZ29vZ2xlZHJpdmUiLCBkLmJhbm5lZHZpZGVvID0gImJhbm5lZHZpZGVvIiwgZC53ZXZlcnNlID0gIndldmVyc2UiLCBkLm5ld2dyb3VuZHMgPSAibmV3Z3JvdW5kcyIsIGQuZWdnaGVhZCA9ICJlZ2doZWFkIiwgZC55b3VrdSA9ICJ5b3VrdSIsIGQuYXJjaGl2ZSA9ICJhcmNoaXZlIiwgZC5rb2RpayA9ICJrb2RpayIsIGQucGF0cmVvbiA9ICJwYXRyZW9uIiwgZC5yZWRkaXQgPSAicmVkZGl0IiwgZC5raWNrID0gImtpY2siLCBkLmFwcGxlX2RldmVsb3BlciA9ICJhcHBsZV9kZXZlbG9wZXIiLCBkLmFwcGxlZGV2ZWxvcGVyID0gImFwcGxlX2RldmVsb3BlciIsIGQucG9rZXR1YmUgPSAicG9rZXR1YmUiLCBkLmVwaWNnYW1lcyA9ICJlcGljZ2FtZXMiLCBkLm9keXNlZSA9ICJvZHlzZWUiLCBkLmNvdXJzZWh1bnRlckxpa2UgPSAiY291cnNlaHVudGVyTGlrZSIsIGQuc2FwID0gInNhcCIsIGQud2F0Y2hwb3JudG8gPSAid2F0Y2hwb3JudG8iLCBkLmxpbmtlZGluID0gImxpbmtlZGluIiwgZC5yaWNrdHViZSA9ICJyaWNrdHViZSIsIGQuaW5jZXN0ZmxpeCA9ICJpbmNlc3RmbGl4IiwgZC5wb3JudG4gPSAicG9ybnRuIiwgZC5kemVuID0gImR6ZW4iLCBkLmNsb3VkZmxhcmVzdHJlYW0gPSAiY2xvdWRmbGFyZXN0cmVhbSIsIGQubG9vbSA9ICJsb29tIiwgZC5ydG5ld3MgPSAicnRuZXdzIiwgZC5iaXR2aWV3ID0gImJpdHZpZXciLCBkLnRoaXN2aWQgPSAidGhpc3ZpZCIsIGQuaWduID0gImlnbiIsIGQuYnVua3IgPSAiYnVua3IiLCBkLmltZGIgPSAiaW1kYiIsIGQudGVsZWdyYW0gPSAidGVsZWdyYW0iOwoJCQl9KShtIHx8PSB7fSk7CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdHlwZXMveWFuZGV4LmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgewoJCQkJSjogKCkgPT4gaCwKCQkJCXY6ICgpID0+IG0KCQkJfSk7CgkJCXZhciBtOwoJCQkoZnVuY3Rpb24oZCkgewoJCQkJZFtkLkZBSUxFRCA9IDBdID0gIkZBSUxFRCIsIGRbZC5GSU5JU0hFRCA9IDFdID0gIkZJTklTSEVEIiwgZFtkLldBSVRJTkcgPSAyXSA9ICJXQUlUSU5HIiwgZFtkLkxPTkdfV0FJVElORyA9IDNdID0gIkxPTkdfV0FJVElORyIsIGRbZC5QQVJUX0NPTlRFTlQgPSA1XSA9ICJQQVJUX0NPTlRFTlQiLCBkW2QuQVVESU9fUkVRVUVTVEVEID0gNl0gPSAiQVVESU9fUkVRVUVTVEVEIiwgZFtkLlNFU1NJT05fUkVRVUlSRUQgPSA3XSA9ICJTRVNTSU9OX1JFUVVJUkVEIjsKCQkJfSkobSB8fD0ge30pOwoJCQl2YXIgaDsKCQkJKGZ1bmN0aW9uKGQpIHsKCQkJCWQuV0VCX0FQSV9WSURFT19TUkNfRlJPTV9JRlJBTUUgPSAid2ViX2FwaV92aWRlb19zcmNfZnJvbV9pZnJhbWUiLCBkLldFQl9BUElfVklERU9fU1JDID0gIndlYl9hcGlfdmlkZW9fc3JjIiwgZC5XRUJfQVBJX0dFVF9BTExfR0VORVJBVElOR19VUkxTX0RBVEFfRlJPTV9JRlJBTUUgPSAid2ViX2FwaV9nZXRfYWxsX2dlbmVyYXRpbmdfdXJsc19kYXRhX2Zyb21faWZyYW1lIiwgZC5XRUJfQVBJX0dFVF9BTExfR0VORVJBVElOR19VUkxTX0RBVEFfRlJPTV9JRlJBTUVfVE1QX0VYUCA9ICJ3ZWJfYXBpX2dldF9hbGxfZ2VuZXJhdGluZ191cmxzX2RhdGFfZnJvbV9pZnJhbWVfdG1wX2V4cCIsIGQuV0VCX0FQSV9SRVBMQUNFRF9GRVRDSF9JTlNJREVfSUZSQU1FID0gIndlYl9hcGlfcmVwbGFjZWRfZmV0Y2hfaW5zaWRlX2lmcmFtZSIsIGQuQU5EUk9JRF9BUEkgPSAiYW5kcm9pZF9hcGkiLCBkLldFQl9BUElfU0xPVyA9ICJ3ZWJfYXBpX3Nsb3ciLCBkLldFQl9BUElfU1RFQUxfU0lHX0FORF9OID0gIndlYl9hcGlfc3RlYWxfc2lnX2FuZF9uIiwgZC5XRUJfQVBJX0NPTUJJTkVEID0gIndlYl9hcGlfZ2V0X2FsbF9nZW5lcmF0aW5nX3VybHNfZGF0YV9mcm9tX2lmcmFtZSx3ZWJfYXBpX3N0ZWFsX3NpZ19hbmRfbiI7CgkJCX0pKGggfHw9IHt9KTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC91dGlscy92aWRlb0RhdGEuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7CgkJCQkkOiAoKSA9PiBtLAoJCQkJQTogKCkgPT4gVmlkZW9EYXRhRXJyb3IKCQkJfSk7CgkJCWNsYXNzIFZpZGVvRGF0YUVycm9yIGV4dGVuZHMgRXJyb3IgewoJCQkJY29uc3RydWN0b3IoZCkgewoJCQkJCXN1cGVyKGQpLCB0aGlzLm5hbWUgPSAiVmlkZW9EYXRhRXJyb3IiLCB0aGlzLm1lc3NhZ2UgPSBkOwoJCQkJfQoJCQl9CgkJCWxldCBtID0gLyhmaWxlOlwvXC8oXC8pP3woaHR0cChzKT86XC9cLykoMTI3XC4wXC4wXC4xfGxvY2FsaG9zdHwxOTJcLjE2OFwuKFxkKXsxLDN9XC4oXGQpezEsM30pKS87CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdXRpbHMvdm90LmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyBwOiAoKSA9PiBjb252ZXJ0Vk9UIH0pOwoJCQl2YXIgbSA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3R5cGVzL3NlcnZpY2UuanMiKTsKCQkJZnVuY3Rpb24gY29udmVydFZPVChkLCBmLCBwKSB7CgkJCQlyZXR1cm4gZCA9PT0gbS5yLnBhdHJlb24gPyB7CgkJCQkJc2VydmljZTogIm11eCIsCgkJCQkJdmlkZW9JZDogbmV3IFVSTChwKS5wYXRobmFtZS5zbGljZSgxKQoJCQkJfSA6IHsKCQkJCQlzZXJ2aWNlOiBkLAoJCQkJCXZpZGVvSWQ6IGYKCQkJCX07CgkJCX0KCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2NsaWVudC5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7CgkJCQkJCUE6ICgpID0+IFZPVENsaWVudCwKCQkJCQkJUDogKCkgPT4gVk9UV29ya2VyQ2xpZW50CgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC9jbGllbnQuanMiKSwgZyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3Qvc2VjdXJlLmpzIiksIF8gPSBkKFtoXSk7CgkJCQkJaCA9IChfLnRoZW4gPyAoYXdhaXQgXykoKSA6IF8pWzBdOwoJCQkJCWNsYXNzIFZPVENsaWVudCBleHRlbmRzIGguQXkgewoJCQkJCQljb25zdHJ1Y3RvcihkKSB7CgkJCQkJCQlzdXBlcihkKSwgdGhpcy5oZWFkZXJzID0gewoJCQkJCQkJCS4uLmcuTUcsCgkJCQkJCQkJLi4udGhpcy5oZWFkZXJzCgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJfQoJCQkJCWNsYXNzIFZPVFdvcmtlckNsaWVudCBleHRlbmRzIGguUHUgewoJCQkJCQljb25zdHJ1Y3RvcihkKSB7CgkJCQkJCQlzdXBlcihkKSwgdGhpcy5oZWFkZXJzID0gewoJCQkJCQkJCS4uLmcuTUcsCgkJCQkJCQkJLi4udGhpcy5oZWFkZXJzCgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2RhdGEvc2l0ZXMuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7IEE6ICgpID0+IF8gfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdHlwZXMvc2VydmljZS5qcyIpLCBoID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2FsdGVybmF0aXZlVXJscy5qcyIpLCBnID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC90eXBlcy9zZXJ2aWNlLmpzIik7CgkJCWxldCBfID0gWwoJCQkJewoJCQkJCWFkZGl0aW9uYWxEYXRhOiAibW9iaWxlIiwKCQkJCQlob3N0OiBtLnIueW91dHViZSwKCQkJCQl1cmw6ICJodHRwczovL3lvdXR1LmJlLyIsCgkJCQkJbWF0Y2g6IC9ebS55b3V0dWJlLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLnBsYXllci1jb250YWluZXIiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci55b3V0dWJlLAoJCQkJCXVybDogImh0dHBzOi8veW91dHUuYmUvIiwKCQkJCQltYXRjaDogL14od3d3Lik/eW91dHViZSgtbm9jb29raWV8a2lkcyk/LmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLmh0bWw1LXZpZGVvLWNvbnRhaW5lcjpub3QoI2lubGluZS1wbGF5ZXIgKikiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5pbnZpZGlvdXMsCgkJCQkJdXJsOiAiaHR0cHM6Ly95b3V0dS5iZS8iLAoJCQkJCW1hdGNoOiBoLlhtLAoJCQkJCXNlbGVjdG9yOiAiI3BsYXllciIsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnBpcGVkLAoJCQkJCXVybDogImh0dHBzOi8veW91dHUuYmUvIiwKCQkJCQltYXRjaDogaC5KbywKCQkJCQlzZWxlY3RvcjogIi5zaGFrYS12aWRlby1jb250YWluZXIiLAoJCQkJCW5lZWRCeXBhc3NDU1A6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5wb2tldHViZSwKCQkJCQl1cmw6ICJodHRwczovL3lvdXR1LmJlLyIsCgkJCQkJbWF0Y2g6IGguc3gsCgkJCQkJc2VsZWN0b3I6ICIudmlkZW8tcGxheWVyLWNvbnRhaW5lciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnJpY2t0dWJlLAoJCQkJCXVybDogImh0dHBzOi8veW91dHUuYmUvIiwKCQkJCQltYXRjaDogaC5NeSwKCQkJCQlzZWxlY3RvcjogIiNvZnJhbWVwbGF5ZXIgPiBwanNkaXY6aGFzKHZpZGVvKSIKCQkJCX0sCgkJCQl7CgkJCQkJYWRkaXRpb25hbERhdGE6ICJtb2JpbGUiLAoJCQkJCWhvc3Q6IG0uci52aywKCQkJCQl1cmw6ICJodHRwczovL3ZrLmNvbS92aWRlbz96PSIsCgkJCQkJbWF0Y2g6IFsvXm0udmsuKGNvbXxydSkkLywgL15tLnZrdmlkZW8ucnUkL10sCgkJCQkJc2VsZWN0b3I6ICJ2ay12aWRlby1wbGF5ZXIiLAoJCQkJCXNoYWRvd1Jvb3Q6ICEwLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWFkZGl0aW9uYWxEYXRhOiAiY2xpcHMiLAoJCQkJCWhvc3Q6IG0uci52aywKCQkJCQl1cmw6ICJodHRwczovL3ZrLmNvbS92aWRlbz96PSIsCgkJCQkJbWF0Y2g6IC9eKHd3dy58bS4pP3ZrLihjb218cnUpJC8sCgkJCQkJc2VsZWN0b3I6ICJkaXZbZGF0YS10ZXN0aWQ9XCJjbGlwY29udGFpbmVyLXZpZGVvXCJdIiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIudmssCgkJCQkJdXJsOiAiaHR0cHM6Ly92ay5jb20vdmlkZW8/ej0iLAoJCQkJCW1hdGNoOiBbL14od3d3LnxtLik/dmsuKGNvbXxydSkkLywgL14od3d3LnxtLik/dmt2aWRlby5ydSQvXSwKCQkJCQlzZWxlY3RvcjogIi52aWRlb3BsYXllcl9tZWRpYSIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLm5pbmVfZ2FnLAoJCQkJCXVybDogImh0dHBzOi8vOWdhZy5jb20vZ2FnLyIsCgkJCQkJbWF0Y2g6IC9eOWdhZy5jb20kLywKCQkJCQlzZWxlY3RvcjogIi52aWRlby1wb3N0IiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIudHdpdGNoLAoJCQkJCXVybDogImh0dHBzOi8vdHdpdGNoLnR2LyIsCgkJCQkJbWF0Y2g6IFsKCQkJCQkJL15tLnR3aXRjaC50diQvLAoJCQkJCQkvXih3d3cuKT90d2l0Y2gudHYkLywKCQkJCQkJL15jbGlwcy50d2l0Y2gudHYkLywKCQkJCQkJL15wbGF5ZXIudHdpdGNoLnR2JC8KCQkJCQldLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwLAoJCQkJCXNlbGVjdG9yOiAiLnZpZGVvLXJlZiwgbWFpbiA+IGRpdiA+IHNlY3Rpb24gPiBkaXYgPiBkaXYgPiBkaXYiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5wcm94aXRvaywKCQkJCQl1cmw6ICJodHRwczovL3d3dy50aWt0b2suY29tLyIsCgkJCQkJbWF0Y2g6IGguVFAsCgkJCQkJc2VsZWN0b3I6ICIuY29sdW1uLmhhcy10ZXh0LWNlbnRlcmVkIgoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIudGlrdG9rLAoJCQkJCXVybDogImh0dHBzOi8vd3d3LnRpa3Rvay5jb20vIiwKCQkJCQltYXRjaDogL14od3d3Lik/dGlrdG9rLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiBudWxsCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IGcuUS5kb3V5aW4sCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuZG91eWluLmNvbS8iLAoJCQkJCW1hdGNoOiAvXih3d3cuKT9kb3V5aW4uY29tLywKCQkJCQlzZWxlY3RvcjogIi54Zy12aWRlby1jb250YWluZXIiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwLAoJCQkJCW5lZWRCeXBhc3NDU1A6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci52aW1lbywKCQkJCQl1cmw6ICJodHRwczovL3ZpbWVvLmNvbS8iLAoJCQkJCW1hdGNoOiAvXnZpbWVvLmNvbSQvLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwLAoJCQkJCXNlbGVjdG9yOiAiLnBsYXllciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnZpbWVvLAoJCQkJCXVybDogImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS8iLAoJCQkJCW1hdGNoOiAvXnBsYXllci52aW1lby5jb20kLywKCQkJCQlhZGRpdGlvbmFsRGF0YTogImVtYmVkIiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMCwKCQkJCQluZWVkQnlwYXNzQ1NQOiAhMCwKCQkJCQlzZWxlY3RvcjogIi5wbGF5ZXIiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci54dmlkZW9zLAoJCQkJCXVybDogImh0dHBzOi8vd3d3Lnh2aWRlb3MuY29tLyIsCgkJCQkJbWF0Y2g6IFsKCQkJCQkJL14od3d3Lik/eHZpZGVvcygtYXIpPy5jb20kLywKCQkJCQkJL14od3d3Lik/eHZpZGVvcyhcZFxkXGQpLmNvbSQvLAoJCQkJCQkvXih3d3cuKT94di1ydS5jb20kLwoJCQkJCV0sCgkJCQkJc2VsZWN0b3I6ICIjaGxzcGxheWVyIiwKCQkJCQluZWVkQnlwYXNzQ1NQOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIucG9ybmh1YiwKCQkJCQl1cmw6ICJodHRwczovL3J0LnBvcm5odWIuY29tL3ZpZXdfdmlkZW8ucGhwP3ZpZXdrZXk9IiwKCQkJCQltYXRjaDogL15bYS16XSsucG9ybmh1Yi4oY29tfG9yZykkLywKCQkJCQlzZWxlY3RvcjogIi5tYWluUGxheWVyRGl2ID4gLnZpZGVvLWVsZW1lbnQtd3JhcHBlci1qcyA+IGRpdiIsCgkJCQkJZXZlbnRTZWxlY3RvcjogIi5tZ3BfZXZlbnRDYXRjaGVyIgoJCQkJfSwKCQkJCXsKCQkJCQlhZGRpdGlvbmFsRGF0YTogImVtYmVkIiwKCQkJCQlob3N0OiBtLnIucG9ybmh1YiwKCQkJCQl1cmw6ICJodHRwczovL3J0LnBvcm5odWIuY29tL3ZpZXdfdmlkZW8ucGhwP3ZpZXdrZXk9IiwKCQkJCQltYXRjaDogKGQpID0+IC9eW2Etel0rLnBvcm5odWIuKGNvbXxvcmcpJC8uZXhlYyhkLmhvc3QpICYmIGQucGF0aG5hbWUuc3RhcnRzV2l0aCgiL2VtYmVkLyIpLAoJCQkJCXNlbGVjdG9yOiAiI3BsYXllciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnR3aXR0ZXIsCgkJCQkJdXJsOiAiaHR0cHM6Ly90d2l0dGVyLmNvbS9pL3N0YXR1cy8iLAoJCQkJCW1hdGNoOiAvXih0d2l0dGVyfHgpLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiZGl2W2RhdGEtdGVzdGlkPVwidmlkZW9Db21wb25lbnRcIl0gPiBkaXY6bnRoLWNoaWxkKDEpID4gZGl2IiwKCQkJCQlldmVudFNlbGVjdG9yOiAiZGl2W2RhdGEtdGVzdGlkPVwidmlkZW9QbGF5ZXJcIl0iLAoJCQkJCW5lZWRCeXBhc3NDU1A6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5ydW1ibGUsCgkJCQkJdXJsOiAiaHR0cHM6Ly9ydW1ibGUuY29tLyIsCgkJCQkJbWF0Y2g6IC9ecnVtYmxlLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiI3ZpZGVvUGxheWVyID4gLnZpZGVvUGxheWVyLVJ1bWJsZS1jbHMgPiBkaXYiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5mYWNlYm9vaywKCQkJCQl1cmw6ICJodHRwczovL2ZhY2Vib29rLmNvbS8iLAoJCQkJCW1hdGNoOiAoZCkgPT4gZC5ob3N0LmluY2x1ZGVzKCJmYWNlYm9vay5jb20iKSAmJiBkLnBhdGhuYW1lLmluY2x1ZGVzKCIvdmlkZW9zLyIpLAoJCQkJCXNlbGVjdG9yOiAiZGl2W3JvbGU9XCJtYWluXCJdIGRpdltkYXRhLXBhZ2VsZXQkPVwidmlkZW9cIiBpXSIsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJYWRkaXRpb25hbERhdGE6ICJyZWVscyIsCgkJCQkJaG9zdDogbS5yLmZhY2Vib29rLAoJCQkJCXVybDogImh0dHBzOi8vZmFjZWJvb2suY29tLyIsCgkJCQkJbWF0Y2g6IChkKSA9PiBkLmhvc3QuaW5jbHVkZXMoImZhY2Vib29rLmNvbSIpICYmIGQucGF0aG5hbWUuaW5jbHVkZXMoIi9yZWVsLyIpLAoJCQkJCXNlbGVjdG9yOiAiZGl2W3JvbGU9XCJtYWluXCJdIiwKCQkJCQluZWVkQnlwYXNzQ1NQOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIucnV0dWJlLAoJCQkJCXVybDogImh0dHBzOi8vcnV0dWJlLnJ1L3ZpZGVvLyIsCgkJCQkJbWF0Y2g6IC9ecnV0dWJlLnJ1JC8sCgkJCQkJc2VsZWN0b3I6ICIudmlkZW8tcGxheWVyID4gZGl2ID4gZGl2ID4gZGl2Om50aC1jaGlsZCgyKSIKCQkJCX0sCgkJCQl7CgkJCQkJYWRkaXRpb25hbERhdGE6ICJlbWJlZCIsCgkJCQkJaG9zdDogbS5yLnJ1dHViZSwKCQkJCQl1cmw6ICJodHRwczovL3J1dHViZS5ydS92aWRlby8iLAoJCQkJCW1hdGNoOiAvXnJ1dHViZS5ydSQvLAoJCQkJCXNlbGVjdG9yOiAiI2FwcCA+IGRpdiA+IGRpdiIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmJpbGliaWxpLAoJCQkJCXVybDogImh0dHBzOi8vd3d3LmJpbGliaWxpLmNvbS8iLAoJCQkJCW1hdGNoOiAvXih3d3d8bXxwbGF5ZXIpLmJpbGliaWxpLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLmJweC1wbGF5ZXItdmlkZW8td3JhcCIKCQkJCX0sCgkJCQl7CgkJCQkJYWRkaXRpb25hbERhdGE6ICJvbGQiLAoJCQkJCWhvc3Q6IG0uci5iaWxpYmlsaSwKCQkJCQl1cmw6ICJodHRwczovL3d3dy5iaWxpYmlsaS5jb20vIiwKCQkJCQltYXRjaDogL14od3d3fG0pLmJpbGliaWxpLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiBudWxsCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5tYWlscnUsCgkJCQkJdXJsOiAiaHR0cHM6Ly9teS5tYWlsLnJ1LyIsCgkJCQkJbWF0Y2g6IC9ebXkubWFpbC5ydSQvLAoJCQkJCXNlbGVjdG9yOiAiI2ItdmlkZW8td3JhcHBlciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmJpdGNodXRlLAoJCQkJCXVybDogImh0dHBzOi8vd3d3LmJpdGNodXRlLmNvbS92aWRlby8iLAoJCQkJCW1hdGNoOiAvXih3d3cuKT9iaXRjaHV0ZS5jb20kLywKCQkJCQlzZWxlY3RvcjogIi52aWRlby1qcyIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmVwb3JuZXIsCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuZXBvcm5lci5jb20vIiwKCQkJCQltYXRjaDogL14od3d3Lik/ZXBvcm5lci5jb20kLywKCQkJCQlzZWxlY3RvcjogIi52anMtdjciCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5wZWVydHViZSwKCQkJCQl1cmw6ICJzdHViIiwKCQkJCQltYXRjaDogaC5mViwKCQkJCQlzZWxlY3RvcjogIi52anMtdjciCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5kYWlseW1vdGlvbiwKCQkJCQl1cmw6ICJodHRwczovL2RhaS5seS8iLAoJCQkJCW1hdGNoOiAvXmdlbyhbXGRdKyk/LmRhaWx5bW90aW9uLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLnBsYXllciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnRyb3ZvLAoJCQkJCXVybDogImh0dHBzOi8vdHJvdm8ubGl2ZS9zLyIsCgkJCQkJbWF0Y2g6IC9edHJvdm8ubGl2ZSQvLAoJCQkJCXNlbGVjdG9yOiAiLnBsYXllci12aWRlbyIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnlhbmRleGRpc2ssCgkJCQkJdXJsOiAiaHR0cHM6Ly95YWRpLnNrLyIsCgkJCQkJbWF0Y2g6IC9eZGlzay55YW5kZXguKHJ1fGt6fGNvbShcLihhbXxnZXx0cikpP3xieXxhenxjb1wuaWx8ZWV8bHR8bHZ8bWR8bmV0fHRqfHRtfHV6KSQvLAoJCQkJCXNlbGVjdG9yOiAiLnZpZGVvLXBsYXllcl9fcGxheWVyID4gZGl2Om50aC1jaGlsZCgxKSIsCgkJCQkJZXZlbnRTZWxlY3RvcjogIi52aWRlby1wbGF5ZXJfX3BsYXllciIsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLm9rcnUsCgkJCQkJdXJsOiAiaHR0cHM6Ly9vay5ydS92aWRlby8iLAoJCQkJCW1hdGNoOiAvXm9rLnJ1JC8sCgkJCQkJc2VsZWN0b3I6ICJ2ay12aWRlby1wbGF5ZXIiLAoJCQkJCXNoYWRvd1Jvb3Q6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5nb29nbGVkcml2ZSwKCQkJCQl1cmw6ICJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLyIsCgkJCQkJbWF0Y2g6IC9eeW91dHViZS5nb29nbGVhcGlzLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLmh0bWw1LXZpZGVvLWNvbnRhaW5lciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmJhbm5lZHZpZGVvLAoJCQkJCXVybDogImh0dHBzOi8vbWFkbWF4d29ybGQudHYvd2F0Y2g/aWQ9IiwKCQkJCQltYXRjaDogL14od3d3Lik/YmFubmVkLnZpZGVvfG1hZG1heHdvcmxkLnR2JC8sCgkJCQkJc2VsZWN0b3I6ICIudmpzLXY3IiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIud2V2ZXJzZSwKCQkJCQl1cmw6ICJodHRwczovL3dldmVyc2UuaW8vIiwKCQkJCQltYXRjaDogL153ZXZlcnNlLmlvJC8sCgkJCQkJc2VsZWN0b3I6ICIud2VicGxheWVyLWludGVybmFsLXNvdXJjZS13cmFwcGVyIiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIubmV3Z3JvdW5kcywKCQkJCQl1cmw6ICJodHRwczovL3d3dy5uZXdncm91bmRzLmNvbS8iLAoJCQkJCW1hdGNoOiAvXih3d3cuKT9uZXdncm91bmRzLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLm5nLXZpZGVvLXBsYXllciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmVnZ2hlYWQsCgkJCQkJdXJsOiAiaHR0cHM6Ly9lZ2doZWFkLmlvLyIsCgkJCQkJbWF0Y2g6IC9eZWdnaGVhZC5pbyQvLAoJCQkJCXNlbGVjdG9yOiAiLmN1ZXBsYXllci1yZWFjdC12aWRlby1ob2xkZXIiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci55b3VrdSwKCQkJCQl1cmw6ICJodHRwczovL3YueW91a3UuY29tLyIsCgkJCQkJbWF0Y2g6IC9edi55b3VrdS5jb20kLywKCQkJCQlzZWxlY3RvcjogIiN5a1BsYXllciIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmFyY2hpdmUsCgkJCQkJdXJsOiAiaHR0cHM6Ly9hcmNoaXZlLm9yZy9kZXRhaWxzLyIsCgkJCQkJbWF0Y2g6IC9eYXJjaGl2ZS5vcmckLywKCQkJCQlzZWxlY3RvcjogIi5qdy1tZWRpYSIKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmtvZGlrLAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiAvXmtvZGlrLihpbmZvfGJpenxjYykkLywKCQkJCQlzZWxlY3RvcjogIi5mcC1wbGF5ZXIiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5wYXRyZW9uLAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiAvXih3d3cuKT9wYXRyZW9uLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiZGl2W2RhdGEtdGFnPVwicG9zdC1jYXJkXCJdIGRpdltlbGV2YXRpb249XCJzdWJ0bGVcIl0gPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWFkZGl0aW9uYWxEYXRhOiAib2xkIiwKCQkJCQlob3N0OiBtLnIucmVkZGl0LAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiAvXm9sZC5yZWRkaXQuY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIucmVkZGl0LXZpZGVvLXBsYXllci1yb290IiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMCwKCQkJCQluZWVkQnlwYXNzQ1NQOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIucmVkZGl0LAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiAvXih3d3cufG5ldy4pP3JlZGRpdC5jb20kLywKCQkJCQlzZWxlY3RvcjogImRpdltzbG90PXBvc3QtbWVkaWEtY29udGFpbmVyXSIsCgkJCQkJc2hhZG93Um9vdDogITAsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmtpY2ssCgkJCQkJdXJsOiAiaHR0cHM6Ly9raWNrLmNvbS8iLAoJCQkJCW1hdGNoOiAvXmtpY2suY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIjaW5qZWN0ZWQtZW1iZWRkZWQtY2hhbm5lbC1wbGF5ZXItdmlkZW8gPiBkaXYiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5hcHBsZWRldmVsb3BlciwKCQkJCQl1cmw6ICJodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vIiwKCQkJCQltYXRjaDogL15kZXZlbG9wZXIuYXBwbGUuY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIuZGV2ZWxvcGVyLXZpZGVvLXBsYXllciIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmVwaWNnYW1lcywKCQkJCQl1cmw6ICJodHRwczovL2Rldi5lcGljZ2FtZXMuY29tL2NvbW11bml0eS9sZWFybmluZy8iLAoJCQkJCW1hdGNoOiAvXmRldi5lcGljZ2FtZXMuY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIudmpzLXY3IiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIub2R5c2VlLAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiAvXm9keXNlZS5jb20kLywKCQkJCQlzZWxlY3RvcjogIi52anMtdjciLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5jb3Vyc2VodW50ZXJMaWtlLAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiBoLnIsCgkJCQkJc2VsZWN0b3I6ICIjb2ZyYW1lcGxheWVyID4gcGpzZGl2Omhhcyh2aWRlbykiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5zYXAsCgkJCQkJdXJsOiAiaHR0cHM6Ly9sZWFybmluZy5zYXAuY29tL2NvdXJzZXMvIiwKCQkJCQltYXRjaDogL15sZWFybmluZy5zYXAuY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIucGxheWtpdC1jb250YWluZXIiLAoJCQkJCWV2ZW50U2VsZWN0b3I6ICIucGxheWtpdC1wbGF5ZXIiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwLAoJCQkJCW5lZWRCeXBhc3NDU1A6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IGcuUS51ZGVteSwKCQkJCQl1cmw6ICJodHRwczovL3d3dy51ZGVteS5jb20vIiwKCQkJCQltYXRjaDogL3VkZW15LmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiZGl2W2RhdGEtcHVycG9zZT1cImN1cnJpY3VsdW0taXRlbS12aWV3ZXItY29udGVudFwiXSA+IHNlY3Rpb24gPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXY6bnRoLW9mLXR5cGUoMikiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IGcuUS5jb3Vyc2VyYSwKCQkJCQl1cmw6ICJodHRwczovL3d3dy5jb3Vyc2VyYS5vcmcvIiwKCQkJCQltYXRjaDogL2NvdXJzZXJhLm9yZyQvLAoJCQkJCXNlbGVjdG9yOiAiLnZqcy12OCIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLndhdGNocG9ybnRvLAoJCQkJCXVybDogImh0dHBzOi8vd2F0Y2hwb3JuLnRvLyIsCgkJCQkJbWF0Y2g6IC9ed2F0Y2hwb3JuLnRvJC8sCgkJCQkJc2VsZWN0b3I6ICIuZnAtcGxheWVyIgoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIubGlua2VkaW4sCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2xlYXJuaW5nLyIsCgkJCQkJbWF0Y2g6IC9eKHd3dy4pP2xpbmtlZGluLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLnZqcy12NyIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmluY2VzdGZsaXgsCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuaW5jZXN0ZmxpeC5uZXQvd2F0Y2gvIiwKCQkJCQltYXRjaDogL14od3d3Lik/aW5jZXN0ZmxpeC4obmV0fHRvfGNvbSkkLywKCQkJCQlzZWxlY3RvcjogIiNpbmNmbGl4LXN0cmVhbSIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLnBvcm50biwKCQkJCQl1cmw6ICJodHRwczovL3Bvcm50bi5jb20vdmlkZW9zLyIsCgkJCQkJbWF0Y2g6IC9ecG9ybnRuLmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLmZwLXBsYXllciIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmR6ZW4sCgkJCQkJdXJsOiAiaHR0cHM6Ly9kemVuLnJ1L3ZpZGVvL3dhdGNoLyIsCgkJCQkJbWF0Y2g6IC9eZHplbi5ydSQvLAoJCQkJCXNlbGVjdG9yOiAiLnplbi11aS12aWRlby12aWRlby1wbGF5ZXIiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5jbG91ZGZsYXJlc3RyZWFtLAoJCQkJCXVybDogInN0dWIiLAoJCQkJCW1hdGNoOiAvXih3YXRjaHxlbWJlZHxpZnJhbWV8Y3VzdG9tZXItW14uXSspLmNsb3VkZmxhcmVzdHJlYW0uY29tJC8sCgkJCQkJc2VsZWN0b3I6IG51bGwKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmxvb20sCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cubG9vbS5jb20vc2hhcmUvIiwKCQkJCQltYXRjaDogL14od3d3Lik/bG9vbS5jb20kLywKCQkJCQlzZWxlY3RvcjogIi5WaWRlb0xheWVyc0NvbnRhaW5lciIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogZy5RLmFydHN0YXRpb24sCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuYXJ0c3RhdGlvbi5jb20vbGVhcm5pbmcvIiwKCQkJCQltYXRjaDogL14od3d3Lik/YXJ0c3RhdGlvbi5jb20kLywKCQkJCQlzZWxlY3RvcjogIi52anMtdjciLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5ydG5ld3MsCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cucnQuY29tLyIsCgkJCQkJbWF0Y2g6IC9eKHd3dy4pP3J0LmNvbSQvLAoJCQkJCXNlbGVjdG9yOiAiLmp3LW1lZGlhIiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIuYml0dmlldywKCQkJCQl1cmw6ICJodHRwczovL3d3dy5iaXR2aWV3Lm5ldC93YXRjaD92PSIsCgkJCQkJbWF0Y2g6IC9eKHd3dy4pP2JpdHZpZXcubmV0JC8sCgkJCQkJc2VsZWN0b3I6ICIudmxTY3JlZW4iLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IGcuUS5raWNrc3RhcnRlciwKCQkJCQl1cmw6ICJodHRwczovL3d3dy5raWNrc3RhcnRlci5jb20vIiwKCQkJCQltYXRjaDogL14od3d3Lik/a2lja3N0YXJ0ZXIuY29tLywKCQkJCQlzZWxlY3RvcjogIi5rc3ItdmlkZW8tcGxheWVyIiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIudGhpc3ZpZCwKCQkJCQl1cmw6ICJodHRwczovL3RoaXN2aWQuY29tLyIsCgkJCQkJbWF0Y2g6IC9eKHd3dy4pP3RoaXN2aWQuY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIuZnAtcGxheWVyIgoJCQkJfSwKCQkJCXsKCQkJCQlhZGRpdGlvbmFsRGF0YTogInJlZ2lvbmFsIiwKCQkJCQlob3N0OiBtLnIuaWduLAoJCQkJCXVybDogImh0dHBzOi8vZGUuaWduLmNvbS8iLAoJCQkJCW1hdGNoOiAvXihcd3syfS4pP2lnbi5jb20kLywKCQkJCQluZWVkRXh0cmFEYXRhOiAhMCwKCQkJCQlzZWxlY3RvcjogIi52aWRlby1jb250YWluZXIiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci5pZ24sCgkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuaWduLmNvbS8iLAoJCQkJCW1hdGNoOiAvXih3d3cuKT9pZ24uY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIucGxheWVyIiwKCQkJCQluZWVkRXh0cmFEYXRhOiAhMAoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIuYnVua3IsCgkJCQkJdXJsOiAiaHR0cHM6Ly9idW5rci5zaXRlLyIsCgkJCQkJbWF0Y2g6IC9eYnVua3JcLihzaXRlfGJsYWNrfGNhdHxtZWRpYXxyZWR8c2l0ZXx3c3xvcmd8c1traXVdfGNbaXJdfGZpfHBbaGtzXXxydXxsYXxpc3x0b3xhW2N4XSkkLywKCQkJCQluZWVkRXh0cmFEYXRhOiAhMCwKCQkJCQlzZWxlY3RvcjogIi5wbHlyX192aWRlby13cmFwcGVyIgoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBtLnIuaW1kYiwKCQkJCQl1cmw6ICJodHRwczovL3d3dy5pbWRiLmNvbS92aWRlby8iLAoJCQkJCW1hdGNoOiAvXih3d3dcLik/aW1kYlwuY29tJC8sCgkJCQkJc2VsZWN0b3I6ICIuanctbWVkaWEiCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IG0uci50ZWxlZ3JhbSwKCQkJCQl1cmw6ICJodHRwczovL3QubWUvIiwKCQkJCQltYXRjaDogKGQpID0+IC9ed2ViXC50ZWxlZ3JhbVwub3JnJC8udGVzdChkLmhvc3RuYW1lKSAmJiBkLnBhdGhuYW1lLnN0YXJ0c1dpdGgoIi9rIiksCgkJCQkJc2VsZWN0b3I6ICIuY2tpbl9fcGxheWVyIgoJCQkJfSwKCQkJCXsKCQkJCQlob3N0OiBnLlEub3JhY2xlbGVhcm4sCgkJCQkJdXJsOiAiaHR0cHM6Ly9teWxlYXJuLm9yYWNsZS5jb20vb3UvY291cnNlLyIsCgkJCQkJbWF0Y2g6IC9ebXlsZWFyblwub3JhY2xlXC5jb20vLAoJCQkJCXNlbGVjdG9yOiAiLnZqcy12NyIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAsCgkJCQkJbmVlZEJ5cGFzc0NTUDogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogZy5RLmRlZXBsZWFybmluZ2FpLAoJCQkJCXVybDogImh0dHBzOi8vbGVhcm4uZGVlcGxlYXJuaW5nLmFpL2NvdXJzZXMvIiwKCQkJCQltYXRjaDogL15sZWFybigtZGV2fC1zdGFnaW5nKT9cLmRlZXBsZWFybmluZ1wuYWkvLAoJCQkJCXNlbGVjdG9yOiAiLmxlc3Nvbi12aWRlby1wbGF5ZXIiLAoJCQkJCW5lZWRFeHRyYURhdGE6ICEwCgkJCQl9LAoJCQkJewoJCQkJCWhvc3Q6IGcuUS5uZXRhY2FkLAoJCQkJCXVybDogImh0dHBzOi8vd3d3Lm5ldGFjYWQuY29tLyIsCgkJCQkJbWF0Y2g6IC9eKHd3d1wuKT9uZXRhY2FkXC5jb20vLAoJCQkJCXNlbGVjdG9yOiAiLnZqcy12OCIsCgkJCQkJbmVlZEV4dHJhRGF0YTogITAKCQkJCX0sCgkJCQl7CgkJCQkJaG9zdDogbS5yLmN1c3RvbSwKCQkJCQl1cmw6ICJzdHViIiwKCQkJCQltYXRjaDogKGQpID0+IC8oW14uXSspXC4obXA0fHdlYm0pLy50ZXN0KGQucGF0aG5hbWUpLAoJCQkJCXJhd1Jlc3VsdDogITAKCQkJCX0KCQkJXTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2hlbHBlcnMvYmFzZS5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCWE6ICgpID0+IFZpZGVvSGVscGVyRXJyb3IsCgkJCQlxOiAoKSA9PiBCYXNlSGVscGVyCgkJCX0pOwoJCQl2YXIgbSA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvdXRpbHMvdXRpbHMuanMiKTsKCQkJY2xhc3MgVmlkZW9IZWxwZXJFcnJvciBleHRlbmRzIEVycm9yIHsKCQkJCWNvbnN0cnVjdG9yKGQpIHsKCQkJCQlzdXBlcihkKSwgdGhpcy5uYW1lID0gIlZpZGVvSGVscGVyIiwgdGhpcy5tZXNzYWdlID0gZDsKCQkJCX0KCQkJfQoJCQljbGFzcyBCYXNlSGVscGVyIHsKCQkJCUFQSV9PUklHSU4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwoJCQkJZmV0Y2g7CgkJCQlleHRyYUluZm87CgkJCQlyZWZlcmVyOwoJCQkJb3JpZ2luOwoJCQkJc2VydmljZTsKCQkJCXZpZGVvOwoJCQkJbGFuZ3VhZ2U7CgkJCQljb25zdHJ1Y3Rvcih7IGZldGNoRm46IGQgPSBtLnU5LCBleHRyYUluZm86IGYgPSAhMCwgcmVmZXJlcjogcCA9IGRvY3VtZW50LnJlZmVycmVyID8/IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2AsIG9yaWdpbjogaCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIHNlcnZpY2U6IGcsIHZpZGVvOiBfLCBsYW5ndWFnZTogdiA9ICJlbiIgfSA9IHt9KSB7CgkJCQkJdGhpcy5mZXRjaCA9IGQsIHRoaXMuZXh0cmFJbmZvID0gZiwgdGhpcy5yZWZlcmVyID0gcCwgdGhpcy5vcmlnaW4gPSAvXihodHRwKHMpPyk6XC9cLy8udGVzdChTdHJpbmcoaCkpID8gaCA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIHRoaXMuc2VydmljZSA9IGcsIHRoaXMudmlkZW8gPSBfLCB0aGlzLmxhbmd1YWdlID0gdjsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7fQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7fQoJCQkJcmV0dXJuQmFzZURhdGEoZCkgewoJCQkJCWlmICh0aGlzLnNlcnZpY2UpIHJldHVybiB7CgkJCQkJCXVybDogdGhpcy5zZXJ2aWNlLnVybCArIGQsCgkJCQkJCXZpZGVvSWQ6IGQsCgkJCQkJCWhvc3Q6IHRoaXMuc2VydmljZS5ob3N0LAoJCQkJCQlkdXJhdGlvbjogdm9pZCAwCgkJCQkJfTsKCQkJCX0KCQkJfQoJCX0sCgkJIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvZXh0L2Rpc3QvaGVscGVycy9pbmRleC5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCUpXOiAoKSA9PiBELAoJCQkJQXk6ICgpID0+IFZpZGVvSGVscGVyCgkJCX0pOwoJCQl2YXIgbSA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3R5cGVzL3NlcnZpY2UuanMiKSwgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvZXh0L2Rpc3QvdHlwZXMvc2VydmljZS5qcyIpLCBnID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC9oZWxwZXJzL2Jhc2UuanMiKSwgXyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzIik7CgkJCWNsYXNzIEFwcGxlRGV2ZWxvcGVySGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSAiaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tIjsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp2aWRlbyddIik/LmNvbnRlbnQ7CgkJCQkJCWlmICghZCkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgY29udGVudCB1cmwiKTsKCQkJCQkJcmV0dXJuIHsgdXJsOiBkIH07CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQgYXBwbGUgZGV2ZWxvcGVyIHZpZGVvIGRhdGEgYnkgdmlkZW8gSUQ6ICR7ZH1gLCBmLm1lc3NhZ2UpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIC92aWRlb3NcL3BsYXlcLyhbXi9dKylcLyhbXGRdKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBBcmNoaXZlSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvKGRldGFpbHN8ZW1iZWQpXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMl07CgkJCQl9CgkJCX0KCQkJdmFyIHYgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3V0aWxzL3V0aWxzLmpzIik7CgkJCWNsYXNzIEFydHN0YXRpb25IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL3d3dy5hcnRzdGF0aW9uLmNvbS9hcGkvdjIvbGVhcm5pbmciOwoJCQkJZ2V0Q1NSRlRva2VuKCkgewoJCQkJCXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJtZXRhW25hbWU9XCJwdWJsaWMtY3NyZi10b2tlblwiXSIpPy5jb250ZW50OwoJCQkJfQoJCQkJYXN5bmMgZ2V0Q291cnNlSW5mbyhkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vY291cnNlcy8ke2R9L2F1dG9wbGF5Lmpzb25gLCB7CgkJCQkJCQltZXRob2Q6ICJQT1NUIiwKCQkJCQkJCWhlYWRlcnM6IHsgIlBVQkxJQy1DU1JGLVRPS0VOIjogdGhpcy5nZXRDU1JGVG9rZW4oKSB9CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYXdhaXQgZi5qc29uKCk7CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IGFydHN0YXRpb24gY291cnNlIGluZm8gYnkgY291cnNlSWQ6ICR7ZH0uYCwgZi5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9VcmwoZCkgewoJCQkJCXRyeSB7CgkJCQkJCWxldCBmID0gYXdhaXQgdGhpcy5mZXRjaChgJHt0aGlzLkFQSV9PUklHSU59L3F1aWNrc2lsdmVyL3ZpZGVvX3VybC5qc29uP2NoYXB0ZXJfaWQ9JHtkfWApLCBwID0gYXdhaXQgZi5qc29uKCk7CgkJCQkJCXJldHVybiBwLnVybC5yZXBsYWNlKCJxc2VwOi8vIiwgImh0dHBzOi8vIik7CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IGFydHN0YXRpb24gdmlkZW8gdXJsIGJ5IGNoYXB0ZXJJZDogJHtkfS5gLCBmLm1lc3NhZ2UpLCAhMTsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBbLCBmLCAsICwgcF0gPSBkLnNwbGl0KCIvIiksIG0gPSBhd2FpdCB0aGlzLmdldENvdXJzZUluZm8oZik7CgkJCQkJaWYgKCFtKSByZXR1cm47CgkJCQkJbGV0IGggPSBtLmNoYXB0ZXJzLmZpbmQoKGQpID0+IGQuaGFzaF9pZCA9PT0gcCk7CgkJCQkJaWYgKCFoKSByZXR1cm47CgkJCQkJbGV0IGcgPSBhd2FpdCB0aGlzLmdldFZpZGVvVXJsKGguaWQpOwoJCQkJCWlmICghZykgcmV0dXJuOwoJCQkJCWxldCB7IHRpdGxlOiBfLCBkdXJhdGlvbjogYiwgc3VidGl0bGVzOiB4IH0gPSBoLCBDID0geC5maWx0ZXIoKGQpID0+IGQuZm9ybWF0ID09PSAidnR0IikubWFwKChkKSA9PiAoewoJCQkJCQlsYW5ndWFnZTogKDAsIHYuZWMpKGQubG9jYWxlKSwKCQkJCQkJc291cmNlOiAiYXJ0c3RhdGlvbiIsCgkJCQkJCWZvcm1hdDogInZ0dCIsCgkJCQkJCXVybDogZC5maWxlX3VybAoJCQkJCX0pKTsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IGcsCgkJCQkJCXRpdGxlOiBfLAoJCQkJCQlkdXJhdGlvbjogYiwKCQkJCQkJc3VidGl0bGVzOiBDCgkJCQkJfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvY291cnNlc1wvKFx3ezMsNX0pXC8oW14vXSspXC9jaGFwdGVyc1wvKFx3ezMsNX0pLy5leGVjKGQucGF0aG5hbWUpPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgQmFubmVkVmlkZW9IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL2FwaS5iYW5uZWQudmlkZW8iOwoJCQkJYXN5bmMgZ2V0VmlkZW9JbmZvKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5BUElfT1JJR0lOfS9ncmFwaHFsYCwgewoJCQkJCQkJbWV0aG9kOiAiUE9TVCIsCgkJCQkJCQlib2R5OiBKU09OLnN0cmluZ2lmeSh7CgkJCQkJCQkJb3BlcmF0aW9uTmFtZTogIkdldFZpZGVvIiwKCQkJCQkJCQlxdWVyeTogInF1ZXJ5IEdldFZpZGVvKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgZ2V0VmlkZW8oaWQ6ICRpZCkge1xuICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc3VtbWFyeVxuICAgICAgICAgICAgICBkdXJhdGlvbjogdmlkZW9EdXJhdGlvblxuICAgICAgICAgICAgICB2aWRlb1VybDogZGlyZWN0VXJsXG4gICAgICAgICAgICAgIGlzU3RyZWFtOiBsaXZlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSIsCgkJCQkJCQkJdmFyaWFibGVzOiB7IGlkOiBkIH0KCQkJCQkJCX0pLAoJCQkJCQkJaGVhZGVyczogewoJCQkJCQkJCSJVc2VyLUFnZW50IjogImJhbm5lZFZpZGVvRnJvbnRFbmQiLAoJCQkJCQkJCSJhcG9sbG9ncmFwaHFsLWNsaWVudC1uYW1lIjogImJhbm5lZC13ZWIiLAoJCQkJCQkJCSJhcG9sbG9ncmFwaHFsLWNsaWVudC12ZXJzaW9uIjogIjEuMyIsCgkJCQkJCQkJImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQkJcmV0dXJuIGF3YWl0IGYuanNvbigpOwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJcmV0dXJuIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBnZXQgYmFubmVkdmlkZW8gdmlkZW8gaW5mbyBieSB2aWRlb0lkOiAke2R9LmAsIGYubWVzc2FnZSksICExOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmdldFZpZGVvSW5mbyhkKTsKCQkJCQlpZiAoIWYpIHJldHVybjsKCQkJCQlsZXQgeyB2aWRlb1VybDogcCwgZHVyYXRpb246IG0sIGlzU3RyZWFtOiBoLCBkZXNjcmlwdGlvbjogZywgdGl0bGU6IF8gfSA9IGYuZGF0YS5nZXRWaWRlbzsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IHAsCgkJCQkJCWR1cmF0aW9uOiBtLAoJCQkJCQlpc1N0cmVhbTogaCwKCQkJCQkJdGl0bGU6IF8sCgkJCQkJCWRlc2NyaXB0aW9uOiBnCgkJCQkJfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiBkLnNlYXJjaFBhcmFtcy5nZXQoImlkIikgPz8gdm9pZCAwOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEJpbGliaWxpSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCWxldCBmID0gL2Jhbmd1bWlcL3BsYXlcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCQlpZiAoZikgcmV0dXJuIGY7CgkJCQkJbGV0IHAgPSBkLnNlYXJjaFBhcmFtcy5nZXQoImJ2aWQiKTsKCQkJCQlpZiAocCkgcmV0dXJuIGB2aWRlby8ke3B9YDsKCQkJCQlsZXQgbSA9IC92aWRlb1wvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzBdOwoJCQkJCXJldHVybiBtICYmIGQuc2VhcmNoUGFyYW1zLmdldCgicCIpICE9PSBudWxsICYmIChtICs9IGAvP3A9JHtkLnNlYXJjaFBhcmFtcy5nZXQoInAiKX1gKSwgbTsKCQkJCX0KCQkJfQoJCQljbGFzcyBCaXRjaHV0ZUhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gLyh2aWRlb3xlbWJlZClcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlsyXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBCaXR2aWV3SGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudmxTY3JlZW4gPiB2aWRlbyIpPy5zcmM7CgkJCQkJCWlmICghZCkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgdmlkZW8gVVJMIik7CgkJCQkJCXJldHVybiB7IHVybDogZCB9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IEJpdHZpZXcgZGF0YSBieSB2aWRlb0lkOiAke2R9YCwgZi5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiBkLnNlYXJjaFBhcmFtcy5nZXQoInYiKTsKCQkJCX0KCQkJfQoJCQljbGFzcyBCdW5rckhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BsYXllciA+IHNvdXJjZVt0eXBlPVwidmlkZW8vbXA0XCJdIik/LnNyYzsKCQkJCQlpZiAoZikgcmV0dXJuIHsgdXJsOiBmIH07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL1wvZlwvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzFdOwoJCQkJfQoJCQl9CgkJCWNsYXNzIENsb3VkZmxhcmVTdHJlYW1IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIGQucGF0aG5hbWUgKyBkLnNlYXJjaDsKCQkJCX0KCQkJfQoJCQljbGFzcyBDb3Vyc2VodW50ZXJMaWtlSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSB0aGlzLm9yaWdpbiA/PyAiaHR0cHM6Ly9jb3Vyc2VodW50ZXIubmV0IjsKCQkJCWFzeW5jIGdldENvdXJzZUlkKCkgewoJCQkJCWxldCBkID0gd2luZG93LmNvdXJzZV9pZDsKCQkJCQlyZXR1cm4gZCA9PT0gdm9pZCAwID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1cImNvdXJzZV9pZFwiXSIpPy52YWx1ZSA6IFN0cmluZyhkKTsKCQkJCX0KCQkJCWFzeW5jIGdldExlc3NvbnNEYXRhKGQpIHsKCQkJCQlsZXQgZiA9IHdpbmRvdy5sZXNzb25zOwoJCQkJCWlmIChmPy5sZW5ndGgpIHJldHVybiBmOwoJCQkJCXRyeSB7CgkJCQkJCWxldCBmID0gYXdhaXQgdGhpcy5mZXRjaChgJHt0aGlzLkFQSV9PUklHSU59L2FwaS92MS9jb3Vyc2UvJHtkfS9sZXNzb25zYCk7CgkJCQkJCXJldHVybiBhd2FpdCBmLmpzb24oKTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBDb3Vyc2VodW50ZXJMaWtlIGxlc3NvbnMgZGF0YSBieSBjb3Vyc2VJZDogJHtkfSwgYmVjYXVzZSAke2YubWVzc2FnZX1gKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWdldExlc3NvbmRJZChkKSB7CgkJCQkJbGV0IGYgPSBkLnNwbGl0KCI/bGVzc29uPSIpPy5bMV07CgkJCQkJaWYgKGYpIHJldHVybiArZjsKCQkJCQlsZXQgcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb25zLWl0ZW1fYWN0aXZlIik7CgkJCQkJcmV0dXJuIGYgPSBwPy5kYXRhc2V0Py5pbmRleCwgZiA/ICtmIDogMTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmdldENvdXJzZUlkKCk7CgkJCQkJaWYgKCFmKSByZXR1cm47CgkJCQkJbGV0IHAgPSBhd2FpdCB0aGlzLmdldExlc3NvbnNEYXRhKGYpOwoJCQkJCWlmICghcCkgcmV0dXJuOwoJCQkJCWxldCBtID0gdGhpcy5nZXRMZXNzb25kSWQoZCksIGggPSBwPy5bbSAtIDFdLCB7IGZpbGU6IGcsIGR1cmF0aW9uOiBfLCB0aXRsZTogYiB9ID0gaDsKCQkJCQlpZiAoZykgcmV0dXJuIHsKCQkJCQkJdXJsOiAoMCwgdi5mbCkoZyksCgkJCQkJCWR1cmF0aW9uOiBfLAoJCQkJCQl0aXRsZTogYgoJCQkJCX07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlsZXQgZiA9IC9jb3Vyc2VcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCQlyZXR1cm4gZiA/IGYgKyBkLnNlYXJjaCA6IHZvaWQgMDsKCQkJCX0KCQkJfQoJCQljbGFzcyBWaWRlb0pTSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCVNVQlRJVExFX1NPVVJDRSA9ICJ2aWRlb2pzIjsKCQkJCVNVQlRJVExFX0ZPUk1BVCA9ICJ2dHQiOwoJCQkJc3RhdGljIGdldFBsYXllcigpIHsKCQkJCQlyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnZpZGVvLWpzIik/LnBsYXllcjsKCQkJCX0KCQkJCWdldFZpZGVvRGF0YUJ5UGxheWVyKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IFZpZGVvSlNIZWxwZXIuZ2V0UGxheWVyKCk7CgkJCQkJCWlmICghZikgdGhyb3cgRXJyb3IoYFZpZGVvIHBsYXllciBkb2Vzbid0IGhhdmUgcGxheWVyIG9wdGlvbiwgdmlkZW9JZCAke2R9YCk7CgkJCQkJCWxldCBwID0gZi5kdXJhdGlvbigpLCBtID0gQXJyYXkuaXNBcnJheShmLmN1cnJlbnRTb3VyY2VzKSA/IGYuY3VycmVudFNvdXJjZXMgOiBmLmdldENhY2hlKCk/LnNvdXJjZXMsIHsgdHJhY2tzXzogaCB9ID0gZi50ZXh0VHJhY2tzKCksIGcgPSBtLmZpbmQoKGQpID0+IGQudHlwZSA9PT0gInZpZGVvL21wNCIgfHwgZC50eXBlID09PSAidmlkZW8vd2VibSIpOwoJCQkJCQlpZiAoIWcpIHRocm93IEVycm9yKGBGYWlsZWQgdG8gZmluZCB2aWRlbyB1cmwgZm9yIHZpZGVvSUQgJHtkfWApOwoJCQkJCQlsZXQgXyA9IGguZmlsdGVyKChkKSA9PiBkLnNyYyAmJiBkLmtpbmQgIT09ICJtZXRhZGF0YSIpLm1hcCgoZCkgPT4gKHsKCQkJCQkJCWxhbmd1YWdlOiAoMCwgdi5lYykoZC5sYW5ndWFnZSksCgkJCQkJCQlzb3VyY2U6IHRoaXMuU1VCVElUTEVfU09VUkNFLAoJCQkJCQkJZm9ybWF0OiB0aGlzLlNVQlRJVExFX0ZPUk1BVCwKCQkJCQkJCXVybDogZC5zcmMKCQkJCQkJfSkpOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJdXJsOiBnLnNyYywKCQkJCQkJCWR1cmF0aW9uOiBwLAoJCQkJCQkJc3VidGl0bGVzOiBfCgkJCQkJCX07CgkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQlfLkEuZXJyb3IoIkZhaWxlZCB0byBnZXQgdmlkZW9qcyB2aWRlbyBkYXRhIiwgZC5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQl2YXIgYiA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvZGF0YS9jb25zdHMuanMiKTsKCQkJY2xhc3MgQ291cnNlcmFIZWxwZXIgZXh0ZW5kcyBWaWRlb0pTSGVscGVyIHsKCQkJCUFQSV9PUklHSU4gPSAiaHR0cHM6Ly93d3cuY291cnNlcmEub3JnL2FwaSI7CgkJCQlTVUJUSVRMRV9TT1VSQ0UgPSAiY291cnNlcmEiOwoJCQkJYXN5bmMgZ2V0Q291cnNlRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vb25EZW1hbmRDb3Vyc2VzLnYxLyR7ZH1gKSwgcCA9IGF3YWl0IGYuanNvbigpOwoJCQkJCQlyZXR1cm4gcD8uZWxlbWVudHM/LlswXTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBjb3Vyc2UgZGF0YSBieSBjb3Vyc2VJZDogJHtkfWAsIGYubWVzc2FnZSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQlzdGF0aWMgZ2V0UGxheWVyKCkgewoJCQkJCXJldHVybiBWaWRlb0pTSGVscGVyLmdldFBsYXllcigpOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IHRoaXMuZ2V0VmlkZW9EYXRhQnlQbGF5ZXIoZCk7CgkJCQkJaWYgKCFmKSByZXR1cm47CgkJCQkJbGV0IHsgb3B0aW9uc186IHAgfSA9IENvdXJzZXJhSGVscGVyLmdldFBsYXllcigpID8/IHt9OwoJCQkJCSFmLnN1YnRpdGxlcz8ubGVuZ3RoICYmIHAgJiYgKGYuc3VidGl0bGVzID0gcC50cmFja3MubWFwKChkKSA9PiAoewoJCQkJCQl1cmw6IGQuc3JjLAoJCQkJCQlsYW5ndWFnZTogKDAsIHYuZWMpKGQuc3JjbGFuZyksCgkJCQkJCXNvdXJjZTogdGhpcy5TVUJUSVRMRV9TT1VSQ0UsCgkJCQkJCWZvcm1hdDogdGhpcy5TVUJUSVRMRV9GT1JNQVQKCQkJCQl9KSkpOwoJCQkJCWxldCBtID0gcD8uY291cnNlSWQ7CgkJCQkJaWYgKCFtKSByZXR1cm4gZjsKCQkJCQlsZXQgaCA9ICJlbiIsIGcgPSBhd2FpdCB0aGlzLmdldENvdXJzZURhdGEobSk7CgkJCQkJaWYgKGcpIHsKCQkJCQkJbGV0IHsgcHJpbWFyeUxhbmd1YWdlQ29kZXM6IFtkXSB9ID0gZzsKCQkJCQkJaCA9IGQgPyAoMCwgdi5lYykoZCkgOiAiZW4iOwoJCQkJCX0KCQkJCQliLnhtLmluY2x1ZGVzKGgpIHx8IChoID0gImVuIik7CgkJCQkJbGV0IHggPSBmLnN1YnRpdGxlcy5maW5kKChkKSA9PiBkLmxhbmd1YWdlID09PSBoKSA/PyBmLnN1YnRpdGxlcz8uWzBdLCBDID0geD8udXJsOwoJCQkJCUMgfHwgXy5BLndhcm4oIkZhaWxlZCB0byBmaW5kIGFueSBzdWJ0aXRsZSBmaWxlIik7CgkJCQkJbGV0IHsgdXJsOiB3LCBkdXJhdGlvbjogVCB9ID0gZiwgRSA9IEMgPyBbewoJCQkJCQl0YXJnZXQ6ICJzdWJ0aXRsZXNfZmlsZV91cmwiLAoJCQkJCQl0YXJnZXRVcmw6IEMKCQkJCQl9LCB7CgkJCQkJCXRhcmdldDogInZpZGVvX2ZpbGVfdXJsIiwKCQkJCQkJdGFyZ2V0VXJsOiB3CgkJCQkJfV0gOiBudWxsOwoJCQkJCXJldHVybiB7CgkJCQkJCS4uLkMgPyB7CgkJCQkJCQl1cmw6IHRoaXMuc2VydmljZT8udXJsICsgZCwKCQkJCQkJCXRyYW5zbGF0aW9uSGVscDogRQoJCQkJCQl9IDogewoJCQkJCQkJdXJsOiB3LAoJCQkJCQkJdHJhbnNsYXRpb25IZWxwOiBFCgkJCQkJCX0sCgkJCQkJCWRldGVjdGVkTGFuZ3VhZ2U6IGgsCgkJCQkJCWR1cmF0aW9uOiBUCgkJCQkJfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCWxldCBmID0gL2xlYXJuXC8oW14vXSspXC9sZWN0dXJlXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpID8/IC9sZWN0dXJlXC8oW14vXSspXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpOwoJCQkJCXJldHVybiBmPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgRGFpbHltb3Rpb25IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJbGV0IGYgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSkuZmlsdGVyKChkKSA9PiBkLmlubmVySFRNTC50cmltKCkuaW5jbHVkZXMoIi5tM3U4IikpLCBwID0gZj8uWzFdPy5sYXN0Q2hpbGQ/LnNyYzsKCQkJCQlyZXR1cm4gcCA/IC9cL3ZpZGVvXC8oXHcrKVwubTN1OC8uZXhlYyhwKT8uWzFdIDogdm9pZCAwOwoJCQkJfQoJCQl9CgkJCWNsYXNzIERlZXBsZWFybmluZ0FJSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJaWYgKCF0aGlzLnZpZGVvKSByZXR1cm47CgkJCQkJbGV0IGYgPSB0aGlzLnZpZGVvLnF1ZXJ5U2VsZWN0b3IoInNvdXJjZVt0eXBlPVwiYXBwbGljYXRpb24veC1tcGVndXJsXCJdIik/LnNyYzsKCQkJCQlpZiAoZikgcmV0dXJuIHsgdXJsOiBmIH07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL2NvdXJzZXNcLygoW14vXSspXC9sZXNzb25cLyhbXi9dKylcLyhbXi9dKykpLy5leGVjKGQucGF0aG5hbWUpPy5bMV07CgkJCQl9CgkJCX0KCQkJY2xhc3MgRG91eWluSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCXN0YXRpYyBnZXRQbGF5ZXIoKSB7CgkJCQkJaWYgKCEodHlwZW9mIHBsYXllciA+ICJ1IikpIHJldHVybiBwbGF5ZXI7CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBmID0gRG91eWluSGVscGVyLmdldFBsYXllcigpOwoJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCWxldCB7IGNvbmZpZzogeyB1cmw6IHAsIGR1cmF0aW9uOiBtLCBsYW5nOiBoLCBpc0xpdmU6IGcgfSB9ID0gZjsKCQkJCQlpZiAoIXApIHJldHVybjsKCQkJCQlsZXQgXyA9IHAuZmluZCgoZCkgPT4gZC5zcmMuaW5jbHVkZXMoInd3dy5kb3V5aW4uY29tL2F3ZW1lL3YxL3BsYXkvIikpOwoJCQkJCWlmIChfKSByZXR1cm4gewoJCQkJCQl1cmw6ICgwLCB2LmZsKShfLnNyYyksCgkJCQkJCWR1cmF0aW9uOiBtLAoJCQkJCQlpc1N0cmVhbTogZywKCQkJCQkJLi4uYi54bS5pbmNsdWRlcyhoKSA/IHsgZGV0ZWN0ZWRMYW5ndWFnZTogaCB9IDoge30KCQkJCQl9OwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJbGV0IGYgPSAvdmlkZW9cLyhbXGRdKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCQlyZXR1cm4gZiB8fCBEb3V5aW5IZWxwZXIuZ2V0UGxheWVyKCk/LmNvbmZpZy52aWQ7CgkJCQl9CgkJCX0KCQkJY2xhc3MgRHplbkhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL3ZpZGVvXC93YXRjaFwvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzFdOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEVnZ2hlYWRIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIGQucGF0aG5hbWUuc2xpY2UoMSk7CgkJCQl9CgkJCX0KCQkJY2xhc3MgRXBpY0dhbWVzSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSAiaHR0cHM6Ly9kZXYuZXBpY2dhbWVzLmNvbS9jb21tdW5pdHkvYXBpL2xlYXJuaW5nIjsKCQkJCWFzeW5jIGdldFBvc3RJbmZvKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5BUElfT1JJR0lOfS9wb3N0Lmpzb24/aGFzaF9pZD0ke2R9YCk7CgkJCQkJCXJldHVybiBhd2FpdCBmLmpzb24oKTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCXJldHVybiBfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQgZXBpY2dhbWVzIHBvc3QgaW5mbyBieSB2aWRlb0lkOiAke2R9LmAsIGYubWVzc2FnZSksICExOwoJCQkJCX0KCQkJCX0KCQkJCWdldFZpZGVvQmxvY2soKSB7CgkJCQkJbGV0IGQgPSAvdmlkZW9Vcmxccz89XHMiKFteIl0rKSI/LywgZiA9IEFycmF5LmZyb20oZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHQiKSkuZmluZCgoZikgPT4gZC5leGVjKGYuaW5uZXJIVE1MKSk7CgkJCQkJaWYgKCFmKSByZXR1cm47CgkJCQkJbGV0IHAgPSBmLmlubmVySFRNTC50cmltKCksIG0gPSBkLmV4ZWMocCk/LlsxXT8ucmVwbGFjZSgicXNlcDovLyIsICJodHRwczovLyIpOwoJCQkJCWlmICghbSkgcmV0dXJuOwoJCQkJCWxldCBoID0gL3NvdXJjZXNccz89XHMoXFsoW15cXV0rKVxdKT8vLmV4ZWMocCk/LlsxXTsKCQkJCQlpZiAoIWgpIHJldHVybiB7CgkJCQkJCXBsYXlsaXN0VXJsOiBtLAoJCQkJCQlzdWJ0aXRsZXM6IFtdCgkJCQkJfTsKCQkJCQl0cnkgewoJCQkJCQloID0gKGgucmVwbGFjZSgvc3JjOihccykrPyh2aWRlb1VybCkvZywgInNyYzpcInJlbW92ZWRcIiIpLnN1YnN0cmluZygwLCBoLmxhc3RJbmRleE9mKCJ9LCIpKSArICJdIikuc3BsaXQoIlxuIikubWFwKChkKSA9PiBkLnJlcGxhY2UoLyhbXlxzXSspOlxzPyg/IS4qXDEpLywgIlwiJDFcIjoiKSkuam9pbigiXG4iKTsKCQkJCQkJbGV0IGQgPSBKU09OLnBhcnNlKGgpLCBmID0gZC5maWx0ZXIoKGQpID0+IGQudHlwZSA9PT0gImNhcHRpb25zIik7CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwbGF5bGlzdFVybDogbSwKCQkJCQkJCXN1YnRpdGxlczogZgoJCQkJCQl9OwoJCQkJCX0gY2F0Y2ggewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcGxheWxpc3RVcmw6IG0sCgkJCQkJCQlzdWJ0aXRsZXM6IFtdCgkJCQkJCX07CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IGQuc3BsaXQoIjoiKT8uWzFdLCBwID0gYXdhaXQgdGhpcy5nZXRQb3N0SW5mbyhmKTsKCQkJCQlpZiAoIXApIHJldHVybjsKCQkJCQlsZXQgbSA9IHRoaXMuZ2V0VmlkZW9CbG9jaygpOwoJCQkJCWlmICghbSkgcmV0dXJuOwoJCQkJCWxldCB7IHBsYXlsaXN0VXJsOiBoLCBzdWJ0aXRsZXM6IGcgfSA9IG0sIHsgdGl0bGU6IF8sIGRlc2NyaXB0aW9uOiBiIH0gPSBwLCB4ID0gZy5tYXAoKGQpID0+ICh7CgkJCQkJCWxhbmd1YWdlOiAoMCwgdi5lYykoZC5zcmNsYW5nKSwKCQkJCQkJc291cmNlOiAiZXBpY2dhbWVzIiwKCQkJCQkJZm9ybWF0OiAidnR0IiwKCQkJCQkJdXJsOiBkLnNyYwoJCQkJCX0pKTsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IGgsCgkJCQkJCXRpdGxlOiBfLAoJCQkJCQlkZXNjcmlwdGlvbjogYiwKCQkJCQkJc3VidGl0bGVzOiB4CgkJCQkJfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiBuZXcgUHJvbWlzZSgoZCkgPT4gewoJCQkJCQlsZXQgZiA9ICJodHRwczovL2Rldi5lcGljZ2FtZXMuY29tIiwgcCA9IGJ0b2Eod2luZG93LmxvY2F0aW9uLmhyZWYpOwoJCQkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIChwKSA9PiB7CgkJCQkJCQlpZiAocC5vcmlnaW4gIT09IGYgfHwgISh0eXBlb2YgcC5kYXRhID09ICJzdHJpbmciICYmIHAuZGF0YS5zdGFydHNXaXRoKCJnZXRWaWRlb0lkOiIpKSkgcmV0dXJuOwoJCQkJCQkJbGV0IG0gPSBwLmRhdGEucmVwbGFjZSgiZ2V0VmlkZW9JZDoiLCAiIik7CgkJCQkJCQlyZXR1cm4gZChtKTsKCQkJCQkJfSksIHdpbmRvdy50b3AucG9zdE1lc3NhZ2UoYGdldFZpZGVvSWQ6JHtwfWAsIGYpOwoJCQkJCX0pOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEVwb3JuZXJIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIC92aWRlby0oW14vXSspXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgRmFjZWJvb2tIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIGQucGF0aG5hbWUuc2xpY2UoMSk7CgkJCQl9CgkJCX0KCQkJY2xhc3MgR29vZ2xlRHJpdmVIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJZ2V0UGxheWVyRGF0YSgpIHsKCQkJCQlsZXQgZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNtb3ZpZV9wbGF5ZXIiKTsKCQkJCQlyZXR1cm4gZD8uZ2V0VmlkZW9EYXRhPy5jYWxsKCkgPz8gdm9pZCAwOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIHRoaXMuZ2V0UGxheWVyRGF0YSgpPy52aWRlb19pZDsKCQkJCX0KCQkJfQoJCQl2YXIgeCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3V0aWxzL3ZpZGVvRGF0YS5qcyIpOwoJCQljbGFzcyBJZ25IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJZ2V0VmlkZW9EYXRhQnlTb3VyY2UoZCkgewoJCQkJCWxldCBmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmljbXMudmlkZW8gPiBzb3VyY2VbdHlwZT1cInZpZGVvL21wNFwiXVtkYXRhLXF1YWxpdHk9XCIzNjBcIl0iKT8uc3JjOwoJCQkJCXJldHVybiBmID8geyB1cmw6ICgwLCB2LmZsKShmKSB9IDogdGhpcy5yZXR1cm5CYXNlRGF0YShkKTsKCQkJCX0KCQkJCWdldFZpZGVvRGF0YUJ5TmV4dChkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiX19ORVhUX0RBVEFfXyIpPy50ZXh0Q29udGVudDsKCQkJCQkJaWYgKCFkKSB0aHJvdyBuZXcgeC5BKCJOb3QgZm91bmQgX19ORVhUX0RBVEFfXyBjb250ZW50Iik7CgkJCQkJCWxldCBmID0gSlNPTi5wYXJzZShkKSwgeyBwcm9wczogeyBwYWdlUHJvcHM6IHsgcGFnZTogeyBkZXNjcmlwdGlvbjogcCwgdGl0bGU6IG0sIHZpZGVvOiB7IHZpZGVvTWV0YWRhdGE6IHsgZHVyYXRpb246IGggfSwgYXNzZXRzOiBnIH0gfSB9IH0gfSA9IGYsIF8gPSBnLmZpbmQoKGQpID0+IGQuaGVpZ2h0ID09PSAzNjAgJiYgZC51cmwuaW5jbHVkZXMoIi5tcDQiKSk/LnVybDsKCQkJCQkJaWYgKCFfKSB0aHJvdyBuZXcgeC5BKCJOb3QgZm91bmQgdmlkZW8gVVJMIGluIGFzc2V0cyIpOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJdXJsOiAoMCwgdi5mbCkoXyksCgkJCQkJCQlkdXJhdGlvbjogaCwKCQkJCQkJCXRpdGxlOiBtLAoJCQkJCQkJZGVzY3JpcHRpb246IHAKCQkJCQkJfTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCXJldHVybiBfLkEud2FybihgRmFpbGVkIHRvIGdldCBpZ24gdmlkZW8gZGF0YSBieSB2aWRlbyBJRDogJHtkfSwgYmVjYXVzZSAke2YubWVzc2FnZX0uIFVzaW5nIGNsZWFyIGxpbmsgaW5zdGVhZC4uLmApLCB0aGlzLnJldHVybkJhc2VEYXRhKGQpOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJfX05FWFRfREFUQV9fIikgPyB0aGlzLmdldFZpZGVvRGF0YUJ5TmV4dChkKSA6IHRoaXMuZ2V0VmlkZW9EYXRhQnlTb3VyY2UoZCk7CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gLyhbXi9dKylcLyhbXGRdKylcL3ZpZGVvXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMF0gPz8gL1wvdmlkZW9zXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgSU1EYkhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL3ZpZGVvXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMV07CgkJCQl9CgkJCX0KCQkJY2xhc3MgSW5jZXN0ZmxpeEhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCXRyeSB7CgkJCQkJCWxldCBkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2luY2ZsaXgtc3RyZWFtIHNvdXJjZTpmaXJzdC1vZi10eXBlIik7CgkJCQkJCWlmICghZCkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgc291cmNlIGVsZW1lbnQiKTsKCQkJCQkJbGV0IGYgPSBkLmdldEF0dHJpYnV0ZSgic3JjIik7CgkJCQkJCWlmICghZikgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgc291cmNlIGxpbmsiKTsKCQkJCQkJbGV0IHAgPSBuZXcgVVJMKGYuc3RhcnRzV2l0aCgiLy8iKSA/IGBodHRwczoke2Z9YCA6IGYpOwoJCQkJCQlyZXR1cm4gcC5zZWFyY2hQYXJhbXMuYXBwZW5kKCJtZWRpYS1wcm94eSIsICJ2aWRlby5tcDQiKSwgeyB1cmw6ICgwLCB2LmZsKShwKSB9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IEluY2VzdGZsaXggZGF0YSBieSB2aWRlb0lkOiAke2R9YCwgZi5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvXC93YXRjaFwvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzFdOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEtpY2tIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL2tpY2suY29tL2FwaSI7CgkJCQlhc3luYyBnZXRDbGlwSW5mbyhkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vdjIvY2xpcHMvJHtkfWApLCBwID0gYXdhaXQgZi5qc29uKCksIHsgY2xpcF91cmw6IG0sIGR1cmF0aW9uOiBoLCB0aXRsZTogZyB9ID0gcC5jbGlwOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJdXJsOiBtLAoJCQkJCQkJZHVyYXRpb246IGgsCgkJCQkJCQl0aXRsZTogZwoJCQkJCQl9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IGtpY2sgY2xpcCBpbmZvIGJ5IGNsaXBJZDogJHtkfS5gLCBmLm1lc3NhZ2UpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JbmZvKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5BUElfT1JJR0lOfS92MS92aWRlby8ke2R9YCksIHAgPSBhd2FpdCBmLmpzb24oKSwgeyBzb3VyY2U6IG0sIGxpdmVzdHJlYW06IGggfSA9IHAsIHsgc2Vzc2lvbl90aXRsZTogZywgZHVyYXRpb246IF8gfSA9IGg7CgkJCQkJCXJldHVybiB7CgkJCQkJCQl1cmw6IG0sCgkJCQkJCQlkdXJhdGlvbjogTWF0aC5yb3VuZChfIC8gMWUzKSwKCQkJCQkJCXRpdGxlOiBnCgkJCQkJCX07CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQga2ljayB2aWRlbyBpbmZvIGJ5IHZpZGVvSWQ6ICR7ZH0uYCwgZi5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJcmV0dXJuIGQuc3RhcnRzV2l0aCgidmlkZW9zIikgPyBhd2FpdCB0aGlzLmdldFZpZGVvSW5mbyhkLnJlcGxhY2UoInZpZGVvcy8iLCAiIikpIDogYXdhaXQgdGhpcy5nZXRDbGlwSW5mbyhkLnJlcGxhY2UoImNsaXBzLyIsICIiKSk7CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gLyhbXi9dKylcLygodmlkZW9zfGNsaXBzKVwvKFteL10rKSkvLmV4ZWMoZC5wYXRobmFtZSk/LlsyXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBLaWNrc3RhcnRlckhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCXRyeSB7CgkJCQkJCWxldCBkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmtzci12aWRlby1wbGF5ZXIgPiB2aWRlbyIpLCBmID0gZD8ucXVlcnlTZWxlY3Rvcigic291cmNlW3R5cGVePSd2aWRlby9tcDQnXSIpPy5zcmM7CgkJCQkJCWlmICghZikgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgdmlkZW8gVVJMIik7CgkJCQkJCWxldCBwID0gZD8ucXVlcnlTZWxlY3RvckFsbCgidHJhY2siKSA/PyBbXTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogZiwKCQkJCQkJCXN1YnRpdGxlczogQXJyYXkuZnJvbShwKS5yZWR1Y2UoKGQsIGYpID0+IHsKCQkJCQkJCQlsZXQgcCA9IGYuZ2V0QXR0cmlidXRlKCJzcmNsYW5nIiksIG0gPSBmLmdldEF0dHJpYnV0ZSgic3JjIik7CgkJCQkJCQkJcmV0dXJuICFwIHx8ICFtIHx8IGQucHVzaCh7CgkJCQkJCQkJCWxhbmd1YWdlOiAoMCwgdi5lYykocCksCgkJCQkJCQkJCXVybDogbSwKCQkJCQkJCQkJZm9ybWF0OiAidnR0IiwKCQkJCQkJCQkJc291cmNlOiAia2lja3N0YXJ0ZXIiCgkJCQkJCQkJfSksIGQ7CgkJCQkJCQl9LCBbXSkKCQkJCQkJfTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBLaWNrc3RhcnRlciBkYXRhIGJ5IHZpZGVvSWQ6ICR7ZH1gLCBmLm1lc3NhZ2UpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIGQucGF0aG5hbWUuc2xpY2UoMSk7CgkJCQl9CgkJCX0KCQkJdmFyIEMgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uZmlnLmpzIik7CgkJCWNsYXNzIEtvZGlrSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwoJCQkJZ2V0U2VjdXJlRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IFtmLCBwLCBtXSA9IGQuc3BsaXQoIi8iKS5maWx0ZXIoKGQpID0+IGQpLCBoID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IikpLCBfID0gaC5maWx0ZXIoKGQpID0+IGQuaW5uZXJIVE1MLmluY2x1ZGVzKGB2aWRlb0lkID0gIiR7cH0iYCkgfHwgZC5pbm5lckhUTUwuaW5jbHVkZXMoYHNlcmlhbElkID0gTnVtYmVyKCR7cH0pYCkpOwoJCQkJCQlpZiAoIV8ubGVuZ3RoKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZmluZCBzZWN1cmUgc2NyaXB0Iik7CgkJCQkJCWxldCB2ID0gLyd7W14nXSt9Jy8uZXhlYyhfWzBdLnRleHRDb250ZW50LnRyaW0oKSk/LlswXTsKCQkJCQkJaWYgKCF2KSB0aHJvdyBuZXcgZy5hKCJTZWN1cmUganNvbiB3YXNuJ3QgZm91bmQgaW4gc2VjdXJlIHNjcmlwdCIpOwoJCQkJCQlsZXQgYiA9IEpTT04ucGFyc2Uodi5yZXBsYWNlQWxsKCInIiwgIiIpKTsKCQkJCQkJaWYgKGYgIT09ICJzZXJpYWwiKSByZXR1cm4gewoJCQkJCQkJdmlkZW9UeXBlOiBmLAoJCQkJCQkJdmlkZW9JZDogcCwKCQkJCQkJCWhhc2g6IG0sCgkJCQkJCQkuLi5iCgkJCQkJCX07CgkJCQkJCWxldCB4ID0gaC5maW5kKChkKSA9PiBkLmlubmVySFRNTC5pbmNsdWRlcygidmFyIHZpZGVvSW5mbyA9IHt9IikpPy50ZXh0Q29udGVudD8udHJpbSgpOwoJCQkJCQlpZiAoIXgpIHRocm93IG5ldyBnLmEoIkZhaWxlZCB0byBmaW5kIHZpZGVvSW5mbyBjb250ZW50Iik7CgkJCQkJCWxldCBDID0gL3ZpZGVvSW5mb1wudHlwZVxzKz89XHMrPycoW14nXSspJy8uZXhlYyh4KT8uWzFdLCB3ID0gL3ZpZGVvSW5mb1wuaWRccys/PVxzKz8nKFteJ10rKScvLmV4ZWMoeCk/LlsxXSwgVCA9IC92aWRlb0luZm9cLmhhc2hccys/PVxzKz8nKFteJ10rKScvLmV4ZWMoeCk/LlsxXTsKCQkJCQkJaWYgKCFDIHx8ICF3IHx8ICFUKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gcGFyc2UgdmlkZW9JbmZvIGNvbnRlbnQiKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXZpZGVvVHlwZTogQywKCQkJCQkJCXZpZGVvSWQ6IHcsCgkJCQkJCQloYXNoOiBULAoJCQkJCQkJLi4uYgoJCQkJCQl9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJcmV0dXJuIF8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBrb2RpayBzZWN1cmUgZGF0YSBieSB2aWRlb1BhdGg6ICR7ZH0uYCwgZi5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0RnRvcihkKSB7CgkJCQkJbGV0IHsgdmlkZW9UeXBlOiBmLCB2aWRlb0lkOiBwLCBoYXNoOiBtLCBkOiBoLCBkX3NpZ246IGcsIHBkOiB2LCBwZF9zaWduOiBiLCByZWY6IHgsIHJlZl9zaWduOiB3IH0gPSBkOwoJCQkJCXRyeSB7CgkJCQkJCWxldCBkID0gYXdhaXQgdGhpcy5mZXRjaCh0aGlzLkFQSV9PUklHSU4gKyAiL2Z0b3IiLCB7CgkJCQkJCQltZXRob2Q6ICJQT1NUIiwKCQkJCQkJCWhlYWRlcnM6IHsKCQkJCQkJCQkiVXNlci1BZ2VudCI6IEMuQS51c2VyQWdlbnQsCgkJCQkJCQkJT3JpZ2luOiB0aGlzLkFQSV9PUklHSU4sCgkJCQkJCQkJUmVmZXJlcjogYCR7dGhpcy5BUElfT1JJR0lOfS8ke2Z9LyR7cH0vJHttfS8zNjBwYAoJCQkJCQkJfSwKCQkJCQkJCWJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoewoJCQkJCQkJCWQ6IGgsCgkJCQkJCQkJZF9zaWduOiBnLAoJCQkJCQkJCXBkOiB2LAoJCQkJCQkJCXBkX3NpZ246IGIsCgkJCQkJCQkJcmVmOiBkZWNvZGVVUklDb21wb25lbnQoeCksCgkJCQkJCQkJcmVmX3NpZ246IHcsCgkJCQkJCQkJYmFkX3VzZXI6ICJmYWxzZSIsCgkJCQkJCQkJY2RuX2lzX3dvcmtpbmc6ICJ0cnVlIiwKCQkJCQkJCQlpbmZvOiAie30iLAoJCQkJCQkJCXR5cGU6IGYsCgkJCQkJCQkJaGFzaDogbSwKCQkJCQkJCQlpZDogcAoJCQkJCQkJfSkKCQkJCQkJfSk7CgkJCQkJCXJldHVybiBhd2FpdCBkLmpzb24oKTsKCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCXJldHVybiBfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQga29kaWsgdmlkZW8gZGF0YSAodHlwZTogJHtmfSwgaWQ6ICR7cH0sIGhhc2g6ICR7bX0pYCwgZC5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJZGVjcnlwdFVybChkKSB7CgkJCQkJbGV0IGYgPSBhdG9iKGQucmVwbGFjZSgvW2EtekEtWl0vZywgZnVuY3Rpb24oZCkgewoJCQkJCQlsZXQgZiA9IGQuY2hhckNvZGVBdCgwKSArIDE4LCBwID0gZCA8PSAiWiIgPyA5MCA6IDEyMjsKCQkJCQkJcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocCA+PSBmID8gZiA6IGYgLSAyNik7CgkJCQkJfSkpOwoJCQkJCXJldHVybiAiaHR0cHM6IiArIGY7CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBmID0gdGhpcy5nZXRTZWN1cmVEYXRhKGQpOwoJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCWxldCBwID0gYXdhaXQgdGhpcy5nZXRGdG9yKGYpOwoJCQkJCWlmICghcCkgcmV0dXJuOwoJCQkJCWxldCBtID0gT2JqZWN0LmVudHJpZXMocC5saW5rc1twLmRlZmF1bHQudG9TdHJpbmcoKV0pLCBoID0gbS5maW5kKChbLCBkXSkgPT4gZC50eXBlID09PSAiYXBwbGljYXRpb24veC1tcGVnVVJMIik/LlsxXTsKCQkJCQlpZiAoaCkgcmV0dXJuIHsgdXJsOiBoLnNyYy5zdGFydHNXaXRoKCIvLyIpID8gYGh0dHBzOiR7aC5zcmN9YCA6IHRoaXMuZGVjcnlwdFVybChoLnNyYykgfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvXC8odXZ8dmlkZW98c2VyaWF8ZXBpc29kZXxzZWFzb258c2VyaWFsKVwvKFteL10rKVwvKFteL10rKVwvKFtcZF0rKXAvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBMaW5rZWRpbkhlbHBlciBleHRlbmRzIFZpZGVvSlNIZWxwZXIgewoJCQkJU1VCVElUTEVfU09VUkNFID0gImxpbmtlZGluIjsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSB0aGlzLmdldFZpZGVvRGF0YUJ5UGxheWVyKGQpOwoJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCWxldCB7IHVybDogcCwgZHVyYXRpb246IG0sIHN1YnRpdGxlczogaCB9ID0gZjsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6ICgwLCB2LmZsKShuZXcgVVJMKHApKSwKCQkJCQkJZHVyYXRpb246IG0sCgkJCQkJCXN1YnRpdGxlczogaAoJCQkJCX07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL1wvbGVhcm5pbmdcLygoW14vXSspXC8oW14vXSspKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzFdOwoJCQkJfQoJCQl9CgkJCXZhciB3ID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9pbmRleC5qcyIpOwoJCQljbGFzcyBMb29tSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWdldENsaWVudFZlcnNpb24oKSB7CgkJCQkJaWYgKCEodHlwZW9mIFNFTlRSWV9SRUxFQVNFID4gInUiKSkgcmV0dXJuIFNFTlRSWV9SRUxFQVNFLmlkOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IHRoaXMuZ2V0Q2xpZW50VmVyc2lvbigpOwoJCQkJCQlpZiAoIWYpIHRocm93IG5ldyBnLmEoIkZhaWxlZCB0byBnZXQgY2xpZW50IHZlcnNpb24iKTsKCQkJCQkJbGV0IHAgPSBhd2FpdCB0aGlzLmZldGNoKCJodHRwczovL3d3dy5sb29tLmNvbS9ncmFwaHFsIiwgewoJCQkJCQkJaGVhZGVyczogewoJCQkJCQkJCSJVc2VyLUFnZW50Ijogdy4kVy51c2VyQWdlbnQsCgkJCQkJCQkJImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKCQkJCQkJCQkieC1sb29tLXJlcXVlc3Qtc291cmNlIjogYGxvb21fd2ViXyR7Zn1gLAoJCQkJCQkJCSJhcG9sbG9ncmFwaHFsLWNsaWVudC1uYW1lIjogIndlYiIsCgkJCQkJCQkJImFwb2xsb2dyYXBocWwtY2xpZW50LXZlcnNpb24iOiBmLAoJCQkJCQkJCSJBbHQtVXNlZCI6ICJ3d3cubG9vbS5jb20iCgkJCQkJCQl9LAoJCQkJCQkJYm9keTogYHsib3BlcmF0aW9uTmFtZSI6IkZldGNoQ2FwdGlvbnMiLCJ2YXJpYWJsZXMiOnsidmlkZW9JZCI6IiR7ZH0ifSwicXVlcnkiOiJxdWVyeSBGZXRjaENhcHRpb25zKCR2aWRlb0lkOiBJRCEsICRwYXNzd29yZDogU3RyaW5nKSB7XFxuICBmZXRjaFZpZGVvVHJhbnNjcmlwdCh2aWRlb0lkOiAkdmlkZW9JZCwgcGFzc3dvcmQ6ICRwYXNzd29yZCkge1xcbiAgICAuLi4gb24gVmlkZW9UcmFuc2NyaXB0RGV0YWlscyB7XFxuICAgICAgaWRcXG4gICAgICBjYXB0aW9uc19zb3VyY2VfdXJsXFxuICAgICAgbGFuZ3VhZ2VcXG4gICAgICBfX3R5cGVuYW1lXFxuICAgIH1cXG4gICAgLi4uIG9uIEdlbmVyaWNFcnJvciB7XFxuICAgICAgbWVzc2FnZVxcbiAgICAgIF9fdHlwZW5hbWVcXG4gICAgfVxcbiAgICBfX3R5cGVuYW1lXFxuICB9XFxufSJ9YCwKCQkJCQkJCW1ldGhvZDogIlBPU1QiCgkJCQkJCX0pOwoJCQkJCQlpZiAocC5zdGF0dXMgIT09IDIwMCkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGdldCBkYXRhIGZyb20gZ3JhcGhxbCIpOwoJCQkJCQlsZXQgbSA9IGF3YWl0IHAuanNvbigpLCBoID0gbS5kYXRhLmZldGNoVmlkZW9UcmFuc2NyaXB0OwoJCQkJCQlpZiAoaC5fX3R5cGVuYW1lID09PSAiR2VuZXJpY0Vycm9yIikgdGhyb3cgbmV3IGcuYShoLm1lc3NhZ2UpOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJdXJsOiB0aGlzLnNlcnZpY2UudXJsICsgZCwKCQkJCQkJCXN1YnRpdGxlczogW3sKCQkJCQkJCQlmb3JtYXQ6ICJ2dHQiLAoJCQkJCQkJCWxhbmd1YWdlOiAoMCwgdi5lYykoaC5sYW5ndWFnZSksCgkJCQkJCQkJc291cmNlOiAibG9vbSIsCgkJCQkJCQkJdXJsOiBoLmNhcHRpb25zX3NvdXJjZV91cmwKCQkJCQkJCX1dCgkJCQkJCX07CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IExvb20gdmlkZW8gZGF0YSwgYmVjYXVzZTogJHtmLm1lc3NhZ2V9YCksIHRoaXMucmV0dXJuQmFzZURhdGEoZCk7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIC8oZW1iZWR8c2hhcmUpXC8oW14vXSspPy8uZXhlYyhkLnBhdGhuYW1lKT8uWzJdOwoJCQkJfQoJCQl9CgkJCWNsYXNzIE1haWxSdUhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlBUElfT1JJR0lOID0gImh0dHBzOi8vbXkubWFpbC5ydSI7CgkJCQlhc3luYyBnZXRWaWRlb01ldGEoZCkgewoJCQkJCXRyeSB7CgkJCQkJCWxldCBmID0gYXdhaXQgdGhpcy5mZXRjaChgJHt0aGlzLkFQSV9PUklHSU59LysvdmlkZW8vbWV0YS8ke2R9P3hlbWFpbD0mYWpheF9jYWxsPTEmZnVuY19uYW1lPSZtbmE9Jm1uYj0mZXh0PTEmXz0ke25ldyBEYXRlKCkuZ2V0VGltZSgpfWApOwoJCQkJCQlyZXR1cm4gYXdhaXQgZi5qc29uKCk7CgkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQlfLkEuZXJyb3IoIkZhaWxlZCB0byBnZXQgbWFpbC5ydSB2aWRlbyBkYXRhIiwgZC5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCWxldCBmID0gZC5wYXRobmFtZTsKCQkJCQlpZiAoL1wvKHZ8bWFpbHxia3xpbmJveClcLy8uZXhlYyhmKSkgcmV0dXJuIGYuc2xpY2UoMSk7CgkJCQkJbGV0IHAgPSAvdmlkZW9cL2VtYmVkXC8oW14vXSspLy5leGVjKGYpPy5bMV07CgkJCQkJaWYgKCFwKSByZXR1cm47CgkJCQkJbGV0IG0gPSBhd2FpdCB0aGlzLmdldFZpZGVvTWV0YShwKTsKCQkJCQlpZiAobSkgcmV0dXJuIG0ubWV0YS51cmwucmVwbGFjZSgiLy9teS5tYWlsLnJ1LyIsICIiKTsKCQkJCX0KCQkJfQoJCQljbGFzcyBOZXRhY2FkSGVscGVyIGV4dGVuZHMgVmlkZW9KU0hlbHBlciB7CgkJCQlTVUJUSVRMRV9TT1VSQ0UgPSAibmV0YWNhZCI7CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBmID0gdGhpcy5nZXRWaWRlb0RhdGFCeVBsYXllcihkKTsKCQkJCQlpZiAoIWYpIHJldHVybjsKCQkJCQlsZXQgeyB1cmw6IHAsIGR1cmF0aW9uOiBtLCBzdWJ0aXRsZXM6IGggfSA9IGY7CgkJCQkJcmV0dXJuIHsKCQkJCQkJdXJsOiAoMCwgdi5mbCkobmV3IFVSTChwKSksCgkJCQkJCWR1cmF0aW9uOiBtLAoJCQkJCQlzdWJ0aXRsZXM6IGgKCQkJCQl9OwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIGQucGF0aG5hbWUgKyBkLnNlYXJjaDsKCQkJCX0KCQkJfQoJCQljbGFzcyBOZXdncm91bmRzSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvKFteL10rKVwvKHZpZXcpXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgTmluZUdBR0hlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBmID0gdGhpcy5yZXR1cm5CYXNlRGF0YShkKTsKCQkJCQlpZiAoIWYpIHJldHVybiBmOwoJCQkJCXRyeSB7CgkJCQkJCWlmICghdGhpcy52aWRlbykgdGhyb3cgRXJyb3IoIlZpZGVvIGVsZW1lbnQgbm90IGZvdW5kIik7CgkJCQkJCWxldCBkID0gdGhpcy52aWRlby5xdWVyeVNlbGVjdG9yKCJzb3VyY2VbdHlwZV49XCJ2aWRlby9tcDRcIl0sIHNvdXJjZVt0eXBlXj1cInZpZGVvL3dlYm1cIl0iKT8uc3JjOwoJCQkJCQlpZiAoIWQgfHwgIS9eaHR0cHM/OlwvXC8vLnRlc3QoZCkpIHRocm93IEVycm9yKCJWaWRlbyBzb3VyY2Ugbm90IGZvdW5kIik7CgkJCQkJCXJldHVybiB7CgkJCQkJCQkuLi5mLAoJCQkJCQkJdHJhbnNsYXRpb25IZWxwOiBbewoJCQkJCQkJCXRhcmdldDogInZpZGVvX2ZpbGVfdXJsIiwKCQkJCQkJCQl0YXJnZXRVcmw6IGQKCQkJCQkJCX1dCgkJCQkJCX07CgkJCQkJfSBjYXRjaCB7CgkJCQkJCXJldHVybiBmOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvZ2FnXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMV07CgkJCQl9CgkJCX0KCQkJY2xhc3MgT2R5c2VlSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSAiaHR0cHM6Ly9vZHlzZWUuY29tIjsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vJHtkfWApLCBwID0gYXdhaXQgZi50ZXh0KCksIG0gPSAvImNvbnRlbnRVcmwiOihccyk/IihbXiJdKykiLy5leGVjKHApPy5bMl07CgkJCQkJCWlmICghbSkgdGhyb3cgbmV3IGcuYSgiT2R5c2VlIHVybCBkb2Vzbid0IHBhcnNlZCIpOwoJCQkJCQlyZXR1cm4geyB1cmw6IG0gfTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBvZHlzZWUgdmlkZW8gZGF0YSBieSB2aWRlbyBJRDogJHtkfWAsIGYubWVzc2FnZSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gZC5wYXRobmFtZS5zbGljZSgxKTsKCQkJCX0KCQkJfQoJCQljbGFzcyBPS1J1SGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvXC92aWRlb1wvKFxkKykvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBPcmFjbGVMZWFybkhlbHBlciBleHRlbmRzIFZpZGVvSlNIZWxwZXIgewoJCQkJU1VCVElUTEVfU09VUkNFID0gIm9yYWNsZWxlYXJuIjsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSB0aGlzLmdldFZpZGVvRGF0YUJ5UGxheWVyKGQpOwoJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCWxldCB7IHVybDogcCwgZHVyYXRpb246IG0sIHN1YnRpdGxlczogaCB9ID0gZiwgZyA9IHRoaXMucmV0dXJuQmFzZURhdGEoZCksIF8gPSAoMCwgdi5mbCkobmV3IFVSTChwKSk7CgkJCQkJcmV0dXJuIGcgPyB7CgkJCQkJCXVybDogZy51cmwsCgkJCQkJCWR1cmF0aW9uOiBtLAoJCQkJCQlzdWJ0aXRsZXM6IGgsCgkJCQkJCXRyYW5zbGF0aW9uSGVscDogW3sKCQkJCQkJCXRhcmdldDogInZpZGVvX2ZpbGVfdXJsIiwKCQkJCQkJCXRhcmdldFVybDogXwoJCQkJCQl9XQoJCQkJCX0gOiB7CgkJCQkJCXVybDogXywKCQkJCQkJZHVyYXRpb246IG0sCgkJCQkJCXN1YnRpdGxlczogaAoJCQkJCX07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL1wvb3VcL2NvdXJzZVwvKChbXi9dKylcLyhcZCspXC8oXGQrKSkvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBQYXRyZW9uSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSAiaHR0cHM6Ly93d3cucGF0cmVvbi5jb20vYXBpIjsKCQkJCWFzeW5jIGdldFBvc3RzKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5BUElfT1JJR0lOfS9wb3N0cy8ke2R9P2pzb24tYXBpLXVzZS1kZWZhdWx0LWluY2x1ZGVzPWZhbHNlYCk7CgkJCQkJCXJldHVybiBhd2FpdCBmLmpzb24oKTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCXJldHVybiBfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQgcGF0cmVvbiBwb3N0cyBieSBwb3N0SWQ6ICR7ZH0uYCwgZi5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZ2V0UG9zdHMoZCk7CgkJCQkJaWYgKCFmKSByZXR1cm47CgkJCQkJbGV0IHAgPSBmLmRhdGEuYXR0cmlidXRlcy5wb3N0X2ZpbGUudXJsOwoJCQkJCWlmIChwKSByZXR1cm4geyB1cmw6IHAgfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCWxldCBmID0gL3Bvc3RzXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMV07CgkJCQkJaWYgKGYpIHJldHVybiBmLnJlcGxhY2UoL1teXGQuXS9nLCAiIik7CgkJCQl9CgkJCX0KCQkJY2xhc3MgUGVlcnR1YmVIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIC9cL3dcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBQb3JuaHViSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiBkLnNlYXJjaFBhcmFtcy5nZXQoInZpZXdrZXkiKSA/PyAvZW1iZWRcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBQb3JuVE5IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlpZiAodHlwZW9mIGZsYXNodmFycyA+ICJ1IikgcmV0dXJuOwoJCQkJCQlsZXQgeyBybmQ6IGQsIHZpZGVvX3VybDogZiwgdmlkZW9fdGl0bGU6IHAgfSA9IGZsYXNodmFyczsKCQkJCQkJaWYgKCFmIHx8ICFkKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZmluZCB2aWRlbyBzb3VyY2Ugb3Igcm5kIik7CgkJCQkJCWxldCBtID0gbmV3IFVSTChmKTsKCQkJCQkJbS5zZWFyY2hQYXJhbXMuYXBwZW5kKCJybmQiLCBkKSwgXy5BLmxvZygiUG9yblROIGdldF9maWxlIGxpbmsiLCBtLmhyZWYpOwoJCQkJCQlsZXQgaCA9IGF3YWl0IHRoaXMuZmV0Y2gobS5ocmVmLCB7IG1ldGhvZDogImhlYWQiIH0pLCBiID0gbmV3IFVSTChoLnVybCk7CgkJCQkJCV8uQS5sb2coIlBvcm5UTiBjZG4gbGluayIsIGIuaHJlZik7CgkJCQkJCWxldCB4ID0gKDAsIHYuZmwpKGIpOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJdXJsOiB4LAoJCQkJCQkJdGl0bGU6IHAKCQkJCQkJfTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBQb3JuVE4gZGF0YSBieSB2aWRlb0lkOiAke2R9YCwgZi5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvXC92aWRlb3NcLygoW14vXSspXC8oW14vXSspKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzFdOwoJCQkJfQoJCQl9CgkJCWNsYXNzIFJlZGRpdEhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlBUElfT1JJR0lOID0gImh0dHBzOi8vd3d3LnJlZGRpdC5jb20iOwoJCQkJYXN5bmMgZ2V0Q29udGVudFVybChkKSB7CgkJCQkJaWYgKHRoaXMuc2VydmljZT8uYWRkaXRpb25hbERhdGEgIT09ICJvbGQiKSByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2hyZWRkaXQtcGxheWVyLTIiKT8uc3JjOwoJCQkJCWxldCBmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtaGxzLXVybF0iKTsKCQkJCQlyZXR1cm4gZj8uZGF0YXNldC5obHNVcmw/LnJlcGxhY2VBbGwoIiZhbXA7IiwgIiYiKTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmdldENvbnRlbnRVcmwoZCk7CgkJCQkJCWlmICghZikgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgY29udGVudCB1cmwiKTsKCQkJCQkJcmV0dXJuIHsgdXJsOiBkZWNvZGVVUklDb21wb25lbnQoZikgfTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCByZWRkaXQgdmlkZW8gZGF0YSBieSB2aWRlbyBJRDogJHtkfWAsIGYubWVzc2FnZSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL1wvclwvKChbXi9dKylcLyhbXi9dKylcLyhbXi9dKylcLyhbXi9dKykpLy5leGVjKGQucGF0aG5hbWUpPy5bMV07CgkJCQl9CgkJCX0KCQkJY2xhc3MgUnROZXdzSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuanctdmlkZW8sIC5tZWRpYV9fdmlkZW9fbm9zY3JpcHQiKTsKCQkJCQlpZiAoIWYpIHJldHVybjsKCQkJCQlsZXQgcCA9IGYuZ2V0QXR0cmlidXRlKCJzcmMiKTsKCQkJCQlpZiAocCkgcmV0dXJuIHAuZW5kc1dpdGgoIi5NUDQiKSAmJiAocCA9ICgwLCB2LmZsKShwKSksIHsKCQkJCQkJdmlkZW9JZDogZCwKCQkJCQkJdXJsOiBwCgkJCQkJfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiBkLnBhdGhuYW1lLnNsaWNlKDEpOwoJCQkJfQoJCQl9CgkJCWNsYXNzIFJ1bWJsZUhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gZC5wYXRobmFtZS5zbGljZSgxKTsKCQkJCX0KCQkJfQoJCQljbGFzcyBSdXR1YmVIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIC8oPzp2aWRlb3xlbWJlZClcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBTYXBIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL2xlYXJuaW5nLnNhcC5jb20vIjsKCQkJCWFzeW5jIHJlcXVlc3RLYWx0dXJhKGQsIGYsIHApIHsKCQkJCQlsZXQgbSA9ICJodG1sNTp2My4xNy4yMiIsIGggPSAiMy4zLjAiOwoJCQkJCXRyeSB7CgkJCQkJCWxldCBnID0gYXdhaXQgdGhpcy5mZXRjaChgaHR0cHM6Ly8ke2R9L2FwaV92My9zZXJ2aWNlL211bHRpcmVxdWVzdGAsIHsKCQkJCQkJCW1ldGhvZDogIlBPU1QiLAoJCQkJCQkJYm9keTogSlNPTi5zdHJpbmdpZnkoewoJCQkJCQkJCTE6IHsKCQkJCQkJCQkJc2VydmljZTogInNlc3Npb24iLAoJCQkJCQkJCQlhY3Rpb246ICJzdGFydFdpZGdldFNlc3Npb24iLAoJCQkJCQkJCQl3aWRnZXRJZDogYF8ke2Z9YAoJCQkJCQkJCX0sCgkJCQkJCQkJMjogewoJCQkJCQkJCQlzZXJ2aWNlOiAiYmFzZUVudHJ5IiwKCQkJCQkJCQkJYWN0aW9uOiAibGlzdCIsCgkJCQkJCQkJCWtzOiAiezE6cmVzdWx0OmtzfSIsCgkJCQkJCQkJCWZpbHRlcjogeyByZWRpcmVjdEZyb21FbnRyeUlkOiBwIH0sCgkJCQkJCQkJCXJlc3BvbnNlUHJvZmlsZTogewoJCQkJCQkJCQkJdHlwZTogMSwKCQkJCQkJCQkJCWZpZWxkczogImlkLHJlZmVyZW5jZUlkLG5hbWUsZGVzY3JpcHRpb24sZGF0YVVybCxkdXJhdGlvbixmbGF2b3JQYXJhbXNJZHMsdHlwZSxkdnJTdGF0dXMsZXh0ZXJuYWxTb3VyY2VUeXBlLGNyZWF0ZWRBdCx1cGRhdGVkQXQsZW5kRGF0ZSxwbGF5cyx2aWV3cyxkb3dubG9hZFVybCxjcmVhdG9ySWQiCgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCTM6IHsKCQkJCQkJCQkJc2VydmljZTogImJhc2VFbnRyeSIsCgkJCQkJCQkJCWFjdGlvbjogImdldFBsYXliYWNrQ29udGV4dCIsCgkJCQkJCQkJCWVudHJ5SWQ6ICJ7MjpyZXN1bHQ6b2JqZWN0czowOmlkfSIsCgkJCQkJCQkJCWtzOiAiezE6cmVzdWx0OmtzfSIsCgkJCQkJCQkJCWNvbnRleHREYXRhUGFyYW1zOiB7CgkJCQkJCQkJCQlvYmplY3RUeXBlOiAiS2FsdHVyYUNvbnRleHREYXRhUGFyYW1zIiwKCQkJCQkJCQkJCWZsYXZvclRhZ3M6ICJhbGwiCgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCWFwaVZlcnNpb246IGgsCgkJCQkJCQkJZm9ybWF0OiAxLAoJCQkJCQkJCWtzOiAiIiwKCQkJCQkJCQljbGllbnRUYWc6IG0sCgkJCQkJCQkJcGFydG5lcklkOiBmCgkJCQkJCQl9KSwKCQkJCQkJCWhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYXdhaXQgZy5qc29uKCk7CgkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQlfLkEuZXJyb3IoIkZhaWxlZCB0byByZXF1ZXN0IGthbHR1cmEgZGF0YSIsIGQubWVzc2FnZSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRLYWx0dXJhRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbZGF0YS1uc2NyaXB0PVwiYmVmb3JlSW50ZXJhY3RpdmVcIl0iKTsKCQkJCQkJaWYgKCFmKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZmluZCBzY3JpcHQgZWxlbWVudCIpOwoJCQkJCQlsZXQgcCA9IC9odHRwczpcL1wvKFteIl0rKVwvcFwvKFteIl0rKVwvZW1iZWRQbGF5a2l0SnNcL3VpY29uZl9pZFwvKFteIl0rKS8uZXhlYyhmPy5zcmMpOwoJCQkJCQlpZiAoIXApIHRocm93IG5ldyBnLmEoYEZhaWxlZCB0byBnZXQgc2FwIGRhdGEgZm9yIHZpZGVvSWQ6ICR7ZH1gKTsKCQkJCQkJbGV0IFssIG0sIGhdID0gcCwgXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzaGFkb3ciKT8uZmlyc3RDaGlsZD8uZ2V0QXR0cmlidXRlKCJpZCIpOwoJCQkJCQlpZiAoIV8pIHsKCQkJCQkJCWxldCBkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI19fTkVYVF9EQVRBX18iKTsKCQkJCQkJCWlmICghZCkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgbmV4dCBkYXRhIGVsZW1lbnQiKTsKCQkJCQkJCV8gPSAvInNvdXJjZUlkIjpccz8iKFteIl0rKSIvLmV4ZWMoZC5pbm5lclRleHQpPy5bMV07CgkJCQkJCX0KCQkJCQkJaWYgKCFtIHx8IE51bWJlci5pc05hTigraCkgfHwgIV8pIHRocm93IG5ldyBnLmEoYE9uZSBvZiB0aGUgbmVjZXNzYXJ5IHBhcmFtZXRlcnMgZm9yIGdldHRpbmcgYSBsaW5rIHRvIGEgc2FwIHZpZGVvIGluIHdhc24ndCBmb3VuZCBmb3IgJHtkfS4gUGFyYW1zOiBrYWx0dXJhRG9tYWluID0gJHttfSwgcGFydG5lcklkID0gJHtofSwgZW50cnlJZCA9ICR7X31gKTsKCQkJCQkJcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdEthbHR1cmEobSwgaCwgXyk7CgkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQlfLkEuZXJyb3IoIkZhaWxlZCB0byBnZXQga2FsdHVyYSBkYXRhIiwgZC5tZXNzYWdlKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmdldEthbHR1cmFEYXRhKGQpOwoJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCWxldCBbLCBwLCBtXSA9IGYsIHsgZHVyYXRpb246IGggfSA9IHAub2JqZWN0c1swXSwgZyA9IG0uc291cmNlcy5maW5kKChkKSA9PiBkLmZvcm1hdCA9PT0gInVybCIgJiYgZC5wcm90b2NvbHMgPT09ICJodHRwLGh0dHBzIiAmJiBkLnVybC5pbmNsdWRlcygiLm1wNCIpKT8udXJsOwoJCQkJCWlmICghZykgcmV0dXJuOwoJCQkJCWxldCBfID0gbS5wbGF5YmFja0NhcHRpb25zLm1hcCgoZCkgPT4gKHsKCQkJCQkJbGFuZ3VhZ2U6ICgwLCB2LmVjKShkLmxhbmd1YWdlQ29kZSksCgkJCQkJCXNvdXJjZTogInNhcCIsCgkJCQkJCWZvcm1hdDogInZ0dCIsCgkJCQkJCXVybDogZC53ZWJWdHRVcmwsCgkJCQkJCWlzQXV0b0dlbmVyYXRlZDogZC5sYWJlbC5pbmNsdWRlcygiYXV0by1nZW5lcmF0ZWQiKQoJCQkJCX0pKTsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IGcsCgkJCQkJCXN1YnRpdGxlczogXywKCQkJCQkJZHVyYXRpb246IGgKCQkJCQl9OwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIC8oKGNvdXJzZXN8bGVhcm5pbmctam91cm5leXMpXC8oW14vXSspKFwvW14vXSspPykvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBUZWxlZ3JhbUhlbHBlciBleHRlbmRzIGcucSB7CgkJCQlzdGF0aWMgZ2V0TWVkaWFWaWV3ZXIoKSB7CgkJCQkJaWYgKCEodHlwZW9mIGFwcE1lZGlhVmlld2VyID4gInUiKSkgcmV0dXJuIGFwcE1lZGlhVmlld2VyOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJbGV0IGYgPSBUZWxlZ3JhbUhlbHBlci5nZXRNZWRpYVZpZXdlcigpOwoJCQkJCWlmICghZiB8fCBmLmxpdmUpIHJldHVybjsKCQkJCQlsZXQgcCA9IGYudGFyZ2V0Lm1lc3NhZ2U7CgkJCQkJaWYgKHAucGVlcl9pZC5fICE9PSAicGVlckNoYW5uZWwiKSByZXR1cm47CgkJCQkJbGV0IG0gPSBwLm1lZGlhOwoJCQkJCWlmIChtLl8gIT09ICJtZXNzYWdlTWVkaWFEb2N1bWVudCIgfHwgbS5kb2N1bWVudC50eXBlICE9PSAidmlkZW8iKSByZXR1cm47CgkJCQkJbGV0IGggPSBwLm1pZCAmIDQyOTQ5NjcyOTUsIGcgPSBhd2FpdCBmLm1hbmFnZXJzLmFwcFBlZXJzTWFuYWdlci5nZXRQZWVyVXNlcm5hbWUocC5wZWVySWQpOwoJCQkJCXJldHVybiBgJHtnfS8ke2h9YDsKCQkJCX0KCQkJfQoJCQljbGFzcyBUaGlzVmlkSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvKHZpZGVvc3xlbWJlZClcL1teL10rLy5leGVjKGQucGF0aG5hbWUpPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgVGlrVG9rSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvKFteL10rKVwvdmlkZW9cLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBUcm92b0hlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlsZXQgZiA9IGQuc2VhcmNoUGFyYW1zLmdldCgidmlkIiksIHAgPSAvKFteL10rKVwvKFtcZF0rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzBdOwoJCQkJCWlmICghKCFmIHx8ICFwKSkgcmV0dXJuIGAke3B9P3ZpZD0ke2Z9YDsKCQkJCX0KCQkJfQoJCQljbGFzcyBUd2l0Y2hIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL2NsaXBzLnR3aXRjaC50diI7CgkJCQlhc3luYyBnZXRDbGlwTGluayhkLCBmKSB7CgkJCQkJbGV0IHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbdHlwZT0nYXBwbGljYXRpb24vbGQranNvbiddIiksIG0gPSBkLnNsaWNlKDEpOwoJCQkJCWlmIChwKSB7CgkJCQkJCWxldCBkID0gSlNPTi5wYXJzZShwLmlubmVyVGV4dCksIGYgPSBkWyJAZ3JhcGgiXS5maW5kKChkKSA9PiBkWyJAdHlwZSJdID09PSAiVmlkZW9PYmplY3QiKT8uY3JlYXRvci51cmw7CgkJCQkJCWlmICghZikgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgY2hhbm5lbCBsaW5rIik7CgkJCQkJCWxldCBoID0gZi5yZXBsYWNlKCJodHRwczovL3d3dy50d2l0Y2gudHYvIiwgIiIpOwoJCQkJCQlyZXR1cm4gYCR7aH0vY2xpcC8ke219YDsKCQkJCQl9CgkJCQkJbGV0IGggPSBtID09PSAiZW1iZWQiLCBfID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihoID8gIi50dy1saW5rW2RhdGEtdGVzdC1zZWxlY3Rvcj0nc3RyZWFtLWluZm8tY2FyZC1jb21wb25lbnRfX3N0cmVhbS1hdmF0YXItbGluayddIiA6ICIuY2xpcHMtcGxheWVyIGE6bm90KFtjbGFzc10pIik7CgkJCQkJaWYgKCFfKSByZXR1cm47CgkJCQkJbGV0IHYgPSBfLmhyZWYucmVwbGFjZSgiaHR0cHM6Ly93d3cudHdpdGNoLnR2LyIsICIiKTsKCQkJCQlyZXR1cm4gYCR7dn0vY2xpcC8ke2ggPyBmIDogbX1gOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltkYXRhLWEtdGFyZ2V0PVwic3RyZWFtLXRpdGxlXCJdLCBbZGF0YS10ZXN0LXNlbGVjdG9yPVwic3RyZWFtLWluZm8tY2FyZC1jb21wb25lbnRfX3N1YnRpdGxlXCJdIik/LmlubmVyVGV4dCwgcCA9ICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2RhdGEtYS10YXJnZXQ9XCJhbmltYXRlZC1jaGFubmVsLXZpZXdlcnMtY291bnRcIl0sIC5jaGFubmVsLXN0YXR1cy1pbmZvLS1saXZlLCAudG9wLWJhci0tcG9pbnRlci1lbmFibGVkIC50dy1jaGFubmVsLXN0YXR1cy10ZXh0LWluZGljYXRvciIpOwoJCQkJCXJldHVybiB7CgkJCQkJCXVybDogdGhpcy5zZXJ2aWNlLnVybCArIGQsCgkJCQkJCWlzU3RyZWFtOiBwLAoJCQkJCQl0aXRsZTogZgoJCQkJCX07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlsZXQgZiA9IGQucGF0aG5hbWU7CgkJCQkJaWYgKC9ebVwudHdpdGNoXC50diQvLnRlc3QoZikpIHJldHVybiAvdmlkZW9zXC8oW14vXSspLy5leGVjKGQuaHJlZik/LlswXSA/PyBmLnNsaWNlKDEpOwoJCQkJCWlmICgvXnBsYXllclwudHdpdGNoXC50diQvLnRlc3QoZC5ob3N0bmFtZSkpIHJldHVybiBgdmlkZW9zLyR7ZC5zZWFyY2hQYXJhbXMuZ2V0KCJ2aWRlbyIpfWA7CgkJCQkJbGV0IHAgPSAvKFteL10rKVwvKD86Y2xpcClcLyhbXi9dKykvLmV4ZWMoZik7CgkJCQkJaWYgKHApIHJldHVybiBwWzBdOwoJCQkJCWxldCBtID0gL15jbGlwc1wudHdpdGNoXC50diQvLnRlc3QoZC5ob3N0bmFtZSk7CgkJCQkJaWYgKG0pIHJldHVybiBhd2FpdCB0aGlzLmdldENsaXBMaW5rKGYsIGQuc2VhcmNoUGFyYW1zLmdldCgiY2xpcCIpKTsKCQkJCQlsZXQgaCA9IC8oPzp2aWRlb3MpXC8oW14vXSspLy5leGVjKGYpOwoJCQkJCWlmIChoKSByZXR1cm4gaFswXTsKCQkJCQlsZXQgZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5ob21lLW9mZmxpbmUtaGVybyAudHctbGluayIpOwoJCQkJCWlmIChnPy5ocmVmKSB7CgkJCQkJCWxldCBkID0gbmV3IFVSTChnLmhyZWYpOwoJCQkJCQlyZXR1cm4gLyg/OnZpZGVvcylcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCQl9CgkJCQkJcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wZXJzaXN0ZW50LXBsYXllciIpID8gZiA6IHZvaWQgMDsKCQkJCX0KCQkJfQoJCQljbGFzcyBUd2l0dGVySGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCWxldCBmID0gL3N0YXR1c1wvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzFdOwoJCQkJCWlmIChmKSByZXR1cm4gZjsKCQkJCQlsZXQgcCA9IHRoaXMudmlkZW8/LmNsb3Nlc3QoIltkYXRhLXRlc3RpZD1cInR3ZWV0XCJdIiksIG0gPSBwPy5xdWVyeVNlbGVjdG9yKCJhW3JvbGU9XCJsaW5rXCJdW2FyaWEtbGFiZWxdIik/LmhyZWY7CgkJCQkJcmV0dXJuIG0gPyAvc3RhdHVzXC8oW14vXSspLy5leGVjKG0pPy5bMV0gOiB2b2lkIDA7CgkJCQl9CgkJCX0KCQkJY2xhc3MgVWRlbXlIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL3d3dy51ZGVteS5jb20vYXBpLTIuMCI7CgkJCQlnZXRNb2R1bGVEYXRhKCkgewoJCQkJCWxldCBkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnVkLWFwcC1sb2FkZXJbZGF0YS1tb2R1bGUtaWQ9J2NvdXJzZS10YWtpbmcnXSIpLCBmID0gZD8uZGF0YXNldD8ubW9kdWxlQXJnczsKCQkJCQlpZiAoZikgcmV0dXJuIEpTT04ucGFyc2UoZik7CgkJCQl9CgkJCQlnZXRMZWN0dXJlSWQoKSB7CgkJCQkJcmV0dXJuIC9sZWFyblwvbGVjdHVyZVwvKFteL10rKS8uZXhlYyh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpPy5bMV07CgkJCQl9CgkJCQlpc0Vycm9yRGF0YShkKSB7CgkJCQkJcmV0dXJuIE9iamVjdC5oYXNPd24oZCwgImVycm9yIik7CgkJCQl9CgkJCQlhc3luYyBnZXRMZWN0dXJlRGF0YShkLCBmKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IHAgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vdXNlcnMvbWUvc3Vic2NyaWJlZC1jb3Vyc2VzLyR7ZH0vbGVjdHVyZXMvJHtmfS8/YCArIG5ldyBVUkxTZWFyY2hQYXJhbXMoewoJCQkJCQkJImZpZWxkc1tsZWN0dXJlXSI6ICJ0aXRsZSxkZXNjcmlwdGlvbixhc3NldCIsCgkJCQkJCQkiZmllbGRzW2Fzc2V0XSI6ICJsZW5ndGgsbWVkaWFfc291cmNlcyxjYXB0aW9ucyIKCQkJCQkJfSkudG9TdHJpbmcoKSksIG0gPSBhd2FpdCBwLmpzb24oKTsKCQkJCQkJaWYgKHRoaXMuaXNFcnJvckRhdGEobSkpIHRocm93IG5ldyBnLmEobS5kZXRhaWwgPz8gInVua25vd24gZXJyb3IiKTsKCQkJCQkJcmV0dXJuIG07CgkJCQkJfSBjYXRjaCAocCkgewoJCQkJCQlfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQgbGVjdHVyZSBkYXRhIGJ5IGNvdXJzZUlkOiAke2R9IGFuZCBsZWN0dXJlSWQ6ICR7Zn1gLCBwLm1lc3NhZ2UpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0Q291cnNlTGFuZyhkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vdXNlcnMvbWUvc3Vic2NyaWJlZC1jb3Vyc2VzLyR7ZH0/YCArIG5ldyBVUkxTZWFyY2hQYXJhbXMoeyAiZmllbGRzW2NvdXJzZV0iOiAibG9jYWxlIiB9KS50b1N0cmluZygpKSwgcCA9IGF3YWl0IGYuanNvbigpOwoJCQkJCQlpZiAodGhpcy5pc0Vycm9yRGF0YShwKSkgdGhyb3cgbmV3IGcuYShwLmRldGFpbCA/PyAidW5rbm93biBlcnJvciIpOwoJCQkJCQlyZXR1cm4gcDsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCV8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBjb3Vyc2UgbGFuZyBieSBjb3Vyc2VJZDogJHtkfWAsIGYubWVzc2FnZSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQlmaW5kVmlkZW9VcmwoZCkgewoJCQkJCXJldHVybiBkPy5maW5kKChkKSA9PiBkLnR5cGUgPT09ICJ2aWRlby9tcDQiKT8uc3JjOwoJCQkJfQoJCQkJZmluZFN1YnRpdGxlVXJsKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQ/LmZpbmQoKGQpID0+ICgwLCB2LmVjKShkLmxvY2FsZV9pZCkgPT09IGYpID8/IGQ/LmZpbmQoKGQpID0+ICgwLCB2LmVjKShkLmxvY2FsZV9pZCkgPT09ICJlbiIpID8/IGQ/LlswXTsKCQkJCQlyZXR1cm4gcD8udXJsOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IHRoaXMuZ2V0TW9kdWxlRGF0YSgpOwoJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCWxldCB7IGNvdXJzZUlkOiBwIH0gPSBmLCBtID0gdGhpcy5nZXRMZWN0dXJlSWQoKTsKCQkJCQlpZiAoXy5BLmxvZyhgW1VkZW15XSBjb3Vyc2VJZDogJHtwfSwgbGVjdHVyZUlkOiAke219YCksICFtKSByZXR1cm47CgkJCQkJbGV0IGggPSBhd2FpdCB0aGlzLmdldExlY3R1cmVEYXRhKHAsIG0pOwoJCQkJCWlmICghaCkgcmV0dXJuOwoJCQkJCWxldCB7IHRpdGxlOiBnLCBkZXNjcmlwdGlvbjogeCwgYXNzZXQ6IEMgfSA9IGgsIHsgbGVuZ3RoOiB3LCBtZWRpYV9zb3VyY2VzOiBULCBjYXB0aW9uczogRSB9ID0gQywgRCA9IHRoaXMuZmluZFZpZGVvVXJsKFQpOwoJCQkJCWlmICghRCkgewoJCQkJCQlfLkEubG9nKCJGYWlsZWQgdG8gZmluZCAubXA0IHZpZGVvIGZpbGUgaW4gbWVkaWFfc291cmNlcyIsIFQpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCWxldCBPID0gImVuIiwgQSA9IGF3YWl0IHRoaXMuZ2V0Q291cnNlTGFuZyhwKTsKCQkJCQlpZiAoQSkgewoJCQkJCQlsZXQgeyBsb2NhbGU6IHsgbG9jYWxlOiBkIH0gfSA9IEE7CgkJCQkJCU8gPSBkID8gKDAsIHYuZWMpKGQpIDogTzsKCQkJCQl9CgkJCQkJYi54bS5pbmNsdWRlcyhPKSB8fCAoTyA9ICJlbiIpOwoJCQkJCWxldCBqID0gdGhpcy5maW5kU3VidGl0bGVVcmwoRSwgTyk7CgkJCQkJcmV0dXJuIGogfHwgXy5BLmxvZygiRmFpbGVkIHRvIGZpbmQgc3VidGl0bGUgZmlsZSBpbiBjYXB0aW9ucyIsIEUpLCB7CgkJCQkJCS4uLmogPyB7CgkJCQkJCQl1cmw6IHRoaXMuc2VydmljZT8udXJsICsgZCwKCQkJCQkJCXRyYW5zbGF0aW9uSGVscDogW3sKCQkJCQkJCQl0YXJnZXQ6ICJzdWJ0aXRsZXNfZmlsZV91cmwiLAoJCQkJCQkJCXRhcmdldFVybDogagoJCQkJCQkJfSwgewoJCQkJCQkJCXRhcmdldDogInZpZGVvX2ZpbGVfdXJsIiwKCQkJCQkJCQl0YXJnZXRVcmw6IEQKCQkJCQkJCX1dLAoJCQkJCQkJZGV0ZWN0ZWRMYW5ndWFnZTogTwoJCQkJCQl9IDogewoJCQkJCQkJdXJsOiBELAoJCQkJCQkJdHJhbnNsYXRpb25IZWxwOiBudWxsCgkJCQkJCX0sCgkJCQkJCWR1cmF0aW9uOiB3LAoJCQkJCQl0aXRsZTogZywKCQkJCQkJZGVzY3JpcHRpb246IHgKCQkJCQl9OwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJcmV0dXJuIGQucGF0aG5hbWUuc2xpY2UoMSk7CgkJCQl9CgkJCX0KCQkJY2xhc3MgVmltZW9IZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX0tFWSA9ICIiOwoJCQkJREVGQVVMVF9TSVRFX09SSUdJTiA9ICJodHRwczovL3ZpbWVvLmNvbSI7CgkJCQlTSVRFX09SSUdJTiA9IHRoaXMuc2VydmljZT8udXJsPy5zbGljZSgwLCAtMSkgPz8gdGhpcy5ERUZBVUxUX1NJVEVfT1JJR0lOOwoJCQkJaXNFcnJvckRhdGEoZCkgewoJCQkJCXJldHVybiBPYmplY3QuaGFzT3duKGQsICJlcnJvciIpOwoJCQkJfQoJCQkJaXNQcml2YXRlUGxheWVyKCkgewoJCQkJCXJldHVybiB0aGlzLnJlZmVyZXIgJiYgIXRoaXMucmVmZXJlci5pbmNsdWRlcygidmltZW8uY29tIikgJiYgdGhpcy5vcmlnaW4uZW5kc1dpdGgoInBsYXllci52aW1lby5jb20iKTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZXdlckRhdGEoKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGQgPSBhd2FpdCB0aGlzLmZldGNoKCJodHRwczovL3ZpbWVvLmNvbS9fbmV4dC92aWV3ZXIiKSwgZiA9IGF3YWl0IGQuanNvbigpLCB7IGFwaVVybDogcCwgand0OiBtIH0gPSBmOwoJCQkJCQlyZXR1cm4gdGhpcy5BUElfT1JJR0lOID0gYGh0dHBzOi8vJHtwfWAsIHRoaXMuQVBJX0tFWSA9IGBqd3QgJHttfWAsIGY7CgkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKCJGYWlsZWQgdG8gZ2V0IGRlZmF1bHQgdmlld2VyIGRhdGEuIiwgZC5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JbmZvKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZiA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBmaWVsZHM6ICJuYW1lLGxpbmssZGVzY3JpcHRpb24sZHVyYXRpb24iIH0pLnRvU3RyaW5nKCksIHAgPSBhd2FpdCB0aGlzLmZldGNoKGAke3RoaXMuQVBJX09SSUdJTn0vdmlkZW9zLyR7ZH0/JHtmfWAsIHsgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiB0aGlzLkFQSV9LRVkgfSB9KSwgbSA9IGF3YWl0IHAuanNvbigpOwoJCQkJCQlpZiAodGhpcy5pc0Vycm9yRGF0YShtKSkgdGhyb3cgRXJyb3IobS5kZXZlbG9wZXJfbWVzc2FnZSA/PyBtLmVycm9yKTsKCQkJCQkJcmV0dXJuIG07CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHZpZGVvIGluZm8gYnkgdmlkZW8gSUQ6ICR7ZH1gLCBmLm1lc3NhZ2UpLCAhMTsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRQcml2YXRlVmlkZW9Tb3VyY2UoZCkgewoJCQkJCXRyeSB7CgkJCQkJCWxldCB7IGRlZmF1bHRfY2RuOiBmLCBjZG5zOiBwIH0gPSBkLmRhc2gsIG0gPSBwW2ZdLnVybCwgaCA9IGF3YWl0IHRoaXMuZmV0Y2gobSk7CgkJCQkJCWlmIChoLnN0YXR1cyAhPT0gMjAwKSB0aHJvdyBuZXcgZy5hKGF3YWl0IGgudGV4dCgpKTsKCQkJCQkJbGV0IF8gPSBhd2FpdCBoLmpzb24oKSwgdiA9IG5ldyBVUkwoXy5iYXNlX3VybCwgbSksIGIgPSBfLmF1ZGlvLmZpbmQoKGQpID0+IGQubWltZV90eXBlID09PSAiYXVkaW8vbXA0IiAmJiBkLmZvcm1hdCA9PT0gImRhc2giKTsKCQkJCQkJaWYgKCFiKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZmluZCB2aWRlbyBkYXRhIik7CgkJCQkJCWxldCB4ID0gYi5zZWdtZW50cz8uWzBdPy51cmw7CgkJCQkJCWlmICgheCkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZpbmQgZmlyc3Qgc2VnbWVudCB1cmwiKTsKCQkJCQkJbGV0IFtDLCB3XSA9IHguc3BsaXQoIj8iLCAyKSwgVCA9IG5ldyBVUkxTZWFyY2hQYXJhbXModyk7CgkJCQkJCXJldHVybiBULmRlbGV0ZSgicmFuZ2UiKSwgbmV3IFVSTChgJHtiLmJhc2VfdXJsfSR7Q30/JHtULnRvU3RyaW5nKCl9YCwgdikuaHJlZjsKCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCXJldHVybiBfLkEuZXJyb3IoIkZhaWxlZCB0byBnZXQgcHJpdmF0ZSB2aWRlbyBzb3VyY2UiLCBkLm1lc3NhZ2UpLCAhMTsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRQcml2YXRlVmlkZW9JbmZvKGQpIHsKCQkJCQl0cnkgewoJCQkJCQlpZiAodHlwZW9mIHBsYXllckNvbmZpZyA+ICJ1IikgcmV0dXJuOwoJCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZ2V0UHJpdmF0ZVZpZGVvU291cmNlKHBsYXllckNvbmZpZy5yZXF1ZXN0LmZpbGVzKTsKCQkJCQkJaWYgKCFmKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZ2V0IHByaXZhdGUgdmlkZW8gc291cmNlIik7CgkJCQkJCWxldCB7IHZpZGVvOiB7IHRpdGxlOiBwLCBkdXJhdGlvbjogbSB9LCByZXF1ZXN0OiB7IHRleHRfdHJhY2tzOiBoIH0gfSA9IHBsYXllckNvbmZpZzsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogYCR7dGhpcy5TSVRFX09SSUdJTn0vJHtkfWAsCgkJCQkJCQl2aWRlb191cmw6IGYsCgkJCQkJCQl0aXRsZTogcCwKCQkJCQkJCWR1cmF0aW9uOiBtLAoJCQkJCQkJc3ViczogaAoJCQkJCQl9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJcmV0dXJuIF8uQS5lcnJvcihgRmFpbGVkIHRvIGdldCBwcml2YXRlIHZpZGVvIGluZm8gYnkgdmlkZW8gSUQ6ICR7ZH1gLCBmLm1lc3NhZ2UpLCAhMTsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRTdWJzSW5mbyhkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsKCQkJCQkJCXBlcl9wYWdlOiAiMTAwIiwKCQkJCQkJCWZpZWxkczogImxhbmd1YWdlLHR5cGUsbGluayIKCQkJCQkJfSkudG9TdHJpbmcoKSwgcCA9IGF3YWl0IHRoaXMuZmV0Y2goYCR7dGhpcy5BUElfT1JJR0lOfS92aWRlb3MvJHtkfS90ZXh0dHJhY2tzPyR7Zn1gLCB7IGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogdGhpcy5BUElfS0VZIH0gfSksIG0gPSBhd2FpdCBwLmpzb24oKTsKCQkJCQkJaWYgKHRoaXMuaXNFcnJvckRhdGEobSkpIHRocm93IEVycm9yKG0uZGV2ZWxvcGVyX21lc3NhZ2UgPz8gbS5lcnJvcik7CgkJCQkJCXJldHVybiBtLmRhdGE7CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHN1YnRpdGxlcyBpbmZvIGJ5IHZpZGVvIElEOiAke2R9YCwgZi5tZXNzYWdlKSwgW107CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IHRoaXMuaXNQcml2YXRlUGxheWVyKCk7CgkJCQkJaWYgKGYpIHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmdldFByaXZhdGVWaWRlb0luZm8oZCk7CgkJCQkJCWlmICghZikgcmV0dXJuOwoJCQkJCQlsZXQgeyB1cmw6IHAsIHN1YnM6IG0sIHZpZGVvX3VybDogaCwgdGl0bGU6IGcsIGR1cmF0aW9uOiBfIH0gPSBmLCBiID0gbS5tYXAoKGQpID0+ICh7CgkJCQkJCQlsYW5ndWFnZTogKDAsIHYuZWMpKGQubGFuZyksCgkJCQkJCQlzb3VyY2U6ICJ2aW1lbyIsCgkJCQkJCQlmb3JtYXQ6ICJ2dHQiLAoJCQkJCQkJdXJsOiB0aGlzLlNJVEVfT1JJR0lOICsgZC51cmwsCgkJCQkJCQlpc0F1dG9HZW5lcmF0ZWQ6IGQubGFuZy5pbmNsdWRlcygiYXV0b2dlbmVyYXRlZCIpCgkJCQkJCX0pKSwgeCA9IGIubGVuZ3RoID8gW3sKCQkJCQkJCXRhcmdldDogInZpZGVvX2ZpbGVfdXJsIiwKCQkJCQkJCXRhcmdldFVybDogaAoJCQkJCQl9LCB7CgkJCQkJCQl0YXJnZXQ6ICJzdWJ0aXRsZXNfZmlsZV91cmwiLAoJCQkJCQkJdGFyZ2V0VXJsOiBiWzBdLnVybAoJCQkJCQl9XSA6IG51bGw7CgkJCQkJCXJldHVybiB7CgkJCQkJCQkuLi54ID8gewoJCQkJCQkJCXVybDogcCwKCQkJCQkJCQl0cmFuc2xhdGlvbkhlbHA6IHgKCQkJCQkJCX0gOiB7IHVybDogaCB9LAoJCQkJCQkJc3VidGl0bGVzOiBiLAoJCQkJCQkJdGl0bGU6IGcsCgkJCQkJCQlkdXJhdGlvbjogXwoJCQkJCQl9OwoJCQkJCX0KCQkJCQlpZiAoIXRoaXMuZXh0cmFJbmZvKSByZXR1cm4gdGhpcy5yZXR1cm5CYXNlRGF0YShkKTsKCQkJCQlkLmluY2x1ZGVzKCIvIikgJiYgKGQgPSBkLnJlcGxhY2UoIi8iLCAiOiIpKTsKCQkJCQlsZXQgcCA9IGF3YWl0IHRoaXMuZ2V0Vmlld2VyRGF0YSgpOwoJCQkJCWlmICghcCkgcmV0dXJuIHRoaXMucmV0dXJuQmFzZURhdGEoZCk7CgkJCQkJbGV0IG0gPSBhd2FpdCB0aGlzLmdldFZpZGVvSW5mbyhkKTsKCQkJCQlpZiAoIW0pIHJldHVybiB0aGlzLnJldHVybkJhc2VEYXRhKGQpOwoJCQkJCWxldCBoID0gYXdhaXQgdGhpcy5nZXRTdWJzSW5mbyhkKSwgZyA9IGgubWFwKChkKSA9PiAoewoJCQkJCQlsYW5ndWFnZTogKDAsIHYuZWMpKGQubGFuZ3VhZ2UpLAoJCQkJCQlzb3VyY2U6ICJ2aW1lbyIsCgkJCQkJCWZvcm1hdDogInZ0dCIsCgkJCQkJCXVybDogZC5saW5rLAoJCQkJCQlpc0F1dG9HZW5lcmF0ZWQ6IGQubGFuZ3VhZ2UuaW5jbHVkZXMoImF1dG9nZW4iKQoJCQkJCX0pKSwgeyBsaW5rOiBfLCBkdXJhdGlvbjogYiwgbmFtZTogeCwgZGVzY3JpcHRpb246IEMgfSA9IG07CgkJCQkJcmV0dXJuIHsKCQkJCQkJdXJsOiBfLAoJCQkJCQl0aXRsZTogeCwKCQkJCQkJZGVzY3JpcHRpb246IEMsCgkJCQkJCXN1YnRpdGxlczogZywKCQkJCQkJZHVyYXRpb246IGIKCQkJCQl9OwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJbGV0IGYgPSAvdmlkZW9cL1teL10rJC8uZXhlYyhkLnBhdGhuYW1lKT8uWzBdOwoJCQkJCWlmICh0aGlzLmlzUHJpdmF0ZVBsYXllcigpKSByZXR1cm4gZjsKCQkJCQlpZiAoZikgewoJCQkJCQlsZXQgcCA9IGQuc2VhcmNoUGFyYW1zLmdldCgiaCIpLCBtID0gZi5yZXBsYWNlKCJ2aWRlby8iLCAiIik7CgkJCQkJCXJldHVybiBwID8gYCR7bX0vJHtwfWAgOiBtOwoJCQkJCX0KCQkJCQlsZXQgcCA9IC9jaGFubmVsc1wvW14vXStcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXSA/PyAvZ3JvdXBzXC9bXi9dK1wvdmlkZW9zXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bMV0gPz8gLyhzaG93Y2FzZXxhbGJ1bSlcL1teL10rXC92aWRlb1wvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKT8uWzJdOwoJCQkJCXJldHVybiBwIHx8IC8oW14vXStcLyk/W14vXSskLy5leGVjKGQucGF0aG5hbWUpPy5bMF07CgkJCQl9CgkJCX0KCQkJY2xhc3MgVktIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJc3RhdGljIGdldFBsYXllcigpIHsKCQkJCQlpZiAoISh0eXBlb2YgVmlkZW92aWV3ID4gInUiKSkgcmV0dXJuIFZpZGVvdmlldz8uZ2V0UGxheWVyT2JqZWN0Py5jYWxsKHZvaWQgMCk7CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCWxldCBmID0gVktIZWxwZXIuZ2V0UGxheWVyKCk7CgkJCQkJaWYgKCFmKSByZXR1cm4gdGhpcy5yZXR1cm5CYXNlRGF0YShkKTsKCQkJCQl0cnkgewoJCQkJCQlsZXQgeyBkZXNjcmlwdGlvbjogcCwgZHVyYXRpb246IG0sIG1kX3RpdGxlOiBoIH0gPSBmLnZhcnMsIGcgPSBuZXcgRE9NUGFyc2VyKCksIF8gPSBnLnBhcnNlRnJvbVN0cmluZyhwLCAidGV4dC9odG1sIiksIGIgPSBBcnJheS5mcm9tKF8uYm9keS5jaGlsZE5vZGVzKS5maWx0ZXIoKGQpID0+IGQubm9kZU5hbWUgIT09ICJCUiIpLm1hcCgoZCkgPT4gZC50ZXh0Q29udGVudCkuam9pbigiXG4iKSwgeDsKCQkJCQkJcmV0dXJuIE9iamVjdC5oYXNPd24oZi52YXJzLCAic3VicyIpICYmICh4ID0gZi52YXJzLnN1YnMubWFwKChkKSA9PiAoewoJCQkJCQkJbGFuZ3VhZ2U6ICgwLCB2LmVjKShkLmxhbmcpLAoJCQkJCQkJc291cmNlOiAidmsiLAoJCQkJCQkJZm9ybWF0OiAidnR0IiwKCQkJCQkJCXVybDogZC51cmwsCgkJCQkJCQlpc0F1dG9HZW5lcmF0ZWQ6ICEhZC5pc19hdXRvCgkJCQkJCX0pKSksIHsKCQkJCQkJCXVybDogdGhpcy5zZXJ2aWNlLnVybCArIGQsCgkJCQkJCQl0aXRsZTogaCwKCQkJCQkJCWRlc2NyaXB0aW9uOiBiLAoJCQkJCQkJZHVyYXRpb246IG0sCgkJCQkJCQlzdWJ0aXRsZXM6IHgKCQkJCQkJfTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCXJldHVybiBfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQgVksgdmlkZW8gZGF0YSwgYmVjYXVzZTogJHtmLm1lc3NhZ2V9YCksIHRoaXMucmV0dXJuQmFzZURhdGEoZCk7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JZChkKSB7CgkJCQkJbGV0IGYgPSAvXlwvKHZpZGVvfGNsaXApLT9cZHs4LDl9X1xkezl9JC8uZXhlYyhkLnBhdGhuYW1lKTsKCQkJCQlpZiAoZikgcmV0dXJuIGZbMF0uc2xpY2UoMSk7CgkJCQkJbGV0IHAgPSAvXC9wbGF5bGlzdFwvW14vXStcLyh2aWRlby0/XGR7OCw5fV9cZHs5fSkvLmV4ZWMoZC5wYXRobmFtZSk7CgkJCQkJaWYgKHApIHJldHVybiBwWzFdOwoJCQkJCWxldCBtID0gZC5zZWFyY2hQYXJhbXMuZ2V0KCJ6Iik7CgkJCQkJaWYgKG0pIHJldHVybiBtLnNwbGl0KCIvIilbMF07CgkJCQkJbGV0IGggPSBkLnNlYXJjaFBhcmFtcy5nZXQoIm9pZCIpLCBnID0gZC5zZWFyY2hQYXJhbXMuZ2V0KCJpZCIpOwoJCQkJCWlmIChoICYmIGcpIHJldHVybiBgdmlkZW8tJHtNYXRoLmFicyhwYXJzZUludChoKSl9XyR7Z31gOwoJCQkJfQoJCQl9CgkJCWNsYXNzIFdhdGNoUG9yblRvSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvKHZpZGVvfGVtYmVkKVwvKFxkKykoXC9bXi9dK1wvKT8vLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQl2YXIgVCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3Qvc2VjdXJlLmpzIik7CgkJCWNsYXNzIFdldmVyc2VIZWxwZXIgZXh0ZW5kcyBnLnEgewoJCQkJQVBJX09SSUdJTiA9ICJodHRwczovL2dsb2JhbC5hcGlzLm5hdmVyLmNvbS93ZXZlcnNlL3dldndlYiI7CgkJCQlBUElfQVBQX0lEID0gImJlNGQ3OWViOGZjN2JkMDA4ZWU4MmM4ZWM0ZmY2ZmQ0IjsKCQkJCUFQSV9ITUFDX0tFWSA9ICIxYjljYjYzNzhkOTU5YjQ1NzE0YmVjNDk5NzFhZGUyMmU2ZTI0ZTQyIjsKCQkJCUhFQURFUlMgPSB7CgkJCQkJQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiwKCQkJCQlPcmlnaW46ICJodHRwczovL3dldmVyc2UuaW8iLAoJCQkJCVJlZmVyZXI6ICJodHRwczovL3dldmVyc2UuaW8vIgoJCQkJfTsKCQkJCWdldFVSTERhdGEoKSB7CgkJCQkJcmV0dXJuIHsKCQkJCQkJYXBwSWQ6IHRoaXMuQVBJX0FQUF9JRCwKCQkJCQkJbGFuZ3VhZ2U6ICJlbiIsCgkJCQkJCW9zOiAiV0VCIiwKCQkJCQkJcGxhdGZvcm06ICJXRUIiLAoJCQkJCQl3cGY6ICJwYyIKCQkJCQl9OwoJCQkJfQoJCQkJYXN5bmMgY3JlYXRlSGFzaChkKSB7CgkJCQkJbGV0IGYgPSBEYXRlLm5vdygpLCBwID0gZC5zdWJzdHJpbmcoMCwgTWF0aC5taW4oMjU1LCBkLmxlbmd0aCkpICsgZiwgbSA9IGF3YWl0ICgwLCBULmJUKSh0aGlzLkFQSV9ITUFDX0tFWSwgcCk7CgkJCQkJaWYgKCFtKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZ2V0IHdldmVyc2UgSE1BQyBzaWduYXR1cmUiKTsKCQkJCQlyZXR1cm4gewoJCQkJCQl3bXNncGFkOiBmLnRvU3RyaW5nKCksCgkJCQkJCXdtZDogbQoJCQkJCX07CgkJCQl9CgkJCQlhc3luYyBnZXRIYXNoVVJMUGFyYW1zKGQpIHsKCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuY3JlYXRlSGFzaChkKTsKCQkJCQlyZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhmKS50b1N0cmluZygpOwoJCQkJfQoJCQkJYXN5bmMgZ2V0UG9zdFByZXZpZXcoZCkgewoJCQkJCWxldCBmID0gYC9wb3N0L3YxLjAvcG9zdC0ke2R9L3ByZXZpZXc/YCArIG5ldyBVUkxTZWFyY2hQYXJhbXMoewoJCQkJCQlmaWVsZFNldDogInBvc3RGb3JQcmV2aWV3IiwKCQkJCQkJLi4udGhpcy5nZXRVUkxEYXRhKCkKCQkJCQl9KS50b1N0cmluZygpOwoJCQkJCXRyeSB7CgkJCQkJCWxldCBkID0gYXdhaXQgdGhpcy5nZXRIYXNoVVJMUGFyYW1zKGYpLCBwID0gYXdhaXQgdGhpcy5mZXRjaCh0aGlzLkFQSV9PUklHSU4gKyBmICsgIiYiICsgZCwgeyBoZWFkZXJzOiB0aGlzLkhFQURFUlMgfSk7CgkJCQkJCXJldHVybiBhd2FpdCBwLmpzb24oKTsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCXJldHVybiBfLkEuZXJyb3IoYEZhaWxlZCB0byBnZXQgd2V2ZXJzZSBwb3N0IHByZXZpZXcgYnkgcG9zdElkOiAke2R9YCwgZi5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9JbktleShkKSB7CgkJCQkJbGV0IGYgPSBgL3ZpZGVvL3YxLjEvdm9kLyR7ZH0vaW5LZXk/YCArIG5ldyBVUkxTZWFyY2hQYXJhbXMoewoJCQkJCQlnY2M6ICJSVSIsCgkJCQkJCS4uLnRoaXMuZ2V0VVJMRGF0YSgpCgkJCQkJfSkudG9TdHJpbmcoKTsKCQkJCQl0cnkgewoJCQkJCQlsZXQgZCA9IGF3YWl0IHRoaXMuZ2V0SGFzaFVSTFBhcmFtcyhmKSwgcCA9IGF3YWl0IHRoaXMuZmV0Y2godGhpcy5BUElfT1JJR0lOICsgZiArICImIiArIGQsIHsKCQkJCQkJCW1ldGhvZDogIlBPU1QiLAoJCQkJCQkJaGVhZGVyczogdGhpcy5IRUFERVJTCgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYXdhaXQgcC5qc29uKCk7CgkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHdldmVyc2UgSW5LZXkgYnkgdmlkZW9JZDogJHtkfWAsIGYubWVzc2FnZSksICExOwoJCQkJCX0KCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSW5mbyhkLCBmLCBwKSB7CgkJCQkJbGV0IG0gPSBEYXRlLm5vdygpOwoJCQkJCXRyeSB7CgkJCQkJCWxldCBoID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7CgkJCQkJCQlrZXk6IGYsCgkJCQkJCQlzaWQ6IHAsCgkJCQkJCQlub25jZTogbS50b1N0cmluZygpLAoJCQkJCQkJZGV2dDogImh0bWw1X3BjIiwKCQkJCQkJCXBydjogIk4iLAoJCQkJCQkJYXVwOiAiTiIsCgkJCQkJCQlzdHBiOiAiTiIsCgkJCQkJCQljcGw6ICJlbiIsCgkJCQkJCQllbnY6ICJwcm9kIiwKCQkJCQkJCWxjOiAiZW4iLAoJCQkJCQkJYWRpOiBKU09OLnN0cmluZ2lmeShbeyBhZFN5c3RlbTogbnVsbCB9XSksCgkJCQkJCQlhZHU6ICIvIgoJCQkJCQl9KS50b1N0cmluZygpLCBnID0gYXdhaXQgdGhpcy5mZXRjaChgaHR0cHM6Ly9nbG9iYWwuYXBpcy5uYXZlci5jb20vcm1jbm12L3JtY25tdi92b2QvcGxheS92Mi4wLyR7ZH0/YCArIGgsIHsgaGVhZGVyczogdGhpcy5IRUFERVJTIH0pOwoJCQkJCQlyZXR1cm4gYXdhaXQgZy5qc29uKCk7CgkJCQkJfSBjYXRjaCAobSkgewoJCQkJCQlyZXR1cm4gXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHdldmVyc2UgdmlkZW8gaW5mbyAoaW5mcmFWaWRlb0lkOiAke2R9LCBpbmtleTogJHtmfSwgc2VydmljZUlkOiAke3B9YCwgbS5tZXNzYWdlKSwgITE7CgkJCQkJfQoJCQkJfQoJCQkJZXh0cmFjdFZpZGVvSW5mbyhkKSB7CgkJCQkJcmV0dXJuIGQuZmluZCgoZCkgPT4gZC51c2VQMlAgPT09ICExICYmIGQuc291cmNlLmluY2x1ZGVzKCIubXA0IikpOwoJCQkJfQoJCQkJYXN5bmMgZ2V0VmlkZW9EYXRhKGQpIHsKCQkJCQlsZXQgZiA9IGF3YWl0IHRoaXMuZ2V0UG9zdFByZXZpZXcoZCk7CgkJCQkJaWYgKCFmKSByZXR1cm47CgkJCQkJbGV0IHsgdmlkZW9JZDogcCwgc2VydmljZUlkOiBtLCBpbmZyYVZpZGVvSWQ6IGggfSA9IGYuZXh0ZW5zaW9uLnZpZGVvOwoJCQkJCWlmICghKHAgJiYgbSAmJiBoKSkgcmV0dXJuOwoJCQkJCWxldCBnID0gYXdhaXQgdGhpcy5nZXRWaWRlb0luS2V5KHApOwoJCQkJCWlmICghZykgcmV0dXJuOwoJCQkJCWxldCBfID0gYXdhaXQgdGhpcy5nZXRWaWRlb0luZm8oaCwgZy5pbktleSwgbSk7CgkJCQkJaWYgKCFfKSByZXR1cm47CgkJCQkJbGV0IHYgPSB0aGlzLmV4dHJhY3RWaWRlb0luZm8oXy52aWRlb3MubGlzdCk7CgkJCQkJaWYgKHYpIHJldHVybiB7CgkJCQkJCXVybDogdi5zb3VyY2UsCgkJCQkJCWR1cmF0aW9uOiB2LmR1cmF0aW9uCgkJCQkJfTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvKFteL10rKVwvKGxpdmV8bWVkaWEpXC8oW14vXSspLy5leGVjKGQucGF0aG5hbWUpPy5bM107CgkJCQl9CgkJCX0KCQkJY2xhc3MgWFZpZGVvc0hlbHBlciBleHRlbmRzIGcucSB7CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlyZXR1cm4gL1teL10rXC9bXi9dKyQvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQljbGFzcyBZYW5kZXhEaXNrSGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCUFQSV9PUklHSU4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwoJCQkJQ0xJRU5UX1BSRUZJWCA9ICIvY2xpZW50L2Rpc2siOwoJCQkJSU5MSU5FX1BSRUZJWCA9ICIvaS8iOwoJCQkJRElTS19QUkVGSVggPSAiL2QvIjsKCQkJCWlzRXJyb3JEYXRhKGQpIHsKCQkJCQlyZXR1cm4gT2JqZWN0Lmhhc093bihkLCAiZXJyb3IiKTsKCQkJCX0KCQkJCWFzeW5jIGdldENsaWVudFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IGYgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSwgcCA9IGYuc2VhcmNoUGFyYW1zLmdldCgiaWREaWFsb2ciKTsKCQkJCQlpZiAoIXApIHJldHVybjsKCQkJCQlsZXQgbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwcmVsb2FkZWQtZGF0YSIpOwoJCQkJCWlmIChtKSB0cnkgewoJCQkJCQlsZXQgZCA9IEpTT04ucGFyc2UobS5pbm5lclRleHQpLCB7IGlkQ2xpZW50OiBmLCBzazogaCB9ID0gZC5jb25maWcsIF8gPSBhd2FpdCB0aGlzLmZldGNoKHRoaXMuQVBJX09SSUdJTiArICIvbW9kZWxzLXYyP209bXBmcy9pbmZvIiwgewoJCQkJCQkJbWV0aG9kOiAiUE9TVCIsCgkJCQkJCQlib2R5OiBKU09OLnN0cmluZ2lmeSh7CgkJCQkJCQkJYXBpTWV0aG9kOiAibXBmcy9pbmZvIiwKCQkJCQkJCQljb25uZWN0aW9uX2lkOiBmLAoJCQkJCQkJCXJlcXVlc3RQYXJhbXM6IHsgcGF0aDogcCB9LAoJCQkJCQkJCXNrOiBoCgkJCQkJCQl9KSwKCQkJCQkJCWhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9CgkJCQkJCX0pLCB2ID0gYXdhaXQgXy5qc29uKCk7CgkJCQkJCWlmICh0aGlzLmlzRXJyb3JEYXRhKHYpKSB0aHJvdyBuZXcgZy5hKHYuZXJyb3I/Lm1lc3NhZ2UgPz8gdi5lcnJvcj8uY29kZSk7CgkJCQkJCWlmICh2Py50eXBlICE9PSAiZmlsZSIpIHRocm93IG5ldyBnLmEoIkZhaWxlZCB0byBnZXQgcmVzb3VyY2UgaW5mbyIpOwoJCQkJCQlsZXQgeyBtZXRhOiB7IHNob3J0X3VybDogYiwgdmlkZW9faW5mbzogeCB9LCBuYW1lOiBDIH0gPSB2OwoJCQkJCQlpZiAoIXgpIHRocm93IG5ldyBnLmEoIlRoZXJlJ3Mgbm8gdmlkZW8gb3BlbiByaWdodCBub3ciKTsKCQkJCQkJaWYgKCFiKSB0aHJvdyBuZXcgZy5hKCJBY2Nlc3MgdG8gdGhlIHZpZGVvIGlzIGxpbWl0ZWQiKTsKCQkJCQkJbGV0IHcgPSB0aGlzLmNsZWFyVGl0bGUoQyksIFQgPSBNYXRoLnJvdW5kKHguZHVyYXRpb24gLyAxZTMpOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJdXJsOiBiLAoJCQkJCQkJdGl0bGU6IHcsCgkJCQkJCQlkdXJhdGlvbjogVAoJCQkJCQl9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHlhbmRleCBkaXNrIHZpZGVvIGRhdGEgYnkgdmlkZW8gSUQ6ICR7ZH0sIGJlY2F1c2UgJHtmLm1lc3NhZ2V9YCk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQljbGVhclRpdGxlKGQpIHsKCQkJCQlyZXR1cm4gZC5yZXBsYWNlKC8oXC5bXi5dKykkLywgIiIpOwoJCQkJfQoJCQkJZ2V0Qm9keUhhc2goZCwgZikgewoJCQkJCWxldCBwID0gSlNPTi5zdHJpbmdpZnkoewoJCQkJCQloYXNoOiBkLAoJCQkJCQlzazogZgoJCQkJCX0pOwoJCQkJCXJldHVybiBlbmNvZGVVUklDb21wb25lbnQocCk7CgkJCQl9CgkJCQlhc3luYyBmZXRjaExpc3QoZCwgZikgewoJCQkJCWxldCBwID0gdGhpcy5nZXRCb2R5SGFzaChkLCBmKSwgbSA9IGF3YWl0IHRoaXMuZmV0Y2godGhpcy5BUElfT1JJR0lOICsgIi9wdWJsaWMvYXBpL2ZldGNoLWxpc3QiLCB7CgkJCQkJCW1ldGhvZDogIlBPU1QiLAoJCQkJCQlib2R5OiBwCgkJCQkJfSksIGggPSBhd2FpdCBtLmpzb24oKTsKCQkJCQlpZiAoT2JqZWN0Lmhhc093bihoLCAiZXJyb3IiKSkgdGhyb3cgbmV3IGcuYSgiRmFpbGVkIHRvIGZldGNoIGZvbGRlciBsaXN0Iik7CgkJCQkJcmV0dXJuIGgucmVzb3VyY2VzOwoJCQkJfQoJCQkJYXN5bmMgZ2V0RG93bmxvYWRVcmwoZCwgZikgewoJCQkJCWxldCBwID0gdGhpcy5nZXRCb2R5SGFzaChkLCBmKSwgbSA9IGF3YWl0IHRoaXMuZmV0Y2godGhpcy5BUElfT1JJR0lOICsgIi9wdWJsaWMvYXBpL2Rvd25sb2FkLXVybCIsIHsKCQkJCQkJbWV0aG9kOiAiUE9TVCIsCgkJCQkJCWJvZHk6IHAKCQkJCQl9KSwgaCA9IGF3YWl0IG0uanNvbigpOwoJCQkJCWlmIChoLmVycm9yKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZ2V0IGRvd25sb2FkIHVybCIpOwoJCQkJCXJldHVybiBoLmRhdGEudXJsOwoJCQkJfQoJCQkJYXN5bmMgZ2V0RGlza1ZpZGVvRGF0YShkKSB7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RvcmUtcHJlZmV0Y2giKTsKCQkJCQkJaWYgKCFmKSB0aHJvdyBuZXcgZy5hKCJGYWlsZWQgdG8gZ2V0IHByZWZldGNoIGRhdGEiKTsKCQkJCQkJbGV0IHAgPSBkLnNwbGl0KCIvIikuc2xpY2UoMyk7CgkJCQkJCWlmICghcC5sZW5ndGgpIHRocm93IG5ldyBnLmEoIkZhaWxlZCB0byBmaW5kIHZpZGVvIGZpbGUgcGF0aCIpOwoJCQkJCQlsZXQgbSA9IEpTT04ucGFyc2UoZi5pbm5lclRleHQpLCB7IHJlc291cmNlczogaCwgcm9vdFJlc291cmNlSWQ6IF8sIGVudmlyb25tZW50OiB7IHNrOiBiIH0gfSA9IG0sIHggPSBoW19dLCBDID0gcC5sZW5ndGggLSAxLCB3ID0gcC5maWx0ZXIoKGQsIGYpID0+IGYgIT09IEMpLmpvaW4oIi8iKSwgVCA9IE9iamVjdC52YWx1ZXMoaCk7CgkJCQkJCXcuaW5jbHVkZXMoIi8iKSAmJiAoVCA9IGF3YWl0IHRoaXMuZmV0Y2hMaXN0KGAke3guaGFzaH06LyR7d31gLCBiKSk7CgkJCQkJCWxldCBFID0gVC5maW5kKChkKSA9PiBkLm5hbWUgPT09IHBbQ10pOwoJCQkJCQlpZiAoIUUpIHRocm93IG5ldyBnLmEoIkZhaWxlZCB0byBmaW5kIHJlc291cmNlIik7CgkJCQkJCWlmIChFICYmIEUudHlwZSA9PT0gImRpciIpIHRocm93IG5ldyBnLmEoIlBhdGggaXMgZGlyLCBidXQgZXhwZWN0ZWQgZmlsZSIpOwoJCQkJCQlsZXQgeyBtZXRhOiB7IHNob3J0X3VybDogRCwgbWVkaWF0eXBlOiBPLCB2aWRlb0R1cmF0aW9uOiBBIH0sIHBhdGg6IGosIG5hbWU6IEYgfSA9IEU7CgkJCQkJCWlmIChPICE9PSAidmlkZW8iKSB0aHJvdyBuZXcgZy5hKCJSZXNvdXJjZSBpc24ndCBhIHZpZGVvIik7CgkJCQkJCWxldCBVID0gdGhpcy5jbGVhclRpdGxlKEYpLCBXID0gTWF0aC5yb3VuZChBIC8gMWUzKTsKCQkJCQkJaWYgKEQpIHJldHVybiB7CgkJCQkJCQl1cmw6IEQsCgkJCQkJCQlkdXJhdGlvbjogVywKCQkJCQkJCXRpdGxlOiBVCgkJCQkJCX07CgkJCQkJCWxldCBHID0gYXdhaXQgdGhpcy5nZXREb3dubG9hZFVybChqLCBiKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogKDAsIHYuZmwpKG5ldyBVUkwoRykpLAoJCQkJCQkJZHVyYXRpb246IFcsCgkJCQkJCQl0aXRsZTogVQoJCQkJCQl9OwoJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJXy5BLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHlhbmRleCBkaXNrIHZpZGVvIGRhdGEgYnkgZGlzayB2aWRlbyBJRDogJHtkfWAsIGYubWVzc2FnZSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0RhdGEoZCkgewoJCQkJCXJldHVybiBkLnN0YXJ0c1dpdGgodGhpcy5JTkxJTkVfUFJFRklYKSB8fCAvXlwvZFwvKFteL10rKSQvLmV4ZWMoZCkgPyB7IHVybDogdGhpcy5zZXJ2aWNlLnVybCArIGQuc2xpY2UoMSkgfSA6IChkID0gZGVjb2RlVVJJQ29tcG9uZW50KGQpLCBkLnN0YXJ0c1dpdGgodGhpcy5DTElFTlRfUFJFRklYKSA/IGF3YWl0IHRoaXMuZ2V0Q2xpZW50VmlkZW9EYXRhKGQpIDogYXdhaXQgdGhpcy5nZXREaXNrVmlkZW9EYXRhKGQpKTsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCWlmIChkLnBhdGhuYW1lLnN0YXJ0c1dpdGgodGhpcy5DTElFTlRfUFJFRklYKSkgcmV0dXJuIGQucGF0aG5hbWUgKyBkLnNlYXJjaDsKCQkJCQlsZXQgZiA9IC9cL2lcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCQlyZXR1cm4gZiB8fCAoL1wvZFwvKFteL10rKS8uZXhlYyhkLnBhdGhuYW1lKSA/IGQucGF0aG5hbWUgOiB2b2lkIDApOwoJCQkJfQoJCQl9CgkJCWNsYXNzIFlvdWt1SGVscGVyIGV4dGVuZHMgZy5xIHsKCQkJCWFzeW5jIGdldFZpZGVvSWQoZCkgewoJCQkJCXJldHVybiAvdl9zaG93XC9pZF9bXHc9XSsvLmV4ZWMoZC5wYXRobmFtZSk/LlswXTsKCQkJCX0KCQkJfQoJCQl2YXIgRSA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvZXh0L2Rpc3QvaGVscGVycy95b3V0dWJlLmpzIik7CgkJCWxldCBEID0gewoJCQkJW20uci5tYWlscnVdOiBNYWlsUnVIZWxwZXIsCgkJCQlbbS5yLndldmVyc2VdOiBXZXZlcnNlSGVscGVyLAoJCQkJW20uci5rb2Rpa106IEtvZGlrSGVscGVyLAoJCQkJW20uci5wYXRyZW9uXTogUGF0cmVvbkhlbHBlciwKCQkJCVttLnIucmVkZGl0XTogUmVkZGl0SGVscGVyLAoJCQkJW20uci5iYW5uZWR2aWRlb106IEJhbm5lZFZpZGVvSGVscGVyLAoJCQkJW20uci5raWNrXTogS2lja0hlbHBlciwKCQkJCVttLnIuYXBwbGVkZXZlbG9wZXJdOiBBcHBsZURldmVsb3BlckhlbHBlciwKCQkJCVttLnIuZXBpY2dhbWVzXTogRXBpY0dhbWVzSGVscGVyLAoJCQkJW20uci5vZHlzZWVdOiBPZHlzZWVIZWxwZXIsCgkJCQlbbS5yLmNvdXJzZWh1bnRlckxpa2VdOiBDb3Vyc2VodW50ZXJMaWtlSGVscGVyLAoJCQkJW20uci50d2l0Y2hdOiBUd2l0Y2hIZWxwZXIsCgkJCQlbbS5yLnNhcF06IFNhcEhlbHBlciwKCQkJCVttLnIubGlua2VkaW5dOiBMaW5rZWRpbkhlbHBlciwKCQkJCVttLnIudmltZW9dOiBWaW1lb0hlbHBlciwKCQkJCVttLnIueWFuZGV4ZGlza106IFlhbmRleERpc2tIZWxwZXIsCgkJCQlbbS5yLnZrXTogVktIZWxwZXIsCgkJCQlbbS5yLnRyb3ZvXTogVHJvdm9IZWxwZXIsCgkJCQlbbS5yLmluY2VzdGZsaXhdOiBJbmNlc3RmbGl4SGVscGVyLAoJCQkJW20uci5wb3JudG5dOiBQb3JuVE5IZWxwZXIsCgkJCQlbbS5yLmdvb2dsZWRyaXZlXTogR29vZ2xlRHJpdmVIZWxwZXIsCgkJCQlbbS5yLmJpbGliaWxpXTogQmlsaWJpbGlIZWxwZXIsCgkJCQlbbS5yLnh2aWRlb3NdOiBYVmlkZW9zSGVscGVyLAoJCQkJW20uci53YXRjaHBvcm50b106IFdhdGNoUG9yblRvSGVscGVyLAoJCQkJW20uci5hcmNoaXZlXTogQXJjaGl2ZUhlbHBlciwKCQkJCVttLnIuZGFpbHltb3Rpb25dOiBEYWlseW1vdGlvbkhlbHBlciwKCQkJCVttLnIueW91a3VdOiBZb3VrdUhlbHBlciwKCQkJCVttLnIuZWdnaGVhZF06IEVnZ2hlYWRIZWxwZXIsCgkJCQlbbS5yLm5ld2dyb3VuZHNdOiBOZXdncm91bmRzSGVscGVyLAoJCQkJW20uci5va3J1XTogT0tSdUhlbHBlciwKCQkJCVttLnIucGVlcnR1YmVdOiBQZWVydHViZUhlbHBlciwKCQkJCVttLnIuZXBvcm5lcl06IEVwb3JuZXJIZWxwZXIsCgkJCQlbbS5yLmJpdGNodXRlXTogQml0Y2h1dGVIZWxwZXIsCgkJCQlbbS5yLnJ1dHViZV06IFJ1dHViZUhlbHBlciwKCQkJCVttLnIuZmFjZWJvb2tdOiBGYWNlYm9va0hlbHBlciwKCQkJCVttLnIucnVtYmxlXTogUnVtYmxlSGVscGVyLAoJCQkJW20uci50d2l0dGVyXTogVHdpdHRlckhlbHBlciwKCQkJCVttLnIucG9ybmh1Yl06IFBvcm5odWJIZWxwZXIsCgkJCQlbbS5yLnRpa3Rva106IFRpa1Rva0hlbHBlciwKCQkJCVttLnIucHJveGl0b2tdOiBUaWtUb2tIZWxwZXIsCgkJCQlbbS5yLm5pbmVfZ2FnXTogTmluZUdBR0hlbHBlciwKCQkJCVttLnIueW91dHViZV06IEUuQSwKCQkJCVttLnIucmlja3R1YmVdOiBFLkEsCgkJCQlbbS5yLmludmlkaW91c106IEUuQSwKCQkJCVttLnIucG9rZXR1YmVdOiBFLkEsCgkJCQlbbS5yLnBpcGVkXTogRS5BLAoJCQkJW20uci5kemVuXTogRHplbkhlbHBlciwKCQkJCVttLnIuY2xvdWRmbGFyZXN0cmVhbV06IENsb3VkZmxhcmVTdHJlYW1IZWxwZXIsCgkJCQlbbS5yLmxvb21dOiBMb29tSGVscGVyLAoJCQkJW20uci5ydG5ld3NdOiBSdE5ld3NIZWxwZXIsCgkJCQlbbS5yLmJpdHZpZXddOiBCaXR2aWV3SGVscGVyLAoJCQkJW20uci50aGlzdmlkXTogVGhpc1ZpZEhlbHBlciwKCQkJCVttLnIuaWduXTogSWduSGVscGVyLAoJCQkJW20uci5idW5rcl06IEJ1bmtySGVscGVyLAoJCQkJW20uci5pbWRiXTogSU1EYkhlbHBlciwKCQkJCVttLnIudGVsZWdyYW1dOiBUZWxlZ3JhbUhlbHBlciwKCQkJCVtoLlEudWRlbXldOiBVZGVteUhlbHBlciwKCQkJCVtoLlEuY291cnNlcmFdOiBDb3Vyc2VyYUhlbHBlciwKCQkJCVtoLlEuZG91eWluXTogRG91eWluSGVscGVyLAoJCQkJW2guUS5hcnRzdGF0aW9uXTogQXJ0c3RhdGlvbkhlbHBlciwKCQkJCVtoLlEua2lja3N0YXJ0ZXJdOiBLaWNrc3RhcnRlckhlbHBlciwKCQkJCVtoLlEub3JhY2xlbGVhcm5dOiBPcmFjbGVMZWFybkhlbHBlciwKCQkJCVtoLlEuZGVlcGxlYXJuaW5nYWldOiBEZWVwbGVhcm5pbmdBSUhlbHBlciwKCQkJCVtoLlEubmV0YWNhZF06IE5ldGFjYWRIZWxwZXIKCQkJfTsKCQkJY2xhc3MgVmlkZW9IZWxwZXIgewoJCQkJaGVscGVyc0RhdGE7CgkJCQljb25zdHJ1Y3RvcihkID0ge30pIHsKCQkJCQl0aGlzLmhlbHBlcnNEYXRhID0gZDsKCQkJCX0KCQkJCWdldEhlbHBlcihkKSB7CgkJCQkJcmV0dXJuIG5ldyBEW2RdKHRoaXMuaGVscGVyc0RhdGEpOwoJCQkJfQoJCQl9CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC9oZWxwZXJzL3lvdXR1YmUuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7IEE6ICgpID0+IFlvdXR1YmVIZWxwZXIgfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC9oZWxwZXJzL2Jhc2UuanMiKSwgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvZGF0YS9jb25zdHMuanMiKSwgZyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzIiksIF8gPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3V0aWxzL3V0aWxzLmpzIik7CgkJCWNsYXNzIFlvdXR1YmVIZWxwZXIgZXh0ZW5kcyBtLnEgewoJCQkJc3RhdGljIGlzTW9iaWxlKCkgewoJCQkJCXJldHVybiAvXm1cLnlvdXR1YmVcLmNvbSQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTsKCQkJCX0KCQkJCXN0YXRpYyBnZXRQbGF5ZXIoKSB7CgkJCQkJcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvc2hvcnRzLyIpICYmICFZb3V0dWJlSGVscGVyLmlzTW9iaWxlKCkgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2hvcnRzLXBsYXllciIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI21vdmllX3BsYXllciIpOwoJCQkJfQoJCQkJc3RhdGljIGdldFBsYXllclJlc3BvbnNlKCkgewoJCQkJCXJldHVybiBZb3V0dWJlSGVscGVyLmdldFBsYXllcigpPy5nZXRQbGF5ZXJSZXNwb25zZT8uY2FsbCh2b2lkIDApOwoJCQkJfQoJCQkJc3RhdGljIGdldFBsYXllckRhdGEoKSB7CgkJCQkJcmV0dXJuIFlvdXR1YmVIZWxwZXIuZ2V0UGxheWVyKCk/LmdldFZpZGVvRGF0YT8uY2FsbCh2b2lkIDApOwoJCQkJfQoJCQkJc3RhdGljIGdldFZvbHVtZSgpIHsKCQkJCQlsZXQgZCA9IFlvdXR1YmVIZWxwZXIuZ2V0UGxheWVyKCk7CgkJCQkJcmV0dXJuIGQ/LmdldFZvbHVtZSA/IGQuZ2V0Vm9sdW1lKCkgLyAxMDAgOiAxOwoJCQkJfQoJCQkJc3RhdGljIHNldFZvbHVtZShkKSB7CgkJCQkJbGV0IGYgPSBZb3V0dWJlSGVscGVyLmdldFBsYXllcigpOwoJCQkJCXJldHVybiBmPy5zZXRWb2x1bWUgPyAoZi5zZXRWb2x1bWUoTWF0aC5yb3VuZChkICogMTAwKSksICEwKSA6ICExOwoJCQkJfQoJCQkJc3RhdGljIGlzTXV0ZWQoKSB7CgkJCQkJbGV0IGQgPSBZb3V0dWJlSGVscGVyLmdldFBsYXllcigpOwoJCQkJCXJldHVybiBkPy5pc011dGVkID8gZC5pc011dGVkKCkgOiAhMTsKCQkJCX0KCQkJCXN0YXRpYyB2aWRlb1NlZWsoZCwgZikgewoJCQkJCWcuQS5sb2coInZpZGVvU2VlayIsIGYpOwoJCQkJCWxldCBwID0gWW91dHViZUhlbHBlci5nZXRQbGF5ZXIoKT8uZ2V0UHJvZ3Jlc3NTdGF0ZSgpPy5zZWVrYWJsZUVuZCA/PyBkLmN1cnJlbnRUaW1lLCBtID0gcCAtIGY7CgkJCQkJZC5jdXJyZW50VGltZSA9IG07CgkJCQl9CgkJCQlzdGF0aWMgZ2V0UG9Ub2tlbigpIHsKCQkJCQlsZXQgZCA9IFlvdXR1YmVIZWxwZXIuZ2V0UGxheWVyKCk7CgkJCQkJaWYgKCFkKSByZXR1cm47CgkJCQkJbGV0IGYgPSBkLmdldEF1ZGlvVHJhY2s/LmNhbGwodm9pZCAwKTsKCQkJCQlpZiAoIWY/LmNhcHRpb25UcmFja3M/Lmxlbmd0aCkgcmV0dXJuOwoJCQkJCWxldCBwID0gZi5jYXB0aW9uVHJhY2tzLmZpbmQoKGQpID0+IGQudXJsLmluY2x1ZGVzKCImcG90PSIpKTsKCQkJCQlpZiAocCkgcmV0dXJuIC8mcG90PShbXiZdKykvLmV4ZWMocC51cmwpPy5bMV07CgkJCQl9CgkJCQlzdGF0aWMgZ2V0R2xvYmFsQ29uZmlnKCkgewoJCQkJCXJldHVybiB0eXBlb2YgeXQgPCAidSIgPyB5dD8uY29uZmlnXyA6IHR5cGVvZiB5dGNmZyA8ICJ1IiA/IHl0Y2ZnPy5kYXRhXyA6IHZvaWQgMDsKCQkJCX0KCQkJCXN0YXRpYyBnZXREZXZpY2VQYXJhbXMoKSB7CgkJCQkJbGV0IGQgPSBZb3V0dWJlSGVscGVyLmdldEdsb2JhbENvbmZpZygpOwoJCQkJCWlmICghZCkgcmV0dXJuICJjPVdFQiI7CgkJCQkJbGV0IGYgPSBkLklOTkVSVFVCRV9DT05URVhUPy5jbGllbnQsIHAgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGQuREVWSUNFKTsKCQkJCQlyZXR1cm4gcC5kZWxldGUoImNlbmciKSwgcC5kZWxldGUoImNlbmd2ZXIiKSwgcC5zZXQoImMiLCBmPy5jbGllbnROYW1lID8/IGQuSU5ORVJUVUJFX0NMSUVOVF9OQU1FKSwgcC5zZXQoImN2ZXIiLCBmPy5jbGllbnRWZXJzaW9uID8/IGQuSU5ORVJUVUJFX0NMSUVOVF9WRVJTSU9OKSwgcC5zZXQoImNwbGF5ZXIiLCAiVU5JUExBWUVSIiksIHAudG9TdHJpbmcoKTsKCQkJCX0KCQkJCXN0YXRpYyBnZXRTdWJ0aXRsZXMoZCkgewoJCQkJCWxldCBmID0gWW91dHViZUhlbHBlci5nZXRQbGF5ZXJSZXNwb25zZSgpLCBwID0gZj8uY2FwdGlvbnM/LnBsYXllckNhcHRpb25zVHJhY2tsaXN0UmVuZGVyZXI7CgkJCQkJaWYgKCFwKSByZXR1cm4gW107CgkJCQkJbGV0IG0gPSBwLmNhcHRpb25UcmFja3MgPz8gW10sIGggPSBwLnRyYW5zbGF0aW9uTGFuZ3VhZ2VzID8/IFtdLCB2ID0gaC5maW5kKChmKSA9PiBmLmxhbmd1YWdlQ29kZSA9PT0gZCksIGIgPSBtLmZpbmQoKGQpID0+IGQ/LmtpbmQgPT09ICJhc3IiKSwgeCA9IGI/Lmxhbmd1YWdlQ29kZSA/PyAiZW4iLCBDID0gbS5yZWR1Y2UoKGYsIHApID0+IHsKCQkJCQkJaWYgKCEoImxhbmd1YWdlQ29kZSIgaW4gcCkpIHJldHVybiBmOwoJCQkJCQlsZXQgbSA9IHAubGFuZ3VhZ2VDb2RlID8gKDAsIF8uZWMpKHAubGFuZ3VhZ2VDb2RlKSA6IHZvaWQgMCwgaCA9IHAuYmFzZVVybDsKCQkJCQkJaWYgKCFtIHx8ICFoKSByZXR1cm4gZjsKCQkJCQkJbGV0IGcgPSBgJHtoLnN0YXJ0c1dpdGgoImh0dHAiKSA/IGggOiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS8ke2h9YH0mZm10PWpzb24zYDsKCQkJCQkJcmV0dXJuIGYucHVzaCh7CgkJCQkJCQlzb3VyY2U6ICJ5b3V0dWJlIiwKCQkJCQkJCWZvcm1hdDogImpzb24iLAoJCQkJCQkJbGFuZ3VhZ2U6IG0sCgkJCQkJCQlpc0F1dG9HZW5lcmF0ZWQ6IHA/LmtpbmQgPT09ICJhc3IiLAoJCQkJCQkJdXJsOiBnCgkJCQkJCX0pLCB2ICYmIHAuaXNUcmFuc2xhdGFibGUgJiYgcC5sYW5ndWFnZUNvZGUgPT09IHggJiYgZCAhPT0gbSAmJiBmLnB1c2goewoJCQkJCQkJc291cmNlOiAieW91dHViZSIsCgkJCQkJCQlmb3JtYXQ6ICJqc29uIiwKCQkJCQkJCWxhbmd1YWdlOiBkLAoJCQkJCQkJaXNBdXRvR2VuZXJhdGVkOiBwPy5raW5kID09PSAiYXNyIiwKCQkJCQkJCXRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2U6IG0sCgkJCQkJCQl1cmw6IGAke2d9JnRsYW5nPSR7ZH1gCgkJCQkJCX0pLCBmOwoJCQkJCX0sIFtdKTsKCQkJCQlyZXR1cm4gZy5BLmxvZygieW91dHViZSBzdWJ0aXRsZXM6IiwgQyksIEM7CgkJCQl9CgkJCQlzdGF0aWMgZ2V0TGFuZ3VhZ2UoKSB7CgkJCQkJaWYgKCFZb3V0dWJlSGVscGVyLmlzTW9iaWxlKCkpIHsKCQkJCQkJbGV0IGQgPSBZb3V0dWJlSGVscGVyLmdldFBsYXllcigpLCBmID0gZD8uZ2V0QXVkaW9UcmFjaz8uY2FsbCh2b2lkIDApPy5nZXRMYW5ndWFnZUluZm8oKTsKCQkJCQkJaWYgKGYgJiYgZi5pZCAhPT0gInVuZCIpIHJldHVybiAoMCwgXy5lYykoZi5pZC5zcGxpdCgiLiIpWzBdKTsKCQkJCQl9CgkJCQkJbGV0IGQgPSBZb3V0dWJlSGVscGVyLmdldFBsYXllclJlc3BvbnNlKCksIGYgPSBkPy5jYXB0aW9ucz8ucGxheWVyQ2FwdGlvbnNUcmFja2xpc3RSZW5kZXJlci5jYXB0aW9uVHJhY2tzLmZpbmQoKGQpID0+IGQua2luZCA9PT0gImFzciIgJiYgZC5sYW5ndWFnZUNvZGUpOwoJCQkJCXJldHVybiBmID8gKDAsIF8uZWMpKGYubGFuZ3VhZ2VDb2RlKSA6IHZvaWQgMDsKCQkJCX0KCQkJCWFzeW5jIGdldFZpZGVvRGF0YShkKSB7CgkJCQkJbGV0IHsgdGl0bGU6IGYgfSA9IFlvdXR1YmVIZWxwZXIuZ2V0UGxheWVyRGF0YSgpID8/IHt9LCB7IHNob3J0RGVzY3JpcHRpb246IHAsIGlzTGl2ZTogbSwgdGl0bGU6IGcgfSA9IFlvdXR1YmVIZWxwZXIuZ2V0UGxheWVyUmVzcG9uc2UoKT8udmlkZW9EZXRhaWxzID8/IHt9LCBfID0gWW91dHViZUhlbHBlci5nZXRTdWJ0aXRsZXModGhpcy5sYW5ndWFnZSksIHYgPSBZb3V0dWJlSGVscGVyLmdldExhbmd1YWdlKCk7CgkJCQkJdiAmJiAhaC54bS5pbmNsdWRlcyh2KSAmJiAodiA9IHZvaWQgMCk7CgkJCQkJbGV0IGIgPSBZb3V0dWJlSGVscGVyLmdldFBsYXllcigpPy5nZXREdXJhdGlvbj8uY2FsbCh2b2lkIDApID8/IHZvaWQgMDsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IHRoaXMuc2VydmljZS51cmwgKyBkLAoJCQkJCQlpc1N0cmVhbTogbSwKCQkJCQkJdGl0bGU6IGcsCgkJCQkJCWxvY2FsaXplZFRpdGxlOiBmLAoJCQkJCQlkZXRlY3RlZExhbmd1YWdlOiB2LAoJCQkJCQlkZXNjcmlwdGlvbjogcCwKCQkJCQkJc3VidGl0bGVzOiBfLAoJCQkJCQlkdXJhdGlvbjogYgoJCQkJCX07CgkJCQl9CgkJCQlhc3luYyBnZXRWaWRlb0lkKGQpIHsKCQkJCQlpZiAoZC5ob3N0bmFtZSA9PT0gInlvdXR1LmJlIiAmJiAoZC5zZWFyY2ggPSBgP3Y9JHtkLnBhdGhuYW1lLnJlcGxhY2UoIi8iLCAiIil9YCwgZC5wYXRobmFtZSA9ICIvd2F0Y2giKSwgZC5zZWFyY2hQYXJhbXMuaGFzKCJlbmFibGVqc2FwaSIpKSB7CgkJCQkJCWxldCBmID0gWW91dHViZUhlbHBlci5nZXRQbGF5ZXIoKT8uZ2V0VmlkZW9VcmwoKTsKCQkJCQkJZCA9IGYgPyBuZXcgVVJMKGYpIDogZDsKCQkJCQl9CgkJCQkJcmV0dXJuIC8oPzp3YXRjaHxlbWJlZHxzaG9ydHN8bGl2ZSlcLyhbXi9dKykvLmV4ZWMoZC5wYXRobmFtZSk/LlsxXSA/PyBkLnNlYXJjaFBhcmFtcy5nZXQoInYiKTsKCQkJCX0KCQkJfQoJCX0sCgkJIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvZXh0L2Rpc3QvaW5kZXguanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgewoJCQkJCQlBeTogKCkgPT4gaC5BLAoJCQkJCQlQdTogKCkgPT4gaC5QCgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2NsaWVudC5qcyIpLCBnID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC91dGlscy92aWRlb0RhdGEuanMiKSwgXyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvZXh0L2Rpc3QvZGF0YS9zaXRlcy5qcyIpLCB2ID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC90eXBlcy9pbmRleC5qcyIpLCBiID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC9oZWxwZXJzL2luZGV4LmpzIiksIHggPSBkKFtoXSk7CgkJCQkJaCA9ICh4LnRoZW4gPyAoYXdhaXQgeCkoKSA6IHgpWzBdLCBtKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC90eXBlcy9pbmRleC5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIG0gPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L3R5cGVzL3NlcnZpY2UuanMiKTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L3R5cGVzL3NlcnZpY2UuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7IFE6ICgpID0+IGggfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdHlwZXMvc2VydmljZS5qcyIpLCBoOwoJCQkoZnVuY3Rpb24oZCkgewoJCQkJZC51ZGVteSA9ICJ1ZGVteSIsIGQuY291cnNlcmEgPSAiY291cnNlcmEiLCBkLmRvdXlpbiA9ICJkb3V5aW4iLCBkLmFydHN0YXRpb24gPSAiYXJ0c3RhdGlvbiIsIGQua2lja3N0YXJ0ZXIgPSAia2lja3N0YXJ0ZXIiLCBkLm9yYWNsZWxlYXJuID0gIm9yYWNsZWxlYXJuIiwgZC5kZWVwbGVhcm5pbmdhaSA9ICJkZWVwbGVhcm5pbmdhaSIsIGQubmV0YWNhZCA9ICJuZXRhY2FkIjsKCQkJfSkoaCB8fD0ge30pOwoJCQlsZXQgZyA9IHsKCQkJCS4uLm0uciwKCQkJCS4uLmgKCQkJfTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L3V0aWxzL3ZpZGVvRGF0YS5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCWNROiAoKSA9PiBnZXRTZXJ2aWNlLAoJCQkJalk6ICgpID0+IGdldFZpZGVvSUQsCgkJCQlvNDogKCkgPT4gZ2V0VmlkZW9EYXRhCgkJCX0pOwoJCQl2YXIgbSA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3R5cGVzL3NlcnZpY2UuanMiKSwgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3V0aWxzL3ZpZGVvRGF0YS5qcyIpLCBnID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC9kYXRhL3NpdGVzLmpzIiksIF8gPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2hlbHBlcnMvaW5kZXguanMiKTsKCQkJZnVuY3Rpb24gZ2V0U2VydmljZSgpIHsKCQkJCWlmIChoLiQuZXhlYyh3aW5kb3cubG9jYXRpb24uaHJlZikpIHJldHVybiBbXTsKCQkJCWxldCBkID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLCBmID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZiksIGlzTWF0Y2hlcyA9IChwKSA9PiBwIGluc3RhbmNlb2YgUmVnRXhwID8gcC50ZXN0KGQpIDogdHlwZW9mIHAgPT0gInN0cmluZyIgPyBkLmluY2x1ZGVzKHApIDogdHlwZW9mIHAgPT0gImZ1bmN0aW9uIiA/IHAoZikgOiAhMTsKCQkJCXJldHVybiBnLkEuZmlsdGVyKChkKSA9PiAoQXJyYXkuaXNBcnJheShkLm1hdGNoKSA/IGQubWF0Y2guc29tZShpc01hdGNoZXMpIDogaXNNYXRjaGVzKGQubWF0Y2gpKSAmJiBkLmhvc3QgJiYgZC51cmwpOwoJCQl9CgkJCWFzeW5jIGZ1bmN0aW9uIGdldFZpZGVvSUQoZCwgZiA9IHt9KSB7CgkJCQlsZXQgcCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLCBoID0gZC5ob3N0OwoJCQkJaWYgKE9iamVjdC5rZXlzKF8uSlcpLmluY2x1ZGVzKGgpKSB7CgkJCQkJbGV0IGQgPSBuZXcgXy5BeShmKS5nZXRIZWxwZXIoaCk7CgkJCQkJcmV0dXJuIGF3YWl0IGQuZ2V0VmlkZW9JZChwKTsKCQkJCX0KCQkJCXJldHVybiBoID09PSBtLnIuY3VzdG9tID8gcC5ocmVmIDogdm9pZCAwOwoJCQl9CgkJCWFzeW5jIGZ1bmN0aW9uIGdldFZpZGVvRGF0YShkLCBmID0ge30pIHsKCQkJCWxldCBwID0gYXdhaXQgZ2V0VmlkZW9JRChkLCBmKTsKCQkJCWlmICghcCkgdGhyb3cgbmV3IGguQShgRW50ZXJlZCB1bnN1cHBvcnRlZCBsaW5rOiAiJHtkLmhvc3R9ImApOwoJCQkJbGV0IGcgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwoJCQkJaWYgKFsKCQkJCQltLnIucGVlcnR1YmUsCgkJCQkJbS5yLmNvdXJzZWh1bnRlckxpa2UsCgkJCQkJbS5yLmNsb3VkZmxhcmVzdHJlYW0KCQkJCV0uaW5jbHVkZXMoZC5ob3N0KSAmJiAoZC51cmwgPSBnKSwgZC5yYXdSZXN1bHQpIHJldHVybiB7CgkJCQkJdXJsOiBwLAoJCQkJCXZpZGVvSWQ6IHAsCgkJCQkJaG9zdDogZC5ob3N0LAoJCQkJCWR1cmF0aW9uOiB2b2lkIDAKCQkJCX07CgkJCQlpZiAoIWQubmVlZEV4dHJhRGF0YSkgcmV0dXJuIHsKCQkJCQl1cmw6IGQudXJsICsgcCwKCQkJCQl2aWRlb0lkOiBwLAoJCQkJCWhvc3Q6IGQuaG9zdCwKCQkJCQlkdXJhdGlvbjogdm9pZCAwCgkJCQl9OwoJCQkJbGV0IHYgPSBuZXcgXy5BeSh7CgkJCQkJLi4uZiwKCQkJCQlzZXJ2aWNlOiBkLAoJCQkJCW9yaWdpbjogZwoJCQkJfSkuZ2V0SGVscGVyKGQuaG9zdCksIGIgPSBhd2FpdCB2LmdldFZpZGVvRGF0YShwKTsKCQkJCWlmICghYikgdGhyb3cgbmV3IGguQShgRmFpbGVkIHRvIGdldCB2aWRlbyByYXcgdXJsIGZvciAke2QuaG9zdH1gKTsKCQkJCXJldHVybiB7CgkJCQkJLi4uYiwKCQkJCQl2aWRlb0lkOiBwLAoJCQkJCWhvc3Q6IGQuaG9zdAoJCQkJfTsKCQkJfQoJCX0sCgkJIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvZGF0YS9hbHRlcm5hdGl2ZVVybHMuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7CgkJCQlKbzogKCkgPT4gaCwKCQkJCU15OiAoKSA9PiBiLAoJCQkJVFA6ICgpID0+IGcsCgkJCQlYbTogKCkgPT4gbSwKCQkJCWZWOiAoKSA9PiBfLAoJCQkJcjogKCkgPT4gQywKCQkJCXN4OiAoKSA9PiB2CgkJCX0pOwoJCQlsZXQgbSA9IFsKCQkJCSJ5ZXd0dS5iZSIsCgkJCQkieXQuYXJ0ZW1pc2xlbmEuZXUiLAoJCQkJImludmlkaW91cy5mbG9raW5ldC50byIsCgkJCQkiaXYubWVsbWFjLnNwYWNlIiwKCQkJCSJpbnYubmFkZWtvLm5ldCIsCgkJCQkiaW52LnR1eC5waXp6YSIsCgkJCQkiaW52aWRpb3VzLnByaXZhdGUuY29mZmVlIiwKCQkJCSJ5dC5kcmduei5jbHViIiwKCQkJCSJ2aWQucHVmZnlhbi51cyIsCgkJCQkiaW52aWRpb3VzLmRodXNjaC5kZSIKCQkJXSwgaCA9ICJwaXBlZC52aWRlbyxwaXBlZC50b2tobWkueHl6LHBpcGVkLm1vb21vby5tZSxwaXBlZC5zeW5jcHVuZGl0LmlvLHBpcGVkLm1oYS5maSx3YXRjaC53aGF0ZXZlci5zb2NpYWwscGlwZWQuZ2FydWRhbGludXgub3JnLGVmeS5waXBlZC5wYWdlcy5kZXYsd2F0Y2gubGVwdG9ucy54eXoscGlwZWQubHVuYXIuaWN1LHl0LmRjMDkucnUscGlwZWQubWludC5sZ2J0LGlsLmF4LHBpcGVkLnByaXZhY3kuY29tLmRlLHBpcGVkLmVzbWFpbGVsYm9iLnh5eixwaXBlZC5wcm9qZWN0c2VnZmF1Lmx0LHBpcGVkLmluLnByb2plY3RzZWdmYXUubHQscGlwZWQudXMucHJvamVjdHNlZ2ZhdS5sdCxwaXBlZC5wcml2YWN5ZGV2Lm5ldCxwaXBlZC5wYWx2ZWx1bnRhcmpvYWphLmV1LHBpcGVkLnNtbnouZGUscGlwZWQuYWRtaW5mb3JnZS5kZSxwaXBlZC5xZGkuZmkscGlwZWQuaG9zdHV4Lm5ldCxwaXBlZC5jaGF1dmV0LnBybyxwaXBlZC5qb3RvbWEuZGUscGlwZWQucGZjZC5tZSxwaXBlZC5mcm9udGVuZGZyaWVuZGx5Lnh5eiIuc3BsaXQoIiwiKSwgZyA9IFsKCQkJCSJwcm94aXRvay5wYWJsb2ZlcnJlaXJvLmVzIiwKCQkJCSJwcm94aXRvay5wdXNzdGhlY2F0Lm9yZyIsCgkJCQkidG9rLmhhYmVkaWVlaC5yZSIsCgkJCQkicHJveGl0b2suZXNtYWlsZWxib2IueHl6IiwKCQkJCSJwcm94aXRvay5wcml2YWN5ZGV2Lm5ldCIsCgkJCQkidG9rLmFydGVtaXNsZW5hLmV1IiwKCQkJCSJ0b2suYWRtaW5mb3JnZS5kZSIsCgkJCQkidHQudmVybi5jYyIsCgkJCQkiY3JpbmdlLndoYXRldmVyLnNvY2lhbCIsCgkJCQkicHJveGl0b2subHVuYXIuaWN1IiwKCQkJCSJwcm94aXRvay5wcml2YWN5LmNvbS5kZSIKCQkJXSwgXyA9IFsKCQkJCSJwZWVydHViZS4xMzEyLm1lZGlhIiwKCQkJCSJ0dWJlLnNoYW50aS5jYWZlIiwKCQkJCSJiZWUtdHViZS5mciIsCgkJCQkidmlkZW8uc2FkbWluLmlvIiwKCQkJCSJkYWxlay56b25lIiwKCQkJCSJyZXZpZXcucGVlcnR1YmUuYml6IiwKCQkJCSJwZWVydmlkZW8uY2x1YiIsCgkJCQkidHViZS5sYS1kaW5hLm5ldCIsCgkJCQkicGVlcnR1YmUudG1wLnJjcC50ZiIsCgkJCQkicGVlcnR1YmUuc3UiLAoJCQkJInZpZGVvLmJsZW5kZXIub3JnIiwKCQkJCSJ2aWRlb3MudmlvcnNhbi5jb20iLAoJCQkJInR1YmUtc2NpZW5jZXMtdGVjaG5vbG9naWVzLmFwcHMuZWR1Y2F0aW9uLmZyIiwKCQkJCSJ0dWJlLW51bWVyaXF1ZS1lZHVjYXRpZi5hcHBzLmVkdWNhdGlvbi5mciIsCgkJCQkidHViZS1hcnRzLWxldHRyZXMtc2NpZW5jZXMtaHVtYWluZXMuYXBwcy5lZHVjYXRpb24uZnIiLAoJCQkJImJlZXRvb25zLnR2IiwKCQkJCSJjb21pY3MucGVlcnR1YmUuYml6IiwKCQkJCSJtYWtlcnR1YmUubmV0IgoJCQldLCB2ID0gWwoJCQkJInBva2V0dWJlLmZ1biIsCgkJCQkicHQuc3Vkb3ZhbmlsbGEub3JnIiwKCQkJCSJwb2tlLmdndHlsZXIuZGV2IiwKCQkJCSJwb2tlLnVrMi5saXR0bGVrYWkuY28udWsiLAoJCQkJInBva2UuYmxhaGFpLmdheSIKCQkJXSwgYiA9IFsicmlja3R1YmUucnUiXSwgeCA9IG51bGwsIEMgPSBbImNvdXJzZWh1bnRlci5uZXQiLCAiY291cnNldHJhaW4ubmV0Il07CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2NvbmZpZy5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsgQTogKCkgPT4gbSB9KTsKCQkJbGV0IG0gPSB7CgkJCQlob3N0OiAiYXBpLmJyb3dzZXIueWFuZGV4LnJ1IiwKCQkJCWhvc3RWT1Q6ICJ2b3QudG9pbC5jYy92MSIsCgkJCQlob3N0V29ya2VyOiAidm90LXdvcmtlci50b2lsLmNjIiwKCQkJCW1lZGlhUHJveHk6ICJtZWRpYS1wcm94eS50b2lsLmNjIiwKCQkJCXVzZXJBZ2VudDogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzQuMC4wLjAgWWFCcm93c2VyLzI1LjQuMC4wIFNhZmFyaS81MzcuMzYiLAoJCQkJY29tcG9uZW50VmVyc2lvbjogIjI1LjYuMC4yMjU5IiwKCQkJCWhtYWM6ICJidDh4SDNWT2xiNG1xZjBucUFpYm5ET29pUGxYc2lzZiIsCgkJCQlkZWZhdWx0RHVyYXRpb246IDM0MywKCQkJCW1pbkNodW5rU2l6ZTogNTI5NTMwOCwKCQkJCWxvZ2dlckxldmVsOiAxLAoJCQkJdmVyc2lvbjogIjIuNC4xMiIKCQkJfTsKCQl9LAoJCSIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uc3RzLmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgewoJCQkJRUc6ICgpID0+IGcsCgkJCQlYaDogKCkgPT4gaCwKCQkJCXhtOiAoKSA9PiBtCgkJCX0pOwoJCQlsZXQgbSA9IFsKCQkJCSJhdXRvIiwKCQkJCSJydSIsCgkJCQkiZW4iLAoJCQkJInpoIiwKCQkJCSJrbyIsCgkJCQkibHQiLAoJCQkJImx2IiwKCQkJCSJhciIsCgkJCQkiZnIiLAoJCQkJIml0IiwKCQkJCSJlcyIsCgkJCQkiZGUiLAoJCQkJImphIgoJCQldLCBoID0gWwoJCQkJInJ1IiwKCQkJCSJlbiIsCgkJCQkia2siCgkJCV0sIGcgPSBbCgkJCQkic3J0IiwKCQkJCSJ2dHQiLAoJCQkJImpzb24iCgkJCV07CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9pbmRleC5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsgJFc6ICgpID0+IG0uQSB9KTsKCQkJdmFyIG0gPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uZmlnLmpzIiksIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3Byb3Rvcy95YW5kZXguanMiKSwgZyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzIiksIF8gPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3V0aWxzL3V0aWxzLmpzIiksIHYgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3R5cGVzL2xvZ2dlci5qcyIpLCBiOwoJCQkoZnVuY3Rpb24oZCkgewoJCQkJZC5DaGFubmVsID0gIkNoYW5uZWwiLCBkLlZpZGVvID0gIlZpZGVvIjsKCQkJfSkoYiB8fD0ge30pOwoJCX0sCgkJIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvcHJvdG9zL3lhbmRleC5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCXE4OiAoKSA9PiBFLAoJCQkJa086ICgpID0+ICQsCgkJCQlYdjogKCkgPT4gZWUsCgkJCQluXzogKCkgPT4gdGUsCgkJCQlQNDogKCkgPT4gWCwKCQkJCUxEOiAoKSA9PiBaLAoJCQkJWTc6ICgpID0+IHEsCgkJCQlXaTogKCkgPT4gSiwKCQkJCVl4OiAoKSA9PiBGLAoJCQkJWks6ICgpID0+IFUsCgkJCQl5eTogKCkgPT4gTywKCQkJCUFKOiAoKSA9PiBBLAoJCQkJbHM6ICgpID0+IG5lLAoJCQkJQnY6ICgpID0+IHJlCgkJCX0pOwoJCQlmdW5jdGlvbiB2YXJpbnQ2NHJlYWQoKSB7CgkJCQlsZXQgZCA9IDAsIGYgPSAwOwoJCQkJZm9yIChsZXQgcCA9IDA7IHAgPCAyODsgcCArPSA3KSB7CgkJCQkJbGV0IG0gPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXTsKCQkJCQlpZiAoZCB8PSAobSAmIDEyNykgPDwgcCwgIShtICYgMTI4KSkgcmV0dXJuIHRoaXMuYXNzZXJ0Qm91bmRzKCksIFtkLCBmXTsKCQkJCX0KCQkJCWxldCBwID0gdGhpcy5idWZbdGhpcy5wb3MrK107CgkJCQlpZiAoZCB8PSAocCAmIDE1KSA8PCAyOCwgZiA9IChwICYgMTEyKSA+PiA0LCAhKHAgJiAxMjgpKSByZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSwgW2QsIGZdOwoJCQkJZm9yIChsZXQgcCA9IDM7IHAgPD0gMzE7IHAgKz0gNykgewoJCQkJCWxldCBtID0gdGhpcy5idWZbdGhpcy5wb3MrK107CgkJCQkJaWYgKGYgfD0gKG0gJiAxMjcpIDw8IHAsICEobSAmIDEyOCkpIHJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLCBbZCwgZl07CgkJCQl9CgkJCQl0aHJvdyBFcnJvcigiaW52YWxpZCB2YXJpbnQiKTsKCQkJfQoJCQlmdW5jdGlvbiB2YXJpbnQ2NHdyaXRlKGQsIGYsIHApIHsKCQkJCWZvciAobGV0IG0gPSAwOyBtIDwgMjg7IG0gKz0gNykgewoJCQkJCWxldCBoID0gZCA+Pj4gbSwgZyA9ICEoIShoID4+PiA3KSAmJiBmID09IDApLCBfID0gKGcgPyBoIHwgMTI4IDogaCkgJiAyNTU7CgkJCQkJaWYgKHAucHVzaChfKSwgIWcpIHJldHVybjsKCQkJCX0KCQkJCWxldCBtID0gZCA+Pj4gMjggJiAxNSB8IChmICYgNykgPDwgNCwgaCA9ICEhKGYgPj4gMyk7CgkJCQlpZiAocC5wdXNoKChoID8gbSB8IDEyOCA6IG0pICYgMjU1KSwgaCkgewoJCQkJCWZvciAobGV0IGQgPSAzOyBkIDwgMzE7IGQgKz0gNykgewoJCQkJCQlsZXQgbSA9IGYgPj4+IGQsIGggPSAhIShtID4+PiA3KSwgZyA9IChoID8gbSB8IDEyOCA6IG0pICYgMjU1OwoJCQkJCQlpZiAocC5wdXNoKGcpLCAhaCkgcmV0dXJuOwoJCQkJCX0KCQkJCQlwLnB1c2goZiA+Pj4gMzEgJiAxKTsKCQkJCX0KCQkJfQoJCQlsZXQgbSA9IDQyOTQ5NjcyOTY7CgkJCWZ1bmN0aW9uIGludDY0RnJvbVN0cmluZyhkKSB7CgkJCQlsZXQgZiA9IGRbMF0gPT09ICItIjsKCQkJCWYgJiYgKGQgPSBkLnNsaWNlKDEpKTsKCQkJCWxldCBwID0gMWU2LCBoID0gMCwgZyA9IDA7CgkJCQlmdW5jdGlvbiBhZGQxZTZkaWdpdChmLCBfKSB7CgkJCQkJbGV0IHYgPSBOdW1iZXIoZC5zbGljZShmLCBfKSk7CgkJCQkJZyAqPSBwLCBoID0gaCAqIHAgKyB2LCBoID49IG0gJiYgKGcgKz0gaCAvIG0gfCAwLCBoICU9IG0pOwoJCQkJfQoJCQkJcmV0dXJuIGFkZDFlNmRpZ2l0KC0yNCwgLTE4KSwgYWRkMWU2ZGlnaXQoLTE4LCAtMTIpLCBhZGQxZTZkaWdpdCgtMTIsIC02KSwgYWRkMWU2ZGlnaXQoLTYpLCBmID8gbmVnYXRlKGgsIGcpIDogbmV3Qml0cyhoLCBnKTsKCQkJfQoJCQlmdW5jdGlvbiBpbnQ2NFRvU3RyaW5nKGQsIGYpIHsKCQkJCWxldCBwID0gbmV3Qml0cyhkLCBmKSwgbSA9IHAuaGkgJiAyMTQ3NDgzNjQ4OwoJCQkJbSAmJiAocCA9IG5lZ2F0ZShwLmxvLCBwLmhpKSk7CgkJCQlsZXQgaCA9IHVJbnQ2NFRvU3RyaW5nKHAubG8sIHAuaGkpOwoJCQkJcmV0dXJuIG0gPyAiLSIgKyBoIDogaDsKCQkJfQoJCQlmdW5jdGlvbiB1SW50NjRUb1N0cmluZyhkLCBmKSB7CgkJCQlpZiAoe2xvOiBkLCBoaTogZn0gPSB0b1Vuc2lnbmVkKGQsIGYpLCBmIDw9IDIwOTcxNTEpIHJldHVybiBTdHJpbmcobSAqIGYgKyBkKTsKCQkJCWxldCBwID0gZCAmIDE2Nzc3MjE1LCBoID0gKGQgPj4+IDI0IHwgZiA8PCA4KSAmIDE2Nzc3MjE1LCBnID0gZiA+PiAxNiAmIDY1NTM1LCBfID0gcCArIGggKiA2Nzc3MjE2ICsgZyAqIDY3MTA2NTYsIHYgPSBoICsgZyAqIDgxNDc0OTcsIGIgPSBnICogMiwgeCA9IDFlNzsKCQkJCXJldHVybiBfID49IHggJiYgKHYgKz0gTWF0aC5mbG9vcihfIC8geCksIF8gJT0geCksIHYgPj0geCAmJiAoYiArPSBNYXRoLmZsb29yKHYgLyB4KSwgdiAlPSB4KSwgYi50b1N0cmluZygpICsgZGVjaW1hbEZyb20xZTdXaXRoTGVhZGluZ1plcm9zKHYpICsgZGVjaW1hbEZyb20xZTdXaXRoTGVhZGluZ1plcm9zKF8pOwoJCQl9CgkJCWZ1bmN0aW9uIHRvVW5zaWduZWQoZCwgZikgewoJCQkJcmV0dXJuIHsKCQkJCQlsbzogZCA+Pj4gMCwKCQkJCQloaTogZiA+Pj4gMAoJCQkJfTsKCQkJfQoJCQlmdW5jdGlvbiBuZXdCaXRzKGQsIGYpIHsKCQkJCXJldHVybiB7CgkJCQkJbG86IGQgfCAwLAoJCQkJCWhpOiBmIHwgMAoJCQkJfTsKCQkJfQoJCQlmdW5jdGlvbiBuZWdhdGUoZCwgZikgewoJCQkJcmV0dXJuIGYgPSB+ZiwgZCA/IGQgPSB+ZCArIDEgOiBmICs9IDEsIG5ld0JpdHMoZCwgZik7CgkJCX0KCQkJbGV0IGRlY2ltYWxGcm9tMWU3V2l0aExlYWRpbmdaZXJvcyA9IChkKSA9PiB7CgkJCQlsZXQgZiA9IFN0cmluZyhkKTsKCQkJCXJldHVybiAiMDAwMDAwMCIuc2xpY2UoZi5sZW5ndGgpICsgZjsKCQkJfTsKCQkJZnVuY3Rpb24gdmFyaW50MzJ3cml0ZShkLCBmKSB7CgkJCQlpZiAoZCA+PSAwKSB7CgkJCQkJZm9yICg7IGQgPiAxMjc7KSBmLnB1c2goZCAmIDEyNyB8IDEyOCksIGQgPj4+PSA3OwoJCQkJCWYucHVzaChkKTsKCQkJCX0gZWxzZSB7CgkJCQkJZm9yIChsZXQgcCA9IDA7IHAgPCA5OyBwKyspIGYucHVzaChkICYgMTI3IHwgMTI4KSwgZCA+Pj0gNzsKCQkJCQlmLnB1c2goMSk7CgkJCQl9CgkJCX0KCQkJZnVuY3Rpb24gdmFyaW50MzJyZWFkKCkgewoJCQkJbGV0IGQgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXSwgZiA9IGQgJiAxMjc7CgkJCQlpZiAoIShkICYgMTI4KSB8fCAoZCA9IHRoaXMuYnVmW3RoaXMucG9zKytdLCBmIHw9IChkICYgMTI3KSA8PCA3LCAhKGQgJiAxMjgpKSB8fCAoZCA9IHRoaXMuYnVmW3RoaXMucG9zKytdLCBmIHw9IChkICYgMTI3KSA8PCAxNCwgIShkICYgMTI4KSkgfHwgKGQgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXSwgZiB8PSAoZCAmIDEyNykgPDwgMjEsICEoZCAmIDEyOCkpKSByZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSwgZjsKCQkJCWQgPSB0aGlzLmJ1Zlt0aGlzLnBvcysrXSwgZiB8PSAoZCAmIDE1KSA8PCAyODsKCQkJCWZvciAobGV0IGYgPSA1OyBkICYgMTI4ICYmIGYgPCAxMDsgZisrKSBkID0gdGhpcy5idWZbdGhpcy5wb3MrK107CgkJCQlpZiAoZCAmIDEyOCkgdGhyb3cgRXJyb3IoImludmFsaWQgdmFyaW50Iik7CgkJCQlyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSwgZiA+Pj4gMDsKCQkJfQoJCQlsZXQgaCA9IG1ha2VJbnQ2NFN1cHBvcnQoKTsKCQkJZnVuY3Rpb24gbWFrZUludDY0U3VwcG9ydCgpIHsKCQkJCWxldCBkID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcig4KSksIGYgPSB0eXBlb2YgQmlnSW50ID09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIGQuZ2V0QmlnSW50NjQgPT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgZC5nZXRCaWdVaW50NjQgPT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgZC5zZXRCaWdJbnQ2NCA9PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBkLnNldEJpZ1VpbnQ2NCA9PSAiZnVuY3Rpb24iICYmICh0eXBlb2YgcHJvY2VzcyAhPSAib2JqZWN0IiB8fCB0eXBlb2YgcHJvY2Vzcy5lbnYgIT0gIm9iamVjdCIgfHwgcHJvY2Vzcy5lbnYuQlVGX0JJR0lOVF9ESVNBQkxFICE9PSAiMSIpOwoJCQkJaWYgKGYpIHsKCQkJCQlsZXQgZiA9IEJpZ0ludCgiLTkyMjMzNzIwMzY4NTQ3NzU4MDgiKSwgcCA9IEJpZ0ludCgiOTIyMzM3MjAzNjg1NDc3NTgwNyIpLCBtID0gQmlnSW50KCIwIiksIGggPSBCaWdJbnQoIjE4NDQ2NzQ0MDczNzA5NTUxNjE1Iik7CgkJCQkJcmV0dXJuIHsKCQkJCQkJemVybzogQmlnSW50KDApLAoJCQkJCQlzdXBwb3J0ZWQ6ICEwLAoJCQkJCQlwYXJzZShkKSB7CgkJCQkJCQlsZXQgbSA9IHR5cGVvZiBkID09ICJiaWdpbnQiID8gZCA6IEJpZ0ludChkKTsKCQkJCQkJCWlmIChtID4gcCB8fCBtIDwgZikgdGhyb3cgRXJyb3IoYGludmFsaWQgaW50NjQ6ICR7ZH1gKTsKCQkJCQkJCXJldHVybiBtOwoJCQkJCQl9LAoJCQkJCQl1UGFyc2UoZCkgewoJCQkJCQkJbGV0IGYgPSB0eXBlb2YgZCA9PSAiYmlnaW50IiA/IGQgOiBCaWdJbnQoZCk7CgkJCQkJCQlpZiAoZiA+IGggfHwgZiA8IG0pIHRocm93IEVycm9yKGBpbnZhbGlkIHVpbnQ2NDogJHtkfWApOwoJCQkJCQkJcmV0dXJuIGY7CgkJCQkJCX0sCgkJCQkJCWVuYyhmKSB7CgkJCQkJCQlyZXR1cm4gZC5zZXRCaWdJbnQ2NCgwLCB0aGlzLnBhcnNlKGYpLCAhMCksIHsKCQkJCQkJCQlsbzogZC5nZXRJbnQzMigwLCAhMCksCgkJCQkJCQkJaGk6IGQuZ2V0SW50MzIoNCwgITApCgkJCQkJCQl9OwoJCQkJCQl9LAoJCQkJCQl1RW5jKGYpIHsKCQkJCQkJCXJldHVybiBkLnNldEJpZ0ludDY0KDAsIHRoaXMudVBhcnNlKGYpLCAhMCksIHsKCQkJCQkJCQlsbzogZC5nZXRJbnQzMigwLCAhMCksCgkJCQkJCQkJaGk6IGQuZ2V0SW50MzIoNCwgITApCgkJCQkJCQl9OwoJCQkJCQl9LAoJCQkJCQlkZWMoZiwgcCkgewoJCQkJCQkJcmV0dXJuIGQuc2V0SW50MzIoMCwgZiwgITApLCBkLnNldEludDMyKDQsIHAsICEwKSwgZC5nZXRCaWdJbnQ2NCgwLCAhMCk7CgkJCQkJCX0sCgkJCQkJCXVEZWMoZiwgcCkgewoJCQkJCQkJcmV0dXJuIGQuc2V0SW50MzIoMCwgZiwgITApLCBkLnNldEludDMyKDQsIHAsICEwKSwgZC5nZXRCaWdVaW50NjQoMCwgITApOwoJCQkJCQl9CgkJCQkJfTsKCQkJCX0KCQkJCXJldHVybiB7CgkJCQkJemVybzogIjAiLAoJCQkJCXN1cHBvcnRlZDogITEsCgkJCQkJcGFyc2UoZCkgewoJCQkJCQlyZXR1cm4gdHlwZW9mIGQgIT0gInN0cmluZyIgJiYgKGQgPSBkLnRvU3RyaW5nKCkpLCBhc3NlcnRJbnQ2NFN0cmluZyhkKSwgZDsKCQkJCQl9LAoJCQkJCXVQYXJzZShkKSB7CgkJCQkJCXJldHVybiB0eXBlb2YgZCAhPSAic3RyaW5nIiAmJiAoZCA9IGQudG9TdHJpbmcoKSksIGFzc2VydFVJbnQ2NFN0cmluZyhkKSwgZDsKCQkJCQl9LAoJCQkJCWVuYyhkKSB7CgkJCQkJCXJldHVybiB0eXBlb2YgZCAhPSAic3RyaW5nIiAmJiAoZCA9IGQudG9TdHJpbmcoKSksIGFzc2VydEludDY0U3RyaW5nKGQpLCBpbnQ2NEZyb21TdHJpbmcoZCk7CgkJCQkJfSwKCQkJCQl1RW5jKGQpIHsKCQkJCQkJcmV0dXJuIHR5cGVvZiBkICE9ICJzdHJpbmciICYmIChkID0gZC50b1N0cmluZygpKSwgYXNzZXJ0VUludDY0U3RyaW5nKGQpLCBpbnQ2NEZyb21TdHJpbmcoZCk7CgkJCQkJfSwKCQkJCQlkZWMoZCwgZikgewoJCQkJCQlyZXR1cm4gaW50NjRUb1N0cmluZyhkLCBmKTsKCQkJCQl9LAoJCQkJCXVEZWMoZCwgZikgewoJCQkJCQlyZXR1cm4gdUludDY0VG9TdHJpbmcoZCwgZik7CgkJCQkJfQoJCQkJfTsKCQkJfQoJCQlmdW5jdGlvbiBhc3NlcnRJbnQ2NFN0cmluZyhkKSB7CgkJCQlpZiAoIS9eLT9bMC05XSskLy50ZXN0KGQpKSB0aHJvdyBFcnJvcigiaW52YWxpZCBpbnQ2NDogIiArIGQpOwoJCQl9CgkJCWZ1bmN0aW9uIGFzc2VydFVJbnQ2NFN0cmluZyhkKSB7CgkJCQlpZiAoIS9eWzAtOV0rJC8udGVzdChkKSkgdGhyb3cgRXJyb3IoImludmFsaWQgdWludDY0OiAiICsgZCk7CgkJCX0KCQkJbGV0IGcgPSBTeW1ib2wuZm9yKCJAYnVmYnVpbGQvcHJvdG9idWYvdGV4dC1lbmNvZGluZyIpOwoJCQlmdW5jdGlvbiBjb25maWd1cmVUZXh0RW5jb2RpbmcoZCkgewoJCQkJZ2xvYmFsVGhpc1tnXSA9IGQ7CgkJCX0KCQkJZnVuY3Rpb24gZ2V0VGV4dEVuY29kaW5nKCkgewoJCQkJaWYgKGdsb2JhbFRoaXNbZ10gPT0gbnVsbCkgewoJCQkJCWxldCBkID0gbmV3IGdsb2JhbFRoaXMuVGV4dEVuY29kZXIoKSwgZiA9IG5ldyBnbG9iYWxUaGlzLlRleHREZWNvZGVyKCk7CgkJCQkJZ2xvYmFsVGhpc1tnXSA9IHsKCQkJCQkJZW5jb2RlVXRmOChmKSB7CgkJCQkJCQlyZXR1cm4gZC5lbmNvZGUoZik7CgkJCQkJCX0sCgkJCQkJCWRlY29kZVV0ZjgoZCkgewoJCQkJCQkJcmV0dXJuIGYuZGVjb2RlKGQpOwoJCQkJCQl9LAoJCQkJCQljaGVja1V0ZjgoZCkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGQpLCAhMDsKCQkJCQkJCX0gY2F0Y2ggewoJCQkJCQkJCXJldHVybiAhMTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX07CgkJCQl9CgkJCQlyZXR1cm4gZ2xvYmFsVGhpc1tnXTsKCQkJfQoJCQl2YXIgXzsKCQkJKGZ1bmN0aW9uKGQpIHsKCQkJCWRbZC5WYXJpbnQgPSAwXSA9ICJWYXJpbnQiLCBkW2QuQml0NjQgPSAxXSA9ICJCaXQ2NCIsIGRbZC5MZW5ndGhEZWxpbWl0ZWQgPSAyXSA9ICJMZW5ndGhEZWxpbWl0ZWQiLCBkW2QuU3RhcnRHcm91cCA9IDNdID0gIlN0YXJ0R3JvdXAiLCBkW2QuRW5kR3JvdXAgPSA0XSA9ICJFbmRHcm91cCIsIGRbZC5CaXQzMiA9IDVdID0gIkJpdDMyIjsKCQkJfSkoXyB8fD0ge30pOwoJCQlsZXQgdiA9IDM0MDI4MjM0NjYzODUyODg2ZTIyLCBiID0gLTM0MDI4MjM0NjYzODUyODg2ZTIyLCB4ID0gNDI5NDk2NzI5NSwgQyA9IDIxNDc0ODM2NDcsIHcgPSAtMjE0NzQ4MzY0ODsKCQkJY2xhc3MgQmluYXJ5V3JpdGVyIHsKCQkJCWNvbnN0cnVjdG9yKGQgPSBnZXRUZXh0RW5jb2RpbmcoKS5lbmNvZGVVdGY4KSB7CgkJCQkJdGhpcy5lbmNvZGVVdGY4ID0gZCwgdGhpcy5zdGFjayA9IFtdLCB0aGlzLmNodW5rcyA9IFtdLCB0aGlzLmJ1ZiA9IFtdOwoJCQkJfQoJCQkJZmluaXNoKCkgewoJCQkJCXRoaXMuYnVmLmxlbmd0aCAmJiAodGhpcy5jaHVua3MucHVzaChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZikpLCB0aGlzLmJ1ZiA9IFtdKTsKCQkJCQlsZXQgZCA9IDA7CgkJCQkJZm9yIChsZXQgZiA9IDA7IGYgPCB0aGlzLmNodW5rcy5sZW5ndGg7IGYrKykgZCArPSB0aGlzLmNodW5rc1tmXS5sZW5ndGg7CgkJCQkJbGV0IGYgPSBuZXcgVWludDhBcnJheShkKSwgcCA9IDA7CgkJCQkJZm9yIChsZXQgZCA9IDA7IGQgPCB0aGlzLmNodW5rcy5sZW5ndGg7IGQrKykgZi5zZXQodGhpcy5jaHVua3NbZF0sIHApLCBwICs9IHRoaXMuY2h1bmtzW2RdLmxlbmd0aDsKCQkJCQlyZXR1cm4gdGhpcy5jaHVua3MgPSBbXSwgZjsKCQkJCX0KCQkJCWZvcmsoKSB7CgkJCQkJcmV0dXJuIHRoaXMuc3RhY2sucHVzaCh7CgkJCQkJCWNodW5rczogdGhpcy5jaHVua3MsCgkJCQkJCWJ1ZjogdGhpcy5idWYKCQkJCQl9KSwgdGhpcy5jaHVua3MgPSBbXSwgdGhpcy5idWYgPSBbXSwgdGhpczsKCQkJCX0KCQkJCWpvaW4oKSB7CgkJCQkJbGV0IGQgPSB0aGlzLmZpbmlzaCgpLCBmID0gdGhpcy5zdGFjay5wb3AoKTsKCQkJCQlpZiAoIWYpIHRocm93IEVycm9yKCJpbnZhbGlkIHN0YXRlLCBmb3JrIHN0YWNrIGVtcHR5Iik7CgkJCQkJcmV0dXJuIHRoaXMuY2h1bmtzID0gZi5jaHVua3MsIHRoaXMuYnVmID0gZi5idWYsIHRoaXMudWludDMyKGQuYnl0ZUxlbmd0aCksIHRoaXMucmF3KGQpOwoJCQkJfQoJCQkJdGFnKGQsIGYpIHsKCQkJCQlyZXR1cm4gdGhpcy51aW50MzIoKGQgPDwgMyB8IGYpID4+PiAwKTsKCQkJCX0KCQkJCXJhdyhkKSB7CgkJCQkJcmV0dXJuIHRoaXMuYnVmLmxlbmd0aCAmJiAodGhpcy5jaHVua3MucHVzaChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZikpLCB0aGlzLmJ1ZiA9IFtdKSwgdGhpcy5jaHVua3MucHVzaChkKSwgdGhpczsKCQkJCX0KCQkJCXVpbnQzMihkKSB7CgkJCQkJZm9yIChhc3NlcnRVSW50MzIoZCk7IGQgPiAxMjc7KSB0aGlzLmJ1Zi5wdXNoKGQgJiAxMjcgfCAxMjgpLCBkID4+Pj0gNzsKCQkJCQlyZXR1cm4gdGhpcy5idWYucHVzaChkKSwgdGhpczsKCQkJCX0KCQkJCWludDMyKGQpIHsKCQkJCQlyZXR1cm4gYXNzZXJ0SW50MzIoZCksIHZhcmludDMyd3JpdGUoZCwgdGhpcy5idWYpLCB0aGlzOwoJCQkJfQoJCQkJYm9vbChkKSB7CgkJCQkJcmV0dXJuIHRoaXMuYnVmLnB1c2goZCA/IDEgOiAwKSwgdGhpczsKCQkJCX0KCQkJCWJ5dGVzKGQpIHsKCQkJCQlyZXR1cm4gdGhpcy51aW50MzIoZC5ieXRlTGVuZ3RoKSwgdGhpcy5yYXcoZCk7CgkJCQl9CgkJCQlzdHJpbmcoZCkgewoJCQkJCWxldCBmID0gdGhpcy5lbmNvZGVVdGY4KGQpOwoJCQkJCXJldHVybiB0aGlzLnVpbnQzMihmLmJ5dGVMZW5ndGgpLCB0aGlzLnJhdyhmKTsKCQkJCX0KCQkJCWZsb2F0KGQpIHsKCQkJCQlhc3NlcnRGbG9hdDMyKGQpOwoJCQkJCWxldCBmID0gbmV3IFVpbnQ4QXJyYXkoNCk7CgkJCQkJcmV0dXJuIG5ldyBEYXRhVmlldyhmLmJ1ZmZlcikuc2V0RmxvYXQzMigwLCBkLCAhMCksIHRoaXMucmF3KGYpOwoJCQkJfQoJCQkJZG91YmxlKGQpIHsKCQkJCQlsZXQgZiA9IG5ldyBVaW50OEFycmF5KDgpOwoJCQkJCXJldHVybiBuZXcgRGF0YVZpZXcoZi5idWZmZXIpLnNldEZsb2F0NjQoMCwgZCwgITApLCB0aGlzLnJhdyhmKTsKCQkJCX0KCQkJCWZpeGVkMzIoZCkgewoJCQkJCWFzc2VydFVJbnQzMihkKTsKCQkJCQlsZXQgZiA9IG5ldyBVaW50OEFycmF5KDQpOwoJCQkJCXJldHVybiBuZXcgRGF0YVZpZXcoZi5idWZmZXIpLnNldFVpbnQzMigwLCBkLCAhMCksIHRoaXMucmF3KGYpOwoJCQkJfQoJCQkJc2ZpeGVkMzIoZCkgewoJCQkJCWFzc2VydEludDMyKGQpOwoJCQkJCWxldCBmID0gbmV3IFVpbnQ4QXJyYXkoNCk7CgkJCQkJcmV0dXJuIG5ldyBEYXRhVmlldyhmLmJ1ZmZlcikuc2V0SW50MzIoMCwgZCwgITApLCB0aGlzLnJhdyhmKTsKCQkJCX0KCQkJCXNpbnQzMihkKSB7CgkJCQkJcmV0dXJuIGFzc2VydEludDMyKGQpLCBkID0gKGQgPDwgMSBeIGQgPj4gMzEpID4+PiAwLCB2YXJpbnQzMndyaXRlKGQsIHRoaXMuYnVmKSwgdGhpczsKCQkJCX0KCQkJCXNmaXhlZDY0KGQpIHsKCQkJCQlsZXQgZiA9IG5ldyBVaW50OEFycmF5KDgpLCBwID0gbmV3IERhdGFWaWV3KGYuYnVmZmVyKSwgbSA9IGguZW5jKGQpOwoJCQkJCXJldHVybiBwLnNldEludDMyKDAsIG0ubG8sICEwKSwgcC5zZXRJbnQzMig0LCBtLmhpLCAhMCksIHRoaXMucmF3KGYpOwoJCQkJfQoJCQkJZml4ZWQ2NChkKSB7CgkJCQkJbGV0IGYgPSBuZXcgVWludDhBcnJheSg4KSwgcCA9IG5ldyBEYXRhVmlldyhmLmJ1ZmZlciksIG0gPSBoLnVFbmMoZCk7CgkJCQkJcmV0dXJuIHAuc2V0SW50MzIoMCwgbS5sbywgITApLCBwLnNldEludDMyKDQsIG0uaGksICEwKSwgdGhpcy5yYXcoZik7CgkJCQl9CgkJCQlpbnQ2NChkKSB7CgkJCQkJbGV0IGYgPSBoLmVuYyhkKTsKCQkJCQlyZXR1cm4gdmFyaW50NjR3cml0ZShmLmxvLCBmLmhpLCB0aGlzLmJ1ZiksIHRoaXM7CgkJCQl9CgkJCQlzaW50NjQoZCkgewoJCQkJCWxldCBmID0gaC5lbmMoZCksIHAgPSBmLmhpID4+IDMxLCBtID0gZi5sbyA8PCAxIF4gcCwgZyA9IChmLmhpIDw8IDEgfCBmLmxvID4+PiAzMSkgXiBwOwoJCQkJCXJldHVybiB2YXJpbnQ2NHdyaXRlKG0sIGcsIHRoaXMuYnVmKSwgdGhpczsKCQkJCX0KCQkJCXVpbnQ2NChkKSB7CgkJCQkJbGV0IGYgPSBoLnVFbmMoZCk7CgkJCQkJcmV0dXJuIHZhcmludDY0d3JpdGUoZi5sbywgZi5oaSwgdGhpcy5idWYpLCB0aGlzOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEJpbmFyeVJlYWRlciB7CgkJCQljb25zdHJ1Y3RvcihkLCBmID0gZ2V0VGV4dEVuY29kaW5nKCkuZGVjb2RlVXRmOCkgewoJCQkJCXRoaXMuZGVjb2RlVXRmOCA9IGYsIHRoaXMudmFyaW50NjQgPSB2YXJpbnQ2NHJlYWQsIHRoaXMudWludDMyID0gdmFyaW50MzJyZWFkLCB0aGlzLmJ1ZiA9IGQsIHRoaXMubGVuID0gZC5sZW5ndGgsIHRoaXMucG9zID0gMCwgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KGQuYnVmZmVyLCBkLmJ5dGVPZmZzZXQsIGQuYnl0ZUxlbmd0aCk7CgkJCQl9CgkJCQl0YWcoKSB7CgkJCQkJbGV0IGQgPSB0aGlzLnVpbnQzMigpLCBmID0gZCA+Pj4gMywgcCA9IGQgJiA3OwoJCQkJCWlmIChmIDw9IDAgfHwgcCA8IDAgfHwgcCA+IDUpIHRocm93IEVycm9yKCJpbGxlZ2FsIHRhZzogZmllbGQgbm8gIiArIGYgKyAiIHdpcmUgdHlwZSAiICsgcCk7CgkJCQkJcmV0dXJuIFtmLCBwXTsKCQkJCX0KCQkJCXNraXAoZCwgZikgewoJCQkJCWxldCBwID0gdGhpcy5wb3M7CgkJCQkJc3dpdGNoIChkKSB7CgkJCQkJCWNhc2UgXy5WYXJpbnQ6CgkJCQkJCQlmb3IgKDsgdGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjg7KTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlIF8uQml0NjQ6IHRoaXMucG9zICs9IDQ7CgkJCQkJCWNhc2UgXy5CaXQzMjoKCQkJCQkJCXRoaXMucG9zICs9IDQ7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSBfLkxlbmd0aERlbGltaXRlZDoKCQkJCQkJCWxldCBwID0gdGhpcy51aW50MzIoKTsKCQkJCQkJCXRoaXMucG9zICs9IHA7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSBfLlN0YXJ0R3JvdXA6CgkJCQkJCQlmb3IgKDs7KSB7CgkJCQkJCQkJbGV0IFtkLCBwXSA9IHRoaXMudGFnKCk7CgkJCQkJCQkJaWYgKHAgPT09IF8uRW5kR3JvdXApIHsKCQkJCQkJCQkJaWYgKGYgIT09IHZvaWQgMCAmJiBkICE9PSBmKSB0aHJvdyBFcnJvcigiaW52YWxpZCBlbmQgZ3JvdXAgdGFnIik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCX0KCQkJCQkJCQl0aGlzLnNraXAocCwgZCk7CgkJCQkJCQl9CgkJCQkJCQlicmVhazsKCQkJCQkJZGVmYXVsdDogdGhyb3cgRXJyb3IoImNhbnQgc2tpcCB3aXJlIHR5cGUgIiArIGQpOwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSwgdGhpcy5idWYuc3ViYXJyYXkocCwgdGhpcy5wb3MpOwoJCQkJfQoJCQkJYXNzZXJ0Qm91bmRzKCkgewoJCQkJCWlmICh0aGlzLnBvcyA+IHRoaXMubGVuKSB0aHJvdyBSYW5nZUVycm9yKCJwcmVtYXR1cmUgRU9GIik7CgkJCQl9CgkJCQlpbnQzMigpIHsKCQkJCQlyZXR1cm4gdGhpcy51aW50MzIoKSB8IDA7CgkJCQl9CgkJCQlzaW50MzIoKSB7CgkJCQkJbGV0IGQgPSB0aGlzLnVpbnQzMigpOwoJCQkJCXJldHVybiBkID4+PiAxIF4gLShkICYgMSk7CgkJCQl9CgkJCQlpbnQ2NCgpIHsKCQkJCQlyZXR1cm4gaC5kZWMoLi4udGhpcy52YXJpbnQ2NCgpKTsKCQkJCX0KCQkJCXVpbnQ2NCgpIHsKCQkJCQlyZXR1cm4gaC51RGVjKC4uLnRoaXMudmFyaW50NjQoKSk7CgkJCQl9CgkJCQlzaW50NjQoKSB7CgkJCQkJbGV0IFtkLCBmXSA9IHRoaXMudmFyaW50NjQoKSwgcCA9IC0oZCAmIDEpOwoJCQkJCXJldHVybiBkID0gKGQgPj4+IDEgfCAoZiAmIDEpIDw8IDMxKSBeIHAsIGYgPSBmID4+PiAxIF4gcCwgaC5kZWMoZCwgZik7CgkJCQl9CgkJCQlib29sKCkgewoJCQkJCWxldCBbZCwgZl0gPSB0aGlzLnZhcmludDY0KCk7CgkJCQkJcmV0dXJuIGQgIT09IDAgfHwgZiAhPT0gMDsKCQkJCX0KCQkJCWZpeGVkMzIoKSB7CgkJCQkJcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MzIoKHRoaXMucG9zICs9IDQpIC0gNCwgITApOwoJCQkJfQoJCQkJc2ZpeGVkMzIoKSB7CgkJCQkJcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCAhMCk7CgkJCQl9CgkJCQlmaXhlZDY0KCkgewoJCQkJCXJldHVybiBoLnVEZWModGhpcy5zZml4ZWQzMigpLCB0aGlzLnNmaXhlZDMyKCkpOwoJCQkJfQoJCQkJc2ZpeGVkNjQoKSB7CgkJCQkJcmV0dXJuIGguZGVjKHRoaXMuc2ZpeGVkMzIoKSwgdGhpcy5zZml4ZWQzMigpKTsKCQkJCX0KCQkJCWZsb2F0KCkgewoJCQkJCXJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCAhMCk7CgkJCQl9CgkJCQlkb3VibGUoKSB7CgkJCQkJcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDY0KCh0aGlzLnBvcyArPSA4KSAtIDgsICEwKTsKCQkJCX0KCQkJCWJ5dGVzKCkgewoJCQkJCWxldCBkID0gdGhpcy51aW50MzIoKSwgZiA9IHRoaXMucG9zOwoJCQkJCXJldHVybiB0aGlzLnBvcyArPSBkLCB0aGlzLmFzc2VydEJvdW5kcygpLCB0aGlzLmJ1Zi5zdWJhcnJheShmLCBmICsgZCk7CgkJCQl9CgkJCQlzdHJpbmcoKSB7CgkJCQkJcmV0dXJuIHRoaXMuZGVjb2RlVXRmOCh0aGlzLmJ5dGVzKCkpOwoJCQkJfQoJCQl9CgkJCWZ1bmN0aW9uIGFzc2VydEludDMyKGQpIHsKCQkJCWlmICh0eXBlb2YgZCA9PSAic3RyaW5nIikgZCA9IE51bWJlcihkKTsKCQkJCWVsc2UgaWYgKHR5cGVvZiBkICE9ICJudW1iZXIiKSB0aHJvdyBFcnJvcigiaW52YWxpZCBpbnQzMjogIiArIHR5cGVvZiBkKTsKCQkJCWlmICghTnVtYmVyLmlzSW50ZWdlcihkKSB8fCBkID4gQyB8fCBkIDwgdykgdGhyb3cgRXJyb3IoImludmFsaWQgaW50MzI6ICIgKyBkKTsKCQkJfQoJCQlmdW5jdGlvbiBhc3NlcnRVSW50MzIoZCkgewoJCQkJaWYgKHR5cGVvZiBkID09ICJzdHJpbmciKSBkID0gTnVtYmVyKGQpOwoJCQkJZWxzZSBpZiAodHlwZW9mIGQgIT0gIm51bWJlciIpIHRocm93IEVycm9yKCJpbnZhbGlkIHVpbnQzMjogIiArIHR5cGVvZiBkKTsKCQkJCWlmICghTnVtYmVyLmlzSW50ZWdlcihkKSB8fCBkID4geCB8fCBkIDwgMCkgdGhyb3cgRXJyb3IoImludmFsaWQgdWludDMyOiAiICsgZCk7CgkJCX0KCQkJZnVuY3Rpb24gYXNzZXJ0RmxvYXQzMihkKSB7CgkJCQlpZiAodHlwZW9mIGQgPT0gInN0cmluZyIpIHsKCQkJCQlsZXQgZiA9IGQ7CgkJCQkJaWYgKGQgPSBOdW1iZXIoZCksIGlzTmFOKGQpICYmIGYgIT09ICJOYU4iKSB0aHJvdyBFcnJvcigiaW52YWxpZCBmbG9hdDMyOiAiICsgZik7CgkJCQl9IGVsc2UgaWYgKHR5cGVvZiBkICE9ICJudW1iZXIiKSB0aHJvdyBFcnJvcigiaW52YWxpZCBmbG9hdDMyOiAiICsgdHlwZW9mIGQpOwoJCQkJaWYgKE51bWJlci5pc0Zpbml0ZShkKSAmJiAoZCA+IHYgfHwgZCA8IGIpKSB0aHJvdyBFcnJvcigiaW52YWxpZCBmbG9hdDMyOiAiICsgZCk7CgkJCX0KCQkJbGV0IFQgPSAiIjsKCQkJdmFyIEU7CgkJCShmdW5jdGlvbihkKSB7CgkJCQlkW2QuTk9fQ09OTkVDVElPTiA9IDBdID0gIk5PX0NPTk5FQ1RJT04iLCBkW2QuVFJBTlNMQVRJTkcgPSAxMF0gPSAiVFJBTlNMQVRJTkciLCBkW2QuU1RSRUFNSU5HID0gMjBdID0gIlNUUkVBTUlORyIsIGRbZC5VTlJFQ09HTklaRUQgPSAtMV0gPSAiVU5SRUNPR05JWkVEIjsKCQkJfSkoRSB8fD0ge30pOwoJCQlmdW5jdGlvbiBzdHJlYW1JbnRlcnZhbEZyb21KU09OKGQpIHsKCQkJCXN3aXRjaCAoZCkgewoJCQkJCWNhc2UgMDoKCQkJCQljYXNlICJOT19DT05ORUNUSU9OIjogcmV0dXJuIEUuTk9fQ09OTkVDVElPTjsKCQkJCQljYXNlIDEwOgoJCQkJCWNhc2UgIlRSQU5TTEFUSU5HIjogcmV0dXJuIEUuVFJBTlNMQVRJTkc7CgkJCQkJY2FzZSAyMDoKCQkJCQljYXNlICJTVFJFQU1JTkciOiByZXR1cm4gRS5TVFJFQU1JTkc7CgkJCQkJY2FzZSAtMToKCQkJCQljYXNlICJVTlJFQ09HTklaRUQiOgoJCQkJCWRlZmF1bHQ6IHJldHVybiBFLlVOUkVDT0dOSVpFRDsKCQkJCX0KCQkJfQoJCQlmdW5jdGlvbiBzdHJlYW1JbnRlcnZhbFRvSlNPTihkKSB7CgkJCQlzd2l0Y2ggKGQpIHsKCQkJCQljYXNlIEUuTk9fQ09OTkVDVElPTjogcmV0dXJuICJOT19DT05ORUNUSU9OIjsKCQkJCQljYXNlIEUuVFJBTlNMQVRJTkc6IHJldHVybiAiVFJBTlNMQVRJTkciOwoJCQkJCWNhc2UgRS5TVFJFQU1JTkc6IHJldHVybiAiU1RSRUFNSU5HIjsKCQkJCQljYXNlIEUuVU5SRUNPR05JWkVEOgoJCQkJCWRlZmF1bHQ6IHJldHVybiAiVU5SRUNPR05JWkVEIjsKCQkJCX0KCQkJfQoJCQlmdW5jdGlvbiBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvbkhlbHBPYmplY3QoKSB7CgkJCQlyZXR1cm4gewoJCQkJCXRhcmdldDogIiIsCgkJCQkJdGFyZ2V0VXJsOiAiIgoJCQkJfTsKCQkJfQoJCQlsZXQgRCA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJcmV0dXJuIGQudGFyZ2V0ICE9PSAiIiAmJiBmLnVpbnQzMigxMCkuc3RyaW5nKGQudGFyZ2V0KSwgZC50YXJnZXRVcmwgIT09ICIiICYmIGYudWludDMyKDE4KS5zdHJpbmcoZC50YXJnZXRVcmwpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uSGVscE9iamVjdCgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDEwKSBicmVhazsKCQkJCQkJCQloLnRhcmdldCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE4KSBicmVhazsKCQkJCQkJCQloLnRhcmdldFVybCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXRhcmdldDogaXNTZXQoZC50YXJnZXQpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC50YXJnZXQpIDogIiIsCgkJCQkJCXRhcmdldFVybDogaXNTZXQoZC50YXJnZXRVcmwpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC50YXJnZXRVcmwpIDogIiIKCQkJCQl9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC50YXJnZXQgIT09ICIiICYmIChmLnRhcmdldCA9IGQudGFyZ2V0KSwgZC50YXJnZXRVcmwgIT09ICIiICYmIChmLnRhcmdldFVybCA9IGQudGFyZ2V0VXJsKSwgZjsKCQkJCX0sCgkJCQljcmVhdGUoZCkgewoJCQkJCXJldHVybiBELmZyb21QYXJ0aWFsKGQgPz8ge30pOwoJCQkJfSwKCQkJCWZyb21QYXJ0aWFsKGQpIHsKCQkJCQlsZXQgZiA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uSGVscE9iamVjdCgpOwoJCQkJCXJldHVybiBmLnRhcmdldCA9IGQudGFyZ2V0ID8/ICIiLCBmLnRhcmdldFVybCA9IGQudGFyZ2V0VXJsID8/ICIiLCBmOwoJCQkJfQoJCQl9OwoJCQlmdW5jdGlvbiBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvblJlcXVlc3QoKSB7CgkJCQlyZXR1cm4gewoJCQkJCXVybDogIiIsCgkJCQkJZGV2aWNlSWQ6IHZvaWQgMCwKCQkJCQlmaXJzdFJlcXVlc3Q6ICExLAoJCQkJCWR1cmF0aW9uOiAwLAoJCQkJCXVua25vd24wOiAwLAoJCQkJCWxhbmd1YWdlOiAiIiwKCQkJCQlmb3JjZVNvdXJjZUxhbmc6ICExLAoJCQkJCXVua25vd24xOiAwLAoJCQkJCXRyYW5zbGF0aW9uSGVscDogW10sCgkJCQkJd2FzU3RyZWFtOiAhMSwKCQkJCQlyZXNwb25zZUxhbmd1YWdlOiAiIiwKCQkJCQl1bmtub3duMjogMCwKCQkJCQl1bmtub3duMzogMCwKCQkJCQlieXBhc3NDYWNoZTogITEsCgkJCQkJdXNlTGl2ZWx5Vm9pY2U6ICExLAoJCQkJCXZpZGVvVGl0bGU6ICIiCgkJCQl9OwoJCQl9CgkJCWxldCBPID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlkLnVybCAhPT0gIiIgJiYgZi51aW50MzIoMjYpLnN0cmluZyhkLnVybCksIGQuZGV2aWNlSWQgIT09IHZvaWQgMCAmJiBmLnVpbnQzMigzNCkuc3RyaW5nKGQuZGV2aWNlSWQpLCBkLmZpcnN0UmVxdWVzdCAhPT0gITEgJiYgZi51aW50MzIoNDApLmJvb2woZC5maXJzdFJlcXVlc3QpLCBkLmR1cmF0aW9uICE9PSAwICYmIGYudWludDMyKDQ5KS5kb3VibGUoZC5kdXJhdGlvbiksIGQudW5rbm93bjAgIT09IDAgJiYgZi51aW50MzIoNTYpLmludDMyKGQudW5rbm93bjApLCBkLmxhbmd1YWdlICE9PSAiIiAmJiBmLnVpbnQzMig2Nikuc3RyaW5nKGQubGFuZ3VhZ2UpLCBkLmZvcmNlU291cmNlTGFuZyAhPT0gITEgJiYgZi51aW50MzIoNzIpLmJvb2woZC5mb3JjZVNvdXJjZUxhbmcpLCBkLnVua25vd24xICE9PSAwICYmIGYudWludDMyKDgwKS5pbnQzMihkLnVua25vd24xKTsKCQkJCQlmb3IgKGxldCBwIG9mIGQudHJhbnNsYXRpb25IZWxwKSBELmVuY29kZShwLCBmLnVpbnQzMig5MCkuZm9yaygpKS5qb2luKCk7CgkJCQkJcmV0dXJuIGQud2FzU3RyZWFtICE9PSAhMSAmJiBmLnVpbnQzMigxMDQpLmJvb2woZC53YXNTdHJlYW0pLCBkLnJlc3BvbnNlTGFuZ3VhZ2UgIT09ICIiICYmIGYudWludDMyKDExNCkuc3RyaW5nKGQucmVzcG9uc2VMYW5ndWFnZSksIGQudW5rbm93bjIgIT09IDAgJiYgZi51aW50MzIoMTIwKS5pbnQzMihkLnVua25vd24yKSwgZC51bmtub3duMyAhPT0gMCAmJiBmLnVpbnQzMigxMjgpLmludDMyKGQudW5rbm93bjMpLCBkLmJ5cGFzc0NhY2hlICE9PSAhMSAmJiBmLnVpbnQzMigxMzYpLmJvb2woZC5ieXBhc3NDYWNoZSksIGQudXNlTGl2ZWx5Vm9pY2UgIT09ICExICYmIGYudWludDMyKDE0NCkuYm9vbChkLnVzZUxpdmVseVZvaWNlKSwgZC52aWRlb1RpdGxlICE9PSAiIiAmJiBmLnVpbnQzMigxNTQpLnN0cmluZyhkLnZpZGVvVGl0bGUpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uUmVxdWVzdCgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDM6CgkJCQkJCQkJaWYgKGQgIT09IDI2KSBicmVhazsKCQkJCQkJCQloLnVybCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDQ6CgkJCQkJCQkJaWYgKGQgIT09IDM0KSBicmVhazsKCQkJCQkJCQloLmRldmljZUlkID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNToKCQkJCQkJCQlpZiAoZCAhPT0gNDApIGJyZWFrOwoJCQkJCQkJCWguZmlyc3RSZXF1ZXN0ID0gcC5ib29sKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDY6CgkJCQkJCQkJaWYgKGQgIT09IDQ5KSBicmVhazsKCQkJCQkJCQloLmR1cmF0aW9uID0gcC5kb3VibGUoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNzoKCQkJCQkJCQlpZiAoZCAhPT0gNTYpIGJyZWFrOwoJCQkJCQkJCWgudW5rbm93bjAgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDg6CgkJCQkJCQkJaWYgKGQgIT09IDY2KSBicmVhazsKCQkJCQkJCQloLmxhbmd1YWdlID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgOToKCQkJCQkJCQlpZiAoZCAhPT0gNzIpIGJyZWFrOwoJCQkJCQkJCWguZm9yY2VTb3VyY2VMYW5nID0gcC5ib29sKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDEwOgoJCQkJCQkJCWlmIChkICE9PSA4MCkgYnJlYWs7CgkJCQkJCQkJaC51bmtub3duMSA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTE6CgkJCQkJCQkJaWYgKGQgIT09IDkwKSBicmVhazsKCQkJCQkJCQloLnRyYW5zbGF0aW9uSGVscC5wdXNoKEQuZGVjb2RlKHAsIHAudWludDMyKCkpKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTM6CgkJCQkJCQkJaWYgKGQgIT09IDEwNCkgYnJlYWs7CgkJCQkJCQkJaC53YXNTdHJlYW0gPSBwLmJvb2woKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTQ6CgkJCQkJCQkJaWYgKGQgIT09IDExNCkgYnJlYWs7CgkJCQkJCQkJaC5yZXNwb25zZUxhbmd1YWdlID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTU6CgkJCQkJCQkJaWYgKGQgIT09IDEyMCkgYnJlYWs7CgkJCQkJCQkJaC51bmtub3duMiA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTY6CgkJCQkJCQkJaWYgKGQgIT09IDEyOCkgYnJlYWs7CgkJCQkJCQkJaC51bmtub3duMyA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTc6CgkJCQkJCQkJaWYgKGQgIT09IDEzNikgYnJlYWs7CgkJCQkJCQkJaC5ieXBhc3NDYWNoZSA9IHAuYm9vbCgpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAxODoKCQkJCQkJCQlpZiAoZCAhPT0gMTQ0KSBicmVhazsKCQkJCQkJCQloLnVzZUxpdmVseVZvaWNlID0gcC5ib29sKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDE5OgoJCQkJCQkJCWlmIChkICE9PSAxNTQpIGJyZWFrOwoJCQkJCQkJCWgudmlkZW9UaXRsZSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXVybDogaXNTZXQoZC51cmwpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC51cmwpIDogIiIsCgkJCQkJCWRldmljZUlkOiBpc1NldChkLmRldmljZUlkKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQuZGV2aWNlSWQpIDogdm9pZCAwLAoJCQkJCQlmaXJzdFJlcXVlc3Q6IGlzU2V0KGQuZmlyc3RSZXF1ZXN0KSA/IGdsb2JhbFRoaXMuQm9vbGVhbihkLmZpcnN0UmVxdWVzdCkgOiAhMSwKCQkJCQkJZHVyYXRpb246IGlzU2V0KGQuZHVyYXRpb24pID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC5kdXJhdGlvbikgOiAwLAoJCQkJCQl1bmtub3duMDogaXNTZXQoZC51bmtub3duMCkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24wKSA6IDAsCgkJCQkJCWxhbmd1YWdlOiBpc1NldChkLmxhbmd1YWdlKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQubGFuZ3VhZ2UpIDogIiIsCgkJCQkJCWZvcmNlU291cmNlTGFuZzogaXNTZXQoZC5mb3JjZVNvdXJjZUxhbmcpID8gZ2xvYmFsVGhpcy5Cb29sZWFuKGQuZm9yY2VTb3VyY2VMYW5nKSA6ICExLAoJCQkJCQl1bmtub3duMTogaXNTZXQoZC51bmtub3duMSkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24xKSA6IDAsCgkJCQkJCXRyYW5zbGF0aW9uSGVscDogZ2xvYmFsVGhpcy5BcnJheS5pc0FycmF5KGQ/LnRyYW5zbGF0aW9uSGVscCkgPyBkLnRyYW5zbGF0aW9uSGVscC5tYXAoKGQpID0+IEQuZnJvbUpTT04oZCkpIDogW10sCgkJCQkJCXdhc1N0cmVhbTogaXNTZXQoZC53YXNTdHJlYW0pID8gZ2xvYmFsVGhpcy5Cb29sZWFuKGQud2FzU3RyZWFtKSA6ICExLAoJCQkJCQlyZXNwb25zZUxhbmd1YWdlOiBpc1NldChkLnJlc3BvbnNlTGFuZ3VhZ2UpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC5yZXNwb25zZUxhbmd1YWdlKSA6ICIiLAoJCQkJCQl1bmtub3duMjogaXNTZXQoZC51bmtub3duMikgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24yKSA6IDAsCgkJCQkJCXVua25vd24zOiBpc1NldChkLnVua25vd24zKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQudW5rbm93bjMpIDogMCwKCQkJCQkJYnlwYXNzQ2FjaGU6IGlzU2V0KGQuYnlwYXNzQ2FjaGUpID8gZ2xvYmFsVGhpcy5Cb29sZWFuKGQuYnlwYXNzQ2FjaGUpIDogITEsCgkJCQkJCXVzZUxpdmVseVZvaWNlOiBpc1NldChkLnVzZUxpdmVseVZvaWNlKSA/IGdsb2JhbFRoaXMuQm9vbGVhbihkLnVzZUxpdmVseVZvaWNlKSA6ICExLAoJCQkJCQl2aWRlb1RpdGxlOiBpc1NldChkLnZpZGVvVGl0bGUpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC52aWRlb1RpdGxlKSA6ICIiCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQudXJsICE9PSAiIiAmJiAoZi51cmwgPSBkLnVybCksIGQuZGV2aWNlSWQgIT09IHZvaWQgMCAmJiAoZi5kZXZpY2VJZCA9IGQuZGV2aWNlSWQpLCBkLmZpcnN0UmVxdWVzdCAhPT0gITEgJiYgKGYuZmlyc3RSZXF1ZXN0ID0gZC5maXJzdFJlcXVlc3QpLCBkLmR1cmF0aW9uICE9PSAwICYmIChmLmR1cmF0aW9uID0gZC5kdXJhdGlvbiksIGQudW5rbm93bjAgIT09IDAgJiYgKGYudW5rbm93bjAgPSBNYXRoLnJvdW5kKGQudW5rbm93bjApKSwgZC5sYW5ndWFnZSAhPT0gIiIgJiYgKGYubGFuZ3VhZ2UgPSBkLmxhbmd1YWdlKSwgZC5mb3JjZVNvdXJjZUxhbmcgIT09ICExICYmIChmLmZvcmNlU291cmNlTGFuZyA9IGQuZm9yY2VTb3VyY2VMYW5nKSwgZC51bmtub3duMSAhPT0gMCAmJiAoZi51bmtub3duMSA9IE1hdGgucm91bmQoZC51bmtub3duMSkpLCBkLnRyYW5zbGF0aW9uSGVscD8ubGVuZ3RoICYmIChmLnRyYW5zbGF0aW9uSGVscCA9IGQudHJhbnNsYXRpb25IZWxwLm1hcCgoZCkgPT4gRC50b0pTT04oZCkpKSwgZC53YXNTdHJlYW0gIT09ICExICYmIChmLndhc1N0cmVhbSA9IGQud2FzU3RyZWFtKSwgZC5yZXNwb25zZUxhbmd1YWdlICE9PSAiIiAmJiAoZi5yZXNwb25zZUxhbmd1YWdlID0gZC5yZXNwb25zZUxhbmd1YWdlKSwgZC51bmtub3duMiAhPT0gMCAmJiAoZi51bmtub3duMiA9IE1hdGgucm91bmQoZC51bmtub3duMikpLCBkLnVua25vd24zICE9PSAwICYmIChmLnVua25vd24zID0gTWF0aC5yb3VuZChkLnVua25vd24zKSksIGQuYnlwYXNzQ2FjaGUgIT09ICExICYmIChmLmJ5cGFzc0NhY2hlID0gZC5ieXBhc3NDYWNoZSksIGQudXNlTGl2ZWx5Vm9pY2UgIT09ICExICYmIChmLnVzZUxpdmVseVZvaWNlID0gZC51c2VMaXZlbHlWb2ljZSksIGQudmlkZW9UaXRsZSAhPT0gIiIgJiYgKGYudmlkZW9UaXRsZSA9IGQudmlkZW9UaXRsZSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gTy5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvblJlcXVlc3QoKTsKCQkJCQlyZXR1cm4gZi51cmwgPSBkLnVybCA/PyAiIiwgZi5kZXZpY2VJZCA9IGQuZGV2aWNlSWQgPz8gdm9pZCAwLCBmLmZpcnN0UmVxdWVzdCA9IGQuZmlyc3RSZXF1ZXN0ID8/ICExLCBmLmR1cmF0aW9uID0gZC5kdXJhdGlvbiA/PyAwLCBmLnVua25vd24wID0gZC51bmtub3duMCA/PyAwLCBmLmxhbmd1YWdlID0gZC5sYW5ndWFnZSA/PyAiIiwgZi5mb3JjZVNvdXJjZUxhbmcgPSBkLmZvcmNlU291cmNlTGFuZyA/PyAhMSwgZi51bmtub3duMSA9IGQudW5rbm93bjEgPz8gMCwgZi50cmFuc2xhdGlvbkhlbHAgPSBkLnRyYW5zbGF0aW9uSGVscD8ubWFwKChkKSA9PiBELmZyb21QYXJ0aWFsKGQpKSB8fCBbXSwgZi53YXNTdHJlYW0gPSBkLndhc1N0cmVhbSA/PyAhMSwgZi5yZXNwb25zZUxhbmd1YWdlID0gZC5yZXNwb25zZUxhbmd1YWdlID8/ICIiLCBmLnVua25vd24yID0gZC51bmtub3duMiA/PyAwLCBmLnVua25vd24zID0gZC51bmtub3duMyA/PyAwLCBmLmJ5cGFzc0NhY2hlID0gZC5ieXBhc3NDYWNoZSA/PyAhMSwgZi51c2VMaXZlbHlWb2ljZSA9IGQudXNlTGl2ZWx5Vm9pY2UgPz8gITEsIGYudmlkZW9UaXRsZSA9IGQudmlkZW9UaXRsZSA/PyAiIiwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25SZXNwb25zZSgpIHsKCQkJCXJldHVybiB7CgkJCQkJdXJsOiB2b2lkIDAsCgkJCQkJZHVyYXRpb246IHZvaWQgMCwKCQkJCQlzdGF0dXM6IDAsCgkJCQkJcmVtYWluaW5nVGltZTogdm9pZCAwLAoJCQkJCXVua25vd24wOiB2b2lkIDAsCgkJCQkJdHJhbnNsYXRpb25JZDogIiIsCgkJCQkJbGFuZ3VhZ2U6IHZvaWQgMCwKCQkJCQltZXNzYWdlOiB2b2lkIDAsCgkJCQkJaXNMaXZlbHlWb2ljZTogITEsCgkJCQkJdW5rbm93bjI6IHZvaWQgMCwKCQkJCQlzaG91bGRSZXRyeTogdm9pZCAwLAoJCQkJCXVua25vd24zOiB2b2lkIDAKCQkJCX07CgkJCX0KCQkJbGV0IEEgPSB7CgkJCQllbmNvZGUoZCwgZiA9IG5ldyBCaW5hcnlXcml0ZXIoKSkgewoJCQkJCXJldHVybiBkLnVybCAhPT0gdm9pZCAwICYmIGYudWludDMyKDEwKS5zdHJpbmcoZC51cmwpLCBkLmR1cmF0aW9uICE9PSB2b2lkIDAgJiYgZi51aW50MzIoMTcpLmRvdWJsZShkLmR1cmF0aW9uKSwgZC5zdGF0dXMgIT09IDAgJiYgZi51aW50MzIoMzIpLmludDMyKGQuc3RhdHVzKSwgZC5yZW1haW5pbmdUaW1lICE9PSB2b2lkIDAgJiYgZi51aW50MzIoNDApLmludDMyKGQucmVtYWluaW5nVGltZSksIGQudW5rbm93bjAgIT09IHZvaWQgMCAmJiBmLnVpbnQzMig0OCkuaW50MzIoZC51bmtub3duMCksIGQudHJhbnNsYXRpb25JZCAhPT0gIiIgJiYgZi51aW50MzIoNTgpLnN0cmluZyhkLnRyYW5zbGF0aW9uSWQpLCBkLmxhbmd1YWdlICE9PSB2b2lkIDAgJiYgZi51aW50MzIoNjYpLnN0cmluZyhkLmxhbmd1YWdlKSwgZC5tZXNzYWdlICE9PSB2b2lkIDAgJiYgZi51aW50MzIoNzQpLnN0cmluZyhkLm1lc3NhZ2UpLCBkLmlzTGl2ZWx5Vm9pY2UgIT09ICExICYmIGYudWludDMyKDgwKS5ib29sKGQuaXNMaXZlbHlWb2ljZSksIGQudW5rbm93bjIgIT09IHZvaWQgMCAmJiBmLnVpbnQzMig4OCkuaW50MzIoZC51bmtub3duMiksIGQuc2hvdWxkUmV0cnkgIT09IHZvaWQgMCAmJiBmLnVpbnQzMig5NikuaW50MzIoZC5zaG91bGRSZXRyeSksIGQudW5rbm93bjMgIT09IHZvaWQgMCAmJiBmLnVpbnQzMigxMDQpLmludDMyKGQudW5rbm93bjMpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uUmVzcG9uc2UoKTsKCQkJCQlmb3IgKDsgcC5wb3MgPCBtOykgewoJCQkJCQlsZXQgZCA9IHAudWludDMyKCk7CgkJCQkJCXN3aXRjaCAoZCA+Pj4gMykgewoJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCWlmIChkICE9PSAxMCkgYnJlYWs7CgkJCQkJCQkJaC51cmwgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCWlmIChkICE9PSAxNykgYnJlYWs7CgkJCQkJCQkJaC5kdXJhdGlvbiA9IHAuZG91YmxlKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDQ6CgkJCQkJCQkJaWYgKGQgIT09IDMyKSBicmVhazsKCQkJCQkJCQloLnN0YXR1cyA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNToKCQkJCQkJCQlpZiAoZCAhPT0gNDApIGJyZWFrOwoJCQkJCQkJCWgucmVtYWluaW5nVGltZSA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNjoKCQkJCQkJCQlpZiAoZCAhPT0gNDgpIGJyZWFrOwoJCQkJCQkJCWgudW5rbm93bjAgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDc6CgkJCQkJCQkJaWYgKGQgIT09IDU4KSBicmVhazsKCQkJCQkJCQloLnRyYW5zbGF0aW9uSWQgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSA4OgoJCQkJCQkJCWlmIChkICE9PSA2NikgYnJlYWs7CgkJCQkJCQkJaC5sYW5ndWFnZSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDk6CgkJCQkJCQkJaWYgKGQgIT09IDc0KSBicmVhazsKCQkJCQkJCQloLm1lc3NhZ2UgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAxMDoKCQkJCQkJCQlpZiAoZCAhPT0gODApIGJyZWFrOwoJCQkJCQkJCWguaXNMaXZlbHlWb2ljZSA9IHAuYm9vbCgpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAxMToKCQkJCQkJCQlpZiAoZCAhPT0gODgpIGJyZWFrOwoJCQkJCQkJCWgudW5rbm93bjIgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDEyOgoJCQkJCQkJCWlmIChkICE9PSA5NikgYnJlYWs7CgkJCQkJCQkJaC5zaG91bGRSZXRyeSA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMTM6CgkJCQkJCQkJaWYgKGQgIT09IDEwNCkgYnJlYWs7CgkJCQkJCQkJaC51bmtub3duMyA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJfQoJCQkJCQlpZiAoKGQgJiA3KSA9PSA0IHx8IGQgPT09IDApIGJyZWFrOwoJCQkJCQlwLnNraXAoZCAmIDcpOwoJCQkJCX0KCQkJCQlyZXR1cm4gaDsKCQkJCX0sCgkJCQlmcm9tSlNPTihkKSB7CgkJCQkJcmV0dXJuIHsKCQkJCQkJdXJsOiBpc1NldChkLnVybCkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnVybCkgOiB2b2lkIDAsCgkJCQkJCWR1cmF0aW9uOiBpc1NldChkLmR1cmF0aW9uKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQuZHVyYXRpb24pIDogdm9pZCAwLAoJCQkJCQlzdGF0dXM6IGlzU2V0KGQuc3RhdHVzKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQuc3RhdHVzKSA6IDAsCgkJCQkJCXJlbWFpbmluZ1RpbWU6IGlzU2V0KGQucmVtYWluaW5nVGltZSkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnJlbWFpbmluZ1RpbWUpIDogdm9pZCAwLAoJCQkJCQl1bmtub3duMDogaXNTZXQoZC51bmtub3duMCkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24wKSA6IHZvaWQgMCwKCQkJCQkJdHJhbnNsYXRpb25JZDogaXNTZXQoZC50cmFuc2xhdGlvbklkKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQudHJhbnNsYXRpb25JZCkgOiAiIiwKCQkJCQkJbGFuZ3VhZ2U6IGlzU2V0KGQubGFuZ3VhZ2UpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC5sYW5ndWFnZSkgOiB2b2lkIDAsCgkJCQkJCW1lc3NhZ2U6IGlzU2V0KGQubWVzc2FnZSkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLm1lc3NhZ2UpIDogdm9pZCAwLAoJCQkJCQlpc0xpdmVseVZvaWNlOiBpc1NldChkLmlzTGl2ZWx5Vm9pY2UpID8gZ2xvYmFsVGhpcy5Cb29sZWFuKGQuaXNMaXZlbHlWb2ljZSkgOiAhMSwKCQkJCQkJdW5rbm93bjI6IGlzU2V0KGQudW5rbm93bjIpID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC51bmtub3duMikgOiB2b2lkIDAsCgkJCQkJCXNob3VsZFJldHJ5OiBpc1NldChkLnNob3VsZFJldHJ5KSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQuc2hvdWxkUmV0cnkpIDogdm9pZCAwLAoJCQkJCQl1bmtub3duMzogaXNTZXQoZC51bmtub3duMykgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24zKSA6IHZvaWQgMAoJCQkJCX07CgkJCQl9LAoJCQkJdG9KU09OKGQpIHsKCQkJCQlsZXQgZiA9IHt9OwoJCQkJCXJldHVybiBkLnVybCAhPT0gdm9pZCAwICYmIChmLnVybCA9IGQudXJsKSwgZC5kdXJhdGlvbiAhPT0gdm9pZCAwICYmIChmLmR1cmF0aW9uID0gZC5kdXJhdGlvbiksIGQuc3RhdHVzICE9PSAwICYmIChmLnN0YXR1cyA9IE1hdGgucm91bmQoZC5zdGF0dXMpKSwgZC5yZW1haW5pbmdUaW1lICE9PSB2b2lkIDAgJiYgKGYucmVtYWluaW5nVGltZSA9IE1hdGgucm91bmQoZC5yZW1haW5pbmdUaW1lKSksIGQudW5rbm93bjAgIT09IHZvaWQgMCAmJiAoZi51bmtub3duMCA9IE1hdGgucm91bmQoZC51bmtub3duMCkpLCBkLnRyYW5zbGF0aW9uSWQgIT09ICIiICYmIChmLnRyYW5zbGF0aW9uSWQgPSBkLnRyYW5zbGF0aW9uSWQpLCBkLmxhbmd1YWdlICE9PSB2b2lkIDAgJiYgKGYubGFuZ3VhZ2UgPSBkLmxhbmd1YWdlKSwgZC5tZXNzYWdlICE9PSB2b2lkIDAgJiYgKGYubWVzc2FnZSA9IGQubWVzc2FnZSksIGQuaXNMaXZlbHlWb2ljZSAhPT0gITEgJiYgKGYuaXNMaXZlbHlWb2ljZSA9IGQuaXNMaXZlbHlWb2ljZSksIGQudW5rbm93bjIgIT09IHZvaWQgMCAmJiAoZi51bmtub3duMiA9IE1hdGgucm91bmQoZC51bmtub3duMikpLCBkLnNob3VsZFJldHJ5ICE9PSB2b2lkIDAgJiYgKGYuc2hvdWxkUmV0cnkgPSBNYXRoLnJvdW5kKGQuc2hvdWxkUmV0cnkpKSwgZC51bmtub3duMyAhPT0gdm9pZCAwICYmIChmLnVua25vd24zID0gTWF0aC5yb3VuZChkLnVua25vd24zKSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gQS5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvblJlc3BvbnNlKCk7CgkJCQkJcmV0dXJuIGYudXJsID0gZC51cmwgPz8gdm9pZCAwLCBmLmR1cmF0aW9uID0gZC5kdXJhdGlvbiA/PyB2b2lkIDAsIGYuc3RhdHVzID0gZC5zdGF0dXMgPz8gMCwgZi5yZW1haW5pbmdUaW1lID0gZC5yZW1haW5pbmdUaW1lID8/IHZvaWQgMCwgZi51bmtub3duMCA9IGQudW5rbm93bjAgPz8gdm9pZCAwLCBmLnRyYW5zbGF0aW9uSWQgPSBkLnRyYW5zbGF0aW9uSWQgPz8gIiIsIGYubGFuZ3VhZ2UgPSBkLmxhbmd1YWdlID8/IHZvaWQgMCwgZi5tZXNzYWdlID0gZC5tZXNzYWdlID8/IHZvaWQgMCwgZi5pc0xpdmVseVZvaWNlID0gZC5pc0xpdmVseVZvaWNlID8/ICExLCBmLnVua25vd24yID0gZC51bmtub3duMiA/PyB2b2lkIDAsIGYuc2hvdWxkUmV0cnkgPSBkLnNob3VsZFJldHJ5ID8/IHZvaWQgMCwgZi51bmtub3duMyA9IGQudW5rbm93bjMgPz8gdm9pZCAwLCBmOwoJCQkJfQoJCQl9OwoJCQlmdW5jdGlvbiBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvbkNhY2hlSXRlbSgpIHsKCQkJCXJldHVybiB7CgkJCQkJc3RhdHVzOiAwLAoJCQkJCXJlbWFpbmluZ1RpbWU6IHZvaWQgMCwKCQkJCQltZXNzYWdlOiB2b2lkIDAsCgkJCQkJdW5rbm93bjA6IHZvaWQgMAoJCQkJfTsKCQkJfQoJCQlsZXQgaiA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJcmV0dXJuIGQuc3RhdHVzICE9PSAwICYmIGYudWludDMyKDgpLmludDMyKGQuc3RhdHVzKSwgZC5yZW1haW5pbmdUaW1lICE9PSB2b2lkIDAgJiYgZi51aW50MzIoMTYpLmludDMyKGQucmVtYWluaW5nVGltZSksIGQubWVzc2FnZSAhPT0gdm9pZCAwICYmIGYudWludDMyKDI2KS5zdHJpbmcoZC5tZXNzYWdlKSwgZC51bmtub3duMCAhPT0gdm9pZCAwICYmIGYudWludDMyKDMyKS5pbnQzMihkLnVua25vd24wKSwgZjsKCQkJCX0sCgkJCQlkZWNvZGUoZCwgZikgewoJCQkJCWxldCBwID0gZCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlciA/IGQgOiBuZXcgQmluYXJ5UmVhZGVyKGQpLCBtID0gZiA9PT0gdm9pZCAwID8gcC5sZW4gOiBwLnBvcyArIGYsIGggPSBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvbkNhY2hlSXRlbSgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDgpIGJyZWFrOwoJCQkJCQkJCWguc3RhdHVzID0gcC5pbnQzMigpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCWlmIChkICE9PSAxNikgYnJlYWs7CgkJCQkJCQkJaC5yZW1haW5pbmdUaW1lID0gcC5pbnQzMigpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAzOgoJCQkJCQkJCWlmIChkICE9PSAyNikgYnJlYWs7CgkJCQkJCQkJaC5tZXNzYWdlID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNDoKCQkJCQkJCQlpZiAoZCAhPT0gMzIpIGJyZWFrOwoJCQkJCQkJCWgudW5rbm93bjAgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXN0YXR1czogaXNTZXQoZC5zdGF0dXMpID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC5zdGF0dXMpIDogMCwKCQkJCQkJcmVtYWluaW5nVGltZTogaXNTZXQoZC5yZW1haW5pbmdUaW1lKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQucmVtYWluaW5nVGltZSkgOiB2b2lkIDAsCgkJCQkJCW1lc3NhZ2U6IGlzU2V0KGQubWVzc2FnZSkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLm1lc3NhZ2UpIDogdm9pZCAwLAoJCQkJCQl1bmtub3duMDogaXNTZXQoZC51bmtub3duMCkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24wKSA6IHZvaWQgMAoJCQkJCX07CgkJCQl9LAoJCQkJdG9KU09OKGQpIHsKCQkJCQlsZXQgZiA9IHt9OwoJCQkJCXJldHVybiBkLnN0YXR1cyAhPT0gMCAmJiAoZi5zdGF0dXMgPSBNYXRoLnJvdW5kKGQuc3RhdHVzKSksIGQucmVtYWluaW5nVGltZSAhPT0gdm9pZCAwICYmIChmLnJlbWFpbmluZ1RpbWUgPSBNYXRoLnJvdW5kKGQucmVtYWluaW5nVGltZSkpLCBkLm1lc3NhZ2UgIT09IHZvaWQgMCAmJiAoZi5tZXNzYWdlID0gZC5tZXNzYWdlKSwgZC51bmtub3duMCAhPT0gdm9pZCAwICYmIChmLnVua25vd24wID0gTWF0aC5yb3VuZChkLnVua25vd24wKSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gai5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvbkNhY2hlSXRlbSgpOwoJCQkJCXJldHVybiBmLnN0YXR1cyA9IGQuc3RhdHVzID8/IDAsIGYucmVtYWluaW5nVGltZSA9IGQucmVtYWluaW5nVGltZSA/PyB2b2lkIDAsIGYubWVzc2FnZSA9IGQubWVzc2FnZSA/PyB2b2lkIDAsIGYudW5rbm93bjAgPSBkLnVua25vd24wID8/IHZvaWQgMCwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25DYWNoZVJlcXVlc3QoKSB7CgkJCQlyZXR1cm4gewoJCQkJCXVybDogIiIsCgkJCQkJZHVyYXRpb246IDAsCgkJCQkJbGFuZ3VhZ2U6ICIiLAoJCQkJCXJlc3BvbnNlTGFuZ3VhZ2U6ICIiCgkJCQl9OwoJCQl9CgkJCWxldCBGID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC51cmwgIT09ICIiICYmIGYudWludDMyKDEwKS5zdHJpbmcoZC51cmwpLCBkLmR1cmF0aW9uICE9PSAwICYmIGYudWludDMyKDE3KS5kb3VibGUoZC5kdXJhdGlvbiksIGQubGFuZ3VhZ2UgIT09ICIiICYmIGYudWludDMyKDI2KS5zdHJpbmcoZC5sYW5ndWFnZSksIGQucmVzcG9uc2VMYW5ndWFnZSAhPT0gIiIgJiYgZi51aW50MzIoMzQpLnN0cmluZyhkLnJlc3BvbnNlTGFuZ3VhZ2UpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uQ2FjaGVSZXF1ZXN0KCk7CgkJCQkJZm9yICg7IHAucG9zIDwgbTspIHsKCQkJCQkJbGV0IGQgPSBwLnVpbnQzMigpOwoJCQkJCQlzd2l0Y2ggKGQgPj4+IDMpIHsKCQkJCQkJCWNhc2UgMToKCQkJCQkJCQlpZiAoZCAhPT0gMTApIGJyZWFrOwoJCQkJCQkJCWgudXJsID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMjoKCQkJCQkJCQlpZiAoZCAhPT0gMTcpIGJyZWFrOwoJCQkJCQkJCWguZHVyYXRpb24gPSBwLmRvdWJsZSgpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAzOgoJCQkJCQkJCWlmIChkICE9PSAyNikgYnJlYWs7CgkJCQkJCQkJaC5sYW5ndWFnZSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDQ6CgkJCQkJCQkJaWYgKGQgIT09IDM0KSBicmVhazsKCQkJCQkJCQloLnJlc3BvbnNlTGFuZ3VhZ2UgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IGlzU2V0KGQudXJsKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQudXJsKSA6ICIiLAoJCQkJCQlkdXJhdGlvbjogaXNTZXQoZC5kdXJhdGlvbikgPyBnbG9iYWxUaGlzLk51bWJlcihkLmR1cmF0aW9uKSA6IDAsCgkJCQkJCWxhbmd1YWdlOiBpc1NldChkLmxhbmd1YWdlKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQubGFuZ3VhZ2UpIDogIiIsCgkJCQkJCXJlc3BvbnNlTGFuZ3VhZ2U6IGlzU2V0KGQucmVzcG9uc2VMYW5ndWFnZSkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnJlc3BvbnNlTGFuZ3VhZ2UpIDogIiIKCQkJCQl9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC51cmwgIT09ICIiICYmIChmLnVybCA9IGQudXJsKSwgZC5kdXJhdGlvbiAhPT0gMCAmJiAoZi5kdXJhdGlvbiA9IGQuZHVyYXRpb24pLCBkLmxhbmd1YWdlICE9PSAiIiAmJiAoZi5sYW5ndWFnZSA9IGQubGFuZ3VhZ2UpLCBkLnJlc3BvbnNlTGFuZ3VhZ2UgIT09ICIiICYmIChmLnJlc3BvbnNlTGFuZ3VhZ2UgPSBkLnJlc3BvbnNlTGFuZ3VhZ2UpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuIEYuZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25DYWNoZVJlcXVlc3QoKTsKCQkJCQlyZXR1cm4gZi51cmwgPSBkLnVybCA/PyAiIiwgZi5kdXJhdGlvbiA9IGQuZHVyYXRpb24gPz8gMCwgZi5sYW5ndWFnZSA9IGQubGFuZ3VhZ2UgPz8gIiIsIGYucmVzcG9uc2VMYW5ndWFnZSA9IGQucmVzcG9uc2VMYW5ndWFnZSA/PyAiIiwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25DYWNoZVJlc3BvbnNlKCkgewoJCQkJcmV0dXJuIHsKCQkJCQlkZWZhdWx0OiB2b2lkIDAsCgkJCQkJY2xvbmluZzogdm9pZCAwCgkJCQl9OwoJCQl9CgkJCWxldCBVID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC5kZWZhdWx0ICE9PSB2b2lkIDAgJiYgai5lbmNvZGUoZC5kZWZhdWx0LCBmLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCksIGQuY2xvbmluZyAhPT0gdm9pZCAwICYmIGouZW5jb2RlKGQuY2xvbmluZywgZi51aW50MzIoMTgpLmZvcmsoKSkuam9pbigpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uQ2FjaGVSZXNwb25zZSgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDEwKSBicmVhazsKCQkJCQkJCQloLmRlZmF1bHQgPSBqLmRlY29kZShwLCBwLnVpbnQzMigpKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMjoKCQkJCQkJCQlpZiAoZCAhPT0gMTgpIGJyZWFrOwoJCQkJCQkJCWguY2xvbmluZyA9IGouZGVjb2RlKHAsIHAudWludDMyKCkpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQlkZWZhdWx0OiBpc1NldChkLmRlZmF1bHQpID8gai5mcm9tSlNPTihkLmRlZmF1bHQpIDogdm9pZCAwLAoJCQkJCQljbG9uaW5nOiBpc1NldChkLmNsb25pbmcpID8gai5mcm9tSlNPTihkLmNsb25pbmcpIDogdm9pZCAwCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQuZGVmYXVsdCAhPT0gdm9pZCAwICYmIChmLmRlZmF1bHQgPSBqLnRvSlNPTihkLmRlZmF1bHQpKSwgZC5jbG9uaW5nICE9PSB2b2lkIDAgJiYgKGYuY2xvbmluZyA9IGoudG9KU09OKGQuY2xvbmluZykpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuIFUuZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25DYWNoZVJlc3BvbnNlKCk7CgkJCQkJcmV0dXJuIGYuZGVmYXVsdCA9IGQuZGVmYXVsdCAhPT0gdm9pZCAwICYmIGQuZGVmYXVsdCAhPT0gbnVsbCA/IGouZnJvbVBhcnRpYWwoZC5kZWZhdWx0KSA6IHZvaWQgMCwgZi5jbG9uaW5nID0gZC5jbG9uaW5nICE9PSB2b2lkIDAgJiYgZC5jbG9uaW5nICE9PSBudWxsID8gai5mcm9tUGFydGlhbChkLmNsb25pbmcpIDogdm9pZCAwLCBmOwoJCQkJfQoJCQl9OwoJCQlmdW5jdGlvbiBjcmVhdGVCYXNlQXVkaW9CdWZmZXJPYmplY3QoKSB7CgkJCQlyZXR1cm4gewoJCQkJCWF1ZGlvRmlsZTogbmV3IFVpbnQ4QXJyYXkoKSwKCQkJCQlmaWxlSWQ6ICIiCgkJCQl9OwoJCQl9CgkJCWxldCBXID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC5hdWRpb0ZpbGUubGVuZ3RoICE9PSAwICYmIGYudWludDMyKDE4KS5ieXRlcyhkLmF1ZGlvRmlsZSksIGQuZmlsZUlkICE9PSAiIiAmJiBmLnVpbnQzMigxMCkuc3RyaW5nKGQuZmlsZUlkKSwgZjsKCQkJCX0sCgkJCQlkZWNvZGUoZCwgZikgewoJCQkJCWxldCBwID0gZCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlciA/IGQgOiBuZXcgQmluYXJ5UmVhZGVyKGQpLCBtID0gZiA9PT0gdm9pZCAwID8gcC5sZW4gOiBwLnBvcyArIGYsIGggPSBjcmVhdGVCYXNlQXVkaW9CdWZmZXJPYmplY3QoKTsKCQkJCQlmb3IgKDsgcC5wb3MgPCBtOykgewoJCQkJCQlsZXQgZCA9IHAudWludDMyKCk7CgkJCQkJCXN3aXRjaCAoZCA+Pj4gMykgewoJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCWlmIChkICE9PSAxOCkgYnJlYWs7CgkJCQkJCQkJaC5hdWRpb0ZpbGUgPSBwLmJ5dGVzKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDEwKSBicmVhazsKCQkJCQkJCQloLmZpbGVJZCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCWF1ZGlvRmlsZTogaXNTZXQoZC5hdWRpb0ZpbGUpID8gYnl0ZXNGcm9tQmFzZTY0KGQuYXVkaW9GaWxlKSA6IG5ldyBVaW50OEFycmF5KCksCgkJCQkJCWZpbGVJZDogaXNTZXQoZC5maWxlSWQpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC5maWxlSWQpIDogIiIKCQkJCQl9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC5hdWRpb0ZpbGUubGVuZ3RoICE9PSAwICYmIChmLmF1ZGlvRmlsZSA9IGJhc2U2NEZyb21CeXRlcyhkLmF1ZGlvRmlsZSkpLCBkLmZpbGVJZCAhPT0gIiIgJiYgKGYuZmlsZUlkID0gZC5maWxlSWQpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuIFcuZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZUF1ZGlvQnVmZmVyT2JqZWN0KCk7CgkJCQkJcmV0dXJuIGYuYXVkaW9GaWxlID0gZC5hdWRpb0ZpbGUgPz8gbmV3IFVpbnQ4QXJyYXkoKSwgZi5maWxlSWQgPSBkLmZpbGVJZCA/PyAiIiwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVBhcnRpYWxBdWRpb0J1ZmZlck9iamVjdCgpIHsKCQkJCXJldHVybiB7CgkJCQkJYXVkaW9GaWxlOiBuZXcgVWludDhBcnJheSgpLAoJCQkJCWNodW5rSWQ6IDAKCQkJCX07CgkJCX0KCQkJbGV0IEcgPSB7CgkJCQllbmNvZGUoZCwgZiA9IG5ldyBCaW5hcnlXcml0ZXIoKSkgewoJCQkJCXJldHVybiBkLmF1ZGlvRmlsZS5sZW5ndGggIT09IDAgJiYgZi51aW50MzIoMTgpLmJ5dGVzKGQuYXVkaW9GaWxlKSwgZC5jaHVua0lkICE9PSAwICYmIGYudWludDMyKDgpLmludDMyKGQuY2h1bmtJZCksIGY7CgkJCQl9LAoJCQkJZGVjb2RlKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBkIDogbmV3IEJpbmFyeVJlYWRlcihkKSwgbSA9IGYgPT09IHZvaWQgMCA/IHAubGVuIDogcC5wb3MgKyBmLCBoID0gY3JlYXRlQmFzZVBhcnRpYWxBdWRpb0J1ZmZlck9iamVjdCgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE4KSBicmVhazsKCQkJCQkJCQloLmF1ZGlvRmlsZSA9IHAuYnl0ZXMoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMToKCQkJCQkJCQlpZiAoZCAhPT0gOCkgYnJlYWs7CgkJCQkJCQkJaC5jaHVua0lkID0gcC5pbnQzMigpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQlhdWRpb0ZpbGU6IGlzU2V0KGQuYXVkaW9GaWxlKSA/IGJ5dGVzRnJvbUJhc2U2NChkLmF1ZGlvRmlsZSkgOiBuZXcgVWludDhBcnJheSgpLAoJCQkJCQljaHVua0lkOiBpc1NldChkLmNodW5rSWQpID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC5jaHVua0lkKSA6IDAKCQkJCQl9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC5hdWRpb0ZpbGUubGVuZ3RoICE9PSAwICYmIChmLmF1ZGlvRmlsZSA9IGJhc2U2NEZyb21CeXRlcyhkLmF1ZGlvRmlsZSkpLCBkLmNodW5rSWQgIT09IDAgJiYgKGYuY2h1bmtJZCA9IE1hdGgucm91bmQoZC5jaHVua0lkKSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gRy5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlUGFydGlhbEF1ZGlvQnVmZmVyT2JqZWN0KCk7CgkJCQkJcmV0dXJuIGYuYXVkaW9GaWxlID0gZC5hdWRpb0ZpbGUgPz8gbmV3IFVpbnQ4QXJyYXkoKSwgZi5jaHVua0lkID0gZC5jaHVua0lkID8/IDAsIGY7CgkJCQl9CgkJCX07CgkJCWZ1bmN0aW9uIGNyZWF0ZUJhc2VDaHVua0F1ZGlvT2JqZWN0KCkgewoJCQkJcmV0dXJuIHsKCQkJCQlhdWRpb0J1ZmZlcjogdm9pZCAwLAoJCQkJCWF1ZGlvUGFydHNMZW5ndGg6IDAsCgkJCQkJZmlsZUlkOiAiIiwKCQkJCQl2ZXJzaW9uOiAwCgkJCQl9OwoJCQl9CgkJCWxldCBLID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC5hdWRpb0J1ZmZlciAhPT0gdm9pZCAwICYmIEcuZW5jb2RlKGQuYXVkaW9CdWZmZXIsIGYudWludDMyKDEwKS5mb3JrKCkpLmpvaW4oKSwgZC5hdWRpb1BhcnRzTGVuZ3RoICE9PSAwICYmIGYudWludDMyKDE2KS5pbnQzMihkLmF1ZGlvUGFydHNMZW5ndGgpLCBkLmZpbGVJZCAhPT0gIiIgJiYgZi51aW50MzIoMjYpLnN0cmluZyhkLmZpbGVJZCksIGQudmVyc2lvbiAhPT0gMCAmJiBmLnVpbnQzMigzMikuaW50MzIoZC52ZXJzaW9uKSwgZjsKCQkJCX0sCgkJCQlkZWNvZGUoZCwgZikgewoJCQkJCWxldCBwID0gZCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlciA/IGQgOiBuZXcgQmluYXJ5UmVhZGVyKGQpLCBtID0gZiA9PT0gdm9pZCAwID8gcC5sZW4gOiBwLnBvcyArIGYsIGggPSBjcmVhdGVCYXNlQ2h1bmtBdWRpb09iamVjdCgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDEwKSBicmVhazsKCQkJCQkJCQloLmF1ZGlvQnVmZmVyID0gRy5kZWNvZGUocCwgcC51aW50MzIoKSk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE2KSBicmVhazsKCQkJCQkJCQloLmF1ZGlvUGFydHNMZW5ndGggPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDM6CgkJCQkJCQkJaWYgKGQgIT09IDI2KSBicmVhazsKCQkJCQkJCQloLmZpbGVJZCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDQ6CgkJCQkJCQkJaWYgKGQgIT09IDMyKSBicmVhazsKCQkJCQkJCQloLnZlcnNpb24gPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCWF1ZGlvQnVmZmVyOiBpc1NldChkLmF1ZGlvQnVmZmVyKSA/IEcuZnJvbUpTT04oZC5hdWRpb0J1ZmZlcikgOiB2b2lkIDAsCgkJCQkJCWF1ZGlvUGFydHNMZW5ndGg6IGlzU2V0KGQuYXVkaW9QYXJ0c0xlbmd0aCkgPyBnbG9iYWxUaGlzLk51bWJlcihkLmF1ZGlvUGFydHNMZW5ndGgpIDogMCwKCQkJCQkJZmlsZUlkOiBpc1NldChkLmZpbGVJZCkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLmZpbGVJZCkgOiAiIiwKCQkJCQkJdmVyc2lvbjogaXNTZXQoZC52ZXJzaW9uKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQudmVyc2lvbikgOiAwCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQuYXVkaW9CdWZmZXIgIT09IHZvaWQgMCAmJiAoZi5hdWRpb0J1ZmZlciA9IEcudG9KU09OKGQuYXVkaW9CdWZmZXIpKSwgZC5hdWRpb1BhcnRzTGVuZ3RoICE9PSAwICYmIChmLmF1ZGlvUGFydHNMZW5ndGggPSBNYXRoLnJvdW5kKGQuYXVkaW9QYXJ0c0xlbmd0aCkpLCBkLmZpbGVJZCAhPT0gIiIgJiYgKGYuZmlsZUlkID0gZC5maWxlSWQpLCBkLnZlcnNpb24gIT09IDAgJiYgKGYudmVyc2lvbiA9IE1hdGgucm91bmQoZC52ZXJzaW9uKSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gSy5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlQ2h1bmtBdWRpb09iamVjdCgpOwoJCQkJCXJldHVybiBmLmF1ZGlvQnVmZmVyID0gZC5hdWRpb0J1ZmZlciAhPT0gdm9pZCAwICYmIGQuYXVkaW9CdWZmZXIgIT09IG51bGwgPyBHLmZyb21QYXJ0aWFsKGQuYXVkaW9CdWZmZXIpIDogdm9pZCAwLCBmLmF1ZGlvUGFydHNMZW5ndGggPSBkLmF1ZGlvUGFydHNMZW5ndGggPz8gMCwgZi5maWxlSWQgPSBkLmZpbGVJZCA/PyAiIiwgZi52ZXJzaW9uID0gZC52ZXJzaW9uID8/IDAsIGY7CgkJCQl9CgkJCX07CgkJCWZ1bmN0aW9uIGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uQXVkaW9SZXF1ZXN0KCkgewoJCQkJcmV0dXJuIHsKCQkJCQl0cmFuc2xhdGlvbklkOiAiIiwKCQkJCQl1cmw6ICIiLAoJCQkJCXBhcnRpYWxBdWRpb0luZm86IHZvaWQgMCwKCQkJCQlhdWRpb0luZm86IHZvaWQgMAoJCQkJfTsKCQkJfQoJCQlsZXQgcSA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJcmV0dXJuIGQudHJhbnNsYXRpb25JZCAhPT0gIiIgJiYgZi51aW50MzIoMTApLnN0cmluZyhkLnRyYW5zbGF0aW9uSWQpLCBkLnVybCAhPT0gIiIgJiYgZi51aW50MzIoMTgpLnN0cmluZyhkLnVybCksIGQucGFydGlhbEF1ZGlvSW5mbyAhPT0gdm9pZCAwICYmIEsuZW5jb2RlKGQucGFydGlhbEF1ZGlvSW5mbywgZi51aW50MzIoMzQpLmZvcmsoKSkuam9pbigpLCBkLmF1ZGlvSW5mbyAhPT0gdm9pZCAwICYmIFcuZW5jb2RlKGQuYXVkaW9JbmZvLCBmLnVpbnQzMig1MCkuZm9yaygpKS5qb2luKCksIGY7CgkJCQl9LAoJCQkJZGVjb2RlKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBkIDogbmV3IEJpbmFyeVJlYWRlcihkKSwgbSA9IGYgPT09IHZvaWQgMCA/IHAubGVuIDogcC5wb3MgKyBmLCBoID0gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25BdWRpb1JlcXVlc3QoKTsKCQkJCQlmb3IgKDsgcC5wb3MgPCBtOykgewoJCQkJCQlsZXQgZCA9IHAudWludDMyKCk7CgkJCQkJCXN3aXRjaCAoZCA+Pj4gMykgewoJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCWlmIChkICE9PSAxMCkgYnJlYWs7CgkJCQkJCQkJaC50cmFuc2xhdGlvbklkID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMjoKCQkJCQkJCQlpZiAoZCAhPT0gMTgpIGJyZWFrOwoJCQkJCQkJCWgudXJsID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNDoKCQkJCQkJCQlpZiAoZCAhPT0gMzQpIGJyZWFrOwoJCQkJCQkJCWgucGFydGlhbEF1ZGlvSW5mbyA9IEsuZGVjb2RlKHAsIHAudWludDMyKCkpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSA2OgoJCQkJCQkJCWlmIChkICE9PSA1MCkgYnJlYWs7CgkJCQkJCQkJaC5hdWRpb0luZm8gPSBXLmRlY29kZShwLCBwLnVpbnQzMigpKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJfQoJCQkJCQlpZiAoKGQgJiA3KSA9PSA0IHx8IGQgPT09IDApIGJyZWFrOwoJCQkJCQlwLnNraXAoZCAmIDcpOwoJCQkJCX0KCQkJCQlyZXR1cm4gaDsKCQkJCX0sCgkJCQlmcm9tSlNPTihkKSB7CgkJCQkJcmV0dXJuIHsKCQkJCQkJdHJhbnNsYXRpb25JZDogaXNTZXQoZC50cmFuc2xhdGlvbklkKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQudHJhbnNsYXRpb25JZCkgOiAiIiwKCQkJCQkJdXJsOiBpc1NldChkLnVybCkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnVybCkgOiAiIiwKCQkJCQkJcGFydGlhbEF1ZGlvSW5mbzogaXNTZXQoZC5wYXJ0aWFsQXVkaW9JbmZvKSA/IEsuZnJvbUpTT04oZC5wYXJ0aWFsQXVkaW9JbmZvKSA6IHZvaWQgMCwKCQkJCQkJYXVkaW9JbmZvOiBpc1NldChkLmF1ZGlvSW5mbykgPyBXLmZyb21KU09OKGQuYXVkaW9JbmZvKSA6IHZvaWQgMAoJCQkJCX07CgkJCQl9LAoJCQkJdG9KU09OKGQpIHsKCQkJCQlsZXQgZiA9IHt9OwoJCQkJCXJldHVybiBkLnRyYW5zbGF0aW9uSWQgIT09ICIiICYmIChmLnRyYW5zbGF0aW9uSWQgPSBkLnRyYW5zbGF0aW9uSWQpLCBkLnVybCAhPT0gIiIgJiYgKGYudXJsID0gZC51cmwpLCBkLnBhcnRpYWxBdWRpb0luZm8gIT09IHZvaWQgMCAmJiAoZi5wYXJ0aWFsQXVkaW9JbmZvID0gSy50b0pTT04oZC5wYXJ0aWFsQXVkaW9JbmZvKSksIGQuYXVkaW9JbmZvICE9PSB2b2lkIDAgJiYgKGYuYXVkaW9JbmZvID0gVy50b0pTT04oZC5hdWRpb0luZm8pKSwgZjsKCQkJCX0sCgkJCQljcmVhdGUoZCkgewoJCQkJCXJldHVybiBxLmZyb21QYXJ0aWFsKGQgPz8ge30pOwoJCQkJfSwKCQkJCWZyb21QYXJ0aWFsKGQpIHsKCQkJCQlsZXQgZiA9IGNyZWF0ZUJhc2VWaWRlb1RyYW5zbGF0aW9uQXVkaW9SZXF1ZXN0KCk7CgkJCQkJcmV0dXJuIGYudHJhbnNsYXRpb25JZCA9IGQudHJhbnNsYXRpb25JZCA/PyAiIiwgZi51cmwgPSBkLnVybCA/PyAiIiwgZi5wYXJ0aWFsQXVkaW9JbmZvID0gZC5wYXJ0aWFsQXVkaW9JbmZvICE9PSB2b2lkIDAgJiYgZC5wYXJ0aWFsQXVkaW9JbmZvICE9PSBudWxsID8gSy5mcm9tUGFydGlhbChkLnBhcnRpYWxBdWRpb0luZm8pIDogdm9pZCAwLCBmLmF1ZGlvSW5mbyA9IGQuYXVkaW9JbmZvICE9PSB2b2lkIDAgJiYgZC5hdWRpb0luZm8gIT09IG51bGwgPyBXLmZyb21QYXJ0aWFsKGQuYXVkaW9JbmZvKSA6IHZvaWQgMCwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25BdWRpb1Jlc3BvbnNlKCkgewoJCQkJcmV0dXJuIHsKCQkJCQlzdGF0dXM6IDAsCgkJCQkJcmVtYWluaW5nQ2h1bmtzOiBbXQoJCQkJfTsKCQkJfQoJCQlsZXQgSiA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJZC5zdGF0dXMgIT09IDAgJiYgZi51aW50MzIoOCkuaW50MzIoZC5zdGF0dXMpOwoJCQkJCWZvciAobGV0IHAgb2YgZC5yZW1haW5pbmdDaHVua3MpIGYudWludDMyKDE4KS5zdHJpbmcocCk7CgkJCQkJcmV0dXJuIGY7CgkJCQl9LAoJCQkJZGVjb2RlKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBkIDogbmV3IEJpbmFyeVJlYWRlcihkKSwgbSA9IGYgPT09IHZvaWQgMCA/IHAubGVuIDogcC5wb3MgKyBmLCBoID0gY3JlYXRlQmFzZVZpZGVvVHJhbnNsYXRpb25BdWRpb1Jlc3BvbnNlKCk7CgkJCQkJZm9yICg7IHAucG9zIDwgbTspIHsKCQkJCQkJbGV0IGQgPSBwLnVpbnQzMigpOwoJCQkJCQlzd2l0Y2ggKGQgPj4+IDMpIHsKCQkJCQkJCWNhc2UgMToKCQkJCQkJCQlpZiAoZCAhPT0gOCkgYnJlYWs7CgkJCQkJCQkJaC5zdGF0dXMgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE4KSBicmVhazsKCQkJCQkJCQloLnJlbWFpbmluZ0NodW5rcy5wdXNoKHAuc3RyaW5nKCkpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQlzdGF0dXM6IGlzU2V0KGQuc3RhdHVzKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQuc3RhdHVzKSA6IDAsCgkJCQkJCXJlbWFpbmluZ0NodW5rczogZ2xvYmFsVGhpcy5BcnJheS5pc0FycmF5KGQ/LnJlbWFpbmluZ0NodW5rcykgPyBkLnJlbWFpbmluZ0NodW5rcy5tYXAoKGQpID0+IGdsb2JhbFRoaXMuU3RyaW5nKGQpKSA6IFtdCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQuc3RhdHVzICE9PSAwICYmIChmLnN0YXR1cyA9IE1hdGgucm91bmQoZC5zdGF0dXMpKSwgZC5yZW1haW5pbmdDaHVua3M/Lmxlbmd0aCAmJiAoZi5yZW1haW5pbmdDaHVua3MgPSBkLnJlbWFpbmluZ0NodW5rcyksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gSi5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlVmlkZW9UcmFuc2xhdGlvbkF1ZGlvUmVzcG9uc2UoKTsKCQkJCQlyZXR1cm4gZi5zdGF0dXMgPSBkLnN0YXR1cyA/PyAwLCBmLnJlbWFpbmluZ0NodW5rcyA9IGQucmVtYWluaW5nQ2h1bmtzPy5tYXAoKGQpID0+IGQpIHx8IFtdLCBmOwoJCQkJfQoJCQl9OwoJCQlmdW5jdGlvbiBjcmVhdGVCYXNlU3VidGl0bGVzT2JqZWN0KCkgewoJCQkJcmV0dXJuIHsKCQkJCQlsYW5ndWFnZTogIiIsCgkJCQkJdXJsOiAiIiwKCQkJCQl1bmtub3duMDogMCwKCQkJCQl0cmFuc2xhdGVkTGFuZ3VhZ2U6ICIiLAoJCQkJCXRyYW5zbGF0ZWRVcmw6ICIiLAoJCQkJCXVua25vd24xOiAwLAoJCQkJCXVua25vd24yOiAwCgkJCQl9OwoJCQl9CgkJCWxldCBZID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC5sYW5ndWFnZSAhPT0gIiIgJiYgZi51aW50MzIoMTApLnN0cmluZyhkLmxhbmd1YWdlKSwgZC51cmwgIT09ICIiICYmIGYudWludDMyKDE4KS5zdHJpbmcoZC51cmwpLCBkLnVua25vd24wICE9PSAwICYmIGYudWludDMyKDI0KS5pbnQzMihkLnVua25vd24wKSwgZC50cmFuc2xhdGVkTGFuZ3VhZ2UgIT09ICIiICYmIGYudWludDMyKDM0KS5zdHJpbmcoZC50cmFuc2xhdGVkTGFuZ3VhZ2UpLCBkLnRyYW5zbGF0ZWRVcmwgIT09ICIiICYmIGYudWludDMyKDQyKS5zdHJpbmcoZC50cmFuc2xhdGVkVXJsKSwgZC51bmtub3duMSAhPT0gMCAmJiBmLnVpbnQzMig0OCkuaW50MzIoZC51bmtub3duMSksIGQudW5rbm93bjIgIT09IDAgJiYgZi51aW50MzIoNTYpLmludDMyKGQudW5rbm93bjIpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VTdWJ0aXRsZXNPYmplY3QoKTsKCQkJCQlmb3IgKDsgcC5wb3MgPCBtOykgewoJCQkJCQlsZXQgZCA9IHAudWludDMyKCk7CgkJCQkJCXN3aXRjaCAoZCA+Pj4gMykgewoJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCWlmIChkICE9PSAxMCkgYnJlYWs7CgkJCQkJCQkJaC5sYW5ndWFnZSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE4KSBicmVhazsKCQkJCQkJCQloLnVybCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDM6CgkJCQkJCQkJaWYgKGQgIT09IDI0KSBicmVhazsKCQkJCQkJCQloLnVua25vd24wID0gcC5pbnQzMigpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSA0OgoJCQkJCQkJCWlmIChkICE9PSAzNCkgYnJlYWs7CgkJCQkJCQkJaC50cmFuc2xhdGVkTGFuZ3VhZ2UgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSA1OgoJCQkJCQkJCWlmIChkICE9PSA0MikgYnJlYWs7CgkJCQkJCQkJaC50cmFuc2xhdGVkVXJsID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNjoKCQkJCQkJCQlpZiAoZCAhPT0gNDgpIGJyZWFrOwoJCQkJCQkJCWgudW5rbm93bjEgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDc6CgkJCQkJCQkJaWYgKGQgIT09IDU2KSBicmVhazsKCQkJCQkJCQloLnVua25vd24yID0gcC5pbnQzMigpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQlsYW5ndWFnZTogaXNTZXQoZC5sYW5ndWFnZSkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLmxhbmd1YWdlKSA6ICIiLAoJCQkJCQl1cmw6IGlzU2V0KGQudXJsKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQudXJsKSA6ICIiLAoJCQkJCQl1bmtub3duMDogaXNTZXQoZC51bmtub3duMCkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnVua25vd24wKSA6IDAsCgkJCQkJCXRyYW5zbGF0ZWRMYW5ndWFnZTogaXNTZXQoZC50cmFuc2xhdGVkTGFuZ3VhZ2UpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC50cmFuc2xhdGVkTGFuZ3VhZ2UpIDogIiIsCgkJCQkJCXRyYW5zbGF0ZWRVcmw6IGlzU2V0KGQudHJhbnNsYXRlZFVybCkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnRyYW5zbGF0ZWRVcmwpIDogIiIsCgkJCQkJCXVua25vd24xOiBpc1NldChkLnVua25vd24xKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQudW5rbm93bjEpIDogMCwKCQkJCQkJdW5rbm93bjI6IGlzU2V0KGQudW5rbm93bjIpID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC51bmtub3duMikgOiAwCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQubGFuZ3VhZ2UgIT09ICIiICYmIChmLmxhbmd1YWdlID0gZC5sYW5ndWFnZSksIGQudXJsICE9PSAiIiAmJiAoZi51cmwgPSBkLnVybCksIGQudW5rbm93bjAgIT09IDAgJiYgKGYudW5rbm93bjAgPSBNYXRoLnJvdW5kKGQudW5rbm93bjApKSwgZC50cmFuc2xhdGVkTGFuZ3VhZ2UgIT09ICIiICYmIChmLnRyYW5zbGF0ZWRMYW5ndWFnZSA9IGQudHJhbnNsYXRlZExhbmd1YWdlKSwgZC50cmFuc2xhdGVkVXJsICE9PSAiIiAmJiAoZi50cmFuc2xhdGVkVXJsID0gZC50cmFuc2xhdGVkVXJsKSwgZC51bmtub3duMSAhPT0gMCAmJiAoZi51bmtub3duMSA9IE1hdGgucm91bmQoZC51bmtub3duMSkpLCBkLnVua25vd24yICE9PSAwICYmIChmLnVua25vd24yID0gTWF0aC5yb3VuZChkLnVua25vd24yKSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gWS5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlU3VidGl0bGVzT2JqZWN0KCk7CgkJCQkJcmV0dXJuIGYubGFuZ3VhZ2UgPSBkLmxhbmd1YWdlID8/ICIiLCBmLnVybCA9IGQudXJsID8/ICIiLCBmLnVua25vd24wID0gZC51bmtub3duMCA/PyAwLCBmLnRyYW5zbGF0ZWRMYW5ndWFnZSA9IGQudHJhbnNsYXRlZExhbmd1YWdlID8/ICIiLCBmLnRyYW5zbGF0ZWRVcmwgPSBkLnRyYW5zbGF0ZWRVcmwgPz8gIiIsIGYudW5rbm93bjEgPSBkLnVua25vd24xID8/IDAsIGYudW5rbm93bjIgPSBkLnVua25vd24yID8/IDAsIGY7CgkJCQl9CgkJCX07CgkJCWZ1bmN0aW9uIGNyZWF0ZUJhc2VTdWJ0aXRsZXNSZXF1ZXN0KCkgewoJCQkJcmV0dXJuIHsKCQkJCQl1cmw6ICIiLAoJCQkJCWxhbmd1YWdlOiAiIgoJCQkJfTsKCQkJfQoJCQlsZXQgWCA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJcmV0dXJuIGQudXJsICE9PSAiIiAmJiBmLnVpbnQzMigxMCkuc3RyaW5nKGQudXJsKSwgZC5sYW5ndWFnZSAhPT0gIiIgJiYgZi51aW50MzIoMTgpLnN0cmluZyhkLmxhbmd1YWdlKSwgZjsKCQkJCX0sCgkJCQlkZWNvZGUoZCwgZikgewoJCQkJCWxldCBwID0gZCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlciA/IGQgOiBuZXcgQmluYXJ5UmVhZGVyKGQpLCBtID0gZiA9PT0gdm9pZCAwID8gcC5sZW4gOiBwLnBvcyArIGYsIGggPSBjcmVhdGVCYXNlU3VidGl0bGVzUmVxdWVzdCgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDEwKSBicmVhazsKCQkJCQkJCQloLnVybCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE4KSBicmVhazsKCQkJCQkJCQloLmxhbmd1YWdlID0gcC5zdHJpbmcoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJfQoJCQkJCQlpZiAoKGQgJiA3KSA9PSA0IHx8IGQgPT09IDApIGJyZWFrOwoJCQkJCQlwLnNraXAoZCAmIDcpOwoJCQkJCX0KCQkJCQlyZXR1cm4gaDsKCQkJCX0sCgkJCQlmcm9tSlNPTihkKSB7CgkJCQkJcmV0dXJuIHsKCQkJCQkJdXJsOiBpc1NldChkLnVybCkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnVybCkgOiAiIiwKCQkJCQkJbGFuZ3VhZ2U6IGlzU2V0KGQubGFuZ3VhZ2UpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC5sYW5ndWFnZSkgOiAiIgoJCQkJCX07CgkJCQl9LAoJCQkJdG9KU09OKGQpIHsKCQkJCQlsZXQgZiA9IHt9OwoJCQkJCXJldHVybiBkLnVybCAhPT0gIiIgJiYgKGYudXJsID0gZC51cmwpLCBkLmxhbmd1YWdlICE9PSAiIiAmJiAoZi5sYW5ndWFnZSA9IGQubGFuZ3VhZ2UpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuIFguZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZVN1YnRpdGxlc1JlcXVlc3QoKTsKCQkJCQlyZXR1cm4gZi51cmwgPSBkLnVybCA/PyAiIiwgZi5sYW5ndWFnZSA9IGQubGFuZ3VhZ2UgPz8gIiIsIGY7CgkJCQl9CgkJCX07CgkJCWZ1bmN0aW9uIGNyZWF0ZUJhc2VTdWJ0aXRsZXNSZXNwb25zZSgpIHsKCQkJCXJldHVybiB7CgkJCQkJd2FpdGluZzogITEsCgkJCQkJc3VidGl0bGVzOiBbXQoJCQkJfTsKCQkJfQoJCQlsZXQgWiA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJZC53YWl0aW5nICE9PSAhMSAmJiBmLnVpbnQzMig4KS5ib29sKGQud2FpdGluZyk7CgkJCQkJZm9yIChsZXQgcCBvZiBkLnN1YnRpdGxlcykgWS5lbmNvZGUocCwgZi51aW50MzIoMTgpLmZvcmsoKSkuam9pbigpOwoJCQkJCXJldHVybiBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VTdWJ0aXRsZXNSZXNwb25zZSgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDgpIGJyZWFrOwoJCQkJCQkJCWgud2FpdGluZyA9IHAuYm9vbCgpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCWlmIChkICE9PSAxOCkgYnJlYWs7CgkJCQkJCQkJaC5zdWJ0aXRsZXMucHVzaChZLmRlY29kZShwLCBwLnVpbnQzMigpKSk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXdhaXRpbmc6IGlzU2V0KGQud2FpdGluZykgPyBnbG9iYWxUaGlzLkJvb2xlYW4oZC53YWl0aW5nKSA6ICExLAoJCQkJCQlzdWJ0aXRsZXM6IGdsb2JhbFRoaXMuQXJyYXkuaXNBcnJheShkPy5zdWJ0aXRsZXMpID8gZC5zdWJ0aXRsZXMubWFwKChkKSA9PiBZLmZyb21KU09OKGQpKSA6IFtdCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQud2FpdGluZyAhPT0gITEgJiYgKGYud2FpdGluZyA9IGQud2FpdGluZyksIGQuc3VidGl0bGVzPy5sZW5ndGggJiYgKGYuc3VidGl0bGVzID0gZC5zdWJ0aXRsZXMubWFwKChkKSA9PiBZLnRvSlNPTihkKSkpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuIFouZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZVN1YnRpdGxlc1Jlc3BvbnNlKCk7CgkJCQkJcmV0dXJuIGYud2FpdGluZyA9IGQud2FpdGluZyA/PyAhMSwgZi5zdWJ0aXRsZXMgPSBkLnN1YnRpdGxlcz8ubWFwKChkKSA9PiBZLmZyb21QYXJ0aWFsKGQpKSB8fCBbXSwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVN0cmVhbVRyYW5zbGF0aW9uT2JqZWN0KCkgewoJCQkJcmV0dXJuIHsKCQkJCQl1cmw6ICIiLAoJCQkJCXRpbWVzdGFtcDogIiIKCQkJCX07CgkJCX0KCQkJbGV0IFEgPSB7CgkJCQllbmNvZGUoZCwgZiA9IG5ldyBCaW5hcnlXcml0ZXIoKSkgewoJCQkJCXJldHVybiBkLnVybCAhPT0gIiIgJiYgZi51aW50MzIoMTApLnN0cmluZyhkLnVybCksIGQudGltZXN0YW1wICE9PSAiIiAmJiBmLnVpbnQzMigxOCkuc3RyaW5nKGQudGltZXN0YW1wKSwgZjsKCQkJCX0sCgkJCQlkZWNvZGUoZCwgZikgewoJCQkJCWxldCBwID0gZCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlciA/IGQgOiBuZXcgQmluYXJ5UmVhZGVyKGQpLCBtID0gZiA9PT0gdm9pZCAwID8gcC5sZW4gOiBwLnBvcyArIGYsIGggPSBjcmVhdGVCYXNlU3RyZWFtVHJhbnNsYXRpb25PYmplY3QoKTsKCQkJCQlmb3IgKDsgcC5wb3MgPCBtOykgewoJCQkJCQlsZXQgZCA9IHAudWludDMyKCk7CgkJCQkJCXN3aXRjaCAoZCA+Pj4gMykgewoJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCWlmIChkICE9PSAxMCkgYnJlYWs7CgkJCQkJCQkJaC51cmwgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCWlmIChkICE9PSAxOCkgYnJlYWs7CgkJCQkJCQkJaC50aW1lc3RhbXAgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQl1cmw6IGlzU2V0KGQudXJsKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQudXJsKSA6ICIiLAoJCQkJCQl0aW1lc3RhbXA6IGlzU2V0KGQudGltZXN0YW1wKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQudGltZXN0YW1wKSA6ICIiCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQudXJsICE9PSAiIiAmJiAoZi51cmwgPSBkLnVybCksIGQudGltZXN0YW1wICE9PSAiIiAmJiAoZi50aW1lc3RhbXAgPSBkLnRpbWVzdGFtcCksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gUS5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlU3RyZWFtVHJhbnNsYXRpb25PYmplY3QoKTsKCQkJCQlyZXR1cm4gZi51cmwgPSBkLnVybCA/PyAiIiwgZi50aW1lc3RhbXAgPSBkLnRpbWVzdGFtcCA/PyAiIiwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVN0cmVhbVRyYW5zbGF0aW9uUmVxdWVzdCgpIHsKCQkJCXJldHVybiB7CgkJCQkJdXJsOiAiIiwKCQkJCQlsYW5ndWFnZTogIiIsCgkJCQkJcmVzcG9uc2VMYW5ndWFnZTogIiIsCgkJCQkJdW5rbm93bjA6IDAsCgkJCQkJdW5rbm93bjE6IDAKCQkJCX07CgkJCX0KCQkJbGV0IGVlID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC51cmwgIT09ICIiICYmIGYudWludDMyKDEwKS5zdHJpbmcoZC51cmwpLCBkLmxhbmd1YWdlICE9PSAiIiAmJiBmLnVpbnQzMigxOCkuc3RyaW5nKGQubGFuZ3VhZ2UpLCBkLnJlc3BvbnNlTGFuZ3VhZ2UgIT09ICIiICYmIGYudWludDMyKDI2KS5zdHJpbmcoZC5yZXNwb25zZUxhbmd1YWdlKSwgZC51bmtub3duMCAhPT0gMCAmJiBmLnVpbnQzMig0MCkuaW50MzIoZC51bmtub3duMCksIGQudW5rbm93bjEgIT09IDAgJiYgZi51aW50MzIoNDgpLmludDMyKGQudW5rbm93bjEpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VTdHJlYW1UcmFuc2xhdGlvblJlcXVlc3QoKTsKCQkJCQlmb3IgKDsgcC5wb3MgPCBtOykgewoJCQkJCQlsZXQgZCA9IHAudWludDMyKCk7CgkJCQkJCXN3aXRjaCAoZCA+Pj4gMykgewoJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCWlmIChkICE9PSAxMCkgYnJlYWs7CgkJCQkJCQkJaC51cmwgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCWlmIChkICE9PSAxOCkgYnJlYWs7CgkJCQkJCQkJaC5sYW5ndWFnZSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDM6CgkJCQkJCQkJaWYgKGQgIT09IDI2KSBicmVhazsKCQkJCQkJCQloLnJlc3BvbnNlTGFuZ3VhZ2UgPSBwLnN0cmluZygpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJY2FzZSA1OgoJCQkJCQkJCWlmIChkICE9PSA0MCkgYnJlYWs7CgkJCQkJCQkJaC51bmtub3duMCA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgNjoKCQkJCQkJCQlpZiAoZCAhPT0gNDgpIGJyZWFrOwoJCQkJCQkJCWgudW5rbm93bjEgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXVybDogaXNTZXQoZC51cmwpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC51cmwpIDogIiIsCgkJCQkJCWxhbmd1YWdlOiBpc1NldChkLmxhbmd1YWdlKSA/IGdsb2JhbFRoaXMuU3RyaW5nKGQubGFuZ3VhZ2UpIDogIiIsCgkJCQkJCXJlc3BvbnNlTGFuZ3VhZ2U6IGlzU2V0KGQucmVzcG9uc2VMYW5ndWFnZSkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnJlc3BvbnNlTGFuZ3VhZ2UpIDogIiIsCgkJCQkJCXVua25vd24wOiBpc1NldChkLnVua25vd24wKSA/IGdsb2JhbFRoaXMuTnVtYmVyKGQudW5rbm93bjApIDogMCwKCQkJCQkJdW5rbm93bjE6IGlzU2V0KGQudW5rbm93bjEpID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC51bmtub3duMSkgOiAwCgkJCQkJfTsKCQkJCX0sCgkJCQl0b0pTT04oZCkgewoJCQkJCWxldCBmID0ge307CgkJCQkJcmV0dXJuIGQudXJsICE9PSAiIiAmJiAoZi51cmwgPSBkLnVybCksIGQubGFuZ3VhZ2UgIT09ICIiICYmIChmLmxhbmd1YWdlID0gZC5sYW5ndWFnZSksIGQucmVzcG9uc2VMYW5ndWFnZSAhPT0gIiIgJiYgKGYucmVzcG9uc2VMYW5ndWFnZSA9IGQucmVzcG9uc2VMYW5ndWFnZSksIGQudW5rbm93bjAgIT09IDAgJiYgKGYudW5rbm93bjAgPSBNYXRoLnJvdW5kKGQudW5rbm93bjApKSwgZC51bmtub3duMSAhPT0gMCAmJiAoZi51bmtub3duMSA9IE1hdGgucm91bmQoZC51bmtub3duMSkpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuIGVlLmZyb21QYXJ0aWFsKGQgPz8ge30pOwoJCQkJfSwKCQkJCWZyb21QYXJ0aWFsKGQpIHsKCQkJCQlsZXQgZiA9IGNyZWF0ZUJhc2VTdHJlYW1UcmFuc2xhdGlvblJlcXVlc3QoKTsKCQkJCQlyZXR1cm4gZi51cmwgPSBkLnVybCA/PyAiIiwgZi5sYW5ndWFnZSA9IGQubGFuZ3VhZ2UgPz8gIiIsIGYucmVzcG9uc2VMYW5ndWFnZSA9IGQucmVzcG9uc2VMYW5ndWFnZSA/PyAiIiwgZi51bmtub3duMCA9IGQudW5rbm93bjAgPz8gMCwgZi51bmtub3duMSA9IGQudW5rbm93bjEgPz8gMCwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVN0cmVhbVRyYW5zbGF0aW9uUmVzcG9uc2UoKSB7CgkJCQlyZXR1cm4gewoJCQkJCWludGVydmFsOiAwLAoJCQkJCXRyYW5zbGF0ZWRJbmZvOiB2b2lkIDAsCgkJCQkJcGluZ0lkOiB2b2lkIDAKCQkJCX07CgkJCX0KCQkJbGV0IHRlID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC5pbnRlcnZhbCAhPT0gMCAmJiBmLnVpbnQzMig4KS5pbnQzMihkLmludGVydmFsKSwgZC50cmFuc2xhdGVkSW5mbyAhPT0gdm9pZCAwICYmIFEuZW5jb2RlKGQudHJhbnNsYXRlZEluZm8sIGYudWludDMyKDE4KS5mb3JrKCkpLmpvaW4oKSwgZC5waW5nSWQgIT09IHZvaWQgMCAmJiBmLnVpbnQzMigyNCkuaW50MzIoZC5waW5nSWQpLCBmOwoJCQkJfSwKCQkJCWRlY29kZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkIGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gZCA6IG5ldyBCaW5hcnlSZWFkZXIoZCksIG0gPSBmID09PSB2b2lkIDAgPyBwLmxlbiA6IHAucG9zICsgZiwgaCA9IGNyZWF0ZUJhc2VTdHJlYW1UcmFuc2xhdGlvblJlc3BvbnNlKCk7CgkJCQkJZm9yICg7IHAucG9zIDwgbTspIHsKCQkJCQkJbGV0IGQgPSBwLnVpbnQzMigpOwoJCQkJCQlzd2l0Y2ggKGQgPj4+IDMpIHsKCQkJCQkJCWNhc2UgMToKCQkJCQkJCQlpZiAoZCAhPT0gOCkgYnJlYWs7CgkJCQkJCQkJaC5pbnRlcnZhbCA9IHAuaW50MzIoKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMjoKCQkJCQkJCQlpZiAoZCAhPT0gMTgpIGJyZWFrOwoJCQkJCQkJCWgudHJhbnNsYXRlZEluZm8gPSBRLmRlY29kZShwLCBwLnVpbnQzMigpKTsKCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCWNhc2UgMzoKCQkJCQkJCQlpZiAoZCAhPT0gMjQpIGJyZWFrOwoJCQkJCQkJCWgucGluZ0lkID0gcC5pbnQzMigpOwoJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9CgkJCQkJCWlmICgoZCAmIDcpID09IDQgfHwgZCA9PT0gMCkgYnJlYWs7CgkJCQkJCXAuc2tpcChkICYgNyk7CgkJCQkJfQoJCQkJCXJldHVybiBoOwoJCQkJfSwKCQkJCWZyb21KU09OKGQpIHsKCQkJCQlyZXR1cm4gewoJCQkJCQlpbnRlcnZhbDogaXNTZXQoZC5pbnRlcnZhbCkgPyBzdHJlYW1JbnRlcnZhbEZyb21KU09OKGQuaW50ZXJ2YWwpIDogMCwKCQkJCQkJdHJhbnNsYXRlZEluZm86IGlzU2V0KGQudHJhbnNsYXRlZEluZm8pID8gUS5mcm9tSlNPTihkLnRyYW5zbGF0ZWRJbmZvKSA6IHZvaWQgMCwKCQkJCQkJcGluZ0lkOiBpc1NldChkLnBpbmdJZCkgPyBnbG9iYWxUaGlzLk51bWJlcihkLnBpbmdJZCkgOiB2b2lkIDAKCQkJCQl9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC5pbnRlcnZhbCAhPT0gMCAmJiAoZi5pbnRlcnZhbCA9IHN0cmVhbUludGVydmFsVG9KU09OKGQuaW50ZXJ2YWwpKSwgZC50cmFuc2xhdGVkSW5mbyAhPT0gdm9pZCAwICYmIChmLnRyYW5zbGF0ZWRJbmZvID0gUS50b0pTT04oZC50cmFuc2xhdGVkSW5mbykpLCBkLnBpbmdJZCAhPT0gdm9pZCAwICYmIChmLnBpbmdJZCA9IE1hdGgucm91bmQoZC5waW5nSWQpKSwgZjsKCQkJCX0sCgkJCQljcmVhdGUoZCkgewoJCQkJCXJldHVybiB0ZS5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlU3RyZWFtVHJhbnNsYXRpb25SZXNwb25zZSgpOwoJCQkJCXJldHVybiBmLmludGVydmFsID0gZC5pbnRlcnZhbCA/PyAwLCBmLnRyYW5zbGF0ZWRJbmZvID0gZC50cmFuc2xhdGVkSW5mbyAhPT0gdm9pZCAwICYmIGQudHJhbnNsYXRlZEluZm8gIT09IG51bGwgPyBRLmZyb21QYXJ0aWFsKGQudHJhbnNsYXRlZEluZm8pIDogdm9pZCAwLCBmLnBpbmdJZCA9IGQucGluZ0lkID8/IHZvaWQgMCwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVN0cmVhbVBpbmdSZXF1ZXN0KCkgewoJCQkJcmV0dXJuIHsgcGluZ0lkOiAwIH07CgkJCX0KCQkJbGV0ICQgPSB7CgkJCQllbmNvZGUoZCwgZiA9IG5ldyBCaW5hcnlXcml0ZXIoKSkgewoJCQkJCXJldHVybiBkLnBpbmdJZCAhPT0gMCAmJiBmLnVpbnQzMig4KS5pbnQzMihkLnBpbmdJZCksIGY7CgkJCQl9LAoJCQkJZGVjb2RlKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBkIDogbmV3IEJpbmFyeVJlYWRlcihkKSwgbSA9IGYgPT09IHZvaWQgMCA/IHAubGVuIDogcC5wb3MgKyBmLCBoID0gY3JlYXRlQmFzZVN0cmVhbVBpbmdSZXF1ZXN0KCk7CgkJCQkJZm9yICg7IHAucG9zIDwgbTspIHsKCQkJCQkJbGV0IGQgPSBwLnVpbnQzMigpOwoJCQkJCQlzd2l0Y2ggKGQgPj4+IDMpIHsKCQkJCQkJCWNhc2UgMToKCQkJCQkJCQlpZiAoZCAhPT0gOCkgYnJlYWs7CgkJCQkJCQkJaC5waW5nSWQgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7IHBpbmdJZDogaXNTZXQoZC5waW5nSWQpID8gZ2xvYmFsVGhpcy5OdW1iZXIoZC5waW5nSWQpIDogMCB9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC5waW5nSWQgIT09IDAgJiYgKGYucGluZ0lkID0gTWF0aC5yb3VuZChkLnBpbmdJZCkpLCBmOwoJCQkJfSwKCQkJCWNyZWF0ZShkKSB7CgkJCQkJcmV0dXJuICQuZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZVN0cmVhbVBpbmdSZXF1ZXN0KCk7CgkJCQkJcmV0dXJuIGYucGluZ0lkID0gZC5waW5nSWQgPz8gMCwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gY3JlYXRlQmFzZVlhbmRleFNlc3Npb25SZXF1ZXN0KCkgewoJCQkJcmV0dXJuIHsKCQkJCQl1dWlkOiAiIiwKCQkJCQltb2R1bGU6ICIiCgkJCQl9OwoJCQl9CgkJCWxldCBuZSA9IHsKCQkJCWVuY29kZShkLCBmID0gbmV3IEJpbmFyeVdyaXRlcigpKSB7CgkJCQkJcmV0dXJuIGQudXVpZCAhPT0gIiIgJiYgZi51aW50MzIoMTApLnN0cmluZyhkLnV1aWQpLCBkLm1vZHVsZSAhPT0gIiIgJiYgZi51aW50MzIoMTgpLnN0cmluZyhkLm1vZHVsZSksIGY7CgkJCQl9LAoJCQkJZGVjb2RlKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBkIDogbmV3IEJpbmFyeVJlYWRlcihkKSwgbSA9IGYgPT09IHZvaWQgMCA/IHAubGVuIDogcC5wb3MgKyBmLCBoID0gY3JlYXRlQmFzZVlhbmRleFNlc3Npb25SZXF1ZXN0KCk7CgkJCQkJZm9yICg7IHAucG9zIDwgbTspIHsKCQkJCQkJbGV0IGQgPSBwLnVpbnQzMigpOwoJCQkJCQlzd2l0Y2ggKGQgPj4+IDMpIHsKCQkJCQkJCWNhc2UgMToKCQkJCQkJCQlpZiAoZCAhPT0gMTApIGJyZWFrOwoJCQkJCQkJCWgudXVpZCA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE4KSBicmVhazsKCQkJCQkJCQloLm1vZHVsZSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXV1aWQ6IGlzU2V0KGQudXVpZCkgPyBnbG9iYWxUaGlzLlN0cmluZyhkLnV1aWQpIDogIiIsCgkJCQkJCW1vZHVsZTogaXNTZXQoZC5tb2R1bGUpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC5tb2R1bGUpIDogIiIKCQkJCQl9OwoJCQkJfSwKCQkJCXRvSlNPTihkKSB7CgkJCQkJbGV0IGYgPSB7fTsKCQkJCQlyZXR1cm4gZC51dWlkICE9PSAiIiAmJiAoZi51dWlkID0gZC51dWlkKSwgZC5tb2R1bGUgIT09ICIiICYmIChmLm1vZHVsZSA9IGQubW9kdWxlKSwgZjsKCQkJCX0sCgkJCQljcmVhdGUoZCkgewoJCQkJCXJldHVybiBuZS5mcm9tUGFydGlhbChkID8/IHt9KTsKCQkJCX0sCgkJCQlmcm9tUGFydGlhbChkKSB7CgkJCQkJbGV0IGYgPSBjcmVhdGVCYXNlWWFuZGV4U2Vzc2lvblJlcXVlc3QoKTsKCQkJCQlyZXR1cm4gZi51dWlkID0gZC51dWlkID8/ICIiLCBmLm1vZHVsZSA9IGQubW9kdWxlID8/ICIiLCBmOwoJCQkJfQoJCQl9OwoJCQlmdW5jdGlvbiBjcmVhdGVCYXNlWWFuZGV4U2Vzc2lvblJlc3BvbnNlKCkgewoJCQkJcmV0dXJuIHsKCQkJCQlzZWNyZXRLZXk6ICIiLAoJCQkJCWV4cGlyZXM6IDAKCQkJCX07CgkJCX0KCQkJbGV0IHJlID0gewoJCQkJZW5jb2RlKGQsIGYgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHsKCQkJCQlyZXR1cm4gZC5zZWNyZXRLZXkgIT09ICIiICYmIGYudWludDMyKDEwKS5zdHJpbmcoZC5zZWNyZXRLZXkpLCBkLmV4cGlyZXMgIT09IDAgJiYgZi51aW50MzIoMTYpLmludDMyKGQuZXhwaXJlcyksIGY7CgkJCQl9LAoJCQkJZGVjb2RlKGQsIGYpIHsKCQkJCQlsZXQgcCA9IGQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBkIDogbmV3IEJpbmFyeVJlYWRlcihkKSwgbSA9IGYgPT09IHZvaWQgMCA/IHAubGVuIDogcC5wb3MgKyBmLCBoID0gY3JlYXRlQmFzZVlhbmRleFNlc3Npb25SZXNwb25zZSgpOwoJCQkJCWZvciAoOyBwLnBvcyA8IG07KSB7CgkJCQkJCWxldCBkID0gcC51aW50MzIoKTsKCQkJCQkJc3dpdGNoIChkID4+PiAzKSB7CgkJCQkJCQljYXNlIDE6CgkJCQkJCQkJaWYgKGQgIT09IDEwKSBicmVhazsKCQkJCQkJCQloLnNlY3JldEtleSA9IHAuc3RyaW5nKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCQljYXNlIDI6CgkJCQkJCQkJaWYgKGQgIT09IDE2KSBicmVhazsKCQkJCQkJCQloLmV4cGlyZXMgPSBwLmludDMyKCk7CgkJCQkJCQkJY29udGludWU7CgkJCQkJCX0KCQkJCQkJaWYgKChkICYgNykgPT0gNCB8fCBkID09PSAwKSBicmVhazsKCQkJCQkJcC5za2lwKGQgJiA3KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGg7CgkJCQl9LAoJCQkJZnJvbUpTT04oZCkgewoJCQkJCXJldHVybiB7CgkJCQkJCXNlY3JldEtleTogaXNTZXQoZC5zZWNyZXRLZXkpID8gZ2xvYmFsVGhpcy5TdHJpbmcoZC5zZWNyZXRLZXkpIDogIiIsCgkJCQkJCWV4cGlyZXM6IGlzU2V0KGQuZXhwaXJlcykgPyBnbG9iYWxUaGlzLk51bWJlcihkLmV4cGlyZXMpIDogMAoJCQkJCX07CgkJCQl9LAoJCQkJdG9KU09OKGQpIHsKCQkJCQlsZXQgZiA9IHt9OwoJCQkJCXJldHVybiBkLnNlY3JldEtleSAhPT0gIiIgJiYgKGYuc2VjcmV0S2V5ID0gZC5zZWNyZXRLZXkpLCBkLmV4cGlyZXMgIT09IDAgJiYgKGYuZXhwaXJlcyA9IE1hdGgucm91bmQoZC5leHBpcmVzKSksIGY7CgkJCQl9LAoJCQkJY3JlYXRlKGQpIHsKCQkJCQlyZXR1cm4gcmUuZnJvbVBhcnRpYWwoZCA/PyB7fSk7CgkJCQl9LAoJCQkJZnJvbVBhcnRpYWwoZCkgewoJCQkJCWxldCBmID0gY3JlYXRlQmFzZVlhbmRleFNlc3Npb25SZXNwb25zZSgpOwoJCQkJCXJldHVybiBmLnNlY3JldEtleSA9IGQuc2VjcmV0S2V5ID8/ICIiLCBmLmV4cGlyZXMgPSBkLmV4cGlyZXMgPz8gMCwgZjsKCQkJCX0KCQkJfTsKCQkJZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGQpIHsKCQkJCWlmIChnbG9iYWxUaGlzLkJ1ZmZlcikgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGQsICJiYXNlNjQiKSk7CgkJCQl7CgkJCQkJbGV0IGYgPSBnbG9iYWxUaGlzLmF0b2IoZCksIHAgPSBuZXcgVWludDhBcnJheShmLmxlbmd0aCk7CgkJCQkJZm9yIChsZXQgZCA9IDA7IGQgPCBmLmxlbmd0aDsgKytkKSBwW2RdID0gZi5jaGFyQ29kZUF0KGQpOwoJCQkJCXJldHVybiBwOwoJCQkJfQoJCQl9CgkJCWZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhkKSB7CgkJCQlpZiAoZ2xvYmFsVGhpcy5CdWZmZXIpIHJldHVybiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGQpLnRvU3RyaW5nKCJiYXNlNjQiKTsKCQkJCXsKCQkJCQlsZXQgZiA9IFtdOwoJCQkJCXJldHVybiBkLmZvckVhY2goKGQpID0+IHsKCQkJCQkJZi5wdXNoKGdsb2JhbFRoaXMuU3RyaW5nLmZyb21DaGFyQ29kZShkKSk7CgkJCQkJfSksIGdsb2JhbFRoaXMuYnRvYShmLmpvaW4oIiIpKTsKCQkJCX0KCQkJfQoJCQlmdW5jdGlvbiBpc1NldChkKSB7CgkJCQlyZXR1cm4gZCAhPSBudWxsOwoJCQl9CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9zZWN1cmUuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7CgkJCQlDMDogKCkgPT4gZ2V0U2VjWWFIZWFkZXJzLAoJCQkJTUc6ICgpID0+IHYsCgkJCQliVDogKCkgPT4gZ2V0SG1hY1NoYTEsCgkJCQlkRDogKCkgPT4gZ2V0U2lnbmF0dXJlLAoJCQkJeWs6ICgpID0+IGdldFVVSUQKCQkJfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2NvbmZpZy5qcyIpLCBoID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC91dGlscy9sb2dnZXIuanMiKTsKCQkJbGV0IHsgY29tcG9uZW50VmVyc2lvbjogZyB9ID0gbS5BOwoJCQlhc3luYyBmdW5jdGlvbiBnZXRDcnlwdG8oKSB7CgkJCQlyZXR1cm4gdHlwZW9mIHdpbmRvdyA8ICJ1IiAmJiB3aW5kb3cuY3J5cHRvID8gd2luZG93LmNyeXB0byA6IGF3YWl0IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7CgkJCQkJdmFyIGQgPSBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICdub2RlOmNyeXB0byciKTsKCQkJCQl0aHJvdyBkLmNvZGUgPSAiTU9EVUxFX05PVF9GT1VORCIsIGQ7CgkJCQl9KTsKCQkJfQoJCQlsZXQgXyA9IG5ldyBUZXh0RW5jb2RlcigpOwoJCQlhc3luYyBmdW5jdGlvbiBzaWduSE1BQyhkLCBmLCBwKSB7CgkJCQlsZXQgbSA9IGF3YWl0IGdldENyeXB0bygpLCBoID0gYXdhaXQgbS5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLCBfLmVuY29kZShmKSwgewoJCQkJCW5hbWU6ICJITUFDIiwKCQkJCQloYXNoOiB7IG5hbWU6IGQgfQoJCQkJfSwgITEsIFsic2lnbiIsICJ2ZXJpZnkiXSk7CgkJCQlyZXR1cm4gYXdhaXQgbS5zdWJ0bGUuc2lnbigiSE1BQyIsIGgsIHApOwoJCQl9CgkJCWFzeW5jIGZ1bmN0aW9uIGdldFNpZ25hdHVyZShkKSB7CgkJCQlsZXQgZiA9IGF3YWl0IHNpZ25ITUFDKCJTSEEtMjU2IiwgbS5BLmhtYWMsIGQpOwoJCQkJcmV0dXJuIG5ldyBVaW50OEFycmF5KGYpLnJlZHVjZSgoZCwgZikgPT4gZCArIGYudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICIwIiksICIiKTsKCQkJfQoJCQlhc3luYyBmdW5jdGlvbiBnZXRTZWNZYUhlYWRlcnMoZCwgZiwgcCwgbSkgewoJCQkJbGV0IHsgc2VjcmV0S2V5OiBoLCB1dWlkOiB2IH0gPSBmLCBiID0gYCR7dn06JHttfToke2d9YCwgeCA9IF8uZW5jb2RlKGIpLCBDID0gYXdhaXQgZ2V0U2lnbmF0dXJlKHgpOwoJCQkJaWYgKGQgPT09ICJZYS1TdW1tYXJ5IikgcmV0dXJuIHsKCQkJCQlbYFgtJHtkfS1Ta2BdOiBoLAoJCQkJCVtgWC0ke2R9LVRva2VuYF06IGAke0N9OiR7Yn1gCgkJCQl9OwoJCQkJbGV0IHcgPSBhd2FpdCBnZXRTaWduYXR1cmUocCk7CgkJCQlyZXR1cm4gewoJCQkJCVtgJHtkfS1TaWduYXR1cmVgXTogdywKCQkJCQlbYFNlYy0ke2R9LVNrYF06IGgsCgkJCQkJW2BTZWMtJHtkfS1Ub2tlbmBdOiBgJHtDfToke2J9YAoJCQkJfTsKCQkJfQoJCQlmdW5jdGlvbiBnZXRVVUlEKCkgewoJCQkJbGV0IGQgPSAiMDEyMzQ1Njc4OUFCQ0RFRiIsIGYgPSAiIjsKCQkJCWZvciAobGV0IHAgPSAwOyBwIDwgMzI7IHArKykgewoJCQkJCWxldCBwID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpOwoJCQkJCWYgKz0gZFtwXTsKCQkJCX0KCQkJCXJldHVybiBmOwoJCQl9CgkJCWFzeW5jIGZ1bmN0aW9uIGdldEhtYWNTaGExKGQsIGYpIHsKCQkJCXRyeSB7CgkJCQkJbGV0IHAgPSBfLmVuY29kZShmKSwgbSA9IGF3YWl0IHNpZ25ITUFDKCJTSEEtMSIsIGQsIHApOwoJCQkJCXJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkobSkpKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQlyZXR1cm4gaC5BLmVycm9yKGQpLCAhMTsKCQkJCX0KCQkJfQoJCQlsZXQgdiA9IHsKCQkJCSJzZWMtY2gtdWEiOiBgIkNocm9taXVtIjt2PSIxMzQiLCAiWWFCcm93c2VyIjt2PSIke2cuc2xpY2UoMCwgNSl9IiwgIk5vdD9BX0JyYW5kIjt2PSIyNCIsICJZb3dzZXIiO3Y9IjIuNSJgLAoJCQkJInNlYy1jaC11YS1mdWxsLXZlcnNpb24tbGlzdCI6IGAiQ2hyb21pdW0iO3Y9IjEzNC4wLjY5OTguNTQzIiwgIllhQnJvd3NlciI7dj0iJHtnfSIsICJOb3Q/QV9CcmFuZCI7dj0iMjQuMC4wLjAiLCAiWW93c2VyIjt2PSIyLjUiYCwKCQkJCSJTZWMtRmV0Y2gtTW9kZSI6ICJuby1jb3JzIgoJCQl9OwoJCX0sCgkJIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvdHlwZXMvbG9nZ2VyLmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyBUOiAoKSA9PiBtIH0pOwoJCQl2YXIgbTsKCQkJKGZ1bmN0aW9uKGQpIHsKCQkJCWRbZC5ERUJVRyA9IDBdID0gIkRFQlVHIiwgZFtkLklORk8gPSAxXSA9ICJJTkZPIiwgZFtkLldBUk4gPSAyXSA9ICJXQVJOIiwgZFtkLkVSUk9SID0gM10gPSAiRVJST1IiLCBkW2QuU0lMRU5DRSA9IDRdID0gIlNJTEVOQ0UiOwoJCQl9KShtIHx8PSB7fSk7CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC91dGlscy9sb2dnZXIuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7IEE6ICgpID0+IExvZ2dlciB9KTsKCQkJdmFyIG0gPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uZmlnLmpzIiksIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L3R5cGVzL2xvZ2dlci5qcyIpOwoJCQljbGFzcyBMb2dnZXIgewoJCQkJc3RhdGljIHByZWZpeCA9IGBbdm90LmpzIHYke20uQS52ZXJzaW9ufV1gOwoJCQkJc3RhdGljIGNhbkxvZyhkKSB7CgkJCQkJcmV0dXJuIG0uQS5sb2dnZXJMZXZlbCA8PSBkOwoJCQkJfQoJCQkJc3RhdGljIGxvZyguLi5kKSB7CgkJCQkJTG9nZ2VyLmNhbkxvZyhoLlQuREVCVUcpICYmIGNvbnNvbGUubG9nKExvZ2dlci5wcmVmaXgsIC4uLmQpOwoJCQkJfQoJCQkJc3RhdGljIGluZm8oLi4uZCkgewoJCQkJCUxvZ2dlci5jYW5Mb2coaC5ULklORk8pICYmIGNvbnNvbGUuaW5mbyhMb2dnZXIucHJlZml4LCAuLi5kKTsKCQkJCX0KCQkJCXN0YXRpYyB3YXJuKC4uLmQpIHsKCQkJCQlMb2dnZXIuY2FuTG9nKGguVC5XQVJOKSAmJiBjb25zb2xlLndhcm4oTG9nZ2VyLnByZWZpeCwgLi4uZCk7CgkJCQl9CgkJCQlzdGF0aWMgZXJyb3IoLi4uZCkgewoJCQkJCUxvZ2dlci5jYW5Mb2coaC5ULkVSUk9SKSAmJiBjb25zb2xlLmVycm9yKExvZ2dlci5wcmVmaXgsIC4uLmQpOwoJCQkJfQoJCQl9CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC91dGlscy9zdWJzLmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyB2azogKCkgPT4gY29udmVydFN1YnMgfSk7CgkJCWZ1bmN0aW9uIGNvbnZlcnRUb1N0clRpbWUoZCwgZiA9ICIsIikgewoJCQkJbGV0IHAgPSBkIC8gMWUzLCBtID0gTWF0aC5mbG9vcihwIC8gMzYwMCksIGggPSBNYXRoLmZsb29yKHAgJSAzNjAwIC8gNjApLCBnID0gTWF0aC5mbG9vcihwICUgNjApLCBfID0gTWF0aC5mbG9vcihkICUgMWUzKTsKCQkJCXJldHVybiBgJHttLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKX06JHtoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKX06JHtnLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKX0ke2Z9JHtfLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgIjAiKX1gOwoJCQl9CgkJCWZ1bmN0aW9uIGNvbnZlcnRUb01TVGltZShkKSB7CgkJCQlsZXQgZiA9IGQuc3BsaXQoIiAiKT8uWzBdPy5zcGxpdCgiOiIpOwoJCQkJZi5sZW5ndGggPCAzICYmIGYudW5zaGlmdCgiMDAiKTsKCQkJCWxldCBbcCwgbSwgaF0gPSBmLCBnID0gK2gucmVwbGFjZSgvWywuXS8sICIiKSwgXyA9IG0gKiA2ZTQsIHYgPSBwICogMzZlNTsKCQkJCXJldHVybiB2ICsgXyArIGc7CgkJCX0KCQkJZnVuY3Rpb24gY29udmVydFN1YnNGcm9tSlNPTihkLCBmID0gInNydCIpIHsKCQkJCWxldCBwID0gZiA9PT0gInZ0dCIsIG0gPSBwID8gIi4iIDogIiwiLCBoID0gZC5zdWJ0aXRsZXMubWFwKChkLCBmKSA9PiB7CgkJCQkJbGV0IGggPSBwID8gIiIgOiBgJHtmICsgMX1cbmA7CgkJCQkJcmV0dXJuIGggKyBgJHtjb252ZXJ0VG9TdHJUaW1lKGQuc3RhcnRNcywgbSl9IC0tPiAke2NvbnZlcnRUb1N0clRpbWUoZC5zdGFydE1zICsgZC5kdXJhdGlvbk1zLCBtKX1cbiR7ZC50ZXh0fVxuXG5gOwoJCQkJfSkuam9pbigiIikudHJpbSgpOwoJCQkJcmV0dXJuIHAgPyBgV0VCVlRUXG5cbiR7aH1gIDogaDsKCQkJfQoJCQlmdW5jdGlvbiBjb252ZXJ0U3Vic1RvSlNPTihkLCBmID0gInNydCIpIHsKCQkJCWxldCBwID0gZC5zcGxpdCgvXHI/XG5ccj9cbi9nKTsKCQkJCWYgPT09ICJ2dHQiICYmIHAuc2hpZnQoKSwgL15cZCtccj9cbi8uZXhlYyhwPy5bMF0gPz8gIiIpICYmIChmID0gInNydCIpOwoJCQkJbGV0IG0gPSArKGYgPT09ICJzcnQiKSwgaCA9IHAucmVkdWNlKChkLCBmKSA9PiB7CgkJCQkJbGV0IHAgPSBmLnRyaW0oKS5zcGxpdCgiXG4iKSwgaCA9IHBbbV0sIGcgPSBwLnNsaWNlKG0gKyAxKS5qb2luKCJcbiIpOwoJCQkJCWlmICgocC5sZW5ndGggIT09IDIgfHwgIWYuaW5jbHVkZXMoIiAtLT4gIikpICYmICFoPy5pbmNsdWRlcygiIC0tPiAiKSkgcmV0dXJuIGQubGVuZ3RoID09PSAwIHx8IChkW2QubGVuZ3RoIC0gMV0udGV4dCArPSBgXG5cbiR7cC5qb2luKCJcbiIpfWApLCBkOwoJCQkJCWxldCBbXywgdl0gPSBoLnNwbGl0KCIgLS0+ICIpLCBiID0gY29udmVydFRvTVNUaW1lKF8pLCB4ID0gY29udmVydFRvTVNUaW1lKHYpLCBDID0geCAtIGI7CgkJCQkJcmV0dXJuIGQucHVzaCh7CgkJCQkJCXRleHQ6IGcsCgkJCQkJCXN0YXJ0TXM6IGIsCgkJCQkJCWR1cmF0aW9uTXM6IEMsCgkJCQkJCXNwZWFrZXJJZDogIjAiCgkJCQkJfSksIGQ7CgkJCQl9LCBbXSk7CgkJCQlyZXR1cm4gewoJCQkJCWNvbnRhaW5zVG9rZW5zOiAhMSwKCQkJCQlzdWJ0aXRsZXM6IGgKCQkJCX07CgkJCX0KCQkJZnVuY3Rpb24gZ2V0U3Vic0Zvcm1hdChkKSB7CgkJCQlyZXR1cm4gdHlwZW9mIGQgPT0gInN0cmluZyIgPyAvXihXRUJWVFQoW15cbl0rKT8pKFxyP1xuKS8uZXhlYyhkKSA/ICJ2dHQiIDogInNydCIgOiAianNvbiI7CgkJCX0KCQkJZnVuY3Rpb24gY29udmVydFN1YnMoZCwgZiA9ICJzcnQiKSB7CgkJCQlsZXQgcCA9IGdldFN1YnNGb3JtYXQoZCk7CgkJCQlyZXR1cm4gcCA9PT0gZiA/IGQgOiBwID09PSAianNvbiIgPyBjb252ZXJ0U3Vic0Zyb21KU09OKGQsIGYpIDogKGQgPSBjb252ZXJ0U3Vic1RvSlNPTihkLCBwKSwgZiA9PT0gImpzb24iID8gZCA6IGNvbnZlcnRTdWJzRnJvbUpTT04oZCwgZikpOwoJCQl9CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC91dGlscy91dGlscy5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCWVjOiAoKSA9PiBub3JtYWxpemVMYW5nLAoJCQkJZmw6ICgpID0+IHByb3h5TWVkaWEsCgkJCQlsZzogKCkgPT4gZ2V0VGltZXN0YW1wLAoJCQkJdTk6ICgpID0+IGZldGNoV2l0aFRpbWVvdXQKCQkJfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2NvbmZpZy5qcyIpOwoJCQlsZXQgaCA9IHsKCQkJCWFmcjogImFmIiwKCQkJCWFrYTogImFrIiwKCQkJCWFsYjogInNxIiwKCQkJCWFtaDogImFtIiwKCQkJCWFyYTogImFyIiwKCQkJCWFybTogImh5IiwKCQkJCWFzbTogImFzIiwKCQkJCWF5bTogImF5IiwKCQkJCWF6ZTogImF6IiwKCQkJCWJhcTogImV1IiwKCQkJCWJlbDogImJlIiwKCQkJCWJlbjogImJuIiwKCQkJCWJvczogImJzIiwKCQkJCWJ1bDogImJnIiwKCQkJCWJ1cjogIm15IiwKCQkJCWNhdDogImNhIiwKCQkJCWNoaTogInpoIiwKCQkJCWNvczogImNvIiwKCQkJCWN6ZTogImNzIiwKCQkJCWRhbjogImRhIiwKCQkJCWRpdjogImR2IiwKCQkJCWR1dDogIm5sIiwKCQkJCWVuZzogImVuIiwKCQkJCWVwbzogImVvIiwKCQkJCWVzdDogImV0IiwKCQkJCWV3ZTogImVlIiwKCQkJCWZpbjogImZpIiwKCQkJCWZyZTogImZyIiwKCQkJCWZyeTogImZ5IiwKCQkJCWdlbzogImthIiwKCQkJCWdlcjogImRlIiwKCQkJCWdsYTogImdkIiwKCQkJCWdsZTogImdhIiwKCQkJCWdsZzogImdsIiwKCQkJCWdyZTogImVsIiwKCQkJCWdybjogImduIiwKCQkJCWd1ajogImd1IiwKCQkJCWhhdDogImh0IiwKCQkJCWhhdTogImhhIiwKCQkJCWhpbjogImhpIiwKCQkJCWhydjogImhyIiwKCQkJCWh1bjogImh1IiwKCQkJCWlibzogImlnIiwKCQkJCWljZTogImlzIiwKCQkJCWluZDogImlkIiwKCQkJCWl0YTogIml0IiwKCQkJCWphdjogImp2IiwKCQkJCWpwbjogImphIiwKCQkJCWthbjogImtuIiwKCQkJCWthejogImtrIiwKCQkJCWtobTogImttIiwKCQkJCWtpbjogInJ3IiwKCQkJCWtpcjogImt5IiwKCQkJCWtvcjogImtvIiwKCQkJCWt1cjogImt1IiwKCQkJCWxhbzogImxvIiwKCQkJCWxhdDogImxhIiwKCQkJCWxhdjogImx2IiwKCQkJCWxpbjogImxuIiwKCQkJCWxpdDogImx0IiwKCQkJCWx0ejogImxiIiwKCQkJCWx1ZzogImxnIiwKCQkJCW1hYzogIm1rIiwKCQkJCW1hbDogIm1sIiwKCQkJCW1hbzogIm1pIiwKCQkJCW1hcjogIm1yIiwKCQkJCW1heTogIm1zIiwKCQkJCW1sZzogIm1nIiwKCQkJCW1sdDogIm10IiwKCQkJCW1vbjogIm1uIiwKCQkJCW5lcDogIm5lIiwKCQkJCW5vcjogIm5vIiwKCQkJCW55YTogIm55IiwKCQkJCW9yaTogIm9yIiwKCQkJCW9ybTogIm9tIiwKCQkJCXBhbjogInBhIiwKCQkJCXBlcjogImZhIiwKCQkJCXBvbDogInBsIiwKCQkJCXBvcjogInB0IiwKCQkJCXB1czogInBzIiwKCQkJCXF1ZTogInF1IiwKCQkJCXJ1bTogInJvIiwKCQkJCXJ1czogInJ1IiwKCQkJCXNhbjogInNhIiwKCQkJCXNpbjogInNpIiwKCQkJCXNsbzogInNrIiwKCQkJCXNsdjogInNsIiwKCQkJCXNtbzogInNtIiwKCQkJCXNuYTogInNuIiwKCQkJCXNuZDogInNkIiwKCQkJCXNvbTogInNvIiwKCQkJCXNvdDogInN0IiwKCQkJCXNwYTogImVzIiwKCQkJCXNycDogInNyIiwKCQkJCXN1bjogInN1IiwKCQkJCXN3YTogInN3IiwKCQkJCXN3ZTogInN2IiwKCQkJCXRhbTogInRhIiwKCQkJCXRhdDogInR0IiwKCQkJCXRlbDogInRlIiwKCQkJCXRnazogInRnIiwKCQkJCXRoYTogInRoIiwKCQkJCXRpcjogInRpIiwKCQkJCXRzbzogInRzIiwKCQkJCXR1azogInRrIiwKCQkJCXR1cjogInRyIiwKCQkJCXVpZzogInVnIiwKCQkJCXVrcjogInVrIiwKCQkJCXVyZDogInVyIiwKCQkJCXV6YjogInV6IiwKCQkJCXZpZTogInZpIiwKCQkJCXdlbDogImN5IiwKCQkJCXhobzogInhoIiwKCQkJCXlpZDogInlpIiwKCQkJCXlvcjogInlvIiwKCQkJCXp1bDogInp1IgoJCQl9OwoJCQlhc3luYyBmdW5jdGlvbiBmZXRjaFdpdGhUaW1lb3V0KGQsIGYgPSB7IGhlYWRlcnM6IHsgIlVzZXItQWdlbnQiOiBtLkEudXNlckFnZW50IH0gfSkgewoJCQkJbGV0IHsgdGltZW91dDogcCA9IDNlMywuLi5oIH0gPSBmLCBnID0gbmV3IEFib3J0Q29udHJvbGxlcigpLCBfID0gc2V0VGltZW91dCgoKSA9PiBnLmFib3J0KCksIHApLCB2ID0gYXdhaXQgZmV0Y2goZCwgewoJCQkJCXNpZ25hbDogZy5zaWduYWwsCgkJCQkJLi4uaAoJCQkJfSk7CgkJCQlyZXR1cm4gY2xlYXJUaW1lb3V0KF8pLCB2OwoJCQl9CgkJCWZ1bmN0aW9uIGdldFRpbWVzdGFtcCgpIHsKCQkJCXJldHVybiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxZTMpOwoJCQl9CgkJCWZ1bmN0aW9uIG5vcm1hbGl6ZUxhbmcoZCkgewoJCQkJcmV0dXJuIGQubGVuZ3RoID09PSAzID8gaFtkXSA6IGQudG9Mb3dlckNhc2UoKS5zcGxpdCgvW187LV0vKVswXS50cmltKCk7CgkJCX0KCQkJZnVuY3Rpb24gcHJveHlNZWRpYShkLCBmID0gIm1wNCIpIHsKCQkJCWxldCBwID0gYGh0dHBzOi8vJHttLkEubWVkaWFQcm94eX0vdjEvcHJveHkvdmlkZW8uJHtmfT9mb3JtYXQ9YmFzZTY0JmZvcmNlPXRydWVgOwoJCQkJcmV0dXJuIGQgaW5zdGFuY2VvZiBVUkwgPyBgJHtwfSZ1cmw9JHtidG9hKGQuaHJlZil9Jm9yaWdpbj0ke2Qub3JpZ2lufSZyZWZlcmVyPSR7ZC5vcmlnaW59YCA6IGAke3B9JnVybD0ke2J0b2EoZCl9YDsKCQkJfQoJCX0sCgkJIi4vbm9kZV9tb2R1bGVzL2Jvd3Nlci9lczUuanMiOiBmdW5jdGlvbihkKSB7CgkJCShmdW5jdGlvbihmLCBwKSB7CgkJCQlkLmV4cG9ydHMgPSBwKCk7CgkJCX0pKHRoaXMsIGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuIGZ1bmN0aW9uKGQpIHsKCQkJCQl2YXIgZiA9IHt9OwoJCQkJCWZ1bmN0aW9uIHIocCkgewoJCQkJCQlpZiAoZltwXSkgcmV0dXJuIGZbcF0uZXhwb3J0czsKCQkJCQkJdmFyIG0gPSBmW3BdID0gewoJCQkJCQkJaTogcCwKCQkJCQkJCWw6ICExLAoJCQkJCQkJZXhwb3J0czoge30KCQkJCQkJfTsKCQkJCQkJcmV0dXJuIGRbcF0uY2FsbChtLmV4cG9ydHMsIG0sIG0uZXhwb3J0cywgciksIG0ubCA9ICEwLCBtLmV4cG9ydHM7CgkJCQkJfQoJCQkJCXJldHVybiByLm0gPSBkLCByLmMgPSBmLCByLmQgPSBmdW5jdGlvbihkLCBmLCBwKSB7CgkJCQkJCXIubyhkLCBmKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZCwgZiwgewoJCQkJCQkJZW51bWVyYWJsZTogITAsCgkJCQkJCQlnZXQ6IHAKCQkJCQkJfSk7CgkJCQkJfSwgci5yID0gZnVuY3Rpb24oZCkgewoJCQkJCQl0eXBlb2YgU3ltYm9sIDwgInUiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZCwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAiTW9kdWxlIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGQsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogITAgfSk7CgkJCQkJfSwgci50ID0gZnVuY3Rpb24oZCwgZikgewoJCQkJCQlpZiAoMSAmIGYgJiYgKGQgPSByKGQpKSwgOCAmIGYgfHwgNCAmIGYgJiYgdHlwZW9mIGQgPT0gIm9iamVjdCIgJiYgZCAmJiBkLl9fZXNNb2R1bGUpIHJldHVybiBkOwoJCQkJCQl2YXIgcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgkJCQkJCWlmIChyLnIocCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLCAiZGVmYXVsdCIsIHsKCQkJCQkJCWVudW1lcmFibGU6ICEwLAoJCQkJCQkJdmFsdWU6IGQKCQkJCQkJfSksIDIgJiBmICYmIHR5cGVvZiBkICE9ICJzdHJpbmciKSBmb3IgKHZhciBtIGluIGQpIHIuZChwLCBtLCBmdW5jdGlvbihmKSB7CgkJCQkJCQlyZXR1cm4gZFtmXTsKCQkJCQkJfS5iaW5kKG51bGwsIG0pKTsKCQkJCQkJcmV0dXJuIHA7CgkJCQkJfSwgci5uID0gZnVuY3Rpb24oZCkgewoJCQkJCQl2YXIgZiA9IGQgJiYgZC5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gZC5kZWZhdWx0OwoJCQkJCQl9IDogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gZDsKCQkJCQkJfTsKCQkJCQkJcmV0dXJuIHIuZChmLCAiYSIsIGYpLCBmOwoJCQkJCX0sIHIubyA9IGZ1bmN0aW9uKGQsIGYpIHsKCQkJCQkJcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLCBmKTsKCQkJCQl9LCByLnAgPSAiIiwgcihyLnMgPSA5MCk7CgkJCQl9KHsKCQkJCQkxNzogZnVuY3Rpb24oZCwgZiwgcCkgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCWYuX19lc01vZHVsZSA9ICEwLCBmLmRlZmF1bHQgPSB2b2lkIDA7CgkJCQkJCXZhciBtID0gcCgxOCksIGggPSBmdW5jdGlvbigpIHsKCQkJCQkJCWZ1bmN0aW9uIGUoKSB7fQoJCQkJCQkJcmV0dXJuIGUuZ2V0Rmlyc3RNYXRjaCA9IGZ1bmN0aW9uKGQsIGYpIHsKCQkJCQkJCQl2YXIgcCA9IGYubWF0Y2goZCk7CgkJCQkJCQkJcmV0dXJuIHAgJiYgcC5sZW5ndGggPiAwICYmIHBbMV0gfHwgIiI7CgkJCQkJCQl9LCBlLmdldFNlY29uZE1hdGNoID0gZnVuY3Rpb24oZCwgZikgewoJCQkJCQkJCXZhciBwID0gZi5tYXRjaChkKTsKCQkJCQkJCQlyZXR1cm4gcCAmJiBwLmxlbmd0aCA+IDEgJiYgcFsyXSB8fCAiIjsKCQkJCQkJCX0sIGUubWF0Y2hBbmRSZXR1cm5Db25zdCA9IGZ1bmN0aW9uKGQsIGYsIHApIHsKCQkJCQkJCQlpZiAoZC50ZXN0KGYpKSByZXR1cm4gcDsKCQkJCQkJCX0sIGUuZ2V0V2luZG93c1ZlcnNpb25OYW1lID0gZnVuY3Rpb24oZCkgewoJCQkJCQkJCXN3aXRjaCAoZCkgewoJCQkJCQkJCQljYXNlICJOVCI6IHJldHVybiAiTlQiOwoJCQkJCQkJCQljYXNlICJYUCI6IHJldHVybiAiWFAiOwoJCQkJCQkJCQljYXNlICJOVCA1LjAiOiByZXR1cm4gIjIwMDAiOwoJCQkJCQkJCQljYXNlICJOVCA1LjEiOiByZXR1cm4gIlhQIjsKCQkJCQkJCQkJY2FzZSAiTlQgNS4yIjogcmV0dXJuICIyMDAzIjsKCQkJCQkJCQkJY2FzZSAiTlQgNi4wIjogcmV0dXJuICJWaXN0YSI7CgkJCQkJCQkJCWNhc2UgIk5UIDYuMSI6IHJldHVybiAiNyI7CgkJCQkJCQkJCWNhc2UgIk5UIDYuMiI6IHJldHVybiAiOCI7CgkJCQkJCQkJCWNhc2UgIk5UIDYuMyI6IHJldHVybiAiOC4xIjsKCQkJCQkJCQkJY2FzZSAiTlQgMTAuMCI6IHJldHVybiAiMTAiOwoJCQkJCQkJCQlkZWZhdWx0OiByZXR1cm47CgkJCQkJCQkJfQoJCQkJCQkJfSwgZS5nZXRNYWNPU1ZlcnNpb25OYW1lID0gZnVuY3Rpb24oZCkgewoJCQkJCQkJCXZhciBmID0gZC5zcGxpdCgiLiIpLnNwbGljZSgwLCAyKS5tYXAoZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlyZXR1cm4gcGFyc2VJbnQoZCwgMTApIHx8IDA7CgkJCQkJCQkJfSk7CgkJCQkJCQkJaWYgKGYucHVzaCgwKSwgZlswXSA9PT0gMTApIHN3aXRjaCAoZlsxXSkgewoJCQkJCQkJCQljYXNlIDU6IHJldHVybiAiTGVvcGFyZCI7CgkJCQkJCQkJCWNhc2UgNjogcmV0dXJuICJTbm93IExlb3BhcmQiOwoJCQkJCQkJCQljYXNlIDc6IHJldHVybiAiTGlvbiI7CgkJCQkJCQkJCWNhc2UgODogcmV0dXJuICJNb3VudGFpbiBMaW9uIjsKCQkJCQkJCQkJY2FzZSA5OiByZXR1cm4gIk1hdmVyaWNrcyI7CgkJCQkJCQkJCWNhc2UgMTA6IHJldHVybiAiWW9zZW1pdGUiOwoJCQkJCQkJCQljYXNlIDExOiByZXR1cm4gIkVsIENhcGl0YW4iOwoJCQkJCQkJCQljYXNlIDEyOiByZXR1cm4gIlNpZXJyYSI7CgkJCQkJCQkJCWNhc2UgMTM6IHJldHVybiAiSGlnaCBTaWVycmEiOwoJCQkJCQkJCQljYXNlIDE0OiByZXR1cm4gIk1vamF2ZSI7CgkJCQkJCQkJCWNhc2UgMTU6IHJldHVybiAiQ2F0YWxpbmEiOwoJCQkJCQkJCQlkZWZhdWx0OiByZXR1cm47CgkJCQkJCQkJfQoJCQkJCQkJfSwgZS5nZXRBbmRyb2lkVmVyc2lvbk5hbWUgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJdmFyIGYgPSBkLnNwbGl0KCIuIikuc3BsaWNlKDAsIDIpLm1hcChmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXJldHVybiBwYXJzZUludChkLCAxMCkgfHwgMDsKCQkJCQkJCQl9KTsKCQkJCQkJCQlpZiAoZi5wdXNoKDApLCAhKGZbMF0gPT09IDEgJiYgZlsxXSA8IDUpKSByZXR1cm4gZlswXSA9PT0gMSAmJiBmWzFdIDwgNiA/ICJDdXBjYWtlIiA6IGZbMF0gPT09IDEgJiYgZlsxXSA+PSA2ID8gIkRvbnV0IiA6IGZbMF0gPT09IDIgJiYgZlsxXSA8IDIgPyAiRWNsYWlyIiA6IGZbMF0gPT09IDIgJiYgZlsxXSA9PT0gMiA/ICJGcm95byIgOiBmWzBdID09PSAyICYmIGZbMV0gPiAyID8gIkdpbmdlcmJyZWFkIiA6IGZbMF0gPT09IDMgPyAiSG9uZXljb21iIiA6IGZbMF0gPT09IDQgJiYgZlsxXSA8IDEgPyAiSWNlIENyZWFtIFNhbmR3aWNoIiA6IGZbMF0gPT09IDQgJiYgZlsxXSA8IDQgPyAiSmVsbHkgQmVhbiIgOiBmWzBdID09PSA0ICYmIGZbMV0gPj0gNCA/ICJLaXRLYXQiIDogZlswXSA9PT0gNSA/ICJMb2xsaXBvcCIgOiBmWzBdID09PSA2ID8gIk1hcnNobWFsbG93IiA6IGZbMF0gPT09IDcgPyAiTm91Z2F0IiA6IGZbMF0gPT09IDggPyAiT3JlbyIgOiBmWzBdID09PSA5ID8gIlBpZSIgOiB2b2lkIDA7CgkJCQkJCQl9LCBlLmdldFZlcnNpb25QcmVjaXNpb24gPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJcmV0dXJuIGQuc3BsaXQoIi4iKS5sZW5ndGg7CgkJCQkJCQl9LCBlLmNvbXBhcmVWZXJzaW9ucyA9IGZ1bmN0aW9uKGQsIGYsIHApIHsKCQkJCQkJCQlwID09PSB2b2lkIDAgJiYgKHAgPSAhMSk7CgkJCQkJCQkJdmFyIG0gPSBlLmdldFZlcnNpb25QcmVjaXNpb24oZCksIGggPSBlLmdldFZlcnNpb25QcmVjaXNpb24oZiksIGcgPSBNYXRoLm1heChtLCBoKSwgXyA9IDAsIHYgPSBlLm1hcChbZCwgZl0sIGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSBnIC0gZS5nZXRWZXJzaW9uUHJlY2lzaW9uKGQpLCBwID0gZCArIEFycmF5KGYgKyAxKS5qb2luKCIuMCIpOwoJCQkJCQkJCQlyZXR1cm4gZS5tYXAocC5zcGxpdCgiLiIpLCBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCQlyZXR1cm4gQXJyYXkoMjAgLSBkLmxlbmd0aCkuam9pbigiMCIpICsgZDsKCQkJCQkJCQkJfSkucmV2ZXJzZSgpOwoJCQkJCQkJCX0pOwoJCQkJCQkJCWZvciAocCAmJiAoXyA9IGcgLSBNYXRoLm1pbihtLCBoKSksIC0tZzsgZyA+PSBfOykgewoJCQkJCQkJCQlpZiAodlswXVtnXSA+IHZbMV1bZ10pIHJldHVybiAxOwoJCQkJCQkJCQlpZiAodlswXVtnXSA9PT0gdlsxXVtnXSkgewoJCQkJCQkJCQkJaWYgKGcgPT09IF8pIHJldHVybiAwOwoJCQkJCQkJCQkJLS1nOwoJCQkJCQkJCQl9IGVsc2UgaWYgKHZbMF1bZ10gPCB2WzFdW2ddKSByZXR1cm4gLTE7CgkJCQkJCQkJfQoJCQkJCQkJfSwgZS5tYXAgPSBmdW5jdGlvbihkLCBmKSB7CgkJCQkJCQkJdmFyIHAsIG0gPSBbXTsKCQkJCQkJCQlpZiAoQXJyYXkucHJvdG90eXBlLm1hcCkgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChkLCBmKTsKCQkJCQkJCQlmb3IgKHAgPSAwOyBwIDwgZC5sZW5ndGg7IHAgKz0gMSkgbS5wdXNoKGYoZFtwXSkpOwoJCQkJCQkJCXJldHVybiBtOwoJCQkJCQkJfSwgZS5maW5kID0gZnVuY3Rpb24oZCwgZikgewoJCQkJCQkJCXZhciBwLCBtOwoJCQkJCQkJCWlmIChBcnJheS5wcm90b3R5cGUuZmluZCkgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZCwgZik7CgkJCQkJCQkJZm9yIChwID0gMCwgbSA9IGQubGVuZ3RoOyBwIDwgbTsgcCArPSAxKSB7CgkJCQkJCQkJCXZhciBoID0gZFtwXTsKCQkJCQkJCQkJaWYgKGYoaCwgcCkpIHJldHVybiBoOwoJCQkJCQkJCX0KCQkJCQkJCX0sIGUuYXNzaWduID0gZnVuY3Rpb24oZCkgewoJCQkJCQkJCWZvciAodmFyIGYsIHAsIG0gPSBkLCBoID0gYXJndW1lbnRzLmxlbmd0aCwgZyA9IEFycmF5KGggPiAxID8gaCAtIDEgOiAwKSwgXyA9IDE7IF8gPCBoOyBfKyspIGdbXyAtIDFdID0gYXJndW1lbnRzW19dOwoJCQkJCQkJCWlmIChPYmplY3QuYXNzaWduKSByZXR1cm4gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIFtkXS5jb25jYXQoZykpOwoJCQkJCQkJCXZhciBvID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXZhciBkID0gZ1tmXTsKCQkJCQkJCQkJdHlwZW9mIGQgPT0gIm9iamVjdCIgJiYgZCAmJiBPYmplY3Qua2V5cyhkKS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHsKCQkJCQkJCQkJCW1bZl0gPSBkW2ZdOwoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9OwoJCQkJCQkJCWZvciAoZiA9IDAsIHAgPSBnLmxlbmd0aDsgZiA8IHA7IGYgKz0gMSkgbygpOwoJCQkJCQkJCXJldHVybiBkOwoJCQkJCQkJfSwgZS5nZXRCcm93c2VyQWxpYXMgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJcmV0dXJuIG0uQlJPV1NFUl9BTElBU0VTX01BUFtkXTsKCQkJCQkJCX0sIGUuZ2V0QnJvd3NlclR5cGVCeUFsaWFzID0gZnVuY3Rpb24oZCkgewoJCQkJCQkJCXJldHVybiBtLkJST1dTRVJfTUFQW2RdIHx8ICIiOwoJCQkJCQkJfSwgZTsKCQkJCQkJfSgpOwoJCQkJCQlmLmRlZmF1bHQgPSBoLCBkLmV4cG9ydHMgPSBmLmRlZmF1bHQ7CgkJCQkJfSwKCQkJCQkxODogZnVuY3Rpb24oZCwgZiwgcCkgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCWYuX19lc01vZHVsZSA9ICEwLCBmLkVOR0lORV9NQVAgPSBmLk9TX01BUCA9IGYuUExBVEZPUk1TX01BUCA9IGYuQlJPV1NFUl9NQVAgPSBmLkJST1dTRVJfQUxJQVNFU19NQVAgPSB2b2lkIDAsIGYuQlJPV1NFUl9BTElBU0VTX01BUCA9IHsKCQkJCQkJCSJBbWF6b24gU2lsayI6ICJhbWF6b25fc2lsayIsCgkJCQkJCQkiQW5kcm9pZCBCcm93c2VyIjogImFuZHJvaWQiLAoJCQkJCQkJQmFkYTogImJhZGEiLAoJCQkJCQkJQmxhY2tCZXJyeTogImJsYWNrYmVycnkiLAoJCQkJCQkJQ2hyb21lOiAiY2hyb21lIiwKCQkJCQkJCUNocm9taXVtOiAiY2hyb21pdW0iLAoJCQkJCQkJRWxlY3Ryb246ICJlbGVjdHJvbiIsCgkJCQkJCQlFcGlwaGFueTogImVwaXBoYW55IiwKCQkJCQkJCUZpcmVmb3g6ICJmaXJlZm94IiwKCQkJCQkJCUZvY3VzOiAiZm9jdXMiLAoJCQkJCQkJR2VuZXJpYzogImdlbmVyaWMiLAoJCQkJCQkJIkdvb2dsZSBTZWFyY2giOiAiZ29vZ2xlX3NlYXJjaCIsCgkJCQkJCQlHb29nbGVib3Q6ICJnb29nbGVib3QiLAoJCQkJCQkJIkludGVybmV0IEV4cGxvcmVyIjogImllIiwKCQkJCQkJCSJLLU1lbGVvbiI6ICJrX21lbGVvbiIsCgkJCQkJCQlNYXh0aG9uOiAibWF4dGhvbiIsCgkJCQkJCQkiTWljcm9zb2Z0IEVkZ2UiOiAiZWRnZSIsCgkJCQkJCQkiTVogQnJvd3NlciI6ICJteiIsCgkJCQkJCQkiTkFWRVIgV2hhbGUgQnJvd3NlciI6ICJuYXZlciIsCgkJCQkJCQlPcGVyYTogIm9wZXJhIiwKCQkJCQkJCSJPcGVyYSBDb2FzdCI6ICJvcGVyYV9jb2FzdCIsCgkJCQkJCQlQaGFudG9tSlM6ICJwaGFudG9tanMiLAoJCQkJCQkJUHVmZmluOiAicHVmZmluIiwKCQkJCQkJCVF1cFppbGxhOiAicXVwemlsbGEiLAoJCQkJCQkJUVE6ICJxcSIsCgkJCQkJCQlRUUxpdGU6ICJxcWxpdGUiLAoJCQkJCQkJU2FmYXJpOiAic2FmYXJpIiwKCQkJCQkJCVNhaWxmaXNoOiAic2FpbGZpc2giLAoJCQkJCQkJIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWQiOiAic2Ftc3VuZ19pbnRlcm5ldCIsCgkJCQkJCQlTZWFNb25rZXk6ICJzZWFtb25rZXkiLAoJCQkJCQkJU2xlaXBuaXI6ICJzbGVpcG5pciIsCgkJCQkJCQlTd2luZzogInN3aW5nIiwKCQkJCQkJCVRpemVuOiAidGl6ZW4iLAoJCQkJCQkJIlVDIEJyb3dzZXIiOiAidWMiLAoJCQkJCQkJVml2YWxkaTogInZpdmFsZGkiLAoJCQkJCQkJIldlYk9TIEJyb3dzZXIiOiAid2Vib3MiLAoJCQkJCQkJV2VDaGF0OiAid2VjaGF0IiwKCQkJCQkJCSJZYW5kZXggQnJvd3NlciI6ICJ5YW5kZXgiLAoJCQkJCQkJUm9rdTogInJva3UiCgkJCQkJCX0sIGYuQlJPV1NFUl9NQVAgPSB7CgkJCQkJCQlhbWF6b25fc2lsazogIkFtYXpvbiBTaWxrIiwKCQkJCQkJCWFuZHJvaWQ6ICJBbmRyb2lkIEJyb3dzZXIiLAoJCQkJCQkJYmFkYTogIkJhZGEiLAoJCQkJCQkJYmxhY2tiZXJyeTogIkJsYWNrQmVycnkiLAoJCQkJCQkJY2hyb21lOiAiQ2hyb21lIiwKCQkJCQkJCWNocm9taXVtOiAiQ2hyb21pdW0iLAoJCQkJCQkJZWxlY3Ryb246ICJFbGVjdHJvbiIsCgkJCQkJCQllcGlwaGFueTogIkVwaXBoYW55IiwKCQkJCQkJCWZpcmVmb3g6ICJGaXJlZm94IiwKCQkJCQkJCWZvY3VzOiAiRm9jdXMiLAoJCQkJCQkJZ2VuZXJpYzogIkdlbmVyaWMiLAoJCQkJCQkJZ29vZ2xlYm90OiAiR29vZ2xlYm90IiwKCQkJCQkJCWdvb2dsZV9zZWFyY2g6ICJHb29nbGUgU2VhcmNoIiwKCQkJCQkJCWllOiAiSW50ZXJuZXQgRXhwbG9yZXIiLAoJCQkJCQkJa19tZWxlb246ICJLLU1lbGVvbiIsCgkJCQkJCQltYXh0aG9uOiAiTWF4dGhvbiIsCgkJCQkJCQllZGdlOiAiTWljcm9zb2Z0IEVkZ2UiLAoJCQkJCQkJbXo6ICJNWiBCcm93c2VyIiwKCQkJCQkJCW5hdmVyOiAiTkFWRVIgV2hhbGUgQnJvd3NlciIsCgkJCQkJCQlvcGVyYTogIk9wZXJhIiwKCQkJCQkJCW9wZXJhX2NvYXN0OiAiT3BlcmEgQ29hc3QiLAoJCQkJCQkJcGhhbnRvbWpzOiAiUGhhbnRvbUpTIiwKCQkJCQkJCXB1ZmZpbjogIlB1ZmZpbiIsCgkJCQkJCQlxdXB6aWxsYTogIlF1cFppbGxhIiwKCQkJCQkJCXFxOiAiUVEgQnJvd3NlciIsCgkJCQkJCQlxcWxpdGU6ICJRUSBCcm93c2VyIExpdGUiLAoJCQkJCQkJc2FmYXJpOiAiU2FmYXJpIiwKCQkJCQkJCXNhaWxmaXNoOiAiU2FpbGZpc2giLAoJCQkJCQkJc2Ftc3VuZ19pbnRlcm5ldDogIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWQiLAoJCQkJCQkJc2VhbW9ua2V5OiAiU2VhTW9ua2V5IiwKCQkJCQkJCXNsZWlwbmlyOiAiU2xlaXBuaXIiLAoJCQkJCQkJc3dpbmc6ICJTd2luZyIsCgkJCQkJCQl0aXplbjogIlRpemVuIiwKCQkJCQkJCXVjOiAiVUMgQnJvd3NlciIsCgkJCQkJCQl2aXZhbGRpOiAiVml2YWxkaSIsCgkJCQkJCQl3ZWJvczogIldlYk9TIEJyb3dzZXIiLAoJCQkJCQkJd2VjaGF0OiAiV2VDaGF0IiwKCQkJCQkJCXlhbmRleDogIllhbmRleCBCcm93c2VyIgoJCQkJCQl9LCBmLlBMQVRGT1JNU19NQVAgPSB7CgkJCQkJCQl0YWJsZXQ6ICJ0YWJsZXQiLAoJCQkJCQkJbW9iaWxlOiAibW9iaWxlIiwKCQkJCQkJCWRlc2t0b3A6ICJkZXNrdG9wIiwKCQkJCQkJCXR2OiAidHYiCgkJCQkJCX0sIGYuT1NfTUFQID0gewoJCQkJCQkJV2luZG93c1Bob25lOiAiV2luZG93cyBQaG9uZSIsCgkJCQkJCQlXaW5kb3dzOiAiV2luZG93cyIsCgkJCQkJCQlNYWNPUzogIm1hY09TIiwKCQkJCQkJCWlPUzogImlPUyIsCgkJCQkJCQlBbmRyb2lkOiAiQW5kcm9pZCIsCgkJCQkJCQlXZWJPUzogIldlYk9TIiwKCQkJCQkJCUJsYWNrQmVycnk6ICJCbGFja0JlcnJ5IiwKCQkJCQkJCUJhZGE6ICJCYWRhIiwKCQkJCQkJCVRpemVuOiAiVGl6ZW4iLAoJCQkJCQkJTGludXg6ICJMaW51eCIsCgkJCQkJCQlDaHJvbWVPUzogIkNocm9tZSBPUyIsCgkJCQkJCQlQbGF5U3RhdGlvbjQ6ICJQbGF5U3RhdGlvbiA0IiwKCQkJCQkJCVJva3U6ICJSb2t1IgoJCQkJCQl9LCBmLkVOR0lORV9NQVAgPSB7CgkJCQkJCQlFZGdlSFRNTDogIkVkZ2VIVE1MIiwKCQkJCQkJCUJsaW5rOiAiQmxpbmsiLAoJCQkJCQkJVHJpZGVudDogIlRyaWRlbnQiLAoJCQkJCQkJUHJlc3RvOiAiUHJlc3RvIiwKCQkJCQkJCUdlY2tvOiAiR2Vja28iLAoJCQkJCQkJV2ViS2l0OiAiV2ViS2l0IgoJCQkJCQl9OwoJCQkJCX0sCgkJCQkJOTA6IGZ1bmN0aW9uKGQsIGYsIHApIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoJCQkJCQlmLl9fZXNNb2R1bGUgPSAhMCwgZi5kZWZhdWx0ID0gdm9pZCAwOwoJCQkJCQl2YXIgbSwgaCA9IChtID0gcCg5MSkpICYmIG0uX19lc01vZHVsZSA/IG0gOiB7IGRlZmF1bHQ6IG0gfSwgZyA9IHAoMTgpOwoJCQkJCQlmdW5jdGlvbiBhKGQsIGYpIHsKCQkJCQkJCWZvciAodmFyIHAgPSAwOyBwIDwgZi5sZW5ndGg7IHArKykgewoJCQkJCQkJCXZhciBtID0gZltwXTsKCQkJCQkJCQltLmVudW1lcmFibGUgPSBtLmVudW1lcmFibGUgfHwgITEsIG0uY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gbSAmJiAobS53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIG0ua2V5LCBtKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQl2YXIgXyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJZnVuY3Rpb24gZSgpIHt9CgkJCQkJCQl2YXIgZCwgZiwgcDsKCQkJCQkJCXJldHVybiBlLmdldFBhcnNlciA9IGZ1bmN0aW9uKGQsIGYpIHsKCQkJCQkJCQlpZiAoZiA9PT0gdm9pZCAwICYmIChmID0gITEpLCB0eXBlb2YgZCAhPSAic3RyaW5nIikgdGhyb3cgRXJyb3IoIlVzZXJBZ2VudCBzaG91bGQgYmUgYSBzdHJpbmciKTsKCQkJCQkJCQlyZXR1cm4gbmV3IGguZGVmYXVsdChkLCBmKTsKCQkJCQkJCX0sIGUucGFyc2UgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJcmV0dXJuIG5ldyBoLmRlZmF1bHQoZCkuZ2V0UmVzdWx0KCk7CgkJCQkJCQl9LCBkID0gZSwgcCA9IFsKCQkJCQkJCQl7CgkJCQkJCQkJCWtleTogIkJST1dTRVJfTUFQIiwKCQkJCQkJCQkJZ2V0OiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJCXJldHVybiBnLkJST1dTRVJfTUFQOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQl7CgkJCQkJCQkJCWtleTogIkVOR0lORV9NQVAiLAoJCQkJCQkJCQlnZXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQkJcmV0dXJuIGcuRU5HSU5FX01BUDsKCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgkJCQkJCQkJewoJCQkJCQkJCQlrZXk6ICJPU19NQVAiLAoJCQkJCQkJCQlnZXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQkJcmV0dXJuIGcuT1NfTUFQOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQl7CgkJCQkJCQkJCWtleTogIlBMQVRGT1JNU19NQVAiLAoJCQkJCQkJCQlnZXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQkJcmV0dXJuIGcuUExBVEZPUk1TX01BUDsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCV0sIChmID0gbnVsbCkgJiYgYShkLnByb3RvdHlwZSwgZiksIHAgJiYgYShkLCBwKSwgZTsKCQkJCQkJfSgpOwoJCQkJCQlmLmRlZmF1bHQgPSBfLCBkLmV4cG9ydHMgPSBmLmRlZmF1bHQ7CgkJCQkJfSwKCQkJCQk5MTogZnVuY3Rpb24oZCwgZiwgcCkgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCWYuX19lc01vZHVsZSA9ICEwLCBmLmRlZmF1bHQgPSB2b2lkIDA7CgkJCQkJCXZhciBtID0gdShwKDkyKSksIGggPSB1KHAoOTMpKSwgZyA9IHUocCg5NCkpLCBfID0gdShwKDk1KSksIHYgPSB1KHAoMTcpKTsKCQkJCQkJZnVuY3Rpb24gdShkKSB7CgkJCQkJCQlyZXR1cm4gZCAmJiBkLl9fZXNNb2R1bGUgPyBkIDogeyBkZWZhdWx0OiBkIH07CgkJCQkJCX0KCQkJCQkJdmFyIGIgPSBmdW5jdGlvbigpIHsKCQkJCQkJCWZ1bmN0aW9uIGUoZCwgZikgewoJCQkJCQkJCWlmIChmID09PSB2b2lkIDAgJiYgKGYgPSAhMSksIGQgPT0gbnVsbCB8fCBkID09PSAiIikgdGhyb3cgRXJyb3IoIlVzZXJBZ2VudCBwYXJhbWV0ZXIgY2FuJ3QgYmUgZW1wdHkiKTsKCQkJCQkJCQl0aGlzLl91YSA9IGQsIHRoaXMucGFyc2VkUmVzdWx0ID0ge30sICEwICE9PSBmICYmIHRoaXMucGFyc2UoKTsKCQkJCQkJCX0KCQkJCQkJCXZhciBkID0gZS5wcm90b3R5cGU7CgkJCQkJCQlyZXR1cm4gZC5nZXRVQSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiB0aGlzLl91YTsKCQkJCQkJCX0sIGQudGVzdCA9IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQlyZXR1cm4gZC50ZXN0KHRoaXMuX3VhKTsKCQkJCQkJCX0sIGQucGFyc2VCcm93c2VyID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGQgPSB0aGlzOwoJCQkJCQkJCXRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXIgPSB7fTsKCQkJCQkJCQl2YXIgZiA9IHYuZGVmYXVsdC5maW5kKG0uZGVmYXVsdCwgZnVuY3Rpb24oZikgewoJCQkJCQkJCQlpZiAodHlwZW9mIGYudGVzdCA9PSAiZnVuY3Rpb24iKSByZXR1cm4gZi50ZXN0KGQpOwoJCQkJCQkJCQlpZiAoZi50ZXN0IGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBmLnRlc3Quc29tZShmdW5jdGlvbihmKSB7CgkJCQkJCQkJCQlyZXR1cm4gZC50ZXN0KGYpOwoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJdGhyb3cgRXJyb3IoIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZCIpOwoJCQkJCQkJCX0pOwoJCQkJCQkJCXJldHVybiBmICYmICh0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyID0gZi5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSwgdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3NlcjsKCQkJCQkJCX0sIGQuZ2V0QnJvd3NlciA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyID8gdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3NlciA6IHRoaXMucGFyc2VCcm93c2VyKCk7CgkJCQkJCQl9LCBkLmdldEJyb3dzZXJOYW1lID0gZnVuY3Rpb24oZCkgewoJCQkJCQkJCXJldHVybiBkID8gU3RyaW5nKHRoaXMuZ2V0QnJvd3NlcigpLm5hbWUpLnRvTG93ZXJDYXNlKCkgfHwgIiIgOiB0aGlzLmdldEJyb3dzZXIoKS5uYW1lIHx8ICIiOwoJCQkJCQkJfSwgZC5nZXRCcm93c2VyVmVyc2lvbiA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiB0aGlzLmdldEJyb3dzZXIoKS52ZXJzaW9uOwoJCQkJCQkJfSwgZC5nZXRPUyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5vcyA/IHRoaXMucGFyc2VkUmVzdWx0Lm9zIDogdGhpcy5wYXJzZU9TKCk7CgkJCQkJCQl9LCBkLnBhcnNlT1MgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZCA9IHRoaXM7CgkJCQkJCQkJdGhpcy5wYXJzZWRSZXN1bHQub3MgPSB7fTsKCQkJCQkJCQl2YXIgZiA9IHYuZGVmYXVsdC5maW5kKGguZGVmYXVsdCwgZnVuY3Rpb24oZikgewoJCQkJCQkJCQlpZiAodHlwZW9mIGYudGVzdCA9PSAiZnVuY3Rpb24iKSByZXR1cm4gZi50ZXN0KGQpOwoJCQkJCQkJCQlpZiAoZi50ZXN0IGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBmLnRlc3Quc29tZShmdW5jdGlvbihmKSB7CgkJCQkJCQkJCQlyZXR1cm4gZC50ZXN0KGYpOwoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJdGhyb3cgRXJyb3IoIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZCIpOwoJCQkJCQkJCX0pOwoJCQkJCQkJCXJldHVybiBmICYmICh0aGlzLnBhcnNlZFJlc3VsdC5vcyA9IGYuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksIHRoaXMucGFyc2VkUmVzdWx0Lm9zOwoJCQkJCQkJfSwgZC5nZXRPU05hbWUgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJdmFyIGYgPSB0aGlzLmdldE9TKCkubmFtZTsKCQkJCQkJCQlyZXR1cm4gZCA/IFN0cmluZyhmKS50b0xvd2VyQ2FzZSgpIHx8ICIiIDogZiB8fCAiIjsKCQkJCQkJCX0sIGQuZ2V0T1NWZXJzaW9uID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIHRoaXMuZ2V0T1MoKS52ZXJzaW9uOwoJCQkJCQkJfSwgZC5nZXRQbGF0Zm9ybSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybSA/IHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtIDogdGhpcy5wYXJzZVBsYXRmb3JtKCk7CgkJCQkJCQl9LCBkLmdldFBsYXRmb3JtVHlwZSA9IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQlkID09PSB2b2lkIDAgJiYgKGQgPSAhMSk7CgkJCQkJCQkJdmFyIGYgPSB0aGlzLmdldFBsYXRmb3JtKCkudHlwZTsKCQkJCQkJCQlyZXR1cm4gZCA/IFN0cmluZyhmKS50b0xvd2VyQ2FzZSgpIHx8ICIiIDogZiB8fCAiIjsKCQkJCQkJCX0sIGQucGFyc2VQbGF0Zm9ybSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXZhciBkID0gdGhpczsKCQkJCQkJCQl0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybSA9IHt9OwoJCQkJCQkJCXZhciBmID0gdi5kZWZhdWx0LmZpbmQoZy5kZWZhdWx0LCBmdW5jdGlvbihmKSB7CgkJCQkJCQkJCWlmICh0eXBlb2YgZi50ZXN0ID09ICJmdW5jdGlvbiIpIHJldHVybiBmLnRlc3QoZCk7CgkJCQkJCQkJCWlmIChmLnRlc3QgaW5zdGFuY2VvZiBBcnJheSkgcmV0dXJuIGYudGVzdC5zb21lKGZ1bmN0aW9uKGYpIHsKCQkJCQkJCQkJCXJldHVybiBkLnRlc3QoZik7CgkJCQkJCQkJCX0pOwoJCQkJCQkJCQl0aHJvdyBFcnJvcigiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkIik7CgkJCQkJCQkJfSk7CgkJCQkJCQkJcmV0dXJuIGYgJiYgKHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtID0gZi5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSwgdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm07CgkJCQkJCQl9LCBkLmdldEVuZ2luZSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmUgPyB0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmUgOiB0aGlzLnBhcnNlRW5naW5lKCk7CgkJCQkJCQl9LCBkLmdldEVuZ2luZU5hbWUgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJcmV0dXJuIGQgPyBTdHJpbmcodGhpcy5nZXRFbmdpbmUoKS5uYW1lKS50b0xvd2VyQ2FzZSgpIHx8ICIiIDogdGhpcy5nZXRFbmdpbmUoKS5uYW1lIHx8ICIiOwoJCQkJCQkJfSwgZC5wYXJzZUVuZ2luZSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXZhciBkID0gdGhpczsKCQkJCQkJCQl0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmUgPSB7fTsKCQkJCQkJCQl2YXIgZiA9IHYuZGVmYXVsdC5maW5kKF8uZGVmYXVsdCwgZnVuY3Rpb24oZikgewoJCQkJCQkJCQlpZiAodHlwZW9mIGYudGVzdCA9PSAiZnVuY3Rpb24iKSByZXR1cm4gZi50ZXN0KGQpOwoJCQkJCQkJCQlpZiAoZi50ZXN0IGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBmLnRlc3Quc29tZShmdW5jdGlvbihmKSB7CgkJCQkJCQkJCQlyZXR1cm4gZC50ZXN0KGYpOwoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJdGhyb3cgRXJyb3IoIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZCIpOwoJCQkJCQkJCX0pOwoJCQkJCQkJCXJldHVybiBmICYmICh0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmUgPSBmLmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLCB0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU7CgkJCQkJCQl9LCBkLnBhcnNlID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIHRoaXMucGFyc2VCcm93c2VyKCksIHRoaXMucGFyc2VPUygpLCB0aGlzLnBhcnNlUGxhdGZvcm0oKSwgdGhpcy5wYXJzZUVuZ2luZSgpLCB0aGlzOwoJCQkJCQkJfSwgZC5nZXRSZXN1bHQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQlyZXR1cm4gdi5kZWZhdWx0LmFzc2lnbih7fSwgdGhpcy5wYXJzZWRSZXN1bHQpOwoJCQkJCQkJfSwgZC5zYXRpc2ZpZXMgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJdmFyIGYgPSB0aGlzLCBwID0ge30sIG0gPSAwLCBoID0ge30sIGcgPSAwOwoJCQkJCQkJCWlmIChPYmplY3Qua2V5cyhkKS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHsKCQkJCQkJCQkJdmFyIF8gPSBkW2ZdOwoJCQkJCQkJCQl0eXBlb2YgXyA9PSAic3RyaW5nIiA/IChoW2ZdID0gXywgZyArPSAxKSA6IHR5cGVvZiBfID09ICJvYmplY3QiICYmIChwW2ZdID0gXywgbSArPSAxKTsKCQkJCQkJCQl9KSwgbSA+IDApIHsKCQkJCQkJCQkJdmFyIF8gPSBPYmplY3Qua2V5cyhwKSwgYiA9IHYuZGVmYXVsdC5maW5kKF8sIGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJCXJldHVybiBmLmlzT1MoZCk7CgkJCQkJCQkJCX0pOwoJCQkJCQkJCQlpZiAoYikgewoJCQkJCQkJCQkJdmFyIHggPSB0aGlzLnNhdGlzZmllcyhwW2JdKTsKCQkJCQkJCQkJCWlmICh4ICE9PSB2b2lkIDApIHJldHVybiB4OwoJCQkJCQkJCQl9CgkJCQkJCQkJCXZhciBDID0gdi5kZWZhdWx0LmZpbmQoXywgZnVuY3Rpb24oZCkgewoJCQkJCQkJCQkJcmV0dXJuIGYuaXNQbGF0Zm9ybShkKTsKCQkJCQkJCQkJfSk7CgkJCQkJCQkJCWlmIChDKSB7CgkJCQkJCQkJCQl2YXIgdyA9IHRoaXMuc2F0aXNmaWVzKHBbQ10pOwoJCQkJCQkJCQkJaWYgKHcgIT09IHZvaWQgMCkgcmV0dXJuIHc7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJaWYgKGcgPiAwKSB7CgkJCQkJCQkJCXZhciBUID0gT2JqZWN0LmtleXMoaCksIEUgPSB2LmRlZmF1bHQuZmluZChULCBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCQlyZXR1cm4gZi5pc0Jyb3dzZXIoZCwgITApOwoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJaWYgKEUgIT09IHZvaWQgMCkgcmV0dXJuIHRoaXMuY29tcGFyZVZlcnNpb24oaFtFXSk7CgkJCQkJCQkJfQoJCQkJCQkJfSwgZC5pc0Jyb3dzZXIgPSBmdW5jdGlvbihkLCBmKSB7CgkJCQkJCQkJZiA9PT0gdm9pZCAwICYmIChmID0gITEpOwoJCQkJCQkJCXZhciBwID0gdGhpcy5nZXRCcm93c2VyTmFtZSgpLnRvTG93ZXJDYXNlKCksIG0gPSBkLnRvTG93ZXJDYXNlKCksIGggPSB2LmRlZmF1bHQuZ2V0QnJvd3NlclR5cGVCeUFsaWFzKG0pOwoJCQkJCQkJCXJldHVybiBmICYmIGggJiYgKG0gPSBoLnRvTG93ZXJDYXNlKCkpLCBtID09PSBwOwoJCQkJCQkJfSwgZC5jb21wYXJlVmVyc2lvbiA9IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQl2YXIgZiA9IFswXSwgcCA9IGQsIG0gPSAhMSwgaCA9IHRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKTsKCQkJCQkJCQlpZiAodHlwZW9mIGggPT0gInN0cmluZyIpIHJldHVybiBkWzBdID09PSAiPiIgfHwgZFswXSA9PT0gIjwiID8gKHAgPSBkLnN1YnN0cigxKSwgZFsxXSA9PT0gIj0iID8gKG0gPSAhMCwgcCA9IGQuc3Vic3RyKDIpKSA6IGYgPSBbXSwgZFswXSA9PT0gIj4iID8gZi5wdXNoKDEpIDogZi5wdXNoKC0xKSkgOiBkWzBdID09PSAiPSIgPyBwID0gZC5zdWJzdHIoMSkgOiBkWzBdID09PSAifiIgJiYgKG0gPSAhMCwgcCA9IGQuc3Vic3RyKDEpKSwgZi5pbmRleE9mKHYuZGVmYXVsdC5jb21wYXJlVmVyc2lvbnMoaCwgcCwgbSkpID4gLTE7CgkJCQkJCQl9LCBkLmlzT1MgPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJcmV0dXJuIHRoaXMuZ2V0T1NOYW1lKCEwKSA9PT0gU3RyaW5nKGQpLnRvTG93ZXJDYXNlKCk7CgkJCQkJCQl9LCBkLmlzUGxhdGZvcm0gPSBmdW5jdGlvbihkKSB7CgkJCQkJCQkJcmV0dXJuIHRoaXMuZ2V0UGxhdGZvcm1UeXBlKCEwKSA9PT0gU3RyaW5nKGQpLnRvTG93ZXJDYXNlKCk7CgkJCQkJCQl9LCBkLmlzRW5naW5lID0gZnVuY3Rpb24oZCkgewoJCQkJCQkJCXJldHVybiB0aGlzLmdldEVuZ2luZU5hbWUoITApID09PSBTdHJpbmcoZCkudG9Mb3dlckNhc2UoKTsKCQkJCQkJCX0sIGQuaXMgPSBmdW5jdGlvbihkLCBmKSB7CgkJCQkJCQkJcmV0dXJuIGYgPT09IHZvaWQgMCAmJiAoZiA9ICExKSwgdGhpcy5pc0Jyb3dzZXIoZCwgZikgfHwgdGhpcy5pc09TKGQpIHx8IHRoaXMuaXNQbGF0Zm9ybShkKTsKCQkJCQkJCX0sIGQuc29tZSA9IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQl2YXIgZiA9IHRoaXM7CgkJCQkJCQkJcmV0dXJuIGQgPT09IHZvaWQgMCAmJiAoZCA9IFtdKSwgZC5zb21lKGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJcmV0dXJuIGYuaXMoZCk7CgkJCQkJCQkJfSk7CgkJCQkJCQl9LCBlOwoJCQkJCQl9KCk7CgkJCQkJCWYuZGVmYXVsdCA9IGIsIGQuZXhwb3J0cyA9IGYuZGVmYXVsdDsKCQkJCQl9LAoJCQkJCTkyOiBmdW5jdGlvbihkLCBmLCBwKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCQkJCQkJZi5fX2VzTW9kdWxlID0gITAsIGYuZGVmYXVsdCA9IHZvaWQgMDsKCQkJCQkJdmFyIG0sIGggPSAobSA9IHAoMTcpKSAmJiBtLl9fZXNNb2R1bGUgPyBtIDogeyBkZWZhdWx0OiBtIH0sIGcgPSAvdmVyc2lvblwvKFxkKyhcLj9fP1xkKykrKS9pLCBfID0gWwoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvZ29vZ2xlYm90L2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiR29vZ2xlYm90IiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2dvb2dsZWJvdFwvKFxkKyhcLlxkKykpL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL29wZXJhL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiT3BlcmEiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmEpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL29wclwvfG9waW9zL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiT3BlcmEiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86b3ByfG9waW9zKVtccy9dKFxTKykvaSwgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvU2Ftc3VuZ0Jyb3dzZXIvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OlNhbXN1bmdCcm93c2VyKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9XaGFsZS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIk5BVkVSIFdoYWxlIEJyb3dzZXIiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86d2hhbGUpW1xzL10oXGQrKD86XC5cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvTVpCcm93c2VyL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiTVogQnJvd3NlciIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpNWkJyb3dzZXIpW1xzL10oXGQrKD86XC5cZCspKykvaSwgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvZm9jdXMvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJGb2N1cyIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpmb2N1cylbXHMvXShcZCsoPzpcLlxkKykrKS9pLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9zd2luZy9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlN3aW5nIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnN3aW5nKVtccy9dKFxkKyg/OlwuXGQrKSspL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL2NvYXN0L2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiT3BlcmEgQ29hc3QiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86Y29hc3QpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL29wdFwvXGQrKD86Lj9fP1xkKykrL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiT3BlcmEgVG91Y2giIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86b3B0KVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy95YWJyb3dzZXIvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJZYW5kZXggQnJvd3NlciIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzp5YWJyb3dzZXIpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL3VjYnJvd3Nlci9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlVDIEJyb3dzZXIiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86dWNicm93c2VyKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9NYXh0aG9ufG14aW9zL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiTWF4dGhvbiIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpNYXh0aG9ufG14aW9zKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9lcGlwaGFueS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIkVwaXBoYW55IiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmVwaXBoYW55KVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9wdWZmaW4vaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJQdWZmaW4iIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86cHVmZmluKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9zbGVpcG5pci9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlNsZWlwbmlyIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnNsZWlwbmlyKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9rLW1lbGVvbi9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIkstTWVsZW9uIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmstbWVsZW9uKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9taWNyb21lc3Nlbmdlci9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIldlQ2hhdCIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzptaWNyb21lc3NlbmdlcilbXHMvXShcZCsoXC4/Xz9cZCspKykvaSwgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvcXFicm93c2VyL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAvcXFicm93c2VybGl0ZS9pLnRlc3QoZCkgPyAiUVEgQnJvd3NlciBMaXRlIiA6ICJRUSBCcm93c2VyIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnFxYnJvd3NlcmxpdGV8cXFicm93c2VyKVsvXShcZCsoXC4/Xz9cZCspKykvaSwgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvbXNpZXx0cmlkZW50L2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiSW50ZXJuZXQgRXhwbG9yZXIiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86bXNpZSB8cnY6KShcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvXHNlZGdcLy9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIk1pY3Jvc29mdCBFZGdlIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL1xzZWRnXC8oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL2VkZyhbZWFdfGlvcykvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJNaWNyb3NvZnQgRWRnZSIgfSwgcCA9IGguZGVmYXVsdC5nZXRTZWNvbmRNYXRjaCgvZWRnKFtlYV18aW9zKVwvKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy92aXZhbGRpL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiVml2YWxkaSIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC92aXZhbGRpXC8oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL3NlYW1vbmtleS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlNlYU1vbmtleSIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9zZWFtb25rZXlcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvc2FpbGZpc2gvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJTYWlsZmlzaCIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9zYWlsZmlzaFxzP2Jyb3dzZXJcLyhcZCsoXC5cZCspPykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvc2lsay9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIkFtYXpvbiBTaWxrIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL3NpbGtcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvcGhhbnRvbS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlBoYW50b21KUyIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9waGFudG9tanNcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvc2xpbWVyanMvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJTbGltZXJKUyIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9zbGltZXJqc1wvKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9ibGFja2JlcnJ5fFxiYmJcZCsvaSwgL3JpbVxzdGFibGV0L2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiQmxhY2tCZXJyeSIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5W1xkXStcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvKHdlYnxocHcpW28wXXMvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJXZWJPUyBCcm93c2VyIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZywgZCkgfHwgaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL3coPzplYik/W28wXXNicm93c2VyXC8oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL2JhZGEvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJCYWRhIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2RvbGZpblwvKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy90aXplbi9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlRpemVuIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnRpemVuXHM/KT9icm93c2VyXC8oXGQrKFwuP18/XGQrKSspL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL3F1cHppbGxhL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiUXVwWmlsbGEiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86cXVwemlsbGEpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiRmlyZWZveCIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpmaXJlZm94fGljZXdlYXNlbHxmeGlvcylbXHMvXShcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvZWxlY3Ryb24vaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJFbGVjdHJvbiIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzplbGVjdHJvbilcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvTWl1aUJyb3dzZXIvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJNaXVpIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Ok1pdWlCcm93c2VyKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9jaHJvbWl1bS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIkNocm9taXVtIiB9LCBwID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmNocm9taXVtKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLCBkKSB8fCBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9jaHJvbWV8Y3Jpb3N8Y3Jtby9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIkNocm9tZSIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWV8Y3Jpb3N8Y3JtbylcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvR1NBL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiR29vZ2xlIFNlYXJjaCIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpHU0EpXC8oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0gIWQudGVzdCgvbGlrZSBhbmRyb2lkL2kpLCBwID0gZC50ZXN0KC9hbmRyb2lkL2kpOwoJCQkJCQkJCQlyZXR1cm4gZiAmJiBwOwoJCQkJCQkJCX0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6ICJBbmRyb2lkIEJyb3dzZXIiIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChnLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGYudmVyc2lvbiA9IHApLCBmOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9wbGF5c3RhdGlvbiA0L2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiAiUGxheVN0YXRpb24gNCIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL3NhZmFyaXxhcHBsZXdlYmtpdC9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogIlNhZmFyaSIgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKGcsIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbLy4qL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0gZC5zZWFyY2goIlxcKCIpID09PSAtMSA/IC9eKC4qKVwvKC4qKSAvIDogL14oLiopXC8oLiopWyBcdF1cKCguKikvOwoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJbmFtZTogaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goZiwgZCksCgkJCQkJCQkJCQl2ZXJzaW9uOiBoLmRlZmF1bHQuZ2V0U2Vjb25kTWF0Y2goZiwgZCkKCQkJCQkJCQkJfTsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCV07CgkJCQkJCWYuZGVmYXVsdCA9IF8sIGQuZXhwb3J0cyA9IGYuZGVmYXVsdDsKCQkJCQl9LAoJCQkJCTkzOiBmdW5jdGlvbihkLCBmLCBwKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCQkJCQkJZi5fX2VzTW9kdWxlID0gITAsIGYuZGVmYXVsdCA9IHZvaWQgMDsKCQkJCQkJdmFyIG0sIGggPSAobSA9IHAoMTcpKSAmJiBtLl9fZXNNb2R1bGUgPyBtIDogeyBkZWZhdWx0OiBtIH0sIGcgPSBwKDE4KSwgXyA9IFsKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL1Jva3VcL0RWUC9dLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL1Jva3VcL0RWUC0oXGQrXC5cZCspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJbmFtZTogZy5PU19NQVAuUm9rdSwKCQkJCQkJCQkJCXZlcnNpb246IGYKCQkJCQkJCQkJfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvd2luZG93cyBwaG9uZS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC93aW5kb3dzIHBob25lICg/Om9zKT9ccz8oXGQrKFwuXGQrKSopL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJbmFtZTogZy5PU19NQVAuV2luZG93c1Bob25lLAoJCQkJCQkJCQkJdmVyc2lvbjogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy93aW5kb3dzIC9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9XaW5kb3dzICgoTlR8WFApKCBcZFxkPy5cZCk/KS9pLCBkKSwgcCA9IGguZGVmYXVsdC5nZXRXaW5kb3dzVmVyc2lvbk5hbWUoZik7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQluYW1lOiBnLk9TX01BUC5XaW5kb3dzLAoJCQkJCQkJCQkJdmVyc2lvbjogZiwKCQkJCQkJCQkJCXZlcnNpb25OYW1lOiBwCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcLy9dLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiBnLk9TX01BUC5pT1MgfSwgcCA9IGguZGVmYXVsdC5nZXRTZWNvbmRNYXRjaCgvKFZlcnNpb25cLykoXGRbXGQuXSspLywgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvbWFjaW50b3NoL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL21hYyBvcyB4IChcZCsoXC4/Xz9cZCspKykvaSwgZCkucmVwbGFjZSgvW19cc10vZywgIi4iKSwgcCA9IGguZGVmYXVsdC5nZXRNYWNPU1ZlcnNpb25OYW1lKGYpLCBtID0gewoJCQkJCQkJCQkJbmFtZTogZy5PU19NQVAuTWFjT1MsCgkJCQkJCQkJCQl2ZXJzaW9uOiBmCgkJCQkJCQkJCX07CgkJCQkJCQkJCXJldHVybiBwICYmIChtLnZlcnNpb25OYW1lID0gcCksIG07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbLyhpcG9kfGlwaG9uZXxpcGFkKS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9vcyAoXGQrKFtfXHNdXGQrKSopIGxpa2UgbWFjIG9zIHgvaSwgZCkucmVwbGFjZSgvW19cc10vZywgIi4iKTsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCW5hbWU6IGcuT1NfTUFQLmlPUywKCQkJCQkJCQkJCXZlcnNpb246IGYKCQkJCQkJCQkJfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSAhZC50ZXN0KC9saWtlIGFuZHJvaWQvaSksIHAgPSBkLnRlc3QoL2FuZHJvaWQvaSk7CgkJCQkJCQkJCXJldHVybiBmICYmIHA7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9hbmRyb2lkW1xzLy1dKFxkKyhcLlxkKykqKS9pLCBkKSwgcCA9IGguZGVmYXVsdC5nZXRBbmRyb2lkVmVyc2lvbk5hbWUoZiksIG0gPSB7CgkJCQkJCQkJCQluYW1lOiBnLk9TX01BUC5BbmRyb2lkLAoJCQkJCQkJCQkJdmVyc2lvbjogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAobS52ZXJzaW9uTmFtZSA9IHApLCBtOwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy8od2VifGhwdylbbzBdcy9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzp3ZWJ8aHB3KVtvMF1zXC8oXGQrKFwuXGQrKSopL2ksIGQpLCBwID0geyBuYW1lOiBnLk9TX01BUC5XZWJPUyB9OwoJCQkJCQkJCQlyZXR1cm4gZiAmJiBmLmxlbmd0aCAmJiAocC52ZXJzaW9uID0gZiksIHA7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL2JsYWNrYmVycnl8XGJiYlxkKy9pLCAvcmltXHN0YWJsZXQvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvcmltXHN0YWJsZXRcc29zXHMoXGQrKFwuXGQrKSopL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5XGQrXC8oXGQrKFtfXHNdXGQrKSopL2ksIGQpIHx8IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9cYmJiKFxkKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQluYW1lOiBnLk9TX01BUC5CbGFja0JlcnJ5LAoJCQkJCQkJCQkJdmVyc2lvbjogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9iYWRhL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0gaC5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2JhZGFcLyhcZCsoXC5cZCspKikvaSwgZCk7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQluYW1lOiBnLk9TX01BUC5CYWRhLAoJCQkJCQkJCQkJdmVyc2lvbjogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy90aXplbi9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC90aXplblsvXHNdKFxkKyhcLlxkKykqKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCW5hbWU6IGcuT1NfTUFQLlRpemVuLAoJCQkJCQkJCQkJdmVyc2lvbjogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9saW51eC9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7IG5hbWU6IGcuT1NfTUFQLkxpbnV4IH07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL0NyT1MvXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7IG5hbWU6IGcuT1NfTUFQLkNocm9tZU9TIH07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL1BsYXlTdGF0aW9uIDQvXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9QbGF5U3RhdGlvbiA0Wy9cc10oXGQrKFwuXGQrKSopL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJbmFtZTogZy5PU19NQVAuUGxheVN0YXRpb240LAoJCQkJCQkJCQkJdmVyc2lvbjogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJXTsKCQkJCQkJZi5kZWZhdWx0ID0gXywgZC5leHBvcnRzID0gZi5kZWZhdWx0OwoJCQkJCX0sCgkJCQkJOTQ6IGZ1bmN0aW9uKGQsIGYsIHApIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoJCQkJCQlmLl9fZXNNb2R1bGUgPSAhMCwgZi5kZWZhdWx0ID0gdm9pZCAwOwoJCQkJCQl2YXIgbSwgaCA9IChtID0gcCgxNykpICYmIG0uX19lc01vZHVsZSA/IG0gOiB7IGRlZmF1bHQ6IG0gfSwgZyA9IHAoMTgpLCBfID0gWwoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvZ29vZ2xlYm90L2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCXR5cGU6ICJib3QiLAoJCQkJCQkJCQkJdmVuZG9yOiAiR29vZ2xlIgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9odWF3ZWkvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKGNhbi1sMDEpL2ksIGQpICYmICJOb3ZhIiwgcCA9IHsKCQkJCQkJCQkJCXR5cGU6IGcuUExBVEZPUk1TX01BUC5tb2JpbGUsCgkJCQkJCQkJCQl2ZW5kb3I6ICJIdWF3ZWkiCgkJCQkJCQkJCX07CgkJCQkJCQkJCXJldHVybiBmICYmIChwLm1vZGVsID0gZiksIHA7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL25leHVzXHMqKD86N3w4fDl8MTApLiovaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJdHlwZTogZy5QTEFURk9STVNfTUFQLnRhYmxldCwKCQkJCQkJCQkJCXZlbmRvcjogIk5leHVzIgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9pcGFkL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCXR5cGU6IGcuUExBVEZPUk1TX01BUC50YWJsZXQsCgkJCQkJCQkJCQl2ZW5kb3I6ICJBcHBsZSIsCgkJCQkJCQkJCQltb2RlbDogImlQYWQiCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcLy9dLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCXR5cGU6IGcuUExBVEZPUk1TX01BUC50YWJsZXQsCgkJCQkJCQkJCQl2ZW5kb3I6ICJBcHBsZSIsCgkJCQkJCQkJCQltb2RlbDogImlQYWQiCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL2tmdHQgYnVpbGQvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJdHlwZTogZy5QTEFURk9STVNfTUFQLnRhYmxldCwKCQkJCQkJCQkJCXZlbmRvcjogIkFtYXpvbiIsCgkJCQkJCQkJCQltb2RlbDogIktpbmRsZSBGaXJlIEhEIDciCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL3NpbGsvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJdHlwZTogZy5QTEFURk9STVNfTUFQLnRhYmxldCwKCQkJCQkJCQkJCXZlbmRvcjogIkFtYXpvbiIKCQkJCQkJCQkJfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvdGFibGV0KD8hIHBjKS9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7IHR5cGU6IGcuUExBVEZPUk1TX01BUC50YWJsZXQgfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSBkLnRlc3QoL2lwb2R8aXBob25lL2kpLCBwID0gZC50ZXN0KC9saWtlIChpcG9kfGlwaG9uZSkvaSk7CgkJCQkJCQkJCXJldHVybiBmICYmICFwOwoJCQkJCQkJCX0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCXR5cGU6IGcuUExBVEZPUk1TX01BUC5tb2JpbGUsCgkJCQkJCQkJCQl2ZW5kb3I6ICJBcHBsZSIsCgkJCQkJCQkJCQltb2RlbDogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogWy9uZXh1c1xzKlswLTZdLiovaSwgL2dhbGF4eSBuZXh1cy9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQl0eXBlOiBnLlBMQVRGT1JNU19NQVAubW9iaWxlLAoJCQkJCQkJCQkJdmVuZG9yOiAiTmV4dXMiCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBbL1teLV1tb2JpL2ldLAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsgdHlwZTogZy5QTEFURk9STVNfTUFQLm1vYmlsZSB9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlyZXR1cm4gZC5nZXRCcm93c2VyTmFtZSghMCkgPT09ICJibGFja2JlcnJ5IjsKCQkJCQkJCQl9LAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCXR5cGU6IGcuUExBVEZPUk1TX01BUC5tb2JpbGUsCgkJCQkJCQkJCQl2ZW5kb3I6ICJCbGFja0JlcnJ5IgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlyZXR1cm4gZC5nZXRCcm93c2VyTmFtZSghMCkgPT09ICJiYWRhIjsKCQkJCQkJCQl9LAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsgdHlwZTogZy5QTEFURk9STVNfTUFQLm1vYmlsZSB9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlyZXR1cm4gZC5nZXRCcm93c2VyTmFtZSgpID09PSAid2luZG93cyBwaG9uZSI7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQl0eXBlOiBnLlBMQVRGT1JNU19NQVAubW9iaWxlLAoJCQkJCQkJCQkJdmVuZG9yOiAiTWljcm9zb2Z0IgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IE51bWJlcihTdHJpbmcoZC5nZXRPU1ZlcnNpb24oKSkuc3BsaXQoIi4iKVswXSk7CgkJCQkJCQkJCXJldHVybiBkLmdldE9TTmFtZSghMCkgPT09ICJhbmRyb2lkIiAmJiBmID49IDM7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7IHR5cGU6IGcuUExBVEZPUk1TX01BUC50YWJsZXQgfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJcmV0dXJuIGQuZ2V0T1NOYW1lKCEwKSA9PT0gImFuZHJvaWQiOwoJCQkJCQkJCX0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZXR1cm4geyB0eXBlOiBnLlBMQVRGT1JNU19NQVAubW9iaWxlIH07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXJldHVybiBkLmdldE9TTmFtZSghMCkgPT09ICJtYWNvcyI7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCQl0eXBlOiBnLlBMQVRGT1JNU19NQVAuZGVza3RvcCwKCQkJCQkJCQkJCXZlbmRvcjogIkFwcGxlIgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlyZXR1cm4gZC5nZXRPU05hbWUoITApID09PSAid2luZG93cyI7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7IHR5cGU6IGcuUExBVEZPUk1TX01BUC5kZXNrdG9wIH07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXJldHVybiBkLmdldE9TTmFtZSghMCkgPT09ICJsaW51eCI7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCXJldHVybiB7IHR5cGU6IGcuUExBVEZPUk1TX01BUC5kZXNrdG9wIH07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXJldHVybiBkLmdldE9TTmFtZSghMCkgPT09ICJwbGF5c3RhdGlvbiA0IjsKCQkJCQkJCQl9LAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsgdHlwZTogZy5QTEFURk9STVNfTUFQLnR2IH07CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXJldHVybiBkLmdldE9TTmFtZSghMCkgPT09ICJyb2t1IjsKCQkJCQkJCQl9LAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJcmV0dXJuIHsgdHlwZTogZy5QTEFURk9STVNfTUFQLnR2IH07CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQldOwoJCQkJCQlmLmRlZmF1bHQgPSBfLCBkLmV4cG9ydHMgPSBmLmRlZmF1bHQ7CgkJCQkJfSwKCQkJCQk5NTogZnVuY3Rpb24oZCwgZiwgcCkgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCWYuX19lc01vZHVsZSA9ICEwLCBmLmRlZmF1bHQgPSB2b2lkIDA7CgkJCQkJCXZhciBtLCBoID0gKG0gPSBwKDE3KSkgJiYgbS5fX2VzTW9kdWxlID8gbSA6IHsgZGVmYXVsdDogbSB9LCBnID0gcCgxOCksIF8gPSBbCgkJCQkJCQl7CgkJCQkJCQkJdGVzdDogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlyZXR1cm4gZC5nZXRCcm93c2VyTmFtZSghMCkgPT09ICJtaWNyb3NvZnQgZWRnZSI7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQlpZiAoL1xzZWRnXC8vaS50ZXN0KGQpKSByZXR1cm4geyBuYW1lOiBnLkVOR0lORV9NQVAuQmxpbmsgfTsKCQkJCQkJCQkJdmFyIGYgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvZWRnZVwvKFxkKyhcLj9fP1xkKykrKS9pLCBkKTsKCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCW5hbWU6IGcuRU5HSU5FX01BUC5FZGdlSFRNTCwKCQkJCQkJCQkJCXZlcnNpb246IGYKCQkJCQkJCQkJfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvdHJpZGVudC9pXSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogZy5FTkdJTkVfTUFQLlRyaWRlbnQgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC90cmlkZW50XC8oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXJldHVybiBkLnRlc3QoL3ByZXN0by9pKTsKCQkJCQkJCQl9LAoJCQkJCQkJCWRlc2NyaWJlOiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0geyBuYW1lOiBnLkVOR0lORV9NQVAuUHJlc3RvIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvcHJlc3RvXC8oXGQrKFwuP18/XGQrKSspL2ksIGQpOwoJCQkJCQkJCQlyZXR1cm4gcCAmJiAoZi52ZXJzaW9uID0gcCksIGY7CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXsKCQkJCQkJCQl0ZXN0OiBmdW5jdGlvbihkKSB7CgkJCQkJCQkJCXZhciBmID0gZC50ZXN0KC9nZWNrby9pKSwgcCA9IGQudGVzdCgvbGlrZSBnZWNrby9pKTsKCQkJCQkJCQkJcmV0dXJuIGYgJiYgIXA7CgkJCQkJCQkJfSwKCQkJCQkJCQlkZXNjcmliZTogZnVuY3Rpb24oZCkgewoJCQkJCQkJCQl2YXIgZiA9IHsgbmFtZTogZy5FTkdJTkVfTUFQLkdlY2tvIH0sIHAgPSBoLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvZ2Vja29cLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvKGFwcGxlKT93ZWJraXRcLzUzN1wuMzYvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZXR1cm4geyBuYW1lOiBnLkVOR0lORV9NQVAuQmxpbmsgfTsKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJewoJCQkJCQkJCXRlc3Q6IFsvKGFwcGxlKT93ZWJraXQvaV0sCgkJCQkJCQkJZGVzY3JpYmU6IGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQkJdmFyIGYgPSB7IG5hbWU6IGcuRU5HSU5FX01BUC5XZWJLaXQgfSwgcCA9IGguZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC93ZWJraXRcLyhcZCsoXC4/Xz9cZCspKykvaSwgZCk7CgkJCQkJCQkJCXJldHVybiBwICYmIChmLnZlcnNpb24gPSBwKSwgZjsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCV07CgkJCQkJCWYuZGVmYXVsdCA9IF8sIGQuZXhwb3J0cyA9IGYuZGVmYXVsdDsKCQkJCQl9CgkJCQl9KTsKCQkJfSk7CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvYnJvd3Nlci1pZDMtd3JpdGVyL2Rpc3QvYnJvd3Nlci1pZDMtd3JpdGVyLm1qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsgUTogKCkgPT4gbyB9KTsKCQkJZnVuY3Rpb24gZShkKSB7CgkJCQlyZXR1cm4gU3RyaW5nKGQpLnNwbGl0KCIiKS5tYXAoKGQpID0+IGQuY2hhckNvZGVBdCgwKSk7CgkJCX0KCQkJZnVuY3Rpb24gdChkKSB7CgkJCQlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZShkKSk7CgkJCX0KCQkJZnVuY3Rpb24gYShkKSB7CgkJCQlsZXQgZiA9IG5ldyBBcnJheUJ1ZmZlcigyICogZC5sZW5ndGgpLCBwID0gbmV3IFVpbnQ4QXJyYXkoZik7CgkJCQlyZXR1cm4gbmV3IFVpbnQxNkFycmF5KGYpLnNldChlKGQpKSwgcDsKCQkJfQoJCQlmdW5jdGlvbiByKGQpIHsKCQkJCWxldCBmID0gMjU1OwoJCQkJcmV0dXJuIFsKCQkJCQlkID4+PiAyNCAmIGYsCgkJCQkJZCA+Pj4gMTYgJiBmLAoJCQkJCWQgPj4+IDggJiBmLAoJCQkJCWQgJiBmCgkJCQldOwoJCQl9CgkJCWZ1bmN0aW9uIG4oZCkgewoJCQkJcmV0dXJuIDExICsgZDsKCQkJfQoJCQlmdW5jdGlvbiBzKGQsIGYsIHAsIG0pIHsKCQkJCXJldHVybiAxMSArIGYgKyAxICsgMSArIChtID8gMiArIDIgKiAocCArIDEpIDogcCArIDEpICsgZDsKCQkJfQoJCQlmdW5jdGlvbiBpKGQpIHsKCQkJCWxldCBmID0gMDsKCQkJCXJldHVybiBkLmZvckVhY2goKGQpID0+IHsKCQkJCQlmICs9IDIgKyAyICogZFswXS5sZW5ndGggKyAyICsgMiArIDIgKiBkWzFdLmxlbmd0aCArIDI7CgkJCQl9KSwgMTEgKyBmOwoJCQl9CgkJCWZ1bmN0aW9uIGMoZCwgZikgewoJCQkJbGV0IHAgPSAyICogZiwgbSA9IDA7CgkJCQlyZXR1cm4gZC5mb3JFYWNoKChkKSA9PiB7CgkJCQkJbSArPSAyICsgMiAqIGRbMF0ubGVuZ3RoICsgMiArIDQ7CgkJCQl9KSwgMTggKyBwICsgMiArIG07CgkJCX0KCQkJY2xhc3MgbyB7CgkJCQlfc2V0SW50ZWdlckZyYW1lKGQsIGYpIHsKCQkJCQlsZXQgcCA9IHBhcnNlSW50KGYsIDEwKTsKCQkJCQl0aGlzLmZyYW1lcy5wdXNoKHsKCQkJCQkJbmFtZTogZCwKCQkJCQkJdmFsdWU6IHAsCgkJCQkJCXNpemU6IG4ocC50b1N0cmluZygpLmxlbmd0aCkKCQkJCQl9KTsKCQkJCX0KCQkJCV9zZXRTdHJpbmdGcmFtZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBmLnRvU3RyaW5nKCksIG0gPSAxMyArIDIgKiBwLmxlbmd0aDsKCQkJCQlkID09PSAiVERBVCIgJiYgKG0gPSBuKHAubGVuZ3RoKSksIHRoaXMuZnJhbWVzLnB1c2goewoJCQkJCQluYW1lOiBkLAoJCQkJCQl2YWx1ZTogcCwKCQkJCQkJc2l6ZTogbQoJCQkJCX0pOwoJCQkJfQoJCQkJX3NldFBpY3R1cmVGcmFtZShkLCBmLCBwLCBtKSB7CgkJCQkJbGV0IGggPSBmdW5jdGlvbihkKSB7CgkJCQkJCWlmICghZCB8fCAhZC5sZW5ndGgpIHJldHVybiBudWxsOwoJCQkJCQlpZiAoZFswXSA9PT0gMjU1ICYmIGRbMV0gPT09IDIxNiAmJiBkWzJdID09PSAyNTUpIHJldHVybiAiaW1hZ2UvanBlZyI7CgkJCQkJCWlmIChkWzBdID09PSAxMzcgJiYgZFsxXSA9PT0gODAgJiYgZFsyXSA9PT0gNzggJiYgZFszXSA9PT0gNzEpIHJldHVybiAiaW1hZ2UvcG5nIjsKCQkJCQkJaWYgKGRbMF0gPT09IDcxICYmIGRbMV0gPT09IDczICYmIGRbMl0gPT09IDcwKSByZXR1cm4gImltYWdlL2dpZiI7CgkJCQkJCWlmIChkWzhdID09PSA4NyAmJiBkWzldID09PSA2OSAmJiBkWzEwXSA9PT0gNjYgJiYgZFsxMV0gPT09IDgwKSByZXR1cm4gImltYWdlL3dlYnAiOwoJCQkJCQlsZXQgZiA9IGRbMF0gPT09IDczICYmIGRbMV0gPT09IDczICYmIGRbMl0gPT09IDQyICYmIGRbM10gPT09IDAsIHAgPSBkWzBdID09PSA3NyAmJiBkWzFdID09PSA3NyAmJiBkWzJdID09PSAwICYmIGRbM10gPT09IDQyOwoJCQkJCQlyZXR1cm4gZiB8fCBwID8gImltYWdlL3RpZmYiIDogZFswXSA9PT0gNjYgJiYgZFsxXSA9PT0gNzcgPyAiaW1hZ2UvYm1wIiA6IGRbMF0gPT09IDAgJiYgZFsxXSA9PT0gMCAmJiBkWzJdID09PSAxICYmIGRbM10gPT09IDAgPyAiaW1hZ2UveC1pY29uIiA6IG51bGw7CgkJCQkJfShuZXcgVWludDhBcnJheShmKSksIGcgPSBwLnRvU3RyaW5nKCk7CgkJCQkJaWYgKCFoKSB0aHJvdyBFcnJvcigiVW5rbm93biBwaWN0dXJlIE1JTUUgdHlwZSIpOwoJCQkJCXAgfHwgKG0gPSAhMSksIHRoaXMuZnJhbWVzLnB1c2goewoJCQkJCQluYW1lOiAiQVBJQyIsCgkJCQkJCXZhbHVlOiBmLAoJCQkJCQlwaWN0dXJlVHlwZTogZCwKCQkJCQkJbWltZVR5cGU6IGgsCgkJCQkJCXVzZVVuaWNvZGVFbmNvZGluZzogbSwKCQkJCQkJZGVzY3JpcHRpb246IGcsCgkJCQkJCXNpemU6IHMoZi5ieXRlTGVuZ3RoLCBoLmxlbmd0aCwgZy5sZW5ndGgsIG0pCgkJCQkJfSk7CgkJCQl9CgkJCQlfc2V0THlyaWNzRnJhbWUoZCwgZiwgcCkgewoJCQkJCWxldCBtID0gZC5zcGxpdCgiIikubWFwKChkKSA9PiBkLmNoYXJDb2RlQXQoMCkpLCBoID0gZi50b1N0cmluZygpLCBnID0gcC50b1N0cmluZygpOwoJCQkJCXZhciBfLCB2OwoJCQkJCXRoaXMuZnJhbWVzLnB1c2goewoJCQkJCQluYW1lOiAiVVNMVCIsCgkJCQkJCXZhbHVlOiBnLAoJCQkJCQlsYW5ndWFnZTogbSwKCQkJCQkJZGVzY3JpcHRpb246IGgsCgkJCQkJCXNpemU6IChfID0gaC5sZW5ndGgsIHYgPSBnLmxlbmd0aCwgMTYgKyAyICogXyArIDIgKyAyICsgMiAqIHYpCgkJCQkJfSk7CgkJCQl9CgkJCQlfc2V0Q29tbWVudEZyYW1lKGQsIGYsIHApIHsKCQkJCQlsZXQgbSA9IGQuc3BsaXQoIiIpLm1hcCgoZCkgPT4gZC5jaGFyQ29kZUF0KDApKSwgaCA9IGYudG9TdHJpbmcoKSwgZyA9IHAudG9TdHJpbmcoKTsKCQkJCQl2YXIgXywgdjsKCQkJCQl0aGlzLmZyYW1lcy5wdXNoKHsKCQkJCQkJbmFtZTogIkNPTU0iLAoJCQkJCQl2YWx1ZTogZywKCQkJCQkJbGFuZ3VhZ2U6IG0sCgkJCQkJCWRlc2NyaXB0aW9uOiBoLAoJCQkJCQlzaXplOiAoXyA9IGgubGVuZ3RoLCB2ID0gZy5sZW5ndGgsIDE2ICsgMiAqIF8gKyAyICsgMiArIDIgKiB2KQoJCQkJCX0pOwoJCQkJfQoJCQkJX3NldFByaXZhdGVGcmFtZShkLCBmKSB7CgkJCQkJbGV0IHAgPSBkLnRvU3RyaW5nKCk7CgkJCQkJdmFyIG0sIGg7CgkJCQkJdGhpcy5mcmFtZXMucHVzaCh7CgkJCQkJCW5hbWU6ICJQUklWIiwKCQkJCQkJdmFsdWU6IGYsCgkJCQkJCWlkOiBwLAoJCQkJCQlzaXplOiAobSA9IHAubGVuZ3RoLCBoID0gZi5ieXRlTGVuZ3RoLCAxMCArIG0gKyAxICsgaCkKCQkJCQl9KTsKCQkJCX0KCQkJCV9zZXRVc2VyU3RyaW5nRnJhbWUoZCwgZikgewoJCQkJCWxldCBwID0gZC50b1N0cmluZygpLCBtID0gZi50b1N0cmluZygpOwoJCQkJCXZhciBoLCBnOwoJCQkJCXRoaXMuZnJhbWVzLnB1c2goewoJCQkJCQluYW1lOiAiVFhYWCIsCgkJCQkJCWRlc2NyaXB0aW9uOiBwLAoJCQkJCQl2YWx1ZTogbSwKCQkJCQkJc2l6ZTogKGggPSBwLmxlbmd0aCwgZyA9IG0ubGVuZ3RoLCAxMyArIDIgKiBoICsgMiArIDIgKyAyICogZykKCQkJCQl9KTsKCQkJCX0KCQkJCV9zZXRVcmxMaW5rRnJhbWUoZCwgZikgewoJCQkJCWxldCBwID0gZi50b1N0cmluZygpOwoJCQkJCXZhciBtOwoJCQkJCXRoaXMuZnJhbWVzLnB1c2goewoJCQkJCQluYW1lOiBkLAoJCQkJCQl2YWx1ZTogcCwKCQkJCQkJc2l6ZTogKG0gPSBwLmxlbmd0aCwgMTAgKyBtKQoJCQkJCX0pOwoJCQkJfQoJCQkJX3NldFBhaXJlZFRleHRGcmFtZShkLCBmKSB7CgkJCQkJdGhpcy5mcmFtZXMucHVzaCh7CgkJCQkJCW5hbWU6IGQsCgkJCQkJCXZhbHVlOiBmLAoJCQkJCQlzaXplOiBpKGYpCgkJCQkJfSk7CgkJCQl9CgkJCQlfc2V0U3luY2hyb25pc2VkTHlyaWNzRnJhbWUoZCwgZiwgcCwgbSwgaCkgewoJCQkJCWxldCBnID0gaC50b1N0cmluZygpLCBfID0gbS5zcGxpdCgiIikubWFwKChkKSA9PiBkLmNoYXJDb2RlQXQoMCkpOwoJCQkJCXRoaXMuZnJhbWVzLnB1c2goewoJCQkJCQluYW1lOiAiU1lMVCIsCgkJCQkJCXZhbHVlOiBmLAoJCQkJCQlsYW5ndWFnZTogXywKCQkJCQkJZGVzY3JpcHRpb246IGcsCgkJCQkJCXR5cGU6IGQsCgkJCQkJCXRpbWVzdGFtcEZvcm1hdDogcCwKCQkJCQkJc2l6ZTogYyhmLCBnLmxlbmd0aCkKCQkJCQl9KTsKCQkJCX0KCQkJCWNvbnN0cnVjdG9yKGQpIHsKCQkJCQlpZiAoIWQgfHwgdHlwZW9mIGQgIT0gIm9iamVjdCIgfHwgISgiYnl0ZUxlbmd0aCIgaW4gZCkpIHRocm93IEVycm9yKCJGaXJzdCBhcmd1bWVudCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgQXJyYXlCdWZmZXIgb3IgQnVmZmVyIik7CgkJCQkJdGhpcy5hcnJheUJ1ZmZlciA9IGQsIHRoaXMucGFkZGluZyA9IDQwOTYsIHRoaXMuZnJhbWVzID0gW10sIHRoaXMudXJsID0gIiI7CgkJCQl9CgkJCQlzZXRGcmFtZShkLCBmKSB7CgkJCQkJc3dpdGNoIChkKSB7CgkJCQkJCWNhc2UgIlRQRTEiOgoJCQkJCQljYXNlICJUQ09NIjoKCQkJCQkJY2FzZSAiVENPTiI6IHsKCQkJCQkJCWlmICghQXJyYXkuaXNBcnJheShmKSkgdGhyb3cgRXJyb3IoYCR7ZH0gZnJhbWUgdmFsdWUgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3NgKTsKCQkJCQkJCWxldCBwID0gZCA9PT0gIlRDT04iID8gIjsiIDogIi8iLCBtID0gZi5qb2luKHApOwoJCQkJCQkJdGhpcy5fc2V0U3RyaW5nRnJhbWUoZCwgbSk7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQljYXNlICJUTEFOIjoKCQkJCQkJY2FzZSAiVElUMSI6CgkJCQkJCWNhc2UgIlRJVDIiOgoJCQkJCQljYXNlICJUSVQzIjoKCQkJCQkJY2FzZSAiVEFMQiI6CgkJCQkJCWNhc2UgIlRQRTIiOgoJCQkJCQljYXNlICJUUEUzIjoKCQkJCQkJY2FzZSAiVFBFNCI6CgkJCQkJCWNhc2UgIlRSQ0siOgoJCQkJCQljYXNlICJUUE9TIjoKCQkJCQkJY2FzZSAiVE1FRCI6CgkJCQkJCWNhc2UgIlRQVUIiOgoJCQkJCQljYXNlICJUQ09QIjoKCQkJCQkJY2FzZSAiVEtFWSI6CgkJCQkJCWNhc2UgIlRFWFQiOgoJCQkJCQljYXNlICJUREFUIjoKCQkJCQkJY2FzZSAiVENNUCI6CgkJCQkJCWNhc2UgIlRTUkMiOgoJCQkJCQkJdGhpcy5fc2V0U3RyaW5nRnJhbWUoZCwgZik7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiVEJQTSI6CgkJCQkJCWNhc2UgIlRMRU4iOgoJCQkJCQljYXNlICJUWUVSIjoKCQkJCQkJCXRoaXMuX3NldEludGVnZXJGcmFtZShkLCBmKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJVU0xUIjoKCQkJCQkJCWlmIChmLmxhbmd1YWdlID0gZi5sYW5ndWFnZSB8fCAiZW5nIiwgdHlwZW9mIGYgIT0gIm9iamVjdCIgfHwgISgiZGVzY3JpcHRpb24iIGluIGYpIHx8ICEoImx5cmljcyIgaW4gZikpIHRocm93IEVycm9yKCJVU0xUIGZyYW1lIHZhbHVlIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBrZXlzIGRlc2NyaXB0aW9uIGFuZCBseXJpY3MiKTsKCQkJCQkJCWlmIChmLmxhbmd1YWdlICYmICFmLmxhbmd1YWdlLm1hdGNoKC9bYS16XXszfS9pKSkgdGhyb3cgRXJyb3IoIkxhbmd1YWdlIG11c3QgYmUgY29kZWQgZm9sbG93aW5nIHRoZSBJU08gNjM5LTIgc3RhbmRhcmRzIik7CgkJCQkJCQl0aGlzLl9zZXRMeXJpY3NGcmFtZShmLmxhbmd1YWdlLCBmLmRlc2NyaXB0aW9uLCBmLmx5cmljcyk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiQVBJQyI6CgkJCQkJCQlpZiAodHlwZW9mIGYgIT0gIm9iamVjdCIgfHwgISgidHlwZSIgaW4gZikgfHwgISgiZGF0YSIgaW4gZikgfHwgISgiZGVzY3JpcHRpb24iIGluIGYpKSB0aHJvdyBFcnJvcigiQVBJQyBmcmFtZSB2YWx1ZSBzaG91bGQgYmUgYW4gb2JqZWN0IHdpdGgga2V5cyB0eXBlLCBkYXRhIGFuZCBkZXNjcmlwdGlvbiIpOwoJCQkJCQkJaWYgKGYudHlwZSA8IDAgfHwgZi50eXBlID4gMjApIHRocm93IEVycm9yKCJJbmNvcnJlY3QgQVBJQyBmcmFtZSBwaWN0dXJlIHR5cGUiKTsKCQkJCQkJCXRoaXMuX3NldFBpY3R1cmVGcmFtZShmLnR5cGUsIGYuZGF0YSwgZi5kZXNjcmlwdGlvbiwgISFmLnVzZVVuaWNvZGVFbmNvZGluZyk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiVFhYWCI6CgkJCQkJCQlpZiAodHlwZW9mIGYgIT0gIm9iamVjdCIgfHwgISgiZGVzY3JpcHRpb24iIGluIGYpIHx8ICEoInZhbHVlIiBpbiBmKSkgdGhyb3cgRXJyb3IoIlRYWFggZnJhbWUgdmFsdWUgc2hvdWxkIGJlIGFuIG9iamVjdCB3aXRoIGtleXMgZGVzY3JpcHRpb24gYW5kIHZhbHVlIik7CgkJCQkJCQl0aGlzLl9zZXRVc2VyU3RyaW5nRnJhbWUoZi5kZXNjcmlwdGlvbiwgZi52YWx1ZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiV0NPTSI6CgkJCQkJCWNhc2UgIldDT1AiOgoJCQkJCQljYXNlICJXT0FGIjoKCQkJCQkJY2FzZSAiV09BUiI6CgkJCQkJCWNhc2UgIldPQVMiOgoJCQkJCQljYXNlICJXT1JTIjoKCQkJCQkJY2FzZSAiV1BBWSI6CgkJCQkJCWNhc2UgIldQVUIiOgoJCQkJCQkJdGhpcy5fc2V0VXJsTGlua0ZyYW1lKGQsIGYpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgIkNPTU0iOgoJCQkJCQkJaWYgKGYubGFuZ3VhZ2UgPSBmLmxhbmd1YWdlIHx8ICJlbmciLCB0eXBlb2YgZiAhPSAib2JqZWN0IiB8fCAhKCJkZXNjcmlwdGlvbiIgaW4gZikgfHwgISgidGV4dCIgaW4gZikpIHRocm93IEVycm9yKCJDT01NIGZyYW1lIHZhbHVlIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBrZXlzIGRlc2NyaXB0aW9uIGFuZCB0ZXh0Iik7CgkJCQkJCQlpZiAoZi5sYW5ndWFnZSAmJiAhZi5sYW5ndWFnZS5tYXRjaCgvW2Etel17M30vaSkpIHRocm93IEVycm9yKCJMYW5ndWFnZSBtdXN0IGJlIGNvZGVkIGZvbGxvd2luZyB0aGUgSVNPIDYzOS0yIHN0YW5kYXJkcyIpOwoJCQkJCQkJdGhpcy5fc2V0Q29tbWVudEZyYW1lKGYubGFuZ3VhZ2UsIGYuZGVzY3JpcHRpb24sIGYudGV4dCk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiUFJJViI6CgkJCQkJCQlpZiAodHlwZW9mIGYgIT0gIm9iamVjdCIgfHwgISgiaWQiIGluIGYpIHx8ICEoImRhdGEiIGluIGYpKSB0aHJvdyBFcnJvcigiUFJJViBmcmFtZSB2YWx1ZSBzaG91bGQgYmUgYW4gb2JqZWN0IHdpdGgga2V5cyBpZCBhbmQgZGF0YSIpOwoJCQkJCQkJdGhpcy5fc2V0UHJpdmF0ZUZyYW1lKGYuaWQsIGYuZGF0YSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiSVBMUyI6CgkJCQkJCQlpZiAoIUFycmF5LmlzQXJyYXkoZikgfHwgIUFycmF5LmlzQXJyYXkoZlswXSkpIHRocm93IEVycm9yKCJJUExTIGZyYW1lIHZhbHVlIHNob3VsZCBiZSBhbiBhcnJheSBvZiBwYWlycyIpOwoJCQkJCQkJdGhpcy5fc2V0UGFpcmVkVGV4dEZyYW1lKGQsIGYpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgIlNZTFQiOgoJCQkJCQkJaWYgKHR5cGVvZiBmICE9ICJvYmplY3QiIHx8ICEoInR5cGUiIGluIGYpIHx8ICEoInRleHQiIGluIGYpIHx8ICEoInRpbWVzdGFtcEZvcm1hdCIgaW4gZikpIHRocm93IEVycm9yKCJTWUxUIGZyYW1lIHZhbHVlIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBrZXlzIHR5cGUsIHRleHQgYW5kIHRpbWVzdGFtcEZvcm1hdCIpOwoJCQkJCQkJaWYgKCFBcnJheS5pc0FycmF5KGYudGV4dCkgfHwgIUFycmF5LmlzQXJyYXkoZi50ZXh0WzBdKSkgdGhyb3cgRXJyb3IoIlNZTFQgZnJhbWUgdGV4dCB2YWx1ZSBzaG91bGQgYmUgYW4gYXJyYXkgb2YgcGFpcnMiKTsKCQkJCQkJCWlmIChmLnR5cGUgPCAwIHx8IGYudHlwZSA+IDYpIHRocm93IEVycm9yKCJJbmNvcnJlY3QgU1lMVCBmcmFtZSBjb250ZW50IHR5cGUiKTsKCQkJCQkJCWlmIChmLnRpbWVzdGFtcEZvcm1hdCA8IDEgfHwgZi50aW1lc3RhbXBGb3JtYXQgPiAyKSB0aHJvdyBFcnJvcigiSW5jb3JyZWN0IFNZTFQgZnJhbWUgdGltZSBzdGFtcCBmb3JtYXQiKTsKCQkJCQkJCWYubGFuZ3VhZ2UgPSBmLmxhbmd1YWdlIHx8ICJlbmciLCBmLmRlc2NyaXB0aW9uID0gZi5kZXNjcmlwdGlvbiB8fCAiIiwgdGhpcy5fc2V0U3luY2hyb25pc2VkTHlyaWNzRnJhbWUoZi50eXBlLCBmLnRleHQsIGYudGltZXN0YW1wRm9ybWF0LCBmLmxhbmd1YWdlLCBmLmRlc2NyaXB0aW9uKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQlkZWZhdWx0OiB0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgZnJhbWUgJHtkfWApOwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0KCQkJCXJlbW92ZVRhZygpIHsKCQkJCQlpZiAodGhpcy5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoIDwgMTApIHJldHVybjsKCQkJCQlsZXQgZCA9IG5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLCBmID0gZFszXSwgcCA9ICgobSA9IFsKCQkJCQkJZFs2XSwKCQkJCQkJZFs3XSwKCQkJCQkJZFs4XSwKCQkJCQkJZFs5XQoJCQkJCV0pWzBdIDw8IDIxKSArIChtWzFdIDw8IDE0KSArIChtWzJdIDw8IDcpICsgbVszXSArIDEwOwoJCQkJCXZhciBtLCBoOwoJCQkJCShoID0gZClbMF0gIT09IDczIHx8IGhbMV0gIT09IDY4IHx8IGhbMl0gIT09IDUxIHx8IGYgPCAyIHx8IGYgPiA0IHx8ICh0aGlzLmFycmF5QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoZC5zdWJhcnJheShwKSkuYnVmZmVyKTsKCQkJCX0KCQkJCWFkZFRhZygpIHsKCQkJCQl0aGlzLnJlbW92ZVRhZygpOwoJCQkJCWxldCBkID0gWzI1NSwgMjU0XSwgZiA9IDEwICsgdGhpcy5mcmFtZXMucmVkdWNlKChkLCBmKSA9PiBkICsgZi5zaXplLCAwKSArIHRoaXMucGFkZGluZywgcCA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGggKyBmKSwgbSA9IG5ldyBVaW50OEFycmF5KHApLCBoID0gMCwgZyA9IFtdOwoJCQkJCXJldHVybiBnID0gWwoJCQkJCQk3MywKCQkJCQkJNjgsCgkJCQkJCTUxLAoJCQkJCQkzCgkJCQkJXSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGgrKywgaCsrLCBnID0gZnVuY3Rpb24oZCkgewoJCQkJCQlsZXQgZiA9IDEyNzsKCQkJCQkJcmV0dXJuIFsKCQkJCQkJCWQgPj4+IDIxICYgZiwKCQkJCQkJCWQgPj4+IDE0ICYgZiwKCQkJCQkJCWQgPj4+IDcgJiBmLAoJCQkJCQkJZCAmIGYKCQkJCQkJXTsKCQkJCQl9KGYgLSAxMCksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCB0aGlzLmZyYW1lcy5mb3JFYWNoKChmKSA9PiB7CgkJCQkJCXN3aXRjaCAoZyA9IHQoZi5uYW1lKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSByKGYuc2l6ZSAtIDEwKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGggKz0gMiwgZi5uYW1lKSB7CgkJCQkJCQljYXNlICJXQ09NIjoKCQkJCQkJCWNhc2UgIldDT1AiOgoJCQkJCQkJY2FzZSAiV09BRiI6CgkJCQkJCQljYXNlICJXT0FSIjoKCQkJCQkJCWNhc2UgIldPQVMiOgoJCQkJCQkJY2FzZSAiV09SUyI6CgkJCQkJCQljYXNlICJXUEFZIjoKCQkJCQkJCWNhc2UgIldQVUIiOgoJCQkJCQkJCWcgPSB0KGYudmFsdWUpLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aDsKCQkJCQkJCQlicmVhazsKCQkJCQkJCWNhc2UgIlRQRTEiOgoJCQkJCQkJY2FzZSAiVENPTSI6CgkJCQkJCQljYXNlICJUQ09OIjoKCQkJCQkJCWNhc2UgIlRMQU4iOgoJCQkJCQkJY2FzZSAiVElUMSI6CgkJCQkJCQljYXNlICJUSVQyIjoKCQkJCQkJCWNhc2UgIlRJVDMiOgoJCQkJCQkJY2FzZSAiVEFMQiI6CgkJCQkJCQljYXNlICJUUEUyIjoKCQkJCQkJCWNhc2UgIlRQRTMiOgoJCQkJCQkJY2FzZSAiVFBFNCI6CgkJCQkJCQljYXNlICJUUkNLIjoKCQkJCQkJCWNhc2UgIlRQT1MiOgoJCQkJCQkJY2FzZSAiVEtFWSI6CgkJCQkJCQljYXNlICJUTUVEIjoKCQkJCQkJCWNhc2UgIlRQVUIiOgoJCQkJCQkJY2FzZSAiVENPUCI6CgkJCQkJCQljYXNlICJURVhUIjoKCQkJCQkJCWNhc2UgIlRTUkMiOgoJCQkJCQkJCWcgPSBbMV0uY29uY2F0KGQpLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aCwgZyA9IGEoZi52YWx1ZSksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAiVFhYWCI6CgkJCQkJCQljYXNlICJVU0xUIjoKCQkJCQkJCWNhc2UgIkNPTU0iOgoJCQkJCQkJCWcgPSBbMV0sIGYubmFtZSAhPT0gIlVTTFQiICYmIGYubmFtZSAhPT0gIkNPTU0iIHx8IChnID0gZy5jb25jYXQoZi5sYW5ndWFnZSkpLCBnID0gZy5jb25jYXQoZCksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBnID0gYShmLmRlc2NyaXB0aW9uKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSBbMCwgMF0uY29uY2F0KGQpLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aCwgZyA9IGEoZi52YWx1ZSksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAiVEJQTSI6CgkJCQkJCQljYXNlICJUTEVOIjoKCQkJCQkJCWNhc2UgIlREQVQiOgoJCQkJCQkJY2FzZSAiVFlFUiI6CgkJCQkJCQkJaCsrLCBnID0gdChmLnZhbHVlKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGg7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICJQUklWIjoKCQkJCQkJCQlnID0gdChmLmlkKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGgrKywgbS5zZXQobmV3IFVpbnQ4QXJyYXkoZi52YWx1ZSksIGgpLCBoICs9IGYudmFsdWUuYnl0ZUxlbmd0aDsKCQkJCQkJCQlicmVhazsKCQkJCQkJCWNhc2UgIkFQSUMiOgoJCQkJCQkJCWcgPSBbZi51c2VVbmljb2RlRW5jb2RpbmcgPyAxIDogMF0sIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBnID0gdChmLm1pbWVUeXBlKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSBbMCwgZi5waWN0dXJlVHlwZV0sIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBmLnVzZVVuaWNvZGVFbmNvZGluZyA/IChnID0gW10uY29uY2F0KGQpLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aCwgZyA9IGEoZi5kZXNjcmlwdGlvbiksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBoICs9IDIpIDogKGcgPSB0KGYuZGVzY3JpcHRpb24pLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aCwgaCsrKSwgbS5zZXQobmV3IFVpbnQ4QXJyYXkoZi52YWx1ZSksIGgpLCBoICs9IGYudmFsdWUuYnl0ZUxlbmd0aDsKCQkJCQkJCQlicmVhazsKCQkJCQkJCWNhc2UgIklQTFMiOgoJCQkJCQkJCWcgPSBbMV0sIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBmLnZhbHVlLmZvckVhY2goKGYpID0+IHsKCQkJCQkJCQkJZyA9IFtdLmNvbmNhdChkKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSBhKGZbMF0udG9TdHJpbmcoKSksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBnID0gWzAsIDBdLmNvbmNhdChkKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSBhKGZbMV0udG9TdHJpbmcoKSksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBnID0gWzAsIDBdLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aDsKCQkJCQkJCQl9KTsKCQkJCQkJCQlicmVhazsKCQkJCQkJCWNhc2UgIlNZTFQiOiBnID0gWzFdLmNvbmNhdChmLmxhbmd1YWdlLCBmLnRpbWVzdGFtcEZvcm1hdCwgZi50eXBlKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSBbXS5jb25jYXQoZCksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBnID0gYShmLmRlc2NyaXB0aW9uKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGggKz0gMiwgZi52YWx1ZS5mb3JFYWNoKChmKSA9PiB7CgkJCQkJCQkJZyA9IFtdLmNvbmNhdChkKSwgbS5zZXQoZywgaCksIGggKz0gZy5sZW5ndGgsIGcgPSBhKGZbMF0udG9TdHJpbmcoKSksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoLCBnID0gWzAsIDBdLCBtLnNldChnLCBoKSwgaCArPSBnLmxlbmd0aCwgZyA9IHIoZlsxXSksIG0uc2V0KGcsIGgpLCBoICs9IGcubGVuZ3RoOwoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQl9KSwgaCArPSB0aGlzLnBhZGRpbmcsIG0uc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLCBoKSwgdGhpcy5hcnJheUJ1ZmZlciA9IHAsIHA7CgkJCQl9CgkJCQlnZXRCbG9iKCkgewoJCQkJCXJldHVybiBuZXcgQmxvYihbdGhpcy5hcnJheUJ1ZmZlcl0sIHsgdHlwZTogImF1ZGlvL21wZWciIH0pOwoJCQkJfQoJCQkJZ2V0VVJMKCkgewoJCQkJCXJldHVybiB0aGlzLnVybCB8fD0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmdldEJsb2IoKSksIHRoaXMudXJsOwoJCQkJfQoJCQkJcmV2b2tlVVJMKCkgewoJCQkJCVVSTC5yZXZva2VPYmplY3RVUkwodGhpcy51cmwpOwoJCQkJfQoJCQl9CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvY2hhaW11L2Rpc3QvaW5kZXguanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7CgkJCQlBeTogKCkgPT4gQ2hhaW11LAoJCQkJR1o6ICgpID0+IGluaXRBdWRpb0NvbnRleHQKCQkJfSk7CgkJCWxldCBtID0gewoJCQkJdmVyc2lvbjogIjEuMC42IiwKCQkJCWRlYnVnOiAhMSwKCQkJCWZldGNoRm46IGZldGNoLmJpbmQod2luZG93KQoJCQl9LCBoID0geyBsb2c6ICguLi5kKSA9PiB7CgkJCQlpZiAobS5kZWJ1ZykgcmV0dXJuIGNvbnNvbGUubG9nKGAlY+KcpiBjaGFpbXUuanMgdiR7bS52ZXJzaW9ufSDinKZgLCAiYmFja2dyb3VuZDogIzAwMDsgY29sb3I6ICNmZmY7IHBhZGRpbmc6IDAgOHB4IiwgLi4uZCk7CgkJCX0gfSwgZyA9IFsKCQkJCSJwbGF5aW5nIiwKCQkJCSJyYXRlY2hhbmdlIiwKCQkJCSJwbGF5IiwKCQkJCSJ3YWl0aW5nIiwKCQkJCSJwYXVzZSIsCgkJCQkic2Vla2VkIgoJCQldOwoJCQlmdW5jdGlvbiBpbml0QXVkaW9Db250ZXh0KCkgewoJCQkJbGV0IGQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7CgkJCQlyZXR1cm4gZCA/IG5ldyBkKCkgOiB2b2lkIDA7CgkJCX0KCQkJY2xhc3MgQmFzZVBsYXllciB7CgkJCQlzdGF0aWMgbmFtZSA9ICJCYXNlUGxheWVyIjsKCQkJCWNoYWltdTsKCQkJCWZldGNoOwoJCQkJX3NyYzsKCQkJCWZldGNoT3B0czsKCQkJCWNvbnN0cnVjdG9yKGQsIGYpIHsKCQkJCQl0aGlzLmNoYWltdSA9IGQsIHRoaXMuX3NyYyA9IGYsIHRoaXMuZmV0Y2ggPSB0aGlzLmNoYWltdS5mZXRjaEZuLCB0aGlzLmZldGNoT3B0cyA9IHRoaXMuY2hhaW11LmZldGNoT3B0czsKCQkJCX0KCQkJCWFzeW5jIGluaXQoKSB7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9CgkJCQlhc3luYyBjbGVhcigpIHsKCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0KCQkJCWxpcFN5bmMoZCA9ICExKSB7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9CgkJCQloYW5kbGVWaWRlb0V2ZW50ID0gKGQpID0+IChoLmxvZyhgaGFuZGxlIHZpZGVvICR7ZC50eXBlfWApLCB0aGlzLmxpcFN5bmMoZC50eXBlKSwgdGhpcyk7CgkJCQlyZW1vdmVWaWRlb0V2ZW50cygpIHsKCQkJCQlmb3IgKGxldCBkIG9mIGcpIHRoaXMuY2hhaW11LnZpZGVvPy5yZW1vdmVFdmVudExpc3RlbmVyKGQsIHRoaXMuaGFuZGxlVmlkZW9FdmVudCk7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9CgkJCQlhZGRWaWRlb0V2ZW50cygpIHsKCQkJCQlmb3IgKGxldCBkIG9mIGcpIHRoaXMuY2hhaW11LnZpZGVvPy5hZGRFdmVudExpc3RlbmVyKGQsIHRoaXMuaGFuZGxlVmlkZW9FdmVudCk7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9CgkJCQlhc3luYyBwbGF5KCkgewoJCQkJCXJldHVybiB0aGlzOwoJCQkJfQoJCQkJYXN5bmMgcGF1c2UoKSB7CgkJCQkJcmV0dXJuIHRoaXM7CgkJCQl9CgkJCQlnZXQgbmFtZSgpIHsKCQkJCQlyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lOwoJCQkJfQoJCQkJc2V0IHNyYyhkKSB7CgkJCQkJdGhpcy5fc3JjID0gZDsKCQkJCX0KCQkJCWdldCBzcmMoKSB7CgkJCQkJcmV0dXJuIHRoaXMuX3NyYzsKCQkJCX0KCQkJCWdldCBjdXJyZW50U3JjKCkgewoJCQkJCXJldHVybiB0aGlzLl9zcmM7CgkJCQl9CgkJCQlzZXQgdm9sdW1lKGQpIHt9CgkJCQlnZXQgdm9sdW1lKCkgewoJCQkJCXJldHVybiAwOwoJCQkJfQoJCQkJZ2V0IHBsYXliYWNrUmF0ZSgpIHsKCQkJCQlyZXR1cm4gMDsKCQkJCX0KCQkJCXNldCBwbGF5YmFja1JhdGUoZCkge30KCQkJCWdldCBjdXJyZW50VGltZSgpIHsKCQkJCQlyZXR1cm4gMDsKCQkJCX0KCQkJfQoJCQljbGFzcyBBdWRpb1BsYXllciBleHRlbmRzIEJhc2VQbGF5ZXIgewoJCQkJc3RhdGljIG5hbWUgPSAiQXVkaW9QbGF5ZXIiOwoJCQkJYXVkaW87CgkJCQlnYWluTm9kZTsKCQkJCWF1ZGlvU291cmNlOwoJCQkJY29uc3RydWN0b3IoZCwgZikgewoJCQkJCXN1cGVyKGQsIGYpLCB0aGlzLnVwZGF0ZUF1ZGlvKCk7CgkJCQl9CgkJCQlpbml0QXVkaW9Cb29zdGVyKCkgewoJCQkJCXJldHVybiB0aGlzLmNoYWltdS5hdWRpb0NvbnRleHQgPyAodGhpcy5kaXNjb25uZWN0QXVkaW9Ob2RlcygpLCB0aGlzLmdhaW5Ob2RlID0gdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKSwgdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbiksIHRoaXMuYXVkaW9Tb3VyY2UgPSB0aGlzLmNoYWltdS5hdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pLCB0aGlzLmF1ZGlvU291cmNlLmNvbm5lY3QodGhpcy5nYWluTm9kZSksIHRoaXMpIDogdGhpczsKCQkJCX0KCQkJCWRpc2Nvbm5lY3RBdWRpb05vZGVzKCkgewoJCQkJCXRoaXMuYXVkaW9Tb3VyY2UgJiYgKHRoaXMuYXVkaW9Tb3VyY2UuZGlzY29ubmVjdCgpLCB0aGlzLmF1ZGlvU291cmNlID0gdm9pZCAwKSwgdGhpcy5nYWluTm9kZSAmJiAodGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KCksIHRoaXMuZ2Fpbk5vZGUgPSB2b2lkIDApOwoJCQkJfQoJCQkJdXBkYXRlQXVkaW8oKSB7CgkJCQkJcmV0dXJuIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW8odGhpcy5zcmMpLCB0aGlzLmF1ZGlvLmNyb3NzT3JpZ2luID0gImFub255bW91cyIsIHRoaXM7CgkJCQl9CgkJCQlhc3luYyBpbml0KCkgewoJCQkJCXJldHVybiB0aGlzLnVwZGF0ZUF1ZGlvKCksIHRoaXMuaW5pdEF1ZGlvQm9vc3RlcigpLCB0aGlzOwoJCQkJfQoJCQkJYXVkaW9FcnJvckhhbmRsZSA9IChkKSA9PiB7CgkJCQkJY29uc29sZS5lcnJvcigiW0F1ZGlvUGxheWVyXSIsIGQpOwoJCQkJfTsKCQkJCWxpcFN5bmMoZCA9ICExKSB7CgkJCQkJaWYgKGgubG9nKCJbQXVkaW9QbGF5ZXJdIGxpcHN5bmMgdmlkZW8iLCB0aGlzLmNoYWltdS52aWRlbyksICF0aGlzLmNoYWltdS52aWRlbykgcmV0dXJuIHRoaXM7CgkJCQkJaWYgKHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSB0aGlzLmNoYWltdS52aWRlby5jdXJyZW50VGltZSwgdGhpcy5hdWRpby5wbGF5YmFja1JhdGUgPSB0aGlzLmNoYWltdS52aWRlby5wbGF5YmFja1JhdGUsICFkKSByZXR1cm4gaC5sb2coIltBdWRpb1BsYXllcl0gbGlwc3luYyBtb2RlIGlzbid0IHNldCIpLCB0aGlzOwoJCQkJCXN3aXRjaCAoaC5sb2coYFtBdWRpb1BsYXllcl0gbGlwc3luYyBtb2RlIGlzICR7ZH1gKSwgZCkgewoJCQkJCQljYXNlICJwbGF5IjoKCQkJCQkJY2FzZSAicGxheWluZyI6CgkJCQkJCWNhc2UgInNlZWtlZCI6IHJldHVybiB0aGlzLmNoYWltdS52aWRlby5wYXVzZWQgfHwgdGhpcy5zeW5jUGxheSgpLCB0aGlzOwoJCQkJCQljYXNlICJwYXVzZSI6CgkJCQkJCWNhc2UgIndhaXRpbmciOiByZXR1cm4gdGhpcy5wYXVzZSgpLCB0aGlzOwoJCQkJCQlkZWZhdWx0OiByZXR1cm4gdGhpczsKCQkJCQl9CgkJCQl9CgkJCQlhc3luYyBjbGVhcigpIHsKCQkJCQlyZXR1cm4gdGhpcy5hdWRpby5wYXVzZSgpLCB0aGlzLmF1ZGlvLnNyYyA9ICIiLCB0aGlzLmF1ZGlvLnJlbW92ZUF0dHJpYnV0ZSgic3JjIiksIHRoaXMuZGlzY29ubmVjdEF1ZGlvTm9kZXMoKSwgdGhpczsKCQkJCX0KCQkJCXN5bmNQbGF5KCkgewoJCQkJCXJldHVybiBoLmxvZygiW0F1ZGlvUGxheWVyXSBzeW5jIHBsYXkgY2FsbGVkIiksIHRoaXMuYXVkaW8gJiYgdGhpcy5hdWRpby5wbGF5KCkuY2F0Y2godGhpcy5hdWRpb0Vycm9ySGFuZGxlKSwgdGhpczsKCQkJCX0KCQkJCWFzeW5jIHBsYXkoKSB7CgkJCQkJcmV0dXJuIGgubG9nKCJbQXVkaW9QbGF5ZXJdIHBsYXkgY2FsbGVkIiksIHRoaXMuYXVkaW8gJiYgYXdhaXQgdGhpcy5hdWRpby5wbGF5KCkuY2F0Y2godGhpcy5hdWRpb0Vycm9ySGFuZGxlKSwgdGhpczsKCQkJCX0KCQkJCWFzeW5jIHBhdXNlKCkgewoJCQkJCXJldHVybiBoLmxvZygiW0F1ZGlvUGxheWVyXSBwYXVzZSBjYWxsZWQiKSwgdGhpcy5hdWRpbyAmJiB0aGlzLmF1ZGlvLnBhdXNlKCksIHRoaXM7CgkJCQl9CgkJCQlzZXQgc3JjKGQpIHsKCQkJCQlpZiAodGhpcy5fc3JjID0gZCwgIWQpIHsKCQkJCQkJdGhpcy5jbGVhcigpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCXRoaXMuYXVkaW8uc3JjID0gZDsKCQkJCX0KCQkJCWdldCBzcmMoKSB7CgkJCQkJcmV0dXJuIHRoaXMuX3NyYzsKCQkJCX0KCQkJCWdldCBjdXJyZW50U3JjKCkgewoJCQkJCXJldHVybiB0aGlzLmF1ZGlvLmN1cnJlbnRTcmM7CgkJCQl9CgkJCQlzZXQgdm9sdW1lKGQpIHsKCQkJCQlpZiAodGhpcy5nYWluTm9kZSkgewoJCQkJCQl0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSBkOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCXRoaXMuYXVkaW8udm9sdW1lID0gZDsKCQkJCX0KCQkJCWdldCB2b2x1bWUoKSB7CgkJCQkJcmV0dXJuIHRoaXMuZ2Fpbk5vZGUgPyB0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgOiB0aGlzLmF1ZGlvLnZvbHVtZTsKCQkJCX0KCQkJCWdldCBwbGF5YmFja1JhdGUoKSB7CgkJCQkJcmV0dXJuIHRoaXMuYXVkaW8ucGxheWJhY2tSYXRlOwoJCQkJfQoJCQkJc2V0IHBsYXliYWNrUmF0ZShkKSB7CgkJCQkJdGhpcy5hdWRpby5wbGF5YmFja1JhdGUgPSBkOwoJCQkJfQoJCQkJZ2V0IGN1cnJlbnRUaW1lKCkgewoJCQkJCXJldHVybiB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lOwoJCQkJfQoJCQl9CgkJCWNsYXNzIENoYWltdVBsYXllciBleHRlbmRzIEJhc2VQbGF5ZXIgewoJCQkJc3RhdGljIG5hbWUgPSAiQ2hhaW11UGxheWVyIjsKCQkJCWF1ZGlvQnVmZmVyOwoJCQkJYXVkaW9FbGVtZW50OwoJCQkJbWVkaWFFbGVtZW50U291cmNlOwoJCQkJZ2Fpbk5vZGU7CgkJCQlibG9iVXJsOwoJCQkJaXNDbGVhcmluZyA9ICExOwoJCQkJaXNJbml0aWFsaXppbmcgPSAhMTsKCQkJCWNsZWFyaW5nUHJvbWlzZTsKCQkJCWFzeW5jIGZldGNoQXVkaW8oKSB7CgkJCQkJaWYgKCF0aGlzLl9zcmMpIHRocm93IEVycm9yKCJObyBhdWRpbyBzb3VyY2UgcHJvdmlkZWQiKTsKCQkJCQlpZiAoIXRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dCkgdGhyb3cgRXJyb3IoIk5vIGF1ZGlvIGNvbnRleHQgYXZhaWxhYmxlIik7CgkJCQkJaC5sb2coYFtDaGFpbXVQbGF5ZXJdIEZldGNoaW5nIGF1ZGlvIGZyb20gJHt0aGlzLl9zcmN9Li4uYCk7CgkJCQkJbGV0IGQ7CgkJCQkJdHJ5IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB0aGlzLmZldGNoKHRoaXMuX3NyYywgdGhpcy5mZXRjaE9wdHMpOwoJCQkJCQloLmxvZygiW0NoYWltdVBsYXllcl0gRGVjb2RpbmcgZmV0Y2hlZCBhdWRpby4uLiIpOwoJCQkJCQlsZXQgcCA9IGF3YWl0IGYuYXJyYXlCdWZmZXIoKSwgbSA9IG5ldyBCbG9iKFtwXSk7CgkJCQkJCWQgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG0pLCB0aGlzLmF1ZGlvQnVmZmVyID0gYXdhaXQgdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShwKSwgdGhpcy5ibG9iVXJsICYmIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5ibG9iVXJsKSwgdGhpcy5ibG9iVXJsID0gZCwgZCA9IHZvaWQgMDsKCQkJCQl9IGNhdGNoIChmKSB7CgkJCQkJCXRocm93IGQgJiYgVVJMLnJldm9rZU9iamVjdFVSTChkKSwgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBhdWRpbyBmaWxlLCBiZWNhdXNlICR7Zi5tZXNzYWdlfWApOwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpczsKCQkJCX0KCQkJCWluaXRBdWRpb0Jvb3N0ZXIoKSB7CgkJCQkJcmV0dXJuIHRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dCA/ICh0aGlzLmRpc2Nvbm5lY3RBdWRpb05vZGVzKCksIHRoaXMuZ2Fpbk5vZGUgPSB0aGlzLmNoYWltdS5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpLCB0aGlzKSA6IHRoaXM7CgkJCQl9CgkJCQlkaXNjb25uZWN0QXVkaW9Ob2RlcygpIHsKCQkJCQl0aGlzLm1lZGlhRWxlbWVudFNvdXJjZSAmJiAodGhpcy5tZWRpYUVsZW1lbnRTb3VyY2UuZGlzY29ubmVjdCgpLCB0aGlzLm1lZGlhRWxlbWVudFNvdXJjZSA9IHZvaWQgMCksIHRoaXMuZ2Fpbk5vZGUgJiYgKHRoaXMuZ2Fpbk5vZGUuZGlzY29ubmVjdCgpLCB0aGlzLmdhaW5Ob2RlID0gdm9pZCAwKTsKCQkJCX0KCQkJCWFzeW5jIGluaXQoKSB7CgkJCQkJaWYgKHRoaXMuaXNJbml0aWFsaXppbmcpIHRocm93IEVycm9yKCJJbml0aWFsaXphdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzIik7CgkJCQkJdGhpcy5pc0luaXRpYWxpemluZyA9ICEwOwoJCQkJCXRyeSB7CgkJCQkJCXJldHVybiBhd2FpdCB0aGlzLmZldGNoQXVkaW8oKSwgdGhpcy5pbml0QXVkaW9Cb29zdGVyKCksIHRoaXMuY3JlYXRlQXVkaW9FbGVtZW50KCksIHRoaXM7CgkJCQkJfSBmaW5hbGx5IHsKCQkJCQkJdGhpcy5pc0luaXRpYWxpemluZyA9ICExOwoJCQkJCX0KCQkJCX0KCQkJCWNyZWF0ZUF1ZGlvRWxlbWVudCgpIHsKCQkJCQlpZiAoIXRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dCkgdGhyb3cgRXJyb3IoIk5vIGF1ZGlvIGNvbnRleHQgYXZhaWxhYmxlIik7CgkJCQkJaWYgKCF0aGlzLmJsb2JVcmwpIHRocm93IEVycm9yKCJObyBibG9iIFVSTCBhdmFpbGFibGUuIik7CgkJCQkJbGV0IGQgPSBuZXcgQXVkaW8odGhpcy5ibG9iVXJsKTsKCQkJCQlkLmNyb3NzT3JpZ2luID0gImFub255bW91cyIsICJwcmVzZXJ2ZXNQaXRjaCIgaW4gZCAmJiAoZC5wcmVzZXJ2ZXNQaXRjaCA9ICEwLCAibW96UHJlc2VydmVzUGl0Y2giIGluIGQgJiYgKGQubW96UHJlc2VydmVzUGl0Y2ggPSAhMCksICJ3ZWJraXRQcmVzZXJ2ZXNQaXRjaCIgaW4gZCAmJiAoZC53ZWJraXRQcmVzZXJ2ZXNQaXRjaCA9ICEwKSksIHRoaXMuYXVkaW9FbGVtZW50ID0gZCwgdGhpcy5tZWRpYUVsZW1lbnRTb3VyY2UgPSB0aGlzLmNoYWltdS5hdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGQpLCB0aGlzLm1lZGlhRWxlbWVudFNvdXJjZS5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpLCB0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTsKCQkJCX0KCQkJCWxpcFN5bmMoZCA9ICExKSB7CgkJCQkJaWYgKGgubG9nKCJbQ2hhaW11UGxheWVyXSBsaXBzeW5jIHZpZGVvIiwgdGhpcy5jaGFpbXUudmlkZW8sIHRoaXMpLCAhdGhpcy5jaGFpbXUudmlkZW8pIHJldHVybiB0aGlzOwoJCQkJCWlmICghZCkgcmV0dXJuIGgubG9nKCJbQ2hhaW11UGxheWVyXSBsaXBzeW5jIG1vZGUgaXNuJ3Qgc2V0IiksIHRoaXM7CgkJCQkJc3dpdGNoIChoLmxvZyhgW0NoYWltdVBsYXllcl0gbGlwc3luYyBtb2RlIGlzICR7ZH1gKSwgZCkgewoJCQkJCQljYXNlICJwbGF5IjoKCQkJCQkJY2FzZSAicGxheWluZyI6CgkJCQkJCWNhc2UgInJhdGVjaGFuZ2UiOgoJCQkJCQljYXNlICJzZWVrZWQiOiByZXR1cm4gdGhpcy5jaGFpbXUudmlkZW8ucGF1c2VkIHx8IHRoaXMuc3RhcnQoKSwgdGhpczsKCQkJCQkJY2FzZSAicGF1c2UiOgoJCQkJCQljYXNlICJ3YWl0aW5nIjogcmV0dXJuIHRoaXMucGF1c2UoKSwgdGhpczsKCQkJCQkJZGVmYXVsdDogcmV0dXJuIHRoaXM7CgkJCQkJfQoJCQkJfQoJCQkJYXN5bmMgcmVvcGVuQ3R4KCkgewoJCQkJCWlmICghdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0KSB0aHJvdyBFcnJvcigiTm8gYXVkaW8gY29udGV4dCBhdmFpbGFibGUiKTsKCQkJCQl0cnkgewoJCQkJCQl0aGlzLmNoYWltdS5hdWRpb0NvbnRleHQuc3RhdGUgIT09ICJjbG9zZWQiICYmIGF3YWl0IHRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dC5jbG9zZSgpOwoJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJaC5sb2coIltDaGFpbXVQbGF5ZXJdIEZhaWxlZCB0byBjbG9zZSBhdWRpbyBjb250ZXh0OiIsIGQpOwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0ID0gaW5pdEF1ZGlvQ29udGV4dCgpLCB0aGlzOwoJCQkJfQoJCQkJYXN5bmMgY2xlYXIoKSB7CgkJCQkJaWYgKHRoaXMuaXNDbGVhcmluZyAmJiB0aGlzLmNsZWFyaW5nUHJvbWlzZSkgcmV0dXJuIHRoaXMuY2xlYXJpbmdQcm9taXNlOwoJCQkJCWlmICghdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0KSB0aHJvdyBFcnJvcigiTm8gYXVkaW8gY29udGV4dCBhdmFpbGFibGUiKTsKCQkJCQlyZXR1cm4gaC5sb2coImNsZWFyIGF1ZGlvIGNvbnRleHQiKSwgdGhpcy5pc0NsZWFyaW5nID0gITAsIHRoaXMuY2xlYXJpbmdQcm9taXNlID0gKGFzeW5jICgpID0+IHsKCQkJCQkJdHJ5IHsKCQkJCQkJCWF3YWl0IHRoaXMucGF1c2UoKSwgdGhpcy5hdWRpb0VsZW1lbnQgJiYgKHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCksIHRoaXMuYXVkaW9FbGVtZW50ID0gdm9pZCAwKSwgdGhpcy5ibG9iVXJsICYmIChVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuYmxvYlVybCksIHRoaXMuYmxvYlVybCA9IHZvaWQgMCksIHRoaXMuZGlzY29ubmVjdEF1ZGlvTm9kZXMoKTsKCQkJCQkJCWxldCBkID0gdGhpcy5nYWluTm9kZSA/IHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA6IDE7CgkJCQkJCQlyZXR1cm4gYXdhaXQgdGhpcy5yZW9wZW5DdHgoKSwgdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0ICYmICh0aGlzLmluaXRBdWRpb0Jvb3N0ZXIoKSwgdGhpcy52b2x1bWUgPSBkKSwgdGhpczsKCQkJCQkJfSBmaW5hbGx5IHsKCQkJCQkJCXRoaXMuaXNDbGVhcmluZyA9ICExLCB0aGlzLmNsZWFyaW5nUHJvbWlzZSA9IHZvaWQgMDsKCQkJCQkJfQoJCQkJCX0pKCksIHRoaXMuY2xlYXJpbmdQcm9taXNlOwoJCQkJfQoJCQkJYXN5bmMgc3RhcnQoKSB7CgkJCQkJaWYgKCF0aGlzLmNoYWltdS5hdWRpb0NvbnRleHQpIHRocm93IEVycm9yKCJObyBhdWRpbyBjb250ZXh0IGF2YWlsYWJsZSIpOwoJCQkJCWlmICghdGhpcy5hdWRpb0VsZW1lbnQpIHRocm93IEVycm9yKCJBdWRpbyBlbGVtZW50IGlzIG1pc3NpbmciKTsKCQkJCQlyZXR1cm4gdGhpcy5pc0NsZWFyaW5nICYmIHRoaXMuY2xlYXJpbmdQcm9taXNlICYmIChoLmxvZygiVGhlIG90aGVyIGNsZWFuZXIgaXMgc3RpbGwgcnVubmluZywgd2FpdGluZy4uLiIpLCBhd2FpdCB0aGlzLmNsZWFyaW5nUHJvbWlzZSksIGgubG9nKCJzdGFydGluZyBhdWRpbyB2aWEgSFRNTEF1ZGlvRWxlbWVudCIpLCBhd2FpdCB0aGlzLnBsYXkoKSwgdGhpcy5jaGFpbXUudmlkZW8gJiYgKHRoaXMuYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5jaGFpbXUudmlkZW8uY3VycmVudFRpbWUsIHRoaXMuYXVkaW9FbGVtZW50LnBsYXliYWNrUmF0ZSA9IHRoaXMuY2hhaW11LnZpZGVvLnBsYXliYWNrUmF0ZSksIHRoaXMuYXVkaW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoZCkgPT4gaC5sb2coIltDaGFpbXVQbGF5ZXJdIFBsYXkgYXVkaW9FbGVtZW50IGZhaWxlZDoiLCBkKSksIHRoaXM7CgkJCQl9CgkJCQlhc3luYyBwYXVzZSgpIHsKCQkJCQlpZiAoIXRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dCkgdGhyb3cgRXJyb3IoIk5vIGF1ZGlvIGNvbnRleHQgYXZhaWxhYmxlIik7CgkJCQkJcmV0dXJuIHRoaXMuYXVkaW9FbGVtZW50ICYmIHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCksIHRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dC5zdGF0ZSA9PT0gInJ1bm5pbmciICYmIGF3YWl0IHRoaXMuY2hhaW11LmF1ZGlvQ29udGV4dC5zdXNwZW5kKCksIHRoaXM7CgkJCQl9CgkJCQlhc3luYyBwbGF5KCkgewoJCQkJCWlmICghdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0KSB0aHJvdyBFcnJvcigiTm8gYXVkaW8gY29udGV4dCBhdmFpbGFibGUiKTsKCQkJCQlyZXR1cm4gYXdhaXQgdGhpcy5jaGFpbXUuYXVkaW9Db250ZXh0LnJlc3VtZSgpLCB0aGlzOwoJCQkJfQoJCQkJc2V0IHNyYyhkKSB7CgkJCQkJdGhpcy5fc3JjID0gZDsKCQkJCX0KCQkJCWdldCBzcmMoKSB7CgkJCQkJcmV0dXJuIHRoaXMuX3NyYzsKCQkJCX0KCQkJCWdldCBjdXJyZW50U3JjKCkgewoJCQkJCXJldHVybiB0aGlzLl9zcmM7CgkJCQl9CgkJCQlzZXQgdm9sdW1lKGQpIHsKCQkJCQl0aGlzLmdhaW5Ob2RlICYmICh0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSBkKTsKCQkJCX0KCQkJCWdldCB2b2x1bWUoKSB7CgkJCQkJcmV0dXJuIHRoaXMuZ2Fpbk5vZGUgPyB0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgOiAwOwoJCQkJfQoJCQkJc2V0IHBsYXliYWNrUmF0ZShkKSB7CgkJCQkJdGhpcy5hdWRpb0VsZW1lbnQgJiYgKHRoaXMuYXVkaW9FbGVtZW50LnBsYXliYWNrUmF0ZSA9IGQpOwoJCQkJfQoJCQkJZ2V0IHBsYXliYWNrUmF0ZSgpIHsKCQkJCQlyZXR1cm4gdGhpcy5hdWRpb0VsZW1lbnQgPyB0aGlzLmF1ZGlvRWxlbWVudC5wbGF5YmFja1JhdGUgOiB0aGlzLmNoYWltdS52aWRlbz8ucGxheWJhY2tSYXRlID8/IDE7CgkJCQl9CgkJCQlnZXQgY3VycmVudFRpbWUoKSB7CgkJCQkJcmV0dXJuIHRoaXMuY2hhaW11LnZpZGVvPy5jdXJyZW50VGltZSA/PyAwOwoJCQkJfQoJCQl9CgkJCWNsYXNzIENoYWltdSB7CgkJCQlfZGVidWcgPSAhMTsKCQkJCWF1ZGlvQ29udGV4dDsKCQkJCXBsYXllcjsKCQkJCXZpZGVvOwoJCQkJZmV0Y2hGbjsKCQkJCWZldGNoT3B0czsKCQkJCWNvbnN0cnVjdG9yKHsgdXJsOiBkLCB2aWRlbzogZiwgZGVidWc6IHAgPSAhMSwgZmV0Y2hGbjogaCA9IG0uZmV0Y2hGbiwgZmV0Y2hPcHRzOiBnID0ge30sIHByZWZlckF1ZGlvOiBfID0gITEgfSkgewoJCQkJCXRoaXMuX2RlYnVnID0gbS5kZWJ1ZyA9IHAsIHRoaXMuZmV0Y2hGbiA9IGgsIHRoaXMuZmV0Y2hPcHRzID0gZywgdGhpcy5hdWRpb0NvbnRleHQgPSBpbml0QXVkaW9Db250ZXh0KCksIHRoaXMucGxheWVyID0gdGhpcy5hdWRpb0NvbnRleHQgJiYgIV8gPyBuZXcgQ2hhaW11UGxheWVyKHRoaXMsIGQpIDogbmV3IEF1ZGlvUGxheWVyKHRoaXMsIGQpLCB0aGlzLnZpZGVvID0gZjsKCQkJCX0KCQkJCWFzeW5jIGluaXQoKSB7CgkJCQkJYXdhaXQgdGhpcy5wbGF5ZXIuaW5pdCgpLCB0aGlzLnZpZGVvICYmICF0aGlzLnZpZGVvLnBhdXNlZCAmJiB0aGlzLnBsYXllci5saXBTeW5jKCJwbGF5IiksIHRoaXMucGxheWVyLmFkZFZpZGVvRXZlbnRzKCk7CgkJCQl9CgkJCQlzZXQgZGVidWcoZCkgewoJCQkJCXRoaXMuX2RlYnVnID0gbS5kZWJ1ZyA9IGQ7CgkJCQl9CgkJCQlnZXQgZGVidWcoKSB7CgkJCQkJcmV0dXJuIHRoaXMuX2RlYnVnOwoJCQkJfQoJCQl9CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7CgkJCQlKVzogKCkgPT4gRywKCQkJCVhYOiAoKSA9PiBCLAoJCQkJcXk6ICgpID0+IFcKCQkJfSk7CgkJCWxldCBtID0gZ2xvYmFsVGhpcywgaCA9IG0udHJ1c3RlZFR5cGVzLCBnID0gaCA/IGguY3JlYXRlUG9saWN5KCJsaXQtaHRtbCIsIHsgY3JlYXRlSFRNTDogKGQpID0+IGQgfSkgOiB2b2lkIDAsIF8gPSAiJGxpdCQiLCB2ID0gYGxpdCQke01hdGgucmFuZG9tKCkudG9GaXhlZCg5KS5zbGljZSgyKX0kYCwgYiA9ICI/IiArIHYsIHggPSBgPCR7Yn0+YCwgQyA9IGRvY3VtZW50LCBsID0gKCkgPT4gQy5jcmVhdGVDb21tZW50KCIiKSwgYyA9IChkKSA9PiBkID09PSBudWxsIHx8IHR5cGVvZiBkICE9ICJvYmplY3QiICYmIHR5cGVvZiBkICE9ICJmdW5jdGlvbiIsIHcgPSBBcnJheS5pc0FycmF5LCB1ID0gKGQpID0+IHcoZCkgfHwgdHlwZW9mIGQ/LltTeW1ib2wuaXRlcmF0b3JdID09ICJmdW5jdGlvbiIsIFQgPSAiWyAJXG5cZlxyXSIsIEUgPSAvPCg/OighLS18XC9bXmEtekEtWl0pfChcLz9bYS16QS1aXVtePlxzXSopfChcLz8kKSkvZywgRCA9IC8tLT4vZywgTyA9IC8+L2csIEEgPSBSZWdFeHAoYD58JHtUfSg/OihbXlxccyInPj0vXSspKCR7VH0qPSR7VH0qKD86W14gXHRcblxmXHIiJ1xgPD49XXwoInwnKXwpKXwkKWAsICJnIiksIGogPSAvJy9nLCBGID0gLyIvZywgVSA9IC9eKD86c2NyaXB0fHN0eWxlfHRleHRhcmVhfHRpdGxlKSQvaSwgeSA9IChkKSA9PiAoZiwgLi4ucCkgPT4gKHsKCQkJCV8kbGl0VHlwZSQ6IGQsCgkJCQlzdHJpbmdzOiBmLAoJCQkJdmFsdWVzOiBwCgkJCX0pLCBXID0geSgxKSwgRyA9IHkoMiksIEsgPSB5KDMpLCBxID0gU3ltYm9sLmZvcigibGl0LW5vQ2hhbmdlIiksIEogPSBTeW1ib2wuZm9yKCJsaXQtbm90aGluZyIpLCBZID0gbmV3IFdlYWtNYXAoKSwgWCA9IEMuY3JlYXRlVHJlZVdhbGtlcihDLCAxMjkpOwoJCQlmdW5jdGlvbiBQKGQsIGYpIHsKCQkJCWlmICghdyhkKSB8fCAhZC5oYXNPd25Qcm9wZXJ0eSgicmF3IikpIHRocm93IEVycm9yKCJpbnZhbGlkIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXkiKTsKCQkJCXJldHVybiBnID09PSB2b2lkIDAgPyBmIDogZy5jcmVhdGVIVE1MKGYpOwoJCQl9CgkJCWxldCBWID0gKGQsIGYpID0+IHsKCQkJCWxldCBwID0gZC5sZW5ndGggLSAxLCBtID0gW10sIGgsIGcgPSBmID09PSAyID8gIjxzdmc+IiA6IGYgPT09IDMgPyAiPG1hdGg+IiA6ICIiLCBiID0gRTsKCQkJCWZvciAobGV0IGYgPSAwOyBmIDwgcDsgZisrKSB7CgkJCQkJbGV0IHAgPSBkW2ZdLCBDLCB3LCBUID0gLTEsIFcgPSAwOwoJCQkJCWZvciAoOyBXIDwgcC5sZW5ndGggJiYgKGIubGFzdEluZGV4ID0gVywgdyA9IGIuZXhlYyhwKSwgdyAhPT0gbnVsbCk7KSBXID0gYi5sYXN0SW5kZXgsIGIgPT09IEUgPyB3WzFdID09PSAiIS0tIiA/IGIgPSBEIDogd1sxXSA9PT0gdm9pZCAwID8gd1syXSA9PT0gdm9pZCAwID8gd1szXSAhPT0gdm9pZCAwICYmIChiID0gQSkgOiAoVS50ZXN0KHdbMl0pICYmIChoID0gUmVnRXhwKCI8LyIgKyB3WzJdLCAiZyIpKSwgYiA9IEEpIDogYiA9IE8gOiBiID09PSBBID8gd1swXSA9PT0gIj4iID8gKGIgPSBoID8/IEUsIFQgPSAtMSkgOiB3WzFdID09PSB2b2lkIDAgPyBUID0gLTIgOiAoVCA9IGIubGFzdEluZGV4IC0gd1syXS5sZW5ndGgsIEMgPSB3WzFdLCBiID0gd1szXSA9PT0gdm9pZCAwID8gQSA6IHdbM10gPT09ICJcIiIgPyBGIDogaikgOiBiID09PSBGIHx8IGIgPT09IGogPyBiID0gQSA6IGIgPT09IEQgfHwgYiA9PT0gTyA/IGIgPSBFIDogKGIgPSBBLCBoID0gdm9pZCAwKTsKCQkJCQlsZXQgRyA9IGIgPT09IEEgJiYgZFtmICsgMV0uc3RhcnRzV2l0aCgiLz4iKSA/ICIgIiA6ICIiOwoJCQkJCWcgKz0gYiA9PT0gRSA/IHAgKyB4IDogVCA+PSAwID8gKG0ucHVzaChDKSwgcC5zbGljZSgwLCBUKSArIF8gKyBwLnNsaWNlKFQpICsgdiArIEcpIDogcCArIHYgKyAoVCA9PT0gLTIgPyBmIDogRyk7CgkJCQl9CgkJCQlyZXR1cm4gW1AoZCwgZyArIChkW3BdIHx8ICI8Pz4iKSArIChmID09PSAyID8gIjwvc3ZnPiIgOiBmID09PSAzID8gIjwvbWF0aD4iIDogIiIpKSwgbV07CgkJCX07CgkJCWNsYXNzIE4gewoJCQkJY29uc3RydWN0b3IoeyBzdHJpbmdzOiBkLCBfJGxpdFR5cGUkOiBmIH0sIHApIHsKCQkJCQlsZXQgbTsKCQkJCQl0aGlzLnBhcnRzID0gW107CgkJCQkJbGV0IGcgPSAwLCB4ID0gMCwgQyA9IGQubGVuZ3RoIC0gMSwgdyA9IHRoaXMucGFydHMsIFtULCBFXSA9IFYoZCwgZik7CgkJCQkJaWYgKHRoaXMuZWwgPSBOLmNyZWF0ZUVsZW1lbnQoVCwgcCksIFguY3VycmVudE5vZGUgPSB0aGlzLmVsLmNvbnRlbnQsIGYgPT09IDIgfHwgZiA9PT0gMykgewoJCQkJCQlsZXQgZCA9IHRoaXMuZWwuY29udGVudC5maXJzdENoaWxkOwoJCQkJCQlkLnJlcGxhY2VXaXRoKC4uLmQuY2hpbGROb2Rlcyk7CgkJCQkJfQoJCQkJCWZvciAoOyAobSA9IFgubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgdy5sZW5ndGggPCBDOykgewoJCQkJCQlpZiAobS5ub2RlVHlwZSA9PT0gMSkgewoJCQkJCQkJaWYgKG0uaGFzQXR0cmlidXRlcygpKSBmb3IgKGxldCBkIG9mIG0uZ2V0QXR0cmlidXRlTmFtZXMoKSkgaWYgKGQuZW5kc1dpdGgoXykpIHsKCQkJCQkJCQlsZXQgZiA9IEVbeCsrXSwgcCA9IG0uZ2V0QXR0cmlidXRlKGQpLnNwbGl0KHYpLCBoID0gLyhbLj9AXSk/KC4qKS8uZXhlYyhmKTsKCQkJCQkJCQl3LnB1c2goewoJCQkJCQkJCQl0eXBlOiAxLAoJCQkJCQkJCQlpbmRleDogZywKCQkJCQkJCQkJbmFtZTogaFsyXSwKCQkJCQkJCQkJc3RyaW5nczogcCwKCQkJCQkJCQkJY3RvcjogaFsxXSA9PT0gIi4iID8gSCA6IGhbMV0gPT09ICI/IiA/IEkgOiBoWzFdID09PSAiQCIgPyBMIDogawoJCQkJCQkJCX0pLCBtLnJlbW92ZUF0dHJpYnV0ZShkKTsKCQkJCQkJCX0gZWxzZSBkLnN0YXJ0c1dpdGgodikgJiYgKHcucHVzaCh7CgkJCQkJCQkJdHlwZTogNiwKCQkJCQkJCQlpbmRleDogZwoJCQkJCQkJfSksIG0ucmVtb3ZlQXR0cmlidXRlKGQpKTsKCQkJCQkJCWlmIChVLnRlc3QobS50YWdOYW1lKSkgewoJCQkJCQkJCWxldCBkID0gbS50ZXh0Q29udGVudC5zcGxpdCh2KSwgZiA9IGQubGVuZ3RoIC0gMTsKCQkJCQkJCQlpZiAoZiA+IDApIHsKCQkJCQkJCQkJbS50ZXh0Q29udGVudCA9IGggPyBoLmVtcHR5U2NyaXB0IDogIiI7CgkJCQkJCQkJCWZvciAobGV0IHAgPSAwOyBwIDwgZjsgcCsrKSBtLmFwcGVuZChkW3BdLCBsKCkpLCBYLm5leHROb2RlKCksIHcucHVzaCh7CgkJCQkJCQkJCQl0eXBlOiAyLAoJCQkJCQkJCQkJaW5kZXg6ICsrZwoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJbS5hcHBlbmQoZFtmXSwgbCgpKTsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0gZWxzZSBpZiAobS5ub2RlVHlwZSA9PT0gOCkgaWYgKG0uZGF0YSA9PT0gYikgdy5wdXNoKHsKCQkJCQkJCXR5cGU6IDIsCgkJCQkJCQlpbmRleDogZwoJCQkJCQl9KTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlsZXQgZCA9IC0xOwoJCQkJCQkJZm9yICg7IChkID0gbS5kYXRhLmluZGV4T2YodiwgZCArIDEpKSAhPT0gLTE7KSB3LnB1c2goewoJCQkJCQkJCXR5cGU6IDcsCgkJCQkJCQkJaW5kZXg6IGcKCQkJCQkJCX0pLCBkICs9IHYubGVuZ3RoIC0gMTsKCQkJCQkJfQoJCQkJCQlnKys7CgkJCQkJfQoJCQkJfQoJCQkJc3RhdGljIGNyZWF0ZUVsZW1lbnQoZCwgZikgewoJCQkJCWxldCBwID0gQy5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwoJCQkJCXJldHVybiBwLmlubmVySFRNTCA9IGQsIHA7CgkJCQl9CgkJCX0KCQkJZnVuY3Rpb24gUyhkLCBmLCBwID0gZCwgbSkgewoJCQkJaWYgKGYgPT09IHEpIHJldHVybiBmOwoJCQkJbGV0IGggPSBtID09PSB2b2lkIDAgPyBwLl8kQ2wgOiBwLl8kQ28/LlttXSwgZyA9IGMoZikgPyB2b2lkIDAgOiBmLl8kbGl0RGlyZWN0aXZlJDsKCQkJCXJldHVybiBoPy5jb25zdHJ1Y3RvciAhPT0gZyAmJiAoaD8uXyRBTz8uKCExKSwgZyA9PT0gdm9pZCAwID8gaCA9IHZvaWQgMCA6IChoID0gbmV3IGcoZCksIGguXyRBVChkLCBwLCBtKSksIG0gPT09IHZvaWQgMCA/IHAuXyRDbCA9IGggOiAocC5fJENvID8/PSBbXSlbbV0gPSBoKSwgaCAhPT0gdm9pZCAwICYmIChmID0gUyhkLCBoLl8kQVMoZCwgZi52YWx1ZXMpLCBoLCBtKSksIGY7CgkJCX0KCQkJY2xhc3MgTSB7CgkJCQljb25zdHJ1Y3RvcihkLCBmKSB7CgkJCQkJdGhpcy5fJEFWID0gW10sIHRoaXMuXyRBTiA9IHZvaWQgMCwgdGhpcy5fJEFEID0gZCwgdGhpcy5fJEFNID0gZjsKCQkJCX0KCQkJCWdldCBwYXJlbnROb2RlKCkgewoJCQkJCXJldHVybiB0aGlzLl8kQU0ucGFyZW50Tm9kZTsKCQkJCX0KCQkJCWdldCBfJEFVKCkgewoJCQkJCXJldHVybiB0aGlzLl8kQU0uXyRBVTsKCQkJCX0KCQkJCXUoZCkgewoJCQkJCWxldCB7IGVsOiB7IGNvbnRlbnQ6IGYgfSwgcGFydHM6IHAgfSA9IHRoaXMuXyRBRCwgbSA9IChkPy5jcmVhdGlvblNjb3BlID8/IEMpLmltcG9ydE5vZGUoZiwgITApOwoJCQkJCVguY3VycmVudE5vZGUgPSBtOwoJCQkJCWxldCBoID0gWC5uZXh0Tm9kZSgpLCBnID0gMCwgXyA9IDAsIHYgPSBwWzBdOwoJCQkJCWZvciAoOyB2ICE9PSB2b2lkIDA7KSB7CgkJCQkJCWlmIChnID09PSB2LmluZGV4KSB7CgkJCQkJCQlsZXQgZjsKCQkJCQkJCXYudHlwZSA9PT0gMiA/IGYgPSBuZXcgUihoLCBoLm5leHRTaWJsaW5nLCB0aGlzLCBkKSA6IHYudHlwZSA9PT0gMSA/IGYgPSBuZXcgdi5jdG9yKGgsIHYubmFtZSwgdi5zdHJpbmdzLCB0aGlzLCBkKSA6IHYudHlwZSA9PT0gNiAmJiAoZiA9IG5ldyB6KGgsIHRoaXMsIGQpKSwgdGhpcy5fJEFWLnB1c2goZiksIHYgPSBwWysrX107CgkJCQkJCX0KCQkJCQkJZyAhPT0gdj8uaW5kZXggJiYgKGggPSBYLm5leHROb2RlKCksIGcrKyk7CgkJCQkJfQoJCQkJCXJldHVybiBYLmN1cnJlbnROb2RlID0gQywgbTsKCQkJCX0KCQkJCXAoZCkgewoJCQkJCWxldCBmID0gMDsKCQkJCQlmb3IgKGxldCBwIG9mIHRoaXMuXyRBVikgcCAhPT0gdm9pZCAwICYmIChwLnN0cmluZ3MgPT09IHZvaWQgMCA/IHAuXyRBSShkW2ZdKSA6IChwLl8kQUkoZCwgcCwgZiksIGYgKz0gcC5zdHJpbmdzLmxlbmd0aCAtIDIpKSwgZisrOwoJCQkJfQoJCQl9CgkJCWNsYXNzIFIgewoJCQkJZ2V0IF8kQVUoKSB7CgkJCQkJcmV0dXJuIHRoaXMuXyRBTT8uXyRBVSA/PyB0aGlzLl8kQ3Y7CgkJCQl9CgkJCQljb25zdHJ1Y3RvcihkLCBmLCBwLCBtKSB7CgkJCQkJdGhpcy50eXBlID0gMiwgdGhpcy5fJEFIID0gSiwgdGhpcy5fJEFOID0gdm9pZCAwLCB0aGlzLl8kQUEgPSBkLCB0aGlzLl8kQUIgPSBmLCB0aGlzLl8kQU0gPSBwLCB0aGlzLm9wdGlvbnMgPSBtLCB0aGlzLl8kQ3YgPSBtPy5pc0Nvbm5lY3RlZCA/PyAhMDsKCQkJCX0KCQkJCWdldCBwYXJlbnROb2RlKCkgewoJCQkJCWxldCBkID0gdGhpcy5fJEFBLnBhcmVudE5vZGUsIGYgPSB0aGlzLl8kQU07CgkJCQkJcmV0dXJuIGYgIT09IHZvaWQgMCAmJiBkPy5ub2RlVHlwZSA9PT0gMTEgJiYgKGQgPSBmLnBhcmVudE5vZGUpLCBkOwoJCQkJfQoJCQkJZ2V0IHN0YXJ0Tm9kZSgpIHsKCQkJCQlyZXR1cm4gdGhpcy5fJEFBOwoJCQkJfQoJCQkJZ2V0IGVuZE5vZGUoKSB7CgkJCQkJcmV0dXJuIHRoaXMuXyRBQjsKCQkJCX0KCQkJCV8kQUkoZCwgZiA9IHRoaXMpIHsKCQkJCQlkID0gUyh0aGlzLCBkLCBmKSwgYyhkKSA/IGQgPT09IEogfHwgZCA9PSBudWxsIHx8IGQgPT09ICIiID8gKHRoaXMuXyRBSCAhPT0gSiAmJiB0aGlzLl8kQVIoKSwgdGhpcy5fJEFIID0gSikgOiBkICE9PSB0aGlzLl8kQUggJiYgZCAhPT0gcSAmJiB0aGlzLl8oZCkgOiBkLl8kbGl0VHlwZSQgPT09IHZvaWQgMCA/IGQubm9kZVR5cGUgPT09IHZvaWQgMCA/IHUoZCkgPyB0aGlzLmsoZCkgOiB0aGlzLl8oZCkgOiB0aGlzLlQoZCkgOiB0aGlzLiQoZCk7CgkJCQl9CgkJCQlPKGQpIHsKCQkJCQlyZXR1cm4gdGhpcy5fJEFBLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQsIHRoaXMuXyRBQik7CgkJCQl9CgkJCQlUKGQpIHsKCQkJCQl0aGlzLl8kQUggIT09IGQgJiYgKHRoaXMuXyRBUigpLCB0aGlzLl8kQUggPSB0aGlzLk8oZCkpOwoJCQkJfQoJCQkJXyhkKSB7CgkJCQkJdGhpcy5fJEFIICE9PSBKICYmIGModGhpcy5fJEFIKSA/IHRoaXMuXyRBQS5uZXh0U2libGluZy5kYXRhID0gZCA6IHRoaXMuVChDLmNyZWF0ZVRleHROb2RlKGQpKSwgdGhpcy5fJEFIID0gZDsKCQkJCX0KCQkJCSQoZCkgewoJCQkJCWxldCB7IHZhbHVlczogZiwgXyRsaXRUeXBlJDogcCB9ID0gZCwgbSA9IHR5cGVvZiBwID09ICJudW1iZXIiID8gdGhpcy5fJEFDKGQpIDogKHAuZWwgPT09IHZvaWQgMCAmJiAocC5lbCA9IE4uY3JlYXRlRWxlbWVudChQKHAuaCwgcC5oWzBdKSwgdGhpcy5vcHRpb25zKSksIHApOwoJCQkJCWlmICh0aGlzLl8kQUg/Ll8kQUQgPT09IG0pIHRoaXMuXyRBSC5wKGYpOwoJCQkJCWVsc2UgewoJCQkJCQlsZXQgZCA9IG5ldyBNKG0sIHRoaXMpLCBwID0gZC51KHRoaXMub3B0aW9ucyk7CgkJCQkJCWQucChmKSwgdGhpcy5UKHApLCB0aGlzLl8kQUggPSBkOwoJCQkJCX0KCQkJCX0KCQkJCV8kQUMoZCkgewoJCQkJCWxldCBmID0gWS5nZXQoZC5zdHJpbmdzKTsKCQkJCQlyZXR1cm4gZiA9PT0gdm9pZCAwICYmIFkuc2V0KGQuc3RyaW5ncywgZiA9IG5ldyBOKGQpKSwgZjsKCQkJCX0KCQkJCWsoZCkgewoJCQkJCXcodGhpcy5fJEFIKSB8fCAodGhpcy5fJEFIID0gW10sIHRoaXMuXyRBUigpKTsKCQkJCQlsZXQgZiA9IHRoaXMuXyRBSCwgcCwgbSA9IDA7CgkJCQkJZm9yIChsZXQgaCBvZiBkKSBtID09PSBmLmxlbmd0aCA/IGYucHVzaChwID0gbmV3IFIodGhpcy5PKGwoKSksIHRoaXMuTyhsKCkpLCB0aGlzLCB0aGlzLm9wdGlvbnMpKSA6IHAgPSBmW21dLCBwLl8kQUkoaCksIG0rKzsKCQkJCQltIDwgZi5sZW5ndGggJiYgKHRoaXMuXyRBUihwICYmIHAuXyRBQi5uZXh0U2libGluZywgbSksIGYubGVuZ3RoID0gbSk7CgkJCQl9CgkJCQlfJEFSKGQgPSB0aGlzLl8kQUEubmV4dFNpYmxpbmcsIGYpIHsKCQkJCQlmb3IgKHRoaXMuXyRBUD8uKCExLCAhMCwgZik7IGQgJiYgZCAhPT0gdGhpcy5fJEFCOykgewoJCQkJCQlsZXQgZiA9IGQubmV4dFNpYmxpbmc7CgkJCQkJCWQucmVtb3ZlKCksIGQgPSBmOwoJCQkJCX0KCQkJCX0KCQkJCXNldENvbm5lY3RlZChkKSB7CgkJCQkJdGhpcy5fJEFNID09PSB2b2lkIDAgJiYgKHRoaXMuXyRDdiA9IGQsIHRoaXMuXyRBUD8uKGQpKTsKCQkJCX0KCQkJfQoJCQljbGFzcyBrIHsKCQkJCWdldCB0YWdOYW1lKCkgewoJCQkJCXJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTsKCQkJCX0KCQkJCWdldCBfJEFVKCkgewoJCQkJCXJldHVybiB0aGlzLl8kQU0uXyRBVTsKCQkJCX0KCQkJCWNvbnN0cnVjdG9yKGQsIGYsIHAsIG0sIGgpIHsKCQkJCQl0aGlzLnR5cGUgPSAxLCB0aGlzLl8kQUggPSBKLCB0aGlzLl8kQU4gPSB2b2lkIDAsIHRoaXMuZWxlbWVudCA9IGQsIHRoaXMubmFtZSA9IGYsIHRoaXMuXyRBTSA9IG0sIHRoaXMub3B0aW9ucyA9IGgsIHAubGVuZ3RoID4gMiB8fCBwWzBdICE9PSAiIiB8fCBwWzFdICE9PSAiIiA/ICh0aGlzLl8kQUggPSBBcnJheShwLmxlbmd0aCAtIDEpLmZpbGwobmV3IFN0cmluZygpKSwgdGhpcy5zdHJpbmdzID0gcCkgOiB0aGlzLl8kQUggPSBKOwoJCQkJfQoJCQkJXyRBSShkLCBmID0gdGhpcywgcCwgbSkgewoJCQkJCWxldCBoID0gdGhpcy5zdHJpbmdzLCBnID0gITE7CgkJCQkJaWYgKGggPT09IHZvaWQgMCkgZCA9IFModGhpcywgZCwgZiwgMCksIGcgPSAhYyhkKSB8fCBkICE9PSB0aGlzLl8kQUggJiYgZCAhPT0gcSwgZyAmJiAodGhpcy5fJEFIID0gZCk7CgkJCQkJZWxzZSB7CgkJCQkJCWxldCBtID0gZCwgXywgdjsKCQkJCQkJZm9yIChkID0gaFswXSwgXyA9IDA7IF8gPCBoLmxlbmd0aCAtIDE7IF8rKykgdiA9IFModGhpcywgbVtwICsgX10sIGYsIF8pLCB2ID09PSBxICYmICh2ID0gdGhpcy5fJEFIW19dKSwgZyB8fD0gIWModikgfHwgdiAhPT0gdGhpcy5fJEFIW19dLCB2ID09PSBKID8gZCA9IEogOiBkICE9PSBKICYmIChkICs9ICh2ID8/ICIiKSArIGhbXyArIDFdKSwgdGhpcy5fJEFIW19dID0gdjsKCQkJCQl9CgkJCQkJZyAmJiAhbSAmJiB0aGlzLmooZCk7CgkJCQl9CgkJCQlqKGQpIHsKCQkJCQlkID09PSBKID8gdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpIDogdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIGQgPz8gIiIpOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEggZXh0ZW5kcyBrIHsKCQkJCWNvbnN0cnVjdG9yKCkgewoJCQkJCXN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IDM7CgkJCQl9CgkJCQlqKGQpIHsKCQkJCQl0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IGQgPT09IEogPyB2b2lkIDAgOiBkOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEkgZXh0ZW5kcyBrIHsKCQkJCWNvbnN0cnVjdG9yKCkgewoJCQkJCXN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IDQ7CgkJCQl9CgkJCQlqKGQpIHsKCQkJCQl0aGlzLmVsZW1lbnQudG9nZ2xlQXR0cmlidXRlKHRoaXMubmFtZSwgISFkICYmIGQgIT09IEopOwoJCQkJfQoJCQl9CgkJCWNsYXNzIEwgZXh0ZW5kcyBrIHsKCQkJCWNvbnN0cnVjdG9yKGQsIGYsIHAsIG0sIGgpIHsKCQkJCQlzdXBlcihkLCBmLCBwLCBtLCBoKSwgdGhpcy50eXBlID0gNTsKCQkJCX0KCQkJCV8kQUkoZCwgZiA9IHRoaXMpIHsKCQkJCQlpZiAoKGQgPSBTKHRoaXMsIGQsIGYsIDApID8/IEopID09PSBxKSByZXR1cm47CgkJCQkJbGV0IHAgPSB0aGlzLl8kQUgsIG0gPSBkID09PSBKICYmIHAgIT09IEogfHwgZC5jYXB0dXJlICE9PSBwLmNhcHR1cmUgfHwgZC5vbmNlICE9PSBwLm9uY2UgfHwgZC5wYXNzaXZlICE9PSBwLnBhc3NpdmUsIGggPSBkICE9PSBKICYmIChwID09PSBKIHx8IG0pOwoJCQkJCW0gJiYgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLCB0aGlzLCBwKSwgaCAmJiB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIHRoaXMsIGQpLCB0aGlzLl8kQUggPSBkOwoJCQkJfQoJCQkJaGFuZGxlRXZlbnQoZCkgewoJCQkJCXR5cGVvZiB0aGlzLl8kQUggPT0gImZ1bmN0aW9uIiA/IHRoaXMuXyRBSC5jYWxsKHRoaXMub3B0aW9ucz8uaG9zdCA/PyB0aGlzLmVsZW1lbnQsIGQpIDogdGhpcy5fJEFILmhhbmRsZUV2ZW50KGQpOwoJCQkJfQoJCQl9CgkJCWNsYXNzIHogewoJCQkJY29uc3RydWN0b3IoZCwgZiwgcCkgewoJCQkJCXRoaXMuZWxlbWVudCA9IGQsIHRoaXMudHlwZSA9IDYsIHRoaXMuXyRBTiA9IHZvaWQgMCwgdGhpcy5fJEFNID0gZiwgdGhpcy5vcHRpb25zID0gcDsKCQkJCX0KCQkJCWdldCBfJEFVKCkgewoJCQkJCXJldHVybiB0aGlzLl8kQU0uXyRBVTsKCQkJCX0KCQkJCV8kQUkoZCkgewoJCQkJCVModGhpcywgZCk7CgkJCQl9CgkJCX0KCQkJbGV0IFogPSB7CgkJCQlNOiBfLAoJCQkJUDogdiwKCQkJCUE6IGIsCgkJCQlDOiAxLAoJCQkJTDogViwKCQkJCVI6IE0sCgkJCQlEOiB1LAoJCQkJVjogUywKCQkJCUk6IFIsCgkJCQlIOiBrLAoJCQkJTjogSSwKCQkJCVU6IEwsCgkJCQlCOiBILAoJCQkJRjogegoJCQl9LCBRID0gbS5saXRIdG1sUG9seWZpbGxTdXBwb3J0OwoJCQlRPy4oTiwgUiksIChtLmxpdEh0bWxWZXJzaW9ucyA/Pz0gW10pLnB1c2goIjMuMy4wIik7CgkJCWxldCBCID0gKGQsIGYsIHApID0+IHsKCQkJCWxldCBtID0gcD8ucmVuZGVyQmVmb3JlID8/IGYsIGggPSBtLl8kbGl0UGFydCQ7CgkJCQlpZiAoaCA9PT0gdm9pZCAwKSB7CgkJCQkJbGV0IGQgPSBwPy5yZW5kZXJCZWZvcmUgPz8gbnVsbDsKCQkJCQltLl8kbGl0UGFydCQgPSBoID0gbmV3IFIoZi5pbnNlcnRCZWZvcmUobCgpLCBkKSwgZCwgdm9pZCAwLCBwID8/IHt9KTsKCQkJCX0KCQkJCXJldHVybiBoLl8kQUkoZCksIGg7CgkJCX07CgkJfSwKCQkiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay1wb2x5ZmlsbC9pbmRleC5qcyI6ICgpID0+IHsKCQkJd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayB8fCBmdW5jdGlvbihkKSB7CgkJCQl2YXIgZiA9IERhdGUubm93KCk7CgkJCQlyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQlkKHsKCQkJCQkJZGlkVGltZW91dDogITEsCgkJCQkJCXRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIE1hdGgubWF4KDAsIDUwIC0gKERhdGUubm93KCkgLSBmKSk7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0sIDEpOwoJCQl9LCB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrID0gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayB8fCBmdW5jdGlvbihkKSB7CgkJCQljbGVhclRpbWVvdXQoZCk7CgkJCX07CgkJfSwKCQkiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL2lmcmFtZS50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IHE6ICgpID0+IGluaXRBdWRpb0Rvd25sb2FkZXJJZnJhbWUgfSk7CgkJCQkJdmFyIGggPSBwKCIuL3NyYy91dGlscy9kZWJ1Zy50cyIpLCBnID0gcCgiLi9zcmMvdXRpbHMvaWZyYW1lQ29ubmVjdG9yLnRzIiksIF8gPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc2hhcmVkLnRzIiksIHYgPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc3RyYXRlZ2llcy93ZWJBcGlHZXRBbGxHZW5lcmF0aW5nVXJsc0RhdGEvaWZyYW1lLnRzIiksIGIgPSBkKFtnLCB2XSk7CgkJCQkJW2csIHZdID0gYi50aGVuID8gKGF3YWl0IGIpKCkgOiBiOwoJCQkJCWxldCBoYW5kbGVJZnJhbWVNZXNzYWdlID0gYXN5bmMgKHsgZGF0YTogZCB9KSA9PiB7CgkJCQkJCWlmIChkPy5tZXNzYWdlRGlyZWN0aW9uID09PSAicmVxdWVzdCIpIHRyeSB7CgkJCQkJCQlzd2l0Y2ggKGQubWVzc2FnZVR5cGUpIHsKCQkJCQkJCQljYXNlICJnZXQtZG93bmxvYWQtYXVkaW8tZGF0YS1pbi1pZnJhbWUiOgoJCQkJCQkJCQlhd2FpdCAoMCwgdi5IKShkLnBheWxvYWQpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQlkZWZhdWx0OiBoLkEubG9nKGBOT1QgSU1QTEVNRU5URUQ6ICR7ZC5tZXNzYWdlVHlwZX1gLCBkLnBheWxvYWQpOwoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQljb25zb2xlLmVycm9yKCJbVk9UXSBNYWluIHdvcmxkIGJyaWRnZSIsIHsgZXJyb3I6IGQgfSk7CgkJCQkJCX0KCQkJCQl9OwoJCQkJCWZ1bmN0aW9uIGluaXRBdWRpb0Rvd25sb2FkZXJJZnJhbWUoKSB7CgkJCQkJCXJldHVybiAoMCwgZy5JbykoXy5ENSwgaGFuZGxlSWZyYW1lTWVzc2FnZSk7CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvaW5kZXgudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBJOiAoKSA9PiBBdWRpb0Rvd25sb2FkZXIgfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC90eXBlcy95YW5kZXguanMiKSwgZyA9IHAoIi4vc3JjL2NvcmUvZXZlbnRJbXBsLnRzIiksIF8gPSBwKCIuL3NyYy91dGlscy9kZWJ1Zy50cyIpLCB2ID0gcCgiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvaW5kZXgudHMiKSwgYiA9IHAoIi4vc3JjL2F1ZGlvRG93bmxvYWRlci9zdHJhdGVnaWVzL3V0aWxzLnRzIiksIHggPSBkKFt2LCBiXSk7CgkJCQkJW3YsIGJdID0geC50aGVuID8gKGF3YWl0IHgpKCkgOiB4OwoJCQkJCWFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNvbW1vbkF1ZGlvRG93bmxvYWRSZXF1ZXN0KHsgYXVkaW9Eb3dubG9hZGVyOiBkLCB0cmFuc2xhdGlvbklkOiBmLCB2aWRlb0lkOiBwLCBzaWduYWw6IG0gfSkgewoJCQkJCQlsZXQgaCA9IGF3YWl0IHYuV1tkLnN0cmF0ZWd5XSh7CgkJCQkJCQl2aWRlb0lkOiBwLAoJCQkJCQkJcmV0dXJuQnlQYXJ0czogITAsCgkJCQkJCQlzaWduYWw6IG0KCQkJCQkJfSk7CgkJCQkJCWlmICghaCkgdGhyb3cgRXJyb3IoIkF1ZGlvIGRvd25sb2FkZXIuIENhbiBub3QgZ2V0IGF1ZGlvIGRhdGEiKTsKCQkJCQkJXy5BLmxvZygiQXVkaW8gZG93bmxvYWRlci4gVXJsIGZvdW5kIiwgeyBhdWRpb0Rvd25sb2FkVHlwZTogZC5zdHJhdGVneSB9KTsKCQkJCQkJbGV0IHsgZ2V0TWVkaWFCdWZmZXJzOiBnLCBtZWRpYVBhcnRzTGVuZ3RoOiBiLCBmaWxlSWQ6IHggfSA9IGg7CgkJCQkJCWlmIChiIDwgMikgewoJCQkJCQkJbGV0IHsgdmFsdWU6IG0gfSA9IGF3YWl0IGcoKS5uZXh0KCk7CgkJCQkJCQlpZiAoIW0pIHRocm93IEVycm9yKCJBdWRpbyBkb3dubG9hZGVyLiBFbXB0eSBhdWRpbyIpOwoJCQkJCQkJZC5vbkRvd25sb2FkZWRBdWRpby5kaXNwYXRjaChmLCB7CgkJCQkJCQkJdmlkZW9JZDogcCwKCQkJCQkJCQlmaWxlSWQ6IHgsCgkJCQkJCQkJYXVkaW9EYXRhOiBtCgkJCQkJCQl9KTsKCQkJCQkJCXJldHVybjsKCQkJCQkJfQoJCQkJCQlsZXQgQyA9IDA7CgkJCQkJCWZvciBhd2FpdCAobGV0IG0gb2YgZygpKSB7CgkJCQkJCQlpZiAoIW0pIHRocm93IEVycm9yKCJBdWRpbyBkb3dubG9hZGVyLiBFbXB0eSBhdWRpbyIpOwoJCQkJCQkJZC5vbkRvd25sb2FkZWRQYXJ0aWFsQXVkaW8uZGlzcGF0Y2goZiwgewoJCQkJCQkJCXZpZGVvSWQ6IHAsCgkJCQkJCQkJZmlsZUlkOiB4LAoJCQkJCQkJCWF1ZGlvRGF0YTogbSwKCQkJCQkJCQl2ZXJzaW9uOiAxLAoJCQkJCQkJCWluZGV4OiBDLAoJCQkJCQkJCWFtb3VudDogYgoJCQkJCQkJfSksIEMrKzsKCQkJCQkJfQoJCQkJCX0KCQkJCQlhc3luYyBmdW5jdGlvbiBtYWluV29ybGRNZXNzYWdlSGFuZGxlcih7IGRhdGE6IGQgfSkgewoJCQkJCQl0cnkgewoJCQkJCQkJaWYgKGQ/Lm1lc3NhZ2VEaXJlY3Rpb24gIT09ICJyZXF1ZXN0IikgcmV0dXJuOwoJCQkJCQkJc3dpdGNoIChkLm1lc3NhZ2VUeXBlKSB7CgkJCQkJCQkJY2FzZSAiZ2V0LWRvd25sb2FkLWF1ZGlvLWRhdGEtaW4tbWFpbi13b3JsZCI6CgkJCQkJCQkJCWF3YWl0ICgwLCBiLmh5KSgiZ2V0LWRvd25sb2FkLWF1ZGlvLWRhdGEtaW4taWZyYW1lIiwgZCk7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQljb25zb2xlLmVycm9yKCJbVk9UXSBNYWluIHdvcmxkIGJyaWRnZSIsIHsgZXJyb3I6IGQgfSk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJY2xhc3MgQXVkaW9Eb3dubG9hZGVyIHsKCQkJCQkJb25Eb3dubG9hZGVkQXVkaW8gPSBuZXcgZy5aKCk7CgkJCQkJCW9uRG93bmxvYWRlZFBhcnRpYWxBdWRpbyA9IG5ldyBnLlooKTsKCQkJCQkJb25Eb3dubG9hZEF1ZGlvRXJyb3IgPSBuZXcgZy5aKCk7CgkJCQkJCXN0cmF0ZWd5OwoJCQkJCQljb25zdHJ1Y3RvcihkID0gaC5KLldFQl9BUElfR0VUX0FMTF9HRU5FUkFUSU5HX1VSTFNfREFUQV9GUk9NX0lGUkFNRSkgewoJCQkJCQkJdGhpcy5zdHJhdGVneSA9IGQsIF8uQS5sb2coIkF1ZGlvIGRvd25sb2FkZXIgY3JlYXRlZCIsIHsgc3RyYXRlZ3k6IGQgfSk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgcnVuQXVkaW9Eb3dubG9hZChkLCBmLCBwKSB7CgkJCQkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIG1haW5Xb3JsZE1lc3NhZ2VIYW5kbGVyKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJYXdhaXQgaGFuZGxlQ29tbW9uQXVkaW9Eb3dubG9hZFJlcXVlc3QoewoJCQkJCQkJCQlhdWRpb0Rvd25sb2FkZXI6IHRoaXMsCgkJCQkJCQkJCXRyYW5zbGF0aW9uSWQ6IGYsCgkJCQkJCQkJCXZpZGVvSWQ6IGQsCgkJCQkJCQkJCXNpZ25hbDogcAoJCQkJCQkJCX0pLCBfLkEubG9nKCJBdWRpbyBkb3dubG9hZGVyLiBBdWRpbyBkb3dubG9hZCBmaW5pc2hlZCIsIHsgdmlkZW9JZDogZCB9KTsKCQkJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJCQljb25zb2xlLmVycm9yKCJBdWRpbyBkb3dubG9hZGVyLiBGYWlsZWQgdG8gZG93bmxvYWQgYXVkaW8iLCBmKSwgdGhpcy5vbkRvd25sb2FkQXVkaW9FcnJvci5kaXNwYXRjaChkKTsKCQkJCQkJCX0KCQkJCQkJCXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgbWFpbldvcmxkTWVzc2FnZUhhbmRsZXIpOwoJCQkJCQl9CgkJCQkJCWFkZEV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJc3dpdGNoIChkKSB7CgkJCQkJCQkJY2FzZSAiZG93bmxvYWRlZEF1ZGlvIjoKCQkJCQkJCQkJdGhpcy5vbkRvd25sb2FkZWRBdWRpby5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiZG93bmxvYWRlZFBhcnRpYWxBdWRpbyI6CgkJCQkJCQkJCXRoaXMub25Eb3dubG9hZGVkUGFydGlhbEF1ZGlvLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJkb3dubG9hZEF1ZGlvRXJyb3IiOgoJCQkJCQkJCQl0aGlzLm9uRG93bmxvYWRBdWRpb0Vycm9yLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiB0aGlzOwoJCQkJCQl9CgkJCQkJCXJlbW92ZUV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJc3dpdGNoIChkKSB7CgkJCQkJCQkJY2FzZSAiZG93bmxvYWRlZEF1ZGlvIjoKCQkJCQkJCQkJdGhpcy5vbkRvd25sb2FkZWRBdWRpby5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiZG93bmxvYWRlZFBhcnRpYWxBdWRpbyI6CgkJCQkJCQkJCXRoaXMub25Eb3dubG9hZGVkUGFydGlhbEF1ZGlvLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJkb3dubG9hZEF1ZGlvRXJyb3IiOgoJCQkJCQkJCQl0aGlzLm9uRG93bmxvYWRBdWRpb0Vycm9yLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiB0aGlzOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc2hhcmVkLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgewoJCQkJQWo6ICgpID0+IHYsCgkJCQlENTogKCkgPT4gZywKCQkJCVJaOiAoKSA9PiBkZXNlcmlhbGl6ZVJlcXVlc3RJbml0LAoJCQkJU1o6ICgpID0+IHNlcmlhbGl6ZVJlc3BvbnNlLAoJCQkJY1A6ICgpID0+IHcsCgkJCQlkczogKCkgPT4gQywKCQkJCWtWOiAoKSA9PiBiLAoJCQkJb3Y6ICgpID0+IF8sCgkJCQlwcjogKCkgPT4gaCwKCQkJCXJoOiAoKSA9PiBnZXRSZXF1ZXN0VXJsLAoJCQkJc1U6ICgpID0+IHgsCgkJCQl5QTogKCkgPT4gc2VyaWFsaXplUmVxdWVzdEluaXQKCQkJfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9pbmRleC5qcyIpOwoJCQlsZXQgaCA9ICJ2b3RfaWZyYW1lX3BsYXllciIsIGcgPSAic2VydmljZSIsIF8gPSAid3d3LnlvdXR1YmUuY29tIiwgdiA9IG0uJFcubWluQ2h1bmtTaXplLCBiID0gLjksIHggPSBbCgkJCQk2ZTQsCgkJCQk4ZTQsCgkJCQkxNWU0LAoJCQkJMzNlNCwKCQkJCTQ2ZTQKCQkJXSwgQyA9IDE1ZTMsIHcgPSAuOSwgZ2V0UmVxdWVzdFVybCA9IChkKSA9PiB0eXBlb2YgZCA9PSAic3RyaW5nIiA/IGQgOiBkLnVybDsKCQkJZnVuY3Rpb24gc2VyaWFsaXplUmVxdWVzdEluaXQoZCkgewoJCQkJbGV0IGYgPSBuZXcgVWludDhBcnJheShbMTIwLCAwXSk7CgkJCQlpZiAodHlwZW9mIGQgPT0gInN0cmluZyIpIHJldHVybiB7CgkJCQkJYm9keTogZiwKCQkJCQljYWNoZTogIm5vLXN0b3JlIiwKCQkJCQljcmVkZW50aWFsczogImluY2x1ZGUiLAoJCQkJCW1ldGhvZDogIlBPU1QiCgkJCQl9OwoJCQkJbGV0IHsgaGVhZGVyczogcCwgY2FjaGU6IG0sIGNyZWRlbnRpYWxzOiBoLCBpbnRlZ3JpdHk6IGcsIGtlZXBhbGl2ZTogXywgbWV0aG9kOiB2LCBtb2RlOiBiLCByZWRpcmVjdDogeCwgcmVmZXJyZXI6IEMsIHJlZmVycmVyUG9saWN5OiB3IH0gPSBkLCBUID0gWy4uLnAuZW50cmllcygpXTsKCQkJCXJldHVybiB7CgkJCQkJYm9keTogZiwKCQkJCQljYWNoZTogbSwKCQkJCQljcmVkZW50aWFsczogaCwKCQkJCQloZWFkZXJzRW50cmllczogVCwKCQkJCQlpbnRlZ3JpdHk6IGcsCgkJCQkJa2VlcGFsaXZlOiBfLAoJCQkJCW1ldGhvZDogdiwKCQkJCQltb2RlOiBiLAoJCQkJCXJlZGlyZWN0OiB4LAoJCQkJCXJlZmVycmVyOiBDLAoJCQkJCXJlZmVycmVyUG9saWN5OiB3CgkJCQl9OwoJCQl9CgkJCWZ1bmN0aW9uIGRlc2VyaWFsaXplUmVxdWVzdEluaXQoZCkgewoJCQkJbGV0IHsgaGVhZGVyc0VudHJpZXM6IGYsLi4ucCB9ID0gZCwgbSA9IG5ldyBIZWFkZXJzKGYpOwoJCQkJcmV0dXJuIHsKCQkJCQkuLi5wLAoJCQkJCWhlYWRlcnM6IG0KCQkJCX07CgkJCX0KCQkJZnVuY3Rpb24gc2VyaWFsaXplUmVzcG9uc2UoZCkgewoJCQkJbGV0IHsgb2s6IGYsIHJlZGlyZWN0ZWQ6IHAsIHN0YXR1czogbSwgc3RhdHVzVGV4dDogaCwgdHlwZTogZywgdXJsOiBfIH0gPSBkOwoJCQkJcmV0dXJuIHsKCQkJCQlvazogZiwKCQkJCQlyZWRpcmVjdGVkOiBwLAoJCQkJCXN0YXR1czogbSwKCQkJCQlzdGF0dXNUZXh0OiBoLAoJCQkJCXR5cGU6IGcsCgkJCQkJdXJsOiBfCgkJCQl9OwoJCQl9CgkJfSwKCQkiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvaW5kZXgudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBXOiAoKSA9PiB2IH0pOwoJCQkJCXZhciBoID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdHlwZXMveWFuZGV4LmpzIiksIGcgPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc3RyYXRlZ2llcy93ZWJBcGlHZXRBbGxHZW5lcmF0aW5nVXJsc0RhdGEvaW5kZXgudHMiKSwgXyA9IGQoW2ddKTsKCQkJCQlnID0gKF8udGhlbiA/IChhd2FpdCBfKSgpIDogXylbMF07CgkJCQkJbGV0IHYgPSB7IFtoLkouV0VCX0FQSV9HRVRfQUxMX0dFTkVSQVRJTkdfVVJMU19EQVRBX0ZST01fSUZSQU1FXTogZy4kIH07CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL2F1ZGlvRG93bmxvYWRlci9zdHJhdGVnaWVzL3V0aWxzLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsKCQkJCQkJTG06ICgpID0+IGdldENodW5rUmFuZ2VzRnJvbUFkYXB0aXZlRm9ybWF0LAoJCQkJCQliQjogKCkgPT4gZ2V0Q2h1bmtSYW5nZXNQYXJ0c0Zyb21BZGFwdGl2ZUZvcm1hdCwKCQkJCQkJaHk6ICgpID0+IHNlbmRSZXF1ZXN0VG9JZnJhbWUsCgkJCQkJCWl6OiAoKSA9PiBtZXJnZUJ1ZmZlcnMsCgkJCQkJCXFrOiAoKSA9PiBtYWtlRmlsZUlkCgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL3NyYy91dGlscy9pZnJhbWVDb25uZWN0b3IudHMiKSwgZyA9IHAoIi4vc3JjL2F1ZGlvRG93bmxvYWRlci9zaGFyZWQudHMiKSwgXyA9IGQoW2hdKTsKCQkJCQloID0gKF8udGhlbiA/IChhd2FpdCBfKSgpIDogXylbMF07CgkJCQkJbGV0IHYgPSBudWxsOwoJCQkJCWZ1bmN0aW9uIGdldENodW5rUmFuZ2VzUGFydHNGcm9tQ29udGVudExlbmd0aChkKSB7CgkJCQkJCWlmIChkIDwgMSkgdGhyb3cgRXJyb3IoIkF1ZGlvIGRvd25sb2FkZXIuIFdFQiBBUEkuIGNvbnRlbnRMZW5ndGggbXVzdCBiZSBhdCBsZWFzdCAxIik7CgkJCQkJCWxldCBmID0gTWF0aC5yb3VuZChkICogZy5rViksIHAgPSBbXSwgbSA9IFtdLCBoID0gMCwgXyA9IDAsIHYgPSAwLCBiID0gTWF0aC5taW4oZy5zVVtfXSwgZCk7CgkJCQkJCWZvciAoOyBiIDwgZDspIHsKCQkJCQkJCWxldCBkID0gYiA8IGY7CgkJCQkJCQltLnB1c2goewoJCQkJCQkJCXN0YXJ0OiB2LAoJCQkJCQkJCWVuZDogYiwKCQkJCQkJCQltdXN0RXhpc3Q6IGQKCQkJCQkJCX0pLCBoICs9IGIgLSB2LCBoID49IGcuQWogJiYgKHAucHVzaChtKSwgbSA9IFtdLCBoID0gMCksIF8gPCBnLnNVLmxlbmd0aCAtIDEgJiYgXysrLCB2ID0gYiArIDEsIGIgKz0gZy5zVVtfXTsKCQkJCQkJfQoJCQkJCQlyZXR1cm4gYiA9IGQsIG0ucHVzaCh7CgkJCQkJCQlzdGFydDogdiwKCQkJCQkJCWVuZDogYiwKCQkJCQkJCW11c3RFeGlzdDogITEKCQkJCQkJfSksIHAucHVzaChtKSwgcDsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gcGFyc2VDb250ZW50TGVuZ3RoKHsgY29udGVudExlbmd0aDogZCB9KSB7CgkJCQkJCWlmICh0eXBlb2YgZCAhPSAic3RyaW5nIikgdGhyb3cgRXJyb3IoYEF1ZGlvIGRvd25sb2FkZXIuIFdFQiBBUEkuIENvbnRlbnQgbGVuZ3RoICgke2R9KSBpcyBub3QgYSBzdHJpbmdgKTsKCQkJCQkJbGV0IGYgPSBOdW1iZXIucGFyc2VJbnQoZCk7CgkJCQkJCWlmICghTnVtYmVyLmlzRmluaXRlKGYpKSB0aHJvdyBFcnJvcihgQXVkaW8gZG93bmxvYWRlci4gV0VCIEFQSS4gUGFyc2VkIGNvbnRlbnQgbGVuZ3RoIGlzIG5vdCBmaW5pdGUgKCR7Zn0pYCk7CgkJCQkJCXJldHVybiBmOwoJCQkJCX0KCQkJCQlmdW5jdGlvbiBnZXRDaHVua1Jhbmdlc1BhcnRzRnJvbUFkYXB0aXZlRm9ybWF0KGQpIHsKCQkJCQkJbGV0IGYgPSBwYXJzZUNvbnRlbnRMZW5ndGgoZCksIHAgPSBnZXRDaHVua1Jhbmdlc1BhcnRzRnJvbUNvbnRlbnRMZW5ndGgoZik7CgkJCQkJCWlmICghcC5sZW5ndGgpIHRocm93IEVycm9yKCJBdWRpbyBkb3dubG9hZGVyLiBXRUIgQVBJLiBObyBjaHVuayBwYXJ0cyBnZW5lcmF0ZWQiKTsKCQkJCQkJcmV0dXJuIHA7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIGdldENodW5rUmFuZ2VzRnJvbUNvbnRlbnRMZW5ndGgoZCkgewoJCQkJCQlpZiAoZCA8IDEpIHRocm93IEVycm9yKCJBdWRpbyBkb3dubG9hZGVyLiBXRUIgQVBJLiBjb250ZW50TGVuZ3RoIGNhbm5vdCBiZSBsZXNzIHRoYW4gMSIpOwoJCQkJCQlsZXQgZiA9IE1hdGgucm91bmQoZCAqIGcua1YpLCBwID0gW10sIG0gPSAwLCBoID0gMCwgXyA9IE1hdGgubWluKGcuc1VbbV0sIGQpOwoJCQkJCQlmb3IgKDsgXyA8IGQ7KSB7CgkJCQkJCQlsZXQgZCA9IF8gPCBmOwoJCQkJCQkJcC5wdXNoKHsKCQkJCQkJCQlzdGFydDogaCwKCQkJCQkJCQllbmQ6IF8sCgkJCQkJCQkJbXVzdEV4aXN0OiBkCgkJCQkJCQl9KSwgbSAhPT0gZy5zVS5sZW5ndGggLSAxICYmIG0rKywgaCA9IF8gKyAxLCBfICs9IGcuc1VbbV07CgkJCQkJCX0KCQkJCQkJcmV0dXJuIHAucHVzaCh7CgkJCQkJCQlzdGFydDogaCwKCQkJCQkJCWVuZDogZCwKCQkJCQkJCW11c3RFeGlzdDogITEKCQkJCQkJfSksIHA7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIGdldENodW5rUmFuZ2VzRnJvbUFkYXB0aXZlRm9ybWF0KGQpIHsKCQkJCQkJbGV0IGYgPSBwYXJzZUNvbnRlbnRMZW5ndGgoZCksIHAgPSBnZXRDaHVua1Jhbmdlc0Zyb21Db250ZW50TGVuZ3RoKGYpOwoJCQkJCQlpZiAoIXAubGVuZ3RoKSB0aHJvdyBFcnJvcigiQXVkaW8gZG93bmxvYWRlci4gV0VCIEFQSS4gRW1wdHkgY2h1bmsgcmFuZ2VzIik7CgkJCQkJCXJldHVybiBwOwoJCQkJCX0KCQkJCQlmdW5jdGlvbiBtZXJnZUJ1ZmZlcnMoZCkgewoJCQkJCQlsZXQgZiA9IGQucmVkdWNlKChkLCBmKSA9PiBkICsgZi5ieXRlTGVuZ3RoLCAwKSwgcCA9IG5ldyBVaW50OEFycmF5KGYpLCBtID0gMDsKCQkJCQkJZm9yIChsZXQgZiBvZiBkKSBwLnNldChuZXcgVWludDhBcnJheShmKSwgbSksIG0gKz0gZi5ieXRlTGVuZ3RoOwoJCQkJCQlyZXR1cm4gcDsKCQkJCQl9CgkJCQkJYXN5bmMgZnVuY3Rpb24gc2VuZFJlcXVlc3RUb0lmcmFtZShkLCBmKSB7CgkJCQkJCWxldCB7IHZpZGVvSWQ6IHAgfSA9IGYucGF5bG9hZCwgbSA9IGBodHRwczovLyR7Zy5vdn0vZW1iZWQvJHtwfT9hdXRvcGxheT0wJm11dGU9MWA7CgkJCQkJCXRyeSB7CgkJCQkJCQlsZXQgcCA9IGF3YWl0ICgwLCBoLklBKSh2LCBtLCBnLnByLCBnLkQ1KTsKCQkJCQkJCWlmICghKDAsIGgueUIpKGcucHIpKSB0aHJvdyBFcnJvcigiQXVkaW8gZG93bmxvYWRlci4gV0VCIEFQSS4gU2VydmljZSBpZnJhbWUgZGVsZXRlZCIpOwoJCQkJCQkJcC5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZSh7CgkJCQkJCQkJbWVzc2FnZUlkOiAoMCwgaC5PaykoKSwKCQkJCQkJCQltZXNzYWdlVHlwZTogZCwKCQkJCQkJCQltZXNzYWdlRGlyZWN0aW9uOiAicmVxdWVzdCIsCgkJCQkJCQkJcGF5bG9hZDogZiwKCQkJCQkJCQllcnJvcjogZi5lcnJvcgoJCQkJCQkJfSwgIioiKTsKCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJZi5lcnJvciA9IGQsIGYubWVzc2FnZURpcmVjdGlvbiA9ICJyZXNwb25zZSIsIHdpbmRvdy5wb3N0TWVzc2FnZShmLCAiKiIpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIG1ha2VGaWxlSWQoZCwgZiwgcCkgewoJCQkJCQlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoewoJCQkJCQkJZG93bmxvYWRUeXBlOiBkLAoJCQkJCQkJaXRhZzogZiwKCQkJCQkJCW1pbkNodW5rU2l6ZTogZy5BaiwKCQkJCQkJCWZpbGVTaXplOiBwCgkJCQkJCX0pOwoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvd2ViQXBpR2V0QWxsR2VuZXJhdGluZ1VybHNEYXRhL2NvbnN0cy50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCUNwOiAoKSA9PiBtLAoJCQkJVmY6ICgpID0+IGcsCgkJCQlrWDogKCkgPT4gaCwKCQkJCWw0OiAoKSA9PiBfLAoJCQkJc3U6ICgpID0+IHYKCQkJfSk7CgkJCWxldCBtID0gIkF1ZGlvIGRvd25sb2FkZXIuIFdFQiBBUEkuIENhbiBub3QgZ2V0IGdldEdlbmVyYXRpbmdBdWRpb1VybHNEYXRhRnJvbUlmcmFtZSBkdWUgdG8gdGltZW91dCIsIGggPSAiQXVkaW8gZG93bmxvYWRlci4gV0VCIEFQSS4gSW5jb3JyZWN0IHJlc3BvbnNlIG9uIGZldGNoIG1lZGlhIHVybCIsIGcgPSAiQXVkaW8gZG93bmxvYWRlci4gV0VCIEFQSS4gQ2FuIG5vdCBmZXRjaCBtZWRpYSB1cmwiLCBfID0gIkF1ZGlvIGRvd25sb2FkZXIuIFdFQiBBUEkuIENhbiBub3QgZ2V0IGFycmF5IGJ1ZmZlciBmcm9tIG1lZGlhIHVybCIsIHYgPSBuZXcgVGV4dERlY29kZXIoImFzY2lpIik7CgkJfSwKCQkiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvd2ViQXBpR2V0QWxsR2VuZXJhdGluZ1VybHNEYXRhL2hlbHBlcnMudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7CgkJCQlEQTogKCkgPT4gZ2V0VXJsRnJvbUFycmF5QnVmZmVyLAoJCQkJYXk6ICgpID0+IHBhdGNoTWVkaWFVcmwsCgkJCQllTjogKCkgPT4gaXNDaHVua0xlbmd0aEFjY2VwdGFibGUKCQkJfSk7CgkJCXZhciBtID0gcCgiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3NoYXJlZC50cyIpLCBoID0gcCgiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvd2ViQXBpR2V0QWxsR2VuZXJhdGluZ1VybHNEYXRhL2NvbnN0cy50cyIpOwoJCQlsZXQgZyA9IDE7CgkJCWZ1bmN0aW9uIHBhdGNoTWVkaWFVcmwoZCwgeyBzdGFydDogZiwgZW5kOiBwIH0pIHsKCQkJCWxldCBtID0gbmV3IFVSTChkKTsKCQkJCXJldHVybiBtLnNlYXJjaFBhcmFtcy5zZXQoInJhbmdlIiwgYCR7Zn0tJHtwfWApLCBtLnNlYXJjaFBhcmFtcy5zZXQoInJuIiwgU3RyaW5nKGcrKykpLCBtLnNlYXJjaFBhcmFtcy5kZWxldGUoInVtcCIpLCBtLnRvU3RyaW5nKCk7CgkJCX0KCQkJZnVuY3Rpb24gaXNDaHVua0xlbmd0aEFjY2VwdGFibGUoZCwgeyBzdGFydDogZiwgZW5kOiBwIH0pIHsKCQkJCWxldCBoID0gcCAtIGY7CgkJCQlyZXR1cm4gaCA+IG0uZHMgJiYgZC5ieXRlTGVuZ3RoIDwgbS5kcyA/ICExIDogTWF0aC5taW4oaCwgZC5ieXRlTGVuZ3RoKSAvIE1hdGgubWF4KGgsIGQuYnl0ZUxlbmd0aCkgPiBtLmNQOwoJCQl9CgkJCWxldCBnZXRVcmxGcm9tQXJyYXlCdWZmZXIgPSAoZCkgPT4gaC5zdS5kZWNvZGUoZCkubWF0Y2goL2h0dHBzOlwvXC8uKiQvKT8uWzBdOwoJCX0sCgkJIi4vc3JjL2F1ZGlvRG93bmxvYWRlci9zdHJhdGVnaWVzL3dlYkFwaUdldEFsbEdlbmVyYXRpbmdVcmxzRGF0YS9pZnJhbWUudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBIOiAoKSA9PiBnZXREb3dubG9hZEF1ZGlvRGF0YSB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvZXh0L2Rpc3QvaGVscGVycy95b3V0dWJlLmpzIiksIGcgPSBwKCIuL3NyYy91dGlscy9kZWJ1Zy50cyIpLCBfID0gcCgiLi9zcmMvdXRpbHMvdXRpbHMudHMiKSwgdiA9IHAoIi4vc3JjL2F1ZGlvRG93bmxvYWRlci9zaGFyZWQudHMiKSwgYiA9IGQoW19dKTsKCQkJCQlfID0gKGIudGhlbiA/IChhd2FpdCBiKSgpIDogYilbMF07CgkJCQkJbGV0IHggPSAiIiwgZ2V0QWRhcHRpdmVGb3JtYXRzID0gKCkgPT4gaC5BLmdldFBsYXllclJlc3BvbnNlKCk/LnN0cmVhbWluZ0RhdGE/LmFkYXB0aXZlRm9ybWF0czsKCQkJCQlhc3luYyBmdW5jdGlvbiBpc0VuY29kZWRSZXF1ZXN0KGQsIGYpIHsKCQkJCQkJaWYgKCFkLmluY2x1ZGVzKCJnb29nbGV2aWRlby5jb20vdmlkZW9wbGF5YmFjayIpIHx8IHR5cGVvZiBmID09ICJzdHJpbmciKSByZXR1cm4gITE7CgkJCQkJCXRyeSB7CgkJCQkJCQlsZXQgZCA9IGYuY2xvbmUoKS5ib2R5Py5nZXRSZWFkZXIoKTsKCQkJCQkJCWlmICghZCkgcmV0dXJuICExOwoJCQkJCQkJbGV0IHAgPSAwOwoJCQkJCQkJZm9yICg7OykgewoJCQkJCQkJCWxldCB7IGRvbmU6IGYsIHZhbHVlOiBtIH0gPSBhd2FpdCBkLnJlYWQoKTsKCQkJCQkJCQlpZiAoZikgYnJlYWs7CgkJCQkJCQkJaWYgKHAgKz0gbS5sZW5ndGgsIHAgPiAyKSByZXR1cm4gITA7CgkJCQkJCQl9CgkJCQkJCX0gY2F0Y2gge30KCQkJCQkJcmV0dXJuICExOwoJCQkJCX0KCQkJCQlmdW5jdGlvbiBzZWxlY3RCZXN0QXVkaW9Gb3JtYXQoKSB7CgkJCQkJCWxldCBkID0gZ2V0QWRhcHRpdmVGb3JtYXRzKCk7CgkJCQkJCWlmICghZD8ubGVuZ3RoKSB7CgkJCQkJCQlsZXQgZiA9IGQgPyAiRW1wdHkgYWRhcHRpdmUgZm9ybWF0cyIgOiAiQ2Fubm90IGdldCBhZGFwdGl2ZSBmb3JtYXRzIjsKCQkJCQkJCXRocm93IEVycm9yKGBBdWRpbyBkb3dubG9hZGVyLiBXRUIgQVBJLiAke2Z9YCk7CgkJCQkJCX0KCQkJCQkJbGV0IGYgPSBkLmZpbHRlcigoeyBhdWRpb1F1YWxpdHk6IGQsIG1pbWVUeXBlOiBmIH0pID0+IGQgfHwgZj8uaW5jbHVkZXMoImF1ZGlvIikpOwoJCQkJCQlpZiAoIWYubGVuZ3RoKSB0aHJvdyBFcnJvcigiQXVkaW8gZG93bmxvYWRlci4gV0VCIEFQSS4gTm8gYXVkaW8gYWRhcHRpdmUgZm9ybWF0cyIpOwoJCQkJCQlsZXQgcCA9IGYuZmlsdGVyKCh7IGl0YWc6IGQgfSkgPT4gZCA9PT0gMjUxKS5zb3J0KCh7IGNvbnRlbnRMZW5ndGg6IGQgfSwgeyBjb250ZW50TGVuZ3RoOiBmIH0pID0+IGQgJiYgZiA/IE51bWJlci5wYXJzZUludChkKSAtIE51bWJlci5wYXJzZUludChmKSA6IC0xKTsKCQkJCQkJcmV0dXJuIHAuYXQoLTEpID8/IGZbMF07CgkJCQkJfQoJCQkJCWxldCB3YWl0Rm9yUGxheWVyID0gYXN5bmMgKCkgPT4gKGF3YWl0ICgwLCBfLlVWKSgoKSA9PiAhIWguQS5nZXRQbGF5ZXIoKSwgMWU0KSwgaC5BLmdldFBsYXllcigpKSwgbG9hZFZpZGVvID0gYXN5bmMgKGQpID0+IHsKCQkJCQkJbGV0IGYgPSBhd2FpdCB3YWl0Rm9yUGxheWVyKCk7CgkJCQkJCWlmIChkLm1lc3NhZ2VJZCAhPT0geCkgdGhyb3cgRXJyb3IoIkF1ZGlvIGRvd25sb2FkZXIuIERvd25sb2FkIHN0YXJ0ZWQgZm9yIGFub3RoZXIgdmlkZW8gd2hpbGUgZ2V0dGluZyBwbGF5ZXIiKTsKCQkJCQkJaWYgKCFmPy5sb2FkVmlkZW9CeUlkKSB0aHJvdyBFcnJvcigiQXVkaW8gZG93bmxvYWRlci4gVGhlcmUgaXMgbm8gcGxheWVyLmxvYWRWaWRlb0J5SWQgaW4gaWZyYW1lIik7CgkJCQkJCWYubG9hZFZpZGVvQnlJZChkLnBheWxvYWQudmlkZW9JZCksIGYucGF1c2VWaWRlbz8uKCksIGYubXV0ZT8uKCksIHNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQkJaWYgKGQubWVzc2FnZUlkICE9PSB4KSB7CgkJCQkJCQkJY29uc29sZS5lcnJvcigiQXVkaW8gRG93bmxvYWRlci4gRG93bmxvYWQgc3RhcnRlZCBmb3IgYW5vdGhlciB2aWRlbyB3aGlsZSB3YWl0aW5nIHRvIHJlcGF1c2UgdmlkZW8iKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQlpZiAoIWYpIHsKCQkJCQkJCQljb25zb2xlLmVycm9yKCJbQ3JpdGljYWxdIEF1ZGlvIERvd25sb2FkZXIuIFBsYXllciBub3QgZm91bmQgaW4gaWZyYW1lIGFmdGVyIHRpbWVvdXQiKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQlmLnBhdXNlVmlkZW8/LigpOwoJCQkJCQl9LCAxZTMpOwoJCQkJCX07CgkJCQkJYXN5bmMgZnVuY3Rpb24gZ2V0RG93bmxvYWRBdWRpb0RhdGEoZCkgewoJCQkJCQl0cnkgewoJCQkJCQkJeCA9IGQubWVzc2FnZUlkLCBnLkEubG9nKCJnZXREb3dubG9hZEF1ZGlvRGF0YSIsIGQpOwoJCQkJCQkJbGV0IGYgPSB1bnNhZmVXaW5kb3cuZmV0Y2g7CgkJCQkJCQl1bnNhZmVXaW5kb3cuZmV0Y2ggPSBhc3luYyAocCwgbSkgPT4gewoJCQkJCQkJCXAgaW5zdGFuY2VvZiBVUkwgJiYgKHAgPSBwLnRvU3RyaW5nKCkpOwoJCQkJCQkJCWxldCBoID0gKDAsIHYucmgpKHApOwoJCQkJCQkJCWlmIChhd2FpdCBpc0VuY29kZWRSZXF1ZXN0KGgsIHApKSByZXR1cm4gd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7CgkJCQkJCQkJCS4uLmQsCgkJCQkJCQkJCW1lc3NhZ2VEaXJlY3Rpb246ICJyZXNwb25zZSIsCgkJCQkJCQkJCWVycm9yOiAiQXVkaW8gZG93bmxvYWRlci4gRGV0ZWN0ZWQgZW5jb2RlZCByZXF1ZXN0LiIKCQkJCQkJCQl9LCAiKiIpLCB1bnNhZmVXaW5kb3cuZmV0Y2ggPSBmLCBmKHAsIG0pOwoJCQkJCQkJCWxldCBnID0gYXdhaXQgZihwLCBtKTsKCQkJCQkJCQlyZXR1cm4gZC5tZXNzYWdlSWQgPT09IHggPyAoaC5pbmNsdWRlcygiJml0YWc9MjUxJiIpICYmICh1bnNhZmVXaW5kb3cuZmV0Y2ggPSBmLCB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHsKCQkJCQkJCQkJLi4uZCwKCQkJCQkJCQkJbWVzc2FnZURpcmVjdGlvbjogInJlc3BvbnNlIiwKCQkJCQkJCQkJcGF5bG9hZDogewoJCQkJCQkJCQkJcmVxdWVzdEluZm86IGgsCgkJCQkJCQkJCQlyZXF1ZXN0SW5pdDogbSB8fCAoMCwgdi55QSkocCksCgkJCQkJCQkJCQlhZGFwdGl2ZUZvcm1hdDogc2VsZWN0QmVzdEF1ZGlvRm9ybWF0KCksCgkJCQkJCQkJCQlpdGFnOiAyNTEKCQkJCQkJCQkJfQoJCQkJCQkJCX0sICIqIikpLCBnKSA6ICh1bnNhZmVXaW5kb3cuZmV0Y2ggPSBmLCBnKTsKCQkJCQkJCX0sIGF3YWl0IGxvYWRWaWRlbyhkKTsKCQkJCQkJfSBjYXRjaCAoZikgewoJCQkJCQkJd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7CgkJCQkJCQkJLi4uZCwKCQkJCQkJCQltZXNzYWdlRGlyZWN0aW9uOiAicmVzcG9uc2UiLAoJCQkJCQkJCWVycm9yOiBmCgkJCQkJCQl9LCAiKiIpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc3RyYXRlZ2llcy93ZWJBcGlHZXRBbGxHZW5lcmF0aW5nVXJsc0RhdGEvaW5kZXgudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyAkOiAoKSA9PiBnZXRBdWRpb0Zyb21XZWJBcGlXaXRoUmVwbGFjZWRGZXRjaCB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvY29yZS9kaXN0L3R5cGVzL3lhbmRleC5qcyIpLCBnID0gcCgiLi9zcmMvdXRpbHMvZGVidWcudHMiKSwgXyA9IHAoIi4vc3JjL3V0aWxzL2dtLnRzIiksIHYgPSBwKCIuL3NyYy91dGlscy9pZnJhbWVDb25uZWN0b3IudHMiKSwgYiA9IHAoIi4vc3JjL3V0aWxzL3V0aWxzLnRzIiksIHggPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc2hhcmVkLnRzIiksIEMgPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc3RyYXRlZ2llcy91dGlscy50cyIpLCB3ID0gcCgiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvd2ViQXBpR2V0QWxsR2VuZXJhdGluZ1VybHNEYXRhL2NvbnN0cy50cyIpLCBUID0gcCgiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL3N0cmF0ZWdpZXMvd2ViQXBpR2V0QWxsR2VuZXJhdGluZ1VybHNEYXRhL2hlbHBlcnMudHMiKSwgRSA9IGQoWwoJCQkJCQlfLAoJCQkJCQl2LAoJCQkJCQliLAoJCQkJCQlDCgkJCQkJXSk7CgkJCQkJW18sIHYsIGIsIENdID0gRS50aGVuID8gKGF3YWl0IEUpKCkgOiBFOwoJCQkJCWxldCBEID0gaC5KLldFQl9BUElfR0VUX0FMTF9HRU5FUkFUSU5HX1VSTFNfREFUQV9GUk9NX0lGUkFNRSwgZ2V0RG93bmxvYWRBdWRpb0RhdGFJbk1haW5Xb3JsZCA9IChkKSA9PiAoMCwgdi5oRykoImdldC1kb3dubG9hZC1hdWRpby1kYXRhLWluLW1haW4td29ybGQiLCBkKTsKCQkJCQlhc3luYyBmdW5jdGlvbiBnZXRHZW5lcmF0aW5nQXVkaW9VcmxzRGF0YUZyb21JZnJhbWUoZCkgewoJCQkJCQl0cnkgewoJCQkJCQkJcmV0dXJuIGF3YWl0IFByb21pc2UucmFjZShbZ2V0RG93bmxvYWRBdWRpb0RhdGFJbk1haW5Xb3JsZCh7IHZpZGVvSWQ6IGQgfSksICgwLCBiLndSKSgyZTQsIHcuQ3ApXSk7CgkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCWxldCBmID0gZCBpbnN0YW5jZW9mIEVycm9yICYmIGQubWVzc2FnZSA9PT0gdy5DcDsKCQkJCQkJCXRocm93IGcuQS5sb2coImdldEdlbmVyYXRpbmdBdWRpb1VybHNEYXRhRnJvbUlmcmFtZSBlcnJvciIsIGQpLCBFcnJvcihmID8gdy5DcCA6ICJBdWRpbyBkb3dubG9hZGVyLiBXRUIgQVBJLiBGYWlsZWQgdG8gZ2V0IGF1ZGlvIGRhdGEiKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlhc3luYyBmdW5jdGlvbiBmZXRjaE1lZGlhV2l0aE1ldGEoeyBtZWRpYVVybDogZCwgY2h1bmtSYW5nZTogZiwgcmVxdWVzdEluaXQ6IHAsIHNpZ25hbDogbSwgaXNVcmxDaGFuZ2VkOiBoID0gITEgfSkgewoJCQkJCQlsZXQgdiA9ICgwLCBULmF5KShkLCBmKSwgYjsKCQkJCQkJdHJ5IHsKCQkJCQkJCWlmIChiID0gYXdhaXQgKDAsIF8uRzMpKHYsIHsKCQkJCQkJCQkuLi5wLAoJCQkJCQkJCXNpZ25hbDogbQoJCQkJCQkJfSksICFiLm9rKSB7CgkJCQkJCQkJbGV0IGQgPSAoMCwgeC5TWikoYik7CgkJCQkJCQkJdGhyb3cgY29uc29sZS5lcnJvcih3LmtYLCBkKSwgRXJyb3Iody5rWCk7CgkJCQkJCQl9CgkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCXRocm93IGQgaW5zdGFuY2VvZiBFcnJvciAmJiBkLm1lc3NhZ2UgPT09IHcua1ggPyBkIDogKGNvbnNvbGUuZXJyb3Iody5WZiwgewoJCQkJCQkJCW1lZGlhVXJsOiB2LAoJCQkJCQkJCWVycm9yOiBkCgkJCQkJCQl9KSwgRXJyb3Iody5WZikpOwoJCQkJCQl9CgkJCQkJCWxldCBDOwoJCQkJCQl0cnkgewoJCQkJCQkJQyA9IGF3YWl0IGIuYXJyYXlCdWZmZXIoKTsKCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJdGhyb3cgY29uc29sZS5lcnJvcih3Lmw0LCB7CgkJCQkJCQkJbWVkaWFVcmw6IHYsCgkJCQkJCQkJZXJyb3I6IGQKCQkJCQkJCX0pLCBFcnJvcih3Lmw0KTsKCQkJCQkJfQoJCQkJCQlpZiAoZy5BLmxvZygiaXNDaHVua0xlbmd0aEFjY2VwdGFibGUiLCAoMCwgVC5lTikoQywgZiksIEMuYnl0ZUxlbmd0aCwgZiksICgwLCBULmVOKShDLCBmKSkgcmV0dXJuIHsKCQkJCQkJCW1lZGlhOiBDLAoJCQkJCQkJdXJsOiBoID8gZCA6IG51bGwsCgkJCQkJCQlpc0FjY2VwdGFibGVMYXN0OiAhMQoJCQkJCQl9OwoJCQkJCQlsZXQgRSA9ICgwLCBULkRBKShDKTsKCQkJCQkJaWYgKGcuQS5sb2coInJlZGlyZWN0ZWRVcmwiLCBFKSwgRSkgcmV0dXJuIGZldGNoTWVkaWFXaXRoTWV0YSh7CgkJCQkJCQltZWRpYVVybDogRSwKCQkJCQkJCWNodW5rUmFuZ2U6IGYsCgkJCQkJCQlyZXF1ZXN0SW5pdDogcCwKCQkJCQkJCXNpZ25hbDogbSwKCQkJCQkJCWlzVXJsQ2hhbmdlZDogITAKCQkJCQkJfSk7CgkJCQkJCWlmICghZi5tdXN0RXhpc3QpIHJldHVybiB7CgkJCQkJCQltZWRpYTogQywKCQkJCQkJCXVybDogbnVsbCwKCQkJCQkJCWlzQWNjZXB0YWJsZUxhc3Q6ICEwCgkJCQkJCX07CgkJCQkJCXRocm93IEVycm9yKGBBdWRpbyBkb3dubG9hZGVyLiBXRUIgQVBJLiBDYW4gbm90IGdldCByZWRpcmVjdGVkIG1lZGlhIHVybCAke3Z9YCk7CgkJCQkJfQoJCQkJCWFzeW5jIGZ1bmN0aW9uIGZldGNoTWVkaWFXaXRoTWV0YUJ5Q2h1bmtSYW5nZXMoZCwgZiwgcCwgbSkgewoJCQkJCQlsZXQgaCA9IGQsIGcgPSBbXSwgXyA9ICExOwoJCQkJCQlmb3IgKGxldCBkIG9mIHApIHsKCQkJCQkJCWxldCBwID0gYXdhaXQgZmV0Y2hNZWRpYVdpdGhNZXRhKHsKCQkJCQkJCQltZWRpYVVybDogaCwKCQkJCQkJCQljaHVua1JhbmdlOiBkLAoJCQkJCQkJCXJlcXVlc3RJbml0OiBmLAoJCQkJCQkJCXNpZ25hbDogbQoJCQkJCQkJfSk7CgkJCQkJCQlpZiAocC51cmwgJiYgKGggPSBwLnVybCksIGcucHVzaChwLm1lZGlhKSwgXyA9IHAuaXNBY2NlcHRhYmxlTGFzdCwgXykgYnJlYWs7CgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW1lZGlhOiAoMCwgQy5peikoZyksCgkJCQkJCQl1cmw6IGgsCgkJCQkJCQlpc0FjY2VwdGFibGVMYXN0OiBfCgkJCQkJCX07CgkJCQkJfQoJCQkJCWFzeW5jIGZ1bmN0aW9uIGdldEF1ZGlvRnJvbVdlYkFwaVdpdGhSZXBsYWNlZEZldGNoKHsgdmlkZW9JZDogZCwgcmV0dXJuQnlQYXJ0czogZiA9ICExLCBzaWduYWw6IHAgfSkgewoJCQkJCQlsZXQgeyByZXF1ZXN0SW5pdDogbSwgcmVxdWVzdEluZm86IGgsIGFkYXB0aXZlRm9ybWF0OiBnLCBpdGFnOiBfIH0gPSBhd2FpdCBnZXRHZW5lcmF0aW5nQXVkaW9VcmxzRGF0YUZyb21JZnJhbWUoZCk7CgkJCQkJCWlmICghaCkgdGhyb3cgRXJyb3IoIkF1ZGlvIGRvd25sb2FkZXIuIFdFQiBBUEkuIENhbiBub3QgZ2V0IHJlcXVlc3RJbmZvIik7CgkJCQkJCWxldCB2ID0gKDAsIHgucmgpKGgpLCBiID0gKDAsIHgueUEpKGgpLCB3ID0gKDAsIHguUlopKGIpLCBUID0gbSB8fCB3OwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJZmlsZUlkOiAoMCwgQy5xaykoRCwgXywgZy5jb250ZW50TGVuZ3RoKSwKCQkJCQkJCW1lZGlhUGFydHNMZW5ndGg6IGYgPyAoMCwgQy5iQikoZykubGVuZ3RoIDogMSwKCQkJCQkJCWFzeW5jICpnZXRNZWRpYUJ1ZmZlcnMoKSB7CgkJCQkJCQkJaWYgKGYpIHsKCQkJCQkJCQkJbGV0IGQgPSAoMCwgQy5iQikoZyk7CgkJCQkJCQkJCWZvciAobGV0IGYgb2YgZCkgewoJCQkJCQkJCQkJbGV0IHsgbWVkaWE6IGQsIHVybDogbSwgaXNBY2NlcHRhYmxlTGFzdDogaCB9ID0gYXdhaXQgZmV0Y2hNZWRpYVdpdGhNZXRhQnlDaHVua1Jhbmdlcyh2LCBULCBmLCBwKTsKCQkJCQkJCQkJCWlmIChtICYmICh2ID0gbSksIHlpZWxkIGQsIGgpIGJyZWFrOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJbGV0IGQgPSAoMCwgQy5MbSkoZyksIHsgbWVkaWE6IGYgfSA9IGF3YWl0IGZldGNoTWVkaWFXaXRoTWV0YUJ5Q2h1bmtSYW5nZXModiwgVCwgZCwgcCk7CgkJCQkJCQkJCXlpZWxkIGY7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9OwoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvY29uZmlnL2NvbmZpZy5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsKCQkJCUVrOiAoKSA9PiBFLAoJCQkJSkQ6ICgpID0+IEQsCgkJCQlLMjogKCkgPT4gRiwKCQkJCVBtOiAoKSA9PiBnLAoJCQkJVDg6ICgpID0+IE8sCgkJCQlXbDogKCkgPT4gVSwKCQkJCWNMOiAoKSA9PiBDLAoJCQkJaHg6ICgpID0+IFQsCgkJCQlrJDogKCkgPT4gdiwKCQkJCW1FOiAoKSA9PiBqLAoJCQkJcHg6ICgpID0+IEEsCgkJCQlxVTogKCkgPT4gRywKCQkJCXI0OiAoKSA9PiBLLAoJCQkJcmw6ICgpID0+IG0sCgkJCQlzZTogKCkgPT4gaCwKCQkJCXNsOiAoKSA9PiBiLAoJCQkJdFo6ICgpID0+IF8sCgkJCQl2WjogKCkgPT4gVywKCQkJCXhXOiAoKSA9PiB4CgkJCX0pOwoJCQlsZXQgbSA9ICJhcGkuYnJvd3Nlci55YW5kZXgucnUiLCBoID0gIm1lZGlhLXByb3h5LnRvaWwuY2MvdjEvcHJveHkvbTN1OCIsIGcgPSAidm90LXdvcmtlci50b2lsLmNjIiwgXyA9ICJodHRwczovL3ZvdC50b2lsLmNjL3YxIiwgdiA9ICJodHRwczovL3RyYW5zbGF0ZS50b2lsLmNjL3YyIiwgYiA9ICJodHRwczovL3J1c3Qtc2VydmVyLTUzMWoub25yZW5kZXIuY29tL2RldGVjdCIsIHggPSAiaHR0cHM6Ly90Mm1jLnRvaWwuY2MiLCBDID0gImh0dHBzOi8vYXZhdGFycy5tZHMueWFuZGV4Lm5ldC9nZXQteWFwaWMiLCB3ID0gImlseWhhbGlnaHQvdm9pY2Utb3Zlci10cmFuc2xhdGlvbiIsIFQgPSBgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7d31gLCBFID0gYGh0dHBzOi8vZ2l0aHViLmNvbS8ke3d9YCwgRCA9IDE1LCBPID0gOTAwLCBBID0gNSwgaiA9ICJ5YW5kZXhicm93c2VyIiwgRiA9ICJ5YW5kZXhicm93c2VyIiwgVSA9IFsiVGFtcGVybW9ua2V5IiwgIlZpb2xlbnRtb25rZXkiXSwgVyA9IFsKCQkJCSJVQSIsCgkJCQkiTFYiLAoJCQkJIkxUIgoJCQldLCBHID0gMWUzLCBLID0gIjIwMjUtMDUtMDkiOwoJCX0sCgkJIi4vc3JjL2NvcmUvYXV0aC50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IEw6ICgpID0+IGluaXRBdXRoIH0pOwoJCQkJCXZhciBoID0gcCgiLi9zcmMvdXRpbHMvc3RvcmFnZS50cyIpLCBnID0gZChbaF0pOwoJCQkJCWggPSAoZy50aGVuID8gKGF3YWl0IGcpKCkgOiBnKVswXTsKCQkJCQlhc3luYyBmdW5jdGlvbiBoYW5kbGVBdXRoQ2FsbGJhY2tQYWdlKCkgewoJCQkJCQlsZXQgeyBhY2Nlc3NfdG9rZW46IGQsIGV4cGlyZXNfaW46IGYgfSA9IE9iamVjdC5mcm9tRW50cmllcyhuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpKSk7CgkJCQkJCWlmICghZCB8fCAhZikgdGhyb3cgRXJyb3IoIltWT1RdIEludmFsaWQgdG9rZW4gcmVzcG9uc2UiKTsKCQkJCQkJbGV0IHAgPSBwYXJzZUludChmKTsKCQkJCQkJaWYgKE51bWJlci5pc05hTihwKSkgdGhyb3cgRXJyb3IoIltWT1RdIEludmFsaWQgZXhwaXJlc19pbiB2YWx1ZSIpOwoJCQkJCQlhd2FpdCBoLmQuc2V0KCJhY2NvdW50IiwgewoJCQkJCQkJdG9rZW46IGQsCgkJCQkJCQlleHBpcmVzOiBEYXRlLm5vdygpICsgcCAqIDFlMywKCQkJCQkJCXVzZXJuYW1lOiB2b2lkIDAsCgkJCQkJCQlhdmF0YXJJZDogdm9pZCAwCgkJCQkJCX0pOwoJCQkJCX0KCQkJCQlhc3luYyBmdW5jdGlvbiBoYW5kbGVQcm9maWxlUGFnZSgpIHsKCQkJCQkJbGV0IHsgYXZhdGFyX2lkOiBkLCB1c2VybmFtZTogZiB9ID0gX3VzZXJEYXRhOwoJCQkJCQlpZiAoIWQgfHwgIWYpIHRocm93IEVycm9yKCJbVk9UXSBJbnZhbGlkIHVzZXIgZGF0YSIpOwoJCQkJCQlsZXQgcCA9IGF3YWl0IGguZC5nZXQoImFjY291bnQiKTsKCQkJCQkJaWYgKCFwKSB0aHJvdyBFcnJvcigiW1ZPVF0gTm8gYWNjb3VudCBkYXRhIGZvdW5kIik7CgkJCQkJCWF3YWl0IGguZC5zZXQoImFjY291bnQiLCB7CgkJCQkJCQkuLi5wLAoJCQkJCQkJdXNlcm5hbWU6IGYsCgkJCQkJCQlhdmF0YXJJZDogZAoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJYXN5bmMgZnVuY3Rpb24gaW5pdEF1dGgoKSB7CgkJCQkJCWlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvYXV0aC9jYWxsYmFjayIpIHJldHVybiBhd2FpdCBoYW5kbGVBdXRoQ2FsbGJhY2tQYWdlKCk7CgkJCQkJCWlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvbXkvcHJvZmlsZSIpIHJldHVybiBhd2FpdCBoYW5kbGVQcm9maWxlUGFnZSgpOwoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvY29yZS9jYWNoZU1hbmFnZXIudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7IEc6ICgpID0+IENhY2hlTWFuYWdlciB9KTsKCQkJY2xhc3MgQ2FjaGVNYW5hZ2VyIHsKCQkJCWNhY2hlOwoJCQkJY29uc3RydWN0b3IoKSB7CgkJCQkJdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTsKCQkJCX0KCQkJCWdldChkKSB7CgkJCQkJcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGQpOwoJCQkJfQoJCQkJc2V0KGQsIGYpIHsKCQkJCQlyZXR1cm4gdGhpcy5jYWNoZS5zZXQoZCwgZiksIHRoaXM7CgkJCQl9CgkJCQlkZWxldGUoZCkgewoJCQkJCXJldHVybiB0aGlzLmNhY2hlLmRlbGV0ZShkKSwgdGhpczsKCQkJCX0KCQkJCWdldFRyYW5zbGF0aW9uKGQpIHsKCQkJCQlsZXQgZiA9IHRoaXMuZ2V0KGQpOwoJCQkJCXJldHVybiBmID8gZi50cmFuc2xhdGlvbiA6IHZvaWQgMDsKCQkJCX0KCQkJCXNldFRyYW5zbGF0aW9uKGQsIGYpIHsKCQkJCQlsZXQgcCA9IHRoaXMuZ2V0KGQpIHx8IHt9OwoJCQkJCXAudHJhbnNsYXRpb24gPSBmLCB0aGlzLnNldChkLCBwKTsKCQkJCX0KCQkJCWdldFN1YnRpdGxlcyhkKSB7CgkJCQkJbGV0IGYgPSB0aGlzLmdldChkKTsKCQkJCQlyZXR1cm4gZiA/IGYuc3VidGl0bGVzIDogdm9pZCAwOwoJCQkJfQoJCQkJc2V0U3VidGl0bGVzKGQsIGYpIHsKCQkJCQlsZXQgcCA9IHRoaXMuZ2V0KGQpIHx8IHt9OwoJCQkJCXAuc3VidGl0bGVzID0gZiwgdGhpcy5zZXQoZCwgcCk7CgkJCQl9CgkJCQlkZWxldGVTdWJ0aXRsZXMoZCkgewoJCQkJCWxldCBmID0gdGhpcy5nZXQoZCk7CgkJCQkJZiAmJiAoZi5zdWJ0aXRsZXMgPSB2b2lkIDAsIHRoaXMuc2V0KGQsIGYpKTsKCQkJCX0KCQkJfQoJCX0sCgkJIi4vc3JjL2NvcmUvZXZlbnRJbXBsLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyBaOiAoKSA9PiBFdmVudEltcGwgfSk7CgkJCWNsYXNzIEV2ZW50SW1wbCB7CgkJCQlsaXN0ZW5lcnM7CgkJCQljb25zdHJ1Y3RvcigpIHsKCQkJCQl0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKTsKCQkJCX0KCQkJCWFkZExpc3RlbmVyKGQpIHsKCQkJCQlpZiAodGhpcy5saXN0ZW5lcnMuaGFzKGQpKSB0aHJvdyBFcnJvcigiW1ZPVF0gVGhlIGxpc3RlbmVyIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuIik7CgkJCQkJdGhpcy5saXN0ZW5lcnMuYWRkKGQpOwoJCQkJfQoJCQkJcmVtb3ZlTGlzdGVuZXIoZCkgewoJCQkJCXRoaXMubGlzdGVuZXJzLmRlbGV0ZShkKTsKCQkJCX0KCQkJCWRpc3BhdGNoKC4uLmQpIHsKCQkJCQlmb3IgKGxldCBmIG9mIHRoaXMubGlzdGVuZXJzKSB0cnkgewoJCQkJCQlmKC4uLmQpOwoJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJY29uc29sZS5lcnJvcigiW1ZPVF0iLCBkKTsKCQkJCQl9CgkJCQl9CgkJCQljbGVhcigpIHsKCQkJCQl0aGlzLmxpc3RlbmVycy5jbGVhcigpOwoJCQkJfQoJCQl9CgkJfSwKCQkiLi9zcmMvY29yZS90cmFuc2xhdGlvbkhhbmRsZXIudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBGOiAoKSA9PiBWT1RUcmFuc2xhdGlvbkhhbmRsZXIgfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2NvcmUvZGlzdC90eXBlcy95YW5kZXguanMiKSwgZyA9IHAoIi4vc3JjL2F1ZGlvRG93bmxvYWRlci9pbmRleC50cyIpLCBfID0gcCgiLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblByb3ZpZGVyLnRzIiksIHYgPSBwKCIuL3NyYy91dGlscy9kZWJ1Zy50cyIpLCBiID0gcCgiLi9zcmMvdXRpbHMvbG9jYWxpemF0aW9uLnRzIiksIHggPSBwKCIuL3NyYy91dGlscy91dGlscy50cyIpLCBDID0gcCgiLi9zcmMvdXRpbHMvVk9UTG9jYWxpemVkRXJyb3IuanMiKSwgdyA9IGQoWwoJCQkJCQlnLAoJCQkJCQlfLAoJCQkJCQliLAoJCQkJCQl4LAoJCQkJCQlDCgkJCQkJXSk7CgkJCQkJW2csIF8sIGIsIHgsIENdID0gdy50aGVuID8gKGF3YWl0IHcpKCkgOiB3OwoJCQkJCWNsYXNzIFZPVFRyYW5zbGF0aW9uSGFuZGxlciB7CgkJCQkJCXZpZGVvSGFuZGxlcjsKCQkJCQkJYXVkaW9Eb3dubG9hZGVyOwoJCQkJCQlkb3dubG9hZGluZzsKCQkJCQkJY29uc3RydWN0b3IoZCkgewoJCQkJCQkJdGhpcy52aWRlb0hhbmRsZXIgPSBkLCB0aGlzLmF1ZGlvRG93bmxvYWRlciA9IG5ldyBnLkkoKSwgdGhpcy5kb3dubG9hZGluZyA9ICExLCB0aGlzLmF1ZGlvRG93bmxvYWRlci5hZGRFdmVudExpc3RlbmVyKCJkb3dubG9hZGVkQXVkaW8iLCBhc3luYyAoZCwgZikgPT4gewoJCQkJCQkJCWlmICh2LkEubG9nKCJkb3dubG9hZGVkQXVkaW8iLCBmKSwgIXRoaXMuZG93bmxvYWRpbmcpIHsKCQkJCQkJCQkJdi5BLmxvZygic2tpcCBkb3dubG9hZGVkQXVkaW8iKTsKCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCX0KCQkJCQkJCQlsZXQgeyB2aWRlb0lkOiBwLCBmaWxlSWQ6IG0sIGF1ZGlvRGF0YTogaCB9ID0gZiwgZyA9IHRoaXMuZ2V0Q2Fub25pY2FsVXJsKHApOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCWF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLnZvdENsaWVudC5yZXF1ZXN0VnRyYW5zQXVkaW8oZywgZCwgewoJCQkJCQkJCQkJYXVkaW9GaWxlOiBoLAoJCQkJCQkJCQkJZmlsZUlkOiBtCgkJCQkJCQkJCX0pOwoJCQkJCQkJCX0gY2F0Y2gge30KCQkJCQkJCQl0aGlzLmRvd25sb2FkaW5nID0gITE7CgkJCQkJCQl9KS5hZGRFdmVudExpc3RlbmVyKCJkb3dubG9hZGVkUGFydGlhbEF1ZGlvIiwgYXN5bmMgKGQsIGYpID0+IHsKCQkJCQkJCQlpZiAodi5BLmxvZygiZG93bmxvYWRlZFBhcnRpYWxBdWRpbyIsIGYpLCAhdGhpcy5kb3dubG9hZGluZykgewoJCQkJCQkJCQl2LkEubG9nKCJza2lwIGRvd25sb2FkZWRQYXJ0aWFsQXVkaW8iKTsKCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCX0KCQkJCQkJCQlsZXQgeyBhdWRpb0RhdGE6IHAsIGZpbGVJZDogbSwgdmlkZW9JZDogaCwgYW1vdW50OiBnLCB2ZXJzaW9uOiBfLCBpbmRleDogYiB9ID0gZiwgeCA9IHRoaXMuZ2V0Q2Fub25pY2FsVXJsKGgpOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCWF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLnZvdENsaWVudC5yZXF1ZXN0VnRyYW5zQXVkaW8oeCwgZCwgewoJCQkJCQkJCQkJYXVkaW9GaWxlOiBwLAoJCQkJCQkJCQkJY2h1bmtJZDogYgoJCQkJCQkJCQl9LCB7CgkJCQkJCQkJCQlhdWRpb1BhcnRzTGVuZ3RoOiBnLAoJCQkJCQkJCQkJZmlsZUlkOiBtLAoJCQkJCQkJCQkJdmVyc2lvbjogXwoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9IGNhdGNoIHsKCQkJCQkJCQkJdGhpcy5kb3dubG9hZGluZyA9ICExOwoJCQkJCQkJCX0KCQkJCQkJCQliID09PSBnIC0gMSAmJiAodGhpcy5kb3dubG9hZGluZyA9ICExKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImRvd25sb2FkQXVkaW9FcnJvciIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJaWYgKCF0aGlzLmRvd25sb2FkaW5nKSB7CgkJCQkJCQkJCXYuQS5sb2coInNraXAgZG93bmxvYWRBdWRpb0Vycm9yIik7CgkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQl9CgkJCQkJCQkJdi5BLmxvZyhgRmFpbGVkIHRvIGRvd25sb2FkIGF1ZGlvICR7ZH1gKTsKCQkJCQkJCQlsZXQgZiA9IHRoaXMuZ2V0Q2Fub25pY2FsVXJsKGQpOwoJCQkJCQkJCWF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLnZvdENsaWVudC5yZXF1ZXN0VnRyYW5zRmFpbEF1ZGlvKGYpLCB0aGlzLmRvd25sb2FkaW5nID0gITE7CgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCQlnZXRDYW5vbmljYWxVcmwoZCkgewoJCQkJCQkJcmV0dXJuIGBodHRwczovL3lvdXR1LmJlLyR7ZH1gOwoJCQkJCQl9CgkJCQkJCWlzV2FpdGluZ1N0cmVhbVJlcyhkKSB7CgkJCQkJCQlyZXR1cm4gISFkLm1lc3NhZ2U7CgkJCQkJCX0KCQkJCQkJYXN5bmMgdHJhbnNsYXRlVmlkZW9JbXBsKGQsIGYsIHAsIG0gPSBudWxsLCBnID0gITEsIEMgPSBuZXcgQWJvcnRDb250cm9sbGVyKCkuc2lnbmFsKSB7CgkJCQkJCQljbGVhclRpbWVvdXQodGhpcy52aWRlb0hhbmRsZXIuYXV0b1JldHJ5KSwgdGhpcy5kb3dubG9hZGluZyA9ICExLCB2LkEubG9nKGQsIGBUcmFuc2xhdGUgdmlkZW8gKHJlcXVlc3RMYW5nOiAke2Z9LCByZXNwb25zZUxhbmc6ICR7cH0pYCk7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWlmIChDLmFib3J0ZWQpIHRocm93IEVycm9yKCJBYm9ydEVycm9yIik7CgkJCQkJCQkJbGV0IHcgPSB0aGlzLnZpZGVvSGFuZGxlci5pc0xpdmVseVZvaWNlQWxsb3dlZCgpICYmIHRoaXMudmlkZW9IYW5kbGVyLmRhdGE/LnVzZUxpdmVseVZvaWNlLCBUID0gYXdhaXQgdGhpcy52aWRlb0hhbmRsZXIudm90Q2xpZW50LnRyYW5zbGF0ZVZpZGVvKHsKCQkJCQkJCQkJdmlkZW9EYXRhOiBkLAoJCQkJCQkJCQlyZXF1ZXN0TGFuZzogZiwKCQkJCQkJCQkJcmVzcG9uc2VMYW5nOiBwLAoJCQkJCQkJCQl0cmFuc2xhdGlvbkhlbHA6IG0sCgkJCQkJCQkJCWV4dHJhT3B0czogewoJCQkJCQkJCQkJdXNlTGl2ZWx5Vm9pY2U6IHcsCgkJCQkJCQkJCQl2aWRlb1RpdGxlOiB0aGlzLnZpZGVvSGFuZGxlci52aWRlb0RhdGE/LnRpdGxlCgkJCQkJCQkJCX0sCgkJCQkJCQkJCXNob3VsZFNlbmRGYWlsZWRBdWRpbzogZwoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmICh2LkEubG9nKCJUcmFuc2xhdGUgdmlkZW8gcmVzdWx0IiwgVCksIEMuYWJvcnRlZCkgdGhyb3cgRXJyb3IoIkFib3J0RXJyb3IiKTsKCQkJCQkJCQlpZiAoVC50cmFuc2xhdGVkICYmIFQucmVtYWluaW5nVGltZSA8IDEpIHJldHVybiB2LkEubG9nKCJWaWRlbyB0cmFuc2xhdGlvbiBmaW5pc2hlZCB3aXRoIHRoaXMgZGF0YTogIiwgVCksIFQ7CgkJCQkJCQkJbGV0IEUgPSBULm1lc3NhZ2UgPz8gXy5qLmdldCgidHJhbnNsYXRpb25UYWtlRmV3TWludXRlcyIpOwoJCQkJCQkJCWlmIChhd2FpdCB0aGlzLnZpZGVvSGFuZGxlci51cGRhdGVUcmFuc2xhdGlvbkVycm9yTXNnKFQucmVtYWluaW5nVGltZSA+IDAgPyAoMCwgYi5vKShULnJlbWFpbmluZ1RpbWUpIDogRSksIFQuc3RhdHVzID09PSBoLnYuQVVESU9fUkVRVUVTVEVEICYmIHRoaXMudmlkZW9IYW5kbGVyLmlzWW91VHViZUhvc3RzKCkpIHsKCQkJCQkJCQkJaWYgKHYuQS5sb2coIlN0YXJ0IGF1ZGlvIGRvd25sb2FkIiksIHRoaXMuZG93bmxvYWRpbmcgPSAhMCwgYXdhaXQgdGhpcy5hdWRpb0Rvd25sb2FkZXIucnVuQXVkaW9Eb3dubG9hZChkLnZpZGVvSWQsIFQudHJhbnNsYXRpb25JZCwgQyksIHYuQS5sb2coIndhaXRpbmcgZG93bmxvYWRpbmcgZmluaXNoIiksIGF3YWl0ICgwLCB4LlVWKSgoKSA9PiAhdGhpcy5kb3dubG9hZGluZyB8fCBDLmFib3J0ZWQsIDE1ZTMpLCBDLmFib3J0ZWQpIHRocm93IHYuQS5sb2coImFib3J0ZWQgYWZ0ZXIgYXVkaW8gZG93bmxvYWRlciB2dHJhbnMiKSwgRXJyb3IoIkFib3J0RXJyb3IiKTsKCQkJCQkJCQkJcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNsYXRlVmlkZW9JbXBsKGQsIGYsIHAsIG0sICEwLCBDKTsKCQkJCQkJCQl9CgkJCQkJCQl9IGNhdGNoIChtKSB7CgkJCQkJCQkJaWYgKG0ubWVzc2FnZSA9PT0gIkFib3J0RXJyb3IiKSByZXR1cm4gdi5BLmxvZygiYWJvcnRlZCB2aWRlbyB0cmFuc2xhdGlvbiIpLCBudWxsOwoJCQkJCQkJCWF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLnVwZGF0ZVRyYW5zbGF0aW9uRXJyb3JNc2cobS5kYXRhPy5tZXNzYWdlID8/IG0pLCBjb25zb2xlLmVycm9yKCJbVk9UXSIsIG0pOwoJCQkJCQkJCWxldCBoID0gYCR7ZC52aWRlb0lkfV8ke2Z9XyR7cH1fJHt0aGlzLnZpZGVvSGFuZGxlci5kYXRhPy51c2VMaXZlbHlWb2ljZX1gOwoJCQkJCQkJCXJldHVybiB0aGlzLnZpZGVvSGFuZGxlci5jYWNoZU1hbmFnZXIuc2V0VHJhbnNsYXRpb24oaCwgeyBlcnJvcjogbSB9KSwgbnVsbDsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBuZXcgUHJvbWlzZSgoaCkgPT4gewoJCQkJCQkJCXRoaXMudmlkZW9IYW5kbGVyLmF1dG9SZXRyeSA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewoJCQkJCQkJCQloKGF3YWl0IHRoaXMudHJhbnNsYXRlVmlkZW9JbXBsKGQsIGYsIHAsIG0sICEwLCBDKSk7CgkJCQkJCQkJfSwgMmU0KTsKCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJCWFzeW5jIHRyYW5zbGF0ZVN0cmVhbUltcGwoZCwgZiwgcCwgbSA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKS5zaWduYWwpIHsKCQkJCQkJCWNsZWFyVGltZW91dCh0aGlzLnZpZGVvSGFuZGxlci5hdXRvUmV0cnkpLCB2LkEubG9nKGQsIGBUcmFuc2xhdGUgc3RyZWFtIChyZXF1ZXN0TGFuZzogJHtmfSwgcmVzcG9uc2VMYW5nOiAke3B9KWApOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlpZiAobS5hYm9ydGVkKSB0aHJvdyBFcnJvcigiQWJvcnRFcnJvciIpOwoJCQkJCQkJCWxldCBoID0gYXdhaXQgdGhpcy52aWRlb0hhbmRsZXIudm90Q2xpZW50LnRyYW5zbGF0ZVN0cmVhbSh7CgkJCQkJCQkJCXZpZGVvRGF0YTogZCwKCQkJCQkJCQkJcmVxdWVzdExhbmc6IGYsCgkJCQkJCQkJCXJlc3BvbnNlTGFuZzogcAoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmIChtLmFib3J0ZWQpIHRocm93IEVycm9yKCJBYm9ydEVycm9yIik7CgkJCQkJCQkJaWYgKHYuQS5sb2coIlRyYW5zbGF0ZSBzdHJlYW0gcmVzdWx0IiwgaCksICFoLnRyYW5zbGF0ZWQgJiYgaC5pbnRlcnZhbCA9PT0gMTApIHJldHVybiBhd2FpdCB0aGlzLnZpZGVvSGFuZGxlci51cGRhdGVUcmFuc2xhdGlvbkVycm9yTXNnKF8uai5nZXQoInRyYW5zbGF0aW9uVGFrZUZld01pbnV0ZXMiKSksIG5ldyBQcm9taXNlKChnKSA9PiB7CgkJCQkJCQkJCXRoaXMudmlkZW9IYW5kbGVyLmF1dG9SZXRyeSA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewoJCQkJCQkJCQkJZyhhd2FpdCB0aGlzLnRyYW5zbGF0ZVN0cmVhbUltcGwoZCwgZiwgcCwgbSkpOwoJCQkJCQkJCQl9LCBoLmludGVydmFsICogMWUzKTsKCQkJCQkJCQl9KTsKCQkJCQkJCQlpZiAodGhpcy5pc1dhaXRpbmdTdHJlYW1SZXMoaCkpIHRocm93IHYuQS5sb2coYFN0cmVhbSB0cmFuc2xhdGlvbiBhYm9ydGVkISBNZXNzYWdlOiAke2gubWVzc2FnZX1gKSwgbmV3IEMubigic3RyZWFtTm9Db25uZWN0aW9uVG9TZXJ2ZXIiKTsKCQkJCQkJCQlpZiAoIWgucmVzdWx0KSB0aHJvdyB2LkEubG9nKCJGYWlsZWQgdG8gZmluZCB0cmFuc2xhdGlvbiByZXN1bHQhIERhdGE6IiwgaCksIG5ldyBDLm4oImF1ZGlvTm90UmVjZWl2ZWQiKTsKCQkJCQkJCQlyZXR1cm4gdi5BLmxvZygiU3RyZWFtIHRyYW5zbGF0ZWQgc3VjY2Vzc2Z1bGx5LiBSdW5uaW5nLi4uIiwgaCksIHRoaXMudmlkZW9IYW5kbGVyLnN0cmVhbVBpbmcgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7CgkJCQkJCQkJCXYuQS5sb2coIlBpbmcgc3RyZWFtIHRyYW5zbGF0aW9uIiwgaC5waW5nSWQpLCB0aGlzLnZpZGVvSGFuZGxlci52b3RDbGllbnQucGluZ1N0cmVhbSh7IHBpbmdJZDogaC5waW5nSWQgfSk7CgkJCQkJCQkJfSwgaC5pbnRlcnZhbCAqIDFlMyksIGg7CgkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJcmV0dXJuIGQubWVzc2FnZSA9PT0gIkFib3J0RXJyb3IiID8gKHYuQS5sb2coImFib3J0ZWQgc3RyZWFtIHRyYW5zbGF0aW9uIiksIG51bGwpIDogKGNvbnNvbGUuZXJyb3IoIltWT1RdIEZhaWxlZCB0byB0cmFuc2xhdGUgc3RyZWFtIiwgZCksIGF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLnVwZGF0ZVRyYW5zbGF0aW9uRXJyb3JNc2coZC5kYXRhPy5tZXNzYWdlID8/IGQpLCBudWxsKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvY29yZS92aWRlb01hbmFnZXIudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBrOiAoKSA9PiBWT1RWaWRlb01hbmFnZXIgfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L3V0aWxzL3ZpZGVvRGF0YS5qcyIpLCBnID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2NvbmZpZy5qcyIpLCBfID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2NvbnN0cy5qcyIpLCB2ID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC9oZWxwZXJzL3lvdXR1YmUuanMiKSwgYiA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCB4ID0gcCgiLi9zcmMvdXRpbHMvVk9UTG9jYWxpemVkRXJyb3IuanMiKSwgQyA9IHAoIi4vc3JjL3V0aWxzL2RlYnVnLnRzIiksIHcgPSBwKCIuL3NyYy91dGlscy9nbS50cyIpLCBUID0gcCgiLi9zcmMvdXRpbHMvdHJhbnNsYXRlQXBpcy50cyIpLCBFID0gcCgiLi9zcmMvdXRpbHMvdXRpbHMudHMiKSwgRCA9IGQoWwoJCQkJCQliLAoJCQkJCQl4LAoJCQkJCQl3LAoJCQkJCQlULAoJCQkJCQlFCgkJCQkJXSk7CgkJCQkJW2IsIHgsIHcsIFQsIEVdID0gRC50aGVuID8gKGF3YWl0IEQpKCkgOiBEOwoJCQkJCWNsYXNzIFZPVFZpZGVvTWFuYWdlciB7CgkJCQkJCXZpZGVvSGFuZGxlcjsKCQkJCQkJY29uc3RydWN0b3IoZCkgewoJCQkJCQkJdGhpcy52aWRlb0hhbmRsZXIgPSBkOwoJCQkJCQl9CgkJCQkJCWFzeW5jIGdldFZpZGVvRGF0YSgpIHsKCQkJCQkJCWxldCB7IGR1cmF0aW9uOiBkLCB1cmw6IGYsIHZpZGVvSWQ6IHAsIGhvc3Q6IG0sIHRpdGxlOiB2LCB0cmFuc2xhdGlvbkhlbHA6IHggPSBudWxsLCBsb2NhbGl6ZWRUaXRsZTogRCwgZGVzY3JpcHRpb246IE8sIGRldGVjdGVkTGFuZ3VhZ2U6IEEsIHN1YnRpdGxlczogaiwgaXNTdHJlYW06IEYgPSAhMSB9ID0gYXdhaXQgKDAsIGgubzQpKHRoaXMudmlkZW9IYW5kbGVyLnNpdGUsIHsKCQkJCQkJCQlmZXRjaEZuOiB3LkczLAoJCQkJCQkJCXZpZGVvOiB0aGlzLnZpZGVvSGFuZGxlci52aWRlbywKCQkJCQkJCQlsYW5ndWFnZTogYi5qLmxhbmcKCQkJCQkJCX0pLCBVID0gQSA/PyB0aGlzLnZpZGVvSGFuZGxlci50cmFuc2xhdGVGcm9tTGFuZzsKCQkJCQkJCWlmICghQSAmJiB2KSB7CgkJCQkJCQkJbGV0IGQgPSAoMCwgRS5YNSkodiwgTyk7CgkJCQkJCQkJQy5BLmxvZyhgRGV0ZWN0aW5nIGxhbmd1YWdlIHRleHQ6ICR7ZH1gKTsKCQkJCQkJCQlsZXQgZiA9IGF3YWl0ICgwLCBULm8wKShkKTsKCQkJCQkJCQlfLnhtLmluY2x1ZGVzKGYpICYmIChVID0gZik7CgkJCQkJCQl9CgkJCQkJCQlsZXQgVyA9IHsKCQkJCQkJCQl0cmFuc2xhdGlvbkhlbHA6IHgsCgkJCQkJCQkJaXNTdHJlYW06IEYsCgkJCQkJCQkJZHVyYXRpb246IGQgfHwgdGhpcy52aWRlb0hhbmRsZXIudmlkZW8/LmR1cmF0aW9uIHx8IGcuQS5kZWZhdWx0RHVyYXRpb24sCgkJCQkJCQkJdmlkZW9JZDogcCwKCQkJCQkJCQl1cmw6IGYsCgkJCQkJCQkJaG9zdDogbSwKCQkJCQkJCQlkZXRlY3RlZExhbmd1YWdlOiBVLAoJCQkJCQkJCXJlc3BvbnNlTGFuZ3VhZ2U6IHRoaXMudmlkZW9IYW5kbGVyLnRyYW5zbGF0ZVRvTGFuZywKCQkJCQkJCQlzdWJ0aXRsZXM6IGosCgkJCQkJCQkJdGl0bGU6IHYsCgkJCQkJCQkJbG9jYWxpemVkVGl0bGU6IEQsCgkJCQkJCQkJZG93bmxvYWRUaXRsZTogRCA/PyB2ID8/IHAKCQkJCQkJCX07CgkJCQkJCQlpZiAoY29uc29sZS5sb2coIltWT1RdIERldGVjdGVkIGxhbmd1YWdlOiIsIFUpLCBbCgkJCQkJCQkJInJ1dHViZSIsCgkJCQkJCQkJIm9rLnJ1IiwKCQkJCQkJCQkibWFpbF9ydSIKCQkJCQkJCV0uaW5jbHVkZXModGhpcy52aWRlb0hhbmRsZXIuc2l0ZS5ob3N0KSkgVy5kZXRlY3RlZExhbmd1YWdlID0gInJ1IjsKCQkJCQkJCWVsc2UgaWYgKHRoaXMudmlkZW9IYW5kbGVyLnNpdGUuaG9zdCA9PT0gInlvdWt1IikgVy5kZXRlY3RlZExhbmd1YWdlID0gInpoIjsKCQkJCQkJCWVsc2UgaWYgKHRoaXMudmlkZW9IYW5kbGVyLnNpdGUuaG9zdCA9PT0gInZrIikgewoJCQkJCQkJCWxldCBkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRyYWNrIik/LlswXT8uc3JjbGFuZzsKCQkJCQkJCQlXLmRldGVjdGVkTGFuZ3VhZ2UgPSBkIHx8ICJhdXRvIjsKCQkJCQkJCX0gZWxzZSB0aGlzLnZpZGVvSGFuZGxlci5zaXRlLmhvc3QgPT09ICJ3ZXZlcnNlIiAmJiAoVy5kZXRlY3RlZExhbmd1YWdlID0gImtvIik7CgkJCQkJCQlyZXR1cm4gVzsKCQkJCQkJfQoJCQkJCQl2aWRlb1ZhbGlkYXRvcigpIHsKCQkJCQkJCWlmICghdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhIHx8ICF0aGlzLnZpZGVvSGFuZGxlci5kYXRhKSB0aHJvdyBuZXcgeC5uKCJWT1ROb1ZpZGVvSURGb3VuZCIpOwoJCQkJCQkJaWYgKEMuQS5sb2coIlZpZGVvVmFsaWRhdG9yIHZpZGVvRGF0YTogIiwgdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhKSwgdGhpcy52aWRlb0hhbmRsZXIuZGF0YS5lbmFibGVkRG9udFRyYW5zbGF0ZUxhbmd1YWdlcyAmJiB0aGlzLnZpZGVvSGFuZGxlci5kYXRhLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXM/LmluY2x1ZGVzKHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS5kZXRlY3RlZExhbmd1YWdlKSkgdGhyb3cgbmV3IHgubigiVk9URGlzYWJsZUZyb21Zb3VyTGFuZyIpOwoJCQkJCQkJaWYgKHRoaXMudmlkZW9IYW5kbGVyLnNpdGUuaG9zdCA9PT0gInR3aXRjaCIgJiYgdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLmlzU3RyZWFtKSB0aHJvdyBuZXcgeC5uKCJWT1RTdHJlYW1Ob3RBdmFpbGFibGUiKTsKCQkJCQkJCWlmICghdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLmlzU3RyZWFtICYmIHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS5kdXJhdGlvbiA+IDE0NDAwKSB0aHJvdyBuZXcgeC5uKCJWT1RWaWRlb0lzVG9vTG9uZyIpOwoJCQkJCQkJcmV0dXJuICEwOwoJCQkJCQl9CgkJCQkJCWdldFZpZGVvVm9sdW1lKCkgewoJCQkJCQkJbGV0IGQgPSB0aGlzLnZpZGVvSGFuZGxlci52aWRlbz8udm9sdW1lOwoJCQkJCQkJcmV0dXJuIFsieW91dHViZSIsICJnb29nbGVkcml2ZSJdLmluY2x1ZGVzKHRoaXMudmlkZW9IYW5kbGVyLnNpdGUuaG9zdCkgJiYgKGQgPSB2LkEuZ2V0Vm9sdW1lKCkgPz8gZCksIGQ7CgkJCQkJCX0KCQkJCQkJc2V0VmlkZW9Wb2x1bWUoZCkgewoJCQkJCQkJaWYgKCFbInlvdXR1YmUiLCAiZ29vZ2xlZHJpdmUiXS5pbmNsdWRlcyh0aGlzLnZpZGVvSGFuZGxlci5zaXRlLmhvc3QpKSByZXR1cm4gdGhpcy52aWRlb0hhbmRsZXIudmlkZW8udm9sdW1lID0gZCwgdGhpczsKCQkJCQkJCWxldCBmID0gdi5BLnNldFZvbHVtZShkKTsKCQkJCQkJCXJldHVybiBmIHx8ICh0aGlzLnZpZGVvSGFuZGxlci52aWRlby52b2x1bWUgPSBkKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlpc011dGVkKCkgewoJCQkJCQkJcmV0dXJuIFsieW91dHViZSIsICJnb29nbGVkcml2ZSJdLmluY2x1ZGVzKHRoaXMudmlkZW9IYW5kbGVyLnNpdGUuaG9zdCkgPyB2LkEuaXNNdXRlZCgpIDogdGhpcy52aWRlb0hhbmRsZXIudmlkZW8/Lm11dGVkOwoJCQkJCQl9CgkJCQkJCXN5bmNWaWRlb1ZvbHVtZVNsaWRlcigpIHsKCQkJCQkJCWxldCBkID0gdGhpcy5pc011dGVkKCkgPyAwIDogdGhpcy5nZXRWaWRlb1ZvbHVtZSgpICogMTAwLCBmID0gTWF0aC5yb3VuZChkKTsKCQkJCQkJCXJldHVybiB0aGlzLnZpZGVvSGFuZGxlci5kYXRhPy5zeW5jVm9sdW1lICYmICh0aGlzLnZpZGVvSGFuZGxlci50ZW1wT3JpZ2luYWxWb2x1bWUgPSBOdW1iZXIoZikpLCB0aGlzLnZpZGVvSGFuZGxlci51aU1hbmFnZXIudm90T3ZlcmxheVZpZXc/LmlzSW5pdGlhbGl6ZWQoKSAmJiAodGhpcy52aWRlb0hhbmRsZXIudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZpZGVvVm9sdW1lU2xpZGVyLnZhbHVlID0gZiksIHRoaXM7CgkJCQkJCX0KCQkJCQkJc2V0U2VsZWN0TWVudVZhbHVlcyhkLCBmKSB7CgkJCQkJCQlpZiAoIXRoaXMudmlkZW9IYW5kbGVyLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldz8uaXNJbml0aWFsaXplZCgpIHx8ICF0aGlzLnZpZGVvSGFuZGxlci52aWRlb0RhdGEpIHJldHVybiB0aGlzOwoJCQkJCQkJY29uc29sZS5sb2coYFtWT1RdIFNldCB0cmFuc2xhdGlvbiBmcm9tICR7ZH0gdG8gJHtmfWApLCB0aGlzLnZpZGVvSGFuZGxlci51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcubGFuZ3VhZ2VQYWlyU2VsZWN0LmZyb21TZWxlY3Quc2VsZWN0VGl0bGUgPSBiLmouZ2V0KGBsYW5ncy4ke2R9YCksIHRoaXMudmlkZW9IYW5kbGVyLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy5sYW5ndWFnZVBhaXJTZWxlY3QudG9TZWxlY3Quc2VsZWN0VGl0bGUgPSBiLmouZ2V0KGBsYW5ncy4ke2Z9YCksIHRoaXMudmlkZW9IYW5kbGVyLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy5sYW5ndWFnZVBhaXJTZWxlY3QuZnJvbVNlbGVjdC5zZXRTZWxlY3RlZFZhbHVlKGQpLCB0aGlzLnZpZGVvSGFuZGxlci51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcubGFuZ3VhZ2VQYWlyU2VsZWN0LnRvU2VsZWN0LnNldFNlbGVjdGVkVmFsdWUoZiksIHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS5kZXRlY3RlZExhbmd1YWdlID0gZCwgdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLnJlc3BvbnNlTGFuZ3VhZ2UgPSBmOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy9pbmRleC5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IGs6ICgpID0+IFEgfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2luZGV4LmpzIiksIGcgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2hlbHBlcnMveW91dHViZS5qcyIpLCBfID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9leHQvZGlzdC91dGlscy92aWRlb0RhdGEuanMiKSwgdiA9IHAoIi4vbm9kZV9tb2R1bGVzL2NoYWltdS9kaXN0L2luZGV4LmpzIiksIGIgPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvaWZyYW1lLnRzIiksIHggPSBwKCIuL3NyYy9jb25maWcvY29uZmlnLmpzIiksIEMgPSBwKCIuL3NyYy9jb3JlL2F1dGgudHMiKSwgdyA9IHAoIi4vc3JjL2NvcmUvY2FjaGVNYW5hZ2VyLnRzIiksIFQgPSBwKCIuL3NyYy9jb3JlL3RyYW5zbGF0aW9uSGFuZGxlci50cyIpLCBFID0gcCgiLi9zcmMvY29yZS92aWRlb01hbmFnZXIudHMiKSwgRCA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBPID0gcCgiLi9zcmMvc3VidGl0bGVzLmpzIiksIEEgPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL2hvdGtleUJ1dHRvbi50cyIpLCBqID0gcCgiLi9zcmMvdWkvbWFuYWdlci50cyIpLCBGID0gcCgiLi9zcmMvdXRpbHMvZGVidWcudHMiKSwgVSA9IHAoIi4vc3JjL3V0aWxzL2dtLnRzIiksIFcgPSBwKCIuL3NyYy91dGlscy9pZnJhbWVDb25uZWN0b3IudHMiKSwgRyA9IHAoIi4vc3JjL3V0aWxzL3N0b3JhZ2UudHMiKSwgSyA9IHAoIi4vc3JjL3V0aWxzL3RyYW5zbGF0ZUFwaXMudHMiKSwgcSA9IHAoIi4vc3JjL3V0aWxzL3V0aWxzLnRzIiksIEogPSBwKCIuL3NyYy91dGlscy9WaWRlb09ic2VydmVyLmpzIiksIFkgPSBwKCIuL3NyYy91dGlscy9WT1RMb2NhbGl6ZWRFcnJvci5qcyIpLCBYID0gcCgiLi9zcmMvdXRpbHMvdm9sdW1lLnRzIiksIFogPSBkKFsKCQkJCQkJaCwKCQkJCQkJYiwKCQkJCQkJQywKCQkJCQkJVCwKCQkJCQkJRSwKCQkJCQkJRCwKCQkJCQkJTywKCQkJCQkJQSwKCQkJCQkJaiwKCQkJCQkJVSwKCQkJCQkJVywKCQkJCQkJRywKCQkJCQkJSywKCQkJCQkJcSwKCQkJCQkJWQoJCQkJCV0pOwoJCQkJCVtoLCBiLCBDLCBULCBFLCBELCBPLCBBLCBqLCBVLCBXLCBHLCBLLCBxLCBZXSA9IFoudGhlbiA/IChhd2FpdCBaKSgpIDogWjsKCQkJCQlsZXQgUTsKCQkJCQljbGFzcyBWaWRlb0hhbmRsZXIgewoJCQkJCQl0cmFuc2xhdGVGcm9tTGFuZyA9ICJhdXRvIjsKCQkJCQkJdHJhbnNsYXRlVG9MYW5nID0gcS5IRDsKCQkJCQkJdGltZXI7CgkJCQkJCWRhdGE7CgkJCQkJCXZpZGVvRGF0YTsKCQkJCQkJZmlyc3RQbGF5ID0gITA7CgkJCQkJCWF1ZGlvQ29udGV4dCA9ICgwLCB2LkdaKSgpOwoJCQkJCQlobHM7CgkJCQkJCXZvdENsaWVudDsKCQkJCQkJYXVkaW9QbGF5ZXI7CgkJCQkJCWFib3J0Q29udHJvbGxlcjsKCQkJCQkJYWN0aW9uc0Fib3J0Q29udHJvbGxlcjsKCQkJCQkJY2FjaGVNYW5hZ2VyOwoJCQkJCQlkb3dubG9hZFRyYW5zbGF0aW9uVXJsID0gbnVsbDsKCQkJCQkJYXV0b1JldHJ5OwoJCQkJCQlzdHJlYW1QaW5nOwoJCQkJCQl2b3RPcHRzOwoJCQkJCQl2b2x1bWVPblN0YXJ0OwoJCQkJCQl0ZW1wT3JpZ2luYWxWb2x1bWU7CgkJCQkJCXRlbXBWb2x1bWU7CgkJCQkJCWZpcnN0U3luY1ZvbHVtZSA9ICEwOwoJCQkJCQlsb25nV2FpdGluZ1Jlc0NvdW50ID0gMDsKCQkJCQkJc3VidGl0bGVzID0gW107CgkJCQkJCWNvbnN0cnVjdG9yKGQsIGYsIHApIHsKCQkJCQkJCUYuQS5sb2coIltWaWRlb0hhbmRsZXJdIGFkZCB2aWRlbzoiLCBkLCAiY29udGFpbmVyOiIsIGYsIHRoaXMpLCB0aGlzLnZpZGVvID0gZCwgdGhpcy5jb250YWluZXIgPSBmLCB0aGlzLnNpdGUgPSBwLCB0aGlzLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKSwgdGhpcy5hY3Rpb25zQWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpLCB0aGlzLnVpTWFuYWdlciA9IG5ldyBqLm8oewoJCQkJCQkJCXJvb3Q6IHRoaXMuY29udGFpbmVyLAoJCQkJCQkJCXBvcnRhbENvbnRhaW5lcjogdGhpcy5nZXRQb3J0YWxDb250YWluZXIoKSwKCQkJCQkJCQl0b29sdGlwTGF5b3V0Um9vdDogdGhpcy5nZXRUb29sdGlwTGF5b3V0Um9vdCgpLAoJCQkJCQkJCWRhdGE6IHRoaXMuZGF0YSwKCQkJCQkJCQl2aWRlb0hhbmRsZXI6IHRoaXMKCQkJCQkJCX0pLCB0aGlzLnRyYW5zbGF0aW9uSGFuZGxlciA9IG5ldyBULkYodGhpcyksIHRoaXMudmlkZW9NYW5hZ2VyID0gbmV3IEUuayh0aGlzKSwgdGhpcy5jYWNoZU1hbmFnZXIgPSBuZXcgdy5HKCk7CgkJCQkJCX0KCQkJCQkJZ2V0UG9ydGFsQ29udGFpbmVyKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuc2l0ZS5ob3N0ID09PSAieW91dHViZSIgJiYgdGhpcy5zaXRlLmFkZGl0aW9uYWxEYXRhICE9PSAibW9iaWxlIiA/IHRoaXMuY29udGFpbmVyLnBhcmVudEVsZW1lbnQgOiB0aGlzLmNvbnRhaW5lcjsKCQkJCQkJfQoJCQkJCQlnZXRUb29sdGlwTGF5b3V0Um9vdCgpIHsKCQkJCQkJCXN3aXRjaCAodGhpcy5zaXRlLmhvc3QpIHsKCQkJCQkJCQljYXNlICJraWNrc3RhcnRlciI6IHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVhY3QtcHJvamVjdC1oZWFkZXIiKTsKCQkJCQkJCQljYXNlICJjdXN0b20iOiByZXR1cm47CgkJCQkJCQkJZGVmYXVsdDogcmV0dXJuIHRoaXMuY29udGFpbmVyOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWdldEV2ZW50Q29udGFpbmVyKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuc2l0ZS5ldmVudFNlbGVjdG9yID8gdGhpcy5zaXRlLmhvc3QgPT09ICJ0d2l0dGVyIiA/IHRoaXMuY29udGFpbmVyLmNsb3Nlc3QodGhpcy5zaXRlLmV2ZW50U2VsZWN0b3IpIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNpdGUuZXZlbnRTZWxlY3RvcikgOiB0aGlzLmNvbnRhaW5lcjsKCQkJCQkJfQoJCQkJCQlhc3luYyBhdXRvVHJhbnNsYXRlKCkgewoJCQkJCQkJaWYgKHRoaXMuZmlyc3RQbGF5ICYmIHRoaXMuZGF0YS5hdXRvVHJhbnNsYXRlICYmIHRoaXMudmlkZW9EYXRhLnZpZGVvSWQpIHsKCQkJCQkJCQl0aGlzLmZpcnN0UGxheSA9ICExOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCXRoaXMudmlkZW9NYW5hZ2VyLnZpZGVvVmFsaWRhdG9yKCksIGF3YWl0IHRoaXMudWlNYW5hZ2VyLmhhbmRsZVRyYW5zbGF0aW9uQnRuQ2xpY2soKTsKCQkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJCWNvbnNvbGUuZXJyb3IoIltWT1RdIiwgZCk7CgkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJZ2V0UHJlZmVyQXVkaW8oKSB7CgkJCQkJCQlyZXR1cm4gIXRoaXMuYXVkaW9Db250ZXh0IHx8ICF0aGlzLmRhdGEubmV3QXVkaW9QbGF5ZXIgfHwgdGhpcy52aWRlb0RhdGEuaXNTdHJlYW0gPyAhMCA6IHRoaXMuZGF0YS5uZXdBdWRpb1BsYXllciAmJiAhdGhpcy5kYXRhLm9ubHlCeXBhc3NNZWRpYUNTUCA/ICExIDogIXRoaXMuc2l0ZS5uZWVkQnlwYXNzQ1NQOwoJCQkJCQl9CgkJCQkJCWNyZWF0ZVBsYXllcigpIHsKCQkJCQkJCWxldCBkID0gdGhpcy5nZXRQcmVmZXJBdWRpbygpOwoJCQkJCQkJcmV0dXJuIEYuQS5sb2coInByZWZlckF1ZGlvOiIsIGQpLCB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IHYuQXkoewoJCQkJCQkJCXZpZGVvOiB0aGlzLnZpZGVvLAoJCQkJCQkJCWRlYnVnOiAhMSwKCQkJCQkJCQlmZXRjaEZuOiBVLkczLAoJCQkJCQkJCWZldGNoT3B0czogeyB0aW1lb3V0OiAwIH0sCgkJCQkJCQkJcHJlZmVyQXVkaW86IGQKCQkJCQkJCX0pLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWFzeW5jIGluaXQoKSB7CgkJCQkJCQlpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHsKCQkJCQkJCQlpZiAodGhpcy5kYXRhID0gYXdhaXQgRy5kLmdldFZhbHVlcyh7CgkJCQkJCQkJCWF1dG9UcmFuc2xhdGU6ICExLAoJCQkJCQkJCQlkb250VHJhbnNsYXRlTGFuZ3VhZ2VzOiBbcS5IRF0sCgkJCQkJCQkJCWVuYWJsZWREb250VHJhbnNsYXRlTGFuZ3VhZ2VzOiAhMCwKCQkJCQkJCQkJZW5hYmxlZEF1dG9Wb2x1bWU6ICEwLAoJCQkJCQkJCQlhdXRvVm9sdW1lOiB4LkpELAoJCQkJCQkJCQlidXR0b25Qb3M6ICJkZWZhdWx0IiwKCQkJCQkJCQkJc2hvd1ZpZGVvU2xpZGVyOiAhMCwKCQkJCQkJCQkJc3luY1ZvbHVtZTogITEsCgkJCQkJCQkJCWRvd25sb2FkV2l0aE5hbWU6IFUueXgsCgkJCQkJCQkJCXNlbmROb3RpZnlPbkNvbXBsZXRlOiAhMSwKCQkJCQkJCQkJc3VidGl0bGVzTWF4TGVuZ3RoOiAzMDAsCgkJCQkJCQkJCWhpZ2hsaWdodFdvcmRzOiAhMSwKCQkJCQkJCQkJc3VidGl0bGVzRm9udFNpemU6IDIwLAoJCQkJCQkJCQlzdWJ0aXRsZXNPcGFjaXR5OiAyMCwKCQkJCQkJCQkJc3VidGl0bGVzRG93bmxvYWRGb3JtYXQ6ICJzcnQiLAoJCQkJCQkJCQlyZXNwb25zZUxhbmd1YWdlOiBxLkhELAoJCQkJCQkJCQlkZWZhdWx0Vm9sdW1lOiAxMDAsCgkJCQkJCQkJCW9ubHlCeXBhc3NNZWRpYUNTUDogTnVtYmVyKCEhdGhpcy5hdWRpb0NvbnRleHQpLAoJCQkJCQkJCQluZXdBdWRpb1BsYXllcjogTnVtYmVyKCEhdGhpcy5hdWRpb0NvbnRleHQpLAoJCQkJCQkJCQlzaG93UGlQQnV0dG9uOiAhMSwKCQkJCQkJCQkJdHJhbnNsYXRlQVBJRXJyb3JzOiAhMCwKCQkJCQkJCQkJdHJhbnNsYXRpb25TZXJ2aWNlOiB4Lm1FLAoJCQkJCQkJCQlkZXRlY3RTZXJ2aWNlOiB4LksyLAoJCQkJCQkJCQl0cmFuc2xhdGlvbkhvdGtleTogbnVsbCwKCQkJCQkJCQkJbTN1OFByb3h5SG9zdDogeC5zZSwKCQkJCQkJCQkJcHJveHlXb3JrZXJIb3N0OiB4LlBtLAoJCQkJCQkJCQl0cmFuc2xhdGVQcm94eUVuYWJsZWQ6IDAsCgkJCQkJCQkJCXRyYW5zbGF0ZVByb3h5RW5hYmxlZERlZmF1bHQ6ICEwLAoJCQkJCQkJCQlhdWRpb0Jvb3N0ZXI6ICExLAoJCQkJCQkJCQl1c2VMaXZlbHlWb2ljZTogITEsCgkJCQkJCQkJCWF1dG9IaWRlQnV0dG9uRGVsYXk6IHgucVUsCgkJCQkJCQkJCXVzZUF1ZGlvRG93bmxvYWQ6IFUuQjAsCgkJCQkJCQkJCWNvbXBhdFZlcnNpb246ICIiLAoJCQkJCQkJCQlhY2NvdW50OiB7fSwKCQkJCQkJCQkJbG9jYWxlSGFzaDogIiIsCgkJCQkJCQkJCWxvY2FsZVVwZGF0ZWRBdDogMAoJCQkJCQkJCX0pLCB0aGlzLmRhdGEuY29tcGF0VmVyc2lvbiAhPT0geC5yNCAmJiAodGhpcy5kYXRhID0gYXdhaXQgKDAsIEcuXykodGhpcy5kYXRhKSwgYXdhaXQgRy5kLnNldCgiY29tcGF0VmVyc2lvbiIsIHgucjQpKSwgdGhpcy51aU1hbmFnZXIuZGF0YSA9IHRoaXMuZGF0YSwgdGhpcy50ZW1wVm9sdW1lID0gdGhpcy5kYXRhLmRlZmF1bHRWb2x1bWUsIGNvbnNvbGUubG9nKCJbVk9UXSBkYXRhIGZyb20gZGI6ICIsIHRoaXMuZGF0YSksICF0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkICYmIFUudXAgJiYgKHRoaXMuZGF0YS50cmFuc2xhdGVQcm94eUVuYWJsZWQgPSAxKSwgIVEpIHRyeSB7CgkJCQkJCQkJCWxldCBkID0gYXdhaXQgKDAsIFUuRzMpKCJodHRwczovL3NwZWVkLmNsb3VkZmxhcmUuY29tL21ldGEiLCB7IHRpbWVvdXQ6IDdlMyB9KTsKCQkJCQkJCQkJKHtjb3VudHJ5OiBRfSA9IGF3YWl0IGQuanNvbigpKTsKCQkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJCWNvbnNvbGUuZXJyb3IoIltWT1RdIEVycm9yIGdldHRpbmcgY291bnRyeToiLCBkKTsKCQkJCQkJCQl9CgkJCQkJCQkJeC52Wi5pbmNsdWRlcyhRKSAmJiB0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkRGVmYXVsdCAmJiAodGhpcy5kYXRhLnRyYW5zbGF0ZVByb3h5RW5hYmxlZCA9IDIpLCBGLkEubG9nKCJ0cmFuc2xhdGVQcm94eUVuYWJsZWQiLCB0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkLCB0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkRGVmYXVsdCksIEYuQS5sb2coIkV4dGVuc2lvbiBjb21wYXRpYmlsaXR5IHBhc3NlZC4uLiIpLCB0aGlzLmluaXRWT1RDbGllbnQoKSwgdGhpcy51aU1hbmFnZXIuaW5pdFVJKCksIHRoaXMudWlNYW5hZ2VyLmluaXRVSUV2ZW50cygpLCB0aGlzLnN1YnRpdGxlc1dpZGdldCA9IG5ldyBPLm8odGhpcy52aWRlbywgdGhpcy5nZXRQb3J0YWxDb250YWluZXIoKSwgdGhpcy5zaXRlLCB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52b3RPdmVybGF5UG9ydGFsLCB0aGlzLmdldFRvb2x0aXBMYXlvdXRSb290KCkpLCB0aGlzLnN1YnRpdGxlc1dpZGdldC5zZXRNYXhMZW5ndGgodGhpcy5kYXRhLnN1YnRpdGxlc01heExlbmd0aCksIHRoaXMuc3VidGl0bGVzV2lkZ2V0LnNldEhpZ2hsaWdodFdvcmRzKHRoaXMuZGF0YS5oaWdobGlnaHRXb3JkcyksIHRoaXMuc3VidGl0bGVzV2lkZ2V0LnNldEZvbnRTaXplKHRoaXMuZGF0YS5zdWJ0aXRsZXNGb250U2l6ZSksIHRoaXMuc3VidGl0bGVzV2lkZ2V0LnNldE9wYWNpdHkodGhpcy5kYXRhLnN1YnRpdGxlc09wYWNpdHkpLCB0aGlzLmNyZWF0ZVBsYXllcigpLCB0aGlzLnNldFNlbGVjdE1lbnVWYWx1ZXModGhpcy52aWRlb0RhdGEuZGV0ZWN0ZWRMYW5ndWFnZSwgdGhpcy5kYXRhLnJlc3BvbnNlTGFuZ3VhZ2UgPz8gInJ1IiksIHRoaXMudHJhbnNsYXRlVG9MYW5nID0gdGhpcy5kYXRhLnJlc3BvbnNlTGFuZ3VhZ2UgPz8gInJ1IiwgdGhpcy5pbml0RXh0cmFFdmVudHMoKSwgYXdhaXQgdGhpcy5hdXRvVHJhbnNsYXRlKCksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMDsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlpbml0Vk9UQ2xpZW50KCkgewoJCQkJCQkJcmV0dXJuIHRoaXMudm90T3B0cyA9IHsKCQkJCQkJCQlmZXRjaEZuOiBVLkczLAoJCQkJCQkJCWZldGNoT3B0czogeyBzaWduYWw6IHRoaXMuYWN0aW9uc0Fib3J0Q29udHJvbGxlci5zaWduYWwgfSwKCQkJCQkJCQlhcGlUb2tlbjogdGhpcy5kYXRhLmFjY291bnQ/LnRva2VuLAoJCQkJCQkJCWhvc3RWT1Q6IHgudFosCgkJCQkJCQkJaG9zdDogdGhpcy5kYXRhLnRyYW5zbGF0ZVByb3h5RW5hYmxlZCA/IHRoaXMuZGF0YS5wcm94eVdvcmtlckhvc3QgOiB4LnJsCgkJCQkJCQl9LCB0aGlzLnZvdENsaWVudCA9IG5ldyAodGhpcy5kYXRhLnRyYW5zbGF0ZVByb3h5RW5hYmxlZCA/IGguUHUgOiBoLkF5KSh0aGlzLnZvdE9wdHMpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXRyYW5zZm9ybUJ0bihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy51aU1hbmFnZXIudHJhbnNmb3JtQnRuKGQsIGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWhhc0FjdGl2ZVNvdXJjZSgpIHsKCQkJCQkJCXJldHVybiAhISh0aGlzLmF1ZGlvUGxheWVyLnBsYXllci5zcmMgfHwgdGhpcy5obHM/LnVybCk7CgkJCQkJCX0KCQkJCQkJaW5pdEV4dHJhRXZlbnRzKCkgewoJCQkJCQkJbGV0IHsgc2lnbmFsOiBkIH0gPSB0aGlzLmFib3J0Q29udHJvbGxlciwgYWRkRXh0cmFFdmVudExpc3RlbmVyID0gKGYsIHAsIG0pID0+IHsKCQkJCQkJCQlmLmFkZEV2ZW50TGlzdGVuZXIocCwgbSwgeyBzaWduYWw6IGQgfSk7CgkJCQkJCQl9LCBhZGRFeHRyYUV2ZW50TGlzdGVuZXJzID0gKGQsIGYsIHApID0+IHsKCQkJCQkJCQlmb3IgKGxldCBtIG9mIGYpIGFkZEV4dHJhRXZlbnRMaXN0ZW5lcihkLCBtLCBwKTsKCQkJCQkJCX07CgkJCQkJCQlpZiAodGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZCkgPT4gewoJCQkJCQkJCWZvciAobGV0IGYgb2YgZCkgdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudm90TWVudS5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoIi0tdm90LWNvbnRhaW5lci1oZWlnaHQiLCBgJHtmLmNvbnRlbnRSZWN0LmhlaWdodH1weGApOwoJCQkJCQkJCWxldCB7IHBvc2l0aW9uOiBmLCBkaXJlY3Rpb246IHAgfSA9IHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LmNhbGNCdXR0b25MYXlvdXQodGhpcy5kYXRhPy5idXR0b25Qb3MpOwoJCQkJCQkJCXRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnVwZGF0ZUJ1dHRvbkxheW91dChmLCBwKTsKCQkJCQkJCX0pLCB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy52aWRlbyksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdE1lbnUuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCItLXZvdC1jb250YWluZXItaGVpZ2h0IiwgYCR7dGhpcy52aWRlby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR9cHhgKSwgWyJ5b3V0dWJlIiwgImdvb2dsZWRyaXZlIl0uaW5jbHVkZXModGhpcy5zaXRlLmhvc3QpICYmIHRoaXMuc2l0ZS5hZGRpdGlvbmFsRGF0YSAhPT0gIm1vYmlsZSIpIHsKCQkJCQkJCQl0aGlzLnN5bmNWb2x1bWVPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChkKSA9PiB7CgkJCQkJCQkJCWlmICghKCF0aGlzLmF1ZGlvUGxheWVyLnBsYXllci5zcmMgfHwgIXRoaXMuZGF0YS5zeW5jVm9sdW1lKSkgewoJCQkJCQkJCQkJZm9yIChsZXQgZiBvZiBkKSBpZiAoZi50eXBlID09PSAiYXR0cmlidXRlcyIgJiYgZi5hdHRyaWJ1dGVOYW1lID09PSAiYXJpYS12YWx1ZW5vdyIpIHsKCQkJCQkJCQkJCQlpZiAodGhpcy5maXJzdFN5bmNWb2x1bWUpIHsKCQkJCQkJCQkJCQkJdGhpcy5maXJzdFN5bmNWb2x1bWUgPSAhMTsKCQkJCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQlsZXQgZCA9IHRoaXMuaXNNdXRlZCgpID8gMCA6IHRoaXMuZ2V0VmlkZW9Wb2x1bWUoKSAqIDEwMCwgZiA9IE1hdGgucm91bmQoZCk7CgkJCQkJCQkJCQkJdGhpcy5kYXRhLmRlZmF1bHRWb2x1bWUgPSBmLCB0aGlzLmF1ZGlvUGxheWVyLnBsYXllci52b2x1bWUgPSB0aGlzLmRhdGEuZGVmYXVsdFZvbHVtZSAvIDEwMCwgdGhpcy5zeW5jVm9sdW1lV3JhcHBlcigidmlkZW8iLCBmKTsKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCX0pOwoJCQkJCQkJCWxldCBkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnl0cC12b2x1bWUtcGFuZWwiKTsKCQkJCQkJCQlkICYmIHRoaXMuc3luY1ZvbHVtZU9ic2VydmVyLm9ic2VydmUoZCwgewoJCQkJCQkJCQlhdHRyaWJ1dGVzOiAhMCwKCQkJCQkJCQkJc3VidHJlZTogITAKCQkJCQkJCQl9KTsKCQkJCQkJCX0KCQkJCQkJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGQpID0+IHsKCQkJCQkJCQlsZXQgZiA9IGQudGFyZ2V0LCBwID0gdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudm90QnV0dG9uLmNvbnRhaW5lciwgbSA9IHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdE1lbnUuY29udGFpbmVyLCBoID0gdGhpcy5jb250YWluZXIsIGcgPSB0aGlzLnVpTWFuYWdlci52b3RTZXR0aW5nc1ZpZXcuZGlhbG9nLmNvbnRhaW5lciwgXyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi52b3QtZGlhbG9nLXRlbXAiKSwgdiA9IHAuY29udGFpbnMoZiksIGIgPSBtLmNvbnRhaW5zKGYpLCB4ID0gaC5jb250YWlucyhmKSwgQyA9IGcuY29udGFpbnMoZiksIHcgPSBfPy5jb250YWlucyhmKSA/PyAhMTsKCQkJCQkJCQlGLkEubG9nKGBbZG9jdW1lbnQgY2xpY2tdICR7dn0gJHtifSAke3h9ICR7Q30gJHt3fWApLCAhdiAmJiAhYiAmJiAhQyAmJiAhdyAmJiAoeCB8fCB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy51cGRhdGVCdXR0b25PcGFjaXR5KDApLCB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52b3RNZW51LmhpZGRlbiA9ICEwKTsKCQkJCQkJCX0sIHsgc2lnbmFsOiBkIH0pOwoJCQkJCQkJbGV0IGYgPSBuZXcgU2V0KCk7CgkJCQkJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQlpZiAoZC5yZXBlYXQpIHJldHVybjsKCQkJCQkJCQlmLmFkZChkLmNvZGUpOwoJCQkJCQkJCWxldCBwID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgbSA9IFsiaW5wdXQiLCAidGV4dGFyZWEiXS5pbmNsdWRlcyhwLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgfHwgcC5pc0NvbnRlbnRFZGl0YWJsZTsKCQkJCQkJCQlpZiAobSkgcmV0dXJuOwoJCQkJCQkJCWxldCBoID0gKDAsIEEuXykoZik7CgkJCQkJCQkJRi5BLmxvZyhgY29tYm86ICR7aH1gKSwgRi5BLmxvZyhgdGhpcy5kYXRhLnRyYW5zbGF0aW9uSG90a2V5OiAke3RoaXMuZGF0YS50cmFuc2xhdGlvbkhvdGtleX1gKSwgaCA9PT0gdGhpcy5kYXRhLnRyYW5zbGF0aW9uSG90a2V5ICYmIGF3YWl0IHRoaXMudWlNYW5hZ2VyLmhhbmRsZVRyYW5zbGF0aW9uQnRuQ2xpY2soKTsKCQkJCQkJCX0sIHsgc2lnbmFsOiBkIH0pLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgKCkgPT4gewoJCQkJCQkJCWYuY2xlYXIoKTsKCQkJCQkJCX0pLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIChkKSA9PiB7CgkJCQkJCQkJZi5kZWxldGUoZC5jb2RlKTsKCQkJCQkJCX0sIHsgc2lnbmFsOiBkIH0pOwoJCQkJCQkJbGV0IHAgPSB0aGlzLmdldEV2ZW50Q29udGFpbmVyKCk7CgkJCQkJCQlwICYmIGFkZEV4dHJhRXZlbnRMaXN0ZW5lcnMocCwgWyJwb2ludGVybW92ZSIsICJwb2ludGVyb3V0Il0sIHRoaXMucmVzZXRUaW1lciksIGFkZEV4dHJhRXZlbnRMaXN0ZW5lcih0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52b3RCdXR0b24uY29udGFpbmVyLCAicG9pbnRlcm1vdmUiLCB0aGlzLmNoYW5nZU9wYWNpdHlPbkV2ZW50KSwgYWRkRXh0cmFFdmVudExpc3RlbmVyKHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdE1lbnUuY29udGFpbmVyLCAicG9pbnRlcm1vdmUiLCB0aGlzLmNoYW5nZU9wYWNpdHlPbkV2ZW50KSwgdGhpcy5zaXRlLmhvc3QgIT09ICJ4dmlkZW9zIiAmJiBhZGRFeHRyYUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICJ0b3VjaG1vdmUiLCB0aGlzLnJlc2V0VGltZXIpLCB0aGlzLnNpdGUuaG9zdCA9PT0gInlvdXR1YmUiICYmICh0aGlzLmNvbnRhaW5lci5kcmFnZ2FibGUgPSAhMSksIGFkZEV4dHJhRXZlbnRMaXN0ZW5lcih0aGlzLnZpZGVvLCAiY2FucGxheSIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQl0aGlzLnNpdGUuaG9zdCA9PT0gInJ1dHViZSIgJiYgdGhpcy52aWRlby5zcmMgfHwgYXdhaXQgdGhpcy5zZXRDYW5QbGF5KCk7CgkJCQkJCQl9KSwgYWRkRXh0cmFFdmVudExpc3RlbmVyKHRoaXMudmlkZW8sICJlbXB0aWVkIiwgYXN5bmMgKCkgPT4gewoJCQkJCQkJCWxldCBkID0gYXdhaXQgKDAsIF8ualkpKHRoaXMuc2l0ZSwgewoJCQkJCQkJCQlmZXRjaEZuOiBVLkczLAoJCQkJCQkJCQl2aWRlbzogdGhpcy52aWRlbwoJCQkJCQkJCX0pOwoJCQkJCQkJCXRoaXMudmlkZW8uc3JjICYmIHRoaXMudmlkZW9EYXRhICYmIGQgPT09IHRoaXMudmlkZW9EYXRhLnZpZGVvSWQgfHwgKEYuQS5sb2coImxpcHN5bmMgbW9kZSBpcyBlbXB0aWVkIiksIHRoaXMudmlkZW9EYXRhID0gdm9pZCAwLCB0aGlzLnN0b3BUcmFuc2xhdGlvbigpKTsKCQkJCQkJCX0pLCBbInJ1dHViZSIsICJvayJdLmluY2x1ZGVzKHRoaXMuc2l0ZS5ob3N0KSB8fCBhZGRFeHRyYUV2ZW50TGlzdGVuZXIodGhpcy52aWRlbywgInZvbHVtZWNoYW5nZSIsICgpID0+IHsKCQkJCQkJCQl0aGlzLnN5bmNWaWRlb1ZvbHVtZVNsaWRlcigpOwoJCQkJCQkJfSksIHRoaXMuc2l0ZS5ob3N0ID09PSAieW91dHViZSIgJiYgIXRoaXMuc2l0ZS5hZGRpdGlvbmFsRGF0YSAmJiBhZGRFeHRyYUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICJ5dC1wYWdlLWRhdGEtdXBkYXRlZCIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlGLkEubG9nKCJ5dC1wYWdlLWRhdGEtdXBkYXRlZCIpLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoIi9zaG9ydHMvIikgJiYgYXdhaXQgdGhpcy5zZXRDYW5QbGF5KCk7CgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCQlhc3luYyBzZXRDYW5QbGF5KCkgewoJCQkJCQkJbGV0IGQgPSBhd2FpdCAoMCwgXy5qWSkodGhpcy5zaXRlLCB7CgkJCQkJCQkJZmV0Y2hGbjogVS5HMywKCQkJCQkJCQl2aWRlbzogdGhpcy52aWRlbwoJCQkJCQkJfSk7CgkJCQkJCQl0aGlzLnZpZGVvRGF0YSAmJiBkID09PSB0aGlzLnZpZGVvRGF0YS52aWRlb0lkIHx8IChhd2FpdCB0aGlzLmhhbmRsZVNyY0NoYW5nZWQoKSwgYXdhaXQgdGhpcy5hdXRvVHJhbnNsYXRlKCksIEYuQS5sb2coImxpcHN5bmMgbW9kZSBpcyBjYW5wbGF5IikpOwoJCQkJCQl9CgkJCQkJCXJlc2V0VGltZXIgPSAoKSA9PiB7CgkJCQkJCQljbGVhclRpbWVvdXQodGhpcy50aW1lciksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnVwZGF0ZUJ1dHRvbk9wYWNpdHkoMSksIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJCQl0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy51cGRhdGVCdXR0b25PcGFjaXR5KDApOwoJCQkJCQkJfSwgdGhpcy5kYXRhLmF1dG9IaWRlQnV0dG9uRGVsYXkpOwoJCQkJCQl9OwoJCQkJCQljaGFuZ2VPcGFjaXR5T25FdmVudCA9IChkKSA9PiB7CgkJCQkJCQljbGVhclRpbWVvdXQodGhpcy50aW1lciksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnVwZGF0ZUJ1dHRvbk9wYWNpdHkoMSksIGQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJCX07CgkJCQkJCWFzeW5jIGNoYW5nZVN1YnRpdGxlc0xhbmcoZCkgewoJCQkJCQkJaWYgKEYuQS5sb2coIltvbmNoYW5nZV0gc3VidGl0bGVzIiwgZCksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnN1YnRpdGxlc1NlbGVjdC5zZXRTZWxlY3RlZFZhbHVlKGQpLCBkID09PSAiZGlzYWJsZWQiKSB0aGlzLnN1YnRpdGxlc1dpZGdldC5zZXRDb250ZW50KG51bGwpLCB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy5kb3dubG9hZFN1YnRpdGxlc0J1dHRvbi5oaWRkZW4gPSAhMCwgdGhpcy55YW5kZXhTdWJ0aXRsZXMgPSBudWxsOwoJCQkJCQkJZWxzZSB7CgkJCQkJCQkJbGV0IGYgPSB0aGlzLnN1YnRpdGxlcy5hdChOdW1iZXIucGFyc2VJbnQoZCkpOwoJCQkJCQkJCWlmICh0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkID09PSAyICYmIGYudXJsLnN0YXJ0c1dpdGgoImh0dHBzOi8vYnJvc3Vicy5zMy1wcml2YXRlLm1kcy55YW5kZXgubmV0L3Z0cmFucy8iKSkgewoJCQkJCQkJCQlsZXQgZCA9IGYudXJsLnJlcGxhY2UoImh0dHBzOi8vYnJvc3Vicy5zMy1wcml2YXRlLm1kcy55YW5kZXgubmV0L3Z0cmFucy8iLCAiIik7CgkJCQkJCQkJCWYudXJsID0gYGh0dHBzOi8vJHt0aGlzLmRhdGEucHJveHlXb3JrZXJIb3N0fS92aWRlby1zdWJ0aXRsZXMvc3VidGl0bGVzLXByb3h5LyR7ZH1gLCBjb25zb2xlLmxvZyhgW1ZPVF0gU3VicyBwcm94aWVkIHZpYSAke2YudXJsfWApOwoJCQkJCQkJCX0KCQkJCQkJCQl0aGlzLnlhbmRleFN1YnRpdGxlcyA9IGF3YWl0IE8uSS5mZXRjaFN1YnRpdGxlcyhmKSwgdGhpcy5zdWJ0aXRsZXNXaWRnZXQuc2V0Q29udGVudCh0aGlzLnlhbmRleFN1YnRpdGxlcywgZi5sYW5ndWFnZSksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LmRvd25sb2FkU3VidGl0bGVzQnV0dG9uLmhpZGRlbiA9ICExOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWFzeW5jIHVwZGF0ZVN1YnRpdGxlc0xhbmdTZWxlY3QoKSB7CgkJCQkJCQlpZiAoIXRoaXMuc3VidGl0bGVzIHx8IHRoaXMuc3VidGl0bGVzLmxlbmd0aCA9PT0gMCkgewoJCQkJCQkJCWxldCBkID0gW3sKCQkJCQkJCQkJbGFiZWw6IEQuai5nZXQoIlZPVFN1YnRpdGxlc0Rpc2FibGVkIiksCgkJCQkJCQkJCXZhbHVlOiAiZGlzYWJsZWQiLAoJCQkJCQkJCQlzZWxlY3RlZDogITAsCgkJCQkJCQkJCWRpc2FibGVkOiAhMQoJCQkJCQkJCX1dOwoJCQkJCQkJCXRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnN1YnRpdGxlc1NlbGVjdC51cGRhdGVJdGVtcyhkKSwgYXdhaXQgdGhpcy5jaGFuZ2VTdWJ0aXRsZXNMYW5nKGRbMF0udmFsdWUpOwoJCQkJCQkJCXJldHVybjsKCQkJCQkJCX0KCQkJCQkJCWxldCBkID0gW3sKCQkJCQkJCQlsYWJlbDogRC5qLmdldCgiVk9UU3VidGl0bGVzRGlzYWJsZWQiKSwKCQkJCQkJCQl2YWx1ZTogImRpc2FibGVkIiwKCQkJCQkJCQlzZWxlY3RlZDogITAsCgkJCQkJCQkJZGlzYWJsZWQ6ICExCgkJCQkJCQl9LCAuLi50aGlzLnN1YnRpdGxlcy5tYXAoKGQsIGYpID0+ICh7CgkJCQkJCQkJbGFiZWw6IChELmouZ2V0KGBsYW5ncy4ke2QubGFuZ3VhZ2V9YCkgPz8gZC5sYW5ndWFnZS50b1VwcGVyQ2FzZSgpKSArIChkLnRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2UgPyBgICR7RC5qLmdldCgiVk9UVHJhbnNsYXRlZEZyb20iKX0gJHtELmouZ2V0KGBsYW5ncy4ke2QudHJhbnNsYXRlZEZyb21MYW5ndWFnZX1gKSA/PyBkLnRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2UudG9VcHBlckNhc2UoKX1gIDogIiIpICsgKGQuc291cmNlID09PSAieWFuZGV4IiA/ICIiIDogYCwgJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9YCkgKyAoZC5pc0F1dG9HZW5lcmF0ZWQgPyBgICgke0Quai5nZXQoIlZPVEF1dG9nZW5lcmF0ZWQiKX0pYCA6ICIiKSwKCQkJCQkJCQl2YWx1ZTogZiwKCQkJCQkJCQlzZWxlY3RlZDogITEsCgkJCQkJCQkJZGlzYWJsZWQ6ICExCgkJCQkJCQl9KSldOwoJCQkJCQkJdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcuc3VidGl0bGVzU2VsZWN0LnVwZGF0ZUl0ZW1zKGQpLCBhd2FpdCB0aGlzLmNoYW5nZVN1YnRpdGxlc0xhbmcoZFswXS52YWx1ZSk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgbG9hZFN1YnRpdGxlcygpIHsKCQkJCQkJCWlmICghdGhpcy52aWRlb0RhdGE/LnZpZGVvSWQpIHsKCQkJCQkJCQljb25zb2xlLmVycm9yKGBbVk9UXSAke0Quai5nZXREZWZhdWx0KCJWT1ROb1ZpZGVvSURGb3VuZCIpfWApLCB0aGlzLnN1YnRpdGxlcyA9IFtdOwoJCQkJCQkJCXJldHVybjsKCQkJCQkJCX0KCQkJCQkJCWxldCBkID0gYCR7dGhpcy52aWRlb0RhdGEudmlkZW9JZH1fJHt0aGlzLnZpZGVvRGF0YS5kZXRlY3RlZExhbmd1YWdlfV8ke3RoaXMudmlkZW9EYXRhLnJlc3BvbnNlTGFuZ3VhZ2V9XyR7dGhpcy5kYXRhLnVzZUxpdmVseVZvaWNlfWA7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWxldCBmID0gdGhpcy5jYWNoZU1hbmFnZXIuZ2V0U3VidGl0bGVzKGQpOwoJCQkJCQkJCWYgfHwgKGYgPSBhd2FpdCBPLkkuZ2V0U3VidGl0bGVzKHRoaXMudm90Q2xpZW50LCB0aGlzLnZpZGVvRGF0YSksIHRoaXMuY2FjaGVNYW5hZ2VyLnNldFN1YnRpdGxlcyhkLCBmKSksIHRoaXMuc3VidGl0bGVzID0gZjsKCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQljb25zb2xlLmVycm9yKCJbVk9UXSBGYWlsZWQgdG8gbG9hZCBzdWJ0aXRsZXM6IiwgZCksIHRoaXMuc3VidGl0bGVzID0gW107CgkJCQkJCQl9CgkJCQkJCQlhd2FpdCB0aGlzLnVwZGF0ZVN1YnRpdGxlc0xhbmdTZWxlY3QoKTsKCQkJCQkJfQoJCQkJCQlpc0xpdmVseVZvaWNlQWxsb3dlZCgpIHsKCQkJCQkJCXJldHVybiAhKHRoaXMudmlkZW9EYXRhLmRldGVjdGVkTGFuZ3VhZ2UgIT09ICJlbiIgfHwgdGhpcy52aWRlb0RhdGEucmVzcG9uc2VMYW5ndWFnZSAhPT0gInJ1IiB8fCAhdGhpcy5kYXRhLmFjY291bnQ/LnRva2VuKTsKCQkJCQkJfQoJCQkJCQlnZXRWaWRlb1ZvbHVtZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLnZpZGVvTWFuYWdlci5nZXRWaWRlb1ZvbHVtZSgpOwoJCQkJCQl9CgkJCQkJCXNldFZpZGVvVm9sdW1lKGQpIHsKCQkJCQkJCXJldHVybiB0aGlzLnZpZGVvTWFuYWdlci5zZXRWaWRlb1ZvbHVtZShkKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlpc011dGVkKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMudmlkZW9NYW5hZ2VyLmlzTXV0ZWQoKTsKCQkJCQkJfQoJCQkJCQlzeW5jVmlkZW9Wb2x1bWVTbGlkZXIoKSB7CgkJCQkJCQl0aGlzLnZpZGVvTWFuYWdlci5zeW5jVmlkZW9Wb2x1bWVTbGlkZXIoKTsKCQkJCQkJfQoJCQkJCQlzZXRTZWxlY3RNZW51VmFsdWVzKGQsIGYpIHsKCQkJCQkJCXRoaXMudmlkZW9NYW5hZ2VyLnNldFNlbGVjdE1lbnVWYWx1ZXMoZCwgZik7CgkJCQkJCX0KCQkJCQkJc3luY1ZvbHVtZVdyYXBwZXIoZCwgZikgewoJCQkJCQkJbGV0IHAgPSBkID09PSAidHJhbnNsYXRpb24iID8gdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudmlkZW9Wb2x1bWVTbGlkZXIgOiB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy50cmFuc2xhdGlvblZvbHVtZVNsaWRlciwgbSA9ICgwLCBYLnEpKGQgPT09ICJ0cmFuc2xhdGlvbiIgPyB0aGlzLnZpZGVvIDogdGhpcy5hdWRpb1BsYXllci5wbGF5ZXIsIGYsIHAudmFsdWUsIGQgPT09ICJ0cmFuc2xhdGlvbiIgPyB0aGlzLnRlbXBWb2x1bWUgOiB0aGlzLnRlbXBPcmlnaW5hbFZvbHVtZSk7CgkJCQkJCQlwLnZhbHVlID0gbSwgdGhpcy50ZW1wT3JpZ2luYWxWb2x1bWUgPSBkID09PSAidHJhbnNsYXRpb24iID8gbSA6IGYsIHRoaXMudGVtcFZvbHVtZSA9IGQgPT09ICJ0cmFuc2xhdGlvbiIgPyBmIDogbTsKCQkJCQkJfQoJCQkJCQlhc3luYyBnZXRWaWRlb0RhdGEoKSB7CgkJCQkJCQlyZXR1cm4gYXdhaXQgdGhpcy52aWRlb01hbmFnZXIuZ2V0VmlkZW9EYXRhKCk7CgkJCQkJCX0KCQkJCQkJdmlkZW9WYWxpZGF0b3IoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy52aWRlb01hbmFnZXIudmlkZW9WYWxpZGF0b3IoKTsKCQkJCQkJfQoJCQkJCQlzdG9wVHJhbnNsYXRlKCkgewoJCQkJCQkJdGhpcy5hdWRpb1BsYXllci5wbGF5ZXIucmVtb3ZlVmlkZW9FdmVudHMoKSwgdGhpcy5hdWRpb1BsYXllci5wbGF5ZXIuY2xlYXIoKSwgdGhpcy5hdWRpb1BsYXllci5wbGF5ZXIuc3JjID0gdm9pZCAwLCBGLkEubG9nKCJhdWRpb1BsYXllciBhZnRlciBzdG9wVHJhbnNsYXRlIiwgdGhpcy5hdWRpb1BsYXllciksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZpZGVvVm9sdW1lU2xpZGVyLmhpZGRlbiA9ICEwLCB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy50cmFuc2xhdGlvblZvbHVtZVNsaWRlci5oaWRkZW4gPSAhMCwgdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcuZG93bmxvYWRUcmFuc2xhdGlvbkJ1dHRvbi5oaWRkZW4gPSAhMCwgdGhpcy5kb3dubG9hZFRyYW5zbGF0aW9uVXJsID0gbnVsbCwgdGhpcy5sb25nV2FpdGluZ1Jlc0NvdW50ID0gMCwgdGhpcy50cmFuc2Zvcm1CdG4oIm5vbmUiLCBELmouZ2V0KCJ0cmFuc2xhdGVWaWRlbyIpKSwgRi5BLmxvZyhgVm9sdW1lIG9uIHN0YXJ0OiAke3RoaXMudm9sdW1lT25TdGFydH1gKSwgdGhpcy52b2x1bWVPblN0YXJ0ICYmIHRoaXMuc2V0VmlkZW9Wb2x1bWUodGhpcy52b2x1bWVPblN0YXJ0KSwgY2xlYXJJbnRlcnZhbCh0aGlzLnN0cmVhbVBpbmcpLCBjbGVhclRpbWVvdXQodGhpcy5hdXRvUmV0cnkpLCB0aGlzLmhscz8uZGVzdHJveSgpLCB0aGlzLmZpcnN0U3luY1ZvbHVtZSA9ICEwLCB0aGlzLmFjdGlvbnNBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgdXBkYXRlVHJhbnNsYXRpb25FcnJvck1zZyhkKSB7CgkJCQkJCQlsZXQgZiA9IEQuai5nZXQoInRyYW5zbGF0aW9uVGFrZSIpLCBwID0gRC5qLmxhbmc7CgkJCQkJCQlpZiAodGhpcy5sb25nV2FpdGluZ1Jlc0NvdW50ID0gZCA9PT0gRC5qLmdldCgidHJhbnNsYXRpb25UYWtlQWJvdXRNaW51dGUiKSA/IHRoaXMubG9uZ1dhaXRpbmdSZXNDb3VudCArIDEgOiAwLCBGLkEubG9nKCJsb25nV2FpdGluZ1Jlc0NvdW50IiwgdGhpcy5sb25nV2FpdGluZ1Jlc0NvdW50KSwgdGhpcy5sb25nV2FpdGluZ1Jlc0NvdW50ID4geC5weCAmJiAoZCA9IG5ldyBZLm4oIlRyYW5zbGF0aW9uRGVsYXllZCIpKSwgRi5BLmxvZygidXBkYXRlVHJhbnNsYXRpb25FcnJvck1zZyBtZXNzYWdlIiwgZCksIGQ/Lm5hbWUgPT09ICJWT1RMb2NhbGl6ZWRFcnJvciIpIHRoaXMudHJhbnNmb3JtQnRuKCJlcnJvciIsIGQubG9jYWxpemVkTWVzc2FnZSk7CgkJCQkJCQllbHNlIGlmIChkIGluc3RhbmNlb2YgRXJyb3IpIHRoaXMudHJhbnNmb3JtQnRuKCJlcnJvciIsIGQ/Lm1lc3NhZ2UpOwoJCQkJCQkJZWxzZSBpZiAodGhpcy5kYXRhLnRyYW5zbGF0ZUFQSUVycm9ycyAmJiBwICE9PSAicnUiICYmICFkPy5pbmNsdWRlcyhmKSkgewoJCQkJCQkJCXRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5sb2FkaW5nID0gITA7CgkJCQkJCQkJbGV0IGYgPSBhd2FpdCAoMCwgSy5UbCkoZCwgInJ1IiwgcCk7CgkJCQkJCQkJdGhpcy50cmFuc2Zvcm1CdG4oImVycm9yIiwgZik7CgkJCQkJCQl9IGVsc2UgdGhpcy50cmFuc2Zvcm1CdG4oImVycm9yIiwgZCk7CgkJCQkJCQlbCgkJCQkJCQkJItCf0L7QtNCz0L7RgtCw0LLQu9C40LLQsNC10Lwg0L/QtdGA0LXQstC+0LQiLAoJCQkJCQkJCSLQktC40LTQtdC+INC/0LXRgNC10LTQsNC90L4g0LIg0L7QsdGA0LDQsdC+0YLQutGDIiwKCQkJCQkJCQki0J7QttC40LTQsNC10Lwg0L/QtdGA0LXQstC+0LQg0LLQuNC00LXQviIsCgkJCQkJCQkJItCX0LDQs9GA0YPQttCw0LXQvCDQv9C10YDQtdCy0LXQtNC10L3QvdC+0LUg0LDRg9C00LjQviIKCQkJCQkJCV0uaW5jbHVkZXMoZCkgJiYgKHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5sb2FkaW5nID0gITApOwoJCQkJCQl9CgkJCQkJCWFmdGVyVXBkYXRlVHJhbnNsYXRpb24oZCkgewoJCQkJCQkJbGV0IGYgPSB0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52b3RCdXR0b24uY29udGFpbmVyLmRhdGFzZXQuc3RhdHVzID09PSAic3VjY2VzcyI7CgkJCQkJCQl0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52aWRlb1ZvbHVtZVNsaWRlci5oaWRkZW4gPSAhdGhpcy5kYXRhLnNob3dWaWRlb1NsaWRlciB8fCAhZiwgdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIuaGlkZGVuID0gIWYsIHRoaXMuZGF0YS5lbmFibGVkQXV0b1ZvbHVtZSAmJiAodGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudmlkZW9Wb2x1bWVTbGlkZXIudmFsdWUgPSB0aGlzLmRhdGEuYXV0b1ZvbHVtZSksIHRoaXMudmlkZW9EYXRhLmlzU3RyZWFtIHx8ICh0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy5kb3dubG9hZFRyYW5zbGF0aW9uQnV0dG9uLmhpZGRlbiA9ICExLCB0aGlzLmRvd25sb2FkVHJhbnNsYXRpb25VcmwgPSBkKSwgRi5BLmxvZygiYWZ0ZXJVcGRhdGVUcmFuc2xhdGlvbiBkb3dubG9hZFRyYW5zbGF0aW9uVXJsIiwgdGhpcy5kb3dubG9hZFRyYW5zbGF0aW9uVXJsKSwgdGhpcy5kYXRhLnNlbmROb3RpZnlPbkNvbXBsZXRlICYmIHRoaXMubG9uZ1dhaXRpbmdSZXNDb3VudCAmJiBmICYmIEdNX25vdGlmaWNhdGlvbih7CgkJCQkJCQkJdGV4dDogRC5qLmdldCgiVk9UVHJhbnNsYXRpb25Db21wbGV0ZWROb3RpZnkiKS5yZXBsYWNlKCJ7MH0iLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpLAoJCQkJCQkJCXRpdGxlOiBHTV9pbmZvLnNjcmlwdC5uYW1lLAoJCQkJCQkJCXRpbWVvdXQ6IDVlMywKCQkJCQkJCQlzaWxlbnQ6ICEwLAoJCQkJCQkJCXRhZzogIlZPVFRyYW5zbGF0aW9uQ29tcGxldGVkIiwKCQkJCQkJCQlvbmNsaWNrOiAoKSA9PiB7CgkJCQkJCQkJCXdpbmRvdy5mb2N1cygpOwoJCQkJCQkJCX0KCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJCWFzeW5jIHZhbGlkYXRlQXVkaW9VcmwoZCkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgZiA9IHRoaXMuaXNNdWx0aU1ldGhvZFMzKGQpID8geyBtZXRob2Q6ICJIRUFEIiB9IDogeyBoZWFkZXJzOiB7IHJhbmdlOiAiYnl0ZXM9MC0wIiB9IH0sIHAgPSBhd2FpdCAoMCwgVS5HMykoZCwgZik7CgkJCQkJCQkJaWYgKEYuQS5sb2coIlRlc3QgYXVkaW8gcmVzcG9uc2UiLCBwKSwgcC5vaykgcmV0dXJuIEYuQS5sb2coIlZhbGlkIGF1ZGlvVXJsIiwgZCksIGQ7CgkJCQkJCQkJRi5BLmxvZygiWWFuZGV4IHJldHVybmVkIG5vdCB2YWxpZCBhdWRpbywgdHJ5aW5nIHRvIGZpeC4uLiIpLCB0aGlzLnZpZGVvRGF0YS5kZXRlY3RlZExhbmd1YWdlID0gImF1dG8iOwoJCQkJCQkJCWxldCBtID0gYXdhaXQgdGhpcy50cmFuc2xhdGlvbkhhbmRsZXIudHJhbnNsYXRlVmlkZW9JbXBsKHRoaXMudmlkZW9EYXRhLCB0aGlzLnZpZGVvRGF0YS5kZXRlY3RlZExhbmd1YWdlLCB0aGlzLnZpZGVvRGF0YS5yZXNwb25zZUxhbmd1YWdlLCB0aGlzLnZpZGVvRGF0YS50cmFuc2xhdGlvbkhlbHAsICF0aGlzLmRhdGEudXNlQXVkaW9Eb3dubG9hZCwgdGhpcy5hY3Rpb25zQWJvcnRDb250cm9sbGVyLnNpZ25hbCk7CgkJCQkJCQkJdGhpcy5zZXRTZWxlY3RNZW51VmFsdWVzKHRoaXMudmlkZW9EYXRhLmRldGVjdGVkTGFuZ3VhZ2UsIHRoaXMudmlkZW9EYXRhLnJlc3BvbnNlTGFuZ3VhZ2UpLCBkID0gbS51cmwsIEYuQS5sb2coIkZpeGVkIGF1ZGlvIGF1ZGlvVXJsIiwgZCk7CgkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJRi5BLmxvZygiVGVzdCBhdWRpbyBlcnJvcjoiLCBkKTsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBkOwoJCQkJCQl9CgkJCQkJCXByb3hpZnlBdWRpbyhkKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5kYXRhLnRyYW5zbGF0ZVByb3h5RW5hYmxlZCA9PT0gMiAmJiBkLnN0YXJ0c1dpdGgoImh0dHBzOi8vdnRyYW5zLnMzLXByaXZhdGUubWRzLnlhbmRleC5uZXQvdHRzL3Byb2QvIikgJiYgKGQgPSBkLnJlcGxhY2UoImh0dHBzOi8vdnRyYW5zLnMzLXByaXZhdGUubWRzLnlhbmRleC5uZXQvdHRzL3Byb2QvIiwgYGh0dHBzOi8vJHt0aGlzLmRhdGEucHJveHlXb3JrZXJIb3N0fS92aWRlby10cmFuc2xhdGlvbi9hdWRpby1wcm94eS9gKSwgY29uc29sZS5sb2coYFtWT1RdIEF1ZGlvIHByb3hpZWQgdmlhICR7ZH1gKSksIGQ7CgkJCQkJCX0KCQkJCQkJaXNNdWx0aU1ldGhvZFMzKGQpIHsKCQkJCQkJCXJldHVybiBkLnN0YXJ0c1dpdGgoImh0dHBzOi8vdnRyYW5zLnMzLXByaXZhdGUubWRzLnlhbmRleC5uZXQvdHRzL3Byb2QvIikgfHwgZC5zdGFydHNXaXRoKGBodHRwczovLyR7dGhpcy5kYXRhLnByb3h5V29ya2VySG9zdH0vdmlkZW8tdHJhbnNsYXRpb24vYXVkaW8tcHJveHkvYCk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgdXBkYXRlVHJhbnNsYXRpb24oZCkgewoJCQkJCQkJZCAhPT0gdGhpcy5hdWRpb1BsYXllci5wbGF5ZXIuY3VycmVudFNyYyAmJiAoZCA9IGF3YWl0IHRoaXMudmFsaWRhdGVBdWRpb1VybCh0aGlzLnByb3hpZnlBdWRpbyhkKSkpLCB0aGlzLmF1ZGlvUGxheWVyLnBsYXllci5zcmMgIT09IGQgJiYgKHRoaXMuYXVkaW9QbGF5ZXIucGxheWVyLnNyYyA9IGQpOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQl0aGlzLmF1ZGlvUGxheWVyLmluaXQoKTsKCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQlGLkEubG9nKCJ0aGlzLmF1ZGlvUGxheWVyLmluaXQoKSBlcnJvciIsIGQpLCB0aGlzLnRyYW5zZm9ybUJ0bigiZXJyb3IiLCBkLm1lc3NhZ2UpOwoJCQkJCQkJfQoJCQkJCQkJdGhpcy5zZXR1cEF1ZGlvU2V0dGluZ3MoKSwgdGhpcy5zaXRlLmhvc3QgPT09ICJ0d2l0dGVyIiAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJidXR0b25bZGF0YS10ZXN0aWQ9XCJhcHAtYmFyLWJhY2tcIl1bcm9sZT1cImJ1dHRvblwiXSIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5zdG9wVHJhbnNsYXRpb24pLCB0aGlzLnRyYW5zZm9ybUJ0bigic3VjY2VzcyIsIEQuai5nZXQoImRpc2FibGVUcmFuc2xhdGUiKSksIHRoaXMuYWZ0ZXJVcGRhdGVUcmFuc2xhdGlvbihkKTsKCQkJCQkJfQoJCQkJCQlhc3luYyB0cmFuc2xhdGVGdW5jKGQsIGYsIHAsIG0sIGgpIHsKCQkJCQkJCWNvbnNvbGUubG9nKCJbVk9UXSBWaWRlbyBEYXRhOiAiLCB0aGlzLnZpZGVvRGF0YSksIEYuQS5sb2coIlJ1biB2aWRlb1ZhbGlkYXRvciIpLCB0aGlzLnZpZGVvVmFsaWRhdG9yKCksIHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5sb2FkaW5nID0gITAsIHRoaXMudm9sdW1lT25TdGFydCA9IHRoaXMuZ2V0VmlkZW9Wb2x1bWUoKTsKCQkJCQkJCWxldCBfID0gYCR7ZH1fJHtwfV8ke219XyR7dGhpcy5kYXRhLnVzZUxpdmVseVZvaWNlfWAsIHYgPSB0aGlzLmNhY2hlTWFuYWdlci5nZXRUcmFuc2xhdGlvbihfKTsKCQkJCQkJCWlmICh2Py51cmwpIHsKCQkJCQkJCQlhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zbGF0aW9uKHYudXJsKSwgRi5BLmxvZygiW3RyYW5zbGF0ZUZ1bmNdIENhY2hlZCB0cmFuc2xhdGlvbiB3YXMgcmVjZWl2ZWQiKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQlpZiAodj8uZXJyb3IpIHsKCQkJCQkJCQlGLkEubG9nKCJTa2lwIHRyYW5zbGF0aW9uIC0gcHJldmlvdXMgYXR0ZW1wdCBmYWlsZWQiKSwgYXdhaXQgdGhpcy51cGRhdGVUcmFuc2xhdGlvbkVycm9yTXNnKHYuZXJyb3IuZGF0YT8ubWVzc2FnZSk7CgkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJfQoJCQkJCQkJaWYgKGYpIHsKCQkJCQkJCQlsZXQgZCA9IGF3YWl0IHRoaXMudHJhbnNsYXRpb25IYW5kbGVyLnRyYW5zbGF0ZVN0cmVhbUltcGwodGhpcy52aWRlb0RhdGEsIHAsIG0sIHRoaXMuYWN0aW9uc0Fib3J0Q29udHJvbGxlci5zaWduYWwpOwoJCQkJCQkJCWlmICghZCkgewoJCQkJCQkJCQlGLkEubG9nKCJTa2lwIHRyYW5zbGF0aW9uIik7CgkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQl9CgkJCQkJCQkJdGhpcy50cmFuc2Zvcm1CdG4oInN1Y2Nlc3MiLCBELmouZ2V0KCJkaXNhYmxlVHJhbnNsYXRlIikpOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCXRoaXMuaGxzID0gKDAsIHEuQ0spKCksIHRoaXMuYXVkaW9QbGF5ZXIuaW5pdCgpOwoJCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQkJRi5BLmxvZygidGhpcy5hdWRpb1BsYXllci5pbml0KCkgZXJyb3IiLCBkKSwgdGhpcy50cmFuc2Zvcm1CdG4oImVycm9yIiwgZC5tZXNzYWdlKTsKCQkJCQkJCQl9CgkJCQkJCQkJbGV0IGYgPSB0aGlzLnNldEhMU1NvdXJjZShkLnJlc3VsdC51cmwpOwoJCQkJCQkJCXJldHVybiB0aGlzLnNpdGUuaG9zdCA9PT0gInlvdXR1YmUiICYmIGcuQS52aWRlb1NlZWsodGhpcy52aWRlbywgMTApLCB0aGlzLnNldHVwQXVkaW9TZXR0aW5ncygpLCAhdGhpcy52aWRlby5zcmMgJiYgIXRoaXMudmlkZW8uY3VycmVudFNyYyAmJiAhdGhpcy52aWRlby5zcmNPYmplY3QgPyB0aGlzLnN0b3BUcmFuc2xhdGlvbigpIDogdGhpcy5hZnRlclVwZGF0ZVRyYW5zbGF0aW9uKGYpOwoJCQkJCQkJfQoJCQkJCQkJbGV0IGIgPSBhd2FpdCB0aGlzLnRyYW5zbGF0aW9uSGFuZGxlci50cmFuc2xhdGVWaWRlb0ltcGwodGhpcy52aWRlb0RhdGEsIHAsIG0sIGgsICF0aGlzLmRhdGEudXNlQXVkaW9Eb3dubG9hZCwgdGhpcy5hY3Rpb25zQWJvcnRDb250cm9sbGVyLnNpZ25hbCk7CgkJCQkJCQlpZiAoRi5BLmxvZygiW3RyYW5zbGF0ZVJlc10iLCBiKSwgIWIpIHsKCQkJCQkJCQlGLkEubG9nKCJTa2lwIHRyYW5zbGF0aW9uIik7CgkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJfQoJCQkJCQkJYXdhaXQgdGhpcy51cGRhdGVUcmFuc2xhdGlvbihiLnVybCk7CgkJCQkJCQlsZXQgeCA9IHRoaXMuY2FjaGVNYW5hZ2VyLmdldFN1YnRpdGxlcyhfKTsKCQkJCQkJCXg/LnNvbWUoKGQpID0+IGQuc291cmNlID09PSAieWFuZGV4IiAmJiBkLnRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2UgPT09IHRoaXMudmlkZW9EYXRhLmRldGVjdGVkTGFuZ3VhZ2UgJiYgZC5sYW5ndWFnZSA9PT0gdGhpcy52aWRlb0RhdGEucmVzcG9uc2VMYW5ndWFnZSkgfHwgKHRoaXMuY2FjaGVNYW5hZ2VyLmRlbGV0ZVN1YnRpdGxlcyhfKSwgdGhpcy5zdWJ0aXRsZXMgPSBbXSksIHRoaXMuY2FjaGVNYW5hZ2VyLnNldFRyYW5zbGF0aW9uKF8sIHsKCQkJCQkJCQl2aWRlb0lkOiBkLAoJCQkJCQkJCWZyb206IHAsCgkJCQkJCQkJdG86IG0sCgkJCQkJCQkJdXJsOiB0aGlzLmRvd25sb2FkVHJhbnNsYXRpb25VcmwsCgkJCQkJCQkJdXNlTGl2ZWx5Vm9pY2U6IHRoaXMuZGF0YT8udXNlTGl2ZWx5Vm9pY2UKCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJCWlzWW91VHViZUhvc3RzKCkgewoJCQkJCQkJcmV0dXJuIFsKCQkJCQkJCQkieW91dHViZSIsCgkJCQkJCQkJImludmlkaW91cyIsCgkJCQkJCQkJInBpcGVkIiwKCQkJCQkJCQkicG9rZXR1YmUiLAoJCQkJCQkJCSJyaWNrdHViZSIKCQkJCQkJCV0uaW5jbHVkZXModGhpcy5zaXRlLmhvc3QpOwoJCQkJCQl9CgkJCQkJCXNldHVwSExTKGQpIHsKCQkJCQkJCXRoaXMuaGxzLm9uKEhscy5FdmVudHMuTUVESUFfQVRUQUNIRUQsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCUYuQS5sb2coImF1ZGlvIGFuZCBobHMuanMgYXJlIG5vdyBib3VuZCB0b2dldGhlciAhIik7CgkJCQkJCQl9KSwgdGhpcy5obHMub24oSGxzLkV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsIGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQlGLkEubG9nKGBtYW5pZmVzdCBsb2FkZWQsIGZvdW5kICR7ZD8ubGV2ZWxzPy5sZW5ndGh9IHF1YWxpdHkgbGV2ZWxgKTsKCQkJCQkJCX0pLCB0aGlzLmhscy5sb2FkU291cmNlKGQpLCB0aGlzLmhscy5hdHRhY2hNZWRpYSh0aGlzLmF1ZGlvUGxheWVyLnBsYXllci5hdWRpbyksIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuRVJST1IsIGZ1bmN0aW9uKGQpIHsKCQkJCQkJCQlpZiAoZC5mYXRhbCkgc3dpdGNoIChkLnR5cGUpIHsKCQkJCQkJCQkJY2FzZSBIbHMuRXJyb3JUeXBlcy5NRURJQV9FUlJPUjoKCQkJCQkJCQkJCWNvbnNvbGUubG9nKCJmYXRhbCBtZWRpYSBlcnJvciBlbmNvdW50ZXJlZCwgdHJ5IHRvIHJlY292ZXIiKSwgdGhpcy5obHMucmVjb3Zlck1lZGlhRXJyb3IoKTsKCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQljYXNlIEhscy5FcnJvclR5cGVzLk5FVFdPUktfRVJST1I6CgkJCQkJCQkJCQljb25zb2xlLmVycm9yKCJmYXRhbCBuZXR3b3JrIGVycm9yIGVuY291bnRlcmVkIiwgZCk7CgkJCQkJCQkJCQlicmVhazsKCQkJCQkJCQkJZGVmYXVsdDoKCQkJCQkJCQkJCXRoaXMuaGxzLmRlc3Ryb3koKTsKCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCX0KCQkJCQkJCX0pLCBGLkEubG9nKHRoaXMuaGxzKTsKCQkJCQkJfQoJCQkJCQlzZXRITFNTb3VyY2UoZCkgewoJCQkJCQkJbGV0IGYgPSBgaHR0cHM6Ly8ke3RoaXMuZGF0YS5tM3U4UHJveHlIb3N0fS8/YWxsPXllcyZvcmlnaW49JHtlbmNvZGVVUklDb21wb25lbnQoImh0dHBzOi8vc3RybS55YW5kZXgucnUiKX0mcmVmZXJlcj0ke2VuY29kZVVSSUNvbXBvbmVudCgiaHR0cHM6Ly9zdHJtLnlhbmRleC5ydSIpfSZ1cmw9JHtlbmNvZGVVUklDb21wb25lbnQoZCl9YDsKCQkJCQkJCWlmICh0aGlzLmhscykgdGhpcy5zZXR1cEhMUyhmKTsKCQkJCQkJCWVsc2UgaWYgKHRoaXMuYXVkaW9QbGF5ZXIucGxheWVyLmF1ZGlvLmNhblBsYXlUeXBlKCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCIpKSB0aGlzLmF1ZGlvUGxheWVyLnBsYXllci5zcmMgPSBmOwoJCQkJCQkJZWxzZSB0aHJvdyBuZXcgWS5uKCJhdWRpb0Zvcm1hdE5vdFN1cHBvcnRlZCIpOwoJCQkJCQkJcmV0dXJuIGY7CgkJCQkJCX0KCQkJCQkJc2V0dXBBdWRpb1NldHRpbmdzKCkgewoJCQkJCQkJdHlwZW9mIHRoaXMuZGF0YS5kZWZhdWx0Vm9sdW1lID09ICJudW1iZXIiICYmICh0aGlzLmF1ZGlvUGxheWVyLnBsYXllci52b2x1bWUgPSB0aGlzLmRhdGEuZGVmYXVsdFZvbHVtZSAvIDEwMCksIHRoaXMuZGF0YS5lbmFibGVkQXV0b1ZvbHVtZSAmJiB0aGlzLnNldFZpZGVvVm9sdW1lKCh0aGlzLmRhdGEuYXV0b1ZvbHVtZSAvIDEwMCkudG9GaXhlZCgyKSk7CgkJCQkJCX0KCQkJCQkJc3RvcFRyYW5zbGF0aW9uID0gKCkgPT4gewoJCQkJCQkJdGhpcy5zdG9wVHJhbnNsYXRlKCksIHRoaXMuc3luY1ZpZGVvVm9sdW1lU2xpZGVyKCk7CgkJCQkJCX07CgkJCQkJCWFzeW5jIGhhbmRsZVNyY0NoYW5nZWQoKSB7CgkJCQkJCQlGLkEubG9nKCJbVmlkZW9IYW5kbGVyXSBzcmMgY2hhbmdlZCIsIHRoaXMpLCB0aGlzLmZpcnN0UGxheSA9ICEwLCB0aGlzLnN0b3BUcmFuc2xhdGlvbigpOwoJCQkJCQkJbGV0IGQgPSAhdGhpcy52aWRlby5zcmMgJiYgIXRoaXMudmlkZW8uY3VycmVudFNyYyAmJiAhdGhpcy52aWRlby5zcmNPYmplY3Q7CgkJCQkJCQl0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52b3RCdXR0b24uY29udGFpbmVyLmhpZGRlbiA9IGQsIGQgJiYgKHRoaXMudWlNYW5hZ2VyLnZvdE92ZXJsYXlWaWV3LnZvdE1lbnUuaGlkZGVuID0gZCksIHRoaXMuc2l0ZS5zZWxlY3RvciB8fCAodGhpcy5jb250YWluZXIgPSB0aGlzLnZpZGVvLnBhcmVudEVsZW1lbnQpLCB0aGlzLmNvbnRhaW5lci5jb250YWlucyh0aGlzLnVpTWFuYWdlci52b3RPdmVybGF5Vmlldy52b3RCdXR0b24uY29udGFpbmVyKSB8fCB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudm90QnV0dG9uLmNvbnRhaW5lciwgdGhpcy51aU1hbmFnZXIudm90T3ZlcmxheVZpZXcudm90TWVudS5jb250YWluZXIpLCB0aGlzLnZpZGVvRGF0YSA9IGF3YWl0IHRoaXMuZ2V0VmlkZW9EYXRhKCk7CgkJCQkJCQlsZXQgZiA9IGAke3RoaXMudmlkZW9EYXRhLnZpZGVvSWR9XyR7dGhpcy52aWRlb0RhdGEuZGV0ZWN0ZWRMYW5ndWFnZX1fJHt0aGlzLnZpZGVvRGF0YS5yZXNwb25zZUxhbmd1YWdlfV8ke3RoaXMuZGF0YS51c2VMaXZlbHlWb2ljZX1gOwoJCQkJCQkJdGhpcy5zdWJ0aXRsZXMgPSB0aGlzLmNhY2hlTWFuYWdlci5nZXRTdWJ0aXRsZXMoZiksIGF3YWl0IHRoaXMudXBkYXRlU3VidGl0bGVzTGFuZ1NlbGVjdCgpLCB0aGlzLnRyYW5zbGF0ZVRvTGFuZyA9IHRoaXMuZGF0YS5yZXNwb25zZUxhbmd1YWdlID8/ICJydSIsIHRoaXMuc2V0U2VsZWN0TWVudVZhbHVlcyh0aGlzLnZpZGVvRGF0YS5kZXRlY3RlZExhbmd1YWdlLCB0aGlzLnZpZGVvRGF0YS5yZXNwb25zZUxhbmd1YWdlKSwgdGhpcy5hY3Rpb25zQWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwoJCQkJCQl9CgkJCQkJCWFzeW5jIHJlbGVhc2UoKSB7CgkJCQkJCQlGLkEubG9nKCJbVmlkZW9IYW5kbGVyXSByZWxlYXNlIiksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMSwgdGhpcy5yZWxlYXNlRXh0cmFFdmVudHMoKSwgdGhpcy5zdWJ0aXRsZXNXaWRnZXQucmVsZWFzZSgpLCB0aGlzLnVpTWFuYWdlci5yZWxlYXNlKCk7CgkJCQkJCX0KCQkJCQkJY29sbGVjdFJlcG9ydEluZm8oKSB7CgkJCQkJCQlsZXQgZCA9IGAke3EuUjUub3MubmFtZX0gJHtxLlI1Lm9zLnZlcnNpb259YCwgZiA9IGA8ZGV0YWlscz4KPHN1bW1hcnk+QXV0b2dlbmVyYXRlZCBieSBWT1Q6PC9zdW1tYXJ5Pgo8dWw+CiAgPGxpPk9TOiAke2R9PC9saT4KICA8bGk+QnJvd3NlcjogJHtxLlI1LmJyb3dzZXIubmFtZX0gJHtxLlI1LmJyb3dzZXIudmVyc2lvbn08L2xpPgogIDxsaT5Mb2FkZXI6ICR7R01faW5mby5zY3JpcHRIYW5kbGVyfSB2JHtHTV9pbmZvLnZlcnNpb259PC9saT4KICA8bGk+U2NyaXB0IHZlcnNpb246ICR7R01faW5mby5zY3JpcHQudmVyc2lvbn08L2xpPgogIDxsaT5VUkw6IDxjb2RlPiR7d2luZG93LmxvY2F0aW9uLmhyZWZ9PC9jb2RlPjwvbGk+CiAgPGxpPkxhbmc6IDxjb2RlPiR7dGhpcy52aWRlb0RhdGEuZGV0ZWN0ZWRMYW5ndWFnZX08L2NvZGU+IC0+IDxjb2RlPiR7dGhpcy52aWRlb0RhdGEucmVzcG9uc2VMYW5ndWFnZX08L2NvZGU+IChMaXZlbHkgdm9pY2U6ICR7dGhpcy5kYXRhLnVzZUxpdmVseVZvaWNlfSB8IEF1ZGlvIGRvd25sb2FkOiAke3RoaXMuZGF0YS51c2VBdWRpb0Rvd25sb2FkfSk8L2xpPgogIDxsaT5QbGF5ZXI6ICR7dGhpcy5kYXRhLm5ld0F1ZGlvUGxheWVyID8gIk5ldyIgOiAiT2xkIn0gKENTUCBvbmx5OiAke3RoaXMuZGF0YS5vbmx5QnlwYXNzTWVkaWFDU1B9KTwvbGk+CiAgPGxpPlByb3h5aW5nIG1vZGU6ICR7dGhpcy5kYXRhLnRyYW5zbGF0ZVByb3h5RW5hYmxlZH08L2xpPgo8L3VsPgo8L2RldGFpbHM+YCwgcCA9IGAxLWJ1Zy1yZXBvcnQtJHtELmoubGFuZyA9PT0gInJ1IiA/ICJydSIgOiAiZW4ifS55bWxgOwoJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQlhc3NpZ25lZXM6ICJpbHloYWxpZ2h0IiwKCQkJCQkJCQl0ZW1wbGF0ZTogcCwKCQkJCQkJCQlvczogZCwKCQkJCQkJCQkic2NyaXB0LXZlcnNpb24iOiBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uLAoJCQkJCQkJCSJhZGRpdGlvbmFsLWluZm8iOiBmCgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJCXJlbGVhc2VFeHRyYUV2ZW50cygpIHsKCQkJCQkJCXRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCksIHRoaXMucmVzaXplT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKSwgWyJ5b3V0dWJlIiwgImdvb2dsZWRyaXZlIl0uaW5jbHVkZXModGhpcy5zaXRlLmhvc3QpICYmIHRoaXMuc2l0ZS5hZGRpdGlvbmFsRGF0YSAhPT0gIm1vYmlsZSIgJiYgdGhpcy5zeW5jVm9sdW1lT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlsZXQgZWUgPSBuZXcgSi5jKCksIHRlID0gbmV3IFdlYWtNYXAoKTsKCQkJCQlmdW5jdGlvbiBjbGltYihkLCBmKSB7CgkJCQkJCWlmICghZCB8fCAhZikgcmV0dXJuIG51bGw7CgkJCQkJCWlmIChkIGluc3RhbmNlb2YgRG9jdW1lbnQpIHJldHVybiBkLnF1ZXJ5U2VsZWN0b3IoZik7CgkJCQkJCWxldCBwID0gZC5jbG9zZXN0KGYpOwoJCQkJCQlpZiAocCkgcmV0dXJuIHA7CgkJCQkJCWxldCBtID0gZC5nZXRSb290Tm9kZSgpOwoJCQkJCQlyZXR1cm4gY2xpbWIobSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyBtLmhvc3QgOiBtLCBmKTsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gZmluZENvbnRhaW5lcihkLCBmKSB7CgkJCQkJCWlmIChGLkEubG9nKCJmaW5kQ29udGFpbmVyIiwgZCwgZiksIGQuc2hhZG93Um9vdCkgewoJCQkJCQkJbGV0IHAgPSBjbGltYihmLCBkLnNlbGVjdG9yKTsKCQkJCQkJCXJldHVybiBGLkEubG9nKCJmaW5kQ29udGFpbmVyIHdpdGggc2l0ZS5zaGFkb3dSb290IiwgcCksIHAgPz8gZi5wYXJlbnRFbGVtZW50OwoJCQkJCQl9CgkJCQkJCWlmIChGLkEubG9nKCJmaW5kQ29udGFpbmVyIHdpdGhvdXQgc2hhZG93Um9vdCIpLCAhZC5zZWxlY3RvcikgcmV0dXJuIGYucGFyZW50RWxlbWVudDsKCQkJCQkJbGV0IHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGQuc2VsZWN0b3IpOwoJCQkJCQlyZXR1cm4gQXJyYXkuZnJvbShwKS5maW5kKChkKSA9PiBkLmNvbnRhaW5zKGYpKSA/PyBmLnBhcmVudEVsZW1lbnQ7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIGluaXRJZnJhbWVJbnRlcmFjdG9yKCkgewoJCQkJCQlsZXQgZCA9IHsgImh0dHBzOi8vZGV2LmVwaWNnYW1lcy5jb20iOiB7CgkJCQkJCQl0YXJnZXRPcmlnaW46ICJodHRwczovL2Rldi5lcGljZ2FtZXMuY29tIiwKCQkJCQkJCWRhdGFGaWx0ZXI6IChkKSA9PiB0eXBlb2YgZCA9PSAic3RyaW5nIiAmJiBkLnN0YXJ0c1dpdGgoImdldFZpZGVvSWQ6IiksCgkJCQkJCQlleHRyYWN0VmlkZW9JZDogKGQpID0+IGQucGF0aG5hbWUuc3BsaXQoIi8iKS5zbGljZSgtMiwgLTEpWzBdLAoJCQkJCQkJaWZyYW1lU2VsZWN0b3I6IChkKSA9PiBgZWxlY3RyYS1wbGF5ZXIgPiBpZnJhbWVbc3JjPSIke2R9Il1gLAoJCQkJCQkJcmVzcG9uc2VGb3JtYXR0ZXI6IChkLCBmKSA9PiBgJHtmfToke2R9YCwKCQkJCQkJCXByb2Nlc3NSZXF1ZXN0OiAoZCkgPT4gewoJCQkJCQkJCWxldCBmID0gZC5yZXBsYWNlKCJnZXRWaWRlb0lkOiIsICIiKTsKCQkJCQkJCQlyZXR1cm4gYXRvYihmKTsKCQkJCQkJCX0KCQkJCQkJfSB9LCBmID0gT2JqZWN0LmVudHJpZXMoZCkuZmluZCgoW2RdKSA9PiB3aW5kb3cubG9jYXRpb24ub3JpZ2luID09PSBkICYmIChkICE9PSAiaHR0cHM6Ly9kZXYuZXBpY2dhbWVzLmNvbSIgfHwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCIvY29tbXVuaXR5L2xlYXJuaW5nLyIpKSk/LlsxXTsKCQkJCQkJZiAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIChkKSA9PiB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWlmIChkLm9yaWdpbiAhPT0gZi50YXJnZXRPcmlnaW4gfHwgIWYuZGF0YUZpbHRlcihkLmRhdGEpKSByZXR1cm47CgkJCQkJCQkJbGV0IHAgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSwgbSA9IGYuZXh0cmFjdFZpZGVvSWQocCk7CgkJCQkJCQkJaWYgKCFtKSByZXR1cm47CgkJCQkJCQkJbGV0IGggPSBmLnByb2Nlc3NSZXF1ZXN0Py4oZC5kYXRhKSB8fCBwLmhyZWYsIGcgPSB0eXBlb2YgZi5pZnJhbWVTZWxlY3RvciA9PSAiZnVuY3Rpb24iID8gZi5pZnJhbWVTZWxlY3RvcihoKSA6IGYuaWZyYW1lU2VsZWN0b3IsIF8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGcpOwoJCQkJCQkJCWlmICghXz8uY29udGVudFdpbmRvdykgcmV0dXJuOwoJCQkJCQkJCWxldCB2ID0gZi5yZXNwb25zZUZvcm1hdHRlcihtLCBkLmRhdGEpOwoJCQkJCQkJCV8uY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh2LCBmLnRhcmdldE9yaWdpbik7CgkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJY29uc29sZS5lcnJvcigiSWZyYW1lIGNvbW11bmljYXRpb24gZXJyb3I6IiwgZCk7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCX0KCQkJCQlhc3luYyBmdW5jdGlvbiBtYWluKCkgewoJCQkJCQlpZiAoY29uc29sZS5sb2coIltWT1RdIExvYWRpbmcgZXh0ZW5zaW9uLi4uIiksICgwLCBXLmQ0KSgpICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoLmluY2x1ZGVzKFcuV0YpKSByZXR1cm4gKDAsIGIucSkoKTsKCQkJCQkJaWYgKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gPT09IHgueFcpIHJldHVybiBhd2FpdCAoMCwgQy5MKSgpOwoJCQkJCQlhd2FpdCBELmoudXBkYXRlKCksIEYuQS5sb2coYFNlbGVjdGVkIG1lbnUgbGFuZ3VhZ2U6ICR7RC5qLmxhbmd9YCksIGluaXRJZnJhbWVJbnRlcmFjdG9yKCksIGVlLm9uVmlkZW9BZGRlZC5hZGRMaXN0ZW5lcihhc3luYyAoZCkgPT4gewoJCQkJCQkJaWYgKHRlLmhhcyhkKSkgcmV0dXJuOwoJCQkJCQkJbGV0IGYsIHAgPSAoMCwgXy5jUSkoKS5maW5kKChwKSA9PiAoZiA9IGZpbmRDb250YWluZXIocCwgZCksICEhZikpOwoJCQkJCQkJaWYgKHApIHsKCQkJCQkJCQlbInBlZXJ0dWJlIiwgImRpcmVjdGxpbmsiXS5pbmNsdWRlcyhwLmhvc3QpICYmIChwLnVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCWxldCBtID0gbmV3IFZpZGVvSGFuZGxlcihkLCBmLCBwKTsKCQkJCQkJCQkJbS52aWRlb0RhdGEgPSBhd2FpdCBtLmdldFZpZGVvRGF0YSgpLCBhd2FpdCBtLmluaXQoKSwgdGUuc2V0KGQsIG0pOwoJCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQkJY29uc29sZS5lcnJvcigiW1ZPVF0gRmFpbGVkIHRvIGluaXRpYWxpemUgdmlkZW9IYW5kbGVyIiwgZCk7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9KSwgZWUub25WaWRlb1JlbW92ZWQuYWRkTGlzdGVuZXIoYXN5bmMgKGQpID0+IHsKCQkJCQkJCXRlLmhhcyhkKSAmJiAoYXdhaXQgdGUuZ2V0KGQpLnJlbGVhc2UoKSwgdGUuZGVsZXRlKGQpKTsKCQkJCQkJfSksIGVlLmVuYWJsZSgpOwoJCQkJCX0KCQkJCQltYWluKCkuY2F0Y2goKGQpID0+IHsKCQkJCQkJY29uc29sZS5lcnJvcigiW1ZPVF0iLCBkKTsKCQkJCQl9KSwgbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGVzL2VuLmpzb24iOiAoZCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCWQuZXhwb3J0cyA9IEpTT04ucGFyc2UoIntcInJlY29tbWVuZGVkXCI6XCJyZWNvbW1lbmRlZFwiLFwidHJhbnNsYXRlVmlkZW9cIjpcIlRyYW5zbGF0ZSB2aWRlb1wiLFwiZGlzYWJsZVRyYW5zbGF0ZVwiOlwiVHVybiBvZmZcIixcInRyYW5zbGF0aW9uU2V0dGluZ3NcIjpcIlRyYW5zbGF0aW9uIHNldHRpbmdzXCIsXCJzdWJ0aXRsZXNTZXR0aW5nc1wiOlwiU3VidGl0bGVzIHNldHRpbmdzXCIsXCJyZXNldFNldHRpbmdzXCI6XCJSZXNldCBzZXR0aW5nc1wiLFwidmlkZW9CZWluZ1RyYW5zbGF0ZWRcIjpcIlRoZSB2aWRlbyBpcyBiZWluZyB0cmFuc2xhdGVkXCIsXCJ2aWRlb0xhbmd1YWdlXCI6XCJWaWRlbyBsYW5ndWFnZVwiLFwidHJhbnNsYXRpb25MYW5ndWFnZVwiOlwiVHJhbnNsYXRpb24gbGFuZ3VhZ2VcIixcInRyYW5zbGF0aW9uVGFrZVwiOlwiVGhlIHRyYW5zbGF0aW9uIHdpbGwgdGFrZVwiLFwidHJhbnNsYXRpb25UYWtlTW9yZVRoYW5Ib3VyXCI6XCJUaGUgdHJhbnNsYXRpb24gd2lsbCB0YWtlIG1vcmUgdGhhbiBhbiBob3VyXCIsXCJ0cmFuc2xhdGlvblRha2VBYm91dE1pbnV0ZVwiOlwiVGhlIHRyYW5zbGF0aW9uIHdpbGwgdGFrZSBhYm91dCBhIG1pbnV0ZVwiLFwidHJhbnNsYXRpb25UYWtlRmV3TWludXRlc1wiOlwiVGhlIHRyYW5zbGF0aW9uIHdpbGwgdGFrZSBhIGZldyBtaW51dGVzXCIsXCJ0cmFuc2xhdGlvblRha2VBcHByb3hpbWF0ZWx5TWludXRlc1wiOlwiVGhlIHRyYW5zbGF0aW9uIHdpbGwgdGFrZSBhcHByb3hpbWF0ZWx5IHswfSBtaW51dGVzXCIsXCJ0cmFuc2xhdGlvblRha2VBcHByb3hpbWF0ZWx5TWludXRlXCI6XCJUaGUgdHJhbnNsYXRpb24gd2lsbCB0YWtlIGFwcHJveGltYXRlbHkgezB9IG1pbnV0ZXNcIixcInJlcXVlc3RUcmFuc2xhdGlvbkZhaWxlZFwiOlwiRmFpbGVkIHRvIHJlcXVlc3QgdmlkZW8gdHJhbnNsYXRpb25cIixcImF1ZGlvTm90UmVjZWl2ZWRcIjpcIkF1ZGlvIGxpbmsgbm90IHJlY2VpdmVkXCIsXCJhdWRpb0Zvcm1hdE5vdFN1cHBvcnRlZFwiOlwiVGhlIGF1ZGlvIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkXCIsXCJWT1RBdXRvVHJhbnNsYXRlXCI6XCJUcmFuc2xhdGUgb24gb3BlblwiLFwiVk9URG9udFRyYW5zbGF0ZVlvdXJMYW5nXCI6XCJEb24ndCB0cmFuc2xhdGUgZnJvbSBteSBsYW5ndWFnZVwiLFwiVk9UVm9sdW1lXCI6XCJWaWRlbyB2b2x1bWU6XCIsXCJWT1RWb2x1bWVUcmFuc2xhdGlvblwiOlwiVHJhbnNsYXRpb24gdm9sdW1lOlwiLFwiVk9UQXV0b1NldFZvbHVtZVwiOlwiUmVkdWNlIHZpZGVvIHZvbHVtZSB0b1wiLFwiVk9UU2hvd1ZpZGVvU2xpZGVyXCI6XCJWaWRlbyB2b2x1bWUgc2xpZGVyXCIsXCJWT1RTeW5jVm9sdW1lXCI6XCJMaW5rIHRyYW5zbGF0aW9uIGFuZCB2aWRlbyB2b2x1bWVcIixcIlZPVERpc2FibGVGcm9tWW91ckxhbmdcIjpcIllvdSBoYXZlIGRpc2FibGVkIHRoZSB0cmFuc2xhdGlvbiBvZiB0aGUgdmlkZW8gaW4geW91ciBsYW5ndWFnZVwiLFwiVk9UVmlkZW9Jc1Rvb0xvbmdcIjpcIlZpZGVvIGlzIHRvbyBsb25nXCIsXCJWT1ROb1ZpZGVvSURGb3VuZFwiOlwiTm8gdmlkZW8gSUQgZm91bmRcIixcIlZPVFN1YnRpdGxlc1wiOlwiU3VidGl0bGVzXCIsXCJWT1RTdWJ0aXRsZXNEaXNhYmxlZFwiOlwiRGlzYWJsZWRcIixcIlZPVFN1YnRpdGxlc01heExlbmd0aFwiOlwiU3VidGl0bGVzIG1heCBsZW5ndGhcIixcIlZPVEhpZ2hsaWdodFdvcmRzXCI6XCJIaWdobGlnaHQgd29yZHNcIixcIlZPVFRyYW5zbGF0ZWRGcm9tXCI6XCJ0cmFuc2xhdGVkIGZyb21cIixcIlZPVEF1dG9nZW5lcmF0ZWRcIjpcImF1dG9nZW5lcmF0ZWRcIixcIlZPVFNldHRpbmdzXCI6XCJWT1QgU2V0dGluZ3NcIixcIlZPVE1lbnVMYW5ndWFnZVwiOlwiTWVudSBsYW5ndWFnZVwiLFwiVk9UQXV0aG9yc1wiOlwiQXV0aG9yc1wiLFwiVk9UVmVyc2lvblwiOlwiVmVyc2lvblwiLFwiVk9UTG9hZGVyXCI6XCJMb2FkZXJcIixcIlZPVEJyb3dzZXJcIjpcIkJyb3dzZXJcIixcIlZPVFNob3dQaVBCdXR0b25cIjpcIlNob3cgUGlQIGJ1dHRvblwiLFwibGFuZ3NcIjp7XCJhdXRvXCI6XCJBdXRvXCIsXCJhZlwiOlwiQWZyaWthYW5zXCIsXCJha1wiOlwiQWthblwiLFwic3FcIjpcIkFsYmFuaWFuXCIsXCJhbVwiOlwiQW1oYXJpY1wiLFwiYXJcIjpcIkFyYWJpY1wiLFwiaHlcIjpcIkFybWVuaWFuXCIsXCJhc1wiOlwiQXNzYW1lc2VcIixcImF5XCI6XCJBeW1hcmFcIixcImF6XCI6XCJBemVyYmFpamFuaVwiLFwiYm5cIjpcIkJhbmdsYVwiLFwiZXVcIjpcIkJhc3F1ZVwiLFwiYmVcIjpcIkJlbGFydXNpYW5cIixcImJob1wiOlwiQmhvanB1cmlcIixcImJzXCI6XCJCb3NuaWFuXCIsXCJiZ1wiOlwiQnVsZ2FyaWFuXCIsXCJteVwiOlwiQnVybWVzZVwiLFwiY2FcIjpcIkNhdGFsYW5cIixcImNlYlwiOlwiQ2VidWFub1wiLFwiemhcIjpcIkNoaW5lc2VcIixcInpoLUhhbnNcIjpcIkNoaW5lc2UgKFNpbXBsaWZpZWQpXCIsXCJ6aC1IYW50XCI6XCJDaGluZXNlIChUcmFkaXRpb25hbClcIixcImNvXCI6XCJDb3JzaWNhblwiLFwiaHJcIjpcIkNyb2F0aWFuXCIsXCJjc1wiOlwiQ3plY2hcIixcImRhXCI6XCJEYW5pc2hcIixcImR2XCI6XCJEaXZlaGlcIixcIm5sXCI6XCJEdXRjaFwiLFwiZW5cIjpcIkVuZ2xpc2hcIixcImVvXCI6XCJFc3BlcmFudG9cIixcImV0XCI6XCJFc3RvbmlhblwiLFwiZWVcIjpcIkV3ZVwiLFwiZmlsXCI6XCJGaWxpcGlub1wiLFwiZmlcIjpcIkZpbm5pc2hcIixcImZyXCI6XCJGcmVuY2hcIixcImdsXCI6XCJHYWxpY2lhblwiLFwibGdcIjpcIkdhbmRhXCIsXCJrYVwiOlwiR2VvcmdpYW5cIixcImRlXCI6XCJHZXJtYW5cIixcImVsXCI6XCJHcmVla1wiLFwiZ25cIjpcIkd1YXJhbmlcIixcImd1XCI6XCJHdWphcmF0aVwiLFwiaHRcIjpcIkhhaXRpYW4gQ3Jlb2xlXCIsXCJoYVwiOlwiSGF1c2FcIixcImhhd1wiOlwiSGF3YWlpYW5cIixcIml3XCI6XCJIZWJyZXdcIixcImhpXCI6XCJIaW5kaVwiLFwiaG1uXCI6XCJIbW9uZ1wiLFwiaHVcIjpcIkh1bmdhcmlhblwiLFwiaXNcIjpcIkljZWxhbmRpY1wiLFwiaWdcIjpcIklnYm9cIixcImlkXCI6XCJJbmRvbmVzaWFuXCIsXCJnYVwiOlwiSXJpc2hcIixcIml0XCI6XCJJdGFsaWFuXCIsXCJqYVwiOlwiSmFwYW5lc2VcIixcImp2XCI6XCJKYXZhbmVzZVwiLFwia25cIjpcIkthbm5hZGFcIixcImtrXCI6XCJLYXpha2hcIixcImttXCI6XCJLaG1lclwiLFwicndcIjpcIktpbnlhcndhbmRhXCIsXCJrb1wiOlwiS29yZWFuXCIsXCJrcmlcIjpcIktyaW9cIixcImt1XCI6XCJLdXJkaXNoXCIsXCJreVwiOlwiS3lyZ3l6XCIsXCJsb1wiOlwiTGFvXCIsXCJsYVwiOlwiTGF0aW5cIixcImx2XCI6XCJMYXR2aWFuXCIsXCJsblwiOlwiTGluZ2FsYVwiLFwibHRcIjpcIkxpdGh1YW5pYW5cIixcImxiXCI6XCJMdXhlbWJvdXJnaXNoXCIsXCJta1wiOlwiTWFjZWRvbmlhblwiLFwibWdcIjpcIk1hbGFnYXN5XCIsXCJtc1wiOlwiTWFsYXlcIixcIm1sXCI6XCJNYWxheWFsYW1cIixcIm10XCI6XCJNYWx0ZXNlXCIsXCJtaVwiOlwiTcSBb3JpXCIsXCJtclwiOlwiTWFyYXRoaVwiLFwibW5cIjpcIk1vbmdvbGlhblwiLFwibmVcIjpcIk5lcGFsaVwiLFwibnNvXCI6XCJOb3J0aGVybiBTb3Rob1wiLFwibm9cIjpcIk5vcndlZ2lhblwiLFwibnlcIjpcIk55YW5qYVwiLFwib3JcIjpcIk9kaWFcIixcIm9tXCI6XCJPcm9tb1wiLFwicHNcIjpcIlBhc2h0b1wiLFwiZmFcIjpcIlBlcnNpYW5cIixcInBsXCI6XCJQb2xpc2hcIixcInB0XCI6XCJQb3J0dWd1ZXNlXCIsXCJwYVwiOlwiUHVuamFiaVwiLFwicXVcIjpcIlF1ZWNodWFcIixcInJvXCI6XCJSb21hbmlhblwiLFwicnVcIjpcIlJ1c3NpYW5cIixcInNtXCI6XCJTYW1vYW5cIixcInNhXCI6XCJTYW5za3JpdFwiLFwiZ2RcIjpcIlNjb3R0aXNoIEdhZWxpY1wiLFwic3JcIjpcIlNlcmJpYW5cIixcInNuXCI6XCJTaG9uYVwiLFwic2RcIjpcIlNpbmRoaVwiLFwic2lcIjpcIlNpbmhhbGFcIixcInNrXCI6XCJTbG92YWtcIixcInNsXCI6XCJTbG92ZW5pYW5cIixcInNvXCI6XCJTb21hbGlcIixcInN0XCI6XCJTb3V0aGVybiBTb3Rob1wiLFwiZXNcIjpcIlNwYW5pc2hcIixcInN1XCI6XCJTdW5kYW5lc2VcIixcInN3XCI6XCJTd2FoaWxpXCIsXCJzdlwiOlwiU3dlZGlzaFwiLFwidGdcIjpcIlRhamlrXCIsXCJ0YVwiOlwiVGFtaWxcIixcInR0XCI6XCJUYXRhclwiLFwidGVcIjpcIlRlbHVndVwiLFwidGhcIjpcIlRoYWlcIixcInRpXCI6XCJUaWdyaW55YVwiLFwidHNcIjpcIlRzb25nYVwiLFwidHJcIjpcIlR1cmtpc2hcIixcInRrXCI6XCJUdXJrbWVuXCIsXCJ1a1wiOlwiVWtyYWluaWFuXCIsXCJ1clwiOlwiVXJkdVwiLFwidWdcIjpcIlV5Z2h1clwiLFwidXpcIjpcIlV6YmVrXCIsXCJ2aVwiOlwiVmlldG5hbWVzZVwiLFwiY3lcIjpcIldlbHNoXCIsXCJmeVwiOlwiV2VzdGVybiBGcmlzaWFuXCIsXCJ4aFwiOlwiWGhvc2FcIixcInlpXCI6XCJZaWRkaXNoXCIsXCJ5b1wiOlwiWW9ydWJhXCIsXCJ6dVwiOlwiWnVsdVwifSxcInN0cmVhbU5vQ29ubmVjdGlvblRvU2VydmVyXCI6XCJUaGVyZSBpcyBubyBjb25uZWN0aW9uIHRvIHRoZSBzZXJ2ZXJcIixcInNlYXJjaEZpZWxkXCI6XCJTZWFyY2guLi5cIixcIlZPVFRyYW5zbGF0ZUFQSUVycm9yc1wiOlwiVHJhbnNsYXRlIGVycm9ycyBmcm9tIHRoZSBBUElcIixcIlZPVERldGVjdFNlcnZpY2VcIjpcIkxhbmd1YWdlIGRldGVjdGlvbiBzZXJ2aWNlXCIsXCJWT1RQcm94eVdvcmtlckhvc3RcIjpcIkVudGVyIHRoZSBwcm94eSB3b3JrZXIgYWRkcmVzc1wiLFwiVk9UTTN1OFByb3h5SG9zdFwiOlwiRW50ZXIgdGhlIGFkZHJlc3Mgb2YgdGhlIG0zdTggcHJveHkgd29ya2VyXCIsXCJwcm94eVNldHRpbmdzXCI6XCJQcm94eSBTZXR0aW5nc1wiLFwidHJhbnNsYXRpb25UYWtlQXBwcm94aW1hdGVseU1pbnV0ZTJcIjpcIlRoZSB0cmFuc2xhdGlvbiB3aWxsIHRha2UgYXBwcm94aW1hdGVseSB7MH0gbWludXRlc1wiLFwiVk9UQXVkaW9Cb29zdGVyXCI6XCJFeHRlbmRlZCB0cmFuc2xhdGlvbiB2b2x1bWUgaW5jcmVhc2VcIixcIlZPVFN1YnRpdGxlc0Rlc2lnblwiOlwiU3VidGl0bGVzIGRlc2lnblwiLFwiVk9UU3VidGl0bGVzRm9udFNpemVcIjpcIkZvbnQgc2l6ZSBvZiBzdWJ0aXRsZXNcIixcIlZPVFN1YnRpdGxlc09wYWNpdHlcIjpcIlRyYW5zcGFyZW5jeSBvZiB0aGUgc3VidGl0bGUgYmFja2dyb3VuZFwiLFwiVk9UU3VidGl0bGVzRG93bmxvYWRGb3JtYXRcIjpcIlRoZSBmb3JtYXQgZm9yIGRvd25sb2FkaW5nIHN1YnRpdGxlc1wiLFwiVk9URG93bmxvYWRXaXRoTmFtZVwiOlwiRG93bmxvYWQgZmlsZXMgd2l0aCB0aGUgdmlkZW8gbmFtZVwiLFwiVk9UVXBkYXRlTG9jYWxlRmlsZXNcIjpcIlVwZGF0ZSBsb2NhbGl6YXRpb24gZmlsZXNcIixcIlZPVExvY2FsZUhhc2hcIjpcIkxvY2FsZSBoYXNoXCIsXCJWT1RVcGRhdGVkQXRcIjpcIlVwZGF0ZWQgYXRcIixcIlZPVE5lZWRXZWJBdWRpb0FQSVwiOlwiVG8gZW5hYmxlIHRoaXMsIHlvdSBtdXN0IGhhdmUgYSBXZWIgQXVkaW8gQVBJXCIsXCJWT1RNZWRpYUNTUEVuYWJsZWRPblNpdGVcIjpcIk1lZGlhIENTUCBpcyBlbmFibGVkIG9uIHRoaXMgc2l0ZVwiLFwiVk9UT25seUJ5cGFzc01lZGlhQ1NQXCI6XCJVc2UgaXQgb25seSBmb3IgYnlwYXNzaW5nIE1lZGlhIENTUFwiLFwiVk9UTmV3QXVkaW9QbGF5ZXJcIjpcIlVzZSB0aGUgbmV3IGF1ZGlvIHBsYXllclwiLFwiVk9UVXNlTmV3TW9kZWxcIjpcIlVzZSBhbiBleHBlcmltZW50YWwgdmFyaWF0aW9uIG9mIFlhbmRleCB2b2ljZXMgZm9yIHNvbWUgdmlkZW9zXCIsXCJUcmFuc2xhdGlvbkRlbGF5ZWRcIjpcIlRoZSB0cmFuc2xhdGlvbiBpcyBzbGlnaHRseSBkZWxheWVkXCIsXCJWT1RUcmFuc2xhdGlvbkNvbXBsZXRlZE5vdGlmeVwiOlwiVGhlIHRyYW5zbGF0aW9uIG9uIHRoZSB7MH0gaGFzIGJlZW4gY29tcGxldGVkIVwiLFwiVk9UU2VuZE5vdGlmeU9uQ29tcGxldGVcIjpcIlNlbmQgYSBub3RpZmljYXRpb24gdGhhdCB0aGUgdmlkZW8gaGFzIGJlZW4gdHJhbnNsYXRlZFwiLFwiVk9UQnVnUmVwb3J0XCI6XCJSZXBvcnQgYSBidWdcIixcIlZPVFRyYW5zbGF0ZVByb3h5RGlzYWJsZWRcIjpcIkRpc2FibGVkXCIsXCJWT1RUcmFuc2xhdGVQcm94eUVuYWJsZWRcIjpcIkVuYWJsZWRcIixcIlZPVFRyYW5zbGF0ZVByb3h5RXZlcnl0aGluZ1wiOlwiUHJveHkgZXZlcnl0aGluZ1wiLFwiVk9UVHJhbnNsYXRlUHJveHlTdGF0dXNcIjpcIlByb3h5aW5nIG1vZGVcIixcIlZPVFRyYW5zbGF0ZWRCeVwiOlwiVHJhbnNsYXRlZCBieSB7MH1cIixcIlZPVFN0cmVhbU5vdEF2YWlsYWJsZVwiOlwiVHJhbnNsYXRlIHN0cmVhbSBpc24ndCBhdmFpbGFibGVcIixcIlZPVFRyYW5zbGF0aW9uVGV4dFNlcnZpY2VcIjpcIlRleHQgdHJhbnNsYXRpb24gc2VydmljZVwiLFwiVk9UTm90QWZmZWN0VG9Wb2ljZVwiOlwiRG9lc24ndCBhZmZlY3QgdGhlIHRyYW5zbGF0aW9uIG9mIHRleHQgaW4gdm9pY2Ugb3ZlclwiLFwiRG9udFRyYW5zbGF0ZVNlbGVjdGVkTGFuZ3VhZ2VzXCI6XCJEb24ndCB0cmFuc2xhdGUgZnJvbSBzZWxlY3RlZCBsYW5ndWFnZXNcIixcInNob3dWaWRlb1ZvbHVtZVNsaWRlclwiOlwiRGlzcGxheSB0aGUgdmlkZW8gdm9sdW1lIHNsaWRlclwiLFwiaG90a2V5c1NldHRpbmdzXCI6XCJIb3RrZXlzIHNldHRpbmdzXCIsXCJOb25lXCI6XCJOb25lXCIsXCJWT1RVc2VMaXZlbHlWb2ljZVwiOlwiVXNlIGxpdmVseSB2b2ljZXMuIFNwZWFrZXJzIHNvdW5kIGxpa2UgbmF0aXZlIFJ1c3NpYW5zLlwiLFwibWlzY1NldHRpbmdzXCI6XCJNaXNjIHNldHRpbmdzXCIsXCJzZXJ2aWNlc1wiOntcInlhbmRleGJyb3dzZXJcIjpcIllhbmRleCBCcm93c2VyXCIsXCJtc2VkZ2VcIjpcIk1pY3Jvc29mdCBFZGdlXCIsXCJydXN0LXNlcnZlclwiOlwiUnVzdCBTZXJ2ZXJcIn0sXCJhYm91dEV4dGVuc2lvblwiOlwiQWJvdXQgZXh0ZW5zaW9uXCIsXCJhcHBlYXJhbmNlXCI6XCJBcHBlYXJhbmNlXCIsXCJidXR0b25Qb3NpdGlvbkluV2lkZVBsYXllclwiOlwiQnV0dG9uIHBvc2l0aW9uIGluIHdpZGUgcGxheWVyXCIsXCJwb3NpdGlvblwiOntcImxlZnRcIjpcIkxlZnRcIixcInJpZ2h0XCI6XCJSaWdodFwiLFwidG9wXCI6XCJUb3BcIixcImRlZmF1bHRcIjpcIkRlZmF1bHRcIn0sXCJzZWNzXCI6XCJzZWNzXCIsXCJhdXRvSGlkZUJ1dHRvbkRlbGF5XCI6XCJEZWxheSBiZWZvcmUgaGlkaW5nIHRoZSB0cmFuc2xhdGUgYnV0dG9uXCIsXCJub3RGb3VuZFwiOlwibm90IGZvdW5kXCIsXCJtaW5CdXR0b25Qb3NpdGlvbkNvbnRhaW5lclwiOlwiVGhlIGJ1dHRvbiBwb3NpdGlvbiBvbmx5IGNoYW5nZXMgaW4gcGxheWVycyBsYXJnZXIgdGhhbiA2MDAgcGl4ZWxzLlwiLFwiVk9UVHJhbnNsYXRlUHJveHlTdGF0dXNEZWZhdWx0XCI6XCJDb21wbGV0ZWx5IGRpc2FibGluZyBwcm94eWluZyBpbiB5b3VyIGNvdW50cnkgbWF5IGJyZWFrIHRoZSBleHRlbnNpb25cIixcIlByZXNzVGhlS2V5Q29tYmluYXRpb25cIjpcIlByZXNzIHRoZSBrZXkgY29tYmluYXRpb24uLi5cIixcIlZPVFVzZUF1ZGlvRG93bmxvYWRcIjpcIlVzZSBhdWRpbyBkb3dubG9hZFwiLFwiVk9UVXNlQXVkaW9Eb3dubG9hZFdhcm5pbmdcIjpcIkRpc2FibGluZyBhdWRpbyBkb3dubG9hZHMgbWF5IGFmZmVjdCB0aGUgZnVuY3Rpb25hbGl0eSBvZiB0aGUgZXh0ZW5zaW9uXCIsXCJWT1RBY2NvdW50UmVxdWlyZWRcIjpcIllvdSBuZWVkIHRvIGxvZyBpbiB0byB1c2UgdGhpcyBmZWF0dXJlXCIsXCJWT1RNeUFjY291bnRcIjpcIk15IGFjY291bnRcIixcIlZPVExvZ2luXCI6XCJMb2dpblwiLFwiVk9UTG9nb3V0XCI6XCJMb2dvdXRcIixcIlZPVFJlZnJlc2hcIjpcIlJlZnJlc2hcIixcIlZPVFlhbmRleFRva2VuXCI6XCJFbnRlciB0aGUgWWFuZGV4IE9BdXRoIFRva2VuXCIsXCJWT1RZYW5kZXhUb2tlbkluZm9cIjpcIllvdSBjYW4gbWFudWFsbHkgc2V0IHRoZSBhY2NvdW50IHRva2VuIGluIHRoaXMgZmllbGQuIFBsZWFzZSBub3RlIHRoYXQgd2UgZG9uJ3QgY2hlY2sgaXRzIHZhbGlkaXR5IGJlZm9yZSBzZW5kaW5nIGEgdHJhbnNsYXRlIHJlcXVlc3RcIixcIlZPVExvZ2luVmlhVG9rZW5cIjpcIkxvZ2luIHZpYSB0b2tlblwifSIpOwoJCX0sCgkJIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IGo6ICgpID0+IFQgfSk7CgkJCQkJdmFyIGggPSBwKCIuL3NyYy9sb2NhbGl6YXRpb24vbG9jYWxlcy9lbi5qc29uIiksIGcgPSBwKCIuL3NyYy9jb25maWcvY29uZmlnLmpzIiksIF8gPSBwKCIuL3NyYy91dGlscy9kZWJ1Zy50cyIpLCB2ID0gcCgiLi9zcmMvdXRpbHMvZ20udHMiKSwgYiA9IHAoIi4vc3JjL3V0aWxzL2xvY2FsaXphdGlvbi50cyIpLCB4ID0gcCgiLi9zcmMvdXRpbHMvc3RvcmFnZS50cyIpLCBDID0gcCgiLi9zcmMvdXRpbHMvdXRpbHMudHMiKSwgdyA9IGQoWwoJCQkJCQl2LAoJCQkJCQliLAoJCQkJCQl4LAoJCQkJCQlDCgkJCQkJXSk7CgkJCQkJW3YsIGIsIHgsIENdID0gdy50aGVuID8gKGF3YWl0IHcpKCkgOiB3OwoJCQkJCWNsYXNzIExvY2FsaXphdGlvblByb3ZpZGVyIHsKCQkJCQkJc3RvcmFnZUtleXMgPSBbCgkJCQkJCQkibG9jYWxlUGhyYXNlcyIsCgkJCQkJCQkibG9jYWxlTGFuZyIsCgkJCQkJCQkibG9jYWxlSGFzaCIsCgkJCQkJCQkibG9jYWxlVXBkYXRlZEF0IiwKCQkJCQkJCSJsb2NhbGVMYW5nT3ZlcnJpZGUiCgkJCQkJCV07CgkJCQkJCWxhbmc7CgkJCQkJCWxvY2FsZTsKCQkJCQkJZGVmYXVsdExvY2FsZSA9ICgwLCBDLkdXKShoKTsKCQkJCQkJY2FjaGVUVEwgPSA3MjAwOwoJCQkJCQlsb2NhbGl6YXRpb25VcmwgPSBgJHtnLmh4fS9tYXN0ZXIvc3JjL2xvY2FsaXphdGlvbmA7CgkJCQkJCV9sYW5nT3ZlcnJpZGUgPSAiYXV0byI7CgkJCQkJCWNvbnN0cnVjdG9yKCkgewoJCQkJCQkJdGhpcy5sYW5nID0gdGhpcy5nZXRMYW5nKCksIHRoaXMubG9jYWxlID0ge307CgkJCQkJCX0KCQkJCQkJYXN5bmMgaW5pdCgpIHsKCQkJCQkJCXRoaXMuX2xhbmdPdmVycmlkZSA9IGF3YWl0IHguZC5nZXQoImxvY2FsZUxhbmdPdmVycmlkZSIsICJhdXRvIiksIHRoaXMubGFuZyA9IHRoaXMuZ2V0TGFuZygpOwoJCQkJCQkJbGV0IGQgPSBhd2FpdCB4LmQuZ2V0KCJsb2NhbGVQaHJhc2VzIiwgIiIpOwoJCQkJCQkJcmV0dXJuIHRoaXMuc2V0TG9jYWxlRnJvbUpzb25TdHJpbmcoZCksIHRoaXM7CgkJCQkJCX0KCQkJCQkJZ2V0IGxhbmdPdmVycmlkZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLl9sYW5nT3ZlcnJpZGU7CgkJCQkJCX0KCQkJCQkJZ2V0TGFuZygpIHsKCQkJCQkJCXJldHVybiB0aGlzLmxhbmdPdmVycmlkZSA9PT0gImF1dG8iID8gYi52IDogdGhpcy5sYW5nT3ZlcnJpZGU7CgkJCQkJCX0KCQkJCQkJZ2V0QXZhaWxhYmxlTGFuZ3MoKSB7CgkJCQkJCQlyZXR1cm4gImF1dG8uZW4ucnUuYWYuYW0uYXIuYXouYmcuYm4uYnMuY2EuY3MuY3kuZGEuZGUuZWwuZXMuZXQuZXUuZmEuZmkuZnIuZ2wuaGkuaHIuaHUuaHkuaWQuaXQuamEuanYua2sua20ua24ua28ubG8ubWsubWwubW4ubXMubXQubXkubmUubmwucGEucGwucHQucm8uc2kuc2suc2wuc3Euc3Iuc3Uuc3Yuc3cudHIudWsudXIudXoudmkuemguenUiLnNwbGl0KCIuIik7CgkJCQkJCX0KCQkJCQkJYXN5bmMgcmVzZXQoKSB7CgkJCQkJCQlmb3IgKGxldCBkIG9mIHRoaXMuc3RvcmFnZUtleXMpIGF3YWl0IHguZC5kZWxldGUoZCk7CgkJCQkJCQlyZXR1cm4gdGhpczsKCQkJCQkJfQoJCQkJCQlidWlsZFVybChkLCBmID0gITEpIHsKCQkJCQkJCWxldCBwID0gZiA/IGA/dGltZXN0YW1wPSR7KDAsIEMubGcpKCl9YCA6ICIiOwoJCQkJCQkJcmV0dXJuIGAke3RoaXMubG9jYWxpemF0aW9uVXJsfSR7ZH0ke3B9YDsKCQkJCQkJfQoJCQkJCQlhc3luYyBjaGFuZ2VMYW5nKGQpIHsKCQkJCQkJCWxldCBmID0gdGhpcy5sYW5nT3ZlcnJpZGU7CgkJCQkJCQlyZXR1cm4gZiA9PT0gZCA/ICExIDogKGF3YWl0IHguZC5zZXQoImxvY2FsZUxhbmdPdmVycmlkZSIsIGQpLCB0aGlzLl9sYW5nT3ZlcnJpZGUgPSBkLCB0aGlzLmxhbmcgPSB0aGlzLmdldExhbmcoKSwgYXdhaXQgdGhpcy51cGRhdGUoITApLCAhMCk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgY2hlY2tVcGRhdGVzKGQgPSAhMSkgewoJCQkJCQkJXy5BLmxvZygiQ2hlY2sgbG9jYWxlIHVwZGF0ZXMuLi4iKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJbGV0IGYgPSBhd2FpdCAoMCwgdi5HMykodGhpcy5idWlsZFVybCgiL2hhc2hlcy5qc29uIiwgZCkpOwoJCQkJCQkJCWlmICghZi5vaykgdGhyb3cgZi5zdGF0dXM7CgkJCQkJCQkJbGV0IHAgPSBhd2FpdCBmLmpzb24oKTsKCQkJCQkJCQlyZXR1cm4gYXdhaXQgeC5kLmdldCgibG9jYWxlSGFzaCIpID09PSBwW3RoaXMubGFuZ10gPyAhMSA6IHBbdGhpcy5sYW5nXTsKCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQlyZXR1cm4gY29uc29sZS5lcnJvcigiW1ZPVF0gW2xvY2FsaXphdGlvblByb3ZpZGVyXSBGYWlsZWQgdG8gZ2V0IGxvY2FsZXMgaGFzaDoiLCBkKSwgITE7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJYXN5bmMgdXBkYXRlKGQgPSAhMSkgewoJCQkJCQkJbGV0IGYgPSBhd2FpdCB4LmQuZ2V0KCJsb2NhbGVVcGRhdGVkQXQiLCAwKTsKCQkJCQkJCWlmICghZCAmJiBmICsgdGhpcy5jYWNoZVRUTCA+ICgwLCBDLmxnKSgpICYmIGF3YWl0IHguZC5nZXQoImxvY2FsZUxhbmciKSA9PT0gdGhpcy5sYW5nKSByZXR1cm4gdGhpczsKCQkJCQkJCWxldCBwID0gYXdhaXQgdGhpcy5jaGVja1VwZGF0ZXMoZCk7CgkJCQkJCQlpZiAoYXdhaXQgeC5kLnNldCgibG9jYWxlVXBkYXRlZEF0IiwgKDAsIEMubGcpKCkpLCAhcCkgcmV0dXJuIHRoaXM7CgkJCQkJCQlfLkEubG9nKCJVcGRhdGluZyBsb2NhbGUuLi4iKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJbGV0IGYgPSBhd2FpdCAoMCwgdi5HMykodGhpcy5idWlsZFVybChgL2xvY2FsZXMvJHt0aGlzLmxhbmd9Lmpzb25gLCBkKSk7CgkJCQkJCQkJaWYgKCFmLm9rKSB0aHJvdyBmLnN0YXR1czsKCQkJCQkJCQlsZXQgbSA9IGF3YWl0IGYudGV4dCgpOwoJCQkJCQkJCWF3YWl0IHguZC5zZXQoImxvY2FsZVBocmFzZXMiLCBtKSwgYXdhaXQgeC5kLnNldCgibG9jYWxlSGFzaCIsIHApLCBhd2FpdCB4LmQuc2V0KCJsb2NhbGVMYW5nIiwgdGhpcy5sYW5nKSwgdGhpcy5zZXRMb2NhbGVGcm9tSnNvblN0cmluZyhtKTsKCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQljb25zb2xlLmVycm9yKCJbVk9UXSBbbG9jYWxpemF0aW9uUHJvdmlkZXJdIEZhaWxlZCB0byBnZXQgbG9jYWxlOiIsIGQpLCB0aGlzLnNldExvY2FsZUZyb21Kc29uU3RyaW5nKGF3YWl0IHguZC5nZXQoImxvY2FsZVBocmFzZXMiLCAiIikpOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHRoaXM7CgkJCQkJCX0KCQkJCQkJc2V0TG9jYWxlRnJvbUpzb25TdHJpbmcoZCkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgZiA9IEpTT04ucGFyc2UoZCkgfHwge307CgkJCQkJCQkJdGhpcy5sb2NhbGUgPSAoMCwgQy5HVykoZik7CgkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJY29uc29sZS5lcnJvcigiW1ZPVF0gW2xvY2FsaXphdGlvblByb3ZpZGVyXSIsIGQpLCB0aGlzLmxvY2FsZSA9IHt9OwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHRoaXM7CgkJCQkJCX0KCQkJCQkJZ2V0RnJvbUxvY2FsZShkLCBmKSB7CgkJCQkJCQlyZXR1cm4gZD8uW2ZdID8/IHRoaXMud2Fybk1pc3NpbmdLZXkoZCwgZik7CgkJCQkJCX0KCQkJCQkJd2Fybk1pc3NpbmdLZXkoZCwgZikgewoJCQkJCQkJY29uc29sZS53YXJuKCJbVk9UXSBbbG9jYWxpemF0aW9uUHJvdmlkZXJdIGxvY2FsZSIsIGQsICJkb2Vzbid0IGNvbnRhaW4ga2V5IiwgZik7CgkJCQkJCX0KCQkJCQkJZ2V0RGVmYXVsdChkKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5nZXRGcm9tTG9jYWxlKHRoaXMuZGVmYXVsdExvY2FsZSwgZCkgPz8gZDsKCQkJCQkJfQoJCQkJCQlnZXQoZCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuZ2V0RnJvbUxvY2FsZSh0aGlzLmxvY2FsZSwgZCkgPz8gdGhpcy5nZXREZWZhdWx0KGQpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWxldCBUID0gbmV3IExvY2FsaXphdGlvblByb3ZpZGVyKCk7CgkJCQkJYXdhaXQgVC5pbml0KCksIG0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9LCAxKTsKCQl9LAoJCSIuL3NyYy9zdHlsZXMvbWFpbi5zY3NzIjogKCkgPT4gewoJCQlHTV9hZGRTdHlsZSgiLnZvdC1idXR0b257LS12b3QtaGVscGVyLXRoZW1lOnZhcigtLXZvdC10aGVtZS1yZ2IsdmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpKTstLXZvdC1oZWxwZXItb250aGVtZTp2YXIoLS12b3Qtb250aGVtZS1yZ2IsdmFyKC0tdm90LW9ucHJpbWFyeS1yZ2IsMjU1LDI1NSwyNTUpKTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dmVydGljYWwtYWxpZ246bWlkZGxlO3RleHQtYWxpZ246Y2VudGVyO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7bWluLXdpZHRoOjY0cHg7aGVpZ2h0OjM2cHg7Y29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItb250aGVtZSkpO2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItdGhlbWUpKTtmb250LWZhbWlseTp2YXIoLS12b3QtZm9udC1mYW1pbHksXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWYpO2N1cnNvcjpwb2ludGVyO291dGxpbmU6bm9uZTtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MzZweDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjJzO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaGFkb3c6MCAzcHggMXB4IC0ycHggIzAwMDMsMCAycHggMnB4ICMwMDAwMDAyNCwwIDFweCA1cHggIzAwMDAwMDFmO2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50fS52b3QtYnV0dG9uW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6bm9uZSFpbXBvcnRhbnR9LnZvdC1idXR0b246YmVmb3JlLC52b3QtYnV0dG9uOmFmdGVye2NvbnRlbnQ6XCJcIjtvcGFjaXR5OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ym9yZGVyLXJhZGl1czppbmhlcml0IWltcG9ydGFudH0udm90LWJ1dHRvbjpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjpyZ2IodmFyKC0tdm90LWhlbHBlci1vbnRoZW1lKSk7dHJhbnNpdGlvbjpvcGFjaXR5IC4yc30udm90LWJ1dHRvbjphZnRlcntiYWNrZ3JvdW5kOnJhZGlhbC1ncmFkaWVudChjaXJjbGUsY3VycmVudENvbG9yIDElLCMwMDAwIDElKSA1MCUvMTAwMDAlIDEwMDAwJSBuby1yZXBlYXQ7dHJhbnNpdGlvbjpvcGFjaXR5IDFzLGJhY2tncm91bmQtc2l6ZSAuNXN9LnZvdC1idXR0b246aG92ZXJ7Ym94LXNoYWRvdzowIDJweCA0cHggLTFweCAjMDAwMywwIDRweCA1cHggIzAwMDAwMDI0LDAgMXB4IDEwcHggIzAwMDAwMDFmfS52b3QtYnV0dG9uOmhvdmVyOmJlZm9yZXtvcGFjaXR5Oi4wOH0udm90LWJ1dHRvbjphY3RpdmV7Ym94LXNoYWRvdzowIDVweCA1cHggLTNweCAjMDAwMywwIDhweCAxMHB4IDFweCAjMDAwMDAwMjQsMCAzcHggMTRweCAycHggIzAwMDAwMDFmfS52b3QtYnV0dG9uOmFjdGl2ZTphZnRlcntvcGFjaXR5Oi4zMjtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO3RyYW5zaXRpb246YmFja2dyb3VuZC1zaXplfS52b3QtYnV0dG9uW2Rpc2FibGVkPXRydWVde2JhY2tncm91bmQtY29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjEyKTtjb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpO2JveC1zaGFkb3c6bm9uZTtjdXJzb3I6aW5pdGlhbH0udm90LWJ1dHRvbltkaXNhYmxlZD10cnVlXTpiZWZvcmUsLnZvdC1idXR0b25bZGlzYWJsZWQ9dHJ1ZV06YWZ0ZXJ7b3BhY2l0eTowfS52b3Qtb3V0bGluZWQtYnV0dG9uey0tdm90LWhlbHBlci10aGVtZTp2YXIoLS12b3QtdGhlbWUtcmdiLHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSk7Ym94LXNpemluZzpib3JkZXItYm94O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO21pbi13aWR0aDo2NHB4O2hlaWdodDozNnB4O2NvbG9yOnJnYih2YXIoLS12b3QtaGVscGVyLXRoZW1lKSk7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQtZmFtaWx5LFwiUm9ib3RvXCIsXCJTZWdvZSBVSVwiLHN5c3RlbS11aSxzYW5zLXNlcmlmKTtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwO291dGxpbmU6bm9uZTtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MzRweDtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXI6c29saWQgMXB4IHJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4yNCkhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50fS52b3Qtb3V0bGluZWQtYnV0dG9uW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LW91dGxpbmVkLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6bm9uZSFpbXBvcnRhbnR9LnZvdC1vdXRsaW5lZC1idXR0b246YmVmb3JlLC52b3Qtb3V0bGluZWQtYnV0dG9uOmFmdGVye2NvbnRlbnQ6XCJcIjtvcGFjaXR5OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ym9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50fS52b3Qtb3V0bGluZWQtYnV0dG9uOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYih2YXIoLS12b3QtaGVscGVyLXRoZW1lKSk7dHJhbnNpdGlvbjpvcGFjaXR5IC4yc30udm90LW91dGxpbmVkLWJ1dHRvbjphZnRlcntiYWNrZ3JvdW5kOnJhZGlhbC1ncmFkaWVudChjaXJjbGUsY3VycmVudENvbG9yIDElLCMwMDAwIDElKSA1MCUvMTAwMDAlIDEwMDAwJSBuby1yZXBlYXQ7dHJhbnNpdGlvbjpvcGFjaXR5IDFzLGJhY2tncm91bmQtc2l6ZSAuNXN9LnZvdC1vdXRsaW5lZC1idXR0b246aG92ZXI6YmVmb3Jle29wYWNpdHk6LjA0fS52b3Qtb3V0bGluZWQtYnV0dG9uOmFjdGl2ZTphZnRlcntvcGFjaXR5Oi4xNjtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO3RyYW5zaXRpb246YmFja2dyb3VuZC1zaXplfS52b3Qtb3V0bGluZWQtYnV0dG9uW2Rpc2FibGVkPXRydWVde2NvbG9yOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4zOCk7Y3Vyc29yOmluaXRpYWw7YmFja2dyb3VuZC1jb2xvcjojMDAwMH0udm90LW91dGxpbmVkLWJ1dHRvbltkaXNhYmxlZD10cnVlXTpiZWZvcmUsLnZvdC1vdXRsaW5lZC1idXR0b25bZGlzYWJsZWQ9dHJ1ZV06YWZ0ZXJ7b3BhY2l0eTowfS52b3QtdGV4dC1idXR0b257LS12b3QtaGVscGVyLXRoZW1lOnZhcigtLXZvdC10aGVtZS1yZ2IsdmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpKTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dmVydGljYWwtYWxpZ246bWlkZGxlO3RleHQtYWxpZ246Y2VudGVyO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7bWluLXdpZHRoOjY0cHg7aGVpZ2h0OjM2cHg7Y29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItdGhlbWUpKTtmb250LWZhbWlseTp2YXIoLS12b3QtZm9udC1mYW1pbHksXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWYpO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtY29sb3I6IzAwMDA7b3V0bGluZTpub25lO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDtsaW5lLWhlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCA4cHghaW1wb3J0YW50fS52b3QtdGV4dC1idXR0b25baGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3QtdGV4dC1idXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50fS52b3QtdGV4dC1idXR0b246YmVmb3JlLC52b3QtdGV4dC1idXR0b246YWZ0ZXJ7Y29udGVudDpcIlwiO29wYWNpdHk6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtib3JkZXItcmFkaXVzOmluaGVyaXQhaW1wb3J0YW50fS52b3QtdGV4dC1idXR0b246YmVmb3Jle2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItdGhlbWUpKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzfS52b3QtdGV4dC1idXR0b246YWZ0ZXJ7YmFja2dyb3VuZDpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLGN1cnJlbnRDb2xvciAxJSwjMDAwMCAxJSkgNTAlLzEwMDAwJSAxMDAwMCUgbm8tcmVwZWF0O3RyYW5zaXRpb246b3BhY2l0eSAxcyxiYWNrZ3JvdW5kLXNpemUgLjVzfS52b3QtdGV4dC1idXR0b246aG92ZXI6YmVmb3Jle29wYWNpdHk6LjA0fS52b3QtdGV4dC1idXR0b246YWN0aXZlOmFmdGVye29wYWNpdHk6LjE2O2JhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLXNpemV9LnZvdC10ZXh0LWJ1dHRvbltkaXNhYmxlZD10cnVlXXtjb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpO2N1cnNvcjppbml0aWFsO2JhY2tncm91bmQtY29sb3I6IzAwMDB9LnZvdC10ZXh0LWJ1dHRvbltkaXNhYmxlZD10cnVlXTpiZWZvcmUsLnZvdC10ZXh0LWJ1dHRvbltkaXNhYmxlZD10cnVlXTphZnRlcntvcGFjaXR5OjB9LnZvdC1pY29uLWJ1dHRvbnstLXZvdC1oZWxwZXItb25zdXJmYWNlOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC44Nyk7Ym94LXNpemluZzpib3JkZXItYm94O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7ZmlsbDp2YXIoLS12b3QtaGVscGVyLW9uc3VyZmFjZSk7Y29sb3I6dmFyKC0tdm90LWhlbHBlci1vbnN1cmZhY2UpO2ZvbnQtZmFtaWx5OnZhcigtLXZvdC1mb250LWZhbWlseSxcIlJvYm90b1wiLFwiU2Vnb2UgVUlcIixzeXN0ZW0tdWksc2Fucy1zZXJpZik7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjojMDAwMDtvdXRsaW5lOm5vbmU7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NTAwO2xpbmUtaGVpZ2h0OjM2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudH0udm90LWljb24tYnV0dG9uW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LWljb24tYnV0dG9uOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjpub25lIWltcG9ydGFudH0udm90LWljb24tYnV0dG9uOmJlZm9yZSwudm90LWljb24tYnV0dG9uOmFmdGVye2NvbnRlbnQ6XCJcIjtvcGFjaXR5OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ym9yZGVyLXJhZGl1czppbmhlcml0IWltcG9ydGFudH0udm90LWljb24tYnV0dG9uOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZvdC1oZWxwZXItb25zdXJmYWNlKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzfS52b3QtaWNvbi1idXR0b246YWZ0ZXJ7YmFja2dyb3VuZDpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLGN1cnJlbnRDb2xvciAxJSwjMDAwMCAxJSkgNTAlLzEwMDAwJSAxMDAwMCUgbm8tcmVwZWF0O3RyYW5zaXRpb246b3BhY2l0eSAuM3MsYmFja2dyb3VuZC1zaXplIC40c30udm90LWljb24tYnV0dG9uOmhvdmVyOmJlZm9yZXtvcGFjaXR5Oi4wNH0udm90LWljb24tYnV0dG9uOmFjdGl2ZTphZnRlcntvcGFjaXR5Oi4zMjtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO3RyYW5zaXRpb246YmFja2dyb3VuZC1zaXplLG9wYWNpdHl9LnZvdC1pY29uLWJ1dHRvbltkaXNhYmxlZD10cnVlXXtjb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpO2ZpbGw6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjM4KTtjdXJzb3I6aW5pdGlhbDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwfS52b3QtaWNvbi1idXR0b25bZGlzYWJsZWQ9dHJ1ZV06YmVmb3JlLC52b3QtaWNvbi1idXR0b25bZGlzYWJsZWQ9dHJ1ZV06YWZ0ZXJ7b3BhY2l0eTowfS52b3QtaWNvbi1idXR0b24gc3Zne2ZpbGw6aW5oZXJpdDtzdHJva2U6aW5oZXJpdDt3aWR0aDoyNHB4O2hlaWdodDozNnB4fS52b3QtaG90a2V5e2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOnN0YXJ0O2Rpc3BsYXk6ZmxleH0udm90LWhvdGtleS1sYWJlbHt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7bWF4LXdpZHRoOjgwJX0udm90LWhvdGtleS1idXR0b257LS12b3QtaGVscGVyLXN1cmZhY2U6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiksLjIpOy0tdm90LWhlbHBlci10aGVtZTp2YXIoLS12b3QtdGhlbWUtcmdiLHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSk7Ym94LXNpemluZzpib3JkZXItYm94O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDpmaXQtY29udGVudDttaW4td2lkdGg6MzJweDtoZWlnaHQ6Zml0LWNvbnRlbnQ7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQtZmFtaWx5LFwiUm9ib3RvXCIsXCJTZWdvZSBVSVwiLHN5c3RlbS11aSxzYW5zLXNlcmlmKTtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwO291dGxpbmU6bm9uZTtmb250LXNpemU6MTVweDtsaW5lLWhlaWdodDoxLjU7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyOnNvbGlkIDFweCByZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMjQpIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCA4cHghaW1wb3J0YW50fS52b3QtaG90a2V5LWJ1dHRvbltoaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnZvdC1ob3RrZXktYnV0dG9uOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjpub25lIWltcG9ydGFudH0udm90LWhvdGtleS1idXR0b246YmVmb3JlLC52b3QtaG90a2V5LWJ1dHRvbjphZnRlcntjb250ZW50OlwiXCI7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudH0udm90LWhvdGtleS1idXR0b246YmVmb3Jle2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItdGhlbWUpKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzfS52b3QtaG90a2V5LWJ1dHRvbjphZnRlcntiYWNrZ3JvdW5kOnJhZGlhbC1ncmFkaWVudChjaXJjbGUsY3VycmVudENvbG9yIDElLCMwMDAwIDElKSA1MCUvMTAwMDAlIDEwMDAwJSBuby1yZXBlYXQ7dHJhbnNpdGlvbjpvcGFjaXR5IDFzLGJhY2tncm91bmQtc2l6ZSAuNXN9LnZvdC1ob3RrZXktYnV0dG9uOmhvdmVyOmJlZm9yZXtvcGFjaXR5Oi4wNH0udm90LWhvdGtleS1idXR0b246YWN0aXZlOmFmdGVye29wYWNpdHk6LjE2O2JhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLXNpemV9LnZvdC1ob3RrZXktYnV0dG9uW2RhdGEtc3RhdHVzPWFjdGl2ZV17Y29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItdGhlbWUpKX0udm90LWhvdGtleS1idXR0b25bZGF0YS1zdGF0dXM9YWN0aXZlXTpiZWZvcmV7b3BhY2l0eTouMDR9LnZvdC1ob3RrZXktYnV0dG9uW2Rpc2FibGVkPXRydWVde2NvbG9yOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4zOCk7Y3Vyc29yOmluaXRpYWw7YmFja2dyb3VuZC1jb2xvcjojMDAwMH0udm90LWhvdGtleS1idXR0b25bZGlzYWJsZWQ9dHJ1ZV06YmVmb3JlLC52b3QtaG90a2V5LWJ1dHRvbltkaXNhYmxlZD10cnVlXTphZnRlcntvcGFjaXR5OjB9LnZvdC10ZXh0ZmllbGR7ZGlzcGxheTppbmxpbmUtYmxvY2s7LS12b3QtaGVscGVyLXRoZW1lOnJnYih2YXIoLS12b3QtdGhlbWUtcmdiLHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSkpIWltcG9ydGFudDstLXZvdC1oZWxwZXItc2FmYXJpMTpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpIWltcG9ydGFudDstLXZvdC1oZWxwZXItc2FmYXJpMjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuNikhaW1wb3J0YW50Oy0tdm90LWhlbHBlci1zYWZhcmkzOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC44NykhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OnZhcigtLXZvdC1mb250LWZhbWlseSxcIlJvYm90b1wiLFwiU2Vnb2UgVUlcIixzeXN0ZW0tdWksc2Fucy1zZXJpZikhaW1wb3J0YW50O3RleHQtYWxpZ246c3RhcnQhaW1wb3J0YW50O3BhZGRpbmctdG9wOjZweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE2cHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuNSFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dCwudm90LXRleHRmaWVsZD50ZXh0YXJlYXtib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O2JvcmRlci1zdHlsZTpzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOjFweCFpbXBvcnRhbnQ7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50IHZhcigtLXZvdC1oZWxwZXItc2FmYXJpMil2YXIoLS12b3QtaGVscGVyLXNhZmFyaTIpIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6aW5oZXJpdCFpbXBvcnRhbnQ7Y29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjg3KSFpbXBvcnRhbnQ7LXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6Y3VycmVudENvbG9yIWltcG9ydGFudDtmb250LWZhbWlseTppbmhlcml0IWltcG9ydGFudDtmb250LXNpemU6aW5oZXJpdCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6aW5oZXJpdCFpbXBvcnRhbnQ7Y2FyZXQtY29sb3I6dmFyKC0tdm90LWhlbHBlci10aGVtZSkhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6IzAwMDAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzoxNXB4IDEzcHghaW1wb3J0YW50O3RyYW5zaXRpb246Ym9yZGVyIC4ycyxib3gtc2hhZG93IC4ycyFpbXBvcnRhbnQ7Ym94LXNoYWRvdzppbnNldCAxcHggMCAjMDAwMCxpbnNldCAtMXB4IDAgIzAwMDAsaW5zZXQgMCAtMXB4ICMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dDpub3QoOmZvY3VzKTpub3QoLnZvdC1zaG93LXBsYWNlaG9sZXIpOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD50ZXh0YXJlYTpub3QoOmZvY3VzKTpub3QoLnZvdC1zaG93LXBsYWNlaG9sZXIpOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dDpub3QoOmZvY3VzKTpub3QoLnZvdC1zaG93LXBsYWNlaG9sZXIpOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD50ZXh0YXJlYTpub3QoOmZvY3VzKTpub3QoLnZvdC1zaG93LXBsYWNlaG9sZXIpOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dDpub3QoOmZvY3VzKTpub3QoLnZvdC1zaG93LXBsYWNlaG9sZXIpOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD50ZXh0YXJlYTpub3QoOmZvY3VzKTpub3QoLnZvdC1zaG93LXBsYWNlaG9sZXIpOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dDpub3QoOmZvY3VzKTpwbGFjZWhvbGRlci1zaG93biwudm90LXRleHRmaWVsZD50ZXh0YXJlYTpub3QoOmZvY3VzKTpwbGFjZWhvbGRlci1zaG93bntib3JkZXItdG9wLWNvbG9yOnZhcigtLXZvdC1oZWxwZXItc2FmYXJpMikhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkPmlucHV0K3NwYW4sLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWErc3Bhbntmb250LWZhbWlseTppbmhlcml0O3dpZHRoOjEwMCUhaW1wb3J0YW50O21heC1oZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7Y29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjYpIWltcG9ydGFudDtjdXJzb3I6dGV4dCFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjc1JSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MTVweCFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpjb2xvciAuMnMsZm9udC1zaXplIC4ycyxsaW5lLWhlaWdodCAuMnMhaW1wb3J0YW50O2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkPmlucHV0Om5vdCg6Zm9jdXMpOnBsYWNlaG9sZGVyLXNob3duK3NwYW4sLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6bm90KDpmb2N1cyk6cGxhY2Vob2xkZXItc2hvd24rc3Bhbntmb250LXNpemU6aW5oZXJpdCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6NjhweCFpbXBvcnRhbnR9LnZvdC10ZXh0ZmllbGQ+aW5wdXQrc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ+aW5wdXQrc3BhbjphZnRlciwudm90LXRleHRmaWVsZD50ZXh0YXJlYStzcGFuOmJlZm9yZSwudm90LXRleHRmaWVsZD50ZXh0YXJlYStzcGFuOmFmdGVye2NvbnRlbnQ6XCJcIiFpbXBvcnRhbnQ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtib3JkZXItdG9wOnNvbGlkIDFweCB2YXIoLS12b3QtaGVscGVyLXNhZmFyaTIpIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudDttaW4td2lkdGg6MTBweCFpbXBvcnRhbnQ7aGVpZ2h0OjhweCFpbXBvcnRhbnQ7bWFyZ2luLXRvcDo2cHghaW1wb3J0YW50O3RyYW5zaXRpb246Ym9yZGVyIC4ycyxib3gtc2hhZG93IC4ycyFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7Ym94LXNoYWRvdzppbnNldCAwIDFweCAjMDAwMCFpbXBvcnRhbnR9LnZvdC10ZXh0ZmllbGQ+aW5wdXQrc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWErc3BhbjpiZWZvcmV7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICMwMDAwIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCAwIWltcG9ydGFudDttYXJnaW4tcmlnaHQ6NHB4IWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dCtzcGFuOmFmdGVyLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhK3NwYW46YWZ0ZXJ7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMDAwMCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czowIDRweCFpbXBvcnRhbnQ7ZmxleC1ncm93OjEhaW1wb3J0YW50O21hcmdpbi1sZWZ0OjRweCFpbXBvcnRhbnR9LnZvdC10ZXh0ZmllbGQ+aW5wdXQudm90LXNob3ctcGxhY2Vob2xlcitzcGFuOmJlZm9yZSwudm90LXRleHRmaWVsZD50ZXh0YXJlYS52b3Qtc2hvdy1wbGFjZWhvbGVyK3NwYW46YmVmb3Jle21hcmdpbi1yaWdodDowIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dC52b3Qtc2hvdy1wbGFjZWhvbGVyK3NwYW46YWZ0ZXIsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWEudm90LXNob3ctcGxhY2Vob2xlcitzcGFuOmFmdGVye21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkPmlucHV0Om5vdCg6Zm9jdXMpOnBsYWNlaG9sZGVyLXNob3duK3NwYW46YmVmb3JlLC52b3QtdGV4dGZpZWxkPmlucHV0Om5vdCg6Zm9jdXMpOnBsYWNlaG9sZGVyLXNob3duK3NwYW46YWZ0ZXIsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6bm90KDpmb2N1cyk6cGxhY2Vob2xkZXItc2hvd24rc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6bm90KDpmb2N1cyk6cGxhY2Vob2xkZXItc2hvd24rc3BhbjphZnRlcntib3JkZXItdG9wLWNvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LXRleHRmaWVsZDpob3Zlcj5pbnB1dDpub3QoOmRpc2FibGVkKSwudm90LXRleHRmaWVsZDpob3Zlcj50ZXh0YXJlYTpub3QoOmRpc2FibGVkKXtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdmFyKC0tdm90LWhlbHBlci1zYWZhcmkzKXZhcigtLXZvdC1oZWxwZXItc2FmYXJpMykhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkOmhvdmVyPmlucHV0Om5vdCg6ZGlzYWJsZWQpK3NwYW46YmVmb3JlLC52b3QtdGV4dGZpZWxkOmhvdmVyPmlucHV0Om5vdCg6ZGlzYWJsZWQpK3NwYW46YWZ0ZXIsLnZvdC10ZXh0ZmllbGQ6aG92ZXI+dGV4dGFyZWE6bm90KDpkaXNhYmxlZCkrc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ6aG92ZXI+dGV4dGFyZWE6bm90KDpkaXNhYmxlZCkrc3BhbjphZnRlcntib3JkZXItdG9wLWNvbG9yOnZhcigtLXZvdC1oZWxwZXItc2FmYXJpMykhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkOmhvdmVyPmlucHV0Om5vdCg6ZGlzYWJsZWQpOm5vdCg6Zm9jdXMpOnBsYWNlaG9sZGVyLXNob3duLC52b3QtdGV4dGZpZWxkOmhvdmVyPnRleHRhcmVhOm5vdCg6ZGlzYWJsZWQpOm5vdCg6Zm9jdXMpOnBsYWNlaG9sZGVyLXNob3due2JvcmRlci1jb2xvcjp2YXIoLS12b3QtaGVscGVyLXNhZmFyaTMpIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dDpmb2N1cywudm90LXRleHRmaWVsZD50ZXh0YXJlYTpmb2N1c3tib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdmFyKC0tdm90LWhlbHBlci10aGVtZSl2YXIoLS12b3QtaGVscGVyLXRoZW1lKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzppbnNldCAxcHggMCB2YXIoLS12b3QtaGVscGVyLXRoZW1lKSxpbnNldCAtMXB4IDAgdmFyKC0tdm90LWhlbHBlci10aGVtZSksaW5zZXQgMCAtMXB4IHZhcigtLXZvdC1oZWxwZXItdGhlbWUpIWltcG9ydGFudDtvdXRsaW5lOm5vbmUhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkPmlucHV0OmZvY3VzK3NwYW4sLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6Zm9jdXMrc3Bhbntjb2xvcjp2YXIoLS12b3QtaGVscGVyLXRoZW1lKSFpbXBvcnRhbnR9LnZvdC10ZXh0ZmllbGQ+aW5wdXQ6Zm9jdXMrc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ+aW5wdXQ6Zm9jdXMrc3BhbjphZnRlciwudm90LXRleHRmaWVsZD50ZXh0YXJlYTpmb2N1cytzcGFuOmJlZm9yZSwudm90LXRleHRmaWVsZD50ZXh0YXJlYTpmb2N1cytzcGFuOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tdm90LWhlbHBlci10aGVtZSkhaW1wb3J0YW50O2JveC1zaGFkb3c6aW5zZXQgMCAxcHggdmFyKC0tdm90LWhlbHBlci10aGVtZSkhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkPmlucHV0OmRpc2FibGVkLC52b3QtdGV4dGZpZWxkPmlucHV0OmRpc2FibGVkK3NwYW4sLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6ZGlzYWJsZWQsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6ZGlzYWJsZWQrc3Bhbntib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdmFyKC0tdm90LWhlbHBlci1zYWZhcmkxKXZhcigtLXZvdC1oZWxwZXItc2FmYXJpMSkhaW1wb3J0YW50O2NvbG9yOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4zOCkhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50fS52b3QtdGV4dGZpZWxkPmlucHV0OmRpc2FibGVkK3NwYW46YmVmb3JlLC52b3QtdGV4dGZpZWxkPmlucHV0OmRpc2FibGVkK3NwYW46YWZ0ZXIsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6ZGlzYWJsZWQrc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ+dGV4dGFyZWE6ZGlzYWJsZWQrc3BhbjphZnRlciwudm90LXRleHRmaWVsZD5pbnB1dDpkaXNhYmxlZDpwbGFjZWhvbGRlci1zaG93biwudm90LXRleHRmaWVsZD5pbnB1dDpkaXNhYmxlZDpwbGFjZWhvbGRlci1zaG93bitzcGFuLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhOmRpc2FibGVkOnBsYWNlaG9sZGVyLXNob3duLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhOmRpc2FibGVkOnBsYWNlaG9sZGVyLXNob3duK3NwYW57Ym9yZGVyLXRvcC1jb2xvcjp2YXIoLS12b3QtaGVscGVyLXNhZmFyaTEpIWltcG9ydGFudH0udm90LXRleHRmaWVsZD5pbnB1dDpkaXNhYmxlZDpwbGFjZWhvbGRlci1zaG93bitzcGFuOmJlZm9yZSwudm90LXRleHRmaWVsZD5pbnB1dDpkaXNhYmxlZDpwbGFjZWhvbGRlci1zaG93bitzcGFuOmFmdGVyLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhOmRpc2FibGVkOnBsYWNlaG9sZGVyLXNob3duK3NwYW46YmVmb3JlLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhOmRpc2FibGVkOnBsYWNlaG9sZGVyLXNob3duK3NwYW46YWZ0ZXJ7Ym9yZGVyLXRvcC1jb2xvcjojMDAwMCFpbXBvcnRhbnR9QG1lZGlhIG5vdCBhbGwgYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86LjAwMDAyNjQ1ODMpLG5vdCBhbGwgYW5kIChtaW4tcmVzb2x1dGlvbjouMDAxZHBjbSl7QHN1cHBvcnRzICgoLXdlYmtpdC1hcHBlYXJhbmNlOm5vbmUpKXsudm90LXRleHRmaWVsZD5pbnB1dCwudm90LXRleHRmaWVsZD5pbnB1dCtzcGFuLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhLC52b3QtdGV4dGZpZWxkPnRleHRhcmVhK3NwYW4sLnZvdC10ZXh0ZmllbGQ+aW5wdXQrc3BhbjpiZWZvcmUsLnZvdC10ZXh0ZmllbGQ+aW5wdXQrc3BhbjphZnRlciwudm90LXRleHRmaWVsZD50ZXh0YXJlYStzcGFuOmJlZm9yZSwudm90LXRleHRmaWVsZD50ZXh0YXJlYStzcGFuOmFmdGVye3RyYW5zaXRpb24tZHVyYXRpb246LjFzIWltcG9ydGFudH19fS52b3QtY2hlY2tib3h7LS12b3QtaGVscGVyLXRoZW1lOnZhcigtLXZvdC10aGVtZS1yZ2IsdmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpKTstLXZvdC1oZWxwZXItb250aGVtZTp2YXIoLS12b3Qtb250aGVtZS1yZ2IsdmFyKC0tdm90LW9ucHJpbWFyeS1yZ2IsMjU1LDI1NSwyNTUpKTt6LWluZGV4OjA7Y29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjg3KTtmb250LWZhbWlseTp2YXIoLS12b3QtZm9udC1mYW1pbHksXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWYpO3RleHQtYWxpZ246c3RhcnQ7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MS41O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS52b3QtY2hlY2tib3gtc3Vie3BhZGRpbmctbGVmdDoyOHB4IWltcG9ydGFudH0udm90LWNoZWNrYm94W2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LWNoZWNrYm94PmlucHV0ey13ZWJraXQtYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZTt6LWluZGV4OjEwMDAwO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvcGFjaXR5OjE7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDowIDA7b3V0bGluZTpub25lO3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjJzLGJhY2tncm91bmQtY29sb3IgLjJzO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjJweCBzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLWNvbG9yOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC42KSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czoycHghaW1wb3J0YW50O21hcmdpbjozcHggMXB4IWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50fS52b3QtY2hlY2tib3g+aW5wdXQrc3Bhbntib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6aW5oZXJpdDtjdXJzb3I6cG9pbnRlcjtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OjQwMDtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLWxlZnQ6MzBweCFpbXBvcnRhbnR9LnZvdC1jaGVja2JveD5pbnB1dCtzcGFuOmJlZm9yZXtjb250ZW50OlwiXCI7YmFja2dyb3VuZC1jb2xvcjpyZ2IodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApKTtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTt3aWR0aDo0MHB4O2hlaWdodDo0MHB4O3RyYW5zaXRpb246b3BhY2l0eSAuM3MsdHJhbnNmb3JtIC4ycztkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotOHB4O2xlZnQ6LTEwcHg7dHJhbnNmb3JtOnNjYWxlKDEpO2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudH0udm90LWNoZWNrYm94PmlucHV0K3NwYW46YWZ0ZXJ7Y29udGVudDpcIlwiO3otaW5kZXg6MTAwMDA7cG9pbnRlci1ldmVudHM6bm9uZTt3aWR0aDoxMHB4O2hlaWdodDo1cHg7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjJzO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOjNweDtsZWZ0OjFweDt0cmFuc2Zvcm06dHJhbnNsYXRlKDNweCw0cHgpcm90YXRlKC00NWRlZyk7Ym94LXNpemluZzpjb250ZW50LWJveCFpbXBvcnRhbnQ7Ym9yZGVyOjAgc29saWQgIzAwMDAhaW1wb3J0YW50O2JvcmRlci13aWR0aDowIDAgMnB4IDJweCFpbXBvcnRhbnR9LnZvdC1jaGVja2JveD5pbnB1dDpjaGVja2VkLC52b3QtY2hlY2tib3g+aW5wdXQ6aW5kZXRlcm1pbmF0ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYih2YXIoLS12b3QtaGVscGVyLXRoZW1lKSk7Ym9yZGVyLWNvbG9yOnJnYih2YXIoLS12b3QtaGVscGVyLXRoZW1lKSkhaW1wb3J0YW50fS52b3QtY2hlY2tib3g+aW5wdXQ6Y2hlY2tlZCtzcGFuOmJlZm9yZSwudm90LWNoZWNrYm94PmlucHV0OmluZGV0ZXJtaW5hdGUrc3BhbjpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjpyZ2IodmFyKC0tdm90LWhlbHBlci10aGVtZSkpfS52b3QtY2hlY2tib3g+aW5wdXQ6Y2hlY2tlZCtzcGFuOmFmdGVyLC52b3QtY2hlY2tib3g+aW5wdXQ6aW5kZXRlcm1pbmF0ZStzcGFuOmFmdGVye2JvcmRlci1jb2xvcjpyZ2IodmFyKC0tdm90LWhlbHBlci1vbnRoZW1lLDI1NSwyNTUsMjU1KSkhaW1wb3J0YW50fS52b3QtY2hlY2tib3g+aW5wdXQ6aG92ZXJ7Ym94LXNoYWRvdzpub25lIWltcG9ydGFudH0udm90LWNoZWNrYm94PmlucHV0OmluZGV0ZXJtaW5hdGUrc3BhbjphZnRlcnt0cmFuc2Zvcm06dHJhbnNsYXRlKDRweCwzcHgpO2JvcmRlci1sZWZ0LXdpZHRoOjAhaW1wb3J0YW50fS52b3QtY2hlY2tib3g6aG92ZXI+aW5wdXQrc3BhbjpiZWZvcmV7b3BhY2l0eTouMDR9LnZvdC1jaGVja2JveDphY3RpdmU+aW5wdXQsLnZvdC1jaGVja2JveDphY3RpdmU6aG92ZXI+aW5wdXQ6bm90KDpkaXNhYmxlZCl7Ym9yZGVyLWNvbG9yOnJnYih2YXIoLS12b3QtaGVscGVyLXRoZW1lKSkhaW1wb3J0YW50fS52b3QtY2hlY2tib3g6YWN0aXZlPmlucHV0OmNoZWNrZWR7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuNik7Ym9yZGVyLWNvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LWNoZWNrYm94OmFjdGl2ZT5pbnB1dCtzcGFuOmJlZm9yZXtvcGFjaXR5OjE7dHJhbnNpdGlvbjp0cmFuc2Zvcm0sb3BhY2l0eTt0cmFuc2Zvcm06c2NhbGUoMCl9LnZvdC1jaGVja2JveD5pbnB1dDpkaXNhYmxlZHtjdXJzb3I6aW5pdGlhbDtib3JkZXItY29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjM4KSFpbXBvcnRhbnR9LnZvdC1jaGVja2JveD5pbnB1dDpkaXNhYmxlZDpjaGVja2VkLC52b3QtY2hlY2tib3g+aW5wdXQ6ZGlzYWJsZWQ6aW5kZXRlcm1pbmF0ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4zOCk7Ym9yZGVyLWNvbG9yOiMwMDAwIWltcG9ydGFudH0udm90LWNoZWNrYm94PmlucHV0OmRpc2FibGVkK3NwYW57Y29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjM4KTtjdXJzb3I6aW5pdGlhbH0udm90LWNoZWNrYm94PmlucHV0OmRpc2FibGVkK3NwYW46YmVmb3Jle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMCl9LnZvdC1zbGlkZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7LS12b3Qtc2FmYXJpLWhlbHBlcjE6cmdiYSh2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MyksLjA0KSFpbXBvcnRhbnQ7LS12b3Qtc2FmYXJpLWhlbHBlcjI6cmdiYSh2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MyksLjEyKSFpbXBvcnRhbnQ7LS12b3Qtc2FmYXJpLWhlbHBlcjM6cmdiYSh2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MyksLjE2KSFpbXBvcnRhbnQ7LS12b3Qtc2FmYXJpLWhlbHBlcjQ6cmdiYSh2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MyksLjI0KSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7Y29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjg3KSFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQsXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsQmxpbmtNYWNTeXN0ZW1Gb250LHN5c3RlbS11aSwtYXBwbGUtc3lzdGVtKSFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpzdGFydCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE2cHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuNSFpbXBvcnRhbnR9LnZvdC1zbGlkZXJbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0ey13ZWJraXQtYXBwZWFyYW5jZTpub25lIWltcG9ydGFudDthcHBlYXJhbmNlOm5vbmUhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwIWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjM2cHghaW1wb3J0YW50O21hcmdpbjowIDAgLTM2cHghaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3RvcDoyNHB4IWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpob3Zlcntib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0Omxhc3QtY2hpbGR7bWFyZ2luOjAhaW1wb3J0YW50O3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6YmVmb3Jle2NvbnRlbnQ6XCJcIiFpbXBvcnRhbnQ7d2lkdGg6Y2FsYygxMDAlKnZhcigtLXZvdC1wcm9ncmVzcywwKSkhaW1wb3J0YW50O2JhY2tncm91bmQ6cmdiKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSkhaW1wb3J0YW50O2hlaWdodDoycHghaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6Y2FsYyg1MCUgLSAxcHgpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpkaXNhYmxlZHtjdXJzb3I6ZGVmYXVsdCFpbXBvcnRhbnQ7b3BhY2l0eTouMzghaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OmRpc2FibGVkK3NwYW57Y29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjM4KSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6ZGlzYWJsZWQ6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNre2JhY2tncm91bmQtY29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjM4KSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6ZGlzYWJsZWQ6Oi1tb3otcmFuZ2UtdHJhY2t7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpkaXNhYmxlZDo6LW1zLWZpbGwtbG93ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpkaXNhYmxlZDo6LW1zLWZpbGwtdXBwZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMzgpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpkaXNhYmxlZDo6LW1vei1yYW5nZS10aHVtYntiYWNrZ3JvdW5kLWNvbG9yOnJnYih2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCkpIWltcG9ydGFudDtib3gtc2hhZG93OjAgMCAwIDFweCByZ2IodmFyKC0tdm90LXN1cmZhY2UtcmdiLDI1NSwyNTUsMjU1KSkhaW1wb3J0YW50O3RyYW5zZm9ybTpzY2FsZSg0KSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6ZGlzYWJsZWQ6Oi1tcy10aHVtYntiYWNrZ3JvdW5kLWNvbG9yOnJnYih2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCkpIWltcG9ydGFudDtib3gtc2hhZG93OjAgMCAwIDFweCByZ2IodmFyKC0tdm90LXN1cmZhY2UtcmdiLDI1NSwyNTUsMjU1KSkhaW1wb3J0YW50O3RyYW5zZm9ybTpzY2FsZSg0KSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6ZGlzYWJsZWQ6Oi13ZWJraXQtc2xpZGVyLXRodW1ie2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSkhaW1wb3J0YW50O2JveC1zaGFkb3c6MCAwIDAgMXB4IHJnYih2YXIoLS12b3Qtc3VyZmFjZS1yZ2IsMjU1LDI1NSwyNTUpKSFpbXBvcnRhbnQ7dHJhbnNmb3JtOnNjYWxlKDQpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpkaXNhYmxlZDo6LW1zLWZpbGwtdXBwZXJ7b3BhY2l0eTouMzghaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OmRpc2FibGVkOjotbW96LXJhbmdlLXByb2dyZXNze2JhY2tncm91bmQtY29sb3I6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjg3KSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6ZGlzYWJsZWQ6LXdlYmtpdC1zbGlkZXItdGh1bWJ7Y29sb3I6cmdiKHZhcigtLXZvdC1zdXJmYWNlLXJnYiwyNTUsMjU1LDI1NSkpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDphY3RpdmU6Oi13ZWJraXQtc2xpZGVyLXRodW1ie2JveC1zaGFkb3c6MCAwIDAgMnB4IHZhcigtLXZvdC1zYWZhcmktaGVscGVyNCkhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OmFjdGl2ZTo6LW1vei1yYW5nZS10aHVtYntib3gtc2hhZG93OjAgMCAwIDJweCByZ2JhKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSwuMjQpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDphY3RpdmU6Oi1tcy10aHVtYntib3gtc2hhZG93OjAgMCAwIDJweCByZ2JhKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSwuMjQpIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDpmb2N1c3tvdXRsaW5lOm5vbmUhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0Ojotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpLC4yNCkhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MXB4IWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudDttYXJnaW46MTdweCAwIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDo6LW1vei1yYW5nZS10cmFja3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpLC4yNCkhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MXB4IWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudDttYXJnaW46MTdweCAwIWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDo6LW1zLXRyYWNre2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjojMDAwMCFpbXBvcnRhbnQ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MXB4IWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudDttYXJnaW46MTdweCAwIWltcG9ydGFudDtwYWRkaW5nOjAgMTdweCFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6Oi13ZWJraXQtc2xpZGVyLXRodW1iey13ZWJraXQtYXBwZWFyYW5jZTpub25lIWltcG9ydGFudDthcHBlYXJhbmNlOm5vbmUhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSkhaW1wb3J0YW50O2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7d2lkdGg6MnB4IWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjJzIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoNikhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OjotbW96LXJhbmdlLXRodW1iey13ZWJraXQtYXBwZWFyYW5jZTpub25lIWltcG9ydGFudDthcHBlYXJhbmNlOm5vbmUhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSkhaW1wb3J0YW50O2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7d2lkdGg6MnB4IWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjJzIWltcG9ydGFudDt0cmFuc2Zvcm06c2NhbGUoNikhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OjotbXMtdGh1bWJ7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmUhaW1wb3J0YW50O2FwcGVhcmFuY2U6bm9uZSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjpyZ2IodmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpKSFpbXBvcnRhbnQ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt3aWR0aDoycHghaW1wb3J0YW50O2hlaWdodDoycHghaW1wb3J0YW50O3RyYW5zaXRpb246Ym94LXNoYWRvdyAuMnMhaW1wb3J0YW50O3RyYW5zZm9ybTpzY2FsZSg2KSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6Oi13ZWJraXQtc2xpZGVyLXRodW1iey13ZWJraXQtYXBwZWFyYW5jZTpub25lIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6Oi1tb3otcmFuZ2UtdGh1bWJ7LW1vei1hcHBlYXJhbmNlOm5vbmUhaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OjotbXMtdGh1bWJ7bWFyZ2luOjAgMTdweCFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6Oi1tb3otcmFuZ2UtcHJvZ3Jlc3N7YmFja2dyb3VuZC1jb2xvcjpyZ2IodmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpKSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czoxcHghaW1wb3J0YW50O2hlaWdodDoycHghaW1wb3J0YW50fS52b3Qtc2xpZGVyPmlucHV0OjotbXMtZmlsbC1sb3dlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYih2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MykpIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjFweCFpbXBvcnRhbnQ7aGVpZ2h0OjJweCFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+aW5wdXQ6Oi1tcy1maWxsLXVwcGVye2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSkhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MXB4IWltcG9ydGFudDtoZWlnaHQ6MnB4IWltcG9ydGFudH0udm90LXNsaWRlcj5pbnB1dDo6LW1vei1mb2N1cy1vdXRlcntib3JkZXI6bm9uZSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI+c3BhbnttYXJnaW4tYm90dG9tOjM2cHghaW1wb3J0YW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudH0udm90LXNsaWRlcjpob3Zlcj5pbnB1dDo6LXdlYmtpdC1zbGlkZXItdGh1bWJ7Ym94LXNoYWRvdzowIDAgMCAycHggdmFyKC0tdm90LXNhZmFyaS1oZWxwZXIxKSFpbXBvcnRhbnR9LnZvdC1zbGlkZXI6aG92ZXI+aW5wdXQ6Oi1tcy10aHVtYntib3gtc2hhZG93OjAgMCAwIDJweCByZ2JhKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSwuMDQpIWltcG9ydGFudH0udm90LXNsaWRlcjpob3Zlcj5pbnB1dDpob3Zlcjo6LW1vei1yYW5nZS10aHVtYntib3gtc2hhZG93OjAgMCAwIDJweCByZ2JhKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSwuMDQpIWltcG9ydGFudH0udm90LXNsaWRlci1sYWJlbC12YWx1ZXttYXJnaW4tbGVmdDo0cHghaW1wb3J0YW50fS52b3Qtc2VsZWN0e2ZvbnQtZmFtaWx5OnZhcigtLXZvdC1mb250LWZhbWlseSxcIlJvYm90b1wiLFwiU2Vnb2UgVUlcIixzeXN0ZW0tdWksc2Fucy1zZXJpZik7dGV4dC1hbGlnbjpzdGFydDtjb2xvcjp2YXIoLS12b3QtaGVscGVyLXRoZW1lKTtmaWxsOnZhcigtLXZvdC1oZWxwZXItdGhlbWUpO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo0MDA7bGluZS1oZWlnaHQ6MS41O2Rpc3BsYXk6ZmxleDstLXZvdC1oZWxwZXItdGhlbWUtcmdiOnZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSFpbXBvcnRhbnQ7LS12b3QtaGVscGVyLXRoZW1lOnJnYmEodmFyKC0tdm90LWhlbHBlci10aGVtZS1yZ2IpLC44NykhaW1wb3J0YW50Oy0tdm90LWhlbHBlci1zYWZhcmkxOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC42KSFpbXBvcnRhbnQ7LS12b3QtaGVscGVyLXNhZmFyaTI6cmdiYSh2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCksLjg3KSFpbXBvcnRhbnR9LnZvdC1zZWxlY3RbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3Qtc2VsZWN0LW91dGVye2N1cnNvcjpwb2ludGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDoxMjBweDttYXgtd2lkdGg6MTIwcHg7ZGlzcGxheTpmbGV4O2JvcmRlcjoxcHggc29saWQgdmFyKC0tdm90LWhlbHBlci1zYWZhcmkxKSFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czo0cHghaW1wb3J0YW50O3BhZGRpbmc6MCA1cHghaW1wb3J0YW50O3RyYW5zaXRpb246Ym9yZGVyIC4ycyFpbXBvcnRhbnR9LnZvdC1zZWxlY3Qtb3V0ZXI6aG92ZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLXZvdC1oZWxwZXItc2FmYXJpMikhaW1wb3J0YW50fS52b3Qtc2VsZWN0LXRpdGxle3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtZmFtaWx5OmluaGVyaXQ7b3ZlcmZsb3c6aGlkZGVufS52b3Qtc2VsZWN0LWFycm93LWljb257anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7d2lkdGg6MjBweDtoZWlnaHQ6MzJweDtkaXNwbGF5OmZsZXh9LnZvdC1zZWxlY3QtYXJyb3ctaWNvbiBzdmd7ZmlsbDppbmhlcml0O3N0cm9rZTppbmhlcml0fS52b3Qtc2VsZWN0LWNvbnRlbnQtbGlzdHtmbGV4LWRpcmVjdGlvbjpjb2x1bW47ZGlzcGxheTpmbGV4fS52b3Qtc2VsZWN0LWNvbnRlbnQtbGlzdCAudm90LXNlbGVjdC1jb250ZW50LWl0ZW17Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo4cHghaW1wb3J0YW50O3BhZGRpbmc6NXB4IDEwcHghaW1wb3J0YW50fS52b3Qtc2VsZWN0LWNvbnRlbnQtbGlzdCAudm90LXNlbGVjdC1jb250ZW50LWl0ZW06bm90KFtpbmVydF0pOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzJhMmMzMX0udm90LXNlbGVjdC1jb250ZW50LWxpc3QgLnZvdC1zZWxlY3QtY29udGVudC1pdGVtW2RhdGEtdm90LXNlbGVjdGVkPXRydWVde2NvbG9yOnJnYih2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MykpO2JhY2tncm91bmQtY29sb3I6cmdiYSh2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MyksLjIpfS52b3Qtc2VsZWN0LWNvbnRlbnQtbGlzdCAudm90LXNlbGVjdC1jb250ZW50LWl0ZW1bZGF0YS12b3Qtc2VsZWN0ZWQ9dHJ1ZV06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSwuMSkhaW1wb3J0YW50fS52b3Qtc2VsZWN0LWNvbnRlbnQtbGlzdCAudm90LXNlbGVjdC1jb250ZW50LWl0ZW1baW5lcnRde2N1cnNvcjpkZWZhdWx0O2NvbG9yOnJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4zOCl9LnZvdC1zZWxlY3QtY29udGVudC1saXN0IC52b3Qtc2VsZWN0LWNvbnRlbnQtaXRlbVtoaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnZvdC1oZWFkZXJ7Y29sb3I6cmdiYSh2YXIoLS12b3QtaGVscGVyLW9uc3VyZmFjZS1yZ2IpLC44Nyk7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQtZmFtaWx5LFwiUm9ib3RvXCIsXCJTZWdvZSBVSVwiLHN5c3RlbS11aSxzYW5zLXNlcmlmKTt0ZXh0LWFsaWduOnN0YXJ0O2ZvbnQtd2VpZ2h0OjcwMDtsaW5lLWhlaWdodDoxLjV9LnZvdC1oZWFkZXJbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3QtaGVhZGVyOm5vdCg6Zmlyc3QtY2hpbGQpe3BhZGRpbmctdG9wOjhweH0udm90LWhlYWRlci1sZXZlbC0xe2ZvbnQtc2l6ZToyZW19LnZvdC1oZWFkZXItbGV2ZWwtMntmb250LXNpemU6MS41ZW19LnZvdC1oZWFkZXItbGV2ZWwtM3tmb250LXNpemU6MS4xN2VtfS52b3QtaGVhZGVyLWxldmVsLTR7Zm9udC1zaXplOjFlbX0udm90LWhlYWRlci1sZXZlbC01e2ZvbnQtc2l6ZTouODNlbX0udm90LWhlYWRlci1sZXZlbC02e2ZvbnQtc2l6ZTouNjdlbX0udm90LWluZm97Y29sb3I6cmdiYSh2YXIoLS12b3QtaGVscGVyLW9uc3VyZmFjZS1yZ2IpLC44Nyk7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQtZmFtaWx5LFwiUm9ib3RvXCIsXCJTZWdvZSBVSVwiLHN5c3RlbS11aSxzYW5zLXNlcmlmKTt0ZXh0LWFsaWduOnN0YXJ0Oy13ZWJraXQtdXNlci1zZWxlY3Q6dGV4dDt1c2VyLXNlbGVjdDp0ZXh0O2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjEuNTtkaXNwbGF5OmZsZXh9LnZvdC1pbmZvW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LWluZm8+Om5vdCg6Zmlyc3QtY2hpbGQpe2NvbG9yOnJnYmEodmFyKC0tdm90LWhlbHBlci1vbnN1cmZhY2UtcmdiKSwuNSk7ZmxleDoxO21hcmdpbi1sZWZ0OjhweCFpbXBvcnRhbnR9LnZvdC1kZXRhaWxze2NvbG9yOnJnYmEodmFyKC0tdm90LWhlbHBlci1vbnN1cmZhY2UtcmdiKSwuODcpO2ZvbnQtZmFtaWx5OnZhcigtLXZvdC1mb250LWZhbWlseSxcIlJvYm90b1wiLFwiU2Vnb2UgVUlcIixzeXN0ZW0tdWksc2Fucy1zZXJpZik7dGV4dC1hbGlnbjpzdGFydDtjdXJzb3I6cG9pbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MS41O3RyYW5zaXRpb246YmFja2dyb3VuZCAuNXM7ZGlzcGxheTpmbGV4O2JvcmRlci1yYWRpdXM6LjVlbSFpbXBvcnRhbnQ7bWFyZ2luOi0uNWVtIWltcG9ydGFudDtwYWRkaW5nOi41ZW0haW1wb3J0YW50fS52b3QtZGV0YWlsc1toaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnZvdC1kZXRhaWxzLWFycm93LWljb257d2lkdGg6MjBweDtoZWlnaHQ6MzJweDtmaWxsOnJnYmEodmFyKC0tdm90LWhlbHBlci1vbnN1cmZhY2UtcmdiKSwuODcpO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt0cmFuc2Zvcm06c2NhbGUoMS4yNSlyb3RhdGUoLTkwZGVnKX0udm90LWRldGFpbHM6aG92ZXJ7YmFja2dyb3VuZDpyZ2JhKHZhcigtLXZvdC1vbnN1cmZhY2UtcmdiLDAsMCwwKSwuMDQpfS52b3QtbGFuZy1zZWxlY3R7LS12b3QtaGVscGVyLXRoZW1lLXJnYjp2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCk7LS12b3QtaGVscGVyLXRoZW1lOnJnYmEodmFyKC0tdm90LWhlbHBlci10aGVtZS1yZ2IpLC44Nyk7Y29sb3I6dmFyKC0tdm90LWhlbHBlci10aGVtZSk7ZmlsbDp2YXIoLS12b3QtaGVscGVyLXRoZW1lKTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4fS52b3QtbGFuZy1zZWxlY3RbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3QtbGFuZy1zZWxlY3QtaWNvbntqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDozMnB4O2hlaWdodDozMnB4O2Rpc3BsYXk6ZmxleH0udm90LWxhbmctc2VsZWN0LWljb24gc3Zne2ZpbGw6aW5oZXJpdDtzdHJva2U6aW5oZXJpdH0udm90LXNlZ21lbnRlZC1idXR0b257LS12b3QtaGVscGVyLXRoZW1lLXJnYjp2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCk7LS12b3QtaGVscGVyLXRoZW1lOnJnYmEodmFyKC0tdm90LWhlbHBlci10aGVtZS1yZ2IpLC44Nyk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZDpyZ2IodmFyKC0tdm90LXN1cmZhY2UtcmdiLDI1NSwyNTUsMjU1KSk7bWF4LXdpZHRoOjEwMHZ3O2hlaWdodDozMnB4O2NvbG9yOnZhcigtLXZvdC1oZWxwZXItdGhlbWUpO2ZpbGw6dmFyKC0tdm90LWhlbHBlci10aGVtZSk7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQtZmFtaWx5LFwiUm9ib3RvXCIsXCJTZWdvZSBVSVwiLHN5c3RlbS11aSxzYW5zLXNlcmlmKTtjdXJzb3I6ZGVmYXVsdDt6LWluZGV4OjIxNDc0ODM2NDc7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjEuNTt0cmFuc2l0aW9uOm9wYWNpdHkgLjVzO2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NXJlbTtsZWZ0OjUwJTtvdmVyZmxvdzpoaWRkZW47dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKTtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnR9LnZvdC1zZWdtZW50ZWQtYnV0dG9uW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LXNlZ21lbnRlZC1idXR0b24gKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS52b3Qtc2VnbWVudGVkLWJ1dHRvbiAudm90LXNlcGFyYXRvcntiYWNrZ3JvdW5kOnJnYmEodmFyKC0tdm90LWhlbHBlci10aGVtZS1yZ2IpLC4xKTt3aWR0aDoxcHg7aGVpZ2h0OjUwJX0udm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZXBhcmF0b3JbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3Qtc2VnbWVudGVkLWJ1dHRvbiAudm90LXNlZ21lbnQsLnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudC1vbmx5LWljb257aGVpZ2h0OjEwMCU7Y29sb3I6aW5oZXJpdDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMXMgZWFzZS1pbi1vdXQ7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbjtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7cGFkZGluZzowIDhweCFpbXBvcnRhbnR9LnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudFtoaWRkZW5dLC52b3Qtc2VnbWVudGVkLWJ1dHRvbiBbaGlkZGVuXS52b3Qtc2VnbWVudC1vbmx5LWljb257ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50OmJlZm9yZSwudm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50LW9ubHktaWNvbjpiZWZvcmUsLnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudDphZnRlciwudm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50LW9ubHktaWNvbjphZnRlcntjb250ZW50OlwiXCI7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JvcmRlci1yYWRpdXM6aW5oZXJpdCFpbXBvcnRhbnR9LnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudDpiZWZvcmUsLnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudC1vbmx5LWljb246YmVmb3Jle2JhY2tncm91bmQtY29sb3I6cmdiKHZhcigtLXZvdC1oZWxwZXItdGhlbWUtcmdiKSk7dHJhbnNpdGlvbjpvcGFjaXR5IC4yc30udm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50OmFmdGVyLC52b3Qtc2VnbWVudGVkLWJ1dHRvbiAudm90LXNlZ21lbnQtb25seS1pY29uOmFmdGVye2JhY2tncm91bmQ6cmFkaWFsLWdyYWRpZW50KGNpcmNsZSxjdXJyZW50Q29sb3IgMSUsIzAwMDAgMSUpIDUwJS8xMDAwMCUgMTAwMDAlIG5vLXJlcGVhdDt0cmFuc2l0aW9uOm9wYWNpdHkgMXMsYmFja2dyb3VuZC1zaXplIC41c30udm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50OmhvdmVyOmJlZm9yZSwudm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50LW9ubHktaWNvbjpob3ZlcjpiZWZvcmV7b3BhY2l0eTouMDR9LnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudDphY3RpdmU6YWZ0ZXIsLnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudC1vbmx5LWljb246YWN0aXZlOmFmdGVye29wYWNpdHk6LjE2O2JhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLXNpemV9LnZvdC1zZWdtZW50ZWQtYnV0dG9uIC52b3Qtc2VnbWVudC1vbmx5LWljb257bWluLXdpZHRoOjMycHg7cGFkZGluZzowIWltcG9ydGFudH0udm90LXNlZ21lbnRlZC1idXR0b24gLnZvdC1zZWdtZW50LWxhYmVse3doaXRlLXNwYWNlOm5vd3JhcDtjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW4tbGVmdDo4cHghaW1wb3J0YW50fS52b3Qtc2VnbWVudGVkLWJ1dHRvbltkYXRhLXN0YXR1cz1zdWNjZXNzXSAudm90LXRyYW5zbGF0ZS1idXR0b257Y29sb3I6cmdiKHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSk7ZmlsbDpyZ2IodmFyKC0tdm90LXByaW1hcnktcmdiLDMzLDE1MCwyNDMpKX0udm90LXNlZ21lbnRlZC1idXR0b25bZGF0YS1zdGF0dXM9ZXJyb3JdIC52b3QtdHJhbnNsYXRlLWJ1dHRvbntjb2xvcjojZjI4YjgyO2ZpbGw6I2YyOGI4Mn0udm90LXNlZ21lbnRlZC1idXR0b25bZGF0YS1sb2FkaW5nPXRydWVdICN2b3QtbG9hZGluZy1pY29ue2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fS52b3Qtc2VnbWVudGVkLWJ1dHRvbltkYXRhLWxvYWRpbmc9dHJ1ZV0gI3ZvdC10cmFuc2xhdGUtaWNvbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS52b3Qtc2VnbWVudGVkLWJ1dHRvbltkYXRhLWRpcmVjdGlvbj1jb2x1bW5de2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtoZWlnaHQ6Zml0LWNvbnRlbnR9LnZvdC1zZWdtZW50ZWQtYnV0dG9uW2RhdGEtZGlyZWN0aW9uPWNvbHVtbl0gLnZvdC1zZWdtZW50LWxhYmVse2Rpc3BsYXk6bm9uZX0udm90LXNlZ21lbnRlZC1idXR0b25bZGF0YS1kaXJlY3Rpb249Y29sdW1uXT4udm90LXNlZ21lbnQtb25seS1pY29uLC52b3Qtc2VnbWVudGVkLWJ1dHRvbltkYXRhLWRpcmVjdGlvbj1jb2x1bW5dPi52b3Qtc2VnbWVudHtwYWRkaW5nOjhweCFpbXBvcnRhbnR9LnZvdC1zZWdtZW50ZWQtYnV0dG9uW2RhdGEtZGlyZWN0aW9uPWNvbHVtbl0gLnZvdC1zZXBhcmF0b3J7d2lkdGg6NTAlO2hlaWdodDoxcHh9LnZvdC1zZWdtZW50ZWQtYnV0dG9uW2RhdGEtcG9zaXRpb249bGVmdF17dG9wOjEyLjV2aDtsZWZ0OjUwcHh9LnZvdC1zZWdtZW50ZWQtYnV0dG9uW2RhdGEtcG9zaXRpb249cmlnaHRde3RvcDoxMi41dmg7bGVmdDphdXRvO3JpZ2h0OjB9LnZvdC1zZWdtZW50ZWQtYnV0dG9uIHN2Z3t3aWR0aDoyNHB4O2ZpbGw6aW5oZXJpdDtzdHJva2U6aW5oZXJpdH0udm90LXRvb2x0aXB7LS12b3QtaGVscGVyLXRoZW1lLXJnYjp2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCk7LS12b3QtaGVscGVyLXRoZW1lOnJnYmEodmFyKC0tdm90LWhlbHBlci10aGVtZS1yZ2IpLC44Nyk7LS12b3QtaGVscGVyLW9uZGlhbG9nOnJnYih2YXIoLS12b3Qtb25kaWFsb2ctcmdiLDM3LDM4LDQwKSk7LS12b3QtaGVscGVyLWJvcmRlcjpyZ2IodmFyKC0tdm90LXRvb2x0aXAtYm9yZGVyLDY5LDY5LDY5KSk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZDpyZ2IodmFyKC0tdm90LXN1cmZhY2UtcmdiLDI1NSwyNTUsMjU1KSk7Y29sb3I6dmFyKC0tdm90LWhlbHBlci10aGVtZSk7ZmlsbDp2YXIoLS12b3QtaGVscGVyLXRoZW1lKTtmb250LWZhbWlseTp2YXIoLS12b3QtZm9udC1mYW1pbHksXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWYpO2N1cnNvcjpkZWZhdWx0O3otaW5kZXg6MjE0NzQ4MzY0NztvcGFjaXR5OjA7YWxpZ24taXRlbXM6Y2VudGVyO3dpZHRoOm1heC1jb250ZW50O21heC13aWR0aDpjYWxjKDEwMHZ3IC0gMTBweCk7aGVpZ2h0Om1heC1jb250ZW50O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNTt0cmFuc2l0aW9uOm9wYWNpdHkgLjVzO2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47Ym94LXNoYWRvdzowIDFweCAzcHggIzAwMDAwMDFmO2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudDtwYWRkaW5nOjRweCA4cHghaW1wb3J0YW50fS52b3QtdG9vbHRpcFtoaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnZvdC10b29sdGlwW2RhdGEtdHJpZ2dlcj1jbGlja117LXdlYmtpdC11c2VyLXNlbGVjdDp0ZXh0O3VzZXItc2VsZWN0OnRleHR9LnZvdC10b29sdGlwLnZvdC10b29sdGlwLWJvcmRlcmVke2JvcmRlcjoxcHggc29saWQgdmFyKC0tdm90LWhlbHBlci1ib3JkZXIpfS52b3QtdG9vbHRpcCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnR9LnZvdC1tZW51ey0tdm90LWhlbHBlci1zdXJmYWNlLXJnYjp2YXIoLS12b3Qtc3VyZmFjZS1yZ2IsMjU1LDI1NSwyNTUpOy0tdm90LWhlbHBlci1zdXJmYWNlOnJnYih2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UtcmdiKSk7LS12b3QtaGVscGVyLW9uc3VyZmFjZS1yZ2I6dmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApOy0tdm90LWhlbHBlci1vbnN1cmZhY2U6cmdiYSh2YXIoLS12b3QtaGVscGVyLW9uc3VyZmFjZS1yZ2IpLC44Nyk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpO2NvbG9yOnZhcigtLXZvdC1oZWxwZXItb25zdXJmYWNlKTtmb250LWZhbWlseTp2YXIoLS12b3QtZm9udC1mYW1pbHksXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWYpO2N1cnNvcjpkZWZhdWx0O3otaW5kZXg6MjE0NzQ4MzY0Nzt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxO3RyYW5zZm9ybS1vcmlnaW46dG9wO21pbi13aWR0aDozMDBweDtmb250LXNpemU6MTZweDtsaW5lLWhlaWdodDoxLjU7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyx0cmFuc2Zvcm0gLjFzO3Bvc2l0aW9uOmFic29sdXRlO3RvcDpjYWxjKDVyZW0gKyA0OHB4KTtsZWZ0OjUwJTtvdmVyZmxvdzpoaWRkZW47dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKXNjYWxlKDEpO2JvcmRlci1yYWRpdXM6OHB4IWltcG9ydGFudH0udm90LW1lbnUgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS52b3QtbWVudVtoaWRkZW5de3BvaW50ZXItZXZlbnRzOm5vbmU7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSlzY2FsZSgwKTtkaXNwbGF5OmJsb2NrIWltcG9ydGFudH0udm90LW1lbnUtY29udGVudC13cmFwcGVye21pbi1oZWlnaHQ6MTAwcHg7bWF4LWhlaWdodDpjYWxjKHZhcigtLXZvdC1jb250YWluZXItaGVpZ2h0LDc1dmgpIC0gKDVyZW0gKyAzMnB4ICsgMTZweCkqMik7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzphdXRvfS52b3QtbWVudS1oZWFkZXItY29udGFpbmVye2ZsZXgtc2hyaW5rOjA7YWxpZ24taXRlbXM6ZmxleC1zdGFydDttaW4taGVpZ2h0OjMxcHg7ZGlzcGxheTpmbGV4fS52b3QtbWVudS1oZWFkZXItY29udGFpbmVyOmVtcHR5e3BhZGRpbmc6MCAwIDE2cHghaW1wb3J0YW50fS52b3QtbWVudS1oZWFkZXItY29udGFpbmVyPi52b3QtaWNvbi1idXR0b257bWFyZ2luLWlubGluZS1lbmQ6NHB4IWltcG9ydGFudDttYXJnaW4tdG9wOjRweCFpbXBvcnRhbnR9LnZvdC1tZW51LXRpdGxlLWNvbnRhaW5lcntmb250LXNpemU6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0O3RleHQtYWxpZ246c3RhcnQ7b3V0bGluZTowO2ZsZXg6MTtkaXNwbGF5OmZsZXg7bWFyZ2luOjAhaW1wb3J0YW50fS52b3QtbWVudS10aXRsZXtmbGV4OjE7Zm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6NDAwO2xpbmUtaGVpZ2h0OjE7cGFkZGluZzoxNnB4IWltcG9ydGFudH0udm90LW1lbnUtYm9keS1jb250YWluZXJ7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJzY3JvbGwtYmVoYXZpb3I6Y29udGFpbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Z2FwOjhweDttaW4taGVpZ2h0OjEuMzc1cmVtO2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzphdXRvO3Njcm9sbGJhci1jb2xvcjpyZ2JhKHZhcigtLXZvdC1oZWxwZXItb25zdXJmYWNlLXJnYiksLjEpdmFyKC0tdm90LWhlbHBlci1zdXJmYWNlKSFpbXBvcnRhbnQ7cGFkZGluZzowIDE2cHghaW1wb3J0YW50fS52b3QtbWVudS1ib2R5LWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXJ7YmFja2dyb3VuZDp2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpIWltcG9ydGFudDt3aWR0aDoxMnB4IWltcG9ydGFudDtoZWlnaHQ6MTJweCFpbXBvcnRhbnR9LnZvdC1tZW51LWJvZHktY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10cmFja3tiYWNrZ3JvdW5kOnZhcigtLXZvdC1oZWxwZXItc3VyZmFjZSkhaW1wb3J0YW50O3dpZHRoOjEycHghaW1wb3J0YW50O2hlaWdodDoxMnB4IWltcG9ydGFudH0udm90LW1lbnUtYm9keS1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie2JhY2tncm91bmQ6cmdiYSh2YXIoLS12b3QtaGVscGVyLW9uc3VyZmFjZS1yZ2IpLC4xKSFpbXBvcnRhbnQ7Ym9yZGVyOjVweCBzb2xpZCB2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpIWltcG9ydGFudDstd2Via2l0LWJvcmRlci1yYWRpdXM6MWV4IWltcG9ydGFudH0udm90LW1lbnUtYm9keS1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVye2JvcmRlcjozcHggc29saWQgdmFyKC0tdm90LWhlbHBlci1zdXJmYWNlKSFpbXBvcnRhbnR9LnZvdC1tZW51LWJvZHktY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXJ7YmFja2dyb3VuZDp2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpIWltcG9ydGFudH0udm90LW1lbnUtZm9vdGVyLWNvbnRhaW5lcntmbGV4LXNocmluazowO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtkaXNwbGF5OmZsZXg7cGFkZGluZzoxNnB4IWltcG9ydGFudH0udm90LW1lbnUtZm9vdGVyLWNvbnRhaW5lcjplbXB0eXtwYWRkaW5nOjE2cHggMCAwIWltcG9ydGFudH0udm90LW1lbnVbZGF0YS1wb3NpdGlvbj1sZWZ0XXt0cmFuc2Zvcm0tb3JpZ2luOjA7dG9wOjEyLjV2aDtsZWZ0OjI0MHB4fS52b3QtbWVudVtkYXRhLXBvc2l0aW9uPXJpZ2h0XXt0cmFuc2Zvcm0tb3JpZ2luOjEwMCU7dG9wOjEyLjV2aDtsZWZ0OmF1dG87cmlnaHQ6LTgwcHh9LnZvdC1kaWFsb2d7LS12b3QtaGVscGVyLXN1cmZhY2UtcmdiOnZhcigtLXZvdC1zdXJmYWNlLXJnYiwyNTUsMjU1LDI1NSk7LS12b3QtaGVscGVyLXN1cmZhY2U6cmdiKHZhcigtLXZvdC1oZWxwZXItc3VyZmFjZS1yZ2IpKTstLXZvdC1oZWxwZXItb25zdXJmYWNlLXJnYjp2YXIoLS12b3Qtb25zdXJmYWNlLXJnYiwwLDAsMCk7LS12b3QtaGVscGVyLW9uc3VyZmFjZTpyZ2JhKHZhcigtLXZvdC1oZWxwZXItb25zdXJmYWNlLXJnYiksLjg3KTttYXgtd2lkdGg6aW5pdGlhbDttYXgtaGVpZ2h0OmluaXRpYWw7d2lkdGg6bWluKHZhcigtLXZvdC1kaWFsb2ctd2lkdGgsNTEycHgpLDEwMCUpO3RvcDo1MCU7Ym90dG9tOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZvdC1oZWxwZXItc3VyZmFjZSk7aGVpZ2h0OmZpdC1jb250ZW50O2NvbG9yOnZhcigtLXZvdC1oZWxwZXItb25zdXJmYWNlKTtmb250LWZhbWlseTp2YXIoLS12b3QtZm9udC1mYW1pbHksXCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWYpOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjE7dHJhbnNmb3JtLW9yaWdpbjo1MCU7Ym9yZGVyLXJhZGl1czo4cHg7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MS41O3RyYW5zaXRpb246b3BhY2l0eSAuM3MsdHJhbnNmb3JtIC4xcztkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmZpeGVkO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO292ZXJmbG93LXg6YXV0bztvdmVyZmxvdy15OmhpZGRlbjt0cmFuc2Zvcm06c2NhbGUoMSk7Ym94LXNoYWRvdzowIDAgMTZweCAjMDAwMDAwMWYsMCAxNnB4IDE2cHggIzAwMDAwMDNkO21hcmdpbjphdXRvIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50fVtoaWRkZW5dPi52b3QtZGlhbG9ne3BvaW50ZXItZXZlbnRzOm5vbmU7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuMXMsdHJhbnNmb3JtIC4yczt0cmFuc2Zvcm06c2NhbGUoLjUpfS52b3QtZGlhbG9nLWNvbnRhaW5lcnt2aXNpYmlsaXR5OnZpc2libGU7ei1pbmRleDoyMTQ3NDgzNjQ3O3Bvc2l0aW9uOmFic29sdXRlfS52b3QtZGlhbG9nLWNvbnRhaW5lcltoaWRkZW5de3BvaW50ZXItZXZlbnRzOm5vbmU7dmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9LnZvdC1kaWFsb2ctY29udGFpbmVyICp7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudH0udm90LWRpYWxvZy1iYWNrZHJvcHtvcGFjaXR5OjE7YmFja2dyb3VuZC1jb2xvcjojMDAwOTt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzO3Bvc2l0aW9uOmZpeGVkO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowfVtoaWRkZW5dPi52b3QtZGlhbG9nLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOm5vbmU7b3BhY2l0eTowfS52b3QtZGlhbG9nLWNvbnRlbnQtd3JhcHBlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47bWF4LWhlaWdodDo3NXZoO2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzphdXRvfS52b3QtZGlhbG9nLWhlYWRlci1jb250YWluZXJ7ZmxleC1zaHJpbms6MDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O21pbi1oZWlnaHQ6MzFweDtkaXNwbGF5OmZsZXh9LnZvdC1kaWFsb2ctaGVhZGVyLWNvbnRhaW5lcjplbXB0eXtwYWRkaW5nOjAgMCAyMHB4fS52b3QtZGlhbG9nLWhlYWRlci1jb250YWluZXI+LnZvdC1pY29uLWJ1dHRvbnttYXJnaW4taW5saW5lLWVuZDo0cHghaW1wb3J0YW50O21hcmdpbi10b3A6NHB4IWltcG9ydGFudH0udm90LWRpYWxvZy10aXRsZS1jb250YWluZXJ7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdDtvdXRsaW5lOjA7ZmxleDoxO2Rpc3BsYXk6ZmxleDttYXJnaW46MCFpbXBvcnRhbnR9LnZvdC1kaWFsb2ctdGl0bGV7ZmxleDoxO2ZvbnQtc2l6ZToxMTUuMzg1JTtmb250LXdlaWdodDo3MDA7bGluZS1oZWlnaHQ6MTtwYWRkaW5nOjIwcHggMjBweCAxNnB4IWltcG9ydGFudH0udm90LWRpYWxvZy1ib2R5LWNvbnRhaW5lcntib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcnNjcm9sbC1iZWhhdmlvcjpjb250YWluO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MTZweDttaW4taGVpZ2h0OjEuMzc1cmVtO2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzphdXRvO3Njcm9sbGJhci1jb2xvcjpyZ2JhKHZhcigtLXZvdC1oZWxwZXItb25zdXJmYWNlLXJnYiksLjEpdmFyKC0tdm90LWhlbHBlci1zdXJmYWNlKSFpbXBvcnRhbnQ7cGFkZGluZzowIDIwcHghaW1wb3J0YW50fS52b3QtZGlhbG9nLWJvZHktY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhcntiYWNrZ3JvdW5kOnZhcigtLXZvdC1oZWxwZXItc3VyZmFjZSkhaW1wb3J0YW50O3dpZHRoOjEycHghaW1wb3J0YW50O2hlaWdodDoxMnB4IWltcG9ydGFudH0udm90LWRpYWxvZy1ib2R5LWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2t7YmFja2dyb3VuZDp2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpIWltcG9ydGFudDt3aWR0aDoxMnB4IWltcG9ydGFudDtoZWlnaHQ6MTJweCFpbXBvcnRhbnR9LnZvdC1kaWFsb2ctYm9keS1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie2JhY2tncm91bmQ6cmdiYSh2YXIoLS12b3QtaGVscGVyLW9uc3VyZmFjZS1yZ2IpLC4xKSFpbXBvcnRhbnQ7Ym9yZGVyOjVweCBzb2xpZCB2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpIWltcG9ydGFudDstd2Via2l0LWJvcmRlci1yYWRpdXM6MWV4IWltcG9ydGFudH0udm90LWRpYWxvZy1ib2R5LWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXJ7Ym9yZGVyOjNweCBzb2xpZCB2YXIoLS12b3QtaGVscGVyLXN1cmZhY2UpIWltcG9ydGFudH0udm90LWRpYWxvZy1ib2R5LWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVye2JhY2tncm91bmQ6dmFyKC0tdm90LWhlbHBlci1zdXJmYWNlKSFpbXBvcnRhbnR9LnZvdC1kaWFsb2ctZm9vdGVyLWNvbnRhaW5lcntmbGV4LXNocmluazowO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtkaXNwbGF5OmZsZXg7cGFkZGluZzoxNnB4IWltcG9ydGFudH0udm90LWRpYWxvZy1mb290ZXItY29udGFpbmVyOmVtcHR5e3BhZGRpbmc6MjBweCAwIDAhaW1wb3J0YW50fS52b3QtaW5saW5lLWxvYWRlcnthc3BlY3QtcmF0aW86NTstLXZvdC1sb2FkZXItYmc6bm8tcmVwZWF0IHJhZGlhbC1ncmFkaWVudChmYXJ0aGVzdC1zaWRlLHJnYmEodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMCwwLDApLC4zOCk5NCUsdHJhbnNwYXJlbnQpO2JhY2tncm91bmQ6dmFyKC0tdm90LWxvYWRlci1iZyksdmFyKC0tdm90LWxvYWRlci1iZyksdmFyKC0tdm90LWxvYWRlci1iZyksdmFyKC0tdm90LWxvYWRlci1iZyk7YmFja2dyb3VuZC1zaXplOjIwJSAxMDAlO2hlaWdodDo4cHg7YW5pbWF0aW9uOi43NXMgaW5maW5pdGUgYWx0ZXJuYXRlIGRvdHNTbGlkZSwxLjVzIGluZmluaXRlIGFsdGVybmF0ZSBkb3RzRmxpcH0udm90LWxvYWRlci10ZXh0ey0tdm90LWhlbHBlci10aGVtZTp2YXIoLS12b3QtdGhlbWUtcmdiLHZhcigtLXZvdC1wcmltYXJ5LXJnYiwzMywxNTAsMjQzKSk7ZmlsbDpyZ2IodmFyKC0tdm90LWhlbHBlci10aGVtZSkpO2ZvbnQtZmFtaWx5OnZhcigtLXZvdC1mb250LWZhbWlseSxcIlJvYm90b1wiLFwiU2Vnb2UgVUlcIixzeXN0ZW0tdWksc2Fucy1zZXJpZik7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NTAwfUBrZXlmcmFtZXMgZG90c1NsaWRlezAlLDEwJXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMCwwIDAsMCAwLDAgMH0zMyV7YmFja2dyb3VuZC1wb3NpdGlvbjowIDAsMzMuMzMzMyUgMCwzMy4zMzMzJSAwLDMzLjMzMzMlIDB9NjYle2JhY2tncm91bmQtcG9zaXRpb246MCAwLDMzLjMzMzMlIDAsNjYuNjY2NyUgMCw2Ni42NjY3JSAwfTkwJSx0b3tiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMCwzMy4zMzMzJSAwLDY2LjY2NjclIDAsMTAwJSAwfX1Aa2V5ZnJhbWVzIGRvdHNGbGlwezAlLDQ5Ljk5JXt0cmFuc2Zvcm06c2NhbGUoMSl9NTAlLHRve3RyYW5zZm9ybTpzY2FsZSgtMSl9fS52b3QtbGFiZWx7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo0cHg7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6MTZweDtkaXNwbGF5OmZsZXh9LnZvdC1sYWJlbC1pY29ue3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLXRvcDoycHh9LnZvdC1sYWJlbC1pY29uPnN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS52b3QtYWNjb3VudHtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjFyZW07ZGlzcGxheTpmbGV4fS52b3QtYWNjb3VudC1jb250YWluZXIsLnZvdC1hY2NvdW50LXdyYXBwZXIsLnZvdC1hY2NvdW50LWJ1dHRvbnN7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxcmVtO2Rpc3BsYXk6ZmxleH0udm90LWFjY291bnQtYXZhdGFye21pbi13aWR0aDozNnB4O21heC13aWR0aDozNnB4O21pbi1oZWlnaHQ6MzZweDttYXgtaGVpZ2h0OjM2cHg7b3ZlcmZsb3c6aGlkZGVufS52b3QtYWNjb3VudC1hdmF0YXItaW1ne29iamVjdC1maXQ6Y292ZXI7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MzZweDtoZWlnaHQ6MzZweH0udm90LWFjY291bnQgW2hpZGRlbl17ZGlzcGxheTpub25lIWltcG9ydGFudH0udm90LXN1YnRpdGxlc3stLXZvdC1zdWJ0aXRsZXMtYmFja2dyb3VuZDpyZ2JhKHZhcigtLXZvdC1zdXJmYWNlLXJnYiw0Niw0Nyw1MiksdmFyKC0tdm90LXN1YnRpdGxlcy1vcGFjaXR5LC44KSk7YmFja2dyb3VuZDp2YXIoLS12b3Qtc3VidGl0bGVzLWJhY2tncm91bmQsIzJlMmYzNGNjKTt3aWR0aDptYXgtY29udGVudDttYXgtd2lkdGg6MTAwJTttYXgtaGVpZ2h0OjEwMCU7Y29sb3I6dmFyKC0tdm90LXN1YnRpdGxlcy1jb2xvciwjZTNlM2UzKTtwb2ludGVyLWV2ZW50czphbGw7Zm9udC1zaXplOjIwcHg7Zm9udC1mYW1pbHk6dmFyKC0tdm90LWZvbnQtZmFtaWx5LFwiUm9ib3RvXCIsXCJTZWdvZSBVSVwiLHN5c3RlbS11aSxzYW5zLXNlcmlmKTtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ZmxleC13cmFwOndyYXA7Z2FwOjAgM3B4O2xpbmUtaGVpZ2h0Om5vcm1hbDtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXJhZGl1czouNWVtIWltcG9ydGFudDtwYWRkaW5nOi41ZW0haW1wb3J0YW50fS52b3Qtc3VidGl0bGVzLXdpZGdldHt6LWluZGV4OjIxNDc0ODM2NDc7cG9pbnRlci1ldmVudHM6bm9uZTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDo1MCU7bWluLWhlaWdodDoyMCU7bWF4LWhlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NzUlO2xlZnQ6MjUlfS52b3Qtc3VidGl0bGVzLWluZm97ZmxleC1kaXJlY3Rpb246Y29sdW1uO2dhcDoycHg7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NnB4IWltcG9ydGFudH0udm90LXN1YnRpdGxlcy1pbmZvLXNlcnZpY2V7Y29sb3I6dmFyKC0tdm90LXN1YnRpdGxlcy1jb250ZXh0LWNvbG9yLCM4NjkxOWIpO21hcmdpbi1ib3R0b206OHB4IWltcG9ydGFudDtmb250LXNpemU6MTBweCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MSFpbXBvcnRhbnR9LnZvdC1zdWJ0aXRsZXMtaW5mby1oZWFkZXJ7Y29sb3I6dmFyKC0tdm90LXN1YnRpdGxlcy1oZWFkZXItY29sb3IsI2ZmZik7bWFyZ2luLWJvdHRvbTo2cHghaW1wb3J0YW50O2ZvbnQtc2l6ZToyMHB4IWltcG9ydGFudDtmb250LXdlaWdodDo1MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEhaW1wb3J0YW50fS52b3Qtc3VidGl0bGVzLWluZm8tY29udGV4dHtjb2xvcjp2YXIoLS12b3Qtc3VidGl0bGVzLWNvbnRleHQtY29sb3IsIzg2OTE5Yik7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuMiFpbXBvcnRhbnR9LnZvdC1zdWJ0aXRsZXMgc3BhbntjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTtmb250LXNpemU6aW5oZXJpdCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6aW5oZXJpdCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6bm9ybWFsIWltcG9ydGFudH0udm90LXN1YnRpdGxlcyBzcGFuLnBhc3NlZHtjb2xvcjp2YXIoLS12b3Qtc3VidGl0bGVzLXBhc3NlZC1jb2xvciwjMjE5NmYzKX0udm90LXN1YnRpdGxlcyBzcGFuOmJlZm9yZXtjb250ZW50OlwiXCI7ei1pbmRleDotMTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoycHg7Ym90dG9tOjJweDtsZWZ0Oi0ycHg7cmlnaHQ6LTJweDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7cGFkZGluZzowIDJweCFpbXBvcnRhbnR9LnZvdC1zdWJ0aXRsZXMgc3Bhbjpob3ZlcjpiZWZvcmV7YmFja2dyb3VuZDp2YXIoLS12b3Qtc3VidGl0bGVzLWhvdmVyLWNvbG9yLCNmZmZmZmY4Yyl9LnZvdC1zdWJ0aXRsZXMgc3Bhbi5zZWxlY3RlZDpiZWZvcmV7YmFja2dyb3VuZDp2YXIoLS12b3Qtc3VidGl0bGVzLXBhc3NlZC1jb2xvciwjMjE5NmYzKX0jdm90LXN1YnRpdGxlcy1pbmZvLnZvdC1zdWJ0aXRsZXMtaW5mbyAqey13ZWJraXQtdXNlci1zZWxlY3Q6dGV4dCFpbXBvcnRhbnQ7dXNlci1zZWxlY3Q6dGV4dCFpbXBvcnRhbnR9OnJvb3R7LS12b3QtZm9udC1mYW1pbHk6XCJSb2JvdG9cIixcIlNlZ29lIFVJXCIsc3lzdGVtLXVpLHNhbnMtc2VyaWY7LS12b3QtcHJpbWFyeS1yZ2I6MTM5LDE4MCwyNDU7LS12b3Qtb25wcmltYXJ5LXJnYjozMiwzMywzNjstLXZvdC1zdXJmYWNlLXJnYjozMiwzMywzNjstLXZvdC1vbnN1cmZhY2UtcmdiOjIyNywyMjcsMjI3Oy0tdm90LXN1YnRpdGxlcy1jb2xvcjpyZ2IodmFyKC0tdm90LW9uc3VyZmFjZS1yZ2IsMjI3LDIyNywyMjcpKTstLXZvdC1zdWJ0aXRsZXMtcGFzc2VkLWNvbG9yOnJnYih2YXIoLS12b3QtcHJpbWFyeS1yZ2IsMzMsMTUwLDI0MykpfXZvdC1ibG9ja3tmb250LWZhbWlseTppbmhlcml0O2Rpc3BsYXk6YmxvY2s7dmlzaWJpbGl0eTp2aXNpYmxlIWltcG9ydGFudH0udm90LXBvcnRhbHtkaXNwbGF5OmlubGluZX0udm90LXBvcnRhbC1sb2NhbHt6LWluZGV4OjIxNDc0ODM2NDc7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowfSIpOwoJCX0sCgkJIi4vc3JjL3N1YnRpdGxlcy5qcyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7CgkJCQkJCUk6ICgpID0+IFN1YnRpdGxlc1Byb2Nlc3NvciwKCQkJCQkJbzogKCkgPT4gU3VidGl0bGVzV2lkZ2V0CgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L2hlbHBlcnMveW91dHViZS5qcyIpLCBnID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC91dGlscy9zdWJzLmpzIiksIF8gPSBwKCIuL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIpLCB2ID0gcCgiLi9zcmMvY29uZmlnL2NvbmZpZy5qcyIpLCBiID0gcCgiLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblByb3ZpZGVyLnRzIiksIHggPSBwKCIuL3NyYy91aS5qcyIpLCBDID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy90b29sdGlwLnRzIiksIHcgPSBwKCIuL3NyYy91dGlscy9nbS50cyIpLCBUID0gcCgiLi9zcmMvdXRpbHMvbG9jYWxpemF0aW9uLnRzIiksIEUgPSBwKCIuL3NyYy91dGlscy9zdG9yYWdlLnRzIiksIEQgPSBwKCIuL3NyYy91dGlscy90cmFuc2xhdGVBcGlzLnRzIiksIE8gPSBwKCIuL3NyYy91dGlscy91dGlscy50cyIpLCBBID0gZChbCgkJCQkJCWIsCgkJCQkJCXgsCgkJCQkJCUMsCgkJCQkJCXcsCgkJCQkJCVQsCgkJCQkJCUUsCgkJCQkJCUQsCgkJCQkJCU8KCQkJCQldKTsKCQkJCQlbYiwgeCwgQywgdywgVCwgRSwgRCwgT10gPSBBLnRoZW4gPyAoYXdhaXQgQSkoKSA6IEE7CgkJCQkJY2xhc3MgU3VidGl0bGVzUHJvY2Vzc29yIHsKCQkJCQkJc3RhdGljIGZvcm1hdFlhbmRleFRva2VucyhkKSB7CgkJCQkJCQlsZXQgZiA9IGQuc3RhcnRNcyArIGQuZHVyYXRpb25NczsKCQkJCQkJCXJldHVybiBkLnRva2Vucy5yZWR1Y2UoKHAsIG0sIGgpID0+IHsKCQkJCQkJCQlsZXQgZyA9IGQudG9rZW5zW2ggKyAxXSwgXyA9IHBbcC5sZW5ndGggLSAxXSwgdiA9IF8/LmFsaWduUmFuZ2U/LmVuZCA/PyAwLCBiID0gdiArIG0udGV4dC5sZW5ndGg7CgkJCQkJCQkJaWYgKG0uYWxpZ25SYW5nZSA9IHsKCQkJCQkJCQkJc3RhcnQ6IHYsCgkJCQkJCQkJCWVuZDogYgoJCQkJCQkJCX0sIHAucHVzaChtKSwgZykgewoJCQkJCQkJCQlsZXQgZCA9IG0uc3RhcnRNcyArIG0uZHVyYXRpb25NcywgaCA9IGcuc3RhcnRNcyA/IGcuc3RhcnRNcyAtIGQgOiBmIC0gZDsKCQkJCQkJCQkJcC5wdXNoKHsKCQkJCQkJCQkJCXRleHQ6ICIgIiwKCQkJCQkJCQkJCXN0YXJ0TXM6IGQsCgkJCQkJCQkJCQlkdXJhdGlvbk1zOiBoLAoJCQkJCQkJCQkJYWxpZ25SYW5nZTogewoJCQkJCQkJCQkJCXN0YXJ0OiBiLAoJCQkJCQkJCQkJCWVuZDogYiArIDEKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSk7CgkJCQkJCQkJfQoJCQkJCQkJCXJldHVybiBwOwoJCQkJCQkJfSwgW10pOwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBjcmVhdGVUb2tlbnMoZCwgZikgewoJCQkJCQkJbGV0IHAgPSBkLnRleHQuc3BsaXQoLyhbXG4gXHRdKS8pLnJlZHVjZSgoZCwgcCkgPT4gewoJCQkJCQkJCWlmICghcC5sZW5ndGgpIHJldHVybiBkOwoJCQkJCQkJCWxldCBtID0gZFtkLmxlbmd0aCAtIDFdID8/IGYsIGggPSBtPy5hbGlnblJhbmdlPy5lbmQgPz8gMCwgZyA9IGggKyBwLmxlbmd0aDsKCQkJCQkJCQlyZXR1cm4gZC5wdXNoKHsKCQkJCQkJCQkJdGV4dDogcCwKCQkJCQkJCQkJYWxpZ25SYW5nZTogewoJCQkJCQkJCQkJc3RhcnQ6IGgsCgkJCQkJCQkJCQllbmQ6IGcKCQkJCQkJCQkJfQoJCQkJCQkJCX0pLCBkOwoJCQkJCQkJfSwgW10pLCBtID0gTWF0aC5mbG9vcihkLmR1cmF0aW9uTXMgLyBwLmxlbmd0aCksIGggPSBkLnN0YXJ0TXMgKyBkLmR1cmF0aW9uTXM7CgkJCQkJCQlyZXR1cm4gcC5tYXAoKGYsIGcpID0+IHsKCQkJCQkJCQlsZXQgXyA9IGcgPT09IHAubGVuZ3RoIC0gMSwgdiA9IGQuc3RhcnRNcyArIG0gKiBnLCBiID0gXyA/IGggLSB2IDogbTsKCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkuLi5mLAoJCQkJCQkJCQlzdGFydE1zOiB2LAoJCQkJCQkJCQlkdXJhdGlvbk1zOiBiCgkJCQkJCQkJfTsKCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBwcm9jZXNzVG9rZW5zKGQsIGYpIHsKCQkJCQkJCWxldCBwID0gW10sIG0sIHsgc291cmNlOiBoLCBpc0F1dG9HZW5lcmF0ZWQ6IGcgfSA9IGY7CgkJCQkJCQlmb3IgKGxldCBmIG9mIGQuc3VidGl0bGVzKSB7CgkJCQkJCQkJbGV0IGQgPSBmPy50b2tlbnM/Lmxlbmd0aCwgXyA9IGQgJiYgKGggPT09ICJ5YW5kZXgiIHx8IGggPT09ICJ5b3V0dWJlIiAmJiBnKSA/IFN1YnRpdGxlc1Byb2Nlc3Nvci5mb3JtYXRZYW5kZXhUb2tlbnMoZikgOiBTdWJ0aXRsZXNQcm9jZXNzb3IuY3JlYXRlVG9rZW5zKGYsIG0pOwoJCQkJCQkJCW0gPSBfW18ubGVuZ3RoIC0gMV0sIHAucHVzaCh7CgkJCQkJCQkJCS4uLmYsCgkJCQkJCQkJCXRva2VuczogXwoJCQkJCQkJCX0pOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIGQuY29udGFpbnNUb2tlbnMgPSAhMCwgcDsKCQkJCQkJfQoJCQkJCQlzdGF0aWMgZm9ybWF0WW91dHViZVN1YnRpdGxlcyhkLCBmID0gITEpIHsKCQkJCQkJCWlmICghZD8uZXZlbnRzPy5sZW5ndGgpIHJldHVybiBjb25zb2xlLmVycm9yKCJbVk9UXSBJbnZhbGlkIFlvdVR1YmUgc3VidGl0bGVzIGZvcm1hdDoiLCBkKSwgewoJCQkJCQkJCWNvbnRhaW5zVG9rZW5zOiBmLAoJCQkJCQkJCXN1YnRpdGxlczogW10KCQkJCQkJCX07CgkJCQkJCQlsZXQgcCA9IHsKCQkJCQkJCQljb250YWluc1Rva2VuczogZiwKCQkJCQkJCQlzdWJ0aXRsZXM6IFtdCgkJCQkJCQl9OwoJCQkJCQkJZm9yIChsZXQgbSA9IDA7IG0gPCBkLmV2ZW50cy5sZW5ndGg7IG0rKykgewoJCQkJCQkJCWxldCBoID0gZC5ldmVudHNbbV07CgkJCQkJCQkJaWYgKCFoLnNlZ3MpIGNvbnRpbnVlOwoJCQkJCQkJCWxldCBnID0gaC5kRHVyYXRpb25NczsKCQkJCQkJCQlkLmV2ZW50c1ttICsgMV0gJiYgaC50U3RhcnRNcyArIGguZER1cmF0aW9uTXMgPiBkLmV2ZW50c1ttICsgMV0udFN0YXJ0TXMgJiYgKGcgPSBkLmV2ZW50c1ttICsgMV0udFN0YXJ0TXMgLSBoLnRTdGFydE1zKTsKCQkJCQkJCQlsZXQgXyA9IFtdLCB2ID0gZzsKCQkJCQkJCQlmb3IgKGxldCBkID0gMDsgZCA8IGguc2Vncy5sZW5ndGg7IGQrKykgewoJCQkJCQkJCQlsZXQgZiA9IGguc2Vnc1tkXSwgcCA9IGYudXRmOC50cmltKCk7CgkJCQkJCQkJCWlmIChwID09PSAiXG4iKSBjb250aW51ZTsKCQkJCQkJCQkJbGV0IG0gPSBmLnRPZmZzZXRNcyA/PyAwLCBiID0gZywgeCA9IGguc2Vnc1tkICsgMV07CgkJCQkJCQkJCXg/LnRPZmZzZXRNcyAmJiAoYiA9IHgudE9mZnNldE1zIC0gbSwgdiAtPSBiKSwgXy5wdXNoKHsKCQkJCQkJCQkJCXRleHQ6IHAsCgkJCQkJCQkJCQlzdGFydE1zOiBoLnRTdGFydE1zICsgbSwKCQkJCQkJCQkJCWR1cmF0aW9uTXM6IHggPyBiIDogdgoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9CgkJCQkJCQkJbGV0IGIgPSBfLm1hcCgoZCkgPT4gZC50ZXh0KS5qb2luKCIgIik7CgkJCQkJCQkJYiAmJiBwLnN1YnRpdGxlcy5wdXNoKHsKCQkJCQkJCQkJdGV4dDogYiwKCQkJCQkJCQkJc3RhcnRNczogaC50U3RhcnRNcywKCQkJCQkJCQkJZHVyYXRpb25NczogZywKCQkJCQkJCQkJLi4uZiA/IHsgdG9rZW5zOiBfIH0gOiB7fQoJCQkJCQkJCX0pOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHA7CgkJCQkJCX0KCQkJCQkJc3RhdGljIGNsZWFuSnNvblN1YnRpdGxlcyhkKSB7CgkJCQkJCQlsZXQgeyBjb250YWluc1Rva2VuczogZiwgc3VidGl0bGVzOiBwIH0gPSBkOwoJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQljb250YWluc1Rva2VuczogZiwKCQkJCQkJCQlzdWJ0aXRsZXM6IHAubWFwKChkKSA9PiAoewoJCQkJCQkJCQkuLi5kLAoJCQkJCQkJCQl0ZXh0OiBkLnRleHQucmVwbGFjZSgvKDwoW14+XSspPikvZ2ksICIiKQoJCQkJCQkJCX0pKQoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlzdGF0aWMgYXN5bmMgZmV0Y2hTdWJ0aXRsZXMoZCkgewoJCQkJCQkJbGV0IHsgc291cmNlOiBmLCBpc0F1dG9HZW5lcmF0ZWQ6IHAsIGZvcm1hdDogbSB9ID0gZCwgeyB1cmw6IF8gfSA9IGQ7CgkJCQkJCQlpZiAoZiA9PT0gInlvdXR1YmUiKSB7CgkJCQkJCQkJbGV0IGQgPSBoLkEuZ2V0UG9Ub2tlbigpOwoJCQkJCQkJCWlmIChkKSB7CgkJCQkJCQkJCWxldCBmID0gaC5BLmdldERldmljZVBhcmFtcygpOwoJCQkJCQkJCQlfICs9IGAmcG90Yz0xJnBvdD0ke2R9JiR7Zn1gOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCXRyeSB7CgkJCQkJCQkJbGV0IGggPSBhd2FpdCAoMCwgdy5HMykoXywgeyB0aW1lb3V0OiA3ZTMgfSksIHY7CgkJCQkJCQkJaWYgKFsidnR0IiwgInNydCJdLmluY2x1ZGVzKG0pKSB7CgkJCQkJCQkJCWxldCBkID0gYXdhaXQgaC50ZXh0KCk7CgkJCQkJCQkJCXYgPSAoMCwgZy52aykoZCwgImpzb24iKTsKCQkJCQkJCQl9IGVsc2UgdiA9IGF3YWl0IGguanNvbigpOwoJCQkJCQkJCXJldHVybiBmID09PSAieW91dHViZSIgPyB2ID0gU3VidGl0bGVzUHJvY2Vzc29yLmZvcm1hdFlvdXR1YmVTdWJ0aXRsZXModiwgcCkgOiBmID09PSAidmsiICYmICh2ID0gU3VidGl0bGVzUHJvY2Vzc29yLmNsZWFuSnNvblN1YnRpdGxlcyh2KSksIHYuc3VidGl0bGVzID0gU3VidGl0bGVzUHJvY2Vzc29yLnByb2Nlc3NUb2tlbnModiwgZCksIGNvbnNvbGUubG9nKCJbVk9UXSBQcm9jZXNzZWQgc3VidGl0bGVzOiIsIHYpLCB2OwoJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCXJldHVybiBjb25zb2xlLmVycm9yKCJbVk9UXSBGYWlsZWQgdG8gcHJvY2VzcyBzdWJ0aXRsZXM6IiwgZCksIHsKCQkJCQkJCQkJY29udGFpbnNUb2tlbnM6ICExLAoJCQkJCQkJCQlzdWJ0aXRsZXM6IFtdCgkJCQkJCQkJfTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlzdGF0aWMgYXN5bmMgZ2V0U3VidGl0bGVzKGQsIGYpIHsKCQkJCQkJCWxldCB7IGhvc3Q6IHAsIHVybDogbSwgZGV0ZWN0ZWRMYW5ndWFnZTogaCwgdmlkZW9JZDogZywgZHVyYXRpb246IF8sIHN1YnRpdGxlczogdiA9IFtdIH0gPSBmOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgZiA9IGF3YWl0IFByb21pc2UucmFjZShbZC5nZXRTdWJ0aXRsZXMoewoJCQkJCQkJCQl2aWRlb0RhdGE6IHsKCQkJCQkJCQkJCWhvc3Q6IHAsCgkJCQkJCQkJCQl1cmw6IG0sCgkJCQkJCQkJCQl2aWRlb0lkOiBnLAoJCQkJCQkJCQkJZHVyYXRpb246IF8KCQkJCQkJCQkJfSwKCQkJCQkJCQkJcmVxdWVzdExhbmc6IGgKCQkJCQkJCQl9KSwgKDAsIE8ud1IpKDVlMywgIlRpbWVvdXQiKV0pOwoJCQkJCQkJCWNvbnNvbGUubG9nKCJbVk9UXSBTdWJ0aXRsZXMgcmVzcG9uc2U6IiwgZiksIGYud2FpdGluZyAmJiBjb25zb2xlLmVycm9yKCJbVk9UXSBGYWlsZWQgdG8gZ2V0IFlhbmRleCBzdWJ0aXRsZXMiKTsKCQkJCQkJCQlsZXQgYiA9IChmLnN1YnRpdGxlcyA/PyBbXSkucmVkdWNlKChkLCBmKSA9PiAoZi5sYW5ndWFnZSAmJiAhZC5maW5kKChkKSA9PiBkLnNvdXJjZSA9PT0gInlhbmRleCIgJiYgZC5sYW5ndWFnZSA9PT0gZi5sYW5ndWFnZSAmJiAhZC50cmFuc2xhdGVkRnJvbUxhbmd1YWdlKSAmJiBkLnB1c2goewoJCQkJCQkJCQlzb3VyY2U6ICJ5YW5kZXgiLAoJCQkJCQkJCQlmb3JtYXQ6ICJqc29uIiwKCQkJCQkJCQkJbGFuZ3VhZ2U6IGYubGFuZ3VhZ2UsCgkJCQkJCQkJCXVybDogZi51cmwKCQkJCQkJCQl9KSwgZi50cmFuc2xhdGVkTGFuZ3VhZ2UgJiYgZC5wdXNoKHsKCQkJCQkJCQkJc291cmNlOiAieWFuZGV4IiwKCQkJCQkJCQkJZm9ybWF0OiAianNvbiIsCgkJCQkJCQkJCWxhbmd1YWdlOiBmLnRyYW5zbGF0ZWRMYW5ndWFnZSwKCQkJCQkJCQkJdHJhbnNsYXRlZEZyb21MYW5ndWFnZTogZi5sYW5ndWFnZSwKCQkJCQkJCQkJdXJsOiBmLnRyYW5zbGF0ZWRVcmwKCQkJCQkJCQl9KSwgZCksIFtdKTsKCQkJCQkJCQlyZXR1cm4gWy4uLmIsIC4uLnZdLnNvcnQoKGQsIGYpID0+IHsKCQkJCQkJCQkJaWYgKGQuc291cmNlICE9PSBmLnNvdXJjZSkgcmV0dXJuIGQuc291cmNlID09PSAieWFuZGV4IiA/IC0xIDogMTsKCQkJCQkJCQkJaWYgKGQubGFuZ3VhZ2UgIT09IGYubGFuZ3VhZ2UgJiYgKGQubGFuZ3VhZ2UgPT09IFQudiB8fCBmLmxhbmd1YWdlID09PSBULnYpKSByZXR1cm4gZC5sYW5ndWFnZSA9PT0gVC52ID8gLTEgOiAxOwoJCQkJCQkJCQlpZiAoZC5zb3VyY2UgPT09ICJ5YW5kZXgiKSB7CgkJCQkJCQkJCQlpZiAoZC50cmFuc2xhdGVkRnJvbUxhbmd1YWdlICE9PSBmLnRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2UpIHJldHVybiAhZC50cmFuc2xhdGVkRnJvbUxhbmd1YWdlIHx8ICFmLnRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2UgPyBkLmxhbmd1YWdlID09PSBmLmxhbmd1YWdlID8gZC50cmFuc2xhdGVkRnJvbUxhbmd1YWdlID8gMSA6IC0xIDogZC50cmFuc2xhdGVkRnJvbUxhbmd1YWdlID8gLTEgOiAxIDogZC50cmFuc2xhdGVkRnJvbUxhbmd1YWdlID09PSBoID8gLTEgOiAxOwoJCQkJCQkJCQkJaWYgKCFkLnRyYW5zbGF0ZWRGcm9tTGFuZ3VhZ2UpIHJldHVybiBkLmxhbmd1YWdlID09PSBoID8gLTEgOiAxOwoJCQkJCQkJCQl9CgkJCQkJCQkJCXJldHVybiBkLnNvdXJjZSAhPT0gInlhbmRleCIgJiYgZC5pc0F1dG9HZW5lcmF0ZWQgIT09IGYuaXNBdXRvR2VuZXJhdGVkID8gZC5pc0F1dG9HZW5lcmF0ZWQgPyAxIDogLTEgOiAwOwoJCQkJCQkJCX0pOwoJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCWxldCBmID0gZC5tZXNzYWdlID09PSAiVGltZW91dCIgPyAiRmFpbGVkIHRvIGdldCBZYW5kZXggc3VidGl0bGVzOiB0aW1lb3V0IiA6ICJFcnJvciBpbiBnZXRTdWJ0aXRsZXMgZnVuY3Rpb24iOwoJCQkJCQkJCXRocm93IGNvbnNvbGUuZXJyb3IoYFtWT1RdICR7Zn1gLCBkKSwgZDsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQljbGFzcyBTdWJ0aXRsZXNXaWRnZXQgewoJCQkJCQljb25zdHJ1Y3RvcihkLCBmLCBwLCBtLCBoID0gdm9pZCAwKSB7CgkJCQkJCQl0aGlzLnZpZGVvID0gZCwgdGhpcy5jb250YWluZXIgPSBmLCB0aGlzLnNpdGUgPSBwLCB0aGlzLnRvb2x0aXBMYXlvdXRSb290ID0gaCwgdGhpcy5wb3J0YWwgPSBtLCB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lciA9IHRoaXMuY3JlYXRlU3VidGl0bGVzQ29udGFpbmVyKCksIHRoaXMucG9zaXRpb24gPSB7CgkJCQkJCQkJbGVmdDogMjUsCgkJCQkJCQkJdG9wOiA3NQoJCQkJCQkJfSwgdGhpcy5kcmFnZ2luZyA9IHsKCQkJCQkJCQlhY3RpdmU6ICExLAoJCQkJCQkJCW9mZnNldDogewoJCQkJCQkJCQl4OiAwLAoJCQkJCQkJCQl5OiAwCgkJCQkJCQkJfQoJCQkJCQkJfSwgdGhpcy5zdWJ0aXRsZXMgPSBudWxsLCB0aGlzLnN1YnRpdGxlTGFuZyA9IHZvaWQgMCwgdGhpcy5sYXN0Q29udGVudCA9IG51bGwsIHRoaXMuaGlnaGxpZ2h0V29yZHMgPSAhMSwgdGhpcy5mb250U2l6ZSA9IDIwLCB0aGlzLm9wYWNpdHkgPSAuMiwgdGhpcy5tYXhMZW5ndGggPSAzMDAsIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpLCB0aGlzLmJpbmRFdmVudHMoKSwgdGhpcy51cGRhdGVDb250YWluZXJSZWN0KCk7CgkJCQkJCX0KCQkJCQkJY3JlYXRlU3VidGl0bGVzQ29udGFpbmVyKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuc3VidGl0bGVzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidm90LWJsb2NrIiksIHRoaXMuc3VidGl0bGVzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoInZvdC1zdWJ0aXRsZXMtd2lkZ2V0IiksIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3VidGl0bGVzQ29udGFpbmVyKSwgdGhpcy5zdWJ0aXRsZXNDb250YWluZXI7CgkJCQkJCX0KCQkJCQkJYmluZEV2ZW50cygpIHsKCQkJCQkJCWxldCB7IHNpZ25hbDogZCB9ID0gdGhpcy5hYm9ydENvbnRyb2xsZXI7CgkJCQkJCQl0aGlzLm9uUG9pbnRlckRvd25Cb3VuZCA9IChkKSA9PiB0aGlzLm9uUG9pbnRlckRvd24oZCksIHRoaXMub25Qb2ludGVyVXBCb3VuZCA9ICgpID0+IHRoaXMub25Qb2ludGVyVXAoKSwgdGhpcy5vblBvaW50ZXJNb3ZlQm91bmQgPSAoZCkgPT4gdGhpcy5vblBvaW50ZXJNb3ZlKGQpLCB0aGlzLm9uVGltZVVwZGF0ZUJvdW5kID0gKCkgPT4gdGhpcy51cGRhdGUoKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCB0aGlzLm9uUG9pbnRlckRvd25Cb3VuZCwgeyBzaWduYWw6IGQgfSksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsIHRoaXMub25Qb2ludGVyVXBCb3VuZCwgeyBzaWduYWw6IGQgfSksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJtb3ZlIiwgdGhpcy5vblBvaW50ZXJNb3ZlQm91bmQsIHsgc2lnbmFsOiBkIH0pLCB0aGlzLnZpZGVvPy5hZGRFdmVudExpc3RlbmVyKCJ0aW1ldXBkYXRlIiwgdGhpcy5vblRpbWVVcGRhdGVCb3VuZCwgeyBzaWduYWw6IGQgfSksIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy5vblJlc2l6ZSgpKSwgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGFpbmVyKTsKCQkJCQkJfQoJCQkJCQlvblBvaW50ZXJEb3duKGQpIHsKCQkJCQkJCWlmICghdGhpcy5zdWJ0aXRsZXNDb250YWluZXIuY29udGFpbnMoZC50YXJnZXQpKSByZXR1cm47CgkJCQkJCQlsZXQgZiA9IHRoaXMuc3VidGl0bGVzQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBwID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJCQkJCQl0aGlzLmRyYWdnaW5nID0gewoJCQkJCQkJCWFjdGl2ZTogITAsCgkJCQkJCQkJb2Zmc2V0OiB7CgkJCQkJCQkJCXg6IGQuY2xpZW50WCAtIGYubGVmdCwKCQkJCQkJCQkJeTogZC5jbGllbnRZIC0gZi50b3AKCQkJCQkJCQl9LAoJCQkJCQkJCWNvbnRhaW5lck9mZnNldDogewoJCQkJCQkJCQl4OiBwLmxlZnQsCgkJCQkJCQkJCXk6IHAudG9wCgkJCQkJCQkJfQoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlvblBvaW50ZXJVcCgpIHsKCQkJCQkJCXRoaXMuZHJhZ2dpbmcuYWN0aXZlID0gITE7CgkJCQkJCX0KCQkJCQkJb25Qb2ludGVyTW92ZShkKSB7CgkJCQkJCQlpZiAoIXRoaXMuZHJhZ2dpbmcuYWN0aXZlKSByZXR1cm47CgkJCQkJCQlkLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQlsZXQgeyB3aWR0aDogZiwgaGVpZ2h0OiBwIH0gPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgeyBjb250YWluZXJPZmZzZXQ6IG0sIG9mZnNldDogaCB9ID0gdGhpcy5kcmFnZ2luZzsKCQkJCQkJCXRoaXMucG9zaXRpb24gPSB7CgkJCQkJCQkJbGVmdDogKGQuY2xpZW50WCAtIGgueCAtIG0ueCkgLyBmICogMTAwLAoJCQkJCQkJCXRvcDogKGQuY2xpZW50WSAtIGgueSAtIG0ueSkgLyBwICogMTAwCgkJCQkJCQl9LCB0aGlzLmFwcGx5U3VidGl0bGVQb3NpdGlvbigpOwoJCQkJCQl9CgkJCQkJCW9uUmVzaXplKCkgewoJCQkJCQkJdGhpcy51cGRhdGVDb250YWluZXJSZWN0KCk7CgkJCQkJCX0KCQkJCQkJdXBkYXRlQ29udGFpbmVyUmVjdCgpIHsKCQkJCQkJCXRoaXMuY29udGFpbmVyUmVjdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0aGlzLmFwcGx5U3VidGl0bGVQb3NpdGlvbigpOwoJCQkJCQl9CgkJCQkJCWFwcGx5U3VidGl0bGVQb3NpdGlvbigpIHsKCQkJCQkJCWxldCB7IHdpZHRoOiBkLCBoZWlnaHQ6IGYgfSA9IHRoaXMuY29udGFpbmVyUmVjdCwgeyBvZmZzZXRXaWR0aDogcCwgb2Zmc2V0SGVpZ2h0OiBtIH0gPSB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lciwgaCA9IChkIC0gcCkgLyBkICogMTAwLCBnID0gKGYgLSBtKSAvIGYgKiAxMDA7CgkJCQkJCQl0aGlzLnBvc2l0aW9uLmxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnBvc2l0aW9uLmxlZnQsIGgpKSwgdGhpcy5wb3NpdGlvbi50b3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnBvc2l0aW9uLnRvcCwgZykpLCB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5wb3NpdGlvbi5sZWZ0fSVgLCB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lci5zdHlsZS50b3AgPSBgJHt0aGlzLnBvc2l0aW9uLnRvcH0lYCwgdGhpcy50b2tlblRvb2x0aXA/LnVwZGF0ZVBvcygpOwoJCQkJCQl9CgkJCQkJCXByb2Nlc3NUb2tlbnMoZCkgewoJCQkJCQkJaWYgKGQuYXQoLTEpLmFsaWduUmFuZ2UuZW5kIDw9IHRoaXMubWF4TGVuZ3RoKSByZXR1cm4gZDsKCQkJCQkJCWxldCBmID0gW10sIHAgPSBbXSwgbSA9IDA7CgkJCQkJCQlmb3IgKGxldCBoIG9mIGQpIG0gKz0gaC50ZXh0Lmxlbmd0aCwgcC5wdXNoKGgpLCBtID4gdGhpcy5tYXhMZW5ndGggJiYgKGYucHVzaCh0aGlzLnRyaW1DaHVuayhwKSksIHAgPSBbXSwgbSA9IDApOwoJCQkJCQkJcC5sZW5ndGggJiYgZi5wdXNoKHRoaXMudHJpbUNodW5rKHApKTsKCQkJCQkJCWxldCBoID0gdGhpcy52aWRlby5jdXJyZW50VGltZSAqIDFlMzsKCQkJCQkJCXJldHVybiBmLmZpbmQoKGQpID0+IGRbMF0uc3RhcnRNcyA8IGggJiYgaCA8IGQuYXQoLTEpLnN0YXJ0TXMgKyBkLmF0KC0xKS5kdXJhdGlvbk1zKSB8fCBmWzBdOwoJCQkJCQl9CgkJCQkJCXRyaW1DaHVuayhkKSB7CgkJCQkJCQlyZXR1cm4gZFswXT8udGV4dCA9PT0gIiAiICYmIGQuc2hpZnQoKSwgZC5hdCgtMSk/LnRleHQgPT09ICIgIiAmJiBkLnBvcCgpLCBkOwoJCQkJCQl9CgkJCQkJCWFzeW5jIHRyYW5zbGF0ZVN0clRva2VucyhkKSB7CgkJCQkJCQlsZXQgZiA9IHRoaXMuc3VidGl0bGVMYW5nLCBwID0gYi5qLmxhbmc7CgkJCQkJCQlpZiAodGhpcy5zdHJUcmFuc2xhdGVkVG9rZW5zKSB7CgkJCQkJCQkJbGV0IG0gPSBhd2FpdCAoMCwgRC5UbCkoZCwgZiwgcCk7CgkJCQkJCQkJcmV0dXJuIFt0aGlzLnN0clRyYW5zbGF0ZWRUb2tlbnMsIG1dOwoJCQkJCQkJfQoJCQkJCQkJbGV0IG0gPSBhd2FpdCAoMCwgRC5UbCkoW3RoaXMuc3RyVG9rZW5zLCBkXSwgZiwgcCk7CgkJCQkJCQlyZXR1cm4gdGhpcy5zdHJUcmFuc2xhdGVkVG9rZW5zID0gbVswXSwgbTsKCQkJCQkJfQoJCQkJCQlyZWxlYXNlVG9vbHRpcCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLnRva2VuVG9vbHRpcCAmJiAodGhpcy50b2tlblRvb2x0aXAudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIiksIHRoaXMudG9rZW5Ub29sdGlwLnJlbGVhc2UoKSwgdGhpcy50b2tlblRvb2x0aXAgPSB2b2lkIDApLCB0aGlzOwoJCQkJCQl9CgkJCQkJCW9uQ2xpY2sgPSBhc3luYyAoZCkgPT4gewoJCQkJCQkJaWYgKHRoaXMudG9rZW5Ub29sdGlwPy50YXJnZXQgPT09IGQudGFyZ2V0ICYmIHRoaXMudG9rZW5Ub29sdGlwPy5jb250YWluZXIpIHsKCQkJCQkJCQl0aGlzLnRva2VuVG9vbHRpcC5zaG93ZWQgPyBkLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpIDogZC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgic2VsZWN0ZWQiKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQl0aGlzLnJlbGVhc2VUb29sdGlwKCksIGQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoInNlbGVjdGVkIik7CgkJCQkJCQlsZXQgZiA9IGQudGFyZ2V0LnRleHRDb250ZW50LnRyaW0oKS5yZXBsYWNlKC9bLnwsXS8sICIiKSwgcCA9IGF3YWl0IEUuZC5nZXQoInRyYW5zbGF0aW9uU2VydmljZSIsIHYubUUpLCBtID0geC5BLmNyZWF0ZVN1YnRpdGxlSW5mbyhmLCB0aGlzLnN0clRyYW5zbGF0ZWRUb2tlbnMgfHwgdGhpcy5zdHJUb2tlbnMsIHApOwoJCQkJCQkJdGhpcy50b2tlblRvb2x0aXAgPSBuZXcgQy5BKHsKCQkJCQkJCQl0YXJnZXQ6IGQudGFyZ2V0LAoJCQkJCQkJCWFuY2hvcjogdGhpcy5zdWJ0aXRsZXNCbG9jaywKCQkJCQkJCQlsYXlvdXRSb290OiB0aGlzLnRvb2x0aXBMYXlvdXRSb290LAoJCQkJCQkJCWNvbnRlbnQ6IG0uY29udGFpbmVyLAoJCQkJCQkJCXBhcmVudEVsZW1lbnQ6IHRoaXMucG9ydGFsLAoJCQkJCQkJCW1heFdpZHRoOiB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwKCQkJCQkJCQlib3JkZXJSYWRpdXM6IDEyLAoJCQkJCQkJCWJvcmRlcmVkOiAhMSwKCQkJCQkJCQlwb3NpdGlvbjogInRvcCIsCgkJCQkJCQkJdHJpZ2dlcjogImNsaWNrIgoJCQkJCQkJfSksIHRoaXMudG9rZW5Ub29sdGlwLmNyZWF0ZSgpOwoJCQkJCQkJbGV0IGggPSB0aGlzLnN0clRva2VucywgZyA9IGF3YWl0IHRoaXMudHJhbnNsYXRlU3RyVG9rZW5zKGYpOwoJCQkJCQkJaCAhPT0gdGhpcy5zdHJUb2tlbnMgfHwgIXRoaXMudG9rZW5Ub29sdGlwPy5zaG93ZWQgfHwgKG0uaGVhZGVyLnRleHRDb250ZW50ID0gZ1sxXSwgbS5jb250ZXh0LnRleHRDb250ZW50ID0gZ1swXSwgdGhpcy50b2tlblRvb2x0aXAuc2V0Q29udGVudChtLmNvbnRhaW5lciksIHRoaXMudG9rZW5Ub29sdGlwLmNyZWF0ZSgpKTsKCQkJCQkJfTsKCQkJCQkJcmVuZGVyVG9rZW5zKGQsIGYpIHsKCQkJCQkJCXJldHVybiBkLm1hcCgoZCkgPT4gewoJCQkJCQkJCWxldCBwID0gdGhpcy5oaWdobGlnaHRXb3JkcyAmJiAoZiA+IGQuc3RhcnRNcyArIGQuZHVyYXRpb25NcyAvIDIgfHwgZiA+IGQuc3RhcnRNcyAtIDEwMCAmJiBkLnN0YXJ0TXMgKyBkLmR1cmF0aW9uTXMgLyAyIC0gZiA8IDI3NSk7CgkJCQkJCQkJcmV0dXJuICgwLCBfLnF5KWA8c3BhbgogICAgICAgIEBjbGljaz0iJHt0aGlzLm9uQ2xpY2t9IgogICAgICAgIGNsYXNzPSIke3AgPyAicGFzc2VkIiA6ICIifSIKICAgICAgPgogICAgICAgICR7ZC50ZXh0LnJlcGxhY2UoIlxcbiIsICI8YnI+Iil9CiAgICAgIDwvc3Bhbj5gOwoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQkJc2V0Q29udGVudChkLCBmID0gdm9pZCAwKSB7CgkJCQkJCQlpZiAodGhpcy5yZWxlYXNlVG9vbHRpcCgpLCB0aGlzLnN1YnRpdGxlTGFuZyA9IGYsICFkIHx8ICF0aGlzLnZpZGVvKSB7CgkJCQkJCQkJdGhpcy5zdWJ0aXRsZXMgPSBudWxsLCAoMCwgXy5YWCkobnVsbCwgdGhpcy5zdWJ0aXRsZXNDb250YWluZXIpOwoJCQkJCQkJCXJldHVybjsKCQkJCQkJCX0KCQkJCQkJCXRoaXMuc3VidGl0bGVzID0gZCwgdGhpcy51cGRhdGUoKTsKCQkJCQkJfQoJCQkJCQlzZXRNYXhMZW5ndGgoZCkgewoJCQkJCQkJdHlwZW9mIGQgPT0gIm51bWJlciIgJiYgZCA+IDAgJiYgKHRoaXMubWF4TGVuZ3RoID0gZCwgdGhpcy51cGRhdGUoKSk7CgkJCQkJCX0KCQkJCQkJc2V0SGlnaGxpZ2h0V29yZHMoZCkgewoJCQkJCQkJdGhpcy5oaWdobGlnaHRXb3JkcyA9ICEhZCwgdGhpcy51cGRhdGUoKTsKCQkJCQkJfQoJCQkJCQlzZXRGb250U2l6ZShkKSB7CgkJCQkJCQl0aGlzLmZvbnRTaXplID0gZCwgdGhpcy5zdWJ0aXRsZXNCbG9jayAmJiAodGhpcy5zdWJ0aXRsZXNCbG9jay5zdHlsZS5mb250U2l6ZSA9IGAke2R9cHhgKTsKCQkJCQkJfQoJCQkJCQlzZXRPcGFjaXR5KGQpIHsKCQkJCQkJCXRoaXMub3BhY2l0eSA9ICgoMTAwIC0gZCkgLyAxMDApLnRvRml4ZWQoMiksIHRoaXMuc3VidGl0bGVzQmxvY2sgJiYgdGhpcy5zdWJ0aXRsZXNCbG9jay5zdHlsZS5zZXRQcm9wZXJ0eSgiLS12b3Qtc3VidGl0bGVzLW9wYWNpdHkiLCB0aGlzLm9wYWNpdHkpOwoJCQkJCQl9CgkJCQkJCXN0cmluZ2lmeVRva2VucyhkKSB7CgkJCQkJCQlyZXR1cm4gZC5tYXAoKGQpID0+IGQudGV4dCkuam9pbigiIik7CgkJCQkJCX0KCQkJCQkJdXBkYXRlKCkgewoJCQkJCQkJaWYgKCF0aGlzLnZpZGVvIHx8ICF0aGlzLnN1YnRpdGxlcykgcmV0dXJuOwoJCQkJCQkJbGV0IGQgPSB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lICogMWUzLCBmID0gdGhpcy5zdWJ0aXRsZXMuc3VidGl0bGVzLmZpbmRMYXN0KChmKSA9PiBmLnN0YXJ0TXMgPCBkICYmIGQgPCBmLnN0YXJ0TXMgKyBmLmR1cmF0aW9uTXMpOwoJCQkJCQkJaWYgKCFmKSB7CgkJCQkJCQkJKDAsIF8uWFgpKG51bGwsIHRoaXMuc3VidGl0bGVzQ29udGFpbmVyKSwgdGhpcy5zdWJ0aXRsZXNCbG9jayA9IG51bGwsIHRoaXMucmVsZWFzZVRvb2x0aXAoKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQlsZXQgcCA9IHRoaXMucHJvY2Vzc1Rva2VucyhmLnRva2VucyksIG0gPSB0aGlzLnJlbmRlclRva2VucyhwLCBkKSwgaCA9IEpTT04uc3RyaW5naWZ5KG0pOwoJCQkJCQkJaWYgKGggIT09IHRoaXMubGFzdENvbnRlbnQpIHsKCQkJCQkJCQl0aGlzLmxhc3RDb250ZW50ID0gaDsKCQkJCQkJCQlsZXQgZCA9IHRoaXMuc3RyaW5naWZ5VG9rZW5zKHApOwoJCQkJCQkJCWQgIT09IHRoaXMuc3RyVG9rZW5zICYmICh0aGlzLnJlbGVhc2VUb29sdGlwKCksIHRoaXMuc3RyVG9rZW5zID0gZCwgdGhpcy5zdHJUcmFuc2xhdGVkVG9rZW5zID0gIiIpLCAoMCwgXy5YWCkoKDAsIF8ucXkpYDx2b3QtYmxvY2sKICAgICAgICAgIGNsYXNzPSJ2b3Qtc3VidGl0bGVzIgogICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZTogJHt0aGlzLmZvbnRTaXplfXB4OyAtLXZvdC1zdWJ0aXRsZXMtb3BhY2l0eTogJHt0aGlzLm9wYWNpdHl9IgogICAgICAgICAgPiR7bX08L3ZvdC1ibG9jawogICAgICAgID5gLCB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lciksIHRoaXMuc3VidGl0bGVzQmxvY2sgPSB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCIudm90LXN1YnRpdGxlcyIpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXJlbGVhc2UoKSB7CgkJCQkJCQl0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpLCB0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKSwgdGhpcy5yZWxlYXNlVG9vbHRpcCgpLCB0aGlzLnN1YnRpdGxlc0NvbnRhaW5lci5yZW1vdmUoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvdHlwZXMvY29tcG9uZW50cy90b29sdGlwLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgewoJCQkJRzogKCkgPT4gaCwKCQkJCVg6ICgpID0+IG0KCQkJfSk7CgkJCWxldCBtID0gWwoJCQkJImxlZnQiLAoJCQkJInRvcCIsCgkJCQkicmlnaHQiLAoJCQkJImJvdHRvbSIKCQkJXSwgaCA9IFsiaG92ZXIiLCAiY2xpY2siXTsKCQl9LAoJCSIuL3NyYy90eXBlcy9jb21wb25lbnRzL3ZvdEJ1dHRvbi50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsgWDogKCkgPT4gbSB9KTsKCQkJbGV0IG0gPSBbCgkJCQkiZGVmYXVsdCIsCgkJCQkidG9wIiwKCQkJCSJsZWZ0IiwKCQkJCSJyaWdodCIKCQkJXSwgaCA9IG51bGw7CgkJfSwKCQkiLi9zcmMvdHlwZXMvc3RvcmFnZS50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5kKGYsIHsgdzogKCkgPT4gbSB9KTsKCQkJbGV0IG0gPSAiYXV0b1RyYW5zbGF0ZS5kb250VHJhbnNsYXRlTGFuZ3VhZ2VzLmVuYWJsZWREb250VHJhbnNsYXRlTGFuZ3VhZ2VzLmVuYWJsZWRBdXRvVm9sdW1lLmF1dG9Wb2x1bWUuYnV0dG9uUG9zLnNob3dWaWRlb1NsaWRlci5zeW5jVm9sdW1lLmRvd25sb2FkV2l0aE5hbWUuc2VuZE5vdGlmeU9uQ29tcGxldGUuc3VidGl0bGVzTWF4TGVuZ3RoLmhpZ2hsaWdodFdvcmRzLnN1YnRpdGxlc0ZvbnRTaXplLnN1YnRpdGxlc09wYWNpdHkuc3VidGl0bGVzRG93bmxvYWRGb3JtYXQucmVzcG9uc2VMYW5ndWFnZS5kZWZhdWx0Vm9sdW1lLm9ubHlCeXBhc3NNZWRpYUNTUC5uZXdBdWRpb1BsYXllci5zaG93UGlQQnV0dG9uLnRyYW5zbGF0ZUFQSUVycm9ycy50cmFuc2xhdGlvblNlcnZpY2UuZGV0ZWN0U2VydmljZS50cmFuc2xhdGlvbkhvdGtleS5tM3U4UHJveHlIb3N0LnByb3h5V29ya2VySG9zdC50cmFuc2xhdGVQcm94eUVuYWJsZWQudHJhbnNsYXRlUHJveHlFbmFibGVkRGVmYXVsdC5hdWRpb0Jvb3N0ZXIudXNlTGl2ZWx5Vm9pY2UuYXV0b0hpZGVCdXR0b25EZWxheS51c2VBdWRpb0Rvd25sb2FkLmNvbXBhdFZlcnNpb24ubG9jYWxlUGhyYXNlcy5sb2NhbGVMYW5nLmxvY2FsZUhhc2gubG9jYWxlVXBkYXRlZEF0LmxvY2FsZUxhbmdPdmVycmlkZS5hY2NvdW50Ii5zcGxpdCgiLiIpOwoJCX0sCgkJIi4vc3JjL3VpLmpzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgQTogKCkgPT4gVUkgfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIpLCBnID0gcCgiLi9zcmMvc3R5bGVzL21haW4uc2NzcyIpLCBfID0gcCgiLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblByb3ZpZGVyLnRzIiksIHYgPSBkKFtfXSk7CgkJCQkJXyA9ICh2LnRoZW4gPyAoYXdhaXQgdikoKSA6IHYpWzBdOwoJCQkJCWNsYXNzIFVJIHsKCQkJCQkJc3RhdGljIGNyZWF0ZUVsKGQsIGYgPSBbXSwgcCA9IG51bGwpIHsKCQkJCQkJCWxldCBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKTsKCQkJCQkJCXJldHVybiBmLmxlbmd0aCAmJiBtLmNsYXNzTGlzdC5hZGQoLi4uZiksIHAgIT09IG51bGwgJiYgbS5hcHBlbmQocCksIG07CgkJCQkJCX0KCQkJCQkJc3RhdGljIGNyZWF0ZUhlYWRlcihkLCBmID0gNCkgewoJCQkJCQkJbGV0IHAgPSBVSS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtaGVhZGVyIiwgYHZvdC1oZWFkZXItbGV2ZWwtJHtmfWBdKTsKCQkJCQkJCXJldHVybiBwLmFwcGVuZChkKSwgcDsKCQkJCQkJfQoJCQkJCQlzdGF0aWMgY3JlYXRlSW5mb3JtYXRpb24oZCwgZikgewoJCQkJCQkJbGV0IHAgPSBVSS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtaW5mbyJdKSwgbSA9IFVJLmNyZWF0ZUVsKCJ2b3QtYmxvY2siKTsKCQkJCQkJCSgwLCBoLlhYKShkLCBtKTsKCQkJCQkJCWxldCBnID0gVUkuY3JlYXRlRWwoInZvdC1ibG9jayIpOwoJCQkJCQkJcmV0dXJuICgwLCBoLlhYKShmLCBnKSwgcC5hcHBlbmQobSwgZyksIHsKCQkJCQkJCQljb250YWluZXI6IHAsCgkJCQkJCQkJaGVhZGVyOiBtLAoJCQkJCQkJCXZhbHVlOiBnCgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBjcmVhdGVCdXR0b24oZCkgewoJCQkJCQkJbGV0IGYgPSBVSS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtYnV0dG9uIl0pOwoJCQkJCQkJcmV0dXJuIGYuYXBwZW5kKGQpLCBmOwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBjcmVhdGVUZXh0QnV0dG9uKGQpIHsKCQkJCQkJCWxldCBmID0gVUkuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXRleHQtYnV0dG9uIl0pOwoJCQkJCQkJcmV0dXJuIGYuYXBwZW5kKGQpLCBmOwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBjcmVhdGVPdXRsaW5lZEJ1dHRvbihkKSB7CgkJCQkJCQlsZXQgZiA9IFVJLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1vdXRsaW5lZC1idXR0b24iXSk7CgkJCQkJCQlyZXR1cm4gZi5hcHBlbmQoZCksIGY7CgkJCQkJCX0KCQkJCQkJc3RhdGljIGNyZWF0ZUljb25CdXR0b24oZCkgewoJCQkJCQkJbGV0IGYgPSBVSS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtaWNvbi1idXR0b24iXSk7CgkJCQkJCQlyZXR1cm4gKDAsIGguWFgpKGQsIGYpLCBmOwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBjcmVhdGVJbmxpbmVMb2FkZXIoKSB7CgkJCQkJCQlyZXR1cm4gVUkuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LWlubGluZS1sb2FkZXIiXSk7CgkJCQkJCX0KCQkJCQkJc3RhdGljIGNyZWF0ZVBvcnRhbChkID0gITEpIHsKCQkJCQkJCXJldHVybiBVSS5jcmVhdGVFbCgidm90LWJsb2NrIiwgW2B2b3QtcG9ydGFsJHtkID8gIi1sb2NhbCIgOiAiIn1gXSk7CgkJCQkJCX0KCQkJCQkJc3RhdGljIGNyZWF0ZVN1YnRpdGxlSW5mbyhkLCBmLCBwKSB7CgkJCQkJCQlsZXQgbSA9IFVJLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zdWJ0aXRsZXMtaW5mbyJdKTsKCQkJCQkJCW0uaWQgPSAidm90LXN1YnRpdGxlcy1pbmZvIjsKCQkJCQkJCWxldCBoID0gVUkuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXN1YnRpdGxlcy1pbmZvLXNlcnZpY2UiXSwgXy5qLmdldCgiVk9UVHJhbnNsYXRlZEJ5IikucmVwbGFjZSgiezB9IiwgcCkpLCBnID0gVUkuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXN1YnRpdGxlcy1pbmZvLWhlYWRlciJdLCBkKSwgdiA9IFVJLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zdWJ0aXRsZXMtaW5mby1jb250ZXh0Il0sIGYpOwoJCQkJCQkJcmV0dXJuIG0uYXBwZW5kKGgsIGcsIHYpLCB7CgkJCQkJCQkJY29udGFpbmVyOiBtLAoJCQkJCQkJCXRyYW5zbGF0ZWRXaXRoOiBoLAoJCQkJCQkJCWhlYWRlcjogZywKCQkJCQkJCQljb250ZXh0OiB2CgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91aS9jb21wb25lbnRzL2FjY291bnRCdXR0b24udHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBBY2NvdW50QnV0dG9uIH0pOwoJCQkJCXZhciBoID0gcCgiLi9zcmMvY29uZmlnL2NvbmZpZy5qcyIpLCBnID0gcCgiLi9zcmMvY29yZS9ldmVudEltcGwudHMiKSwgXyA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCB2ID0gcCgiLi9zcmMvdWkuanMiKSwgYiA9IHAoIi4vc3JjL3VpL2ljb25zLnRzIiksIHggPSBkKFtfLCB2XSk7CgkJCQkJW18sIHZdID0geC50aGVuID8gKGF3YWl0IHgpKCkgOiB4OwoJCQkJCWNsYXNzIEFjY291bnRCdXR0b24gewoJCQkJCQljb250YWluZXI7CgkJCQkJCWFjY291bnRXcmFwcGVyOwoJCQkJCQlidXR0b25zOwoJCQkJCQl1c2VybmFtZUVsOwoJCQkJCQlhdmF0YXJFbDsKCQkJCQkJYXZhdGFySW1nOwoJCQkJCQlhY3Rpb25CdXR0b247CgkJCQkJCXJlZnJlc2hCdXR0b247CgkJCQkJCXRva2VuQnV0dG9uOwoJCQkJCQlvbkNsaWNrID0gbmV3IGcuWigpOwoJCQkJCQlvblJlZnJlc2ggPSBuZXcgZy5aKCk7CgkJCQkJCW9uQ2xpY2tTZWNyZXQgPSBuZXcgZy5aKCk7CgkJCQkJCV9sb2dnZWRJbjsKCQkJCQkJX3VzZXJuYW1lOwoJCQkJCQlfYXZhdGFySWQ7CgkJCQkJCWNvbnN0cnVjdG9yKHsgbG9nZ2VkSW46IGQgPSAhMSwgdXNlcm5hbWU6IGYgPSAidW5uYW1lZCIsIGF2YXRhcklkOiBwID0gIjAvMC0wIiB9ID0ge30pIHsKCQkJCQkJCXRoaXMuX2xvZ2dlZEluID0gZCwgdGhpcy5fdXNlcm5hbWUgPSBmLCB0aGlzLl9hdmF0YXJJZCA9IHA7CgkJCQkJCQlsZXQgbSA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTsKCQkJCQkJCXRoaXMuY29udGFpbmVyID0gbS5jb250YWluZXIsIHRoaXMuYWNjb3VudFdyYXBwZXIgPSBtLmFjY291bnRXcmFwcGVyLCB0aGlzLmJ1dHRvbnMgPSBtLmJ1dHRvbnMsIHRoaXMudXNlcm5hbWVFbCA9IG0udXNlcm5hbWVFbCwgdGhpcy5hdmF0YXJFbCA9IG0uYXZhdGFyRWwsIHRoaXMuYXZhdGFySW1nID0gbS5hdmF0YXJJbWcsIHRoaXMuYWN0aW9uQnV0dG9uID0gbS5hY3Rpb25CdXR0b24sIHRoaXMucmVmcmVzaEJ1dHRvbiA9IG0ucmVmcmVzaEJ1dHRvbiwgdGhpcy50b2tlbkJ1dHRvbiA9IG0udG9rZW5CdXR0b247CgkJCQkJCX0KCQkJCQkJY3JlYXRlRWxlbWVudHMoKSB7CgkJCQkJCQlsZXQgZCA9IHYuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtYWNjb3VudCJdKSwgZiA9IHYuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtYWNjb3VudC13cmFwcGVyIl0pOwoJCQkJCQkJZi5oaWRkZW4gPSAhdGhpcy5fbG9nZ2VkSW47CgkJCQkJCQlsZXQgcCA9IHYuQS5jcmVhdGVFbCgiaW1nIiwgWyJ2b3QtYWNjb3VudC1hdmF0YXItaW1nIl0pOwoJCQkJCQkJcC5zcmMgPSBgJHtoLmNMfS8ke3RoaXMuX2F2YXRhcklkfS9pc2xhbmRzLXJldGluYS1taWRkbGVgLCBwLmxvYWRpbmcgPSAibGF6eSIsIHAuYWx0ID0gInVzZXIgYXZhdGFyIjsKCQkJCQkJCWxldCBtID0gdi5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1hY2NvdW50LWF2YXRhciJdLCBwKSwgZyA9IHYuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtYWNjb3VudC11c2VybmFtZSJdKTsKCQkJCQkJCWcudGV4dENvbnRlbnQgPSB0aGlzLl91c2VybmFtZSwgZi5hcHBlbmQobSwgZyk7CgkJCQkJCQlsZXQgXyA9IHYuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtYWNjb3VudC1idXR0b25zIl0pLCB4ID0gdi5BLmNyZWF0ZU91dGxpbmVkQnV0dG9uKHRoaXMuYnV0dG9uVGV4dCk7CgkJCQkJCQl4LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCXRoaXMub25DbGljay5kaXNwYXRjaCgpOwoJCQkJCQkJfSk7CgkJCQkJCQlsZXQgQyA9IHYuQS5jcmVhdGVJY29uQnV0dG9uKGIuR0EpOwoJCQkJCQkJQy5oaWRkZW4gPSB0aGlzLl9sb2dnZWRJbiwgQy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKCQkJCQkJCQl0aGlzLm9uQ2xpY2tTZWNyZXQuZGlzcGF0Y2goKTsKCQkJCQkJCX0pOwoJCQkJCQkJbGV0IHcgPSB2LkEuY3JlYXRlSWNvbkJ1dHRvbihiLk05KTsKCQkJCQkJCXJldHVybiB3LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCXRoaXMub25SZWZyZXNoLmRpc3BhdGNoKCk7CgkJCQkJCQl9KSwgXy5hcHBlbmQoeCwgQywgdyksIGQuYXBwZW5kKGYsIF8pLCB7CgkJCQkJCQkJY29udGFpbmVyOiBkLAoJCQkJCQkJCWFjY291bnRXcmFwcGVyOiBmLAoJCQkJCQkJCWJ1dHRvbnM6IF8sCgkJCQkJCQkJdXNlcm5hbWVFbDogZywKCQkJCQkJCQlhdmF0YXJJbWc6IHAsCgkJCQkJCQkJYXZhdGFyRWw6IG0sCgkJCQkJCQkJYWN0aW9uQnV0dG9uOiB4LAoJCQkJCQkJCXJlZnJlc2hCdXR0b246IHcsCgkJCQkJCQkJdG9rZW5CdXR0b246IEMKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYWRkRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlzd2l0Y2ggKGQpIHsKCQkJCQkJCQljYXNlICJjbGljayI6CgkJCQkJCQkJCXRoaXMub25DbGljay5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2xpY2s6c2VjcmV0IjoKCQkJCQkJCQkJdGhpcy5vbkNsaWNrU2VjcmV0LmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJyZWZyZXNoIjoKCQkJCQkJCQkJdGhpcy5vblJlZnJlc2guYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlzd2l0Y2ggKGQpIHsKCQkJCQkJCQljYXNlICJjbGljayI6CgkJCQkJCQkJCXRoaXMub25DbGljay5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2xpY2s6c2VjcmV0IjoKCQkJCQkJCQkJdGhpcy5vbkNsaWNrU2VjcmV0LnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJyZWZyZXNoIjoKCQkJCQkJCQkJdGhpcy5vblJlZnJlc2gucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHRoaXM7CgkJCQkJCX0KCQkJCQkJZ2V0IGJ1dHRvblRleHQoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fbG9nZ2VkSW4gPyBfLmouZ2V0KCJWT1RMb2dvdXQiKSA6IF8uai5nZXQoIlZPVExvZ2luIik7CgkJCQkJCX0KCQkJCQkJZ2V0IGxvZ2dlZEluKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuX2xvZ2dlZEluOwoJCQkJCQl9CgkJCQkJCXNldCBsb2dnZWRJbihkKSB7CgkJCQkJCQl0aGlzLl9sb2dnZWRJbiA9IGQsIHRoaXMuYWNjb3VudFdyYXBwZXIuaGlkZGVuID0gIXRoaXMuX2xvZ2dlZEluLCB0aGlzLmFjdGlvbkJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuYnV0dG9uVGV4dCwgdGhpcy50b2tlbkJ1dHRvbi5oaWRkZW4gPSB0aGlzLl9sb2dnZWRJbjsKCQkJCQkJfQoJCQkJCQlnZXQgYXZhdGFySWQoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fYXZhdGFySWQ7CgkJCQkJCX0KCQkJCQkJc2V0IGF2YXRhcklkKGQpIHsKCQkJCQkJCXRoaXMuX2F2YXRhcklkID0gZCA/PyAiMC8wLTAiLCB0aGlzLmF2YXRhckltZy5zcmMgPSBgJHtoLmNMfS8ke3RoaXMuX2F2YXRhcklkfS9pc2xhbmRzLXJldGluYS1taWRkbGVgOwoJCQkJCQl9CgkJCQkJCWdldCB1c2VybmFtZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLl91c2VybmFtZTsKCQkJCQkJfQoJCQkJCQlzZXQgdXNlcm5hbWUoZCkgewoJCQkJCQkJdGhpcy5fdXNlcm5hbWUgPSBkID8/ICJ1bm5hbWVkIiwgdGhpcy51c2VybmFtZUVsLnRleHRDb250ZW50ID0gdGhpcy5fdXNlcm5hbWU7CgkJCQkJCX0KCQkJCQkJc2V0IGhpZGRlbihkKSB7CgkJCQkJCQl0aGlzLmNvbnRhaW5lci5oaWRkZW4gPSBkOwoJCQkJCQl9CgkJCQkJCWdldCBoaWRkZW4oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5jb250YWluZXIuaGlkZGVuOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91aS9jb21wb25lbnRzL2NoZWNrYm94LnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgQTogKCkgPT4gQ2hlY2tib3ggfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIpLCBnID0gcCgiLi9zcmMvY29yZS9ldmVudEltcGwudHMiKSwgXyA9IHAoIi4vc3JjL3VpLmpzIiksIHYgPSBkKFtfXSk7CgkJCQkJXyA9ICh2LnRoZW4gPyAoYXdhaXQgdikoKSA6IHYpWzBdOwoJCQkJCWNsYXNzIENoZWNrYm94IHsKCQkJCQkJY29udGFpbmVyOwoJCQkJCQlpbnB1dDsKCQkJCQkJbGFiZWw7CgkJCQkJCW9uQ2hhbmdlID0gbmV3IGcuWigpOwoJCQkJCQlfbGFiZWxIdG1sOwoJCQkJCQlfY2hlY2tlZDsKCQkJCQkJX2lzU3ViQ2hlY2tib3g7CgkJCQkJCWNvbnN0cnVjdG9yKHsgbGFiZWxIdG1sOiBkLCBjaGVja2VkOiBmID0gITEsIGlzU3ViQ2hlY2tib3g6IHAgPSAhMSB9KSB7CgkJCQkJCQl0aGlzLl9sYWJlbEh0bWwgPSBkLCB0aGlzLl9jaGVja2VkID0gZiwgdGhpcy5faXNTdWJDaGVja2JveCA9IHA7CgkJCQkJCQlsZXQgbSA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTsKCQkJCQkJCXRoaXMuY29udGFpbmVyID0gbS5jb250YWluZXIsIHRoaXMuaW5wdXQgPSBtLmlucHV0LCB0aGlzLmxhYmVsID0gbS5sYWJlbDsKCQkJCQkJfQoJCQkJCQljcmVhdGVFbGVtZW50cygpIHsKCQkJCQkJCWxldCBkID0gXy5BLmNyZWF0ZUVsKCJsYWJlbCIsIFsidm90LWNoZWNrYm94Il0pOwoJCQkJCQkJdGhpcy5faXNTdWJDaGVja2JveCAmJiBkLmNsYXNzTGlzdC5hZGQoInZvdC1jaGVja2JveC1zdWIiKTsKCQkJCQkJCWxldCBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQkJCQkJCWYudHlwZSA9ICJjaGVja2JveCIsIGYuY2hlY2tlZCA9IHRoaXMuX2NoZWNrZWQsIGYuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgKCkgPT4gewoJCQkJCQkJCXRoaXMuX2NoZWNrZWQgPSBmLmNoZWNrZWQsIHRoaXMub25DaGFuZ2UuZGlzcGF0Y2godGhpcy5fY2hlY2tlZCk7CgkJCQkJCQl9KTsKCQkJCQkJCWxldCBwID0gXy5BLmNyZWF0ZUVsKCJzcGFuIik7CgkJCQkJCQlyZXR1cm4gKDAsIGguWFgpKHRoaXMuX2xhYmVsSHRtbCwgcCksIGQuYXBwZW5kKGYsIHApLCB7CgkJCQkJCQkJY29udGFpbmVyOiBkLAoJCQkJCQkJCWlucHV0OiBmLAoJCQkJCQkJCWxhYmVsOiBwCgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJCWFkZEV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJcmV0dXJuIHRoaXMub25DaGFuZ2UuYWRkTGlzdGVuZXIoZiksIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbkNoYW5nZS5yZW1vdmVMaXN0ZW5lcihmKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlzZXQgaGlkZGVuKGQpIHsKCQkJCQkJCXRoaXMuY29udGFpbmVyLmhpZGRlbiA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IGhpZGRlbigpIHsKCQkJCQkJCXJldHVybiB0aGlzLmNvbnRhaW5lci5oaWRkZW47CgkJCQkJCX0KCQkJCQkJZ2V0IGRpc2FibGVkKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuaW5wdXQuZGlzYWJsZWQ7CgkJCQkJCX0KCQkJCQkJc2V0IGRpc2FibGVkKGQpIHsKCQkJCQkJCXRoaXMuaW5wdXQuZGlzYWJsZWQgPSBkOwoJCQkJCQl9CgkJCQkJCWdldCBjaGVja2VkKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuX2NoZWNrZWQ7CgkJCQkJCX0KCQkJCQkJc2V0IGNoZWNrZWQoZCkgewoJCQkJCQkJdGhpcy5fY2hlY2tlZCAhPT0gZCAmJiAodGhpcy5fY2hlY2tlZCA9IHRoaXMuaW5wdXQuY2hlY2tlZCA9IGQsIHRoaXMub25DaGFuZ2UuZGlzcGF0Y2godGhpcy5fY2hlY2tlZCkpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91aS9jb21wb25lbnRzL2RldGFpbHMudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBEZXRhaWxzIH0pOwoJCQkJCXZhciBoID0gcCgiLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiKSwgZyA9IHAoIi4vc3JjL2NvcmUvZXZlbnRJbXBsLnRzIiksIF8gPSBwKCIuL3NyYy91aS5qcyIpLCB2ID0gcCgiLi9zcmMvdWkvaWNvbnMudHMiKSwgYiA9IGQoW19dKTsKCQkJCQlfID0gKGIudGhlbiA/IChhd2FpdCBiKSgpIDogYilbMF07CgkJCQkJY2xhc3MgRGV0YWlscyB7CgkJCQkJCWNvbnRhaW5lcjsKCQkJCQkJaGVhZGVyOwoJCQkJCQlhcnJvd0ljb247CgkJCQkJCW9uQ2xpY2sgPSBuZXcgZy5aKCk7CgkJCQkJCV90aXRsZUh0bWw7CgkJCQkJCWNvbnN0cnVjdG9yKHsgdGl0bGVIdG1sOiBkIH0pIHsKCQkJCQkJCXRoaXMuX3RpdGxlSHRtbCA9IGQ7CgkJCQkJCQlsZXQgZiA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTsKCQkJCQkJCXRoaXMuY29udGFpbmVyID0gZi5jb250YWluZXIsIHRoaXMuaGVhZGVyID0gZi5oZWFkZXIsIHRoaXMuYXJyb3dJY29uID0gZi5hcnJvd0ljb247CgkJCQkJCX0KCQkJCQkJY3JlYXRlRWxlbWVudHMoKSB7CgkJCQkJCQlsZXQgZCA9IF8uQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtZGV0YWlscyJdKSwgZiA9IF8uQS5jcmVhdGVFbCgidm90LWJsb2NrIik7CgkJCQkJCQlmLmFwcGVuZCh0aGlzLl90aXRsZUh0bWwpOwoJCQkJCQkJbGV0IHAgPSBfLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LWRldGFpbHMtYXJyb3ctaWNvbiJdKTsKCQkJCQkJCXJldHVybiAoMCwgaC5YWCkodi5tUSwgcCksIGQuYXBwZW5kKGYsIHApLCBkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCXRoaXMub25DbGljay5kaXNwYXRjaCgpOwoJCQkJCQkJfSksIHsKCQkJCQkJCQljb250YWluZXI6IGQsCgkJCQkJCQkJaGVhZGVyOiBmLAoJCQkJCQkJCWFycm93SWNvbjogcAoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlhZGRFdmVudExpc3RlbmVyKGQsIGYpIHsKCQkJCQkJCXJldHVybiB0aGlzLm9uQ2xpY2suYWRkTGlzdGVuZXIoZiksIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbkNsaWNrLnJlbW92ZUxpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXNldCBoaWRkZW4oZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuaGlkZGVuID0gZDsKCQkJCQkJfQoJCQkJCQlnZXQgaGlkZGVuKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLmhpZGRlbjsKCQkJCQkJfQoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvdWkvY29tcG9uZW50cy9kaWFsb2cudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBEaWFsb2cgfSk7CgkJCQkJdmFyIGggPSBwKCIuL3NyYy9jb3JlL2V2ZW50SW1wbC50cyIpLCBnID0gcCgiLi9zcmMvdWkuanMiKSwgXyA9IHAoIi4vc3JjL3VpL2ljb25zLnRzIiksIHYgPSBkKFtnXSk7CgkJCQkJZyA9ICh2LnRoZW4gPyAoYXdhaXQgdikoKSA6IHYpWzBdOwoJCQkJCWNsYXNzIERpYWxvZyB7CgkJCQkJCWNvbnRhaW5lcjsKCQkJCQkJYmFja2Ryb3A7CgkJCQkJCWJveDsKCQkJCQkJY29udGVudFdyYXBwZXI7CgkJCQkJCWhlYWRlckNvbnRhaW5lcjsKCQkJCQkJdGl0bGVDb250YWluZXI7CgkJCQkJCXRpdGxlOwoJCQkJCQljbG9zZUJ1dHRvbjsKCQkJCQkJYm9keUNvbnRhaW5lcjsKCQkJCQkJZm9vdGVyQ29udGFpbmVyOwoJCQkJCQlvbkNsb3NlID0gbmV3IGguWigpOwoJCQkJCQlfdGl0bGVIdG1sOwoJCQkJCQlfaXNUZW1wOwoJCQkJCQljb25zdHJ1Y3Rvcih7IHRpdGxlSHRtbDogZCwgaXNUZW1wOiBmID0gITEgfSkgewoJCQkJCQkJdGhpcy5fdGl0bGVIdG1sID0gZCwgdGhpcy5faXNUZW1wID0gZjsKCQkJCQkJCWxldCBwID0gdGhpcy5jcmVhdGVFbGVtZW50cygpOwoJCQkJCQkJdGhpcy5jb250YWluZXIgPSBwLmNvbnRhaW5lciwgdGhpcy5iYWNrZHJvcCA9IHAuYmFja2Ryb3AsIHRoaXMuYm94ID0gcC5ib3gsIHRoaXMuY29udGVudFdyYXBwZXIgPSBwLmNvbnRlbnRXcmFwcGVyLCB0aGlzLmhlYWRlckNvbnRhaW5lciA9IHAuaGVhZGVyQ29udGFpbmVyLCB0aGlzLnRpdGxlQ29udGFpbmVyID0gcC50aXRsZUNvbnRhaW5lciwgdGhpcy50aXRsZSA9IHAudGl0bGUsIHRoaXMuY2xvc2VCdXR0b24gPSBwLmNsb3NlQnV0dG9uLCB0aGlzLmJvZHlDb250YWluZXIgPSBwLmJvZHlDb250YWluZXIsIHRoaXMuZm9vdGVyQ29udGFpbmVyID0gcC5mb290ZXJDb250YWluZXI7CgkJCQkJCX0KCQkJCQkJY3JlYXRlRWxlbWVudHMoKSB7CgkJCQkJCQlsZXQgZCA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtZGlhbG9nLWNvbnRhaW5lciJdKTsKCQkJCQkJCXRoaXMuX2lzVGVtcCAmJiBkLmNsYXNzTGlzdC5hZGQoInZvdC1kaWFsb2ctdGVtcCIpLCBkLmhpZGRlbiA9ICF0aGlzLl9pc1RlbXA7CgkJCQkJCQlsZXQgZiA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtZGlhbG9nLWJhY2tkcm9wIl0pLCBwID0gZy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1kaWFsb2ciXSksIG0gPSBnLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LWRpYWxvZy1jb250ZW50LXdyYXBwZXIiXSksIGggPSBnLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LWRpYWxvZy1oZWFkZXItY29udGFpbmVyIl0pLCB2ID0gZy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1kaWFsb2ctdGl0bGUtY29udGFpbmVyIl0pLCBiID0gZy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1kaWFsb2ctdGl0bGUiXSk7CgkJCQkJCQliLmFwcGVuZCh0aGlzLl90aXRsZUh0bWwpLCB2LmFwcGVuZENoaWxkKGIpOwoJCQkJCQkJbGV0IHggPSBnLkEuY3JlYXRlSWNvbkJ1dHRvbihfLmpyKTsKCQkJCQkJCXguY2xhc3NMaXN0LmFkZCgidm90LWRpYWxvZy1jbG9zZS1idXR0b24iKSwgZi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKCQkJCQkJCQl0aGlzLmNsb3NlKCk7CgkJCQkJCQl9KSwgeC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKCQkJCQkJCQl0aGlzLmNsb3NlKCk7CgkJCQkJCQl9KSwgaC5hcHBlbmQodiwgeCk7CgkJCQkJCQlsZXQgQyA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtZGlhbG9nLWJvZHktY29udGFpbmVyIl0pLCB3ID0gZy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1kaWFsb2ctZm9vdGVyLWNvbnRhaW5lciJdKTsKCQkJCQkJCXJldHVybiBtLmFwcGVuZChoLCBDLCB3KSwgcC5hcHBlbmRDaGlsZChtKSwgZC5hcHBlbmQoZiwgcCksIHsKCQkJCQkJCQljb250YWluZXI6IGQsCgkJCQkJCQkJYmFja2Ryb3A6IGYsCgkJCQkJCQkJYm94OiBwLAoJCQkJCQkJCWNvbnRlbnRXcmFwcGVyOiBtLAoJCQkJCQkJCWhlYWRlckNvbnRhaW5lcjogaCwKCQkJCQkJCQl0aXRsZUNvbnRhaW5lcjogdiwKCQkJCQkJCQl0aXRsZTogYiwKCQkJCQkJCQljbG9zZUJ1dHRvbjogeCwKCQkJCQkJCQlib2R5Q29udGFpbmVyOiBDLAoJCQkJCQkJCWZvb3RlckNvbnRhaW5lcjogdwoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlhZGRFdmVudExpc3RlbmVyKGQsIGYpIHsKCQkJCQkJCXJldHVybiB0aGlzLm9uQ2xvc2UuYWRkTGlzdGVuZXIoZiksIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbkNsb3NlLnJlbW92ZUxpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCW9wZW4oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5oaWRkZW4gPSAhMSwgdGhpczsKCQkJCQkJfQoJCQkJCQlyZW1vdmUoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5jb250YWluZXIucmVtb3ZlKCksIHRoaXMub25DbG9zZS5kaXNwYXRjaCgpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWNsb3NlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuX2lzVGVtcCA/IHRoaXMucmVtb3ZlKCkgOiAodGhpcy5oaWRkZW4gPSAhMCwgdGhpcy5vbkNsb3NlLmRpc3BhdGNoKCksIHRoaXMpOwoJCQkJCQl9CgkJCQkJCXNldCBoaWRkZW4oZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuaGlkZGVuID0gZDsKCQkJCQkJfQoJCQkJCQlnZXQgaGlkZGVuKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLmhpZGRlbjsKCQkJCQkJfQoJCQkJCQlnZXQgaXNEaWFsb2dPcGVuKCkgewoJCQkJCQkJcmV0dXJuICF0aGlzLmNvbnRhaW5lci5oaWRkZW47CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvZG93bmxvYWRCdXR0b24udHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBEb3dubG9hZEJ1dHRvbiB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2NvcmUvZXZlbnRJbXBsLnRzIiksIGcgPSBwKCIuL3NyYy91aS5qcyIpLCBfID0gcCgiLi9zcmMvdWkvaWNvbnMudHMiKSwgdiA9IGQoW2ddKTsKCQkJCQlnID0gKHYudGhlbiA/IChhd2FpdCB2KSgpIDogdilbMF07CgkJCQkJY2xhc3MgRG93bmxvYWRCdXR0b24gewoJCQkJCQlidXR0b247CgkJCQkJCWxvYWRlck1haW47CgkJCQkJCWxvYWRlclRleHQ7CgkJCQkJCW9uQ2xpY2sgPSBuZXcgaC5aKCk7CgkJCQkJCV9wcm9ncmVzcyA9IDA7CgkJCQkJCWNvbnN0cnVjdG9yKCkgewoJCQkJCQkJbGV0IGQgPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7CgkJCQkJCQl0aGlzLmJ1dHRvbiA9IGQuYnV0dG9uLCB0aGlzLmxvYWRlck1haW4gPSBkLmxvYWRlck1haW4sIHRoaXMubG9hZGVyVGV4dCA9IGQubG9hZGVyVGV4dDsKCQkJCQkJfQoJCQkJCQljcmVhdGVFbGVtZW50cygpIHsKCQkJCQkJCWxldCBkID0gZy5BLmNyZWF0ZUljb25CdXR0b24oXy5uTyksIGYgPSBkLnF1ZXJ5U2VsZWN0b3IoIi52b3QtbG9hZGVyLW1haW4iKSwgcCA9IGQucXVlcnlTZWxlY3RvcigiLnZvdC1sb2FkZXItdGV4dCIpOwoJCQkJCQkJcmV0dXJuIGQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy5vbkNsaWNrLmRpc3BhdGNoKCk7CgkJCQkJCQl9KSwgewoJCQkJCQkJCWJ1dHRvbjogZCwKCQkJCQkJCQlsb2FkZXJNYWluOiBmLAoJCQkJCQkJCWxvYWRlclRleHQ6IHAKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYWRkRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbkNsaWNrLmFkZExpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXJlbW92ZUV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJcmV0dXJuIHRoaXMub25DbGljay5yZW1vdmVMaXN0ZW5lcihmKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlnZXQgcHJvZ3Jlc3MoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fcHJvZ3Jlc3M7CgkJCQkJCX0KCQkJCQkJc2V0IHByb2dyZXNzKGQpIHsKCQkJCQkJCXRoaXMuX3Byb2dyZXNzID0gZCwgdGhpcy5sb2FkZXJUZXh0LnRleHRDb250ZW50ID0gZCA9PT0gMCA/ICIiIDogZC50b1N0cmluZygpLCAhKGQgPiAxKSAmJiAodGhpcy5sb2FkZXJNYWluLnN0eWxlLm9wYWNpdHkgPSBkID09PSAwID8gIjEiIDogIjAiKTsKCQkJCQkJfQoJCQkJCQlzZXQgaGlkZGVuKGQpIHsKCQkJCQkJCXRoaXMuYnV0dG9uLmhpZGRlbiA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IGhpZGRlbigpIHsKCQkJCQkJCXJldHVybiB0aGlzLmJ1dHRvbi5oaWRkZW47CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvaG90a2V5QnV0dG9uLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsKCQkJCQkJQTogKCkgPT4gSG90a2V5QnV0dG9uLAoJCQkJCQlfOiAoKSA9PiBmb3JtYXRLZXlzQ29tYm8KCQkJCQl9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2NvcmUvZXZlbnRJbXBsLnRzIiksIGcgPSBwKCIuL3NyYy9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uUHJvdmlkZXIudHMiKSwgXyA9IHAoIi4vc3JjL3VpLmpzIiksIHYgPSBkKFtnLCBfXSk7CgkJCQkJW2csIF9dID0gdi50aGVuID8gKGF3YWl0IHYpKCkgOiB2OwoJCQkJCWNsYXNzIEhvdGtleUJ1dHRvbiB7CgkJCQkJCWNvbnRhaW5lcjsKCQkJCQkJYnV0dG9uOwoJCQkJCQlvbkNoYW5nZSA9IG5ldyBoLlooKTsKCQkJCQkJX2xhYmVsSHRtbDsKCQkJCQkJX2tleTsKCQkJCQkJcHJlc3NlZEtleXM7CgkJCQkJCXJlY29yZGluZyA9ICExOwoJCQkJCQljb25zdHJ1Y3Rvcih7IGxhYmVsSHRtbDogZCwga2V5OiBmID0gbnVsbCB9KSB7CgkJCQkJCQl0aGlzLl9sYWJlbEh0bWwgPSBkLCB0aGlzLl9rZXkgPSBmLCB0aGlzLnByZXNzZWRLZXlzID0gbmV3IFNldCgpOwoJCQkJCQkJbGV0IHAgPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7CgkJCQkJCQl0aGlzLmNvbnRhaW5lciA9IHAuY29udGFpbmVyLCB0aGlzLmJ1dHRvbiA9IHAuYnV0dG9uOwoJCQkJCQl9CgkJCQkJCXN0b3BSZWNvcmRpbmdLZXlzKCkgewoJCQkJCQkJdGhpcy5yZWNvcmRpbmcgPSAhMSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMua2V5ZG93bkhhbmRsZSksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5rZXl1cE9yQmx1ckhhbmRsZSksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLCB0aGlzLmtleXVwT3JCbHVySGFuZGxlKSwgdGhpcy5idXR0b24ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXN0YXR1cyIpLCB0aGlzLnByZXNzZWRLZXlzLmNsZWFyKCk7CgkJCQkJCX0KCQkJCQkJa2V5ZG93bkhhbmRsZSA9IChkKSA9PiB7CgkJCQkJCQlpZiAoISghdGhpcy5yZWNvcmRpbmcgfHwgZC5yZXBlYXQpKSB7CgkJCQkJCQkJaWYgKGQucHJldmVudERlZmF1bHQoKSwgZC5jb2RlID09PSAiRXNjYXBlIikgewoJCQkJCQkJCQl0aGlzLmtleSA9IG51bGwsIHRoaXMuYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5rZXlUZXh0LCB0aGlzLnN0b3BSZWNvcmRpbmdLZXlzKCk7CgkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQl9CgkJCQkJCQkJdGhpcy5wcmVzc2VkS2V5cy5hZGQoZC5jb2RlKSwgdGhpcy5idXR0b24udGV4dENvbnRlbnQgPSBmb3JtYXRLZXlzQ29tYm8odGhpcy5wcmVzc2VkS2V5cyk7CgkJCQkJCQl9CgkJCQkJCX07CgkJCQkJCWtleXVwT3JCbHVySGFuZGxlID0gKCkgPT4gewoJCQkJCQkJdGhpcy5yZWNvcmRpbmcgJiYgKHRoaXMua2V5ID0gZm9ybWF0S2V5c0NvbWJvKHRoaXMucHJlc3NlZEtleXMpLCB0aGlzLnN0b3BSZWNvcmRpbmdLZXlzKCkpOwoJCQkJCQl9OwoJCQkJCQljcmVhdGVFbGVtZW50cygpIHsKCQkJCQkJCWxldCBkID0gXy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1ob3RrZXkiXSksIGYgPSBfLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LWhvdGtleS1sYWJlbCJdKTsKCQkJCQkJCWYudGV4dENvbnRlbnQgPSB0aGlzLl9sYWJlbEh0bWw7CgkJCQkJCQlsZXQgcCA9IF8uQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtaG90a2V5LWJ1dHRvbiJdKTsKCQkJCQkJCXJldHVybiBwLnRleHRDb250ZW50ID0gdGhpcy5rZXlUZXh0LCBwLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCXAuZGF0YXNldC5zdGF0dXMgPSAiYWN0aXZlIiwgdGhpcy5yZWNvcmRpbmcgPSAhMCwgdGhpcy5wcmVzc2VkS2V5cy5jbGVhcigpLCB0aGlzLmJ1dHRvbi50ZXh0Q29udGVudCA9IGcuai5nZXQoIlByZXNzVGhlS2V5Q29tYmluYXRpb24iKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMua2V5ZG93bkhhbmRsZSksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5rZXl1cE9yQmx1ckhhbmRsZSksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCB0aGlzLmtleXVwT3JCbHVySGFuZGxlKTsKCQkJCQkJCX0pLCBkLmFwcGVuZChmLCBwKSwgewoJCQkJCQkJCWNvbnRhaW5lcjogZCwKCQkJCQkJCQlidXR0b246IHAsCgkJCQkJCQkJbGFiZWw6IGYKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYWRkRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbkNoYW5nZS5hZGRMaXN0ZW5lcihmKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlyZW1vdmVFdmVudExpc3RlbmVyKGQsIGYpIHsKCQkJCQkJCXJldHVybiB0aGlzLm9uQ2hhbmdlLnJlbW92ZUxpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXNldCBoaWRkZW4oZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuaGlkZGVuID0gZDsKCQkJCQkJfQoJCQkJCQlnZXQgaGlkZGVuKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLmhpZGRlbjsKCQkJCQkJfQoJCQkJCQlnZXQga2V5KCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuX2tleTsKCQkJCQkJfQoJCQkJCQlnZXQga2V5VGV4dCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLl9rZXkgPyB0aGlzLl9rZXk/LnJlcGxhY2UoIktleSIsICIiKS5yZXBsYWNlKCJEaWdpdCIsICIiKSA6IGcuai5nZXQoIk5vbmUiKTsKCQkJCQkJfQoJCQkJCQlzZXQga2V5KGQpIHsKCQkJCQkJCXRoaXMuX2tleSAhPT0gZCAmJiAodGhpcy5fa2V5ID0gZCwgdGhpcy5idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLmtleVRleHQsIHRoaXMub25DaGFuZ2UuZGlzcGF0Y2godGhpcy5fa2V5KSk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJZnVuY3Rpb24gZm9ybWF0S2V5c0NvbWJvKGQpIHsKCQkJCQkJbGV0IGYgPSBBcnJheS5pc0FycmF5KGQpID8gZCA6IEFycmF5LmZyb20oZCk7CgkJCQkJCXJldHVybiBmLm1hcCgoZCkgPT4gZC5yZXBsYWNlKCJLZXkiLCAiIikucmVwbGFjZSgiRGlnaXQiLCAiIikpLmpvaW4oIisiKTsKCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvbGFiZWwudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBMYWJlbCB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiksIGcgPSBwKCIuL3NyYy91aS5qcyIpLCBfID0gZChbZ10pOwoJCQkJCWcgPSAoXy50aGVuID8gKGF3YWl0IF8pKCkgOiBfKVswXTsKCQkJCQljbGFzcyBMYWJlbCB7CgkJCQkJCWNvbnRhaW5lcjsKCQkJCQkJaWNvbjsKCQkJCQkJX2xhYmVsVGV4dDsKCQkJCQkJX2ljb247CgkJCQkJCWNvbnN0cnVjdG9yKHsgbGFiZWxUZXh0OiBkLCBpY29uOiBmIH0pIHsKCQkJCQkJCXRoaXMuX2xhYmVsVGV4dCA9IGQsIHRoaXMuX2ljb24gPSBmOwoJCQkJCQkJbGV0IHAgPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7CgkJCQkJCQl0aGlzLmNvbnRhaW5lciA9IHAuY29udGFpbmVyLCB0aGlzLmljb24gPSBwLmljb247CgkJCQkJCX0KCQkJCQkJY3JlYXRlRWxlbWVudHMoKSB7CgkJCQkJCQlsZXQgZCA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtbGFiZWwiXSk7CgkJCQkJCQlkLnRleHRDb250ZW50ID0gdGhpcy5fbGFiZWxUZXh0OwoJCQkJCQkJbGV0IGYgPSBnLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LWxhYmVsLWljb24iXSk7CgkJCQkJCQlyZXR1cm4gdGhpcy5faWNvbiAmJiAoMCwgaC5YWCkodGhpcy5faWNvbiwgZiksIGQuYXBwZW5kQ2hpbGQoZiksIHsKCQkJCQkJCQljb250YWluZXI6IGQsCgkJCQkJCQkJaWNvbjogZgoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlzZXQgaGlkZGVuKGQpIHsKCQkJCQkJCXRoaXMuY29udGFpbmVyLmhpZGRlbiA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IGhpZGRlbigpIHsKCQkJCQkJCXJldHVybiB0aGlzLmNvbnRhaW5lci5oaWRkZW47CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvbGFuZ3VhZ2VQYWlyU2VsZWN0LnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgQTogKCkgPT4gTGFuZ3VhZ2VQYWlyU2VsZWN0IH0pOwoJCQkJCXZhciBoID0gcCgiLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiKSwgZyA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBfID0gcCgiLi9zcmMvdWkuanMiKSwgdiA9IHAoIi4vc3JjL3VpL2ljb25zLnRzIiksIGIgPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL3NlbGVjdC50cyIpLCB4ID0gZChbCgkJCQkJCWcsCgkJCQkJCV8sCgkJCQkJCWIKCQkJCQldKTsKCQkJCQlbZywgXywgYl0gPSB4LnRoZW4gPyAoYXdhaXQgeCkoKSA6IHg7CgkJCQkJY2xhc3MgTGFuZ3VhZ2VQYWlyU2VsZWN0IHsKCQkJCQkJY29udGFpbmVyOwoJCQkJCQlmcm9tU2VsZWN0OwoJCQkJCQlkaXJlY3Rpb25JY29uOwoJCQkJCQl0b1NlbGVjdDsKCQkJCQkJZGlhbG9nUGFyZW50OwoJCQkJCQlfZnJvbVNlbGVjdFRpdGxlOwoJCQkJCQlfZnJvbURpYWxvZ1RpdGxlOwoJCQkJCQlfZnJvbUl0ZW1zOwoJCQkJCQlfdG9TZWxlY3RUaXRsZTsKCQkJCQkJX3RvRGlhbG9nVGl0bGU7CgkJCQkJCV90b0l0ZW1zOwoJCQkJCQljb25zdHJ1Y3Rvcih7IGZyb206IHsgc2VsZWN0VGl0bGU6IGQgPSBnLmouZ2V0KCJ2aWRlb0xhbmd1YWdlIiksIGRpYWxvZ1RpdGxlOiBmID0gZy5qLmdldCgidmlkZW9MYW5ndWFnZSIpLCBpdGVtczogcCB9LCB0bzogeyBzZWxlY3RUaXRsZTogbSA9IGcuai5nZXQoInRyYW5zbGF0aW9uTGFuZ3VhZ2UiKSwgZGlhbG9nVGl0bGU6IGggPSBnLmouZ2V0KCJ0cmFuc2xhdGlvbkxhbmd1YWdlIiksIGl0ZW1zOiBfIH0sIGRpYWxvZ1BhcmVudDogdiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB9KSB7CgkJCQkJCQl0aGlzLl9mcm9tU2VsZWN0VGl0bGUgPSBkLCB0aGlzLl9mcm9tRGlhbG9nVGl0bGUgPSBmLCB0aGlzLl9mcm9tSXRlbXMgPSBwLCB0aGlzLl90b1NlbGVjdFRpdGxlID0gbSwgdGhpcy5fdG9EaWFsb2dUaXRsZSA9IGgsIHRoaXMuX3RvSXRlbXMgPSBfLCB0aGlzLmRpYWxvZ1BhcmVudCA9IHY7CgkJCQkJCQlsZXQgYiA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTsKCQkJCQkJCXRoaXMuY29udGFpbmVyID0gYi5jb250YWluZXIsIHRoaXMuZnJvbVNlbGVjdCA9IGIuZnJvbVNlbGVjdCwgdGhpcy5kaXJlY3Rpb25JY29uID0gYi5kaXJlY3Rpb25JY29uLCB0aGlzLnRvU2VsZWN0ID0gYi50b1NlbGVjdDsKCQkJCQkJfQoJCQkJCQljcmVhdGVFbGVtZW50cygpIHsKCQkJCQkJCWxldCBkID0gXy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1sYW5nLXNlbGVjdCJdKSwgZiA9IG5ldyBiLkEoewoJCQkJCQkJCXNlbGVjdFRpdGxlOiB0aGlzLl9mcm9tU2VsZWN0VGl0bGUsCgkJCQkJCQkJZGlhbG9nVGl0bGU6IHRoaXMuX2Zyb21EaWFsb2dUaXRsZSwKCQkJCQkJCQlpdGVtczogdGhpcy5fZnJvbUl0ZW1zLAoJCQkJCQkJCWRpYWxvZ1BhcmVudDogdGhpcy5kaWFsb2dQYXJlbnQKCQkJCQkJCX0pLCBwID0gXy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1sYW5nLXNlbGVjdC1pY29uIl0pOwoJCQkJCQkJKDAsIGguWFgpKHYuejMsIHApOwoJCQkJCQkJbGV0IG0gPSBuZXcgYi5BKHsKCQkJCQkJCQlzZWxlY3RUaXRsZTogdGhpcy5fdG9TZWxlY3RUaXRsZSwKCQkJCQkJCQlkaWFsb2dUaXRsZTogdGhpcy5fdG9EaWFsb2dUaXRsZSwKCQkJCQkJCQlpdGVtczogdGhpcy5fdG9JdGVtcywKCQkJCQkJCQlkaWFsb2dQYXJlbnQ6IHRoaXMuZGlhbG9nUGFyZW50CgkJCQkJCQl9KTsKCQkJCQkJCXJldHVybiBkLmFwcGVuZChmLmNvbnRhaW5lciwgcCwgbS5jb250YWluZXIpLCB7CgkJCQkJCQkJY29udGFpbmVyOiBkLAoJCQkJCQkJCWZyb21TZWxlY3Q6IGYsCgkJCQkJCQkJZGlyZWN0aW9uSWNvbjogcCwKCQkJCQkJCQl0b1NlbGVjdDogbQoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlzZXRTZWxlY3RlZFZhbHVlcyhkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5mcm9tU2VsZWN0LnNldFNlbGVjdGVkVmFsdWUoZCksIHRoaXMudG9TZWxlY3Quc2V0U2VsZWN0ZWRWYWx1ZShmKSwgdGhpczsKCQkJCQkJfQoJCQkJCQl1cGRhdGVJdGVtcyhkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fZnJvbUl0ZW1zID0gZCwgdGhpcy5fdG9JdGVtcyA9IGYsIHRoaXMuZnJvbVNlbGVjdCA9IHRoaXMuZnJvbVNlbGVjdC51cGRhdGVJdGVtcyhkKSwgdGhpcy50b1NlbGVjdCA9IHRoaXMudG9TZWxlY3QudXBkYXRlSXRlbXMoZiksIHRoaXM7CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvc2VsZWN0LnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgQTogKCkgPT4gU2VsZWN0IH0pOwoJCQkJCXZhciBoID0gcCgiLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiKSwgZyA9IHAoIi4vc3JjL2NvcmUvZXZlbnRJbXBsLnRzIiksIF8gPSBwKCIuL3NyYy9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uUHJvdmlkZXIudHMiKSwgdiA9IHAoIi4vc3JjL3VpLmpzIiksIGIgPSBwKCIuL3NyYy91aS9pY29ucy50cyIpLCB4ID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy9kaWFsb2cudHMiKSwgQyA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvdGV4dGZpZWxkLnRzIiksIHcgPSBkKFsKCQkJCQkJXywKCQkJCQkJdiwKCQkJCQkJeCwKCQkJCQkJQwoJCQkJCV0pOwoJCQkJCVtfLCB2LCB4LCBDXSA9IHcudGhlbiA/IChhd2FpdCB3KSgpIDogdzsKCQkJCQljbGFzcyBTZWxlY3QgewoJCQkJCQljb250YWluZXI7CgkJCQkJCW91dGVyOwoJCQkJCQlhcnJvd0ljb247CgkJCQkJCXRpdGxlOwoJCQkJCQlkaWFsb2dQYXJlbnQ7CgkJCQkJCWxhYmVsRWxlbWVudDsKCQkJCQkJX3NlbGVjdFRpdGxlOwoJCQkJCQlfZGlhbG9nVGl0bGU7CgkJCQkJCW11bHRpU2VsZWN0OwoJCQkJCQlfaXRlbXM7CgkJCQkJCWlzTG9hZGluZyA9ICExOwoJCQkJCQlpc0RpYWxvZ09wZW4gPSAhMTsKCQkJCQkJb25TZWxlY3RJdGVtID0gbmV3IGcuWigpOwoJCQkJCQlvbkJlZm9yZU9wZW4gPSBuZXcgZy5aKCk7CgkJCQkJCWNvbnRlbnRMaXN0OwoJCQkJCQlzZWxlY3RlZEl0ZW1zID0gW107CgkJCQkJCXNlbGVjdGVkVmFsdWVzOwoJCQkJCQljb25zdHJ1Y3Rvcih7IHNlbGVjdFRpdGxlOiBkLCBkaWFsb2dUaXRsZTogZiwgaXRlbXM6IHAsIGxhYmVsRWxlbWVudDogbSwgZGlhbG9nUGFyZW50OiBoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBtdWx0aVNlbGVjdDogZyB9KSB7CgkJCQkJCQl0aGlzLl9zZWxlY3RUaXRsZSA9IGQsIHRoaXMuX2RpYWxvZ1RpdGxlID0gZiwgdGhpcy5faXRlbXMgPSBwLCB0aGlzLm11bHRpU2VsZWN0ID0gZyA/PyAhMSwgdGhpcy5sYWJlbEVsZW1lbnQgPSBtLCB0aGlzLmRpYWxvZ1BhcmVudCA9IGgsIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLmNhbGNTZWxlY3RlZFZhbHVlcygpOwoJCQkJCQkJbGV0IF8gPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7CgkJCQkJCQl0aGlzLmNvbnRhaW5lciA9IF8uY29udGFpbmVyLCB0aGlzLm91dGVyID0gXy5vdXRlciwgdGhpcy5hcnJvd0ljb24gPSBfLmFycm93SWNvbiwgdGhpcy50aXRsZSA9IF8udGl0bGU7CgkJCQkJCX0KCQkJCQkJc3RhdGljIGdlbkxhbmd1YWdlSXRlbXMoZCwgZikgewoJCQkJCQkJcmV0dXJuIGQubWFwKChkKSA9PiB7CgkJCQkJCQkJbGV0IHAgPSBgbGFuZ3MuJHtkfWAsIG0gPSBfLmouZ2V0KHApOwoJCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJCWxhYmVsOiBtID09PSBwID8gZC50b1VwcGVyQ2FzZSgpIDogbSwKCQkJCQkJCQkJdmFsdWU6IGQsCgkJCQkJCQkJCXNlbGVjdGVkOiBmID09PSBkCgkJCQkJCQkJfTsKCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJCW11bHRpU2VsZWN0SXRlbUhhbmRsZSA9IChkLCBmKSA9PiB7CgkJCQkJCQlsZXQgcCA9IGYudmFsdWU7CgkJCQkJCQl0aGlzLnNlbGVjdGVkVmFsdWVzLmhhcyhwKSAmJiB0aGlzLnNlbGVjdGVkVmFsdWVzLnNpemUgPiAxID8gKHRoaXMuc2VsZWN0ZWRWYWx1ZXMuZGVsZXRlKHApLCBmLnNlbGVjdGVkID0gITEpIDogKHRoaXMuc2VsZWN0ZWRWYWx1ZXMuYWRkKHApLCBmLnNlbGVjdGVkID0gITApLCBkLmRhdGFzZXQudm90U2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmhhcyhwKS50b1N0cmluZygpLCB0aGlzLnVwZGF0ZVNlbGVjdGVkU3RhdGUoKSwgdGhpcy5vblNlbGVjdEl0ZW0uZGlzcGF0Y2goQXJyYXkuZnJvbSh0aGlzLnNlbGVjdGVkVmFsdWVzKSk7CgkJCQkJCX07CgkJCQkJCXNpbmdsZVNlbGVjdEl0ZW1IYW5kbGUgPSAoZCkgPT4gewoJCQkJCQkJbGV0IGYgPSBkLnZhbHVlOwoJCQkJCQkJdGhpcy5zZWxlY3RlZFZhbHVlcyA9IG5ldyBTZXQoW2ZdKTsKCQkJCQkJCWZvciAobGV0IGQgb2YgdGhpcy5zZWxlY3RlZEl0ZW1zKSBkLmRhdGFzZXQudm90U2VsZWN0ZWQgPSAoZC5kYXRhc2V0LnZvdFZhbHVlID09PSBmKS50b1N0cmluZygpOwoJCQkJCQkJZm9yIChsZXQgZCBvZiB0aGlzLl9pdGVtcykgZC5zZWxlY3RlZCA9IGQudmFsdWUgPT09IGY7CgkJCQkJCQl0aGlzLnVwZGF0ZVRpdGxlKCksIHRoaXMub25TZWxlY3RJdGVtLmRpc3BhdGNoKGYpOwoJCQkJCQl9OwoJCQkJCQljcmVhdGVEaWFsb2dDb250ZW50TGlzdCgpIHsKCQkJCQkJCWxldCBkID0gdi5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zZWxlY3QtY29udGVudC1saXN0Il0pOwoJCQkJCQkJZm9yIChsZXQgZiBvZiB0aGlzLl9pdGVtcykgewoJCQkJCQkJCWxldCBwID0gdi5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zZWxlY3QtY29udGVudC1pdGVtIl0pOwoJCQkJCQkJCXAudGV4dENvbnRlbnQgPSBmLmxhYmVsLCBwLmRhdGFzZXQudm90U2VsZWN0ZWQgPSBmLnNlbGVjdGVkID09PSAhMCA/ICJ0cnVlIiA6ICJmYWxzZSIsIHAuZGF0YXNldC52b3RWYWx1ZSA9IGYudmFsdWUsIGYuZGlzYWJsZWQgJiYgKHAuaW5lcnQgPSAhMCksIHAuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZCkgPT4gewoJCQkJCQkJCQlpZiAoIWQudGFyZ2V0LmluZXJ0KSByZXR1cm4gdGhpcy5tdWx0aVNlbGVjdCA/IHRoaXMubXVsdGlTZWxlY3RJdGVtSGFuZGxlKHAsIGYpIDogdGhpcy5zaW5nbGVTZWxlY3RJdGVtSGFuZGxlKGYpOwoJCQkJCQkJCX0pLCBkLmFwcGVuZENoaWxkKHApOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IE9iamVjdC52YWx1ZXMoZC5jaGlsZE5vZGVzKSwgZDsKCQkJCQkJfQoJCQkJCQljcmVhdGVFbGVtZW50cygpIHsKCQkJCQkJCWxldCBkID0gdi5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zZWxlY3QiXSk7CgkJCQkJCQl0aGlzLmxhYmVsRWxlbWVudCAmJiBkLmFwcGVuZCh0aGlzLmxhYmVsRWxlbWVudCk7CgkJCQkJCQlsZXQgZiA9IHYuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3Qtc2VsZWN0LW91dGVyIl0pLCBwID0gdi5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zZWxlY3QtdGl0bGUiXSk7CgkJCQkJCQlwLnRleHRDb250ZW50ID0gdGhpcy52aXNpYmxlVGV4dDsKCQkJCQkJCWxldCBtID0gdi5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zZWxlY3QtYXJyb3ctaWNvbiJdKTsKCQkJCQkJCXJldHVybiAoMCwgaC5YWCkoYi5tUSwgbSksIGYuYXBwZW5kKHAsIG0pLCBmLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCWlmICghKHRoaXMuaXNMb2FkaW5nIHx8IHRoaXMuaXNEaWFsb2dPcGVuKSkgdHJ5IHsKCQkJCQkJCQkJdGhpcy5pc0xvYWRpbmcgPSAhMDsKCQkJCQkJCQkJbGV0IGQgPSBuZXcgeC5BKHsKCQkJCQkJCQkJCXRpdGxlSHRtbDogdGhpcy5fZGlhbG9nVGl0bGUsCgkJCQkJCQkJCQlpc1RlbXA6ICEwCgkJCQkJCQkJCX0pOwoJCQkJCQkJCQl0aGlzLm9uQmVmb3JlT3Blbi5kaXNwYXRjaChkKSwgdGhpcy5kaWFsb2dQYXJlbnQuYXBwZW5kQ2hpbGQoZC5jb250YWluZXIpOwoJCQkJCQkJCQlsZXQgZiA9IG5ldyBDLkEoeyBsYWJlbEh0bWw6IF8uai5nZXQoInNlYXJjaEZpZWxkIikgfSk7CgkJCQkJCQkJCWYuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoZCkgPT4gewoJCQkJCQkJCQkJZm9yIChsZXQgZiBvZiB0aGlzLnNlbGVjdGVkSXRlbXMpIGYuaGlkZGVuID0gIWYudGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZCk7CgkJCQkJCQkJCX0pLCB0aGlzLmNvbnRlbnRMaXN0ID0gdGhpcy5jcmVhdGVEaWFsb2dDb250ZW50TGlzdCgpLCBkLmJvZHlDb250YWluZXIuYXBwZW5kKGYuY29udGFpbmVyLCB0aGlzLmNvbnRlbnRMaXN0KSwgZC5hZGRFdmVudExpc3RlbmVyKCJjbG9zZSIsICgpID0+IHsKCQkJCQkJCQkJCXRoaXMuaXNEaWFsb2dPcGVuID0gITEsIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IFtdOwoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9IGZpbmFsbHkgewoJCQkJCQkJCQl0aGlzLmlzTG9hZGluZyA9ICExOwoJCQkJCQkJCX0KCQkJCQkJCX0pLCBkLmFwcGVuZENoaWxkKGYpLCB7CgkJCQkJCQkJY29udGFpbmVyOiBkLAoJCQkJCQkJCW91dGVyOiBmLAoJCQkJCQkJCWFycm93SWNvbjogbSwKCQkJCQkJCQl0aXRsZTogcAoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQljYWxjU2VsZWN0ZWRWYWx1ZXMoKSB7CgkJCQkJCQlyZXR1cm4gbmV3IFNldCh0aGlzLl9pdGVtcy5maWx0ZXIoKGQpID0+IGQuc2VsZWN0ZWQpLm1hcCgoZCkgPT4gZC52YWx1ZSkpOwoJCQkJCQl9CgkJCQkJCWFkZEV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJcmV0dXJuIGQgPT09ICJzZWxlY3RJdGVtIiA/IHRoaXMub25TZWxlY3RJdGVtLmFkZExpc3RlbmVyKGYpIDogZCA9PT0gImJlZm9yZU9wZW4iICYmIHRoaXMub25CZWZvcmVPcGVuLmFkZExpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXJlbW92ZUV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJcmV0dXJuIGQgPT09ICJzZWxlY3RJdGVtIiA/IHRoaXMub25TZWxlY3RJdGVtLnJlbW92ZUxpc3RlbmVyKGYpIDogZCA9PT0gImJlZm9yZU9wZW4iICYmIHRoaXMub25CZWZvcmVPcGVuLnJlbW92ZUxpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXVwZGF0ZVRpdGxlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMudGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLnZpc2libGVUZXh0LCB0aGlzOwoJCQkJCQl9CgkJCQkJCXVwZGF0ZVNlbGVjdGVkU3RhdGUoKSB7CgkJCQkJCQlpZiAodGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIGZvciAobGV0IGQgb2YgdGhpcy5zZWxlY3RlZEl0ZW1zKSB7CgkJCQkJCQkJbGV0IGYgPSBkLmRhdGFzZXQudm90VmFsdWU7CgkJCQkJCQkJaWYgKCFmKSBjb250aW51ZTsKCQkJCQkJCQlkLmRhdGFzZXQudm90U2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmhhcyhmKS50b1N0cmluZygpOwoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHRoaXMudXBkYXRlVGl0bGUoKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlzZXRTZWxlY3RlZFZhbHVlKGQpIHsKCQkJCQkJCXRoaXMubXVsdGlTZWxlY3QgPyB0aGlzLnNlbGVjdGVkVmFsdWVzID0gbmV3IFNldChBcnJheS5pc0FycmF5KGQpID8gZC5tYXAoU3RyaW5nKSA6IFtTdHJpbmcoZCldKSA6IHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBuZXcgU2V0KFtTdHJpbmcoZCldKTsKCQkJCQkJCWZvciAobGV0IGQgb2YgdGhpcy5faXRlbXMpIGQuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmhhcyhTdHJpbmcoZC52YWx1ZSkpOwoJCQkJCQkJcmV0dXJuIHRoaXMudXBkYXRlU2VsZWN0ZWRTdGF0ZSgpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXVwZGF0ZUl0ZW1zKGQpIHsKCQkJCQkJCXRoaXMuX2l0ZW1zID0gZCwgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IHRoaXMuY2FsY1NlbGVjdGVkVmFsdWVzKCksIHRoaXMudXBkYXRlU2VsZWN0ZWRTdGF0ZSgpOwoJCQkJCQkJbGV0IGYgPSB0aGlzLmNvbnRlbnRMaXN0Py5wYXJlbnRFbGVtZW50OwoJCQkJCQkJaWYgKCF0aGlzLmNvbnRlbnRMaXN0IHx8ICFmKSByZXR1cm4gdGhpczsKCQkJCQkJCWxldCBwID0gdGhpcy5jb250ZW50TGlzdDsKCQkJCQkJCXJldHVybiB0aGlzLmNvbnRlbnRMaXN0ID0gdGhpcy5jcmVhdGVEaWFsb2dDb250ZW50TGlzdCgpLCBmLnJlcGxhY2VDaGlsZCh0aGlzLmNvbnRlbnRMaXN0LCBwKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlnZXQgdmlzaWJsZVRleHQoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5tdWx0aVNlbGVjdCA/IHRoaXMuX2l0ZW1zLmZpbHRlcigoZCkgPT4gdGhpcy5zZWxlY3RlZFZhbHVlcy5oYXMoZC52YWx1ZSkpLm1hcCgoZCkgPT4gZC5sYWJlbCkuam9pbigiLCAiKSA/PyB0aGlzLl9zZWxlY3RUaXRsZSA6IHRoaXMuX2l0ZW1zLmZpbmQoKGQpID0+IGQuc2VsZWN0ZWQpPy5sYWJlbCA/PyB0aGlzLl9zZWxlY3RUaXRsZTsKCQkJCQkJfQoJCQkJCQlzZXQgc2VsZWN0VGl0bGUoZCkgewoJCQkJCQkJdGhpcy5fc2VsZWN0VGl0bGUgPSBkLCB0aGlzLnVwZGF0ZVRpdGxlKCk7CgkJCQkJCX0KCQkJCQkJc2V0IGhpZGRlbihkKSB7CgkJCQkJCQl0aGlzLmNvbnRhaW5lci5oaWRkZW4gPSBkOwoJCQkJCQl9CgkJCQkJCWdldCBoaWRkZW4oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5jb250YWluZXIuaGlkZGVuOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91aS9jb21wb25lbnRzL3NsaWRlci50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IEE6ICgpID0+IFNsaWRlciB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiksIGcgPSBwKCIuL3NyYy9jb3JlL2V2ZW50SW1wbC50cyIpLCBfID0gcCgiLi9zcmMvdWkuanMiKSwgdiA9IGQoW19dKTsKCQkJCQlfID0gKHYudGhlbiA/IChhd2FpdCB2KSgpIDogdilbMF07CgkJCQkJY2xhc3MgU2xpZGVyIHsKCQkJCQkJY29udGFpbmVyOwoJCQkJCQlpbnB1dDsKCQkJCQkJbGFiZWw7CgkJCQkJCW9uSW5wdXQgPSBuZXcgZy5aKCk7CgkJCQkJCV9sYWJlbEh0bWw7CgkJCQkJCV92YWx1ZTsKCQkJCQkJX21pbjsKCQkJCQkJX21heDsKCQkJCQkJX3N0ZXA7CgkJCQkJCWNvbnN0cnVjdG9yKHsgbGFiZWxIdG1sOiBkLCB2YWx1ZTogZiA9IDUwLCBtaW46IHAgPSAwLCBtYXg6IG0gPSAxMDAsIHN0ZXA6IGggPSAxIH0pIHsKCQkJCQkJCXRoaXMuX2xhYmVsSHRtbCA9IGQsIHRoaXMuX3ZhbHVlID0gZiwgdGhpcy5fbWluID0gcCwgdGhpcy5fbWF4ID0gbSwgdGhpcy5fc3RlcCA9IGg7CgkJCQkJCQlsZXQgZyA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTsKCQkJCQkJCXRoaXMuY29udGFpbmVyID0gZy5jb250YWluZXIsIHRoaXMuaW5wdXQgPSBnLmlucHV0LCB0aGlzLmxhYmVsID0gZy5sYWJlbCwgdGhpcy51cGRhdGUoKTsKCQkJCQkJfQoJCQkJCQl1cGRhdGVQcm9ncmVzcygpIHsKCQkJCQkJCWxldCBkID0gKHRoaXMuX3ZhbHVlIC0gdGhpcy5fbWluKSAvICh0aGlzLl9tYXggLSB0aGlzLl9taW4pOwoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCItLXZvdC1wcm9ncmVzcyIsIGQudG9TdHJpbmcoKSksIHRoaXM7CgkJCQkJCX0KCQkJCQkJdXBkYXRlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuX3ZhbHVlID0gdGhpcy5pbnB1dC52YWx1ZUFzTnVtYmVyLCB0aGlzLl9taW4gPSArdGhpcy5pbnB1dC5taW4sIHRoaXMuX21heCA9ICt0aGlzLmlucHV0Lm1heCwgdGhpcy51cGRhdGVQcm9ncmVzcygpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWNyZWF0ZUVsZW1lbnRzKCkgewoJCQkJCQkJbGV0IGQgPSBfLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXNsaWRlciJdKSwgZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CgkJCQkJCQlmLnR5cGUgPSAicmFuZ2UiLCBmLm1pbiA9IHRoaXMuX21pbi50b1N0cmluZygpLCBmLm1heCA9IHRoaXMuX21heC50b1N0cmluZygpLCBmLnN0ZXAgPSB0aGlzLl9zdGVwLnRvU3RyaW5nKCksIGYudmFsdWUgPSB0aGlzLl92YWx1ZS50b1N0cmluZygpOwoJCQkJCQkJbGV0IHAgPSBfLkEuY3JlYXRlRWwoInNwYW4iKTsKCQkJCQkJCXJldHVybiAoMCwgaC5YWCkodGhpcy5fbGFiZWxIdG1sLCBwKSwgZC5hcHBlbmQoZiwgcCksIGYuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy51cGRhdGUoKSwgdGhpcy5vbklucHV0LmRpc3BhdGNoKHRoaXMuX3ZhbHVlLCAhMSk7CgkJCQkJCQl9KSwgewoJCQkJCQkJCWNvbnRhaW5lcjogZCwKCQkJCQkJCQlsYWJlbDogcCwKCQkJCQkJCQlpbnB1dDogZgoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlhZGRFdmVudExpc3RlbmVyKGQsIGYpIHsKCQkJCQkJCXJldHVybiB0aGlzLm9uSW5wdXQuYWRkTGlzdGVuZXIoZiksIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbklucHV0LnJlbW92ZUxpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWdldCB2YWx1ZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLl92YWx1ZTsKCQkJCQkJfQoJCQkJCQlzZXQgdmFsdWUoZCkgewoJCQkJCQkJdGhpcy5fdmFsdWUgPSBkLCB0aGlzLmlucHV0LnZhbHVlID0gZC50b1N0cmluZygpLCB0aGlzLnVwZGF0ZVByb2dyZXNzKCksIHRoaXMub25JbnB1dC5kaXNwYXRjaCh0aGlzLl92YWx1ZSwgITApOwoJCQkJCQl9CgkJCQkJCWdldCBtaW4oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fbWluOwoJCQkJCQl9CgkJCQkJCXNldCBtaW4oZCkgewoJCQkJCQkJdGhpcy5fbWluID0gZCwgdGhpcy5pbnB1dC5taW4gPSB0aGlzLl9taW4udG9TdHJpbmcoKSwgdGhpcy51cGRhdGVQcm9ncmVzcygpOwoJCQkJCQl9CgkJCQkJCWdldCBtYXgoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fbWF4OwoJCQkJCQl9CgkJCQkJCXNldCBtYXgoZCkgewoJCQkJCQkJdGhpcy5fbWF4ID0gZCwgdGhpcy5pbnB1dC5tYXggPSB0aGlzLl9tYXgudG9TdHJpbmcoKSwgdGhpcy51cGRhdGVQcm9ncmVzcygpOwoJCQkJCQl9CgkJCQkJCWdldCBzdGVwKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuX3N0ZXA7CgkJCQkJCX0KCQkJCQkJc2V0IHN0ZXAoZCkgewoJCQkJCQkJdGhpcy5fc3RlcCA9IGQsIHRoaXMuaW5wdXQuc3RlcCA9IHRoaXMuX3N0ZXAudG9TdHJpbmcoKTsKCQkJCQkJfQoJCQkJCQlzZXQgaGlkZGVuKGQpIHsKCQkJCQkJCXRoaXMuY29udGFpbmVyLmhpZGRlbiA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IGhpZGRlbigpIHsKCQkJCQkJCXJldHVybiB0aGlzLmNvbnRhaW5lci5oaWRkZW47CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvc2xpZGVyTGFiZWwudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBTbGlkZXJMYWJlbCB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL3VpLmpzIiksIGcgPSBkKFtoXSk7CgkJCQkJaCA9IChnLnRoZW4gPyAoYXdhaXQgZykoKSA6IGcpWzBdOwoJCQkJCWNsYXNzIFNsaWRlckxhYmVsIHsKCQkJCQkJY29udGFpbmVyOwoJCQkJCQlzdHJvbmc7CgkJCQkJCV9sYWJlbFRleHQ7CgkJCQkJCV9sYWJlbEVPTDsKCQkJCQkJX3ZhbHVlOwoJCQkJCQlfc3ltYm9sOwoJCQkJCQljb25zdHJ1Y3Rvcih7IGxhYmVsVGV4dDogZCwgbGFiZWxFT0w6IGYgPSAiIiwgdmFsdWU6IHAgPSA1MCwgc3ltYm9sOiBtID0gIiUiIH0pIHsKCQkJCQkJCXRoaXMuX2xhYmVsVGV4dCA9IGQsIHRoaXMuX2xhYmVsRU9MID0gZiwgdGhpcy5fdmFsdWUgPSBwLCB0aGlzLl9zeW1ib2wgPSBtOwoJCQkJCQkJbGV0IGggPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7CgkJCQkJCQl0aGlzLmNvbnRhaW5lciA9IGguY29udGFpbmVyLCB0aGlzLnN0cm9uZyA9IGguc3Ryb25nOwoJCQkJCQl9CgkJCQkJCWNyZWF0ZUVsZW1lbnRzKCkgewoJCQkJCQkJbGV0IGQgPSBoLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXNsaWRlci1sYWJlbCJdKTsKCQkJCQkJCWQudGV4dENvbnRlbnQgPSB0aGlzLmxhYmVsVGV4dDsKCQkJCQkJCWxldCBmID0gaC5BLmNyZWF0ZUVsKCJzdHJvbmciLCBbInZvdC1zbGlkZXItbGFiZWwtdmFsdWUiXSk7CgkJCQkJCQlyZXR1cm4gZi50ZXh0Q29udGVudCA9IHRoaXMudmFsdWVUZXh0LCBkLmFwcGVuZChmKSwgewoJCQkJCQkJCWNvbnRhaW5lcjogZCwKCQkJCQkJCQlzdHJvbmc6IGYKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJZ2V0IGxhYmVsVGV4dCgpIHsKCQkJCQkJCXJldHVybiBgJHt0aGlzLl9sYWJlbFRleHR9JHt0aGlzLl9sYWJlbEVPTH1gOwoJCQkJCQl9CgkJCQkJCWdldCB2YWx1ZVRleHQoKSB7CgkJCQkJCQlyZXR1cm4gYCR7dGhpcy5fdmFsdWV9JHt0aGlzLl9zeW1ib2x9YDsKCQkJCQkJfQoJCQkJCQlnZXQgdmFsdWUoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fdmFsdWU7CgkJCQkJCX0KCQkJCQkJc2V0IHZhbHVlKGQpIHsKCQkJCQkJCXRoaXMuX3ZhbHVlID0gZCwgdGhpcy5zdHJvbmcudGV4dENvbnRlbnQgPSB0aGlzLnZhbHVlVGV4dDsKCQkJCQkJfQoJCQkJCQlzZXQgaGlkZGVuKGQpIHsKCQkJCQkJCXRoaXMuY29udGFpbmVyLmhpZGRlbiA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IGhpZGRlbigpIHsKCQkJCQkJCXJldHVybiB0aGlzLmNvbnRhaW5lci5oaWRkZW47CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvdGV4dGZpZWxkLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgQTogKCkgPT4gVGV4dGZpZWxkIH0pOwoJCQkJCXZhciBoID0gcCgiLi9zcmMvY29yZS9ldmVudEltcGwudHMiKSwgZyA9IHAoIi4vc3JjL3VpLmpzIiksIF8gPSBkKFtnXSk7CgkJCQkJZyA9IChfLnRoZW4gPyAoYXdhaXQgXykoKSA6IF8pWzBdOwoJCQkJCWNsYXNzIFRleHRmaWVsZCB7CgkJCQkJCWNvbnRhaW5lcjsKCQkJCQkJaW5wdXQ7CgkJCQkJCWxhYmVsOwoJCQkJCQlvbklucHV0ID0gbmV3IGguWigpOwoJCQkJCQlvbkNoYW5nZSA9IG5ldyBoLlooKTsKCQkJCQkJX2xhYmVsSHRtbDsKCQkJCQkJX211bHRpbGluZTsKCQkJCQkJX3BsYWNlaG9sZGVyOwoJCQkJCQlfdmFsdWU7CgkJCQkJCWNvbnN0cnVjdG9yKHsgbGFiZWxIdG1sOiBkID0gIiIsIHBsYWNlaG9sZGVyOiBmID0gIiIsIHZhbHVlOiBwID0gIiIsIG11bHRpbGluZTogbSA9ICExIH0pIHsKCQkJCQkJCXRoaXMuX2xhYmVsSHRtbCA9IGQsIHRoaXMuX211bHRpbGluZSA9IG0sIHRoaXMuX3BsYWNlaG9sZGVyID0gZiwgdGhpcy5fdmFsdWUgPSBwOwoJCQkJCQkJbGV0IGggPSB0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7CgkJCQkJCQl0aGlzLmNvbnRhaW5lciA9IGguY29udGFpbmVyLCB0aGlzLmlucHV0ID0gaC5pbnB1dCwgdGhpcy5sYWJlbCA9IGgubGFiZWw7CgkJCQkJCX0KCQkJCQkJY3JlYXRlRWxlbWVudHMoKSB7CgkJCQkJCQlsZXQgZCA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtdGV4dGZpZWxkIl0pLCBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLl9tdWx0aWxpbmUgPyAidGV4dGFyZWEiIDogImlucHV0Iik7CgkJCQkJCQl0aGlzLl9sYWJlbEh0bWwgfHwgZi5jbGFzc0xpc3QuYWRkKCJ2b3Qtc2hvdy1wbGFjZWhvbGVyIiksIGYucGxhY2Vob2xkZXIgPSB0aGlzLl9wbGFjZWhvbGRlciwgZi52YWx1ZSA9IHRoaXMuX3ZhbHVlOwoJCQkJCQkJbGV0IHAgPSBnLkEuY3JlYXRlRWwoInNwYW4iKTsKCQkJCQkJCXJldHVybiBwLmFwcGVuZCh0aGlzLl9sYWJlbEh0bWwpLCBkLmFwcGVuZChmLCBwKSwgZi5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsICgpID0+IHsKCQkJCQkJCQl0aGlzLl92YWx1ZSA9IHRoaXMuaW5wdXQudmFsdWUsIHRoaXMub25JbnB1dC5kaXNwYXRjaCh0aGlzLl92YWx1ZSk7CgkJCQkJCQl9KSwgZi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy5fdmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlLCB0aGlzLm9uQ2hhbmdlLmRpc3BhdGNoKHRoaXMuX3ZhbHVlKTsKCQkJCQkJCX0pLCB7CgkJCQkJCQkJY29udGFpbmVyOiBkLAoJCQkJCQkJCWxhYmVsOiBwLAoJCQkJCQkJCWlucHV0OiBmCgkJCQkJCQl9OwoJCQkJCQl9CgkJCQkJCWFkZEV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJcmV0dXJuIGQgPT09ICJjaGFuZ2UiID8gdGhpcy5vbkNoYW5nZS5hZGRMaXN0ZW5lcihmKSA6IGQgPT09ICJpbnB1dCIgJiYgdGhpcy5vbklucHV0LmFkZExpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXJlbW92ZUV2ZW50TGlzdGVuZXIoZCwgZikgewoJCQkJCQkJcmV0dXJuIGQgPT09ICJjaGFuZ2UiID8gdGhpcy5vbkNoYW5nZS5yZW1vdmVMaXN0ZW5lcihmKSA6IGQgPT09ICJpbnB1dCIgJiYgdGhpcy5vbklucHV0LnJlbW92ZUxpc3RlbmVyKGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWdldCB2YWx1ZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLl92YWx1ZTsKCQkJCQkJfQoJCQkJCQlzZXQgdmFsdWUoZCkgewoJCQkJCQkJdGhpcy5fdmFsdWUgIT09IGQgJiYgKHRoaXMuaW5wdXQudmFsdWUgPSB0aGlzLl92YWx1ZSA9IGQsIHRoaXMub25DaGFuZ2UuZGlzcGF0Y2godGhpcy5fdmFsdWUpKTsKCQkJCQkJfQoJCQkJCQlnZXQgcGxhY2Vob2xkZXIoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXI7CgkJCQkJCX0KCQkJCQkJc2V0IHBsYWNlaG9sZGVyKGQpIHsKCQkJCQkJCXRoaXMuaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLl9wbGFjZWhvbGRlciA9IGQ7CgkJCQkJCX0KCQkJCQkJc2V0IGhpZGRlbihkKSB7CgkJCQkJCQl0aGlzLmNvbnRhaW5lci5oaWRkZW4gPSBkOwoJCQkJCQl9CgkJCQkJCWdldCBoaWRkZW4oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5jb250YWluZXIuaGlkZGVuOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91aS9jb21wb25lbnRzL3Rvb2x0aXAudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBUb29sdGlwIH0pOwoJCQkJCXZhciBoID0gcCgiLi9zcmMvdHlwZXMvY29tcG9uZW50cy90b29sdGlwLnRzIiksIGcgPSBwKCIuL3NyYy91aS5qcyIpLCBfID0gcCgiLi9zcmMvdXRpbHMvdXRpbHMudHMiKSwgdiA9IGQoW2csIF9dKTsKCQkJCQlbZywgX10gPSB2LnRoZW4gPyAoYXdhaXQgdikoKSA6IHY7CgkJCQkJY2xhc3MgVG9vbHRpcCB7CgkJCQkJCXNob3dlZCA9ICExOwoJCQkJCQl0YXJnZXQ7CgkJCQkJCWFuY2hvcjsKCQkJCQkJY29udGVudDsKCQkJCQkJcG9zaXRpb247CgkJCQkJCXRyaWdnZXI7CgkJCQkJCXBhcmVudEVsZW1lbnQ7CgkJCQkJCWxheW91dFJvb3Q7CgkJCQkJCW9mZnNldFg7CgkJCQkJCW9mZnNldFk7CgkJCQkJCWhpZGRlbjsKCQkJCQkJYXV0b0xheW91dDsKCQkJCQkJcGFnZVdpZHRoOwoJCQkJCQlwYWdlSGVpZ2h0OwoJCQkJCQlnbG9iYWxPZmZzZXRYOwoJCQkJCQlnbG9iYWxPZmZzZXRZOwoJCQkJCQltYXhXaWR0aDsKCQkJCQkJYmFja2dyb3VuZENvbG9yOwoJCQkJCQlib3JkZXJSYWRpdXM7CgkJCQkJCV9ib3JkZXJlZDsKCQkJCQkJY29udGFpbmVyOwoJCQkJCQlvblJlc2l6ZU9ic2VydmVyOwoJCQkJCQlpbnRlcnNlY3Rpb25PYnNlcnZlcjsKCQkJCQkJY29uc3RydWN0b3IoeyB0YXJnZXQ6IGQsIGFuY2hvcjogZiA9IHZvaWQgMCwgY29udGVudDogcCA9ICIiLCBwb3NpdGlvbjogbSA9ICJ0b3AiLCB0cmlnZ2VyOiBoID0gImhvdmVyIiwgb2Zmc2V0OiBnID0gNCwgbWF4V2lkdGg6IF8gPSB2b2lkIDAsIGhpZGRlbjogdiA9ICExLCBhdXRvTGF5b3V0OiBiID0gITAsIGJhY2tncm91bmRDb2xvcjogeCA9IHZvaWQgMCwgYm9yZGVyUmFkaXVzOiBDID0gdm9pZCAwLCBib3JkZXJlZDogdyA9ICEwLCBwYXJlbnRFbGVtZW50OiBUID0gZG9jdW1lbnQuYm9keSwgbGF5b3V0Um9vdDogRSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB9KSB7CgkJCQkJCQlpZiAoIShkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB0aHJvdyBFcnJvcigidGFyZ2V0IG11c3QgYmUgYSB2YWxpZCBIVE1MRWxlbWVudCIpOwoJCQkJCQkJdGhpcy50YXJnZXQgPSBkLCB0aGlzLmFuY2hvciA9IGYgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IGYgOiBkLCB0aGlzLmNvbnRlbnQgPSBwLCB0eXBlb2YgZyA9PSAibnVtYmVyIiA/IHRoaXMub2Zmc2V0WSA9IHRoaXMub2Zmc2V0WCA9IGcgOiAodGhpcy5vZmZzZXRYID0gZy54LCB0aGlzLm9mZnNldFkgPSBnLnkpLCB0aGlzLmhpZGRlbiA9IHYsIHRoaXMuYXV0b0xheW91dCA9IGIsIHRoaXMudHJpZ2dlciA9IFRvb2x0aXAudmFsaWRhdGVUcmlnZ2VyKGgpID8gaCA6ICJob3ZlciIsIHRoaXMucG9zaXRpb24gPSBUb29sdGlwLnZhbGlkYXRlUG9zKG0pID8gbSA6ICJ0b3AiLCB0aGlzLnBhcmVudEVsZW1lbnQgPSBULCB0aGlzLmxheW91dFJvb3QgPSBFLCB0aGlzLmJvcmRlclJhZGl1cyA9IEMsIHRoaXMuX2JvcmRlcmVkID0gdywgdGhpcy5tYXhXaWR0aCA9IF8sIHRoaXMuYmFja2dyb3VuZENvbG9yID0geCwgdGhpcy51cGRhdGVQYWdlU2l6ZSgpLCB0aGlzLmluaXQoKTsKCQkJCQkJfQoJCQkJCQlzdGF0aWMgdmFsaWRhdGVQb3MoZCkgewoJCQkJCQkJcmV0dXJuIGguWC5pbmNsdWRlcyhkKTsKCQkJCQkJfQoJCQkJCQlzdGF0aWMgdmFsaWRhdGVUcmlnZ2VyKGQpIHsKCQkJCQkJCXJldHVybiBoLkcuaW5jbHVkZXMoZCk7CgkJCQkJCX0KCQkJCQkJc2V0UG9zaXRpb24oZCkgewoJCQkJCQkJcmV0dXJuIHRoaXMucG9zaXRpb24gPSBUb29sdGlwLnZhbGlkYXRlUG9zKGQpID8gZCA6ICJ0b3AiLCB0aGlzLnVwZGF0ZVBvcygpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXNldENvbnRlbnQoZCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGVudCA9IGQsIHRoaXMuZGVzdHJveSgpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCW9uUmVzaXplID0gKCkgPT4gewoJCQkJCQkJdGhpcy51cGRhdGVQYWdlU2l6ZSgpLCB0aGlzLnVwZGF0ZVBvcygpOwoJCQkJCQl9OwoJCQkJCQlvbkNsaWNrID0gKCkgPT4gewoJCQkJCQkJdGhpcy5zaG93ZWQgPyB0aGlzLmRlc3Ryb3koKSA6IHRoaXMuY3JlYXRlKCk7CgkJCQkJCX07CgkJCQkJCW9uU2Nyb2xsID0gKCkgPT4gewoJCQkJCQkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJCQkJCQl0aGlzLnVwZGF0ZVBhZ2VTaXplKCksIHRoaXMudXBkYXRlUG9zKCk7CgkJCQkJCQl9KTsKCQkJCQkJfTsKCQkJCQkJb25Ib3ZlclBvaW50ZXJEb3duID0gKGQpID0+IHsKCQkJCQkJCWQucG9pbnRlclR5cGUgIT09ICJtb3VzZSIgJiYgdGhpcy5jcmVhdGUoKTsKCQkJCQkJfTsKCQkJCQkJb25Ib3ZlclBvaW50ZXJVcCA9IChkKSA9PiB7CgkJCQkJCQlkLnBvaW50ZXJUeXBlICE9PSAibW91c2UiICYmIHRoaXMuZGVzdHJveSgpOwoJCQkJCQl9OwoJCQkJCQlvbk1vdXNlRW50ZXIgPSAoKSA9PiB7CgkJCQkJCQl0aGlzLmNyZWF0ZSgpOwoJCQkJCQl9OwoJCQkJCQlvbk1vdXNlTGVhdmUgPSAoKSA9PiB7CgkJCQkJCQl0aGlzLmRlc3Ryb3koKTsKCQkJCQkJfTsKCQkJCQkJdXBkYXRlUGFnZVNpemUoKSB7CgkJCQkJCQlpZiAodGhpcy5sYXlvdXRSb290ICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHsKCQkJCQkJCQlsZXQgeyBsZWZ0OiBkLCB0b3A6IGYgfSA9IHRoaXMucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJCQkJCQl0aGlzLmdsb2JhbE9mZnNldFggPSBkLCB0aGlzLmdsb2JhbE9mZnNldFkgPSBmOwoJCQkJCQkJfSBlbHNlIHRoaXMuZ2xvYmFsT2Zmc2V0WCA9IDAsIHRoaXMuZ2xvYmFsT2Zmc2V0WSA9IDA7CgkJCQkJCQlyZXR1cm4gdGhpcy5wYWdlV2lkdGggPSAodGhpcy5sYXlvdXRSb290LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgKyB3aW5kb3cucGFnZVhPZmZzZXQsIHRoaXMucGFnZUhlaWdodCA9ICh0aGlzLmxheW91dFJvb3QuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICsgd2luZG93LnBhZ2VZT2Zmc2V0LCB0aGlzOwoJCQkJCQl9CgkJCQkJCW9uSW50ZXJzZWN0ID0gKFtkXSkgPT4gewoJCQkJCQkJaWYgKCFkLmlzSW50ZXJzZWN0aW5nKSByZXR1cm4gdGhpcy5kZXN0cm95KCEwKTsKCQkJCQkJfTsKCQkJCQkJaW5pdCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLm9uUmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5vblJlc2l6ZSksIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5vbkludGVyc2VjdCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMub25TY3JvbGwsIHsKCQkJCQkJCQlwYXNzaXZlOiAhMCwKCQkJCQkJCQljYXB0dXJlOiAhMAoJCQkJCQkJfSksIHRoaXMudHJpZ2dlciA9PT0gImNsaWNrIiA/ICh0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIHRoaXMub25DbGljayksIHRoaXMpIDogKHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCB0aGlzLm9uTW91c2VFbnRlciksIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCB0aGlzLm9uTW91c2VMZWF2ZSksIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwgdGhpcy5vbkhvdmVyUG9pbnRlckRvd24pLCB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCB0aGlzLm9uSG92ZXJQb2ludGVyVXApLCB0aGlzKTsKCQkJCQkJfQoJCQkJCQlyZWxlYXNlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuZGVzdHJveSgpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLm9uU2Nyb2xsLCB7IGNhcHR1cmU6ICEwIH0pLCB0aGlzLnRyaWdnZXIgPT09ICJjbGljayIgPyAodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCB0aGlzLm9uQ2xpY2spLCB0aGlzKSA6ICh0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgdGhpcy5vbk1vdXNlRW50ZXIpLCB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgdGhpcy5vbk1vdXNlTGVhdmUpLCB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIHRoaXMub25Ib3ZlclBvaW50ZXJEb3duKSwgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgdGhpcy5vbkhvdmVyUG9pbnRlclVwKSwgdGhpcyk7CgkJCQkJCX0KCQkJCQkJY3JlYXRlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuZGVzdHJveSghMCksIHRoaXMuc2hvd2VkID0gITAsIHRoaXMuY29udGFpbmVyID0gZy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC10b29sdGlwIl0sIHRoaXMuY29udGVudCksIHRoaXMuYm9yZGVyZWQgJiYgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgidm90LXRvb2x0aXAtYm9yZGVyZWQiKSwgdGhpcy5jb250YWluZXIuc2V0QXR0cmlidXRlKCJyb2xlIiwgInRvb2x0aXAiKSwgdGhpcy5jb250YWluZXIuZGF0YXNldC50cmlnZ2VyID0gdGhpcy50cmlnZ2VyLCB0aGlzLmNvbnRhaW5lci5kYXRhc2V0LnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiwgdGhpcy5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKSwgdGhpcy51cGRhdGVQb3MoKSwgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgIT09IHZvaWQgMCAmJiAodGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IpLCB0aGlzLmJvcmRlclJhZGl1cyAhPT0gdm9pZCAwICYmICh0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSBgJHt0aGlzLmJvcmRlclJhZGl1c31weGApLCB0aGlzLmhpZGRlbiAmJiAodGhpcy5jb250YWluZXIuaGlkZGVuID0gITApLCB0aGlzLmNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiLCB0aGlzLm9uUmVzaXplT2JzZXJ2ZXI/Lm9ic2VydmUodGhpcy5sYXlvdXRSb290KSwgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcj8ub2JzZXJ2ZSh0aGlzLnRhcmdldCksIHRoaXM7CgkJCQkJCX0KCQkJCQkJdXBkYXRlUG9zKCkgewoJCQkJCQkJaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuIHRoaXM7CgkJCQkJCQlsZXQgeyB0b3A6IGQsIGxlZnQ6IGYgfSA9IHRoaXMuY2FsY1Bvcyh0aGlzLmF1dG9MYXlvdXQpLCBwID0gdGhpcy5wYWdlV2lkdGggLSB0aGlzLm9mZnNldFggKiAyLCBtID0gdGhpcy5tYXhXaWR0aCA/PyBNYXRoLm1pbihwLCB0aGlzLnBhZ2VXaWR0aCAtIE1hdGgubWluKGYsIHRoaXMucGFnZVdpZHRoIC0gcCkpOwoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtmfXB4LCAke2R9cHgpYCwgdGhpcy5jb250YWluZXIuc3R5bGUubWF4V2lkdGggPSBgJHttfXB4YCwgdGhpczsKCQkJCQkJfQoJCQkJCQljYWxjUG9zKGQgPSAhMCkgewoJCQkJCQkJaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuIHsKCQkJCQkJCQl0b3A6IDAsCgkJCQkJCQkJbGVmdDogMAoJCQkJCQkJfTsKCQkJCQkJCWxldCB7IGxlZnQ6IGYsIHJpZ2h0OiBwLCB0b3A6IG0sIGJvdHRvbTogaCwgd2lkdGg6IGcsIGhlaWdodDogdiB9ID0gdGhpcy5hbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHsgd2lkdGg6IGIsIGhlaWdodDogeCB9ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIEMgPSAoMCwgXy5xRSkoYiwgMCwgdGhpcy5wYWdlV2lkdGgpLCB3ID0gKDAsIF8ucUUpKHgsIDAsIHRoaXMucGFnZUhlaWdodCksIFQgPSBmIC0gdGhpcy5nbG9iYWxPZmZzZXRYLCBFID0gcCAtIHRoaXMuZ2xvYmFsT2Zmc2V0WCwgRCA9IG0gLSB0aGlzLmdsb2JhbE9mZnNldFksIE8gPSBoIC0gdGhpcy5nbG9iYWxPZmZzZXRZOwoJCQkJCQkJc3dpdGNoICh0aGlzLnBvc2l0aW9uKSB7CgkJCQkJCQkJY2FzZSAidG9wIjogewoJCQkJCQkJCQlsZXQgZiA9ICgwLCBfLnFFKShEIC0gdyAtIHRoaXMub2Zmc2V0WSwgMCwgdGhpcy5wYWdlSGVpZ2h0KTsKCQkJCQkJCQkJcmV0dXJuIGQgJiYgZiArIHRoaXMub2Zmc2V0WSA8IHcgPyAodGhpcy5wb3NpdGlvbiA9ICJib3R0b20iLCB0aGlzLmNhbGNQb3MoITEpKSA6IHsKCQkJCQkJCQkJCXRvcDogZiwKCQkJCQkJCQkJCWxlZnQ6ICgwLCBfLnFFKShUIC0gQyAvIDIgKyBnIC8gMiwgdGhpcy5vZmZzZXRYLCB0aGlzLnBhZ2VXaWR0aCAtIEMgLSB0aGlzLm9mZnNldFgpCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJCWNhc2UgInJpZ2h0IjogewoJCQkJCQkJCQlsZXQgZiA9ICgwLCBfLnFFKShFICsgdGhpcy5vZmZzZXRYLCAwLCB0aGlzLnBhZ2VXaWR0aCAtIEMpOwoJCQkJCQkJCQlyZXR1cm4gZCAmJiBmICsgQyA+IHRoaXMucGFnZVdpZHRoIC0gdGhpcy5vZmZzZXRYID8gKHRoaXMucG9zaXRpb24gPSAibGVmdCIsIHRoaXMuY2FsY1BvcyghMSkpIDogewoJCQkJCQkJCQkJdG9wOiAoMCwgXy5xRSkoRCArICh2IC0gdykgLyAyLCB0aGlzLm9mZnNldFksIHRoaXMucGFnZUhlaWdodCAtIHcgLSB0aGlzLm9mZnNldFkpLAoJCQkJCQkJCQkJbGVmdDogZgoJCQkJCQkJCQl9OwoJCQkJCQkJCX0KCQkJCQkJCQljYXNlICJib3R0b20iOiB7CgkJCQkJCQkJCWxldCBmID0gKDAsIF8ucUUpKE8gKyB0aGlzLm9mZnNldFksIDAsIHRoaXMucGFnZUhlaWdodCAtIHcpOwoJCQkJCQkJCQlyZXR1cm4gZCAmJiBmICsgdyA+IHRoaXMucGFnZUhlaWdodCAtIHRoaXMub2Zmc2V0WSA/ICh0aGlzLnBvc2l0aW9uID0gInRvcCIsIHRoaXMuY2FsY1BvcyghMSkpIDogewoJCQkJCQkJCQkJdG9wOiBmLAoJCQkJCQkJCQkJbGVmdDogKDAsIF8ucUUpKFQgLSBDIC8gMiArIGcgLyAyLCB0aGlzLm9mZnNldFgsIHRoaXMucGFnZVdpZHRoIC0gQyAtIHRoaXMub2Zmc2V0WCkKCQkJCQkJCQkJfTsKCQkJCQkJCQl9CgkJCQkJCQkJY2FzZSAibGVmdCI6IHsKCQkJCQkJCQkJbGV0IGYgPSBNYXRoLm1heCgwLCBUIC0gQyAtIHRoaXMub2Zmc2V0WCk7CgkJCQkJCQkJCXJldHVybiBkICYmIGYgKyBDID4gVCAtIHRoaXMub2Zmc2V0WCA/ICh0aGlzLnBvc2l0aW9uID0gInJpZ2h0IiwgdGhpcy5jYWxjUG9zKCExKSkgOiB7CgkJCQkJCQkJCQl0b3A6ICgwLCBfLnFFKShEICsgKHYgLSB3KSAvIDIsIHRoaXMub2Zmc2V0WSwgdGhpcy5wYWdlSGVpZ2h0IC0gdyAtIHRoaXMub2Zmc2V0WSksCgkJCQkJCQkJCQlsZWZ0OiBmCgkJCQkJCQkJCX07CgkJCQkJCQkJfQoJCQkJCQkJCWRlZmF1bHQ6IHJldHVybiB7CgkJCQkJCQkJCXRvcDogMCwKCQkJCQkJCQkJbGVmdDogMAoJCQkJCQkJCX07CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJZGVzdHJveShkID0gITEpIHsKCQkJCQkJCWlmICghdGhpcy5jb250YWluZXIpIHJldHVybiB0aGlzOwoJCQkJCQkJaWYgKHRoaXMuc2hvd2VkID0gITEsIHRoaXMub25SZXNpemVPYnNlcnZlcj8uZGlzY29ubmVjdCgpLCB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyPy5kaXNjb25uZWN0KCksIGQpIHJldHVybiB0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSwgdGhpczsKCQkJCQkJCWxldCBmID0gdGhpcy5jb250YWluZXI7CgkJCQkJCQlyZXR1cm4gZi5zdHlsZS5vcGFjaXR5ID0gIjAiLCBmLmFkZEV2ZW50TGlzdGVuZXIoInRyYW5zaXRpb25lbmQiLCAoKSA9PiB7CgkJCQkJCQkJZj8ucmVtb3ZlKCk7CgkJCQkJCQl9LCB7IG9uY2U6ICEwIH0pLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXNldCBib3JkZXJlZChkKSB7CgkJCQkJCQl0aGlzLl9ib3JkZXJlZCA9IGQsIHRoaXMuY29udGFpbmVyPy5jbGFzc0xpc3QudG9nZ2xlKCJ2b3QtdG9vbHRpcC1ib3JkZXJlZCIpOwoJCQkJCQl9CgkJCQkJCWdldCBib3JkZXJlZCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLl9ib3JkZXJlZDsKCQkJCQkJfQoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvdWkvY29tcG9uZW50cy92b3RCdXR0b24udHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBBOiAoKSA9PiBWT1RCdXR0b24gfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIpLCBnID0gcCgiLi9zcmMvdWkuanMiKSwgXyA9IHAoIi4vc3JjL3VpL2ljb25zLnRzIiksIHYgPSBkKFtnXSk7CgkJCQkJZyA9ICh2LnRoZW4gPyAoYXdhaXQgdikoKSA6IHYpWzBdOwoJCQkJCWNsYXNzIFZPVEJ1dHRvbiB7CgkJCQkJCWNvbnRhaW5lcjsKCQkJCQkJdHJhbnNsYXRlQnV0dG9uOwoJCQkJCQlzZXBhcmF0b3I7CgkJCQkJCXBpcEJ1dHRvbjsKCQkJCQkJc2VwYXJhdG9yMjsKCQkJCQkJbWVudUJ1dHRvbjsKCQkJCQkJbGFiZWw7CgkJCQkJCV9wb3NpdGlvbjsKCQkJCQkJX2RpcmVjdGlvbjsKCQkJCQkJX3N0YXR1czsKCQkJCQkJX2xhYmVsSHRtbDsKCQkJCQkJY29uc3RydWN0b3IoeyBwb3NpdGlvbjogZCA9ICJkZWZhdWx0IiwgZGlyZWN0aW9uOiBmID0gImRlZmF1bHQiLCBzdGF0dXM6IHAgPSAibm9uZSIsIGxhYmVsSHRtbDogbSA9ICIiIH0pIHsKCQkJCQkJCXRoaXMuX3Bvc2l0aW9uID0gZCwgdGhpcy5fZGlyZWN0aW9uID0gZiwgdGhpcy5fc3RhdHVzID0gcCwgdGhpcy5fbGFiZWxIdG1sID0gbTsKCQkJCQkJCWxldCBoID0gdGhpcy5jcmVhdGVFbGVtZW50cygpOwoJCQkJCQkJdGhpcy5jb250YWluZXIgPSBoLmNvbnRhaW5lciwgdGhpcy50cmFuc2xhdGVCdXR0b24gPSBoLnRyYW5zbGF0ZUJ1dHRvbiwgdGhpcy5zZXBhcmF0b3IgPSBoLnNlcGFyYXRvciwgdGhpcy5waXBCdXR0b24gPSBoLnBpcEJ1dHRvbiwgdGhpcy5zZXBhcmF0b3IyID0gaC5zZXBhcmF0b3IyLCB0aGlzLm1lbnVCdXR0b24gPSBoLm1lbnVCdXR0b24sIHRoaXMubGFiZWwgPSBoLmxhYmVsOwoJCQkJCQl9CgkJCQkJCXN0YXRpYyBjYWxjUG9zaXRpb24oZCwgZikgewoJCQkJCQkJcmV0dXJuIGYgPyBkIDw9IDQ0ID8gImxlZnQiIDogZCA+PSA2NiA/ICJyaWdodCIgOiAiZGVmYXVsdCIgOiAiZGVmYXVsdCI7CgkJCQkJCX0KCQkJCQkJc3RhdGljIGNhbGNEaXJlY3Rpb24oZCkgewoJCQkJCQkJcmV0dXJuIFsiZGVmYXVsdCIsICJ0b3AiXS5pbmNsdWRlcyhkKSA/ICJyb3ciIDogImNvbHVtbiI7CgkJCQkJCX0KCQkJCQkJY3JlYXRlRWxlbWVudHMoKSB7CgkJCQkJCQlsZXQgZCA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3Qtc2VnbWVudGVkLWJ1dHRvbiJdKTsKCQkJCQkJCWQuZGF0YXNldC5wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLCBkLmRhdGFzZXQuZGlyZWN0aW9uID0gdGhpcy5fZGlyZWN0aW9uLCBkLmRhdGFzZXQuc3RhdHVzID0gdGhpcy5fc3RhdHVzOwoJCQkJCQkJbGV0IGYgPSBnLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXNlZ21lbnQiLCAidm90LXRyYW5zbGF0ZS1idXR0b24iXSk7CgkJCQkJCQkoMCwgaC5YWCkoXy5jZywgZik7CgkJCQkJCQlsZXQgcCA9IGcuQS5jcmVhdGVFbCgic3BhbiIsIFsidm90LXNlZ21lbnQtbGFiZWwiXSk7CgkJCQkJCQlwLmFwcGVuZCh0aGlzLl9sYWJlbEh0bWwpLCBmLmFwcGVuZENoaWxkKHApOwoJCQkJCQkJbGV0IG0gPSBnLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LXNlcGFyYXRvciJdKSwgdiA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3Qtc2VnbWVudC1vbmx5LWljb24iXSk7CgkJCQkJCQkoMCwgaC5YWCkoXy5COSwgdik7CgkJCQkJCQlsZXQgYiA9IGcuQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3Qtc2VwYXJhdG9yIl0pLCB4ID0gZy5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1zZWdtZW50LW9ubHktaWNvbiJdKTsKCQkJCQkJCXJldHVybiAoMCwgaC5YWCkoXy5rTywgeCksIGQuYXBwZW5kKGYsIG0sIHYsIGIsIHgpLCB7CgkJCQkJCQkJY29udGFpbmVyOiBkLAoJCQkJCQkJCXRyYW5zbGF0ZUJ1dHRvbjogZiwKCQkJCQkJCQlzZXBhcmF0b3I6IG0sCgkJCQkJCQkJcGlwQnV0dG9uOiB2LAoJCQkJCQkJCXNlcGFyYXRvcjI6IGIsCgkJCQkJCQkJbWVudUJ1dHRvbjogeCwKCQkJCQkJCQlsYWJlbDogcAoJCQkJCQkJfTsKCQkJCQkJfQoJCQkJCQlzaG93UGlQQnV0dG9uKGQpIHsKCQkJCQkJCXJldHVybiB0aGlzLnNlcGFyYXRvcjIuaGlkZGVuID0gdGhpcy5waXBCdXR0b24uaGlkZGVuID0gIWQsIHRoaXM7CgkJCQkJCX0KCQkJCQkJc2V0VGV4dChkKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fbGFiZWxIdG1sID0gdGhpcy5sYWJlbC50ZXh0Q29udGVudCA9IGQsIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWdldCB0b29sdGlwUG9zKCkgewoJCQkJCQkJc3dpdGNoICh0aGlzLnBvc2l0aW9uKSB7CgkJCQkJCQkJY2FzZSAibGVmdCI6IHJldHVybiAicmlnaHQiOwoJCQkJCQkJCWNhc2UgInJpZ2h0IjogcmV0dXJuICJsZWZ0IjsKCQkJCQkJCQlkZWZhdWx0OiByZXR1cm4gImJvdHRvbSI7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJc2V0IHN0YXR1cyhkKSB7CgkJCQkJCQl0aGlzLl9zdGF0dXMgPSB0aGlzLmNvbnRhaW5lci5kYXRhc2V0LnN0YXR1cyA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IHN0YXR1cygpIHsKCQkJCQkJCXJldHVybiB0aGlzLl9zdGF0dXM7CgkJCQkJCX0KCQkJCQkJc2V0IGxvYWRpbmcoZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuZGF0YXNldC5sb2FkaW5nID0gZC50b1N0cmluZygpOwoJCQkJCQl9CgkJCQkJCWdldCBsb2FkaW5nKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLmRhdGFzZXQubG9hZGluZyA9PT0gInRydWUiOwoJCQkJCQl9CgkJCQkJCXNldCBoaWRkZW4oZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuaGlkZGVuID0gZDsKCQkJCQkJfQoJCQkJCQlnZXQgaGlkZGVuKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLmhpZGRlbjsKCQkJCQkJfQoJCQkJCQlnZXQgcG9zaXRpb24oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fcG9zaXRpb247CgkJCQkJCX0KCQkJCQkJc2V0IHBvc2l0aW9uKGQpIHsKCQkJCQkJCXRoaXMuX3Bvc2l0aW9uID0gdGhpcy5jb250YWluZXIuZGF0YXNldC5wb3NpdGlvbiA9IGQ7CgkJCQkJCX0KCQkJCQkJZ2V0IGRpcmVjdGlvbigpIHsKCQkJCQkJCXJldHVybiB0aGlzLl9kaXJlY3Rpb247CgkJCQkJCX0KCQkJCQkJc2V0IGRpcmVjdGlvbihkKSB7CgkJCQkJCQl0aGlzLl9kaXJlY3Rpb24gPSB0aGlzLmNvbnRhaW5lci5kYXRhc2V0LmRpcmVjdGlvbiA9IGQ7CgkJCQkJCX0KCQkJCQkJc2V0IG9wYWNpdHkoZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9IGQudG9TdHJpbmcoKTsKCQkJCQkJfQoJCQkJCQlnZXQgb3BhY2l0eSgpIHsKCQkJCQkJCXJldHVybiBOdW1iZXIodGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2NvbXBvbmVudHMvdm90TWVudS50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IEE6ICgpID0+IFZPVE1lbnUgfSk7CgkJCQkJdmFyIGggPSBwKCIuL3NyYy91aS5qcyIpLCBnID0gZChbaF0pOwoJCQkJCWggPSAoZy50aGVuID8gKGF3YWl0IGcpKCkgOiBnKVswXTsKCQkJCQljbGFzcyBWT1RNZW51IHsKCQkJCQkJY29udGFpbmVyOwoJCQkJCQljb250ZW50V3JhcHBlcjsKCQkJCQkJaGVhZGVyQ29udGFpbmVyOwoJCQkJCQlib2R5Q29udGFpbmVyOwoJCQkJCQlmb290ZXJDb250YWluZXI7CgkJCQkJCXRpdGxlQ29udGFpbmVyOwoJCQkJCQl0aXRsZTsKCQkJCQkJX3Bvc2l0aW9uOwoJCQkJCQlfdGl0bGVIdG1sOwoJCQkJCQljb25zdHJ1Y3Rvcih7IHBvc2l0aW9uOiBkID0gImRlZmF1bHQiLCB0aXRsZUh0bWw6IGYgPSAiIiB9KSB7CgkJCQkJCQl0aGlzLl9wb3NpdGlvbiA9IGQsIHRoaXMuX3RpdGxlSHRtbCA9IGY7CgkJCQkJCQlsZXQgcCA9IHRoaXMuY3JlYXRlRWxlbWVudHMoKTsKCQkJCQkJCXRoaXMuY29udGFpbmVyID0gcC5jb250YWluZXIsIHRoaXMuY29udGVudFdyYXBwZXIgPSBwLmNvbnRlbnRXcmFwcGVyLCB0aGlzLmhlYWRlckNvbnRhaW5lciA9IHAuaGVhZGVyQ29udGFpbmVyLCB0aGlzLmJvZHlDb250YWluZXIgPSBwLmJvZHlDb250YWluZXIsIHRoaXMuZm9vdGVyQ29udGFpbmVyID0gcC5mb290ZXJDb250YWluZXIsIHRoaXMudGl0bGVDb250YWluZXIgPSBwLnRpdGxlQ29udGFpbmVyLCB0aGlzLnRpdGxlID0gcC50aXRsZTsKCQkJCQkJfQoJCQkJCQljcmVhdGVFbGVtZW50cygpIHsKCQkJCQkJCWxldCBkID0gaC5BLmNyZWF0ZUVsKCJ2b3QtYmxvY2siLCBbInZvdC1tZW51Il0pOwoJCQkJCQkJZC5oaWRkZW4gPSAhMCwgZC5kYXRhc2V0LnBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb247CgkJCQkJCQlsZXQgZiA9IGguQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtbWVudS1jb250ZW50LXdyYXBwZXIiXSk7CgkJCQkJCQlkLmFwcGVuZENoaWxkKGYpOwoJCQkJCQkJbGV0IHAgPSBoLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LW1lbnUtaGVhZGVyLWNvbnRhaW5lciJdKSwgbSA9IGguQS5jcmVhdGVFbCgidm90LWJsb2NrIiwgWyJ2b3QtbWVudS10aXRsZS1jb250YWluZXIiXSk7CgkJCQkJCQlwLmFwcGVuZENoaWxkKG0pOwoJCQkJCQkJbGV0IGcgPSBoLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LW1lbnUtdGl0bGUiXSk7CgkJCQkJCQlnLmFwcGVuZCh0aGlzLl90aXRsZUh0bWwpLCBtLmFwcGVuZENoaWxkKGcpOwoJCQkJCQkJbGV0IF8gPSBoLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LW1lbnUtYm9keS1jb250YWluZXIiXSksIHYgPSBoLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIFsidm90LW1lbnUtZm9vdGVyLWNvbnRhaW5lciJdKTsKCQkJCQkJCXJldHVybiBmLmFwcGVuZChwLCBfLCB2KSwgewoJCQkJCQkJCWNvbnRhaW5lcjogZCwKCQkJCQkJCQljb250ZW50V3JhcHBlcjogZiwKCQkJCQkJCQloZWFkZXJDb250YWluZXI6IHAsCgkJCQkJCQkJYm9keUNvbnRhaW5lcjogXywKCQkJCQkJCQlmb290ZXJDb250YWluZXI6IHYsCgkJCQkJCQkJdGl0bGVDb250YWluZXI6IG0sCgkJCQkJCQkJdGl0bGU6IGcKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJc2V0VGV4dChkKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fdGl0bGVIdG1sID0gdGhpcy50aXRsZS50ZXh0Q29udGVudCA9IGQsIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVtb3ZlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXNldCBoaWRkZW4oZCkgewoJCQkJCQkJdGhpcy5jb250YWluZXIuaGlkZGVuID0gZDsKCQkJCQkJfQoJCQkJCQlnZXQgaGlkZGVuKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuY29udGFpbmVyLmhpZGRlbjsKCQkJCQkJfQoJCQkJCQlnZXQgcG9zaXRpb24oKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5fcG9zaXRpb247CgkJCQkJCX0KCQkJCQkJc2V0IHBvc2l0aW9uKGQpIHsKCQkJCQkJCXRoaXMuX3Bvc2l0aW9uID0gdGhpcy5jb250YWluZXIuZGF0YXNldC5wb3NpdGlvbiA9IGQ7CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL2ljb25zLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgewoJCQkJQjk6ICgpID0+IGcsCgkJCQlHQTogKCkgPT4gQSwKCQkJCU05OiAoKSA9PiBPLAoJCQkJVTA6ICgpID0+IGIsCgkJCQlYZDogKCkgPT4gRSwKCQkJCWMxOiAoKSA9PiB4LAoJCQkJY2c6ICgpID0+IGgsCgkJCQlqcjogKCkgPT4gVCwKCQkJCWtPOiAoKSA9PiBfLAoJCQkJbVE6ICgpID0+IEMsCgkJCQluTzogKCkgPT4gdiwKCQkJCXcyOiAoKSA9PiBELAoJCQkJejM6ICgpID0+IHcKCQkJfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiKTsKCQkJbGV0IGggPSAoMCwgbS5KVylgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aAogICAgaWQ9InZvdC10cmFuc2xhdGUtaWNvbiIKICAgIGZpbGwtcnVsZT0iZXZlbm9kZCIKICAgIGQ9Ik0xNS43NzggMTguOTVMMTQuOTAzIDIxLjM3NUMxNC44MzY0IDIxLjU1ODMgMTQuNzE5NyAyMS43MDgzIDE0LjU1MyAyMS44MjVDMTQuMzg2NCAyMS45NDE3IDE0LjIwMyAyMiAxNC4wMDMgMjJDMTMuNjY5NyAyMiAxMy4zOTg5IDIxLjg2MjUgMTMuMTkwNSAyMS41ODc1QzEyLjk4MjIgMjEuMzEyNSAxMi45NDQ3IDIxLjAwODMgMTMuMDc4IDIwLjY3NUwxNi44NzggMTAuNjI1QzE2Ljk2MTQgMTAuNDQxNyAxNy4wODY0IDEwLjI5MTcgMTcuMjUzIDEwLjE3NUMxNy40MTk3IDEwLjA1ODMgMTcuNjAzIDEwIDE3LjgwMyAxMEgxOC41NTNDMTguNzUzIDEwIDE4LjkzNjQgMTAuMDU4MyAxOS4xMDMgMTAuMTc1QzE5LjI2OTcgMTAuMjkxNyAxOS4zOTQ3IDEwLjQ0MTcgMTkuNDc4IDEwLjYyNUwyMy4yNzggMjAuN0MyMy40MTE0IDIxLjAxNjcgMjMuMzc4IDIxLjMxMjUgMjMuMTc4IDIxLjU4NzVDMjIuOTc4IDIxLjg2MjUgMjIuNzExNCAyMiAyMi4zNzggMjJDMjIuMTYxNCAyMiAyMS45NzM5IDIxLjkzNzUgMjEuODE1NSAyMS44MTI1QzIxLjY1NzIgMjEuNjg3NSAyMS41MzY0IDIxLjUyNSAyMS40NTMgMjEuMzI1TDIwLjYyOCAxOC45NUgxNS43NzhaTTE5Ljk3OCAxNy4ySDE2LjM3OEwxOC4yMjggMTIuMjVMMTkuOTc4IDE3LjJaIgogID48L3BhdGg+CiAgPHBhdGgKICAgIGQ9Ik05IDE0TDQuNyAxOC4zQzQuNTE2NjcgMTguNDgzMyA0LjI4MzMzIDE4LjU3NSA0IDE4LjU3NUMzLjcxNjY3IDE4LjU3NSAzLjQ4MzMzIDE4LjQ4MzMgMy4zIDE4LjNDMy4xMTY2NyAxOC4xMTY3IDMuMDI1IDE3Ljg4MzMgMy4wMjUgMTcuNkMzLjAyNSAxNy4zMTY3IDMuMTE2NjcgMTcuMDgzMyAzLjMgMTYuOUw3LjY1IDEyLjU1QzcuMDE2NjcgMTEuODUgNi40NjI1IDExLjEyNSA1Ljk4NzUgMTAuMzc1QzUuNTEyNSA5LjYyNSA1LjEgOC44MzMzMyA0Ljc1IDhINi44NUM3LjE1IDguNiA3LjQ3MDgzIDkuMTQxNjcgNy44MTI1IDkuNjI1QzguMTU0MTcgMTAuMTA4MyA4LjU2NjY3IDEwLjYxNjcgOS4wNSAxMS4xNUM5Ljc4MzMzIDEwLjM1IDEwLjM5MTcgOS41MjkxNyAxMC44NzUgOC42ODc1QzExLjM1ODMgNy44NDU4MyAxMS43NjY3IDYuOTUgMTIuMSA2SDJDMS43MTY2NyA2IDEuNDc5MTcgNS45MDQxNyAxLjI4NzUgNS43MTI1QzEuMDk1ODMgNS41MjA4MyAxIDUuMjgzMzMgMSA1QzEgNC43MTY2NyAxLjA5NTgzIDQuNDc5MTcgMS4yODc1IDQuMjg3NUMxLjQ3OTE3IDQuMDk1ODMgMS43MTY2NyA0IDIgNEg4VjNDOCAyLjcxNjY3IDguMDk1ODMgMi40NzkxNyA4LjI4NzUgMi4yODc1QzguNDc5MTcgMi4wOTU4MyA4LjcxNjY3IDIgOSAyQzkuMjgzMzMgMiA5LjUyMDgzIDIuMDk1ODMgOS43MTI1IDIuMjg3NUM5LjkwNDE3IDIuNDc5MTcgMTAgMi43MTY2NyAxMCAzVjRIMTZDMTYuMjgzMyA0IDE2LjUyMDggNC4wOTU4MyAxNi43MTI1IDQuMjg3NUMxNi45MDQyIDQuNDc5MTcgMTcgNC43MTY2NyAxNyA1QzE3IDUuMjgzMzMgMTYuOTA0MiA1LjUyMDgzIDE2LjcxMjUgNS43MTI1QzE2LjUyMDggNS45MDQxNyAxNi4yODMzIDYgMTYgNkgxNC4xQzEzLjc1IDcuMTgzMzMgMTMuMjc1IDguMzMzMzMgMTIuNjc1IDkuNDVDMTIuMDc1IDEwLjU2NjcgMTEuMzMzMyAxMS42MTY3IDEwLjQ1IDEyLjZMMTIuODUgMTUuMDVMMTIuMSAxNy4xTDkgMTRaIgogID48L3BhdGg+CiAgPHBhdGgKICAgIGlkPSJ2b3QtbG9hZGluZy1pY29uIgogICAgc3R5bGU9ImRpc3BsYXk6bm9uZSIKICAgIGQ9Ik0xOS44MDgxIDE2LjM2OTdMMTguNTg0MiAxNS42NjMzVjEzLjA4MzJDMTguNTg0MiAxMi45Mjg1IDE4LjUyMjggMTIuNzgwMSAxOC40MTM0IDEyLjY3MDdDMTguMzA0IDEyLjU2MTMgMTguMTU1NiAxMi40OTk4IDE4LjAwMDkgMTIuNDk5OEMxNy44NDYyIDEyLjQ5OTggMTcuNjk3OCAxMi41NjEzIDE3LjU4ODQgMTIuNjcwN0MxNy40NzkgMTIuNzgwMSAxNy40MTc2IDEyLjkyODUgMTcuNDE3NiAxMy4wODMyVjE1Ljk5OThDMTcuNDE3NiAxNi4xMDIyIDE3LjQ0NDUgMTYuMjAyOCAxNy40OTU3IDE2LjI5MTVDMTcuNTQ2OSAxNi4zODAyIDE3LjYyMDUgMTYuNDUzOCAxNy43MDkyIDE2LjUwNUwxOS4yMjQ3IDE3LjM4QzE5LjI5MTEgMTcuNDE4OSAxOS4zNjQ1IDE3LjQ0NDMgMTkuNDQwNyAxNy40NTQ3QzE5LjUxNjkgMTcuNDY1MiAxOS41OTQ1IDE3LjQ2MDQgMTkuNjY4OCAxNy40NDA3QzE5Ljc0MzIgMTcuNDIxMSAxOS44MTMgMTcuMzg2OSAxOS44NzQxIDE3LjM0MDJDMTkuOTM1MiAxNy4yOTM0IDE5Ljk4NjQgMTcuMjM1MSAyMC4wMjQ5IDE3LjE2ODRDMjAuMDYzNCAxNy4xMDE4IDIwLjA4ODMgMTcuMDI4MiAyMC4wOTgyIDE2Ljk1MkMyMC4xMDgxIDE2Ljg3NTcgMjAuMTAyOCAxNi43OTgyIDIwLjA4MjcgMTYuNzIzOUMyMC4wNjI1IDE2LjY0OTcgMjAuMDI3OSAxNi41ODAyIDE5Ljk4MDggMTYuNTE5NEMxOS45MzM2IDE2LjQ1ODYgMTkuODc0OSAxNi40MDc3IDE5LjgwODEgMTYuMzY5N1pNMTguMDAxNSAxMEMxNi44NDc4IDEwIDE1LjY2MDMgMTAuMzU5IDE0LjcwMTEgMTFDMTMuNzQxOCAxMS42NDEgMTIuOTQxNSAxMi40MzQxIDEyLjUgMTMuNUMxMi4wNTg1IDE0LjU2NTkgMTEuODg1MiAxNi4wMzY5IDEyLjExMDMgMTcuMTY4NEMxMi4zMzUzIDE4LjMgMTIuODczNiAxOS40OTQyIDEzLjY4OTQgMjAuMzFDMTQuNTA1MyAyMS4xMjU4IDE1Ljg2ODQgMjEuNzc0OSAxNyAyMkMxOC4xMzE2IDIyLjIyNTEgMTkuNDM0MSAyMS45NDE1IDIwLjUgMjEuNUMyMS41NjU5IDIxLjA1ODUgMjIuMzU5IDIwLjI1NzMgMjMgMTkuMjk4QzIzLjY0MSAxOC4zMzg3IDI0LjAwMTUgMTcuMTUzNyAyNC4wMDE1IDE2QzIzLjk5OTggMTQuNDUzNCAyMy41OTUxIDEzLjA5MzYgMjIuNTAxNSAxMkMyMS40MDc5IDEwLjkwNjQgMTkuNTQ4MSAxMC4wMDE3IDE4LjAwMTUgMTBaTTE4LjAwMDkgMjAuNjY2NUMxNy4wNzc5IDIwLjY2NjUgMTYuMTc1NyAyMC4zOTI4IDE1LjQwODIgMTkuODhDMTQuNjQwOCAxOS4zNjcyIDE0LjA0MjcgMTguNjM4NCAxMy42ODk0IDE3Ljc4NTdDMTMuMzM2MiAxNi45MzMgMTMuMjQzOCAxNS45OTQ3IDEzLjQyMzkgMTUuMDg5NEMxMy42MDQgMTQuMTg0MiAxNC4wNDg0IDEzLjM1MjcgMTQuNzAxMSAxMi43QzE1LjM1MzcgMTIuMDQ3NCAxNi4xODUyIDExLjYwMjkgMTcuMDkwNSAxMS40MjI4QzE3Ljk5NTcgMTEuMjQyOCAxOC45MzQgMTEuMzM1MiAxOS43ODY3IDExLjY4ODRDMjAuNjM5NSAxMi4wNDE2IDIxLjM2ODMgMTIuNjM5NyAyMS44ODExIDEzLjQwNzJDMjIuMzkzOSAxNC4xNzQ2IDIyLjY2NzYgMTUuMDc2OSAyMi42Njc2IDE1Ljk5OThDMjIuNjY2IDE3LjIzNyAyMi4xNzM4IDE4LjQyMzEgMjEuMjk5IDE5LjI5OEMyMC40MjQyIDIwLjE3MjggMTkuMjM4MSAyMC42NjUgMTguMDAwOSAyMC42NjY1WiIKICA+PC9wYXRoPgo8L3N2Zz5gLCBnID0gKDAsIG0uSlcpYDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCIgd2lkdGg9IjI0Ij4KICA8cGF0aAogICAgZD0iTTEyMC01MjBxLTE3IDAtMjguNS0xMS41VDgwLTU2MHEwLTE3IDExLjUtMjguNVQxMjAtNjAwaDEwNEw4MC03NDNxLTEyLTEyLTEyLTI4LjVUODAtODAwcTEyLTEyIDI4LjUtMTJ0MjguNSAxMmwxNDMgMTQ0di0xMDRxMC0xNyAxMS41LTI4LjVUMzIwLTgwMHExNyAwIDI4LjUgMTEuNVQzNjAtNzYwdjIwMHEwIDE3LTExLjUgMjguNVQzMjAtNTIwSDEyMFptNDAgMzYwcS0zMyAwLTU2LjUtMjMuNVQ4MC0yNDB2LTE2MHEwLTE3IDExLjUtMjguNVQxMjAtNDQwcTE3IDAgMjguNSAxMS41VDE2MC00MDB2MTYwaDI4MHExNyAwIDI4LjUgMTEuNVQ0ODAtMjAwcTAgMTctMTEuNSAyOC41VDQ0MC0xNjBIMTYwWm02ODAtMjgwcS0xNyAwLTI4LjUtMTEuNVQ4MDAtNDgwdi0yNDBINDgwcS0xNyAwLTI4LjUtMTEuNVQ0NDAtNzYwcTAtMTcgMTEuNS0yOC41VDQ4MC04MDBoMzIwcTMzIDAgNTYuNSAyMy41VDg4MC03MjB2MjQwcTAgMTctMTEuNSAyOC41VDg0MC00NDBaTTYwMC0xNjBxLTE3IDAtMjguNS0xMS41VDU2MC0yMDB2LTEyMHEwLTE3IDExLjUtMjguNVQ2MDAtMzYwaDI0MHExNyAwIDI4LjUgMTEuNVQ4ODAtMzIwdjEyMHEwIDE3LTExLjUgMjguNVQ4NDAtMTYwSDYwMFoiCiAgLz4KPC9zdmc+YCwgXyA9ICgwLCBtLkpXKWA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyNCI+CiAgPHBhdGgKICAgIGQ9Ik00ODAtMTYwcS0zMyAwLTU2LjUtMjMuNVQ0MDAtMjQwcTAtMzMgMjMuNS01Ni41VDQ4MC0zMjBxMzMgMCA1Ni41IDIzLjVUNTYwLTI0MHEwIDMzLTIzLjUgNTYuNVQ0ODAtMTYwWm0wLTI0MHEtMzMgMC01Ni41LTIzLjVUNDAwLTQ4MHEwLTMzIDIzLjUtNTYuNVQ0ODAtNTYwcTMzIDAgNTYuNSAyMy41VDU2MC00ODBxMCAzMy0yMy41IDU2LjVUNDgwLTQwMFptMC0yNDBxLTMzIDAtNTYuNS0yMy41VDQwMC03MjBxMC0zMyAyMy41LTU2LjVUNDgwLTgwMHEzMyAwIDU2LjUgMjMuNVQ1NjAtNzIwcTAgMzMtMjMuNSA1Ni41VDQ4MC02NDBaIgogIC8+Cjwvc3ZnPmAsIHYgPSAoMCwgbS5KVylgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGNsYXNzPSJ2b3QtbG9hZGVyIiBpZD0idm90LWxvYWRlci1kb3dubG9hZCI+CiAgPHBhdGggY2xhc3M9InZvdC1sb2FkZXItbWFpbiIgZD0iTTEyIDE1LjU3NUMxMS44NjY3IDE1LjU3NSAxMS43NDE3IDE1LjU1NDIgMTEuNjI1IDE1LjUxMjVDMTEuNTA4MyAxNS40NzA4IDExLjQgMTUuNCAxMS4zIDE1LjNMNy43IDExLjdDNy41IDExLjUgNy40MDQxNyAxMS4yNjY3IDcuNDEyNSAxMUM3LjQyMDgzIDEwLjczMzMgNy41MTY2NyAxMC41IDcuNyAxMC4zQzcuOSAxMC4xIDguMTM3NSA5Ljk5NTgzIDguNDEyNSA5Ljk4NzVDOC42ODc1IDkuOTc5MTcgOC45MjUgMTAuMDc1IDkuMTI1IDEwLjI3NUwxMSAxMi4xNVY1QzExIDQuNzE2NjcgMTEuMDk1OCA0LjQ3OTE3IDExLjI4NzUgNC4yODc1QzExLjQ3OTIgNC4wOTU4MyAxMS43MTY3IDQgMTIgNEMxMi4yODMzIDQgMTIuNTIwOCA0LjA5NTgzIDEyLjcxMjUgNC4yODc1QzEyLjkwNDIgNC40NzkxNyAxMyA0LjcxNjY3IDEzIDVWMTIuMTVMMTQuODc1IDEwLjI3NUMxNS4wNzUgMTAuMDc1IDE1LjMxMjUgOS45NzkxNyAxNS41ODc1IDkuOTg3NUMxNS44NjI1IDkuOTk1ODMgMTYuMSAxMC4xIDE2LjMgMTAuM0MxNi40ODMzIDEwLjUgMTYuNTc5MiAxMC43MzMzIDE2LjU4NzUgMTFDMTYuNTk1OCAxMS4yNjY3IDE2LjUgMTEuNSAxNi4zIDExLjdMMTIuNyAxNS4zQzEyLjYgMTUuNCAxMi40OTE3IDE1LjQ3MDggMTIuMzc1IDE1LjUxMjVDMTIuMjU4MyAxNS41NTQyIDEyLjEzMzMgMTUuNTc1IDEyIDE1LjU3NVpNNiAyMEM1LjQ1IDIwIDQuOTc5MTcgMTkuODA0MiA0LjU4NzUgMTkuNDEyNUM0LjE5NTgzIDE5LjAyMDggNCAxOC41NSA0IDE4VjE2QzQgMTUuNzE2NyA0LjA5NTgzIDE1LjQ3OTIgNC4yODc1IDE1LjI4NzVDNC40NzkxNyAxNS4wOTU4IDQuNzE2NjcgMTUgNSAxNUM1LjI4MzMzIDE1IDUuNTIwODMgMTUuMDk1OCA1LjcxMjUgMTUuMjg3NUM1LjkwNDE3IDE1LjQ3OTIgNiAxNS43MTY3IDYgMTZWMThIMThWMTZDMTggMTUuNzE2NyAxOC4wOTU4IDE1LjQ3OTIgMTguMjg3NSAxNS4yODc1QzE4LjQ3OTIgMTUuMDk1OCAxOC43MTY3IDE1IDE5IDE1QzE5LjI4MzMgMTUgMTkuNTIwOCAxNS4wOTU4IDE5LjcxMjUgMTUuMjg3NUMxOS45MDQyIDE1LjQ3OTIgMjAgMTUuNzE2NyAyMCAxNlYxOEMyMCAxOC41NSAxOS44MDQyIDE5LjAyMDggMTkuNDEyNSAxOS40MTI1QzE5LjAyMDggMTkuODA0MiAxOC41NSAyMCAxOCAyMEg2WiIvPgogIDx0ZXh0IGNsYXNzPSJ2b3QtbG9hZGVyLXRleHQiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjUwJSIgeT0iNTAlIj48L3RleHQ+Cjwvc3ZnPmAsIGIgPSAoMCwgbS5KVylgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxwYXRoIGQ9Ik00IDIwcS0uODI1IDAtMS40MTMtLjU4OFQyIDE4VjZxMC0uODI1LjU4OC0xLjQxM1Q0IDRoMTZxLjgyNSAwIDEuNDEzLjU4OFQyMiA2djEycTAgLjgyNS0uNTg4IDEuNDEzVDIwIDIwSDRabTItNGg4di0ySDZ2MlptMTAgMGgydi0yaC0ydjJaTTYgMTJoMnYtMkg2djJabTQgMGg4di0yaC04djJaIi8+Cjwvc3ZnPmAsIHggPSAoMCwgbS5KVylgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+CiAgPHBhdGggZD0iTTU1NS04MEg0MDVxLTE1IDAtMjYtMTB0LTEzLTI1bC0xMi05M3EtMTMtNS0yNC41LTEyVDMwNy0yMzVsLTg3IDM2cS0xNCA1LTI4IDF0LTIyLTE3TDk2LTM0NHEtOC0xMy01LTI4dDE1LTI0bDc1LTU3cS0xLTctMS0xMy41di0yN3EwLTYuNSAxLTEzLjVsLTc1LTU3cS0xMi05LTE1LTI0dDUtMjhsNzQtMTI5cTctMTQgMjEuNS0xNy41VDIyMC03NjFsODcgMzZxMTEtOCAyMy0xNXQyNC0xMmwxMi05M3EyLTE1IDEzLTI1dDI2LTEwaDE1MHExNSAwIDI2IDEwdDEzIDI1bDEyIDkzcTEzIDUgMjQuNSAxMnQyMi41IDE1bDg3LTM2cTE0LTUgMjgtMXQyMiAxN2w3NCAxMjlxOCAxMyA1IDI4dC0xNSAyNGwtNzUgNTdxMSA3IDEgMTMuNXYyN3EwIDYuNS0yIDEzLjVsNzUgNTdxMTIgOSAxNSAyNHQtNSAyOGwtNzQgMTI4cS04IDEzLTIyLjUgMTcuNVQ3MzgtMTk5bC04NS0zNnEtMTEgOC0yMyAxNXQtMjQgMTJsLTEyIDkzcS0yIDE1LTEzIDI1dC0yNiAxMFptLTczLTI2MHE1OCAwIDk5LTQxdDQxLTk5cTAtNTgtNDEtOTl0LTk5LTQxcS01OSAwLTk5LjUgNDFUMzQyLTQ4MHEwIDU4IDQwLjUgOTl0OTkuNSA0MVptMC04MHEtMjUgMC00Mi41LTE3LjVUNDIyLTQ4MHEwLTI1IDE3LjUtNDIuNVQ0ODItNTQwcTI1IDAgNDIuNSAxNy41VDU0Mi00ODBxMCAyNS0xNy41IDQyLjVUNDgyLTQyMFptLTItNjBabS00MCAzMjBoNzlsMTQtMTA2cTMxLTggNTcuNS0yMy41VDYzOS0zMjdsOTkgNDEgMzktNjgtODYtNjVxNS0xNCA3LTI5LjV0Mi0zMS41cTAtMTYtMi0zMS41dC03LTI5LjVsODYtNjUtMzktNjgtOTkgNDJxLTIyLTIzLTQ4LjUtMzguNVQ1MzMtNjk0bC0xMy0xMDZoLTc5bC0xNCAxMDZxLTMxIDgtNTcuNSAyMy41VDMyMS02MzNsLTk5LTQxLTM5IDY4IDg2IDY0cS01IDE1LTcgMzB0LTIgMzJxMCAxNiAyIDMxdDcgMzBsLTg2IDY1IDM5IDY4IDk5LTQycTIyIDIzIDQ4LjUgMzguNVQ0MjctMjY2bDEzIDEwNloiLz4KPC9zdmc+YCwgQyA9ICgwLCBtLkpXKWA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiID4KICA8cGF0aAogICAgZD0iTTEyIDE0Ljk3NXEtLjIgMC0uMzc1LS4wNjJUMTEuMyAxNC43bC00LjYtNC42cS0uMjc1LS4yNzUtLjI3NS0uN3QuMjc1LS43cS4yNzUtLjI3NS43LS4yNzV0LjcuMjc1bDMuOSAzLjlsMy45LTMuOXEuMjc1LS4yNzUuNy0uMjc1dC43LjI3NXEuMjc1LjI3NS4yNzUuN3QtLjI3NS43bC00LjYgNC42cS0uMTUuMTUtLjMyNS4yMTN0LS4zNzUuMDYyWiIKICAvPgo8L3N2Zz5gLCB3ID0gKDAsIG0uSlcpYDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCIgd2lkdGg9IjI0Ij4KICA8cGF0aAogICAgZD0iTTY0Ny00NDBIMjAwcS0xNyAwLTI4LjUtMTEuNVQxNjAtNDgwcTAtMTcgMTEuNS0yOC41VDIwMC01MjBoNDQ3TDQ1MS03MTZxLTEyLTEyLTExLjUtMjh0MTIuNS0yOHExMi0xMSAyOC0xMS41dDI4IDExLjVsMjY0IDI2NHE2IDYgOC41IDEzdDIuNSAxNXEwIDgtMi41IDE1dC04LjUgMTNMNTA4LTE4OHEtMTEgMTEtMjcuNSAxMVQ0NTItMTg4cS0xMi0xMi0xMi0yOC41dDEyLTI4LjVsMTk1LTE5NVoiCiAgLz4KPC9zdmc+YCwgVCA9ICgwLCBtLkpXKWA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIj4KICA8cGF0aCBkPSJNNDgwLTQyNCAyODQtMjI4cS0xMSAxMS0yOCAxMXQtMjgtMTFxLTExLTExLTExLTI4dDExLTI4bDE5Ni0xOTYtMTk2LTE5NnEtMTEtMTEtMTEtMjh0MTEtMjhxMTEtMTEgMjgtMTF0MjggMTFsMTk2IDE5NiAxOTYtMTk2cTExLTExIDI4LTExdDI4IDExcTExIDExIDExIDI4dC0xMSAyOEw1MzYtNDgwbDE5NiAxOTZxMTEgMTEgMTEgMjh0LTExIDI4cS0xMSAxMS0yOCAxMXQtMjgtMTFMNDgwLTQyNFoiLz4KPC9zdmc+YCwgRSA9ICgwLCBtLkpXKWA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxnIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0ibTEyLjU5MyAyMy4yNThsLS4wMTEuMDAybC0uMDcxLjAzNWwtLjAyLjAwNGwtLjAxNC0uMDA0bC0uMDcxLS4wMzVxLS4wMTYtLjAwNS0uMDI0LjAwNWwtLjAwNC4wMWwtLjAxNy40MjhsLjAwNS4wMmwuMDEuMDEzbC4xMDQuMDc0bC4wMTUuMDA0bC4wMTItLjAwNGwuMTA0LS4wNzRsLjAxMi0uMDE2bC4wMDQtLjAxN2wtLjAxNy0uNDI3cS0uMDA0LS4wMTYtLjAxNy0uMDE4bS4yNjUtLjExM2wtLjAxMy4wMDJsLS4xODUuMDkzbC0uMDEuMDFsLS4wMDMuMDExbC4wMTguNDNsLjAwNS4wMTJsLjAwOC4wMDdsLjIwMS4wOTNxLjAxOS4wMDUuMDI5LS4wMDhsLjAwNC0uMDE0bC0uMDM0LS42MTRxLS4wMDUtLjAxOC0uMDItLjAyMm0tLjcxNS4wMDJhLjAyLjAyIDAgMCAwLS4wMjcuMDA2bC0uMDA2LjAxNGwtLjAzNC42MTRxLjAwMS4wMTguMDE3LjAyNGwuMDE1LS4wMDJsLjIwMS0uMDkzbC4wMS0uMDA4bC4wMDQtLjAxMWwuMDE3LS40M2wtLjAwMy0uMDEybC0uMDEtLjAxeiIvPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTEyIDJjNS41MjMgMCAxMCA0LjQ3NyAxMCAxMHMtNC40NzcgMTAtMTAgMTBTMiAxNy41MjMgMiAxMlM2LjQ3NyAyIDEyIDJtMCAyYTggOCAwIDEgMCAwIDE2YTggOCAwIDAgMCAwLTE2bTAgMTFhMSAxIDAgMSAxIDAgMmExIDEgMCAwIDEgMC0ybTAtOWExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMSAxLTIgMFY3YTEgMSAwIDAgMSAxLTEiLz4KICA8L2c+Cjwvc3ZnPmAsIEQgPSAoMCwgbS5KVylgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIj4KICAgIDxwYXRoIGQ9Im0xMi41OTMgMjMuMjU4bC0uMDExLjAwMmwtLjA3MS4wMzVsLS4wMi4wMDRsLS4wMTQtLjAwNGwtLjA3MS0uMDM1cS0uMDE2LS4wMDUtLjAyNC4wMDVsLS4wMDQuMDFsLS4wMTcuNDI4bC4wMDUuMDJsLjAxLjAxM2wuMTA0LjA3NGwuMDE1LjAwNGwuMDEyLS4wMDRsLjEwNC0uMDc0bC4wMTItLjAxNmwuMDA0LS4wMTdsLS4wMTctLjQyN3EtLjAwNC0uMDE2LS4wMTctLjAxOG0uMjY1LS4xMTNsLS4wMTMuMDAybC0uMTg1LjA5M2wtLjAxLjAxbC0uMDAzLjAxMWwuMDE4LjQzbC4wMDUuMDEybC4wMDguMDA3bC4yMDEuMDkzcS4wMTkuMDA1LjAyOS0uMDA4bC4wMDQtLjAxNGwtLjAzNC0uNjE0cS0uMDA1LS4wMTgtLjAyLS4wMjJtLS43MTUuMDAyYS4wMi4wMiAwIDAgMC0uMDI3LjAwNmwtLjAwNi4wMTRsLS4wMzQuNjE0cS4wMDEuMDE4LjAxNy4wMjRsLjAxNS0uMDAybC4yMDEtLjA5M2wuMDEtLjAwOGwuMDA0LS4wMTFsLjAxNy0uNDNsLS4wMDMtLjAxMmwtLjAxLS4wMXoiLz48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMiAyYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwUzIgMTcuNTIzIDIgMTJTNi40NzcgMiAxMiAybTAgMmE4IDggMCAxIDAgMCAxNmE4IDggMCAwIDAgMC0xNm0wIDEyYTEgMSAwIDEgMSAwIDJhMSAxIDAgMCAxIDAtMm0wLTkuNWEzLjYyNSAzLjYyNSAwIDAgMSAxLjM0OCA2Ljk5YS44LjggMCAwIDAtLjMwNS4yMDFjLS4wNDQuMDUtLjA1MS4xMTQtLjA1LjE4TDEzIDE0YTEgMSAwIDAgMS0xLjk5My4xMTdMMTEgMTR2LS4yNWMwLTEuMTUzLjkzLTEuODQ1IDEuNjA0LTIuMTE2YTEuNjI2IDEuNjI2IDAgMSAwLTIuMjI5LTEuNTA5YTEgMSAwIDEgMS0yIDBBMy42MjUgMy42MjUgMCAwIDEgMTIgNi41Ii8+CiAgPC9nPgo8L3N2Zz5gLCBPID0gKDAsIG0uSlcpYDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPGcgZmlsbD0ibm9uZSI+CiAgICA8cGF0aCBkPSJtMTIuNTk0IDIzLjI1OGwtLjAxMi4wMDJsLS4wNzEuMDM1bC0uMDIuMDA0bC0uMDE0LS4wMDRsLS4wNzEtLjAzNnEtLjAxNi0uMDA0LS4wMjQuMDA2bC0uMDA0LjAxbC0uMDE3LjQyOGwuMDA1LjAybC4wMS4wMTNsLjEwNC4wNzRsLjAxNS4wMDRsLjAxMi0uMDA0bC4xMDQtLjA3NGwuMDEyLS4wMTZsLjAwNC0uMDE3bC0uMDE3LS40MjdxLS4wMDQtLjAxNi0uMDE2LS4wMThtLjI2NC0uMTEzbC0uMDE0LjAwMmwtLjE4NC4wOTNsLS4wMS4wMWwtLjAwMy4wMTFsLjAxOC40M2wuMDA1LjAxMmwuMDA4LjAwOGwuMjAxLjA5MnEuMDE5LjAwNS4wMjktLjAwOGwuMDA0LS4wMTRsLS4wMzQtLjYxNHEtLjAwNS0uMDE5LS4wMi0uMDIybS0uNzE1LjAwMmEuMDIuMDIgMCAwIDAtLjAyNy4wMDZsLS4wMDYuMDE0bC0uMDM0LjYxNHEuMDAxLjAxOC4wMTcuMDI0bC4wMTUtLjAwMmwuMjAxLS4wOTNsLjAxLS4wMDhsLjAwMy0uMDExbC4wMTgtLjQzbC0uMDAzLS4wMTJsLS4wMS0uMDF6Ii8+CiAgICA8cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0yMCA5YTEgMSAwIDAgMSAxIDF2MWE4IDggMCAwIDEtOCA4SDkuNDE0bC43OTMuNzkzYTEgMSAwIDAgMS0xLjQxNCAxLjQxNGwtMi40OTYtMi40OTZhMSAxIDAgMCAxLS4yODctLjU2N0w2IDE3Ljk5MWExIDEgMCAwIDEgLjIzNy0uNjM4bC4wNTYtLjA2bDIuNS0yLjVhMSAxIDAgMCAxIDEuNDE0IDEuNDE0TDkuNDE0IDE3SDEzYTYgNiAwIDAgMCA2LTZ2LTFhMSAxIDAgMCAxIDEtMW0tNC43OTMtNi4yMDdsMi41IDIuNWExIDEgMCAwIDEgMCAxLjQxNGwtMi41IDIuNWExIDEgMCAxIDEtMS40MTQtMS40MTRMMTQuNTg2IDdIMTFhNiA2IDAgMCAwLTYgNnYxYTEgMSAwIDEgMS0yIDB2LTFhOCA4IDAgMCAxIDgtOGgzLjU4NmwtLjc5My0uNzkzYTEgMSAwIDAgMSAxLjQxNC0xLjQxNCIvPgogIDwvZz4KPC9zdmc+YCwgQSA9ICgwLCBtLkpXKWA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTcgMTVxMS4yNSAwIDIuMTI1LS44NzVUMTAgMTJ0LS44NzUtMi4xMjVUNyA5dC0yLjEyNS44NzVUNCAxMnQuODc1IDIuMTI1VDcgMTVtMCAzcS0yLjUgMC00LjI1LTEuNzVUMSAxMnQxLjc1LTQuMjVUNyA2cTIuMDI1IDAgMy41MzggMS4xNVQxMi42NSAxMGg4LjM3NUwyMyAxMS45NzVsLTMuNSA0TDE3IDE0bC0yIDJsLTItMmgtLjM1cS0uNjI1IDEuOC0yLjE3NSAyLjlUNyAxOCIvPgogIDwvc3ZnPmA7CgkJfSwKCQkiLi9zcmMvdWkvbWFuYWdlci50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7IG86ICgpID0+IFVJTWFuYWdlciB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvdXRpbHMvc3Vicy5qcyIpLCBnID0gcCgiLi9zcmMvdWkuanMiKSwgXyA9IHAoIi4vc3JjL2NvbmZpZy9jb25maWcuanMiKSwgdiA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBiID0gcCgiLi9zcmMvdXRpbHMvVk9UTG9jYWxpemVkRXJyb3IuanMiKSwgeCA9IHAoIi4vc3JjL3V0aWxzL2RlYnVnLnRzIiksIEMgPSBwKCIuL3NyYy91dGlscy9nbS50cyIpLCB3ID0gcCgiLi9zcmMvdXRpbHMvc3RvcmFnZS50cyIpLCBUID0gcCgiLi9zcmMvdXRpbHMvdXRpbHMudHMiKSwgRSA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvdm90QnV0dG9uLnRzIiksIEQgPSBwKCIuL3NyYy91aS92aWV3cy9vdmVybGF5LnRzIiksIE8gPSBwKCIuL3NyYy91aS92aWV3cy9zZXR0aW5ncy50cyIpLCBBID0gZChbCgkJCQkJCWcsCgkJCQkJCXYsCgkJCQkJCWIsCgkJCQkJCUMsCgkJCQkJCXcsCgkJCQkJCVQsCgkJCQkJCUUsCgkJCQkJCUQsCgkJCQkJCU8KCQkJCQldKTsKCQkJCQlbZywgdiwgYiwgQywgdywgVCwgRSwgRCwgT10gPSBBLnRoZW4gPyAoYXdhaXQgQSkoKSA6IEE7CgkJCQkJY2xhc3MgVUlNYW5hZ2VyIHsKCQkJCQkJcm9vdDsKCQkJCQkJcG9ydGFsQ29udGFpbmVyOwoJCQkJCQl0b29sdGlwTGF5b3V0Um9vdDsKCQkJCQkJaW5pdGlhbGl6ZWQgPSAhMTsKCQkJCQkJdmlkZW9IYW5kbGVyOwoJCQkJCQlkYXRhOwoJCQkJCQl2b3RHbG9iYWxQb3J0YWw7CgkJCQkJCXZvdE92ZXJsYXlWaWV3OwoJCQkJCQl2b3RTZXR0aW5nc1ZpZXc7CgkJCQkJCWNvbnN0cnVjdG9yKHsgcm9vdDogZCwgcG9ydGFsQ29udGFpbmVyOiBmLCB0b29sdGlwTGF5b3V0Um9vdDogcCwgZGF0YTogbSA9IHt9LCB2aWRlb0hhbmRsZXI6IGggfSkgewoJCQkJCQkJdGhpcy5yb290ID0gZCwgdGhpcy5wb3J0YWxDb250YWluZXIgPSBmLCB0aGlzLnRvb2x0aXBMYXlvdXRSb290ID0gcCwgdGhpcy52aWRlb0hhbmRsZXIgPSBoLCB0aGlzLmRhdGEgPSBtOwoJCQkJCQl9CgkJCQkJCWlzSW5pdGlhbGl6ZWQoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5pbml0aWFsaXplZDsKCQkJCQkJfQoJCQkJCQlpbml0VUkoKSB7CgkJCQkJCQlpZiAodGhpcy5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBVSU1hbmFnZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZCIpOwoJCQkJCQkJcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMCwgdGhpcy52b3RHbG9iYWxQb3J0YWwgPSBnLkEuY3JlYXRlUG9ydGFsKCksIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZvdEdsb2JhbFBvcnRhbCksIHRoaXMudm90T3ZlcmxheVZpZXcgPSBuZXcgRC5pKHsKCQkJCQkJCQlyb290OiB0aGlzLnJvb3QsCgkJCQkJCQkJcG9ydGFsQ29udGFpbmVyOiB0aGlzLnBvcnRhbENvbnRhaW5lciwKCQkJCQkJCQl0b29sdGlwTGF5b3V0Um9vdDogdGhpcy50b29sdGlwTGF5b3V0Um9vdCwKCQkJCQkJCQlnbG9iYWxQb3J0YWw6IHRoaXMudm90R2xvYmFsUG9ydGFsLAoJCQkJCQkJCWRhdGE6IHRoaXMuZGF0YSwKCQkJCQkJCQl2aWRlb0hhbmRsZXI6IHRoaXMudmlkZW9IYW5kbGVyCgkJCQkJCQl9KSwgdGhpcy52b3RPdmVybGF5Vmlldy5pbml0VUkoKSwgdGhpcy52b3RTZXR0aW5nc1ZpZXcgPSBuZXcgTy5yKHsKCQkJCQkJCQlnbG9iYWxQb3J0YWw6IHRoaXMudm90R2xvYmFsUG9ydGFsLAoJCQkJCQkJCWRhdGE6IHRoaXMuZGF0YSwKCQkJCQkJCQl2aWRlb0hhbmRsZXI6IHRoaXMudmlkZW9IYW5kbGVyCgkJCQkJCQl9KSwgdGhpcy52b3RTZXR0aW5nc1ZpZXcuaW5pdFVJKCksIHRoaXM7CgkJCQkJCX0KCQkJCQkJaW5pdFVJRXZlbnRzKCkgewoJCQkJCQkJaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKSkgdGhyb3cgRXJyb3IoIltWT1RdIFVJTWFuYWdlciBpc24ndCBpbml0aWFsaXplZCIpOwoJCQkJCQkJdGhpcy52b3RPdmVybGF5Vmlldy5pbml0VUlFdmVudHMoKSwgdGhpcy52b3RPdmVybGF5Vmlldy5hZGRFdmVudExpc3RlbmVyKCJjbGljazp0cmFuc2xhdGUiLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJYXdhaXQgdGhpcy5oYW5kbGVUcmFuc2xhdGlvbkJ0bkNsaWNrKCk7CgkJCQkJCQl9KS5hZGRFdmVudExpc3RlbmVyKCJjbGljazpwaXAiLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJaWYgKCF0aGlzLnZpZGVvSGFuZGxlcikgcmV0dXJuOwoJCQkJCQkJCWxldCBkID0gdGhpcy52aWRlb0hhbmRsZXIudmlkZW8gPT09IGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50OwoJCQkJCQkJCWF3YWl0IChkID8gZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKSA6IHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKCkpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2s6c2V0dGluZ3MiLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJdGhpcy52aWRlb0hhbmRsZXI/LnN1YnRpdGxlc1dpZGdldC5yZWxlYXNlVG9vbHRpcCgpLCB0aGlzLnZvdFNldHRpbmdzVmlldy5vcGVuKCksIGF3YWl0ICgwLCBULkVoKSgpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2s6ZG93bmxvYWRUcmFuc2xhdGlvbiIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlpZiAoISghdGhpcy52b3RPdmVybGF5Vmlldy5pc0luaXRpYWxpemVkKCkgfHwgIXRoaXMudmlkZW9IYW5kbGVyPy5kb3dubG9hZFRyYW5zbGF0aW9uVXJsIHx8ICF0aGlzLnZpZGVvSGFuZGxlci52aWRlb0RhdGEpKSB7CgkJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCQlpZiAoIXRoaXMuZGF0YS5kb3dubG9hZFdpdGhOYW1lIHx8ICFDLnl4KSByZXR1cm4gKDAsIFQuV28pKHRoaXMudmlkZW9IYW5kbGVyLmRvd25sb2FkVHJhbnNsYXRpb25VcmwpOwoJCQkJCQkJCQkJdGhpcy52b3RPdmVybGF5Vmlldy5kb3dubG9hZFRyYW5zbGF0aW9uQnV0dG9uLnByb2dyZXNzID0gMDsKCQkJCQkJCQkJCWxldCBkID0gYXdhaXQgKDAsIEMuRzMpKHRoaXMudmlkZW9IYW5kbGVyLmRvd25sb2FkVHJhbnNsYXRpb25VcmwsIHsgdGltZW91dDogMCB9KTsKCQkJCQkJCQkJCWlmICghZC5vaykgdGhyb3cgRXJyb3IoYEhUVFAgJHtkLnN0YXR1c31gKTsKCQkJCQkJCQkJCWxldCBmID0gKDAsIFQuTGUpKHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS5kb3dubG9hZFRpdGxlKTsKCQkJCQkJCQkJCWF3YWl0ICgwLCBULk1SKShkLCBmLCAoZCkgPT4gewoJCQkJCQkJCQkJCXRoaXMudm90T3ZlcmxheVZpZXcuZG93bmxvYWRUcmFuc2xhdGlvbkJ1dHRvbi5wcm9ncmVzcyA9IGQ7CgkJCQkJCQkJCQl9KTsKCQkJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCQkJY29uc29sZS5lcnJvcigiW1ZPVF0gRG93bmxvYWQgdHJhbnNsYXRpb24gZmFpbGVkOiIsIGQpLCAoMCwgVC5XbykodGhpcy52aWRlb0hhbmRsZXIuZG93bmxvYWRUcmFuc2xhdGlvblVybCk7CgkJCQkJCQkJCX0KCQkJCQkJCQkJdGhpcy52b3RPdmVybGF5Vmlldy5kb3dubG9hZFRyYW5zbGF0aW9uQnV0dG9uLnByb2dyZXNzID0gMDsKCQkJCQkJCQl9CgkJCQkJCQl9KS5hZGRFdmVudExpc3RlbmVyKCJjbGljazpkb3dubG9hZFN1YnRpdGxlcyIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlpZiAoIXRoaXMudmlkZW9IYW5kbGVyIHx8ICF0aGlzLnZpZGVvSGFuZGxlci55YW5kZXhTdWJ0aXRsZXMgfHwgIXRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YSkgcmV0dXJuOwoJCQkJCQkJCWxldCBkID0gdGhpcy5kYXRhLnN1YnRpdGxlc0Rvd25sb2FkRm9ybWF0ID8/ICJqc29uIiwgZiA9ICgwLCBoLnZrKSh0aGlzLnZpZGVvSGFuZGxlci55YW5kZXhTdWJ0aXRsZXMsIGQpLCBwID0gbmV3IEJsb2IoW2QgPT09ICJqc29uIiA/IEpTT04uc3RyaW5naWZ5KGYpIDogZl0sIHsgdHlwZTogInRleHQvcGxhaW4iIH0pLCBtID0gdGhpcy5kYXRhLmRvd25sb2FkV2l0aE5hbWUgPyAoMCwgVC5MZSkodGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLmRvd25sb2FkVGl0bGUpIDogYHN1YnRpdGxlc18ke3RoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS52aWRlb0lkfWA7CgkJCQkJCQkJKDAsIFQuV04pKHAsIGAke219LiR7ZH1gKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0OnZpZGVvVm9sdW1lIiwgKGQpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlciAmJiAodGhpcy52aWRlb0hhbmRsZXIuc2V0VmlkZW9Wb2x1bWUoZCAvIDEwMCksIHRoaXMuZGF0YS5zeW5jVm9sdW1lICYmIHRoaXMudmlkZW9IYW5kbGVyLnN5bmNWb2x1bWVXcmFwcGVyKCJ2aWRlbyIsIGQpKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0OnRyYW5zbGF0aW9uVm9sdW1lIiwgKCkgPT4gewoJCQkJCQkJCWlmICghdGhpcy52aWRlb0hhbmRsZXIpIHJldHVybjsKCQkJCQkJCQlsZXQgZCA9IHRoaXMuZGF0YS5kZWZhdWx0Vm9sdW1lID8/IDEwMDsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlci5hdWRpb1BsYXllci5wbGF5ZXIudm9sdW1lID0gZCAvIDEwMCwgdGhpcy5kYXRhLnN5bmNWb2x1bWUgJiYgKHRoaXMudmlkZW9IYW5kbGVyLnN5bmNWb2x1bWVXcmFwcGVyKCJ0cmFuc2xhdGlvbiIsIGQpLCBbInlvdXR1YmUiLCAiZ29vZ2xlZHJpdmUiXS5pbmNsdWRlcyh0aGlzLnZpZGVvSGFuZGxlci5zaXRlLmhvc3QpICYmIHRoaXMudmlkZW9IYW5kbGVyLnNpdGUuYWRkaXRpb25hbERhdGEgIT09ICJtb2JpbGUiICYmIHRoaXMudmlkZW9IYW5kbGVyLnNldFZpZGVvVm9sdW1lKHRoaXMudmlkZW9IYW5kbGVyLnRlbXBPcmlnaW5hbFZvbHVtZSAvIDEwMCkpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0OnN1YnRpdGxlcyIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJYXdhaXQgdGhpcy52aWRlb0hhbmRsZXI/LmNoYW5nZVN1YnRpdGxlc0xhbmcoZCk7CgkJCQkJCQl9KSwgdGhpcy52b3RTZXR0aW5nc1ZpZXcuaW5pdFVJRXZlbnRzKCksIHRoaXMudm90U2V0dGluZ3NWaWV3LmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZTphY2NvdW50IiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlciAmJiAodGhpcy52aWRlb0hhbmRsZXIudm90Q2xpZW50LmFwaVRva2VuID0gZD8udG9rZW4pOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlOmF1dG9UcmFuc2xhdGUiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCWQgJiYgdGhpcy52aWRlb0hhbmRsZXIgJiYgIXRoaXMudmlkZW9IYW5kbGVyPy5oYXNBY3RpdmVTb3VyY2UoKSAmJiBhd2FpdCB0aGlzLmhhbmRsZVRyYW5zbGF0aW9uQnRuQ2xpY2soKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZTpzaG93VmlkZW9Wb2x1bWUiLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy52b3RPdmVybGF5Vmlldy5pc0luaXRpYWxpemVkKCkgJiYgKHRoaXMudm90T3ZlcmxheVZpZXcudmlkZW9Wb2x1bWVTbGlkZXIuY29udGFpbmVyLmhpZGRlbiA9ICF0aGlzLmRhdGEuc2hvd1ZpZGVvU2xpZGVyIHx8IHRoaXMudm90T3ZlcmxheVZpZXcudm90QnV0dG9uLnN0YXR1cyAhPT0gInN1Y2Nlc3MiKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZTphdWRpb0J1c3RlciIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlpZiAoIXRoaXMudm90T3ZlcmxheVZpZXcuaXNJbml0aWFsaXplZCgpKSByZXR1cm47CgkJCQkJCQkJbGV0IGQgPSB0aGlzLnZvdE92ZXJsYXlWaWV3LnRyYW5zbGF0aW9uVm9sdW1lU2xpZGVyLnZhbHVlOwoJCQkJCQkJCXRoaXMudm90T3ZlcmxheVZpZXcudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIubWF4ID0gdGhpcy5kYXRhLmF1ZGlvQm9vc3RlciA/IF8uVDggOiAxMDAsIHRoaXMudm90T3ZlcmxheVZpZXcudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIudmFsdWUgPSAoMCwgVC5xRSkoZCwgMCwgMTAwKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZTp1c2VMaXZlbHlWb2ljZSIsICgpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlcj8uc3RvcFRyYW5zbGF0ZSgpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlOnN1YnRpdGxlc0hpZ2hsaWdodFdvcmRzIiwgKGQpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlcj8uc3VidGl0bGVzV2lkZ2V0LnNldEhpZ2hsaWdodFdvcmRzKHRoaXMuZGF0YS5oaWdobGlnaHRXb3JkcyA/PyBkKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0OnN1YnRpdGxlc01heExlbmd0aCIsIChkKSA9PiB7CgkJCQkJCQkJdGhpcy52aWRlb0hhbmRsZXI/LnN1YnRpdGxlc1dpZGdldC5zZXRNYXhMZW5ndGgodGhpcy5kYXRhLnN1YnRpdGxlc01heExlbmd0aCA/PyBkKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0OnN1YnRpdGxlc0ZvbnRTaXplIiwgKGQpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlcj8uc3VidGl0bGVzV2lkZ2V0LnNldEZvbnRTaXplKHRoaXMuZGF0YS5zdWJ0aXRsZXNGb250U2l6ZSA/PyBkKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0OnN1YnRpdGxlc0JhY2tncm91bmRPcGFjaXR5IiwgKGQpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlcj8uc3VidGl0bGVzV2lkZ2V0LnNldE9wYWNpdHkodGhpcy5kYXRhLnN1YnRpdGxlc09wYWNpdHkgPz8gZCk7CgkJCQkJCQl9KS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2U6cHJveHlXb3JrZXJIb3N0IiwgKGQpID0+IHsKCQkJCQkJCQkhdGhpcy5kYXRhLnRyYW5zbGF0ZVByb3h5RW5hYmxlZCB8fCAhdGhpcy52aWRlb0hhbmRsZXIgfHwgKHRoaXMudmlkZW9IYW5kbGVyLnZvdENsaWVudC5ob3N0ID0gdGhpcy5kYXRhLnByb3h5V29ya2VySG9zdCA/PyBkKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdDpwcm94eVRyYW5zbGF0aW9uU3RhdHVzIiwgKCkgPT4gewoJCQkJCQkJCXRoaXMudmlkZW9IYW5kbGVyPy5pbml0Vk9UQ2xpZW50KCk7CgkJCQkJCQl9KS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2U6dXNlTmV3QXVkaW9QbGF5ZXIiLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy52aWRlb0hhbmRsZXIgJiYgKHRoaXMudmlkZW9IYW5kbGVyLnN0b3BUcmFuc2xhdGUoKSwgdGhpcy52aWRlb0hhbmRsZXIuY3JlYXRlUGxheWVyKCkpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlOm9ubHlCeXBhc3NNZWRpYUNTUCIsICgpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlciAmJiAodGhpcy52aWRlb0hhbmRsZXIuc3RvcFRyYW5zbGF0ZSgpLCB0aGlzLnZpZGVvSGFuZGxlci5jcmVhdGVQbGF5ZXIoKSk7CgkJCQkJCQl9KS5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Q6dHJhbnNsYXRpb25UZXh0U2VydmljZSIsICgpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlciAmJiAodGhpcy52aWRlb0hhbmRsZXIuc3VidGl0bGVzV2lkZ2V0LnN0clRyYW5zbGF0ZWRUb2tlbnMgPSAiIiwgdGhpcy52aWRlb0hhbmRsZXIuc3VidGl0bGVzV2lkZ2V0LnJlbGVhc2VUb29sdGlwKCkpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlOnNob3dQaVBCdXR0b24iLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy52b3RPdmVybGF5Vmlldy5pc0luaXRpYWxpemVkKCkgJiYgKHRoaXMudm90T3ZlcmxheVZpZXcudm90QnV0dG9uLnBpcEJ1dHRvbi5oaWRkZW4gPSB0aGlzLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5zZXBhcmF0b3IyLmhpZGRlbiA9ICF0aGlzLnZvdE92ZXJsYXlWaWV3LnBpcEJ1dHRvblZpc2libGUpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0OmJ1dHRvblBvc2l0aW9uIiwgKGQpID0+IHsKCQkJCQkJCQlpZiAoIXRoaXMudm90T3ZlcmxheVZpZXcuaXNJbml0aWFsaXplZCgpKSByZXR1cm47CgkJCQkJCQkJbGV0IGYgPSB0aGlzLmRhdGEuYnV0dG9uUG9zID8/IGQ7CgkJCQkJCQkJdGhpcy52b3RPdmVybGF5Vmlldy51cGRhdGVCdXR0b25MYXlvdXQoZiwgRS5BLmNhbGNEaXJlY3Rpb24oZikpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0Om1lbnVMYW5ndWFnZSIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlhd2FpdCB0aGlzLnJlbG9hZE1lbnUoKTsKCQkJCQkJCX0pLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrOmJ1Z1JlcG9ydCIsICgpID0+IHsKCQkJCQkJCQlpZiAoIXRoaXMudmlkZW9IYW5kbGVyKSByZXR1cm47CgkJCQkJCQkJbGV0IGQgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHRoaXMudmlkZW9IYW5kbGVyLmNvbGxlY3RSZXBvcnRJbmZvKCkpLnRvU3RyaW5nKCk7CgkJCQkJCQkJd2luZG93Lm9wZW4oYCR7Xy5Fa30vaXNzdWVzL25ldz8ke2R9YCwgIl9ibGFuayIpPy5mb2N1cygpOwoJCQkJCQkJfSkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2s6cmVzZXRTZXR0aW5ncyIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlsZXQgZCA9IGF3YWl0IHcuZC5saXN0KCk7CgkJCQkJCQkJYXdhaXQgUHJvbWlzZS5hbGwoZC5tYXAoYXN5bmMgKGQpID0+IGF3YWl0IHcuZC5kZWxldGUoZCkpKSwgYXdhaXQgdy5kLnNldCgiY29tcGF0VmVyc2lvbiIsIF8ucjQpLCB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCQlhc3luYyByZWxvYWRNZW51KCkgewoJCQkJCQkJaWYgKCF0aGlzLnZvdE92ZXJsYXlWaWV3Py5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBPdmVybGF5VmlldyBpc24ndCBpbml0aWFsaXplZCIpOwoJCQkJCQkJaWYgKHRoaXMudmlkZW9IYW5kbGVyPy5zdG9wVHJhbnNsYXRpb24oKSwgdGhpcy5yZWxlYXNlKCksIHRoaXMuaW5pdFVJKCksIHRoaXMuaW5pdFVJRXZlbnRzKCksICF0aGlzLnZpZGVvSGFuZGxlcikgcmV0dXJuIHRoaXM7CgkJCQkJCQlhd2FpdCB0aGlzLnZpZGVvSGFuZGxlci51cGRhdGVTdWJ0aXRsZXNMYW5nU2VsZWN0KCksIHRoaXMudmlkZW9IYW5kbGVyLnN1YnRpdGxlc1dpZGdldC5wb3J0YWwgPSB0aGlzLnZvdE92ZXJsYXlWaWV3LnZvdE92ZXJsYXlQb3J0YWwsIHRoaXMudmlkZW9IYW5kbGVyLnN1YnRpdGxlc1dpZGdldC5zdHJUcmFuc2xhdGVkVG9rZW5zID0gIiI7CgkJCQkJCX0KCQkJCQkJYXN5bmMgaGFuZGxlVHJhbnNsYXRpb25CdG5DbGljaygpIHsKCQkJCQkJCWlmICghdGhpcy52b3RPdmVybGF5Vmlldz8uaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gT3ZlcmxheVZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCWlmICghdGhpcy52aWRlb0hhbmRsZXIpIHJldHVybiB0aGlzOwoJCQkJCQkJaWYgKHguQS5sb2coIltoYW5kbGVUcmFuc2xhdGlvbkJ0bkNsaWNrXSBjbGljayB0cmFuc2xhdGlvbkJ0biIpLCB0aGlzLnZpZGVvSGFuZGxlci5oYXNBY3RpdmVTb3VyY2UoKSkgcmV0dXJuIHguQS5sb2coIltoYW5kbGVUcmFuc2xhdGlvbkJ0bkNsaWNrXSB2aWRlbyBoYXMgYWN0aXZlIHNvdXJjZSIpLCB0aGlzLnZpZGVvSGFuZGxlci5zdG9wVHJhbnNsYXRpb24oKSwgdGhpczsKCQkJCQkJCWlmICh0aGlzLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5zdGF0dXMgIT09ICJub25lIiB8fCB0aGlzLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5sb2FkaW5nKSByZXR1cm4geC5BLmxvZygiW2hhbmRsZVRyYW5zbGF0aW9uQnRuQ2xpY2tdIHRyYW5zbGF0aW9uQnRuIGlzbid0IGluIG5vbmUgc3RhdGUiKSwgdGhpcy52aWRlb0hhbmRsZXIuYWN0aW9uc0Fib3J0Q29udHJvbGxlci5hYm9ydCgpLCB0aGlzLnZpZGVvSGFuZGxlci5zdG9wVHJhbnNsYXRpb24oKSwgdGhpczsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJaWYgKHguQS5sb2coIltoYW5kbGVUcmFuc2xhdGlvbkJ0bkNsaWNrXSB0cnlpbmcgZXhlY3V0ZSB0cmFuc2xhdGlvbiIpLCAhdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhPy52aWRlb0lkKSB0aHJvdyBuZXcgYi5uKCJWT1ROb1ZpZGVvSURGb3VuZCIpOwoJCQkJCQkJCSh0aGlzLnZpZGVvSGFuZGxlci5zaXRlLmhvc3QgPT09ICJ2ayIgJiYgdGhpcy52aWRlb0hhbmRsZXIuc2l0ZS5hZGRpdGlvbmFsRGF0YSA9PT0gImNsaXBzIiB8fCB0aGlzLnZpZGVvSGFuZGxlci5zaXRlLmhvc3QgPT09ICJkb3V5aW4iKSAmJiAodGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhID0gYXdhaXQgdGhpcy52aWRlb0hhbmRsZXIuZ2V0VmlkZW9EYXRhKCkpLCB4LkEubG9nKCJbaGFuZGxlVHJhbnNsYXRpb25CdG5DbGlja10gUnVuIHRyYW5zbGF0ZUZ1bmMiLCB0aGlzLnZpZGVvSGFuZGxlci52aWRlb0RhdGEudmlkZW9JZCksIGF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLnRyYW5zbGF0ZUZ1bmModGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLnZpZGVvSWQsIHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS5pc1N0cmVhbSwgdGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLmRldGVjdGVkTGFuZ3VhZ2UsIHRoaXMudmlkZW9IYW5kbGVyLnZpZGVvRGF0YS5yZXNwb25zZUxhbmd1YWdlLCB0aGlzLnZpZGVvSGFuZGxlci52aWRlb0RhdGEudHJhbnNsYXRpb25IZWxwKTsKCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQlpZiAoY29uc29sZS5lcnJvcigiW1ZPVF0iLCBkKSwgIShkIGluc3RhbmNlb2YgRXJyb3IpKSByZXR1cm4gdGhpcy50cmFuc2Zvcm1CdG4oImVycm9yIiwgU3RyaW5nKGQpKSwgdGhpczsKCQkJCQkJCQlsZXQgZiA9IGQubmFtZSA9PT0gIlZPVExvY2FsaXplZEVycm9yIiA/IGQubG9jYWxpemVkTWVzc2FnZSA6IGQubWVzc2FnZTsKCQkJCQkJCQl0aGlzLnRyYW5zZm9ybUJ0bigiZXJyb3IiLCBmKTsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiB0aGlzOwoJCQkJCQl9CgkJCQkJCWlzTG9hZGluZ1RleHQoZCkgewoJCQkJCQkJcmV0dXJuIHR5cGVvZiBkID09ICJzdHJpbmciICYmIChkLmluY2x1ZGVzKHYuai5nZXQoInRyYW5zbGF0aW9uVGFrZSIpKSB8fCBkLmluY2x1ZGVzKHYuai5nZXQoIlRyYW5zbGF0aW9uRGVsYXllZCIpKSk7CgkJCQkJCX0KCQkJCQkJdHJhbnNmb3JtQnRuKGQsIGYpIHsKCQkJCQkJCWlmICghdGhpcy52b3RPdmVybGF5Vmlldz8uaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gT3ZlcmxheVZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCXJldHVybiB0aGlzLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5zdGF0dXMgPSBkLCB0aGlzLnZvdE92ZXJsYXlWaWV3LnZvdEJ1dHRvbi5sb2FkaW5nID0gZCA9PT0gImVycm9yIiAmJiB0aGlzLmlzTG9hZGluZ1RleHQoZiksIHRoaXMudm90T3ZlcmxheVZpZXcudm90QnV0dG9uLnNldFRleHQoZiksIHRoaXMudm90T3ZlcmxheVZpZXcudm90QnV0dG9uVG9vbHRpcC5zZXRDb250ZW50KGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCXJlbGVhc2VVSShkID0gITEpIHsKCQkJCQkJCWlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBVSU1hbmFnZXIgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCXJldHVybiB0aGlzLnZvdE92ZXJsYXlWaWV3LnJlbGVhc2VVSSghMCksIHRoaXMudm90U2V0dGluZ3NWaWV3LnJlbGVhc2VVSSghMCksIHRoaXMudm90R2xvYmFsUG9ydGFsLnJlbW92ZSgpLCB0aGlzLmluaXRpYWxpemVkID0gZCwgdGhpczsKCQkJCQkJfQoJCQkJCQlyZWxlYXNlVUlFdmVudHMoZCA9ICExKSB7CgkJCQkJCQlpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gVUlNYW5hZ2VyIGlzbid0IGluaXRpYWxpemVkIik7CgkJCQkJCQlyZXR1cm4gdGhpcy52b3RPdmVybGF5Vmlldy5yZWxlYXNlVUlFdmVudHMoITEpLCB0aGlzLnZvdFNldHRpbmdzVmlldy5yZWxlYXNlVUlFdmVudHMoITEpLCB0aGlzLmluaXRpYWxpemVkID0gZCwgdGhpczsKCQkJCQkJfQoJCQkJCQlyZWxlYXNlKCkgewoJCQkJCQkJcmV0dXJuIHRoaXMucmVsZWFzZVVJKCEwKSwgdGhpcy5yZWxlYXNlVUlFdmVudHMoITEpLCB0aGlzOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91aS92aWV3cy9vdmVybGF5LnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgaTogKCkgPT4gT3ZlcmxheVZpZXcgfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uc3RzLmpzIiksIGcgPSBwKCIuL3NyYy91aS5qcyIpLCBfID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy9sYW5ndWFnZVBhaXJTZWxlY3QudHMiKSwgdiA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvc2VsZWN0LnRzIiksIGIgPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL3NsaWRlci50cyIpLCB4ID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy9zbGlkZXJMYWJlbC50cyIpLCBDID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy90b29sdGlwLnRzIiksIHcgPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL3ZvdEJ1dHRvbi50cyIpLCBUID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy92b3RNZW51LnRzIiksIEUgPSBwKCIuL3NyYy91aS9pY29ucy50cyIpLCBEID0gcCgiLi9zcmMvY29uZmlnL2NvbmZpZy5qcyIpLCBPID0gcCgiLi9zcmMvY29yZS9ldmVudEltcGwudHMiKSwgQSA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBqID0gcCgiLi9zcmMvdXRpbHMvc3RvcmFnZS50cyIpLCBGID0gcCgiLi9zcmMvdXRpbHMvdXRpbHMudHMiKSwgVSA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvZG93bmxvYWRCdXR0b24udHMiKSwgVyA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvbGFiZWwudHMiKSwgRyA9IGQoWwoJCQkJCQlnLAoJCQkJCQlfLAoJCQkJCQl2LAoJCQkJCQliLAoJCQkJCQl4LAoJCQkJCQlDLAoJCQkJCQl3LAoJCQkJCQlULAoJCQkJCQlBLAoJCQkJCQlqLAoJCQkJCQlGLAoJCQkJCQlVLAoJCQkJCQlXCgkJCQkJXSk7CgkJCQkJW2csIF8sIHYsIGIsIHgsIEMsIHcsIFQsIEEsIGosIEYsIFUsIFddID0gRy50aGVuID8gKGF3YWl0IEcpKCkgOiBHOwoJCQkJCWNsYXNzIE92ZXJsYXlWaWV3IHsKCQkJCQkJcm9vdDsKCQkJCQkJdG9vbHRpcExheW91dFJvb3Q7CgkJCQkJCXBvcnRhbENvbnRhaW5lcjsKCQkJCQkJZ2xvYmFsUG9ydGFsOwoJCQkJCQlkcmFnZ2luZyA9ICExOwoJCQkJCQlpbml0aWFsaXplZCA9ICExOwoJCQkJCQlkYXRhOwoJCQkJCQl2aWRlb0hhbmRsZXI7CgkJCQkJCWNhbmNlbERyYWdnaW5nRXZlbnRzID0gWyJwb2ludGVyY2FuY2VsIiwgInRvdWNoY2FuY2VsIl07CgkJCQkJCW9uQ2xpY2tTZXR0aW5ncyA9IG5ldyBPLlooKTsKCQkJCQkJb25DbGlja1BpUCA9IG5ldyBPLlooKTsKCQkJCQkJb25DbGlja1RyYW5zbGF0ZSA9IG5ldyBPLlooKTsKCQkJCQkJb25DbGlja0Rvd25sb2FkVHJhbnNsYXRpb24gPSBuZXcgTy5aKCk7CgkJCQkJCW9uQ2xpY2tEb3dubG9hZFN1YnRpdGxlcyA9IG5ldyBPLlooKTsKCQkJCQkJb25TZWxlY3RGcm9tTGFuZ3VhZ2UgPSBuZXcgTy5aKCk7CgkJCQkJCW9uU2VsZWN0VG9MYW5ndWFnZSA9IG5ldyBPLlooKTsKCQkJCQkJb25TZWxlY3RTdWJ0aXRsZXMgPSBuZXcgTy5aKCk7CgkJCQkJCW9uSW5wdXRWaWRlb1ZvbHVtZSA9IG5ldyBPLlooKTsKCQkJCQkJb25JbnB1dFRyYW5zbGF0aW9uVm9sdW1lID0gbmV3IE8uWigpOwoJCQkJCQl2b3RPdmVybGF5UG9ydGFsOwoJCQkJCQl2b3RCdXR0b247CgkJCQkJCXZvdEJ1dHRvblRvb2x0aXA7CgkJCQkJCXZvdE1lbnU7CgkJCQkJCWRvd25sb2FkVHJhbnNsYXRpb25CdXR0b247CgkJCQkJCWRvd25sb2FkU3VidGl0bGVzQnV0dG9uOwoJCQkJCQlvcGVuU2V0dGluZ3NCdXR0b247CgkJCQkJCWxhbmd1YWdlUGFpclNlbGVjdDsKCQkJCQkJc3VidGl0bGVzU2VsZWN0TGFiZWw7CgkJCQkJCXN1YnRpdGxlc1NlbGVjdDsKCQkJCQkJdmlkZW9Wb2x1bWVTbGlkZXJMYWJlbDsKCQkJCQkJdmlkZW9Wb2x1bWVTbGlkZXI7CgkJCQkJCXRyYW5sc2F0aW9uVm9sdW1lU2xpZGVyTGFiZWw7CgkJCQkJCXRyYW5zbGF0aW9uVm9sdW1lU2xpZGVyOwoJCQkJCQljb25zdHJ1Y3Rvcih7IHJvb3Q6IGQsIHBvcnRhbENvbnRhaW5lcjogZiwgdG9vbHRpcExheW91dFJvb3Q6IHAsIGdsb2JhbFBvcnRhbDogbSwgZGF0YTogaCA9IHt9LCB2aWRlb0hhbmRsZXI6IGcgfSkgewoJCQkJCQkJdGhpcy5yb290ID0gZCwgdGhpcy5wb3J0YWxDb250YWluZXIgPSBmLCB0aGlzLnRvb2x0aXBMYXlvdXRSb290ID0gcCwgdGhpcy5nbG9iYWxQb3J0YWwgPSBtLCB0aGlzLmRhdGEgPSBoLCB0aGlzLnZpZGVvSGFuZGxlciA9IGc7CgkJCQkJCX0KCQkJCQkJaXNJbml0aWFsaXplZCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLmluaXRpYWxpemVkOwoJCQkJCQl9CgkJCQkJCWNhbGNCdXR0b25MYXlvdXQoZCkgewoJCQkJCQkJcmV0dXJuIHRoaXMuaXNCaWdDb250YWluZXIgJiYgWyJsZWZ0IiwgInJpZ2h0Il0uaW5jbHVkZXMoZCkgPyB7CgkJCQkJCQkJZGlyZWN0aW9uOiAiY29sdW1uIiwKCQkJCQkJCQlwb3NpdGlvbjogZAoJCQkJCQkJfSA6IHsKCQkJCQkJCQlkaXJlY3Rpb246ICJyb3ciLAoJCQkJCQkJCXBvc2l0aW9uOiAiZGVmYXVsdCIKCQkJCQkJCX07CgkJCQkJCX0KCQkJCQkJYWRkRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlzd2l0Y2ggKGQpIHsKCQkJCQkJCQljYXNlICJjbGljazpzZXR0aW5ncyI6CgkJCQkJCQkJCXRoaXMub25DbGlja1NldHRpbmdzLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjbGljazpwaXAiOgoJCQkJCQkJCQl0aGlzLm9uQ2xpY2tQaVAuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNsaWNrOmRvd25sb2FkVHJhbnNsYXRpb24iOgoJCQkJCQkJCQl0aGlzLm9uQ2xpY2tEb3dubG9hZFRyYW5zbGF0aW9uLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjbGljazpkb3dubG9hZFN1YnRpdGxlcyI6CgkJCQkJCQkJCXRoaXMub25DbGlja0Rvd25sb2FkU3VidGl0bGVzLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjbGljazp0cmFuc2xhdGUiOgoJCQkJCQkJCQl0aGlzLm9uQ2xpY2tUcmFuc2xhdGUuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImlucHV0OnZpZGVvVm9sdW1lIjoKCQkJCQkJCQkJdGhpcy5vbklucHV0VmlkZW9Wb2x1bWUuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImlucHV0OnRyYW5zbGF0aW9uVm9sdW1lIjoKCQkJCQkJCQkJdGhpcy5vbklucHV0VHJhbnNsYXRpb25Wb2x1bWUuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInNlbGVjdDpmcm9tTGFuZ3VhZ2UiOgoJCQkJCQkJCQl0aGlzLm9uU2VsZWN0RnJvbUxhbmd1YWdlLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJzZWxlY3Q6dG9MYW5ndWFnZSI6CgkJCQkJCQkJCXRoaXMub25TZWxlY3RUb0xhbmd1YWdlLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJzZWxlY3Q6c3VidGl0bGVzIjoKCQkJCQkJCQkJdGhpcy5vblNlbGVjdFN1YnRpdGxlcy5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdGhpczsKCQkJCQkJfQoJCQkJCQlyZW1vdmVFdmVudExpc3RlbmVyKGQsIGYpIHsKCQkJCQkJCXN3aXRjaCAoZCkgewoJCQkJCQkJCWNhc2UgImNsaWNrOnNldHRpbmdzIjoKCQkJCQkJCQkJdGhpcy5vbkNsaWNrU2V0dGluZ3MucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNsaWNrOnBpcCI6CgkJCQkJCQkJCXRoaXMub25DbGlja1BpUC5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2xpY2s6ZG93bmxvYWRUcmFuc2xhdGlvbiI6CgkJCQkJCQkJCXRoaXMub25DbGlja0Rvd25sb2FkVHJhbnNsYXRpb24ucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNsaWNrOmRvd25sb2FkU3VidGl0bGVzIjoKCQkJCQkJCQkJdGhpcy5vbkNsaWNrRG93bmxvYWRTdWJ0aXRsZXMucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNsaWNrOnRyYW5zbGF0ZSI6CgkJCQkJCQkJCXRoaXMub25DbGlja1RyYW5zbGF0ZS5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiaW5wdXQ6dmlkZW9Wb2x1bWUiOgoJCQkJCQkJCQl0aGlzLm9uSW5wdXRWaWRlb1ZvbHVtZS5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiaW5wdXQ6dHJhbnNsYXRpb25Wb2x1bWUiOgoJCQkJCQkJCQl0aGlzLm9uSW5wdXRUcmFuc2xhdGlvblZvbHVtZS5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAic2VsZWN0OmZyb21MYW5ndWFnZSI6CgkJCQkJCQkJCXRoaXMub25TZWxlY3RGcm9tTGFuZ3VhZ2UucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInNlbGVjdDp0b0xhbmd1YWdlIjoKCQkJCQkJCQkJdGhpcy5vblNlbGVjdFRvTGFuZ3VhZ2UucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInNlbGVjdDpzdWJ0aXRsZXMiOgoJCQkJCQkJCQl0aGlzLm9uU2VsZWN0U3VidGl0bGVzLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiB0aGlzOwoJCQkJCQl9CgkJCQkJCWluaXRVSShkID0gImRlZmF1bHQiKSB7CgkJCQkJCQlpZiAodGhpcy5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBPdmVybGF5VmlldyBpcyBhbHJlYWR5IGluaXRpYWxpemVkIik7CgkJCQkJCQl0aGlzLmluaXRpYWxpemVkID0gITA7CgkJCQkJCQlsZXQgeyBwb3NpdGlvbjogZiwgZGlyZWN0aW9uOiBwIH0gPSB0aGlzLmNhbGNCdXR0b25MYXlvdXQoZCk7CgkJCQkJCQl0aGlzLnZvdE92ZXJsYXlQb3J0YWwgPSBnLkEuY3JlYXRlUG9ydGFsKCEwKSwgdGhpcy5wb3J0YWxDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52b3RPdmVybGF5UG9ydGFsKSwgdGhpcy52b3RCdXR0b24gPSBuZXcgdy5BKHsKCQkJCQkJCQlwb3NpdGlvbjogZiwKCQkJCQkJCQlkaXJlY3Rpb246IHAsCgkJCQkJCQkJc3RhdHVzOiAibm9uZSIsCgkJCQkJCQkJbGFiZWxIdG1sOiBBLmouZ2V0KCJ0cmFuc2xhdGVWaWRlbyIpCgkJCQkJCQl9KSwgdGhpcy52b3RCdXR0b24ub3BhY2l0eSA9IDAsIHRoaXMucGlwQnV0dG9uVmlzaWJsZSB8fCB0aGlzLnZvdEJ1dHRvbi5zaG93UGlQQnV0dG9uKCExKSwgdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMudm90QnV0dG9uLmNvbnRhaW5lciksIHRoaXMudm90QnV0dG9uVG9vbHRpcCA9IG5ldyBDLkEoewoJCQkJCQkJCXRhcmdldDogdGhpcy52b3RCdXR0b24udHJhbnNsYXRlQnV0dG9uLAoJCQkJCQkJCWNvbnRlbnQ6IEEuai5nZXQoInRyYW5zbGF0ZVZpZGVvIiksCgkJCQkJCQkJcG9zaXRpb246IHRoaXMudm90QnV0dG9uLnRvb2x0aXBQb3MsCgkJCQkJCQkJaGlkZGVuOiBwID09PSAicm93IiwKCQkJCQkJCQlib3JkZXJlZDogITEsCgkJCQkJCQkJcGFyZW50RWxlbWVudDogdGhpcy52b3RPdmVybGF5UG9ydGFsLAoJCQkJCQkJCWxheW91dFJvb3Q6IHRoaXMudG9vbHRpcExheW91dFJvb3QKCQkJCQkJCX0pLCB0aGlzLnZvdE1lbnUgPSBuZXcgVC5BKHsKCQkJCQkJCQl0aXRsZUh0bWw6IEEuai5nZXQoIlZPVFNldHRpbmdzIiksCgkJCQkJCQkJcG9zaXRpb246IGYKCQkJCQkJCX0pLCB0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy52b3RNZW51LmNvbnRhaW5lciksIHRoaXMuZG93bmxvYWRUcmFuc2xhdGlvbkJ1dHRvbiA9IG5ldyBVLkEoKSwgdGhpcy5kb3dubG9hZFRyYW5zbGF0aW9uQnV0dG9uLmhpZGRlbiA9ICEwLCB0aGlzLmRvd25sb2FkU3VidGl0bGVzQnV0dG9uID0gZy5BLmNyZWF0ZUljb25CdXR0b24oRS5VMCksIHRoaXMuZG93bmxvYWRTdWJ0aXRsZXNCdXR0b24uaGlkZGVuID0gITAsIHRoaXMub3BlblNldHRpbmdzQnV0dG9uID0gZy5BLmNyZWF0ZUljb25CdXR0b24oRS5jMSksIHRoaXMudm90TWVudS5oZWFkZXJDb250YWluZXIuYXBwZW5kKHRoaXMuZG93bmxvYWRUcmFuc2xhdGlvbkJ1dHRvbi5idXR0b24sIHRoaXMuZG93bmxvYWRTdWJ0aXRsZXNCdXR0b24sIHRoaXMub3BlblNldHRpbmdzQnV0dG9uKTsKCQkJCQkJCWxldCBtID0gdGhpcy52aWRlb0hhbmRsZXI/LnZpZGVvRGF0YT8uZGV0ZWN0ZWRMYW5ndWFnZSA/PyAiZW4iLCBPID0gdGhpcy5kYXRhLnJlc3BvbnNlTGFuZ3VhZ2UgPz8gInJ1IjsKCQkJCQkJCXRoaXMubGFuZ3VhZ2VQYWlyU2VsZWN0ID0gbmV3IF8uQSh7CgkJCQkJCQkJZnJvbTogewoJCQkJCQkJCQlzZWxlY3RUaXRsZTogQS5qLmdldChgbGFuZ3MuJHttfWApLAoJCQkJCQkJCQlpdGVtczogdi5BLmdlbkxhbmd1YWdlSXRlbXMoaC54bSwgbSkKCQkJCQkJCQl9LAoJCQkJCQkJCXRvOiB7CgkJCQkJCQkJCXNlbGVjdFRpdGxlOiBBLmouZ2V0KGBsYW5ncy4ke099YCksCgkJCQkJCQkJCWl0ZW1zOiB2LkEuZ2VuTGFuZ3VhZ2VJdGVtcyhoLlhoLCBPKQoJCQkJCQkJCX0KCQkJCQkJCX0pLCB0aGlzLnN1YnRpdGxlc1NlbGVjdExhYmVsID0gbmV3IFcuQSh7IGxhYmVsVGV4dDogQS5qLmdldCgiVk9UU3VidGl0bGVzIikgfSksIHRoaXMuc3VidGl0bGVzU2VsZWN0ID0gbmV3IHYuQSh7CgkJCQkJCQkJc2VsZWN0VGl0bGU6IEEuai5nZXQoIlZPVFN1YnRpdGxlc0Rpc2FibGVkIiksCgkJCQkJCQkJZGlhbG9nVGl0bGU6IEEuai5nZXQoIlZPVFN1YnRpdGxlcyIpLAoJCQkJCQkJCWxhYmVsRWxlbWVudDogdGhpcy5zdWJ0aXRsZXNTZWxlY3RMYWJlbC5jb250YWluZXIsCgkJCQkJCQkJZGlhbG9nUGFyZW50OiB0aGlzLmdsb2JhbFBvcnRhbCwKCQkJCQkJCQlpdGVtczogW3sKCQkJCQkJCQkJbGFiZWw6IEEuai5nZXQoIlZPVFN1YnRpdGxlc0Rpc2FibGVkIiksCgkJCQkJCQkJCXZhbHVlOiAiZGlzYWJsZWQiLAoJCQkJCQkJCQlzZWxlY3RlZDogITAKCQkJCQkJCQl9XQoJCQkJCQkJfSk7CgkJCQkJCQlsZXQgaiA9IHRoaXMudmlkZW9IYW5kbGVyID8gdGhpcy52aWRlb0hhbmRsZXIuZ2V0VmlkZW9Wb2x1bWUoKSAqIDEwMCA6IDEwMDsKCQkJCQkJCXRoaXMudmlkZW9Wb2x1bWVTbGlkZXJMYWJlbCA9IG5ldyB4LkEoewoJCQkJCQkJCWxhYmVsVGV4dDogQS5qLmdldCgiVk9UVm9sdW1lIiksCgkJCQkJCQkJdmFsdWU6IGoKCQkJCQkJCX0pLCB0aGlzLnZpZGVvVm9sdW1lU2xpZGVyID0gbmV3IGIuQSh7CgkJCQkJCQkJbGFiZWxIdG1sOiB0aGlzLnZpZGVvVm9sdW1lU2xpZGVyTGFiZWwuY29udGFpbmVyLAoJCQkJCQkJCXZhbHVlOiBqCgkJCQkJCQl9KSwgdGhpcy52aWRlb1ZvbHVtZVNsaWRlci5oaWRkZW4gPSAhdGhpcy5kYXRhLnNob3dWaWRlb1NsaWRlciB8fCB0aGlzLnZvdEJ1dHRvbi5zdGF0dXMgIT09ICJzdWNjZXNzIjsKCQkJCQkJCWxldCBGID0gdGhpcy5kYXRhLmRlZmF1bHRWb2x1bWUgPz8gMTAwOwoJCQkJCQkJcmV0dXJuIHRoaXMudHJhbmxzYXRpb25Wb2x1bWVTbGlkZXJMYWJlbCA9IG5ldyB4LkEoewoJCQkJCQkJCWxhYmVsVGV4dDogQS5qLmdldCgiVk9UVm9sdW1lVHJhbnNsYXRpb24iKSwKCQkJCQkJCQl2YWx1ZTogRgoJCQkJCQkJfSksIHRoaXMudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIgPSBuZXcgYi5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IHRoaXMudHJhbmxzYXRpb25Wb2x1bWVTbGlkZXJMYWJlbC5jb250YWluZXIsCgkJCQkJCQkJdmFsdWU6IEYsCgkJCQkJCQkJbWF4OiB0aGlzLmRhdGEuYXVkaW9Cb29zdGVyID8gRC5UOCA6IDEwMAoJCQkJCQkJfSksIHRoaXMudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIuaGlkZGVuID0gdGhpcy52b3RCdXR0b24uc3RhdHVzICE9PSAic3VjY2VzcyIsIHRoaXMudm90TWVudS5ib2R5Q29udGFpbmVyLmFwcGVuZCh0aGlzLmxhbmd1YWdlUGFpclNlbGVjdC5jb250YWluZXIsIHRoaXMuc3VidGl0bGVzU2VsZWN0LmNvbnRhaW5lciwgdGhpcy52aWRlb1ZvbHVtZVNsaWRlci5jb250YWluZXIsIHRoaXMudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIuY29udGFpbmVyKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlpbml0VUlFdmVudHMoKSB7CgkJCQkJCQlpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gT3ZlcmxheVZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCXRoaXMudm90QnV0dG9uLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChkKSA9PiB7CgkJCQkJCQkJZC5wcmV2ZW50RGVmYXVsdCgpLCBkLnN0b3BQcm9wYWdhdGlvbigpLCBkLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQkJCQkJfSksIHRoaXMudm90QnV0dG9uLnRyYW5zbGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQl0aGlzLm9uQ2xpY2tUcmFuc2xhdGUuZGlzcGF0Y2goKTsKCQkJCQkJCX0pLCB0aGlzLnZvdEJ1dHRvbi5waXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJdGhpcy5vbkNsaWNrUGlQLmRpc3BhdGNoKCk7CgkJCQkJCQl9KSwgdGhpcy52b3RCdXR0b24ubWVudUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQl0aGlzLnZvdE1lbnUuaGlkZGVuID0gIXRoaXMudm90TWVudS5oaWRkZW47CgkJCQkJCQl9KTsKCQkJCQkJCWxldCBlbmFibGVEcmFnZ2luZ0J5RXZlbnQgPSAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZHJhZ2dpbmcgPSAhMCwgZC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJfTsKCQkJCQkJCXRoaXMudm90QnV0dG9uLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIGVuYWJsZURyYWdnaW5nQnlFdmVudCksIHRoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCB0aGlzLmRpc2FibGVEcmFnZ2luZyksIHRoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybW92ZSIsIHRoaXMuaGFuZGxlQ29udGFpbmVyUG9pbnRlck1vdmUpLCB0aGlzLnZvdEJ1dHRvbi5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGVuYWJsZURyYWdnaW5nQnlFdmVudCwgeyBwYXNzaXZlOiAhMSB9KSwgdGhpcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgdGhpcy5kaXNhYmxlRHJhZ2dpbmcpLCB0aGlzLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIiwgdGhpcy5oYW5kbGVDb250YWluZXJUb3VjaE1vdmUsIHsgcGFzc2l2ZTogITEgfSk7CgkJCQkJCQlmb3IgKGxldCBkIG9mIHRoaXMuY2FuY2VsRHJhZ2dpbmdFdmVudHMpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZCwgdGhpcy5kaXNhYmxlRHJhZ2dpbmcpOwoJCQkJCQkJdGhpcy52b3RNZW51LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChkKSA9PiB7CgkJCQkJCQkJZC5wcmV2ZW50RGVmYXVsdCgpLCBkLnN0b3BQcm9wYWdhdGlvbigpLCBkLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQkJCQkJfSk7CgkJCQkJCQlmb3IgKGxldCBkIG9mIFsicG9pbnRlcmRvd24iLCAibW91c2Vkb3duIl0pIHRoaXMudm90TWVudS5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkLCAoZCkgPT4gewoJCQkJCQkJCWQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CgkJCQkJCQl9KTsKCQkJCQkJCXJldHVybiB0aGlzLmRvd25sb2FkVHJhbnNsYXRpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJdGhpcy5vbkNsaWNrRG93bmxvYWRUcmFuc2xhdGlvbi5kaXNwYXRjaCgpOwoJCQkJCQkJfSksIHRoaXMuZG93bmxvYWRTdWJ0aXRsZXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJdGhpcy5vbkNsaWNrRG93bmxvYWRTdWJ0aXRsZXMuZGlzcGF0Y2goKTsKCQkJCQkJCX0pLCB0aGlzLm9wZW5TZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQl0aGlzLm9uQ2xpY2tTZXR0aW5ncy5kaXNwYXRjaCgpOwoJCQkJCQkJfSksIHRoaXMubGFuZ3VhZ2VQYWlyU2VsZWN0LmZyb21TZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0SXRlbSIsIChkKSA9PiB7CgkJCQkJCQkJdGhpcy52aWRlb0hhbmRsZXI/LnZpZGVvRGF0YSAmJiAodGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLmRldGVjdGVkTGFuZ3VhZ2UgPSBkKSwgdGhpcy5vblNlbGVjdEZyb21MYW5ndWFnZS5kaXNwYXRjaChkKTsKCQkJCQkJCX0pLCB0aGlzLmxhbmd1YWdlUGFpclNlbGVjdC50b1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RJdGVtIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLnZpZGVvSGFuZGxlcj8udmlkZW9EYXRhICYmICh0aGlzLnZpZGVvSGFuZGxlci50cmFuc2xhdGVUb0xhbmcgPSB0aGlzLnZpZGVvSGFuZGxlci52aWRlb0RhdGEucmVzcG9uc2VMYW5ndWFnZSA9IGQpLCB0aGlzLmRhdGEucmVzcG9uc2VMYW5ndWFnZSA9IGQsIGF3YWl0IGouZC5zZXQoInJlc3BvbnNlTGFuZ3VhZ2UiLCB0aGlzLmRhdGEucmVzcG9uc2VMYW5ndWFnZSksIHRoaXMub25TZWxlY3RUb0xhbmd1YWdlLmRpc3BhdGNoKGQpOwoJCQkJCQkJfSksIHRoaXMuc3VidGl0bGVzU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImJlZm9yZU9wZW4iLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCWlmICghdGhpcy52aWRlb0hhbmRsZXI/LnZpZGVvRGF0YSkgcmV0dXJuOwoJCQkJCQkJCWxldCBmID0gYCR7dGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLnZpZGVvSWR9XyR7dGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLmRldGVjdGVkTGFuZ3VhZ2V9XyR7dGhpcy52aWRlb0hhbmRsZXIudmlkZW9EYXRhLnJlc3BvbnNlTGFuZ3VhZ2V9XyR7dGhpcy5kYXRhLnVzZUxpdmVseVZvaWNlfWA7CgkJCQkJCQkJaWYgKHRoaXMudmlkZW9IYW5kbGVyLmNhY2hlTWFuYWdlci5nZXRTdWJ0aXRsZXMoZikpIHJldHVybjsKCQkJCQkJCQl0aGlzLnZvdEJ1dHRvbi5sb2FkaW5nID0gITA7CgkJCQkJCQkJbGV0IHAgPSBnLkEuY3JlYXRlSW5saW5lTG9hZGVyKCk7CgkJCQkJCQkJcC5zdHlsZS5tYXJnaW4gPSAiMCBhdXRvIiwgZC5mb290ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQocCksIGF3YWl0IHRoaXMudmlkZW9IYW5kbGVyLmxvYWRTdWJ0aXRsZXMoKSwgZC5mb290ZXJDb250YWluZXIucmVtb3ZlQ2hpbGQocCksIHRoaXMudm90QnV0dG9uLmxvYWRpbmcgPSAhMTsKCQkJCQkJCX0pLCB0aGlzLnN1YnRpdGxlc1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RJdGVtIiwgKGQpID0+IHsKCQkJCQkJCQl0aGlzLm9uU2VsZWN0U3VidGl0bGVzLmRpc3BhdGNoKGQpOwoJCQkJCQkJfSksIHRoaXMudmlkZW9Wb2x1bWVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoZCwgZikgPT4gewoJCQkJCQkJCXRoaXMudmlkZW9Wb2x1bWVTbGlkZXJMYWJlbC52YWx1ZSA9IGQsICFmICYmIHRoaXMub25JbnB1dFZpZGVvVm9sdW1lLmRpc3BhdGNoKGQpOwoJCQkJCQkJfSksIHRoaXMudHJhbnNsYXRpb25Wb2x1bWVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBhc3luYyAoZCwgZikgPT4gewoJCQkJCQkJCXRoaXMudHJhbmxzYXRpb25Wb2x1bWVTbGlkZXJMYWJlbC52YWx1ZSA9IGQsIHRoaXMuZGF0YS5kZWZhdWx0Vm9sdW1lID0gZCwgYXdhaXQgai5kLnNldCgiZGVmYXVsdFZvbHVtZSIsIHRoaXMuZGF0YS5kZWZhdWx0Vm9sdW1lKSwgIWYgJiYgdGhpcy5vbklucHV0VHJhbnNsYXRpb25Wb2x1bWUuZGlzcGF0Y2goZCk7CgkJCQkJCQl9KSwgdGhpczsKCQkJCQkJfQoJCQkJCQl1cGRhdGVCdXR0b25MYXlvdXQoZCwgZikgewoJCQkJCQkJcmV0dXJuIHRoaXMuaXNJbml0aWFsaXplZCgpID8gKHRoaXMudm90TWVudS5wb3NpdGlvbiA9IGQsIHRoaXMudm90QnV0dG9uLnBvc2l0aW9uID0gZCwgdGhpcy52b3RCdXR0b24uZGlyZWN0aW9uID0gZiwgdGhpcy52b3RCdXR0b25Ub29sdGlwLmhpZGRlbiA9IGYgPT09ICJyb3ciLCB0aGlzLnZvdEJ1dHRvblRvb2x0aXAuc2V0UG9zaXRpb24odGhpcy52b3RCdXR0b24udG9vbHRpcFBvcyksIHRoaXMpIDogdGhpczsKCQkJCQkJfQoJCQkJCQlhc3luYyBtb3ZlQnV0dG9uKGQpIHsKCQkJCQkJCWlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHJldHVybiB0aGlzOwoJCQkJCQkJbGV0IGYgPSB3LkEuY2FsY1Bvc2l0aW9uKGQsIHRoaXMuaXNCaWdDb250YWluZXIpOwoJCQkJCQkJaWYgKGYgPT09IHRoaXMudm90QnV0dG9uLnBvc2l0aW9uKSByZXR1cm4gdGhpczsKCQkJCQkJCWxldCBwID0gdy5BLmNhbGNEaXJlY3Rpb24oZik7CgkJCQkJCQlyZXR1cm4gdGhpcy5kYXRhLmJ1dHRvblBvcyA9IGYsIHRoaXMudXBkYXRlQnV0dG9uTGF5b3V0KGYsIHApLCB0aGlzLmlzQmlnQ29udGFpbmVyICYmIGF3YWl0IGouZC5zZXQoImJ1dHRvblBvcyIsIGYpLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWFzeW5jIGhhbmRsZURyYWdNb3ZlKGQsIGYsIHAgPSB0aGlzLnJvb3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpIHsKCQkJCQkJCWlmICghdGhpcy5kcmFnZ2luZykgcmV0dXJuIHRoaXM7CgkJCQkJCQlkLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQlsZXQgbSA9IGYgLSBwLmxlZnQsIGggPSBtIC8gcC53aWR0aCAqIDEwMDsKCQkJCQkJCXJldHVybiBhd2FpdCB0aGlzLm1vdmVCdXR0b24oaCksIHRoaXM7CgkJCQkJCX0KCQkJCQkJZGlzYWJsZURyYWdnaW5nID0gKCkgPT4gewoJCQkJCQkJdGhpcy5kcmFnZ2luZyA9ICExOwoJCQkJCQl9OwoJCQkJCQloYW5kbGVDb250YWluZXJQb2ludGVyTW92ZSA9IGFzeW5jIChkKSA9PiB7CgkJCQkJCQlhd2FpdCB0aGlzLmhhbmRsZURyYWdNb3ZlKGQsIGQuY2xpZW50WCk7CgkJCQkJCX07CgkJCQkJCWhhbmRsZUNvbnRhaW5lclRvdWNoTW92ZSA9IGFzeW5jIChkKSA9PiB7CgkJCQkJCQlhd2FpdCB0aGlzLmhhbmRsZURyYWdNb3ZlKGQsIGQudG91Y2hlc1swXS5jbGllbnRYKTsKCQkJCQkJfTsKCQkJCQkJdXBkYXRlQnV0dG9uT3BhY2l0eShkKSB7CgkJCQkJCQlyZXR1cm4gIXRoaXMuaXNJbml0aWFsaXplZCgpIHx8ICF0aGlzLnZvdE1lbnUuaGlkZGVuIHx8ICh0aGlzLnZvdEJ1dHRvbi5vcGFjaXR5ID0gZCksIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVsZWFzZVVJKGQgPSAhMSkgewoJCQkJCQkJaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKSkgdGhyb3cgRXJyb3IoIltWT1RdIE92ZXJsYXlWaWV3IGlzbid0IGluaXRpYWxpemVkIik7CgkJCQkJCQlyZXR1cm4gdGhpcy52b3RCdXR0b24ucmVtb3ZlKCksIHRoaXMudm90TWVudS5yZW1vdmUoKSwgdGhpcy52b3RCdXR0b25Ub29sdGlwLnJlbGVhc2UoKSwgdGhpcy52b3RPdmVybGF5UG9ydGFsLnJlbW92ZSgpLCB0aGlzLmluaXRpYWxpemVkID0gZCwgdGhpczsKCQkJCQkJfQoJCQkJCQlyZWxlYXNlVUlFdmVudHMoZCA9ICExKSB7CgkJCQkJCQlpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gT3ZlcmxheVZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCXRoaXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCB0aGlzLmRpc2FibGVEcmFnZ2luZyksIHRoaXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybW92ZSIsIHRoaXMuaGFuZGxlQ29udGFpbmVyUG9pbnRlck1vdmUpLCB0aGlzLnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCB0aGlzLmRpc2FibGVEcmFnZ2luZyksIHRoaXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCB0aGlzLmhhbmRsZUNvbnRhaW5lclRvdWNoTW92ZSk7CgkJCQkJCQlmb3IgKGxldCBkIG9mIHRoaXMuY2FuY2VsRHJhZ2dpbmdFdmVudHMpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZCwgdGhpcy5kaXNhYmxlRHJhZ2dpbmcpOwoJCQkJCQkJcmV0dXJuIHRoaXMub25DbGlja1NldHRpbmdzLmNsZWFyKCksIHRoaXMub25DbGlja1BpUC5jbGVhcigpLCB0aGlzLm9uQ2xpY2tUcmFuc2xhdGUuY2xlYXIoKSwgdGhpcy5vbkNsaWNrRG93bmxvYWRUcmFuc2xhdGlvbi5jbGVhcigpLCB0aGlzLm9uQ2xpY2tEb3dubG9hZFN1YnRpdGxlcy5jbGVhcigpLCB0aGlzLm9uU2VsZWN0RnJvbUxhbmd1YWdlLmNsZWFyKCksIHRoaXMub25TZWxlY3RUb0xhbmd1YWdlLmNsZWFyKCksIHRoaXMub25TZWxlY3RTdWJ0aXRsZXMuY2xlYXIoKSwgdGhpcy5vbklucHV0VmlkZW9Wb2x1bWUuY2xlYXIoKSwgdGhpcy5vbklucHV0VHJhbnNsYXRpb25Wb2x1bWUuY2xlYXIoKSwgdGhpcy5pbml0aWFsaXplZCA9IGQsIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVsZWFzZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLnJlbGVhc2VVSSghMCksIHRoaXMucmVsZWFzZVVJRXZlbnRzKCExKSwgdGhpczsKCQkJCQkJfQoJCQkJCQlnZXQgaXNCaWdDb250YWluZXIoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5yb290LmNsaWVudFdpZHRoID4gNTUwOwoJCQkJCQl9CgkJCQkJCWdldCBwaXBCdXR0b25WaXNpYmxlKCkgewoJCQkJCQkJcmV0dXJuICgwLCBGLkJzKSgpICYmICEhdGhpcy5kYXRhLnNob3dQaVBCdXR0b247CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3VpL3ZpZXdzL3NldHRpbmdzLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmEoZCwgYXN5bmMgKGQsIG0pID0+IHsKCQkJCXRyeSB7CgkJCQkJcC5kKGYsIHsgcjogKCkgPT4gU2V0dGluZ3NWaWV3IH0pOwoJCQkJCXZhciBoID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9jb3JlL2Rpc3QvdHlwZXMveWFuZGV4LmpzIiksIGcgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL2V4dC9kaXN0L3R5cGVzL3NlcnZpY2UuanMiKSwgXyA9IHAoIi4vbm9kZV9tb2R1bGVzL0B2b3QuanMvc2hhcmVkL2Rpc3QvZGF0YS9jb25zdHMuanMiKSwgdiA9IHAoIi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiksIGIgPSBwKCIuL3NyYy9pbmRleC5qcyIpLCB4ID0gcCgiLi9zcmMvYXVkaW9Eb3dubG9hZGVyL2luZGV4LnRzIiksIEMgPSBwKCIuL3NyYy9hdWRpb0Rvd25sb2FkZXIvc3RyYXRlZ2llcy9pbmRleC50cyIpLCB3ID0gcCgiLi9zcmMvY29uZmlnL2NvbmZpZy5qcyIpLCBUID0gcCgiLi9zcmMvY29yZS9ldmVudEltcGwudHMiKSwgRSA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBEID0gcCgiLi9zcmMvdHlwZXMvY29tcG9uZW50cy92b3RCdXR0b24udHMiKSwgTyA9IHAoIi4vc3JjL3VpLmpzIiksIEEgPSBwKCIuL3NyYy91dGlscy9kZWJ1Zy50cyIpLCBqID0gcCgiLi9zcmMvdXRpbHMvZ20udHMiKSwgRiA9IHAoIi4vc3JjL3V0aWxzL3N0b3JhZ2UudHMiKSwgVSA9IHAoIi4vc3JjL3V0aWxzL3RyYW5zbGF0ZUFwaXMudHMiKSwgVyA9IHAoIi4vc3JjL3V0aWxzL3V0aWxzLnRzIiksIEcgPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL2FjY291bnRCdXR0b24udHMiKSwgSyA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvY2hlY2tib3gudHMiKSwgcSA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvZGV0YWlscy50cyIpLCBKID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy9kaWFsb2cudHMiKSwgWSA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvaG90a2V5QnV0dG9uLnRzIiksIFggPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL2xhYmVsLnRzIiksIFogPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL3NlbGVjdC50cyIpLCBRID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy9zbGlkZXIudHMiKSwgZWUgPSBwKCIuL3NyYy91aS9jb21wb25lbnRzL3NsaWRlckxhYmVsLnRzIiksIHRlID0gcCgiLi9zcmMvdWkvY29tcG9uZW50cy90ZXh0ZmllbGQudHMiKSwgJCA9IHAoIi4vc3JjL3VpL2NvbXBvbmVudHMvdG9vbHRpcC50cyIpLCBuZSA9IHAoIi4vc3JjL3VpL2ljb25zLnRzIiksIHJlID0gZChbCgkJCQkJCWIsCgkJCQkJCXgsCgkJCQkJCUMsCgkJCQkJCUUsCgkJCQkJCU8sCgkJCQkJCWosCgkJCQkJCUYsCgkJCQkJCVUsCgkJCQkJCVcsCgkJCQkJCUcsCgkJCQkJCUssCgkJCQkJCXEsCgkJCQkJCUosCgkJCQkJCVksCgkJCQkJCVgsCgkJCQkJCVosCgkJCQkJCVEsCgkJCQkJCWVlLAoJCQkJCQl0ZSwKCQkJCQkJJAoJCQkJCV0pOwoJCQkJCVtiLCB4LCBDLCBFLCBPLCBqLCBGLCBVLCBXLCBHLCBLLCBxLCBKLCBZLCBYLCBaLCBRLCBlZSwgdGUsICRdID0gcmUudGhlbiA/IChhd2FpdCByZSkoKSA6IHJlOwoJCQkJCWNsYXNzIFNldHRpbmdzVmlldyB7CgkJCQkJCWdsb2JhbFBvcnRhbDsKCQkJCQkJaW5pdGlhbGl6ZWQgPSAhMTsKCQkJCQkJZGF0YTsKCQkJCQkJdmlkZW9IYW5kbGVyOwoJCQkJCQlvbkNsaWNrQnVnUmVwb3J0ID0gbmV3IFQuWigpOwoJCQkJCQlvbkNsaWNrUmVzZXRTZXR0aW5ncyA9IG5ldyBULlooKTsKCQkJCQkJb25VcGRhdGVBY2NvdW50ID0gbmV3IFQuWigpOwoJCQkJCQlvbkNoYW5nZUF1dG9UcmFuc2xhdGUgPSBuZXcgVC5aKCk7CgkJCQkJCW9uQ2hhbmdlU2hvd1ZpZGVvVm9sdW1lID0gbmV3IFQuWigpOwoJCQkJCQlvbkNoYW5nZUF1ZGlvQm9vc3RlciA9IG5ldyBULlooKTsKCQkJCQkJb25DaGFuZ2VVc2VMaXZlbHlWb2ljZSA9IG5ldyBULlooKTsKCQkJCQkJb25DaGFuZ2VTdWJ0aXRsZXNIaWdobGlnaHRXb3JkcyA9IG5ldyBULlooKTsKCQkJCQkJb25DaGFuZ2VQcm94eVdvcmtlckhvc3QgPSBuZXcgVC5aKCk7CgkJCQkJCW9uQ2hhbmdlVXNlTmV3QXVkaW9QbGF5ZXIgPSBuZXcgVC5aKCk7CgkJCQkJCW9uQ2hhbmdlT25seUJ5cGFzc01lZGlhQ1NQID0gbmV3IFQuWigpOwoJCQkJCQlvbkNoYW5nZVNob3dQaVBCdXR0b24gPSBuZXcgVC5aKCk7CgkJCQkJCW9uSW5wdXRTdWJ0aXRsZXNNYXhMZW5ndGggPSBuZXcgVC5aKCk7CgkJCQkJCW9uSW5wdXRTdWJ0aXRsZXNGb250U2l6ZSA9IG5ldyBULlooKTsKCQkJCQkJb25JbnB1dFN1YnRpdGxlc0JhY2tncm91bmRPcGFjaXR5ID0gbmV3IFQuWigpOwoJCQkJCQlvbklucHV0QXV0b0hpZGVCdXR0b25EZWxheSA9IG5ldyBULlooKTsKCQkJCQkJb25TZWxlY3RJdGVtUHJveHlUcmFuc2xhdGlvblN0YXR1cyA9IG5ldyBULlooKTsKCQkJCQkJb25TZWxlY3RJdGVtVHJhbnNsYXRpb25UZXh0U2VydmljZSA9IG5ldyBULlooKTsKCQkJCQkJb25TZWxlY3RJdGVtQnV0dG9uUG9zaXRpb24gPSBuZXcgVC5aKCk7CgkJCQkJCW9uU2VsZWN0SXRlbU1lbnVMYW5ndWFnZSA9IG5ldyBULlooKTsKCQkJCQkJZGlhbG9nOwoJCQkJCQlhY2NvdW50SGVhZGVyOwoJCQkJCQlhY2NvdW50QnV0dG9uOwoJCQkJCQlhY2NvdW50QnV0dG9uUmVmcmVzaFRvb2x0aXA7CgkJCQkJCWFjY291bnRCdXR0b25Ub2tlblRvb2x0aXA7CgkJCQkJCXRyYW5zbGF0aW9uU2V0dGluZ3NIZWFkZXI7CgkJCQkJCWF1dG9UcmFuc2xhdGVDaGVja2JveDsKCQkJCQkJZG9udFRyYW5zbGF0ZUxhbmd1YWdlc0NoZWNrYm94OwoJCQkJCQlkb250VHJhbnNsYXRlTGFuZ3VhZ2VzU2VsZWN0OwoJCQkJCQlhdXRvU2V0Vm9sdW1lU2xpZGVyTGFiZWw7CgkJCQkJCWF1dG9TZXRWb2x1bWVDaGVja2JveDsKCQkJCQkJYXV0b1NldFZvbHVtZVNsaWRlcjsKCQkJCQkJc2hvd1ZpZGVvVm9sdW1lU2xpZGVyQ2hlY2tib3g7CgkJCQkJCWF1ZGlvQm9vc3RlckNoZWNrYm94OwoJCQkJCQlhdWRpb0Jvb3N0ZXJUb29sdGlwOwoJCQkJCQlzeW5jVm9sdW1lQ2hlY2tib3g7CgkJCQkJCWRvd25sb2FkV2l0aE5hbWVDaGVja2JveDsKCQkJCQkJc2VuZE5vdGlmeU9uQ29tcGxldGVDaGVja2JveDsKCQkJCQkJdXNlTGl2ZWx5Vm9pY2VDaGVja2JveDsKCQkJCQkJdXNlTGl2ZWx5Vm9pY2VUb29sdGlwOwoJCQkJCQl1c2VBdWRpb0Rvd25sb2FkQ2hlY2tib3g7CgkJCQkJCXVzZUF1ZGlvRG93bmxvYWRDaGVja2JveExhYmVsOwoJCQkJCQl1c2VBdWRpb0Rvd25sb2FkQ2hlY2tib3hUb29sdGlwOwoJCQkJCQlzdWJ0aXRsZXNTZXR0aW5nc0hlYWRlcjsKCQkJCQkJc3VidGl0bGVzRG93bmxvYWRGb3JtYXRTZWxlY3RMYWJlbDsKCQkJCQkJc3VidGl0bGVzRG93bmxvYWRGb3JtYXRTZWxlY3Q7CgkJCQkJCXN1YnRpdGxlc0Rlc2lnbkRldGFpbHM7CgkJCQkJCWhvdGtleXNTZXR0aW5nc0hlYWRlcjsKCQkJCQkJdHJhbnNsYXRlSG90a2V5QnV0dG9uOwoJCQkJCQlwcm94eVNldHRpbmdzSGVhZGVyOwoJCQkJCQlwcm94eU0zVThIb3N0VGV4dGZpZWxkOwoJCQkJCQlwcm94eVdvcmtlckhvc3RUZXh0ZmllbGQ7CgkJCQkJCXByb3h5VHJhbnNsYXRpb25TdGF0dXNTZWxlY3RMYWJlbDsKCQkJCQkJcHJveHlUcmFuc2xhdGlvblN0YXR1c1NlbGVjdFRvb2x0aXA7CgkJCQkJCXByb3h5VHJhbnNsYXRpb25TdGF0dXNTZWxlY3Q7CgkJCQkJCW1pc2NTZXR0aW5nc0hlYWRlcjsKCQkJCQkJdHJhbnNsYXRlQVBJRXJyb3JzQ2hlY2tib3g7CgkJCQkJCXVzZU5ld0F1ZGlvUGxheWVyQ2hlY2tib3g7CgkJCQkJCXVzZU5ld0F1ZGlvUGxheWVyVG9vbHRpcDsKCQkJCQkJb25seUJ5cGFzc01lZGlhQ1NQQ2hlY2tib3g7CgkJCQkJCW9ubHlCeXBhc3NNZWRpYUNTUFRvb2x0aXA7CgkJCQkJCXRyYW5zbGF0aW9uVGV4dFNlcnZpY2VMYWJlbDsKCQkJCQkJdHJhbnNsYXRpb25UZXh0U2VydmljZVNlbGVjdDsKCQkJCQkJdHJhbnNsYXRpb25UZXh0U2VydmljZVRvb2x0aXA7CgkJCQkJCWRldGVjdFNlcnZpY2VMYWJlbDsKCQkJCQkJZGV0ZWN0U2VydmljZVNlbGVjdDsKCQkJCQkJYXBwZWFyYW5jZURldGFpbHM7CgkJCQkJCWFib3V0RXh0ZW5zaW9uRGV0YWlsczsKCQkJCQkJYnVnUmVwb3J0QnV0dG9uOwoJCQkJCQlyZXNldFNldHRpbmdzQnV0dG9uOwoJCQkJCQljb25zdHJ1Y3Rvcih7IGdsb2JhbFBvcnRhbDogZCwgZGF0YTogZiA9IHt9LCB2aWRlb0hhbmRsZXI6IHAgfSkgewoJCQkJCQkJdGhpcy5nbG9iYWxQb3J0YWwgPSBkLCB0aGlzLmRhdGEgPSBmLCB0aGlzLnZpZGVvSGFuZGxlciA9IHA7CgkJCQkJCX0KCQkJCQkJaXNJbml0aWFsaXplZCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLmluaXRpYWxpemVkOwoJCQkJCQl9CgkJCQkJCWluaXRVSSgpIHsKCQkJCQkJCWlmICh0aGlzLmlzSW5pdGlhbGl6ZWQoKSkgdGhyb3cgRXJyb3IoIltWT1RdIFNldHRpbmdzVmlldyBpcyBhbHJlYWR5IGluaXRpYWxpemVkIik7CgkJCQkJCQl0aGlzLmluaXRpYWxpemVkID0gITAsIHRoaXMuZGlhbG9nID0gbmV3IEouQSh7IHRpdGxlSHRtbDogRS5qLmdldCgiVk9UU2V0dGluZ3MiKSB9KSwgdGhpcy5nbG9iYWxQb3J0YWwuYXBwZW5kQ2hpbGQodGhpcy5kaWFsb2cuY29udGFpbmVyKSwgdGhpcy5hY2NvdW50SGVhZGVyID0gTy5BLmNyZWF0ZUhlYWRlcihFLmouZ2V0KCJWT1RNeUFjY291bnQiKSksIHRoaXMuYWNjb3VudEJ1dHRvbiA9IG5ldyBHLkEoewoJCQkJCQkJCWF2YXRhcklkOiB0aGlzLmRhdGEuYWNjb3VudD8uYXZhdGFySWQsCgkJCQkJCQkJdXNlcm5hbWU6IHRoaXMuZGF0YS5hY2NvdW50Py51c2VybmFtZSwKCQkJCQkJCQlsb2dnZWRJbjogISF0aGlzLmRhdGEuYWNjb3VudD8udG9rZW4KCQkJCQkJCX0pLCBGLmQuaXNTdXBwb3J0T25seUxTID8gKHRoaXMuYWNjb3VudEJ1dHRvbi5yZWZyZXNoQnV0dG9uLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCAidHJ1ZSIpLCB0aGlzLmFjY291bnRCdXR0b24uYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCAidHJ1ZSIpKSA6IHRoaXMuYWNjb3VudEJ1dHRvblJlZnJlc2hUb29sdGlwID0gbmV3ICQuQSh7CgkJCQkJCQkJdGFyZ2V0OiB0aGlzLmFjY291bnRCdXR0b24ucmVmcmVzaEJ1dHRvbiwKCQkJCQkJCQljb250ZW50OiBFLmouZ2V0KCJWT1RSZWZyZXNoIiksCgkJCQkJCQkJcG9zaXRpb246ICJib3R0b20iLAoJCQkJCQkJCWJhY2tncm91bmRDb2xvcjogInZhcigtLXZvdC1oZWxwZXItb25kaWFsb2cpIiwKCQkJCQkJCQlwYXJlbnRFbGVtZW50OiB0aGlzLmdsb2JhbFBvcnRhbAoJCQkJCQkJfSksIHRoaXMuYWNjb3VudEJ1dHRvblRva2VuVG9vbHRpcCA9IG5ldyAkLkEoewoJCQkJCQkJCXRhcmdldDogdGhpcy5hY2NvdW50QnV0dG9uLnRva2VuQnV0dG9uLAoJCQkJCQkJCWNvbnRlbnQ6IEUuai5nZXQoIlZPVExvZ2luVmlhVG9rZW4iKSwKCQkJCQkJCQlwb3NpdGlvbjogImJvdHRvbSIsCgkJCQkJCQkJYmFja2dyb3VuZENvbG9yOiAidmFyKC0tdm90LWhlbHBlci1vbmRpYWxvZykiLAoJCQkJCQkJCXBhcmVudEVsZW1lbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsCgkJCQkJCQl9KSwgdGhpcy50cmFuc2xhdGlvblNldHRpbmdzSGVhZGVyID0gTy5BLmNyZWF0ZUhlYWRlcihFLmouZ2V0KCJ0cmFuc2xhdGlvblNldHRpbmdzIikpLCB0aGlzLmF1dG9UcmFuc2xhdGVDaGVja2JveCA9IG5ldyBLLkEoewoJCQkJCQkJCWxhYmVsSHRtbDogRS5qLmdldCgiVk9UQXV0b1RyYW5zbGF0ZSIpLAoJCQkJCQkJCWNoZWNrZWQ6IHRoaXMuZGF0YS5hdXRvVHJhbnNsYXRlCgkJCQkJCQl9KTsKCQkJCQkJCWxldCBkID0gdGhpcy5kYXRhLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXMgPz8gW107CgkJCQkJCQl0aGlzLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXNDaGVja2JveCA9IG5ldyBLLkEoewoJCQkJCQkJCWxhYmVsSHRtbDogRS5qLmdldCgiRG9udFRyYW5zbGF0ZVNlbGVjdGVkTGFuZ3VhZ2VzIiksCgkJCQkJCQkJY2hlY2tlZDogdGhpcy5kYXRhLmVuYWJsZWREb250VHJhbnNsYXRlTGFuZ3VhZ2VzCgkJCQkJCQl9KSwgdGhpcy5kb250VHJhbnNsYXRlTGFuZ3VhZ2VzU2VsZWN0ID0gbmV3IFouQSh7CgkJCQkJCQkJZGlhbG9nUGFyZW50OiB0aGlzLmdsb2JhbFBvcnRhbCwKCQkJCQkJCQlkaWFsb2dUaXRsZTogRS5qLmdldCgiRG9udFRyYW5zbGF0ZVNlbGVjdGVkTGFuZ3VhZ2VzIiksCgkJCQkJCQkJc2VsZWN0VGl0bGU6IGQubWFwKChkKSA9PiBFLmouZ2V0KGBsYW5ncy4ke2R9YCkpLmpvaW4oIiwgIikgPz8gRS5qLmdldCgiRG9udFRyYW5zbGF0ZVNlbGVjdGVkTGFuZ3VhZ2VzIiksCgkJCQkJCQkJaXRlbXM6IFouQS5nZW5MYW5ndWFnZUl0ZW1zKF8ueG0pLm1hcCgoZikgPT4gKHsKCQkJCQkJCQkJLi4uZiwKCQkJCQkJCQkJc2VsZWN0ZWQ6IGQuaW5jbHVkZXMoZi52YWx1ZSkKCQkJCQkJCQl9KSksCgkJCQkJCQkJbXVsdGlTZWxlY3Q6ICEwLAoJCQkJCQkJCWxhYmVsRWxlbWVudDogdGhpcy5kb250VHJhbnNsYXRlTGFuZ3VhZ2VzQ2hlY2tib3guY29udGFpbmVyCgkJCQkJCQl9KTsKCQkJCQkJCWxldCBmID0gdGhpcy5kYXRhLmF1dG9Wb2x1bWUgPz8gdy5KRDsKCQkJCQkJCXRoaXMuYXV0b1NldFZvbHVtZVNsaWRlckxhYmVsID0gbmV3IGVlLkEoewoJCQkJCQkJCWxhYmVsVGV4dDogRS5qLmdldCgiVk9UQXV0b1NldFZvbHVtZSIpLAoJCQkJCQkJCXZhbHVlOiBmCgkJCQkJCQl9KSwgdGhpcy5hdXRvU2V0Vm9sdW1lQ2hlY2tib3ggPSBuZXcgSy5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IHRoaXMuYXV0b1NldFZvbHVtZVNsaWRlckxhYmVsLmNvbnRhaW5lciwKCQkJCQkJCQljaGVja2VkOiB0aGlzLmRhdGEuZW5hYmxlZEF1dG9Wb2x1bWUgPz8gITAKCQkJCQkJCX0pLCB0aGlzLmF1dG9TZXRWb2x1bWVTbGlkZXIgPSBuZXcgUS5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IHRoaXMuYXV0b1NldFZvbHVtZUNoZWNrYm94LmNvbnRhaW5lciwKCQkJCQkJCQl2YWx1ZTogZgoJCQkJCQkJfSksIHRoaXMuc2hvd1ZpZGVvVm9sdW1lU2xpZGVyQ2hlY2tib3ggPSBuZXcgSy5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoInNob3dWaWRlb1ZvbHVtZVNsaWRlciIpLAoJCQkJCQkJCWNoZWNrZWQ6IHRoaXMuZGF0YS5zaG93VmlkZW9TbGlkZXIKCQkJCQkJCX0pLCB0aGlzLmF1ZGlvQm9vc3RlckNoZWNrYm94ID0gbmV3IEsuQSh7CgkJCQkJCQkJbGFiZWxIdG1sOiBFLmouZ2V0KCJWT1RBdWRpb0Jvb3N0ZXIiKSwKCQkJCQkJCQljaGVja2VkOiB0aGlzLmRhdGEuYXVkaW9Cb29zdGVyCgkJCQkJCQl9KSwgdGhpcy52aWRlb0hhbmRsZXI/LmF1ZGlvQ29udGV4dCB8fCAodGhpcy5hdWRpb0Jvb3N0ZXJDaGVja2JveC5kaXNhYmxlZCA9ICEwLCB0aGlzLmF1ZGlvQm9vc3RlclRvb2x0aXAgPSBuZXcgJC5BKHsKCQkJCQkJCQl0YXJnZXQ6IHRoaXMuYXVkaW9Cb29zdGVyQ2hlY2tib3guY29udGFpbmVyLAoJCQkJCQkJCWNvbnRlbnQ6IEUuai5nZXQoIlZPVE5lZWRXZWJBdWRpb0FQSSIpLAoJCQkJCQkJCXBvc2l0aW9uOiAiYm90dG9tIiwKCQkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ2YXIoLS12b3QtaGVscGVyLW9uZGlhbG9nKSIsCgkJCQkJCQkJcGFyZW50RWxlbWVudDogdGhpcy5nbG9iYWxQb3J0YWwKCQkJCQkJCX0pKSwgdGhpcy5zeW5jVm9sdW1lQ2hlY2tib3ggPSBuZXcgSy5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoIlZPVFN5bmNWb2x1bWUiKSwKCQkJCQkJCQljaGVja2VkOiB0aGlzLmRhdGEuc3luY1ZvbHVtZQoJCQkJCQkJfSksIHRoaXMuZG93bmxvYWRXaXRoTmFtZUNoZWNrYm94ID0gbmV3IEsuQSh7CgkJCQkJCQkJbGFiZWxIdG1sOiBFLmouZ2V0KCJWT1REb3dubG9hZFdpdGhOYW1lIiksCgkJCQkJCQkJY2hlY2tlZDogdGhpcy5kYXRhLmRvd25sb2FkV2l0aE5hbWUKCQkJCQkJCX0pLCB0aGlzLmRvd25sb2FkV2l0aE5hbWVDaGVja2JveC5kaXNhYmxlZCA9ICFqLnl4LCB0aGlzLnNlbmROb3RpZnlPbkNvbXBsZXRlQ2hlY2tib3ggPSBuZXcgSy5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoIlZPVFNlbmROb3RpZnlPbkNvbXBsZXRlIiksCgkJCQkJCQkJY2hlY2tlZDogdGhpcy5kYXRhLnNlbmROb3RpZnlPbkNvbXBsZXRlCgkJCQkJCQl9KSwgdGhpcy51c2VMaXZlbHlWb2ljZUNoZWNrYm94ID0gbmV3IEsuQSh7CgkJCQkJCQkJbGFiZWxIdG1sOiBFLmouZ2V0KCJWT1RVc2VMaXZlbHlWb2ljZSIpLAoJCQkJCQkJCWNoZWNrZWQ6IHRoaXMuZGF0YS51c2VMaXZlbHlWb2ljZQoJCQkJCQkJfSksIHRoaXMudXNlTGl2ZWx5Vm9pY2VUb29sdGlwID0gbmV3ICQuQSh7CgkJCQkJCQkJdGFyZ2V0OiB0aGlzLnVzZUxpdmVseVZvaWNlQ2hlY2tib3guY29udGFpbmVyLAoJCQkJCQkJCWNvbnRlbnQ6IEUuai5nZXQoIlZPVEFjY291bnRSZXF1aXJlZCIpLAoJCQkJCQkJCXBvc2l0aW9uOiAiYm90dG9tIiwKCQkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ2YXIoLS12b3QtaGVscGVyLW9uZGlhbG9nKSIsCgkJCQkJCQkJcGFyZW50RWxlbWVudDogdGhpcy5nbG9iYWxQb3J0YWwsCgkJCQkJCQkJaGlkZGVuOiAhIXRoaXMuZGF0YS5hY2NvdW50Py50b2tlbgoJCQkJCQkJfSksIHRoaXMuZGF0YS5hY2NvdW50Py50b2tlbiB8fCAodGhpcy51c2VMaXZlbHlWb2ljZUNoZWNrYm94LmRpc2FibGVkID0gITApLCB0aGlzLnVzZUF1ZGlvRG93bmxvYWRDaGVja2JveExhYmVsID0gbmV3IFguQSh7CgkJCQkJCQkJbGFiZWxUZXh0OiBFLmouZ2V0KCJWT1RVc2VBdWRpb0Rvd25sb2FkIiksCgkJCQkJCQkJaWNvbjogbmUuWGQKCQkJCQkJCX0pLCB0aGlzLnVzZUF1ZGlvRG93bmxvYWRDaGVja2JveCA9IG5ldyBLLkEoewoJCQkJCQkJCWxhYmVsSHRtbDogdGhpcy51c2VBdWRpb0Rvd25sb2FkQ2hlY2tib3hMYWJlbC5jb250YWluZXIsCgkJCQkJCQkJY2hlY2tlZDogdGhpcy5kYXRhLnVzZUF1ZGlvRG93bmxvYWQKCQkJCQkJCX0pLCBqLkIwIHx8ICh0aGlzLnVzZUF1ZGlvRG93bmxvYWRDaGVja2JveC5kaXNhYmxlZCA9ICEwKSwgdGhpcy51c2VBdWRpb0Rvd25sb2FkQ2hlY2tib3hUb29sdGlwID0gbmV3ICQuQSh7CgkJCQkJCQkJdGFyZ2V0OiB0aGlzLnVzZUF1ZGlvRG93bmxvYWRDaGVja2JveExhYmVsLmNvbnRhaW5lciwKCQkJCQkJCQljb250ZW50OiBFLmouZ2V0KCJWT1RVc2VBdWRpb0Rvd25sb2FkV2FybmluZyIpLAoJCQkJCQkJCXBvc2l0aW9uOiAiYm90dG9tIiwKCQkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ2YXIoLS12b3QtaGVscGVyLW9uZGlhbG9nKSIsCgkJCQkJCQkJcGFyZW50RWxlbWVudDogdGhpcy5nbG9iYWxQb3J0YWwKCQkJCQkJCX0pLCB0aGlzLmRpYWxvZy5ib2R5Q29udGFpbmVyLmFwcGVuZCh0aGlzLmFjY291bnRIZWFkZXIsIHRoaXMuYWNjb3VudEJ1dHRvbi5jb250YWluZXIsIHRoaXMudHJhbnNsYXRpb25TZXR0aW5nc0hlYWRlciwgdGhpcy5hdXRvVHJhbnNsYXRlQ2hlY2tib3guY29udGFpbmVyLCB0aGlzLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXNTZWxlY3QuY29udGFpbmVyLCB0aGlzLmF1dG9TZXRWb2x1bWVTbGlkZXIuY29udGFpbmVyLCB0aGlzLnNob3dWaWRlb1ZvbHVtZVNsaWRlckNoZWNrYm94LmNvbnRhaW5lciwgdGhpcy5hdWRpb0Jvb3N0ZXJDaGVja2JveC5jb250YWluZXIsIHRoaXMuc3luY1ZvbHVtZUNoZWNrYm94LmNvbnRhaW5lciwgdGhpcy5kb3dubG9hZFdpdGhOYW1lQ2hlY2tib3guY29udGFpbmVyLCB0aGlzLnNlbmROb3RpZnlPbkNvbXBsZXRlQ2hlY2tib3guY29udGFpbmVyLCB0aGlzLnVzZUxpdmVseVZvaWNlQ2hlY2tib3guY29udGFpbmVyLCB0aGlzLnVzZUF1ZGlvRG93bmxvYWRDaGVja2JveC5jb250YWluZXIpLCB0aGlzLnN1YnRpdGxlc1NldHRpbmdzSGVhZGVyID0gTy5BLmNyZWF0ZUhlYWRlcihFLmouZ2V0KCJzdWJ0aXRsZXNTZXR0aW5ncyIpKSwgdGhpcy5zdWJ0aXRsZXNEb3dubG9hZEZvcm1hdFNlbGVjdExhYmVsID0gbmV3IFguQSh7IGxhYmVsVGV4dDogRS5qLmdldCgiVk9UU3VidGl0bGVzRG93bmxvYWRGb3JtYXQiKSB9KSwgdGhpcy5zdWJ0aXRsZXNEb3dubG9hZEZvcm1hdFNlbGVjdCA9IG5ldyBaLkEoewoJCQkJCQkJCXNlbGVjdFRpdGxlOiB0aGlzLmRhdGEuc3VidGl0bGVzRG93bmxvYWRGb3JtYXQgPz8gRS5qLmdldCgiVk9UU3VidGl0bGVzRG93bmxvYWRGb3JtYXQiKSwKCQkJCQkJCQlkaWFsb2dUaXRsZTogRS5qLmdldCgiVk9UU3VidGl0bGVzRG93bmxvYWRGb3JtYXQiKSwKCQkJCQkJCQlkaWFsb2dQYXJlbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsLAoJCQkJCQkJCWxhYmVsRWxlbWVudDogdGhpcy5zdWJ0aXRsZXNEb3dubG9hZEZvcm1hdFNlbGVjdExhYmVsLmNvbnRhaW5lciwKCQkJCQkJCQlpdGVtczogXy5FRy5tYXAoKGQpID0+ICh7CgkJCQkJCQkJCWxhYmVsOiBkLnRvVXBwZXJDYXNlKCksCgkJCQkJCQkJCXZhbHVlOiBkLAoJCQkJCQkJCQlzZWxlY3RlZDogZCA9PT0gdGhpcy5kYXRhLnN1YnRpdGxlc0Rvd25sb2FkRm9ybWF0CgkJCQkJCQkJfSkpCgkJCQkJCQl9KSwgdGhpcy5zdWJ0aXRsZXNEZXNpZ25EZXRhaWxzID0gbmV3IHEuQSh7IHRpdGxlSHRtbDogRS5qLmdldCgiVk9UU3VidGl0bGVzRGVzaWduIikgfSksIHRoaXMuZGlhbG9nLmJvZHlDb250YWluZXIuYXBwZW5kKHRoaXMuc3VidGl0bGVzU2V0dGluZ3NIZWFkZXIsIHRoaXMuc3VidGl0bGVzRG93bmxvYWRGb3JtYXRTZWxlY3QuY29udGFpbmVyLCB0aGlzLnN1YnRpdGxlc0Rlc2lnbkRldGFpbHMuY29udGFpbmVyKSwgdGhpcy5ob3RrZXlzU2V0dGluZ3NIZWFkZXIgPSBPLkEuY3JlYXRlSGVhZGVyKEUuai5nZXQoImhvdGtleXNTZXR0aW5ncyIpKSwgdGhpcy50cmFuc2xhdGVIb3RrZXlCdXR0b24gPSBuZXcgWS5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoInRyYW5zbGF0ZVZpZGVvIiksCgkJCQkJCQkJa2V5OiB0aGlzLmRhdGEudHJhbnNsYXRpb25Ib3RrZXkKCQkJCQkJCX0pLCB0aGlzLmRpYWxvZy5ib2R5Q29udGFpbmVyLmFwcGVuZCh0aGlzLmhvdGtleXNTZXR0aW5nc0hlYWRlciwgdGhpcy50cmFuc2xhdGVIb3RrZXlCdXR0b24uY29udGFpbmVyKSwgdGhpcy5wcm94eVNldHRpbmdzSGVhZGVyID0gTy5BLmNyZWF0ZUhlYWRlcihFLmouZ2V0KCJwcm94eVNldHRpbmdzIikpLCB0aGlzLnByb3h5TTNVOEhvc3RUZXh0ZmllbGQgPSBuZXcgdGUuQSh7CgkJCQkJCQkJbGFiZWxIdG1sOiBFLmouZ2V0KCJWT1RNM3U4UHJveHlIb3N0IiksCgkJCQkJCQkJdmFsdWU6IHRoaXMuZGF0YS5tM3U4UHJveHlIb3N0LAoJCQkJCQkJCXBsYWNlaG9sZGVyOiB3LnNlCgkJCQkJCQl9KSwgdGhpcy5wcm94eVdvcmtlckhvc3RUZXh0ZmllbGQgPSBuZXcgdGUuQSh7CgkJCQkJCQkJbGFiZWxIdG1sOiBFLmouZ2V0KCJWT1RQcm94eVdvcmtlckhvc3QiKSwKCQkJCQkJCQl2YWx1ZTogdGhpcy5kYXRhLnByb3h5V29ya2VySG9zdCwKCQkJCQkJCQlwbGFjZWhvbGRlcjogdy5QbQoJCQkJCQkJfSk7CgkJCQkJCQlsZXQgcCA9IFsKCQkJCQkJCQlFLmouZ2V0KCJWT1RUcmFuc2xhdGVQcm94eURpc2FibGVkIiksCgkJCQkJCQkJRS5qLmdldCgiVk9UVHJhbnNsYXRlUHJveHlFbmFibGVkIiksCgkJCQkJCQkJRS5qLmdldCgiVk9UVHJhbnNsYXRlUHJveHlFdmVyeXRoaW5nIikKCQkJCQkJCV0sIG0gPSB0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkID8/IDAsIGggPSBiLmsgJiYgdy52Wi5pbmNsdWRlcyhiLmspOwoJCQkJCQkJdGhpcy5wcm94eVRyYW5zbGF0aW9uU3RhdHVzU2VsZWN0TGFiZWwgPSBuZXcgWC5BKHsKCQkJCQkJCQlpY29uOiBoID8gbmUuWGQgOiB2b2lkIDAsCgkJCQkJCQkJbGFiZWxUZXh0OiBFLmouZ2V0KCJWT1RUcmFuc2xhdGVQcm94eVN0YXR1cyIpCgkJCQkJCQl9KSwgaCAmJiAodGhpcy5wcm94eVRyYW5zbGF0aW9uU3RhdHVzU2VsZWN0VG9vbHRpcCA9IG5ldyAkLkEoewoJCQkJCQkJCXRhcmdldDogdGhpcy5wcm94eVRyYW5zbGF0aW9uU3RhdHVzU2VsZWN0TGFiZWwuaWNvbiwKCQkJCQkJCQljb250ZW50OiBFLmouZ2V0KCJWT1RUcmFuc2xhdGVQcm94eVN0YXR1c0RlZmF1bHQiKSwKCQkJCQkJCQlwb3NpdGlvbjogImJvdHRvbSIsCgkJCQkJCQkJYmFja2dyb3VuZENvbG9yOiAidmFyKC0tdm90LWhlbHBlci1vbmRpYWxvZykiLAoJCQkJCQkJCXBhcmVudEVsZW1lbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsCgkJCQkJCQl9KSksIHRoaXMucHJveHlUcmFuc2xhdGlvblN0YXR1c1NlbGVjdCA9IG5ldyBaLkEoewoJCQkJCQkJCXNlbGVjdFRpdGxlOiBwW21dLAoJCQkJCQkJCWRpYWxvZ1RpdGxlOiBFLmouZ2V0KCJWT1RUcmFuc2xhdGVQcm94eVN0YXR1cyIpLAoJCQkJCQkJCWRpYWxvZ1BhcmVudDogdGhpcy5nbG9iYWxQb3J0YWwsCgkJCQkJCQkJbGFiZWxFbGVtZW50OiB0aGlzLnByb3h5VHJhbnNsYXRpb25TdGF0dXNTZWxlY3RMYWJlbC5jb250YWluZXIsCgkJCQkJCQkJaXRlbXM6IHAubWFwKChkLCBmKSA9PiAoewoJCQkJCQkJCQlsYWJlbDogZCwKCQkJCQkJCQkJdmFsdWU6IGYudG9TdHJpbmcoKSwKCQkJCQkJCQkJc2VsZWN0ZWQ6IGYgPT09IG0sCgkJCQkJCQkJCWRpc2FibGVkOiBmID09PSAwICYmIGoudXAKCQkJCQkJCQl9KSkKCQkJCQkJCX0pLCB0aGlzLmRpYWxvZy5ib2R5Q29udGFpbmVyLmFwcGVuZCh0aGlzLnByb3h5U2V0dGluZ3NIZWFkZXIsIHRoaXMucHJveHlNM1U4SG9zdFRleHRmaWVsZC5jb250YWluZXIsIHRoaXMucHJveHlXb3JrZXJIb3N0VGV4dGZpZWxkLmNvbnRhaW5lciwgdGhpcy5wcm94eVRyYW5zbGF0aW9uU3RhdHVzU2VsZWN0LmNvbnRhaW5lciksIHRoaXMubWlzY1NldHRpbmdzSGVhZGVyID0gTy5BLmNyZWF0ZUhlYWRlcihFLmouZ2V0KCJtaXNjU2V0dGluZ3MiKSksIHRoaXMudHJhbnNsYXRlQVBJRXJyb3JzQ2hlY2tib3ggPSBuZXcgSy5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoIlZPVFRyYW5zbGF0ZUFQSUVycm9ycyIpLAoJCQkJCQkJCWNoZWNrZWQ6IHRoaXMuZGF0YS50cmFuc2xhdGVBUElFcnJvcnMgPz8gITAKCQkJCQkJCX0pLCB0aGlzLnRyYW5zbGF0ZUFQSUVycm9yc0NoZWNrYm94LmhpZGRlbiA9IEUuai5sYW5nID09PSAicnUiLCB0aGlzLnVzZU5ld0F1ZGlvUGxheWVyQ2hlY2tib3ggPSBuZXcgSy5BKHsKCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoIlZPVE5ld0F1ZGlvUGxheWVyIiksCgkJCQkJCQkJY2hlY2tlZDogdGhpcy5kYXRhLm5ld0F1ZGlvUGxheWVyCgkJCQkJCQl9KSwgdGhpcy52aWRlb0hhbmRsZXI/LmF1ZGlvQ29udGV4dCB8fCAodGhpcy51c2VOZXdBdWRpb1BsYXllckNoZWNrYm94LmRpc2FibGVkID0gITAsIHRoaXMudXNlTmV3QXVkaW9QbGF5ZXJUb29sdGlwID0gbmV3ICQuQSh7CgkJCQkJCQkJdGFyZ2V0OiB0aGlzLnVzZU5ld0F1ZGlvUGxheWVyQ2hlY2tib3guY29udGFpbmVyLAoJCQkJCQkJCWNvbnRlbnQ6IEUuai5nZXQoIlZPVE5lZWRXZWJBdWRpb0FQSSIpLAoJCQkJCQkJCXBvc2l0aW9uOiAiYm90dG9tIiwKCQkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ2YXIoLS12b3QtaGVscGVyLW9uZGlhbG9nKSIsCgkJCQkJCQkJcGFyZW50RWxlbWVudDogdGhpcy5nbG9iYWxQb3J0YWwKCQkJCQkJCX0pKTsKCQkJCQkJCWxldCBnID0gdGhpcy52aWRlb0hhbmRsZXI/LnNpdGUubmVlZEJ5cGFzc0NTUCA/IGAke0Uuai5nZXQoIlZPVE9ubHlCeXBhc3NNZWRpYUNTUCIpfSAoJHtFLmouZ2V0KCJWT1RNZWRpYUNTUEVuYWJsZWRPblNpdGUiKX0pYCA6IEUuai5nZXQoIlZPVE9ubHlCeXBhc3NNZWRpYUNTUCIpOwoJCQkJCQkJdGhpcy5vbmx5QnlwYXNzTWVkaWFDU1BDaGVja2JveCA9IG5ldyBLLkEoewoJCQkJCQkJCWxhYmVsSHRtbDogZywKCQkJCQkJCQljaGVja2VkOiB0aGlzLmRhdGEub25seUJ5cGFzc01lZGlhQ1NQLAoJCQkJCQkJCWlzU3ViQ2hlY2tib3g6ICEwCgkJCQkJCQl9KSwgdGhpcy52aWRlb0hhbmRsZXI/LmF1ZGlvQ29udGV4dCB8fCAodGhpcy5vbmx5QnlwYXNzTWVkaWFDU1BUb29sdGlwID0gbmV3ICQuQSh7CgkJCQkJCQkJdGFyZ2V0OiB0aGlzLm9ubHlCeXBhc3NNZWRpYUNTUENoZWNrYm94LmNvbnRhaW5lciwKCQkJCQkJCQljb250ZW50OiBFLmouZ2V0KCJWT1ROZWVkV2ViQXVkaW9BUEkiKSwKCQkJCQkJCQlwb3NpdGlvbjogImJvdHRvbSIsCgkJCQkJCQkJYmFja2dyb3VuZENvbG9yOiAidmFyKC0tdm90LWhlbHBlci1vbmRpYWxvZykiLAoJCQkJCQkJCXBhcmVudEVsZW1lbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsCgkJCQkJCQl9KSksIHRoaXMub25seUJ5cGFzc01lZGlhQ1NQQ2hlY2tib3guZGlzYWJsZWQgPSAhdGhpcy5kYXRhLm5ld0F1ZGlvUGxheWVyICYmICEhdGhpcy52aWRlb0hhbmRsZXI/LmF1ZGlvQ29udGV4dCwgdGhpcy5kYXRhLm5ld0F1ZGlvUGxheWVyIHx8ICh0aGlzLm9ubHlCeXBhc3NNZWRpYUNTUENoZWNrYm94LmhpZGRlbiA9ICEwKSwgdGhpcy50cmFuc2xhdGlvblRleHRTZXJ2aWNlTGFiZWwgPSBuZXcgWC5BKHsKCQkJCQkJCQlsYWJlbFRleHQ6IEUuai5nZXQoIlZPVFRyYW5zbGF0aW9uVGV4dFNlcnZpY2UiKSwKCQkJCQkJCQlpY29uOiBuZS53MgoJCQkJCQkJfSk7CgkJCQkJCQlsZXQgdiA9IHRoaXMuZGF0YS50cmFuc2xhdGlvblNlcnZpY2UgPz8gdy5tRTsKCQkJCQkJCXRoaXMudHJhbnNsYXRpb25UZXh0U2VydmljZVNlbGVjdCA9IG5ldyBaLkEoewoJCQkJCQkJCXNlbGVjdFRpdGxlOiBFLmouZ2V0KGBzZXJ2aWNlcy4ke3Z9YCksCgkJCQkJCQkJZGlhbG9nVGl0bGU6IEUuai5nZXQoIlZPVFRyYW5zbGF0aW9uVGV4dFNlcnZpY2UiKSwKCQkJCQkJCQlkaWFsb2dQYXJlbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsLAoJCQkJCQkJCWxhYmVsRWxlbWVudDogdGhpcy50cmFuc2xhdGlvblRleHRTZXJ2aWNlTGFiZWwuY29udGFpbmVyLAoJCQkJCQkJCWl0ZW1zOiBVLnZOLm1hcCgoZCkgPT4gKHsKCQkJCQkJCQkJbGFiZWw6IEUuai5nZXQoYHNlcnZpY2VzLiR7ZH1gKSwKCQkJCQkJCQkJdmFsdWU6IGQsCgkJCQkJCQkJCXNlbGVjdGVkOiBkID09PSB2CgkJCQkJCQkJfSkpCgkJCQkJCQl9KSwgdGhpcy50cmFuc2xhdGlvblRleHRTZXJ2aWNlVG9vbHRpcCA9IG5ldyAkLkEoewoJCQkJCQkJCXRhcmdldDogdGhpcy50cmFuc2xhdGlvblRleHRTZXJ2aWNlTGFiZWwuaWNvbiwKCQkJCQkJCQljb250ZW50OiBFLmouZ2V0KCJWT1ROb3RBZmZlY3RUb1ZvaWNlIiksCgkJCQkJCQkJcG9zaXRpb246ICJib3R0b20iLAoJCQkJCQkJCWJhY2tncm91bmRDb2xvcjogInZhcigtLXZvdC1oZWxwZXItb25kaWFsb2cpIiwKCQkJCQkJCQlwYXJlbnRFbGVtZW50OiB0aGlzLmdsb2JhbFBvcnRhbAoJCQkJCQkJfSksIHRoaXMuZGV0ZWN0U2VydmljZUxhYmVsID0gbmV3IFguQSh7IGxhYmVsVGV4dDogRS5qLmdldCgiVk9URGV0ZWN0U2VydmljZSIpIH0pOwoJCQkJCQkJbGV0IHggPSB0aGlzLmRhdGEuZGV0ZWN0U2VydmljZSA/PyB3LksyOwoJCQkJCQkJcmV0dXJuIHRoaXMuZGV0ZWN0U2VydmljZVNlbGVjdCA9IG5ldyBaLkEoewoJCQkJCQkJCXNlbGVjdFRpdGxlOiBFLmouZ2V0KGBzZXJ2aWNlcy4ke3h9YCksCgkJCQkJCQkJZGlhbG9nVGl0bGU6IEUuai5nZXQoIlZPVERldGVjdFNlcnZpY2UiKSwKCQkJCQkJCQlkaWFsb2dQYXJlbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsLAoJCQkJCQkJCWxhYmVsRWxlbWVudDogdGhpcy5kZXRlY3RTZXJ2aWNlTGFiZWwuY29udGFpbmVyLAoJCQkJCQkJCWl0ZW1zOiBVLnFoLm1hcCgoZCkgPT4gKHsKCQkJCQkJCQkJbGFiZWw6IEUuai5nZXQoYHNlcnZpY2VzLiR7ZH1gKSwKCQkJCQkJCQkJdmFsdWU6IGQsCgkJCQkJCQkJCXNlbGVjdGVkOiBkID09PSB4CgkJCQkJCQkJfSkpCgkJCQkJCQl9KSwgdGhpcy5hcHBlYXJhbmNlRGV0YWlscyA9IG5ldyBxLkEoeyB0aXRsZUh0bWw6IEUuai5nZXQoImFwcGVhcmFuY2UiKSB9KSwgdGhpcy5hYm91dEV4dGVuc2lvbkRldGFpbHMgPSBuZXcgcS5BKHsgdGl0bGVIdG1sOiBFLmouZ2V0KCJhYm91dEV4dGVuc2lvbiIpIH0pLCB0aGlzLmJ1Z1JlcG9ydEJ1dHRvbiA9IE8uQS5jcmVhdGVPdXRsaW5lZEJ1dHRvbihFLmouZ2V0KCJWT1RCdWdSZXBvcnQiKSksIHRoaXMucmVzZXRTZXR0aW5nc0J1dHRvbiA9IE8uQS5jcmVhdGVCdXR0b24oRS5qLmdldCgicmVzZXRTZXR0aW5ncyIpKSwgdGhpcy5kaWFsb2cuYm9keUNvbnRhaW5lci5hcHBlbmQodGhpcy5taXNjU2V0dGluZ3NIZWFkZXIsIHRoaXMudHJhbnNsYXRlQVBJRXJyb3JzQ2hlY2tib3guY29udGFpbmVyLCB0aGlzLnVzZU5ld0F1ZGlvUGxheWVyQ2hlY2tib3guY29udGFpbmVyLCB0aGlzLm9ubHlCeXBhc3NNZWRpYUNTUENoZWNrYm94LmNvbnRhaW5lciwgdGhpcy50cmFuc2xhdGlvblRleHRTZXJ2aWNlU2VsZWN0LmNvbnRhaW5lciwgdGhpcy5kZXRlY3RTZXJ2aWNlU2VsZWN0LmNvbnRhaW5lciwgdGhpcy5hcHBlYXJhbmNlRGV0YWlscy5jb250YWluZXIsIHRoaXMuYWJvdXRFeHRlbnNpb25EZXRhaWxzLmNvbnRhaW5lciwgdGhpcy5idWdSZXBvcnRCdXR0b24sIHRoaXMucmVzZXRTZXR0aW5nc0J1dHRvbiksIHRoaXM7CgkJCQkJCX0KCQkJCQkJaW5pdFVJRXZlbnRzKCkgewoJCQkJCQkJaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKSkgdGhyb3cgRXJyb3IoIltWT1RdIFNldHRpbmdzVmlldyBpc24ndCBpbml0aWFsaXplZCIpOwoJCQkJCQkJcmV0dXJuIHRoaXMuYWNjb3VudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jICgpID0+IHsKCQkJCQkJCQlpZiAoIUYuZC5pc1N1cHBvcnRPbmx5TFMpIHsKCQkJCQkJCQkJaWYgKHRoaXMuYWNjb3VudEJ1dHRvbi5sb2dnZWRJbikgcmV0dXJuIGF3YWl0IEYuZC5kZWxldGUoImFjY291bnQiKSwgdGhpcy5kYXRhLmFjY291bnQgPSB7fSwgdGhpcy51cGRhdGVBY2NvdW50SW5mbygpOwoJCQkJCQkJCQl3aW5kb3cub3Blbih3LnhXLCAiX2JsYW5rIik/LmZvY3VzKCk7CgkJCQkJCQkJfQoJCQkJCQkJfSksIHRoaXMuYWNjb3VudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljazpzZWNyZXQiLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJbGV0IGQgPSBuZXcgSi5BKHsKCQkJCQkJCQkJdGl0bGVIdG1sOiBFLmouZ2V0KCJWT1RMb2dpblZpYVRva2VuIiksCgkJCQkJCQkJCWlzVGVtcDogITAKCQkJCQkJCQl9KTsKCQkJCQkJCQl0aGlzLmdsb2JhbFBvcnRhbC5hcHBlbmRDaGlsZChkLmNvbnRhaW5lcik7CgkJCQkJCQkJbGV0IGYgPSBPLkEuY3JlYXRlRWwoInZvdC1ibG9jayIsIHZvaWQgMCwgRS5qLmdldCgiVk9UWWFuZGV4VG9rZW5JbmZvIikpLCBwID0gbmV3IHRlLkEoewoJCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoIlZPVFlhbmRleFRva2VuIiksCgkJCQkJCQkJCXZhbHVlOiB0aGlzLmRhdGEuYWNjb3VudD8udG9rZW4KCQkJCQkJCQl9KTsKCQkJCQkJCQlwLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJCXRoaXMuZGF0YS5hY2NvdW50ID0gZCA/IHsKCQkJCQkJCQkJCWV4cGlyZXM6IERhdGUubm93KCkgKyAzMTUzNDE4ZTQsCgkJCQkJCQkJCQl0b2tlbjogZAoJCQkJCQkJCQl9IDoge30sIGF3YWl0IEYuZC5zZXQoImFjY291bnQiLCB0aGlzLmRhdGEuYWNjb3VudCksIHRoaXMudXBkYXRlQWNjb3VudEluZm8oKTsKCQkJCQkJCQl9KSwgZC5ib2R5Q29udGFpbmVyLmFwcGVuZChmLCBwLmNvbnRhaW5lcik7CgkJCQkJCQl9KSwgdGhpcy5hY2NvdW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoInJlZnJlc2giLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJRi5kLmlzU3VwcG9ydE9ubHlMUyB8fCAodGhpcy5kYXRhLmFjY291bnQgPSBhd2FpdCBGLmQuZ2V0KCJhY2NvdW50Iiwge30pLCB0aGlzLnVwZGF0ZUFjY291bnRJbmZvKCkpOwoJCQkJCQkJfSksIHRoaXMuYXV0b1RyYW5zbGF0ZUNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLmF1dG9UcmFuc2xhdGUgPSBkLCBhd2FpdCBGLmQuc2V0KCJhdXRvVHJhbnNsYXRlIiwgdGhpcy5kYXRhLmF1dG9UcmFuc2xhdGUpLCBBLkEubG9nKCJhdXRvVHJhbnNsYXRlIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKSwgdGhpcy5vbkNoYW5nZUF1dG9UcmFuc2xhdGUuZGlzcGF0Y2goZCk7CgkJCQkJCQl9KSwgdGhpcy5kb250VHJhbnNsYXRlTGFuZ3VhZ2VzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLmRhdGEuZW5hYmxlZERvbnRUcmFuc2xhdGVMYW5ndWFnZXMgPSBkLCBhd2FpdCBGLmQuc2V0KCJlbmFibGVkRG9udFRyYW5zbGF0ZUxhbmd1YWdlcyIsIHRoaXMuZGF0YS5lbmFibGVkRG9udFRyYW5zbGF0ZUxhbmd1YWdlcyksIEEuQS5sb2coImVuYWJsZWREb250VHJhbnNsYXRlTGFuZ3VhZ2VzIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKTsKCQkJCQkJCX0pLCB0aGlzLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXNTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0SXRlbSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXMgPSBkLCBhd2FpdCBGLmQuc2V0KCJkb250VHJhbnNsYXRlTGFuZ3VhZ2VzIiwgdGhpcy5kYXRhLmRvbnRUcmFuc2xhdGVMYW5ndWFnZXMpLCBBLkEubG9nKCJkb250VHJhbnNsYXRlTGFuZ3VhZ2VzIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKTsKCQkJCQkJCX0pLCB0aGlzLmF1dG9TZXRWb2x1bWVDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5lbmFibGVkQXV0b1ZvbHVtZSA9IGQsIGF3YWl0IEYuZC5zZXQoImVuYWJsZWRBdXRvVm9sdW1lIiwgdGhpcy5kYXRhLmVuYWJsZWRBdXRvVm9sdW1lKSwgQS5BLmxvZygiZW5hYmxlZEF1dG9Wb2x1bWUgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpOwoJCQkJCQkJfSksIHRoaXMuYXV0b1NldFZvbHVtZVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLmF1dG9Wb2x1bWUgPSB0aGlzLmF1dG9TZXRWb2x1bWVTbGlkZXJMYWJlbC52YWx1ZSA9IGQsIGF3YWl0IEYuZC5zZXQoImF1dG9Wb2x1bWUiLCB0aGlzLmRhdGEuYXV0b1ZvbHVtZSksIEEuQS5sb2coImF1dG9Wb2x1bWUgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpOwoJCQkJCQkJfSksIHRoaXMuc2hvd1ZpZGVvVm9sdW1lU2xpZGVyQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLmRhdGEuc2hvd1ZpZGVvU2xpZGVyID0gZCwgYXdhaXQgRi5kLnNldCgic2hvd1ZpZGVvU2xpZGVyIiwgdGhpcy5kYXRhLnNob3dWaWRlb1NsaWRlciksIEEuQS5sb2coInNob3dWaWRlb1ZvbHVtZVNsaWRlciB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCksIHRoaXMub25DaGFuZ2VTaG93VmlkZW9Wb2x1bWUuZGlzcGF0Y2goZCk7CgkJCQkJCQl9KSwgdGhpcy5hdWRpb0Jvb3N0ZXJDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5hdWRpb0Jvb3N0ZXIgPSBkLCBhd2FpdCBGLmQuc2V0KCJhdWRpb0Jvb3N0ZXIiLCB0aGlzLmRhdGEuYXVkaW9Cb29zdGVyKSwgQS5BLmxvZygiYXVkaW9Cb29zdGVyIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKSwgdGhpcy5vbkNoYW5nZUF1ZGlvQm9vc3Rlci5kaXNwYXRjaChkKTsKCQkJCQkJCX0pLCB0aGlzLnN5bmNWb2x1bWVDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5zeW5jVm9sdW1lID0gZCwgYXdhaXQgRi5kLnNldCgic3luY1ZvbHVtZSIsIHRoaXMuZGF0YS5zeW5jVm9sdW1lKSwgQS5BLmxvZygic3luY1ZvbHVtZSB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCk7CgkJCQkJCQl9KSwgdGhpcy5kb3dubG9hZFdpdGhOYW1lQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLmRhdGEuZG93bmxvYWRXaXRoTmFtZSA9IGQsIGF3YWl0IEYuZC5zZXQoImRvd25sb2FkV2l0aE5hbWUiLCB0aGlzLmRhdGEuZG93bmxvYWRXaXRoTmFtZSksIEEuQS5sb2coImRvd25sb2FkV2l0aE5hbWUgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpOwoJCQkJCQkJfSksIHRoaXMuc2VuZE5vdGlmeU9uQ29tcGxldGVDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5zZW5kTm90aWZ5T25Db21wbGV0ZSA9IGQsIGF3YWl0IEYuZC5zZXQoInNlbmROb3RpZnlPbkNvbXBsZXRlIiwgdGhpcy5kYXRhLnNlbmROb3RpZnlPbkNvbXBsZXRlKSwgQS5BLmxvZygic2VuZE5vdGlmeU9uQ29tcGxldGUgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpOwoJCQkJCQkJfSksIHRoaXMudXNlTGl2ZWx5Vm9pY2VDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS51c2VMaXZlbHlWb2ljZSA9IGQsIGF3YWl0IEYuZC5zZXQoInVzZUxpdmVseVZvaWNlIiwgdGhpcy5kYXRhLnVzZUxpdmVseVZvaWNlKSwgQS5BLmxvZygidXNlTGl2ZWx5Vm9pY2UgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpLCB0aGlzLm9uQ2hhbmdlVXNlTGl2ZWx5Vm9pY2UuZGlzcGF0Y2goZCk7CgkJCQkJCQl9KSwgdGhpcy51c2VBdWRpb0Rvd25sb2FkQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLmRhdGEudXNlQXVkaW9Eb3dubG9hZCA9IGQsIGF3YWl0IEYuZC5zZXQoInVzZUF1ZGlvRG93bmxvYWQiLCB0aGlzLmRhdGEudXNlQXVkaW9Eb3dubG9hZCksIEEuQS5sb2coInVzZUF1ZGlvRG93bmxvYWQgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpOwoJCQkJCQkJfSksIHRoaXMuc3VidGl0bGVzRG93bmxvYWRGb3JtYXRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0SXRlbSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLnN1YnRpdGxlc0Rvd25sb2FkRm9ybWF0ID0gZCwgYXdhaXQgRi5kLnNldCgic3VidGl0bGVzRG93bmxvYWRGb3JtYXQiLCB0aGlzLmRhdGEuc3VidGl0bGVzRG93bmxvYWRGb3JtYXQpLCBBLkEubG9nKCJzdWJ0aXRsZXNEb3dubG9hZEZvcm1hdCB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCk7CgkJCQkJCQl9KSwgdGhpcy5zdWJ0aXRsZXNEZXNpZ25EZXRhaWxzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCWxldCBkID0gbmV3IEouQSh7CgkJCQkJCQkJCXRpdGxlSHRtbDogRS5qLmdldCgiVk9UU3VidGl0bGVzRGVzaWduIiksCgkJCQkJCQkJCWlzVGVtcDogITAKCQkJCQkJCQl9KTsKCQkJCQkJCQl0aGlzLmdsb2JhbFBvcnRhbC5hcHBlbmRDaGlsZChkLmNvbnRhaW5lcik7CgkJCQkJCQkJbGV0IGYgPSBuZXcgSy5BKHsKCQkJCQkJCQkJbGFiZWxIdG1sOiBFLmouZ2V0KCJWT1RIaWdobGlnaHRXb3JkcyIpLAoJCQkJCQkJCQljaGVja2VkOiB0aGlzLmRhdGEuaGlnaGxpZ2h0V29yZHMKCQkJCQkJCQl9KSwgcCA9IHRoaXMuZGF0YS5zdWJ0aXRsZXNNYXhMZW5ndGggPz8gMzAwLCBtID0gbmV3IGVlLkEoewoJCQkJCQkJCQlsYWJlbFRleHQ6IEUuai5nZXQoIlZPVFN1YnRpdGxlc01heExlbmd0aCIpLAoJCQkJCQkJCQlsYWJlbEVPTDogIjoiLAoJCQkJCQkJCQlzeW1ib2w6ICIiLAoJCQkJCQkJCQl2YWx1ZTogcAoJCQkJCQkJCX0pLCBoID0gbmV3IFEuQSh7CgkJCQkJCQkJCWxhYmVsSHRtbDogbS5jb250YWluZXIsCgkJCQkJCQkJCXZhbHVlOiBwLAoJCQkJCQkJCQltaW46IDUwLAoJCQkJCQkJCQltYXg6IDMwMAoJCQkJCQkJCX0pLCBnID0gdGhpcy5kYXRhLnN1YnRpdGxlc0ZvbnRTaXplID8/IDIwLCBfID0gbmV3IGVlLkEoewoJCQkJCQkJCQlsYWJlbFRleHQ6IEUuai5nZXQoIlZPVFN1YnRpdGxlc0ZvbnRTaXplIiksCgkJCQkJCQkJCWxhYmVsRU9MOiAiOiIsCgkJCQkJCQkJCXN5bWJvbDogInB4IiwKCQkJCQkJCQkJdmFsdWU6IGcKCQkJCQkJCQl9KSwgdiA9IG5ldyBRLkEoewoJCQkJCQkJCQlsYWJlbEh0bWw6IF8uY29udGFpbmVyLAoJCQkJCQkJCQl2YWx1ZTogZywKCQkJCQkJCQkJbWluOiA4LAoJCQkJCQkJCQltYXg6IDUwCgkJCQkJCQkJfSksIGIgPSB0aGlzLmRhdGEuc3VidGl0bGVzT3BhY2l0eSA/PyAyMCwgeCA9IG5ldyBlZS5BKHsKCQkJCQkJCQkJbGFiZWxUZXh0OiBFLmouZ2V0KCJWT1RTdWJ0aXRsZXNPcGFjaXR5IiksCgkJCQkJCQkJCWxhYmVsRU9MOiAiOiIsCgkJCQkJCQkJCXZhbHVlOiBiCgkJCQkJCQkJfSksIEMgPSBuZXcgUS5BKHsKCQkJCQkJCQkJbGFiZWxIdG1sOiB4LmNvbnRhaW5lciwKCQkJCQkJCQkJdmFsdWU6IGIKCQkJCQkJCQl9KTsKCQkJCQkJCQlkLmJvZHlDb250YWluZXIuYXBwZW5kKGYuY29udGFpbmVyLCBoLmNvbnRhaW5lciwgdi5jb250YWluZXIsIEMuY29udGFpbmVyKSwgZi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCQl0aGlzLmRhdGEuaGlnaGxpZ2h0V29yZHMgPSBkLCBhd2FpdCBGLmQuc2V0KCJoaWdobGlnaHRXb3JkcyIsIHRoaXMuZGF0YS5oaWdobGlnaHRXb3JkcyksIEEuQS5sb2coImhpZ2hsaWdodFdvcmRzIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKSwgdGhpcy5vbkNoYW5nZVN1YnRpdGxlc0hpZ2hsaWdodFdvcmRzLmRpc3BhdGNoKGQpOwoJCQkJCQkJCX0pLCBoLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGQpID0+IHsKCQkJCQkJCQkJbS52YWx1ZSA9IGQsIHRoaXMuZGF0YS5zdWJ0aXRsZXNNYXhMZW5ndGggPSBkLCBGLmQuc2V0KCJzdWJ0aXRsZXNNYXhMZW5ndGgiLCB0aGlzLmRhdGEuc3VidGl0bGVzTWF4TGVuZ3RoKSwgQS5BLmxvZygiaGlnaGxpZ2h0V29yZHMgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpLCB0aGlzLm9uSW5wdXRTdWJ0aXRsZXNNYXhMZW5ndGguZGlzcGF0Y2goZCk7CgkJCQkJCQkJfSksIHYuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoZCkgPT4gewoJCQkJCQkJCQlfLnZhbHVlID0gZCwgdGhpcy5kYXRhLnN1YnRpdGxlc0ZvbnRTaXplID0gZCwgRi5kLnNldCgic3VidGl0bGVzRm9udFNpemUiLCB0aGlzLmRhdGEuc3VidGl0bGVzRm9udFNpemUpLCBBLkEubG9nKCJzdWJ0aXRsZXNGb250U2l6ZSB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCksIHRoaXMub25JbnB1dFN1YnRpdGxlc0ZvbnRTaXplLmRpc3BhdGNoKGQpOwoJCQkJCQkJCX0pLCBDLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGQpID0+IHsKCQkJCQkJCQkJeC52YWx1ZSA9IGQsIHRoaXMuZGF0YS5zdWJ0aXRsZXNPcGFjaXR5ID0gZCwgRi5kLnNldCgic3VidGl0bGVzT3BhY2l0eSIsIHRoaXMuZGF0YS5zdWJ0aXRsZXNPcGFjaXR5KSwgQS5BLmxvZygic3VidGl0bGVzT3BhY2l0eSB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCksIHRoaXMub25JbnB1dFN1YnRpdGxlc0JhY2tncm91bmRPcGFjaXR5LmRpc3BhdGNoKGQpOwoJCQkJCQkJCX0pOwoJCQkJCQkJfSksIHRoaXMudHJhbnNsYXRlSG90a2V5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLnRyYW5zbGF0aW9uSG90a2V5ID0gZCwgYXdhaXQgRi5kLnNldCgidHJhbnNsYXRpb25Ib3RrZXkiLCB0aGlzLmRhdGEudHJhbnNsYXRpb25Ib3RrZXkpLCBBLkEubG9nKCJ0cmFuc2xhdGlvbkhvdGtleSB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCk7CgkJCQkJCQl9KSwgdGhpcy5wcm94eU0zVThIb3N0VGV4dGZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLm0zdThQcm94eUhvc3QgPSBkIHx8IHcuc2UsIGF3YWl0IEYuZC5zZXQoIm0zdThQcm94eUhvc3QiLCB0aGlzLmRhdGEubTN1OFByb3h5SG9zdCksIEEuQS5sb2coIm0zdThQcm94eUhvc3QgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIHRoaXMuZGF0YS5tM3U4UHJveHlIb3N0KTsKCQkJCQkJCX0pLCB0aGlzLnByb3h5V29ya2VySG9zdFRleHRmaWVsZC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5wcm94eVdvcmtlckhvc3QgPSBkIHx8IHcuUG0sIGF3YWl0IEYuZC5zZXQoInByb3h5V29ya2VySG9zdCIsIHRoaXMuZGF0YS5wcm94eVdvcmtlckhvc3QpLCBBLkEubG9nKCJwcm94eVdvcmtlckhvc3QgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIHRoaXMuZGF0YS5wcm94eVdvcmtlckhvc3QpLCB0aGlzLm9uQ2hhbmdlUHJveHlXb3JrZXJIb3N0LmRpc3BhdGNoKGQpOwoJCQkJCQkJfSksIHRoaXMucHJveHlUcmFuc2xhdGlvblN0YXR1c1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RJdGVtIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkID0gTnVtYmVyLnBhcnNlSW50KGQpLCBhd2FpdCBGLmQuc2V0KCJ0cmFuc2xhdGVQcm94eUVuYWJsZWQiLCB0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkKSwgYXdhaXQgRi5kLnNldCgidHJhbnNsYXRlUHJveHlFbmFibGVkRGVmYXVsdCIsICExKSwgQS5BLmxvZygidHJhbnNsYXRlUHJveHlFbmFibGVkIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCB0aGlzLmRhdGEudHJhbnNsYXRlUHJveHlFbmFibGVkKSwgdGhpcy5vblNlbGVjdEl0ZW1Qcm94eVRyYW5zbGF0aW9uU3RhdHVzLmRpc3BhdGNoKGQpOwoJCQkJCQkJfSksIHRoaXMudHJhbnNsYXRlQVBJRXJyb3JzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQl0aGlzLmRhdGEudHJhbnNsYXRlQVBJRXJyb3JzID0gZCwgYXdhaXQgRi5kLnNldCgidHJhbnNsYXRlQVBJRXJyb3JzIiwgdGhpcy5kYXRhLnRyYW5zbGF0ZUFQSUVycm9ycyksIEEuQS5sb2coInRyYW5zbGF0ZUFQSUVycm9ycyB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCk7CgkJCQkJCQl9KSwgdGhpcy51c2VOZXdBdWRpb1BsYXllckNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLm5ld0F1ZGlvUGxheWVyID0gZCwgYXdhaXQgRi5kLnNldCgibmV3QXVkaW9QbGF5ZXIiLCB0aGlzLmRhdGEubmV3QXVkaW9QbGF5ZXIpLCBBLkEubG9nKCJuZXdBdWRpb1BsYXllciB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCksIHRoaXMub25seUJ5cGFzc01lZGlhQ1NQQ2hlY2tib3guZGlzYWJsZWQgPSB0aGlzLm9ubHlCeXBhc3NNZWRpYUNTUENoZWNrYm94LmhpZGRlbiA9ICFkLCB0aGlzLm9uQ2hhbmdlVXNlTmV3QXVkaW9QbGF5ZXIuZGlzcGF0Y2goZCk7CgkJCQkJCQl9KSwgdGhpcy5vbmx5QnlwYXNzTWVkaWFDU1BDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5vbmx5QnlwYXNzTWVkaWFDU1AgPSBkLCBhd2FpdCBGLmQuc2V0KCJvbmx5QnlwYXNzTWVkaWFDU1AiLCB0aGlzLmRhdGEub25seUJ5cGFzc01lZGlhQ1NQKSwgQS5BLmxvZygib25seUJ5cGFzc01lZGlhQ1NQIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKSwgdGhpcy5vbkNoYW5nZU9ubHlCeXBhc3NNZWRpYUNTUC5kaXNwYXRjaChkKTsKCQkJCQkJCX0pLCB0aGlzLnRyYW5zbGF0aW9uVGV4dFNlcnZpY2VTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0SXRlbSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJdGhpcy5kYXRhLnRyYW5zbGF0aW9uU2VydmljZSA9IGQsIGF3YWl0IEYuZC5zZXQoInRyYW5zbGF0aW9uU2VydmljZSIsIHRoaXMuZGF0YS50cmFuc2xhdGlvblNlcnZpY2UpLCBBLkEubG9nKCJ0cmFuc2xhdGlvblNlcnZpY2UgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpLCB0aGlzLm9uU2VsZWN0SXRlbVRyYW5zbGF0aW9uVGV4dFNlcnZpY2UuZGlzcGF0Y2goZCk7CgkJCQkJCQl9KSwgdGhpcy5kZXRlY3RTZXJ2aWNlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdEl0ZW0iLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCXRoaXMuZGF0YS5kZXRlY3RTZXJ2aWNlID0gZCwgYXdhaXQgRi5kLnNldCgiZGV0ZWN0U2VydmljZSIsIHRoaXMuZGF0YS5kZXRlY3RTZXJ2aWNlKSwgQS5BLmxvZygiZGV0ZWN0U2VydmljZSB2YWx1ZSBjaGFuZ2VkLiBOZXcgdmFsdWU6IiwgZCk7CgkJCQkJCQl9KSwgdGhpcy5hcHBlYXJhbmNlRGV0YWlscy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKCQkJCQkJCQlsZXQgZCA9IG5ldyBKLkEoewoJCQkJCQkJCQl0aXRsZUh0bWw6IEUuai5nZXQoImFwcGVhcmFuY2UiKSwKCQkJCQkJCQkJaXNUZW1wOiAhMAoJCQkJCQkJCX0pOwoJCQkJCQkJCXRoaXMuZ2xvYmFsUG9ydGFsLmFwcGVuZENoaWxkKGQuY29udGFpbmVyKTsKCQkJCQkJCQlsZXQgZiA9IG5ldyBLLkEoewoJCQkJCQkJCQlsYWJlbEh0bWw6IEUuai5nZXQoIlZPVFNob3dQaVBCdXR0b24iKSwKCQkJCQkJCQkJY2hlY2tlZDogdGhpcy5kYXRhLnNob3dQaVBCdXR0b24KCQkJCQkJCQl9KTsKCQkJCQkJCQlmLmhpZGRlbiA9ICEoMCwgVy5CcykoKTsKCQkJCQkJCQlsZXQgcCA9ICh0aGlzLmRhdGEuYXV0b0hpZGVCdXR0b25EZWxheSA/PyB3LnFVKSAvIDFlMywgbSA9IG5ldyBlZS5BKHsKCQkJCQkJCQkJbGFiZWxUZXh0OiBFLmouZ2V0KCJhdXRvSGlkZUJ1dHRvbkRlbGF5IiksCgkJCQkJCQkJCWxhYmVsRU9MOiAiOiIsCgkJCQkJCQkJCXN5bWJvbDogYCAke0Uuai5nZXQoInNlY3MiKX1gLAoJCQkJCQkJCQl2YWx1ZTogcAoJCQkJCQkJCX0pLCBoID0gbmV3IFEuQSh7CgkJCQkJCQkJCWxhYmVsSHRtbDogbS5jb250YWluZXIsCgkJCQkJCQkJCXZhbHVlOiBwLAoJCQkJCQkJCQltaW46IC4xLAoJCQkJCQkJCQltYXg6IDMsCgkJCQkJCQkJCXN0ZXA6IC4xCgkJCQkJCQkJfSksIGcgPSBuZXcgWC5BKHsKCQkJCQkJCQkJbGFiZWxUZXh0OiBFLmouZ2V0KCJidXR0b25Qb3NpdGlvbkluV2lkZVBsYXllciIpLAoJCQkJCQkJCQlpY29uOiBuZS53MgoJCQkJCQkJCX0pLCBfID0gbmV3IFouQSh7CgkJCQkJCQkJCXNlbGVjdFRpdGxlOiBFLmouZ2V0KCJidXR0b25Qb3NpdGlvbkluV2lkZVBsYXllciIpLAoJCQkJCQkJCQlkaWFsb2dUaXRsZTogRS5qLmdldCgiYnV0dG9uUG9zaXRpb25JbldpZGVQbGF5ZXIiKSwKCQkJCQkJCQkJbGFiZWxFbGVtZW50OiBnLmNvbnRhaW5lciwKCQkJCQkJCQkJZGlhbG9nUGFyZW50OiB0aGlzLmdsb2JhbFBvcnRhbCwKCQkJCQkJCQkJaXRlbXM6IEQuWC5tYXAoKGQpID0+ICh7CgkJCQkJCQkJCQlsYWJlbDogRS5qLmdldChgcG9zaXRpb24uJHtkfWApLAoJCQkJCQkJCQkJdmFsdWU6IGQsCgkJCQkJCQkJCQlzZWxlY3RlZDogZCA9PT0gdGhpcy5kYXRhLmJ1dHRvblBvcwoJCQkJCQkJCQl9KSkKCQkJCQkJCQl9KSwgdiA9IG5ldyAkLkEoewoJCQkJCQkJCQl0YXJnZXQ6IGcuaWNvbiwKCQkJCQkJCQkJY29udGVudDogRS5qLmdldCgibWluQnV0dG9uUG9zaXRpb25Db250YWluZXIiKSwKCQkJCQkJCQkJcG9zaXRpb246ICJib3R0b20iLAoJCQkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ2YXIoLS12b3QtaGVscGVyLW9uZGlhbG9nKSIsCgkJCQkJCQkJCXBhcmVudEVsZW1lbnQ6IHRoaXMuZ2xvYmFsUG9ydGFsCgkJCQkJCQkJfSksIGIgPSBuZXcgWC5BKHsgbGFiZWxUZXh0OiBFLmouZ2V0KCJWT1RNZW51TGFuZ3VhZ2UiKSB9KSwgeCA9IG5ldyBaLkEoewoJCQkJCQkJCQlzZWxlY3RUaXRsZTogRS5qLmdldChgbGFuZ3MuJHtFLmoubGFuZ092ZXJyaWRlfWApLAoJCQkJCQkJCQlkaWFsb2dUaXRsZTogRS5qLmdldCgiVk9UTWVudUxhbmd1YWdlIiksCgkJCQkJCQkJCWxhYmVsRWxlbWVudDogYi5jb250YWluZXIsCgkJCQkJCQkJCWRpYWxvZ1BhcmVudDogdGhpcy5nbG9iYWxQb3J0YWwsCgkJCQkJCQkJCWl0ZW1zOiBaLkEuZ2VuTGFuZ3VhZ2VJdGVtcyhFLmouZ2V0QXZhaWxhYmxlTGFuZ3MoKSwgRS5qLmxhbmdPdmVycmlkZSkKCQkJCQkJCQl9KTsKCQkJCQkJCQlkLmJvZHlDb250YWluZXIuYXBwZW5kKGYuY29udGFpbmVyLCBoLmNvbnRhaW5lciwgXy5jb250YWluZXIsIHguY29udGFpbmVyKSwgZC5hZGRFdmVudExpc3RlbmVyKCJjbG9zZSIsICgpID0+IHsKCQkJCQkJCQkJdi5yZWxlYXNlKCk7CgkJCQkJCQkJfSksIGYuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYXN5bmMgKGQpID0+IHsKCQkJCQkJCQkJdGhpcy5kYXRhLnNob3dQaVBCdXR0b24gPSBkLCBhd2FpdCBGLmQuc2V0KCJzaG93UGlQQnV0dG9uIiwgdGhpcy5kYXRhLnNob3dQaVBCdXR0b24pLCBBLkEubG9nKCJzaG93UGlQQnV0dG9uIHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBkKSwgdGhpcy5vbkNoYW5nZVNob3dQaVBCdXR0b24uZGlzcGF0Y2goZCk7CgkJCQkJCQkJfSksIGguYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCQltLnZhbHVlID0gZDsKCQkJCQkJCQkJbGV0IGYgPSBNYXRoLnJvdW5kKGQgKiAxZTMpOwoJCQkJCQkJCQlBLkEubG9nKCJhdXRvSGlkZUJ1dHRvbkRlbGF5IHZhbHVlIGNoYW5nZWQuIE5ldyB2YWx1ZToiLCBmKSwgdGhpcy5kYXRhLmF1dG9IaWRlQnV0dG9uRGVsYXkgPSBmLCBhd2FpdCBGLmQuc2V0KCJhdXRvSGlkZUJ1dHRvbkRlbGF5IiwgdGhpcy5kYXRhLmF1dG9IaWRlQnV0dG9uRGVsYXkpLCB0aGlzLm9uSW5wdXRBdXRvSGlkZUJ1dHRvbkRlbGF5LmRpc3BhdGNoKGQpOwoJCQkJCQkJCX0pLCBfLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdEl0ZW0iLCBhc3luYyAoZCkgPT4gewoJCQkJCQkJCQlBLkEubG9nKCJidXR0b25Qb3MgdmFsdWUgY2hhbmdlZC4gTmV3IHZhbHVlOiIsIGQpLCB0aGlzLmRhdGEuYnV0dG9uUG9zID0gZCwgYXdhaXQgRi5kLnNldCgiYnV0dG9uUG9zIiwgdGhpcy5kYXRhLmJ1dHRvblBvcyksIHRoaXMub25TZWxlY3RJdGVtQnV0dG9uUG9zaXRpb24uZGlzcGF0Y2goZCk7CgkJCQkJCQkJfSksIHguYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0SXRlbSIsIGFzeW5jIChkKSA9PiB7CgkJCQkJCQkJCWxldCBmID0gYXdhaXQgRS5qLmNoYW5nZUxhbmcoZCk7CgkJCQkJCQkJCWYgJiYgKHRoaXMuZGF0YS5sb2NhbGVVcGRhdGVkQXQgPSBhd2FpdCBGLmQuZ2V0KCJsb2NhbGVVcGRhdGVkQXQiLCAwKSwgdGhpcy5vblNlbGVjdEl0ZW1NZW51TGFuZ3VhZ2UuZGlzcGF0Y2goZCkpOwoJCQkJCQkJCX0pOwoJCQkJCQkJfSksIHRoaXMuYWJvdXRFeHRlbnNpb25EZXRhaWxzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCWxldCBkID0gbmV3IEouQSh7CgkJCQkJCQkJCXRpdGxlSHRtbDogRS5qLmdldCgiYWJvdXRFeHRlbnNpb24iKSwKCQkJCQkJCQkJaXNUZW1wOiAhMAoJCQkJCQkJCX0pOwoJCQkJCQkJCXRoaXMuZ2xvYmFsUG9ydGFsLmFwcGVuZENoaWxkKGQuY29udGFpbmVyKTsKCQkJCQkJCQlsZXQgZiA9IE8uQS5jcmVhdGVJbmZvcm1hdGlvbihgJHtFLmouZ2V0KCJWT1RWZXJzaW9uIil9OmAsIEdNX2luZm8uc2NyaXB0LnZlcnNpb24gfHwgRS5qLmdldCgibm90Rm91bmQiKSksIHAgPSBPLkEuY3JlYXRlSW5mb3JtYXRpb24oYCR7RS5qLmdldCgiVk9UQXV0aG9ycyIpfTpgLCBHTV9pbmZvLnNjcmlwdC5hdXRob3IgPz8gRS5qLmdldCgibm90Rm91bmQiKSksIG0gPSBPLkEuY3JlYXRlSW5mb3JtYXRpb24oYCR7RS5qLmdldCgiVk9UTG9hZGVyIil9OmAsIGAke0dNX2luZm8uc2NyaXB0SGFuZGxlcn0gdiR7R01faW5mby52ZXJzaW9ufWApLCBoID0gTy5BLmNyZWF0ZUluZm9ybWF0aW9uKGAke0Uuai5nZXQoIlZPVEJyb3dzZXIiKX06YCwgYCR7Vy5SNS5icm93c2VyLm5hbWV9ICR7Vy5SNS5icm93c2VyLnZlcnNpb259ICgke1cuUjUub3MubmFtZX0gJHtXLlI1Lm9zLnZlcnNpb259KWApLCBnID0gbmV3IERhdGUoKHRoaXMuZGF0YS5sb2NhbGVVcGRhdGVkQXQgPz8gMCkgKiAxZTMpLnRvTG9jYWxlU3RyaW5nKCksIF8gPSAoMCwgdi5xeSlgJHt0aGlzLmRhdGEubG9jYWxlSGFzaH08YnIgLz4oJHtFLmouZ2V0KCJWT1RVcGRhdGVkQXQiKX0KICAgICAgICAke2d9KWAsIGIgPSBPLkEuY3JlYXRlSW5mb3JtYXRpb24oYCR7RS5qLmdldCgiVk9UTG9jYWxlSGFzaCIpfTpgLCBfKSwgeCA9IE8uQS5jcmVhdGVPdXRsaW5lZEJ1dHRvbihFLmouZ2V0KCJWT1RVcGRhdGVMb2NhbGVGaWxlcyIpKTsKCQkJCQkJCQlkLmJvZHlDb250YWluZXIuYXBwZW5kKGYuY29udGFpbmVyLCBwLmNvbnRhaW5lciwgbS5jb250YWluZXIsIGguY29udGFpbmVyLCBiLmNvbnRhaW5lciwgeCksIHguYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoKSA9PiB7CgkJCQkJCQkJCWF3YWl0IEYuZC5zZXQoImxvY2FsZUhhc2giLCAiIiksIGF3YWl0IEUuai51cGRhdGUoITApLCB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgkJCQkJCQkJfSk7CgkJCQkJCQl9KSwgdGhpcy5idWdSZXBvcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CgkJCQkJCQkJdGhpcy5vbkNsaWNrQnVnUmVwb3J0LmRpc3BhdGNoKCk7CgkJCQkJCQl9KSwgdGhpcy5yZXNldFNldHRpbmdzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewoJCQkJCQkJCXRoaXMub25DbGlja1Jlc2V0U2V0dGluZ3MuZGlzcGF0Y2goKTsKCQkJCQkJCX0pLCB0aGlzOwoJCQkJCQl9CgkJCQkJCWluaXREZWJ1Z1VJKCkgewoJCQkJCQkJcmV0dXJuIHRoaXM7CgkJCQkJCX0KCQkJCQkJYWRkRXZlbnRMaXN0ZW5lcihkLCBmKSB7CgkJCQkJCQlzd2l0Y2ggKGQpIHsKCQkJCQkJCQljYXNlICJjbGljazpidWdSZXBvcnQiOgoJCQkJCQkJCQl0aGlzLm9uQ2xpY2tCdWdSZXBvcnQuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNsaWNrOnJlc2V0U2V0dGluZ3MiOgoJCQkJCQkJCQl0aGlzLm9uQ2xpY2tSZXNldFNldHRpbmdzLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ1cGRhdGU6YWNjb3VudCI6CgkJCQkJCQkJCXRoaXMub25VcGRhdGVBY2NvdW50LmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6YXV0b1RyYW5zbGF0ZSI6CgkJCQkJCQkJCXRoaXMub25DaGFuZ2VBdXRvVHJhbnNsYXRlLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6c2hvd1ZpZGVvVm9sdW1lIjoKCQkJCQkJCQkJdGhpcy5vbkNoYW5nZVNob3dWaWRlb1ZvbHVtZS5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2hhbmdlOmF1ZGlvQnVzdGVyIjoKCQkJCQkJCQkJdGhpcy5vbkNoYW5nZUF1ZGlvQm9vc3Rlci5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2hhbmdlOnVzZUxpdmVseVZvaWNlIjoKCQkJCQkJCQkJdGhpcy5vbkNoYW5nZVVzZUxpdmVseVZvaWNlLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6c3VidGl0bGVzSGlnaGxpZ2h0V29yZHMiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlU3VidGl0bGVzSGlnaGxpZ2h0V29yZHMuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTpwcm94eVdvcmtlckhvc3QiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlUHJveHlXb3JrZXJIb3N0LmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6dXNlTmV3QXVkaW9QbGF5ZXIiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlVXNlTmV3QXVkaW9QbGF5ZXIuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTpvbmx5QnlwYXNzTWVkaWFDU1AiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlT25seUJ5cGFzc01lZGlhQ1NQLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6c2hvd1BpUEJ1dHRvbiI6CgkJCQkJCQkJCXRoaXMub25DaGFuZ2VTaG93UGlQQnV0dG9uLmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJpbnB1dDpzdWJ0aXRsZXNNYXhMZW5ndGgiOgoJCQkJCQkJCQl0aGlzLm9uSW5wdXRTdWJ0aXRsZXNNYXhMZW5ndGguYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImlucHV0OnN1YnRpdGxlc0ZvbnRTaXplIjoKCQkJCQkJCQkJdGhpcy5vbklucHV0U3VidGl0bGVzRm9udFNpemUuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImlucHV0OnN1YnRpdGxlc0JhY2tncm91bmRPcGFjaXR5IjoKCQkJCQkJCQkJdGhpcy5vbklucHV0U3VidGl0bGVzQmFja2dyb3VuZE9wYWNpdHkuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImlucHV0OmF1dG9IaWRlQnV0dG9uRGVsYXkiOgoJCQkJCQkJCQl0aGlzLm9uSW5wdXRBdXRvSGlkZUJ1dHRvbkRlbGF5LmFkZExpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJzZWxlY3Q6cHJveHlUcmFuc2xhdGlvblN0YXR1cyI6CgkJCQkJCQkJCXRoaXMub25TZWxlY3RJdGVtUHJveHlUcmFuc2xhdGlvblN0YXR1cy5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAic2VsZWN0OnRyYW5zbGF0aW9uVGV4dFNlcnZpY2UiOgoJCQkJCQkJCQl0aGlzLm9uU2VsZWN0SXRlbVRyYW5zbGF0aW9uVGV4dFNlcnZpY2UuYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInNlbGVjdDpidXR0b25Qb3NpdGlvbiI6CgkJCQkJCQkJCXRoaXMub25TZWxlY3RJdGVtQnV0dG9uUG9zaXRpb24uYWRkTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInNlbGVjdDptZW51TGFuZ3VhZ2UiOgoJCQkJCQkJCQl0aGlzLm9uU2VsZWN0SXRlbU1lbnVMYW5ndWFnZS5hZGRMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdGhpczsKCQkJCQkJfQoJCQkJCQlyZW1vdmVFdmVudExpc3RlbmVyKGQsIGYpIHsKCQkJCQkJCXN3aXRjaCAoZCkgewoJCQkJCQkJCWNhc2UgImNsaWNrOmJ1Z1JlcG9ydCI6CgkJCQkJCQkJCXRoaXMub25DbGlja0J1Z1JlcG9ydC5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2xpY2s6cmVzZXRTZXR0aW5ncyI6CgkJCQkJCQkJCXRoaXMub25DbGlja1Jlc2V0U2V0dGluZ3MucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInVwZGF0ZTphY2NvdW50IjoKCQkJCQkJCQkJdGhpcy5vblVwZGF0ZUFjY291bnQucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTphdXRvVHJhbnNsYXRlIjoKCQkJCQkJCQkJdGhpcy5vbkNoYW5nZUF1dG9UcmFuc2xhdGUucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTpzaG93VmlkZW9Wb2x1bWUiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlU2hvd1ZpZGVvVm9sdW1lLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6YXVkaW9CdXN0ZXIiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlQXVkaW9Cb29zdGVyLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJjaGFuZ2U6dXNlTGl2ZWx5Vm9pY2UiOgoJCQkJCQkJCQl0aGlzLm9uQ2hhbmdlVXNlTGl2ZWx5Vm9pY2UucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTpzdWJ0aXRsZXNIaWdobGlnaHRXb3JkcyI6CgkJCQkJCQkJCXRoaXMub25DaGFuZ2VTdWJ0aXRsZXNIaWdobGlnaHRXb3Jkcy5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2hhbmdlOnByb3h5V29ya2VySG9zdCI6CgkJCQkJCQkJCXRoaXMub25DaGFuZ2VQcm94eVdvcmtlckhvc3QucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTp1c2VOZXdBdWRpb1BsYXllciI6CgkJCQkJCQkJCXRoaXMub25DaGFuZ2VVc2VOZXdBdWRpb1BsYXllci5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiY2hhbmdlOm9ubHlCeXBhc3NNZWRpYUNTUCI6CgkJCQkJCQkJCXRoaXMub25DaGFuZ2VPbmx5QnlwYXNzTWVkaWFDU1AucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImNoYW5nZTpzaG93UGlQQnV0dG9uIjoKCQkJCQkJCQkJdGhpcy5vbkNoYW5nZVNob3dQaVBCdXR0b24ucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgImlucHV0OnN1YnRpdGxlc01heExlbmd0aCI6CgkJCQkJCQkJCXRoaXMub25JbnB1dFN1YnRpdGxlc01heExlbmd0aC5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiaW5wdXQ6c3VidGl0bGVzRm9udFNpemUiOgoJCQkJCQkJCQl0aGlzLm9uSW5wdXRTdWJ0aXRsZXNGb250U2l6ZS5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiaW5wdXQ6c3VidGl0bGVzQmFja2dyb3VuZE9wYWNpdHkiOgoJCQkJCQkJCQl0aGlzLm9uSW5wdXRTdWJ0aXRsZXNCYWNrZ3JvdW5kT3BhY2l0eS5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAiaW5wdXQ6YXV0b0hpZGVCdXR0b25EZWxheSI6CgkJCQkJCQkJCXRoaXMub25JbnB1dEF1dG9IaWRlQnV0dG9uRGVsYXkucmVtb3ZlTGlzdGVuZXIoZik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInNlbGVjdDpwcm94eVRyYW5zbGF0aW9uU3RhdHVzIjoKCQkJCQkJCQkJdGhpcy5vblNlbGVjdEl0ZW1Qcm94eVRyYW5zbGF0aW9uU3RhdHVzLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJzZWxlY3Q6dHJhbnNsYXRpb25UZXh0U2VydmljZSI6CgkJCQkJCQkJCXRoaXMub25TZWxlY3RJdGVtVHJhbnNsYXRpb25UZXh0U2VydmljZS5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAic2VsZWN0OmJ1dHRvblBvc2l0aW9uIjoKCQkJCQkJCQkJdGhpcy5vblNlbGVjdEl0ZW1CdXR0b25Qb3NpdGlvbi5yZW1vdmVMaXN0ZW5lcihmKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAic2VsZWN0Om1lbnVMYW5ndWFnZSI6CgkJCQkJCQkJCXRoaXMub25TZWxlY3RJdGVtTWVudUxhbmd1YWdlLnJlbW92ZUxpc3RlbmVyKGYpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJCXJldHVybiB0aGlzOwoJCQkJCQl9CgkJCQkJCXJlbGVhc2VVSShkID0gITEpIHsKCQkJCQkJCWlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBTZXR0aW5nc1ZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCXJldHVybiB0aGlzLmRpYWxvZy5yZW1vdmUoKSwgdGhpcy5hY2NvdW50QnV0dG9uUmVmcmVzaFRvb2x0aXA/LnJlbGVhc2UoKSwgdGhpcy5hY2NvdW50QnV0dG9uVG9rZW5Ub29sdGlwPy5yZWxlYXNlKCksIHRoaXMuYXVkaW9Cb29zdGVyVG9vbHRpcD8ucmVsZWFzZSgpLCB0aGlzLnVzZUF1ZGlvRG93bmxvYWRDaGVja2JveFRvb2x0aXA/LnJlbGVhc2UoKSwgdGhpcy51c2VOZXdBdWRpb1BsYXllclRvb2x0aXA/LnJlbGVhc2UoKSwgdGhpcy5vbmx5QnlwYXNzTWVkaWFDU1BUb29sdGlwPy5yZWxlYXNlKCksIHRoaXMudHJhbnNsYXRpb25UZXh0U2VydmljZVRvb2x0aXA/LnJlbGVhc2UoKSwgdGhpcy5wcm94eVRyYW5zbGF0aW9uU3RhdHVzU2VsZWN0VG9vbHRpcD8ucmVsZWFzZSgpLCB0aGlzLmluaXRpYWxpemVkID0gZCwgdGhpczsKCQkJCQkJfQoJCQkJCQlyZWxlYXNlVUlFdmVudHMoZCA9ICExKSB7CgkJCQkJCQlpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gU2V0dGluZ3NWaWV3IGlzbid0IGluaXRpYWxpemVkIik7CgkJCQkJCQlyZXR1cm4gdGhpcy5vbkNsaWNrQnVnUmVwb3J0LmNsZWFyKCksIHRoaXMub25DbGlja1Jlc2V0U2V0dGluZ3MuY2xlYXIoKSwgdGhpcy5vblVwZGF0ZUFjY291bnQuY2xlYXIoKSwgdGhpcy5vbkNoYW5nZUF1dG9UcmFuc2xhdGUuY2xlYXIoKSwgdGhpcy5vbkNoYW5nZVNob3dWaWRlb1ZvbHVtZS5jbGVhcigpLCB0aGlzLm9uQ2hhbmdlQXVkaW9Cb29zdGVyLmNsZWFyKCksIHRoaXMub25DaGFuZ2VVc2VMaXZlbHlWb2ljZS5jbGVhcigpLCB0aGlzLm9uQ2hhbmdlU3VidGl0bGVzSGlnaGxpZ2h0V29yZHMuY2xlYXIoKSwgdGhpcy5vbkNoYW5nZVByb3h5V29ya2VySG9zdC5jbGVhcigpLCB0aGlzLm9uQ2hhbmdlVXNlTmV3QXVkaW9QbGF5ZXIuY2xlYXIoKSwgdGhpcy5vbkNoYW5nZU9ubHlCeXBhc3NNZWRpYUNTUC5jbGVhcigpLCB0aGlzLm9uQ2hhbmdlU2hvd1BpUEJ1dHRvbi5jbGVhcigpLCB0aGlzLm9uSW5wdXRTdWJ0aXRsZXNNYXhMZW5ndGguY2xlYXIoKSwgdGhpcy5vbklucHV0U3VidGl0bGVzRm9udFNpemUuY2xlYXIoKSwgdGhpcy5vbklucHV0U3VidGl0bGVzQmFja2dyb3VuZE9wYWNpdHkuY2xlYXIoKSwgdGhpcy5vbklucHV0QXV0b0hpZGVCdXR0b25EZWxheS5jbGVhcigpLCB0aGlzLm9uU2VsZWN0SXRlbVByb3h5VHJhbnNsYXRpb25TdGF0dXMuY2xlYXIoKSwgdGhpcy5vblNlbGVjdEl0ZW1UcmFuc2xhdGlvblRleHRTZXJ2aWNlLmNsZWFyKCksIHRoaXMub25TZWxlY3RJdGVtQnV0dG9uUG9zaXRpb24uY2xlYXIoKSwgdGhpcy5vblNlbGVjdEl0ZW1NZW51TGFuZ3VhZ2UuY2xlYXIoKSwgdGhpcy5pbml0aWFsaXplZCA9IGQsIHRoaXM7CgkJCQkJCX0KCQkJCQkJcmVsZWFzZSgpIHsKCQkJCQkJCXJldHVybiB0aGlzLnJlbGVhc2VVSSghMCksIHRoaXMucmVsZWFzZVVJRXZlbnRzKCExKSwgdGhpczsKCQkJCQkJfQoJCQkJCQl1cGRhdGVBY2NvdW50SW5mbygpIHsKCQkJCQkJCWlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBTZXR0aW5nc1ZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCWxldCBkID0gISF0aGlzLmRhdGEuYWNjb3VudD8udG9rZW47CgkJCQkJCQlyZXR1cm4gdGhpcy5hY2NvdW50QnV0dG9uLmF2YXRhcklkID0gdGhpcy5kYXRhLmFjY291bnQ/LmF2YXRhcklkLCB0aGlzLnVzZUxpdmVseVZvaWNlVG9vbHRpcC5oaWRkZW4gPSB0aGlzLmFjY291bnRCdXR0b24ubG9nZ2VkSW4gPSBkLCB0aGlzLmFjY291bnRCdXR0b24udXNlcm5hbWUgPSB0aGlzLmRhdGEuYWNjb3VudD8udXNlcm5hbWUsIHRoaXMudXNlTGl2ZWx5Vm9pY2VDaGVja2JveC5kaXNhYmxlZCA9ICFkLCB0aGlzLm9uVXBkYXRlQWNjb3VudC5kaXNwYXRjaCh0aGlzLmRhdGEuYWNjb3VudCksIHRoaXM7CgkJCQkJCX0KCQkJCQkJb3BlbigpIHsKCQkJCQkJCWlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHRocm93IEVycm9yKCJbVk9UXSBTZXR0aW5nc1ZpZXcgaXNuJ3QgaW5pdGlhbGl6ZWQiKTsKCQkJCQkJCXJldHVybiB0aGlzLmRpYWxvZy5vcGVuKCk7CgkJCQkJCX0KCQkJCQkJY2xvc2UoKSB7CgkJCQkJCQlpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB0aHJvdyBFcnJvcigiW1ZPVF0gU2V0dGluZ3NWaWV3IGlzbid0IGluaXRpYWxpemVkIik7CgkJCQkJCQlyZXR1cm4gdGhpcy5kaWFsb2cuY2xvc2UoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvdXRpbHMvVk9UTG9jYWxpemVkRXJyb3IuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgeyBuOiAoKSA9PiBWT1RMb2NhbGl6ZWRFcnJvciB9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBnID0gZChbaF0pOwoJCQkJCWggPSAoZy50aGVuID8gKGF3YWl0IGcpKCkgOiBnKVswXTsKCQkJCQljbGFzcyBWT1RMb2NhbGl6ZWRFcnJvciBleHRlbmRzIEVycm9yIHsKCQkJCQkJY29uc3RydWN0b3IoZCkgewoJCQkJCQkJc3VwZXIoaC5qLmdldERlZmF1bHQoZCkpLCB0aGlzLm5hbWUgPSAiVk9UTG9jYWxpemVkRXJyb3IiLCB0aGlzLnVubG9jYWxpemVkTWVzc2FnZSA9IGQsIHRoaXMubG9jYWxpemVkTWVzc2FnZSA9IGguai5nZXQoZCk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3V0aWxzL1ZpZGVvT2JzZXJ2ZXIuanMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuZChmLCB7IGM6ICgpID0+IFZpZGVvT2JzZXJ2ZXIgfSk7CgkJCXZhciBtID0gcCgiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay1wb2x5ZmlsbC9pbmRleC5qcyIpLCBoID0gcCgiLi9ub2RlX21vZHVsZXMvQHZvdC5qcy9zaGFyZWQvZGlzdC9kYXRhL2FsdGVybmF0aXZlVXJscy5qcyIpLCBnID0gcCgiLi9zcmMvY29yZS9ldmVudEltcGwudHMiKSwgXyA9IHAoIi4vc3JjL3V0aWxzL2RlYnVnLnRzIik7CgkJCWNsYXNzIFZpZGVvT2JzZXJ2ZXIgewoJCQkJc3RhdGljIGFkS2V5d29yZHMgPSBuZXcgU2V0KFsKCQkJCQkiYWR2ZXJ0aXNlIiwKCQkJCQkiYWR2ZXJ0aXNlbWVudCIsCgkJCQkJInByb21vIiwKCQkJCQkic3BvbnNvciIsCgkJCQkJImJhbm5lciIsCgkJCQkJImNvbW1lcmNpYWwiLAoJCQkJCSJwcmVyb2xsIiwKCQkJCQkibWlkcm9sbCIsCgkJCQkJInBvc3Ryb2xsIiwKCQkJCQkiYWQtY29udGFpbmVyIiwKCQkJCQkic3BvbnNvcmVkIgoJCQkJXSk7CgkJCQljb25zdHJ1Y3RvcigpIHsKCQkJCQl0aGlzLnZpZGVvQ2FjaGUgPSBuZXcgV2Vha1NldCgpLCB0aGlzLm9ic2VydmVkTm9kZXMgPSB7CgkJCQkJCWFkZGVkOiBuZXcgU2V0KCksCgkJCQkJCXJlbW92ZWQ6IG5ldyBTZXQoKQoJCQkJCX0sIHRoaXMub25WaWRlb0FkZGVkID0gbmV3IGcuWigpLCB0aGlzLm9uVmlkZW9SZW1vdmVkID0gbmV3IGcuWigpLCB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5oYW5kbGVNdXRhdGlvbnMpOwoJCQkJfQoJCQkJaXNBZFJlbGF0ZWQoZCkgewoJCQkJCWxldCBmID0gWwoJCQkJCQkiY2xhc3MiLAoJCQkJCQkiaWQiLAoJCQkJCQkidGl0bGUiCgkJCQkJXTsKCQkJCQlmb3IgKGxldCBwIG9mIGYpIHsKCQkJCQkJbGV0IGYgPSBkLmdldEF0dHJpYnV0ZShwKTsKCQkJCQkJaWYgKGYgJiYgVmlkZW9PYnNlcnZlci5hZEtleXdvcmRzLmhhcyhmLnRvTG93ZXJDYXNlKCkpKSByZXR1cm4gITA7CgkJCQkJfQoJCQkJCXJldHVybiAhMTsKCQkJCX0KCQkJCWhhc0F1ZGlvKGQpIHsKCQkJCQlyZXR1cm4gaC5zeC5pbmNsdWRlcyh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpID8gIWQubXV0ZWQgOiBkLm1vekhhc0F1ZGlvID09PSB2b2lkIDAgPyBkLndlYmtpdEF1ZGlvRGVjb2RlZEJ5dGVDb3VudCA9PT0gdm9pZCAwID8gImF1ZGlvVHJhY2tzIiBpbiBkICYmIGQuYXVkaW9UcmFja3MubGVuZ3RoID4gMCB8fCAhZC5tdXRlZCA6IGQud2Via2l0QXVkaW9EZWNvZGVkQnl0ZUNvdW50ID4gMCA6IGQubW96SGFzQXVkaW87CgkJCQl9CgkJCQlpc1ZhbGlkVmlkZW8oZCkgewoJCQkJCWlmICh0aGlzLmlzQWRSZWxhdGVkKGQpKSByZXR1cm4gITE7CgkJCQkJbGV0IGYgPSBkLnBhcmVudEVsZW1lbnQ7CgkJCQkJZm9yICg7IGYgJiYgIXRoaXMuaXNBZFJlbGF0ZWQoZik7KSBmID0gZi5wYXJlbnRFbGVtZW50OwoJCQkJCXJldHVybiBmID8gITEgOiB0aGlzLmhhc0F1ZGlvKGQpID8gITAgOiAoXy5BLmxvZygiSWdub3JpbmcgdmlkZW8gd2l0aG91dCBhdWRpbzoiLCBkKSwgITEpOwoJCQkJfQoJCQkJdHJhdmVyc2VET00oZCkgewoJCQkJCWlmIChkIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkgewoJCQkJCQl0aGlzLmNoZWNrVmlkZW9TdGF0ZShkKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCQlsZXQgZiA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZCwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIHsgYWNjZXB0Tm9kZTogKGQpID0+IGQudGFnTmFtZSA9PT0gIlZJREVPIiB8fCBkLnNoYWRvd1Jvb3QgPyBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQgOiBOb2RlRmlsdGVyLkZJTFRFUl9TS0lQIH0pOwoJCQkJCWZvciAoOyBmLm5leHROb2RlKCk7KSB7CgkJCQkJCWxldCBkID0gZi5jdXJyZW50Tm9kZTsKCQkJCQkJZCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgJiYgdGhpcy5jaGVja1ZpZGVvU3RhdGUoZCksIGQuc2hhZG93Um9vdCAmJiB0aGlzLnRyYXZlcnNlRE9NKGQuc2hhZG93Um9vdCk7CgkJCQkJfQoJCQkJfQoJCQkJY2hlY2tWaWRlb1N0YXRlKGQpIHsKCQkJCQlpZiAodGhpcy52aWRlb0NhY2hlLmhhcyhkKSkgcmV0dXJuOwoJCQkJCXRoaXMudmlkZW9DYWNoZS5hZGQoZCk7CgkJCQkJbGV0IG9uTG9hZGVkRGF0YSA9ICgpID0+IHsKCQkJCQkJdGhpcy5pc1ZhbGlkVmlkZW8oZCkgJiYgdGhpcy5vblZpZGVvQWRkZWQuZGlzcGF0Y2goZCksIGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZGVkZGF0YSIsIG9uTG9hZGVkRGF0YSk7CgkJCQkJfSwgb25FbXB0aWVkID0gKCkgPT4gewoJCQkJCQlkLmlzQ29ubmVjdGVkIHx8ICh0aGlzLm9uVmlkZW9SZW1vdmVkLmRpc3BhdGNoKGQpLCB0aGlzLnZpZGVvQ2FjaGUuZGVsZXRlKGQpLCBkLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVtcHRpZWQiLCBvbkVtcHRpZWQpKTsKCQkJCQl9OwoJCQkJCWQuYWRkRXZlbnRMaXN0ZW5lcigiZW1wdGllZCIsIG9uRW1wdGllZCksIGQucmVhZHlTdGF0ZSA+PSBIVE1MTWVkaWFFbGVtZW50LkhBVkVfQ1VSUkVOVF9EQVRBID8gb25Mb2FkZWREYXRhKCkgOiBkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlZGRhdGEiLCBvbkxvYWRlZERhdGEpOwoJCQkJfQoJCQkJaGFuZGxlTXV0YXRpb25zID0gKGQpID0+IHsKCQkJCQlmb3IgKGxldCBmIG9mIGQpIHsKCQkJCQkJaWYgKGYudHlwZSAhPT0gImNoaWxkTGlzdCIpIGNvbnRpbnVlOwoJCQkJCQlmb3IgKGxldCBkIG9mIGYuYWRkZWROb2RlcykgdGhpcy5vYnNlcnZlZE5vZGVzLmFkZGVkLmFkZChkKTsKCQkJCQkJZm9yIChsZXQgZCBvZiBmLnJlbW92ZWROb2RlcykgdGhpcy5vYnNlcnZlZE5vZGVzLnJlbW92ZWQuYWRkKGQpOwoJCQkJCX0KCQkJCQl3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7CgkJCQkJCWZvciAobGV0IGQgb2YgdGhpcy5vYnNlcnZlZE5vZGVzLmFkZGVkKSB0aGlzLnRyYXZlcnNlRE9NKGQpOwoJCQkJCQlmb3IgKGxldCBkIG9mIHRoaXMub2JzZXJ2ZWROb2Rlcy5yZW1vdmVkKSBpZiAoZC5xdWVyeVNlbGVjdG9yQWxsKSB7CgkJCQkJCQlsZXQgZiA9IGQucXVlcnlTZWxlY3RvckFsbCgidmlkZW8iKTsKCQkJCQkJCWZvciAobGV0IGQgb2YgZikgZC5pc0Nvbm5lY3RlZCB8fCAodGhpcy5vblZpZGVvUmVtb3ZlZC5kaXNwYXRjaChkKSwgdGhpcy52aWRlb0NhY2hlLmRlbGV0ZShkKSk7CgkJCQkJCX0KCQkJCQkJdGhpcy5vYnNlcnZlZE5vZGVzLmFkZGVkLmNsZWFyKCksIHRoaXMub2JzZXJ2ZWROb2Rlcy5yZW1vdmVkLmNsZWFyKCk7CgkJCQkJfSwgeyB0aW1lb3V0OiAxZTMgfSk7CgkJCQl9OwoJCQkJZW5hYmxlKCkgewoJCQkJCXRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsKCQkJCQkJY2hpbGRMaXN0OiAhMCwKCQkJCQkJc3VidHJlZTogITAKCQkJCQl9KSwgdGhpcy50cmF2ZXJzZURPTShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOwoJCQkJfQoJCQkJZGlzYWJsZSgpIHsKCQkJCQl0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKSwgdGhpcy52aWRlb0NhY2hlID0gbmV3IFdlYWtTZXQoKTsKCQkJCX0KCQkJfQoJCX0sCgkJIi4vc3JjL3V0aWxzL2RlYnVnLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyBBOiAoKSA9PiBtIH0pOwoJCQlsZXQgbSA9IHsgbG9nOiAoLi4uZCkgPT4ge30gfTsKCQl9LAoJCSIuL3NyYy91dGlscy9nbS50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7CgkJCQkJCUIwOiAoKSA9PiBDLAoJCQkJCQlHMzogKCkgPT4gR01fZmV0Y2gsCgkJCQkJCU82OiAoKSA9PiB4LAoJCQkJCQl1cDogKCkgPT4gYiwKCQkJCQkJeXg6ICgpID0+IHcKCQkJCQl9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2NvbmZpZy9jb25maWcuanMiKSwgZyA9IHAoIi4vc3JjL3V0aWxzL2RlYnVnLnRzIiksIF8gPSBwKCIuL3NyYy91dGlscy91dGlscy50cyIpLCB2ID0gZChbX10pOwoJCQkJCV8gPSAodi50aGVuID8gKGF3YWl0IHYpKCkgOiB2KVswXTsKCQkJCQlsZXQgYiA9IEdNX2luZm8/LnNjcmlwdEhhbmRsZXIgJiYgIWguV2wuaW5jbHVkZXMoR01faW5mby5zY3JpcHRIYW5kbGVyKSwgeCA9IHR5cGVvZiBHTSA8ICJ1IiwgQyA9IHR5cGVvZiB1bnNhZmVXaW5kb3cgPCAidSIsIHcgPSB0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgPCAidSI7CgkJCQkJYXN5bmMgZnVuY3Rpb24gR01fZmV0Y2goZCwgZiA9IHt9KSB7CgkJCQkJCWxldCB7IHRpbWVvdXQ6IHAgPSAxNWUzLC4uLm0gfSA9IGYsIGggPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQlpZiAodHlwZW9mIGQgPT0gInN0cmluZyIgJiYgZC5pbmNsdWRlcygiYXBpLmJyb3dzZXIueWFuZGV4LnJ1IikpIHRocm93IEVycm9yKCJQcmV2ZW50aW5nIHlhbmRleCBjb3JzIik7CgkJCQkJCQlyZXR1cm4gYXdhaXQgZmV0Y2goZCwgewoJCQkJCQkJCXNpZ25hbDogaC5zaWduYWwsCgkJCQkJCQkJLi4ubQoJCQkJCQkJfSk7CgkJCQkJCX0gY2F0Y2ggKGYpIHsKCQkJCQkJCWcuQS5sb2coIkdNX2ZldGNoIHByZXZlbnRpbmcgQ09SUyBieSBHTV94bWxodHRwUmVxdWVzdCIsIGYubWVzc2FnZSk7CgkJCQkJCQlsZXQgaCA9ICgwLCBfLmRKKShtLmhlYWRlcnMpOwoJCQkJCQkJcmV0dXJuIG5ldyBQcm9taXNlKChmLCBnKSA9PiB7CgkJCQkJCQkJR01feG1saHR0cFJlcXVlc3QoewoJCQkJCQkJCQltZXRob2Q6IG0ubWV0aG9kIHx8ICJHRVQiLAoJCQkJCQkJCQl1cmw6IGQudG9TdHJpbmcoKSwKCQkJCQkJCQkJcmVzcG9uc2VUeXBlOiAiYmxvYiIsCgkJCQkJCQkJCWRhdGE6IG0uYm9keSwKCQkJCQkJCQkJdGltZW91dDogcCwKCQkJCQkJCQkJaGVhZGVyczogaCwKCQkJCQkJCQkJb25sb2FkOiAoZCkgPT4gewoJCQkJCQkJCQkJbGV0IHAgPSBkLnJlc3BvbnNlSGVhZGVycy5zcGxpdCgvXHI/XG4vKS5yZWR1Y2UoKGQsIGYpID0+IHsKCQkJCQkJCQkJCQlsZXQgWywgcCwgbV0gPSBmLm1hdGNoKC9eKFtcdy1dKyk6ICguKykkLykgfHwgW107CgkJCQkJCQkJCQkJcmV0dXJuIHAgJiYgKGRbcF0gPSBtKSwgZDsKCQkJCQkJCQkJCX0sIHt9KSwgbSA9IG5ldyBSZXNwb25zZShkLnJlc3BvbnNlLCB7CgkJCQkJCQkJCQkJc3RhdHVzOiBkLnN0YXR1cywKCQkJCQkJCQkJCQloZWFkZXJzOiBwCgkJCQkJCQkJCQl9KTsKCQkJCQkJCQkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCAidXJsIiwgeyB2YWx1ZTogZC5maW5hbFVybCA/PyAiIiB9KSwgZihtKTsKCQkJCQkJCQkJfSwKCQkJCQkJCQkJb250aW1lb3V0OiAoKSA9PiBnKEVycm9yKCJUaW1lb3V0IikpLAoJCQkJCQkJCQlvbmVycm9yOiAoZCkgPT4gZyhFcnJvcihkKSksCgkJCQkJCQkJCW9uYWJvcnQ6ICgpID0+IGcoRXJyb3IoIkFib3J0RXJyb3IiKSkKCQkJCQkJCQl9KTsKCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJfQoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91dGlscy9pZnJhbWVDb25uZWN0b3IudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgewoJCQkJCQlJQTogKCkgPT4gZW5zdXJlU2VydmljZUlmcmFtZSwKCQkJCQkJSW86ICgpID0+IGluaXRJZnJhbWVTZXJ2aWNlLAoJCQkJCQlPazogKCkgPT4gZ2VuZXJhdGVNZXNzYWdlSWQsCgkJCQkJCVdGOiAoKSA9PiBfLAoJCQkJCQlkNDogKCkgPT4gaXNJZnJhbWUsCgkJCQkJCWhHOiAoKSA9PiByZXF1ZXN0RGF0YUZyb21NYWluV29ybGQsCgkJCQkJCXlCOiAoKSA9PiBoYXNTZXJ2aWNlSWZyYW1lCgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL3NyYy91dGlscy91dGlscy50cyIpLCBnID0gZChbaF0pOwoJCQkJCWggPSAoZy50aGVuID8gKGF3YWl0IGcpKCkgOiBnKVswXTsKCQkJCQlsZXQgXyA9ICJ2b3RfaWZyYW1lIiwgaXNJZnJhbWUgPSAoKSA9PiB3aW5kb3cuc2VsZiAhPT0gd2luZG93LnRvcCwgZ2VuZXJhdGVNZXNzYWdlSWQgPSAoKSA9PiBgbWFpbi13b3JsZC1icmlkZ2UtJHtwZXJmb3JtYW5jZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsIGhhc1NlcnZpY2VJZnJhbWUgPSAoZCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCk7CgkJCQkJYXN5bmMgZnVuY3Rpb24gc2V0dXBTZXJ2aWNlSWZyYW1lKGQsIGYsIHApIHsKCQkJCQkJbGV0IG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKCQkJCQkJbS5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSIsIG0uc3R5bGUuekluZGV4ID0gIi0xIiwgbS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiLCBtLmlkID0gZiwgbS5zcmMgPSBgJHtkfSMke199YCwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtKTsKCQkJCQkJbGV0IGcgPSBuZXcgUHJvbWlzZSgoZCkgPT4gewoJCQkJCQkJbGV0IGhhbmRsZU1lc3NhZ2UgPSAoeyBkYXRhOiBmIH0pID0+IHsKCQkJCQkJCQlmLm1lc3NhZ2VUeXBlID09PSBgc2F5LSR7cH0taWZyYW1lLWlzLXJlYWR5YCAmJiAod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCBoYW5kbGVNZXNzYWdlKSwgZCghMCkpOwoJCQkJCQkJfTsKCQkJCQkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgaGFuZGxlTWVzc2FnZSk7CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYXdhaXQgUHJvbWlzZS5yYWNlKFtnLCAoMCwgaC53UikoMTVlMywgIlNlcnZpY2UgaWZyYW1lIGRpZCBub3QgaGF2ZSB0aW1lIHRvIGJlIHJlYWR5IildKSwgbTsKCQkJCQl9CgkJCQkJYXN5bmMgZnVuY3Rpb24gZW5zdXJlU2VydmljZUlmcmFtZShkLCBmLCBwLCBtKSB7CgkJCQkJCWlmIChmLmluY2x1ZGVzKCIjIikpIHRocm93IEVycm9yKCJUaGUgc3JjIHBhcmFtZXRlciBzaG91bGQgbm90IGNvbnRhaW4gYSBoYXNoICgjKSBjaGFyYWN0ZXIuIik7CgkJCQkJCWxldCBoID0gaGFzU2VydmljZUlmcmFtZShwKTsKCQkJCQkJaWYgKGgpIHsKCQkJCQkJCWlmIChkICE9PSBudWxsKSByZXR1cm4gZDsKCQkJCQkJCWg/LnJlbW92ZSgpOwoJCQkJCQl9CgkJCQkJCXJldHVybiBkID0gYXdhaXQgc2V0dXBTZXJ2aWNlSWZyYW1lKGYsIHAsIG0pLCBkOwoJCQkJCX0KCQkJCQlmdW5jdGlvbiBpbml0SWZyYW1lU2VydmljZShkLCBmKSB7CgkJCQkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgZiksIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoewoJCQkJCQkJbWVzc2FnZVR5cGU6IGBzYXktJHtkfS1pZnJhbWUtaXMtcmVhZHlgLAoJCQkJCQkJbWVzc2FnZURpcmVjdGlvbjogInJlc3BvbnNlIgoJCQkJCQl9LCAiKiIpOwoJCQkJCX0KCQkJCQlmdW5jdGlvbiByZXF1ZXN0RGF0YUZyb21NYWluV29ybGQoZCwgZikgewoJCQkJCQlsZXQgcCA9IGdlbmVyYXRlTWVzc2FnZUlkKCk7CgkJCQkJCXJldHVybiBuZXcgUHJvbWlzZSgobSwgaCkgPT4gewoJCQkJCQkJbGV0IGhhbmRsZU1lc3NhZ2UgPSAoeyBkYXRhOiBmIH0pID0+IHsKCQkJCQkJCQlmPy5tZXNzYWdlSWQgPT09IHAgJiYgZi5tZXNzYWdlVHlwZSA9PT0gZCAmJiBmLm1lc3NhZ2VEaXJlY3Rpb24gPT09ICJyZXNwb25zZSIgJiYgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgaGFuZGxlTWVzc2FnZSksIGYuZXJyb3IgPyBoKGYuZXJyb3IpIDogbShmLnBheWxvYWQpKTsKCQkJCQkJCX07CgkJCQkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIGhhbmRsZU1lc3NhZ2UpLCB3aW5kb3cucG9zdE1lc3NhZ2UoewoJCQkJCQkJCW1lc3NhZ2VJZDogcCwKCQkJCQkJCQltZXNzYWdlVHlwZTogZCwKCQkJCQkJCQltZXNzYWdlRGlyZWN0aW9uOiAicmVxdWVzdCIsCgkJCQkJCQkJLi4uZiAhPT0gdm9pZCAwICYmIHsgcGF5bG9hZDogZiB9CgkJCQkJCQl9LCAiKiIpOwoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3V0aWxzL2xvY2FsaXphdGlvbi50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7CgkJCQkJCW86ICgpID0+IHNlY3NUb1N0clRpbWUsCgkJCQkJCXY6ICgpID0+IHYKCQkJCQl9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBnID0gZChbaF0pOwoJCQkJCWggPSAoZy50aGVuID8gKGF3YWl0IGcpKCkgOiBnKVswXTsKCQkJCQlsZXQgXyA9IC42NiwgdiA9IG5hdmlnYXRvci5sYW5ndWFnZT8uc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgImVuIjsKCQkJCQlmdW5jdGlvbiBzZWNzVG9TdHJUaW1lKGQpIHsKCQkJCQkJbGV0IGYgPSBNYXRoLmZsb29yKGQgLyA2MCksIHAgPSBNYXRoLmZsb29yKGQgJSA2MCksIG0gPSBwIC8gNjA7CgkJCQkJCWlmIChtID49IF8gJiYgKGYgKz0gMSwgcCA9IDApLCBmID49IDYwKSByZXR1cm4gaC5qLmdldCgidHJhbnNsYXRpb25UYWtlTW9yZVRoYW5Ib3VyIik7CgkJCQkJCWlmIChmIDw9IDEpIHJldHVybiBoLmouZ2V0KCJ0cmFuc2xhdGlvblRha2VBYm91dE1pbnV0ZSIpOwoJCQkJCQlsZXQgZyA9IFN0cmluZyhmKTsKCQkJCQkJcmV0dXJuIGYgIT09IDExICYmIGYgJSAxMCA9PSAxID8gaC5qLmdldCgidHJhbnNsYXRpb25UYWtlQXBwcm94aW1hdGVseU1pbnV0ZTIiKS5yZXBsYWNlKCJ7MH0iLCBnKSA6ICFbCgkJCQkJCQkxMiwKCQkJCQkJCTEzLAoJCQkJCQkJMTQKCQkJCQkJXS5pbmNsdWRlcyhmKSAmJiBbCgkJCQkJCQkyLAoJCQkJCQkJMywKCQkJCQkJCTQKCQkJCQkJXS5pbmNsdWRlcyhmICUgMTApID8gaC5qLmdldCgidHJhbnNsYXRpb25UYWtlQXBwcm94aW1hdGVseU1pbnV0ZSIpLnJlcGxhY2UoInswfSIsIGcpIDogaC5qLmdldCgidHJhbnNsYXRpb25UYWtlQXBwcm94aW1hdGVseU1pbnV0ZXMiKS5yZXBsYWNlKCJ7MH0iLCBnKTsKCQkJCQl9CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3V0aWxzL3N0b3JhZ2UudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgewoJCQkJCQlfOiAoKSA9PiB1cGRhdGVDb25maWcsCgkJCQkJCWQ6ICgpID0+IHcKCQkJCQl9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2NvbmZpZy9jb25maWcuanMiKSwgZyA9IHAoIi4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25Qcm92aWRlci50cyIpLCBfID0gcCgiLi9zcmMvdHlwZXMvc3RvcmFnZS50cyIpLCB2ID0gcCgiLi9zcmMvdXRpbHMvZGVidWcudHMiKSwgYiA9IHAoIi4vc3JjL3V0aWxzL2dtLnRzIiksIHggPSBkKFtnLCBiXSk7CgkJCQkJW2csIGJdID0geC50aGVuID8gKGF3YWl0IHgpKCkgOiB4OwoJCQkJCWxldCBDID0gewoJCQkJCQludW1Ub0Jvb2w6IFsKCQkJCQkJCVsiYXV0b1RyYW5zbGF0ZSJdLAoJCQkJCQkJWyJkb250VHJhbnNsYXRlWW91ckxhbmciLCAiZW5hYmxlZERvbnRUcmFuc2xhdGVMYW5ndWFnZXMiXSwKCQkJCQkJCVsiYXV0b1NldFZvbHVtZVlhbmRleFN0eWxlIiwgImVuYWJsZWRBdXRvVm9sdW1lIl0sCgkJCQkJCQlbInNob3dWaWRlb1NsaWRlciJdLAoJCQkJCQkJWyJzeW5jVm9sdW1lIl0sCgkJCQkJCQlbImRvd25sb2FkV2l0aE5hbWUiXSwKCQkJCQkJCVsic2VuZE5vdGlmeU9uQ29tcGxldGUiXSwKCQkJCQkJCVsiaGlnaGxpZ2h0V29yZHMiXSwKCQkJCQkJCVsib25seUJ5cGFzc01lZGlhQ1NQIl0sCgkJCQkJCQlbIm5ld0F1ZGlvUGxheWVyIl0sCgkJCQkJCQlbInNob3dQaVBCdXR0b24iXSwKCQkJCQkJCVsidHJhbnNsYXRlQVBJRXJyb3JzIl0sCgkJCQkJCQlbImF1ZGlvQm9vc3RlciJdLAoJCQkJCQkJWyJ1c2VOZXdNb2RlbCIsICJ1c2VMaXZlbHlWb2ljZSJdCgkJCQkJCV0sCgkJCQkJCW51bWJlcjogW1siYXV0b1ZvbHVtZSJdXSwKCQkJCQkJYXJyYXk6IFtbImRvbnRUcmFuc2xhdGVMYW5ndWFnZSIsICJkb250VHJhbnNsYXRlTGFuZ3VhZ2VzIl1dLAoJCQkJCQlzdHJpbmc6IFsKCQkJCQkJCVsiaG90a2V5QnV0dG9uIiwgInRyYW5zbGF0aW9uSG90a2V5Il0sCgkJCQkJCQlbImxvY2FsZS1sYW5nLW92ZXJyaWRlIiwgImxvY2FsZUxhbmdPdmVycmlkZSJdLAoJCQkJCQkJWyJsb2NhbGUtbGFuZyIsICJsb2NhbGVMYW5nIl0KCQkJCQkJXQoJCQkJCX07CgkJCQkJZnVuY3Rpb24gZ2V0Q29tcGF0Q2F0ZWdvcnkoZCwgZiwgcCkgewoJCQkJCQlpZiAodHlwZW9mIGYgPT0gIm51bWJlciIpIHJldHVybiBwPy5udW1iZXIuc29tZSgoZikgPT4gZlswXSA9PT0gZCkgPyAibnVtYmVyIiA6ICJudW1Ub0Jvb2wiOwoJCQkJCQlpZiAoQXJyYXkuaXNBcnJheShmKSkgcmV0dXJuICJhcnJheSI7CgkJCQkJCWlmICh0eXBlb2YgZiA9PSAic3RyaW5nIiB8fCBmID09PSBudWxsKSByZXR1cm4gInN0cmluZyI7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIGNvbnZlcnRCeUNvbXBhdENhdGVnb3J5KGQsIGYpIHsKCQkJCQkJcmV0dXJuIFsKCQkJCQkJCSJzdHJpbmciLAoJCQkJCQkJImFycmF5IiwKCQkJCQkJCSJudW1iZXIiCgkJCQkJCV0uaW5jbHVkZXMoZCkgPyBmIDogISFmOwoJCQkJCX0KCQkJCQlhc3luYyBmdW5jdGlvbiB1cGRhdGVDb25maWcoZCkgewoJCQkJCQlpZiAoZC5jb21wYXRWZXJzaW9uID09PSBoLnI0KSByZXR1cm4gZDsKCQkJCQkJbGV0IGYgPSBPYmplY3QudmFsdWVzKEMpLmZsYXQoKS5yZWR1Y2UoKGQsIGYpID0+IChmWzFdICYmIChkW2ZbMF1dID0gdm9pZCAwKSwgZCksIHt9KSwgcCA9IGF3YWl0IHcuZ2V0VmFsdWVzKGYpLCBtID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHApLmZpbHRlcigoW2QsIGZdKSA9PiBmICE9PSB2b2lkIDApKSwgXyA9IHsKCQkJCQkJCS4uLmQsCgkJCQkJCQkuLi5tCgkJCQkJCX0sIHYgPSBPYmplY3Qua2V5cyhfKS5yZWR1Y2UoKGQsIGYpID0+IChkW2ZdID0gdm9pZCAwLCBkKSwge30pLCBiID0gYXdhaXQgdy5nZXRWYWx1ZXModiksIHggPSBkOwoJCQkJCQlmb3IgKGxldCBbZCwgZl0gb2YgT2JqZWN0LmVudHJpZXMoXykpIHsKCQkJCQkJCWxldCBwID0gZ2V0Q29tcGF0Q2F0ZWdvcnkoZCwgZiwgQyk7CgkJCQkJCQlpZiAoIXApIGNvbnRpbnVlOwoJCQkJCQkJbGV0IGggPSBDW3BdLmZpbmQoKGYpID0+IGZbMF0gPT09IGQpOwoJCQkJCQkJaWYgKCFoKSBjb250aW51ZTsKCQkJCQkJCWxldCBfID0gaFsxXSA/PyBkOwoJCQkJCQkJaWYgKGJbZF0gPT09IHZvaWQgMCkgY29udGludWU7CgkJCQkJCQlsZXQgdiA9IGNvbnZlcnRCeUNvbXBhdENhdGVnb3J5KHAsIGYpOwoJCQkJCQkJZCA9PT0gImF1dG9Wb2x1bWUiICYmIGYgPCAxICYmICh2ID0gTWF0aC5yb3VuZChmICogMTAwKSksIHhbX10gPSB2LCBtW2RdICE9PSB2b2lkIDAgJiYgYXdhaXQgdy5kZWxldGUoZCksIF8gPT09ICJsb2NhbGVMYW5nT3ZlcnJpZGUiICYmIGF3YWl0IGcuai5jaGFuZ2VMYW5nKGYpLCBhd2FpdCB3LnNldChfLCB2KTsKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJLi4ueCwKCQkJCQkJCWNvbXBhdFZlcnNpb246ICIyMDI1LTA1LTA5IgoJCQkJCQl9OwoJCQkJCX0KCQkJCQlsZXQgdyA9IG5ldyBjbGFzcyB7CgkJCQkJCXN1cHBvcnRHTTsKCQkJCQkJc3VwcG9ydEdNUHJvbWlzZXM7CgkJCQkJCXN1cHBvcnRHTUdldFZhbHVlczsKCQkJCQkJY29uc3RydWN0b3IoKSB7CgkJCQkJCQl0aGlzLnN1cHBvcnRHTSA9IHR5cGVvZiBHTV9nZXRWYWx1ZSA9PSAiZnVuY3Rpb24iLCB0aGlzLnN1cHBvcnRHTVByb21pc2VzID0gYi5PNiAmJiB0eXBlb2YgR00/LmdldFZhbHVlID09ICJmdW5jdGlvbiIsIHRoaXMuc3VwcG9ydEdNR2V0VmFsdWVzID0gYi5PNiAmJiB0eXBlb2YgR00/LmdldFZhbHVlcyA9PSAiZnVuY3Rpb24iLCB2LkEubG9nKGBbVk9UIFN0b3JhZ2VdIEdNIFByb21pc2VzOiAke3RoaXMuc3VwcG9ydEdNUHJvbWlzZXN9IHwgR006ICR7dGhpcy5zdXBwb3J0R019YCk7CgkJCQkJCX0KCQkJCQkJZ2V0IGlzU3VwcG9ydE9ubHlMUygpIHsKCQkJCQkJCXJldHVybiAhdGhpcy5zdXBwb3J0R00gJiYgIXRoaXMuc3VwcG9ydEdNUHJvbWlzZXM7CgkJCQkJCX0KCQkJCQkJc3luY0dldChkLCBmKSB7CgkJCQkJCQlpZiAodGhpcy5zdXBwb3J0R00pIHJldHVybiBHTV9nZXRWYWx1ZShkLCBmKTsKCQkJCQkJCWxldCBwID0gKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShkKSk7CgkJCQkJCQlpZiAoIXApIHJldHVybiBmOwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlyZXR1cm4gSlNPTi5wYXJzZShwKTsKCQkJCQkJCX0gY2F0Y2ggewoJCQkJCQkJCXJldHVybiBmOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWFzeW5jIGdldChkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5zdXBwb3J0R01Qcm9taXNlcyA/IGF3YWl0IEdNLmdldFZhbHVlKGQsIGYpIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuc3luY0dldChkLCBmKSk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgZ2V0VmFsdWVzKGQpIHsKCQkJCQkJCXJldHVybiB0aGlzLnN1cHBvcnRHTUdldFZhbHVlcyA/IGF3YWl0IEdNLmdldFZhbHVlcyhkKSA6IE9iamVjdC5mcm9tRW50cmllcyhhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyhkKS5tYXAoYXN5bmMgKFtkLCBmXSkgPT4gewoJCQkJCQkJCWxldCBwID0gYXdhaXQgdGhpcy5nZXQoZCwgZik7CgkJCQkJCQkJcmV0dXJuIFtkLCBwXTsKCQkJCQkJCX0pKSk7CgkJCQkJCX0KCQkJCQkJc3luY1NldChkLCBmKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5zdXBwb3J0R00gPyBHTV9zZXRWYWx1ZShkLCBmKSA6IHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShkLCBKU09OLnN0cmluZ2lmeShmKSk7CgkJCQkJCX0KCQkJCQkJYXN5bmMgc2V0KGQsIGYpIHsKCQkJCQkJCXJldHVybiB0aGlzLnN1cHBvcnRHTVByb21pc2VzID8gYXdhaXQgR00uc2V0VmFsdWUoZCwgZikgOiBQcm9taXNlLnJlc29sdmUodGhpcy5zeW5jU2V0KGQsIGYpKTsKCQkJCQkJfQoJCQkJCQlzeW5jRGVsZXRlKGQpIHsKCQkJCQkJCXJldHVybiB0aGlzLnN1cHBvcnRHTSA/IEdNX2RlbGV0ZVZhbHVlKGQpIDogd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGQpOwoJCQkJCQl9CgkJCQkJCWFzeW5jIGRlbGV0ZShkKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5zdXBwb3J0R01Qcm9taXNlcyA/IGF3YWl0IEdNLmRlbGV0ZVZhbHVlKGQpIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuc3luY0RlbGV0ZShkKSk7CgkJCQkJCX0KCQkJCQkJc3luY0xpc3QoKSB7CgkJCQkJCQlyZXR1cm4gdGhpcy5zdXBwb3J0R00gPyBHTV9saXN0VmFsdWVzKCkgOiBfLnc7CgkJCQkJCX0KCQkJCQkJYXN5bmMgbGlzdCgpIHsKCQkJCQkJCXJldHVybiB0aGlzLnN1cHBvcnRHTVByb21pc2VzID8gYXdhaXQgR00ubGlzdFZhbHVlcygpIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuc3luY0xpc3QoKSk7CgkJCQkJCX0KCQkJCQl9KCk7CgkJCQkJbSgpOwoJCQkJfSBjYXRjaCAoZCkgewoJCQkJCW0oZCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJIi4vc3JjL3V0aWxzL3RyYW5zbGF0ZUFwaXMudHMiOiAoZCwgZiwgcCkgPT4gewoJCQkidXNlIHN0cmljdCI7CgkJCXAuYShkLCBhc3luYyAoZCwgbSkgPT4gewoJCQkJdHJ5IHsKCQkJCQlwLmQoZiwgewoJCQkJCQlUbDogKCkgPT4gdHJhbnNsYXRlLAoJCQkJCQlvMDogKCkgPT4gZGV0ZWN0LAoJCQkJCQlxaDogKCkgPT4gdywKCQkJCQkJdk46ICgpID0+IEMKCQkJCQl9KTsKCQkJCQl2YXIgaCA9IHAoIi4vc3JjL2NvbmZpZy9jb25maWcuanMiKSwgZyA9IHAoIi4vc3JjL3V0aWxzL2dtLnRzIiksIF8gPSBwKCIuL3NyYy91dGlscy9zdG9yYWdlLnRzIiksIHYgPSBkKFtnLCBfXSk7CgkJCQkJW2csIF9dID0gdi50aGVuID8gKGF3YWl0IHYpKCkgOiB2OwoJCQkJCWxldCBiID0gbmV3IGNsYXNzIHsKCQkJCQkJaXNGT1NXTFlFcnJvcihkKSB7CgkJCQkJCQlyZXR1cm4gT2JqZWN0Lmhhc093bihkLCAiZXJyb3IiKTsKCQkJCQkJfQoJCQkJCQlhc3luYyByZXF1ZXN0KGQsIGYgPSB7fSkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlsZXQgcCA9IGF3YWl0ICgoMCwgZy5HMykoYCR7aC5rJH0ke2R9YCwgewoJCQkJCQkJCQl0aW1lb3V0OiAzZTMsCgkJCQkJCQkJCS4uLmYKCQkJCQkJCQl9KSksIG0gPSBhd2FpdCAocC5qc29uKCkpOwoJCQkJCQkJCWlmICh0aGlzLmlzRk9TV0xZRXJyb3IobSkpIHRocm93IG0uZXJyb3I7CgkJCQkJCQkJcmV0dXJuIG07CgkJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQkJY29uc29sZS5lcnJvcihgW1ZPVF0gRmFpbGVkIHRvIGdldCBkYXRhIGZyb20gRk9TV0xZIFRyYW5zbGF0ZSBBUEksIGJlY2F1c2UgJHtkLm1lc3NhZ2V9YCk7CgkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWFzeW5jIHRyYW5zbGF0ZU11bHRpcGxlKGQsIGYsIHApIHsKCQkJCQkJCWxldCBtID0gYXdhaXQgKHRoaXMucmVxdWVzdCgiL3RyYW5zbGF0ZSIsIHsKCQkJCQkJCQltZXRob2Q6ICJQT1NUIiwKCQkJCQkJCQloZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSwKCQkJCQkJCQlib2R5OiBKU09OLnN0cmluZ2lmeSh7CgkJCQkJCQkJCXRleHQ6IGQsCgkJCQkJCQkJCWxhbmc6IGYsCgkJCQkJCQkJCXNlcnZpY2U6IHAKCQkJCQkJCQl9KQoJCQkJCQkJfSkpOwoJCQkJCQkJcmV0dXJuIG0gPyBtLnRyYW5zbGF0aW9ucyA6IGQ7CgkJCQkJCX0KCQkJCQkJYXN5bmMgdHJhbnNsYXRlKGQsIGYsIHApIHsKCQkJCQkJCWxldCBtID0gYXdhaXQgKHRoaXMucmVxdWVzdChgL3RyYW5zbGF0ZT8ke25ldyBVUkxTZWFyY2hQYXJhbXMoewoJCQkJCQkJCXRleHQ6IGQsCgkJCQkJCQkJbGFuZzogZiwKCQkJCQkJCQlzZXJ2aWNlOiBwCgkJCQkJCQl9KX1gKSk7CgkJCQkJCQlyZXR1cm4gbSA/IG0udHJhbnNsYXRpb25zWzBdIDogZDsKCQkJCQkJfQoJCQkJCQlhc3luYyBkZXRlY3QoZCwgZikgewoJCQkJCQkJbGV0IHAgPSBhd2FpdCAodGhpcy5yZXF1ZXN0KGAvZGV0ZWN0PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7CgkJCQkJCQkJdGV4dDogZCwKCQkJCQkJCQlzZXJ2aWNlOiBmCgkJCQkJCQl9KX1gKSk7CgkJCQkJCQlyZXR1cm4gcCA/IHAubGFuZyA6ICJlbiI7CgkJCQkJCX0KCQkJCQl9KCksIHggPSB7IGFzeW5jIGRldGVjdChkKSB7CgkJCQkJCXRyeSB7CgkJCQkJCQlsZXQgZiA9IGF3YWl0ICgwLCBnLkczKShoLnNsLCB7CgkJCQkJCQkJbWV0aG9kOiAiUE9TVCIsCgkJCQkJCQkJYm9keTogZCwKCQkJCQkJCQl0aW1lb3V0OiAzZTMKCQkJCQkJCX0pOwoJCQkJCQkJcmV0dXJuIGF3YWl0IGYudGV4dCgpOwoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQlyZXR1cm4gY29uc29sZS5lcnJvcihgW1ZPVF0gRXJyb3IgZ2V0dGluZyBsYW5nIGZyb20gdGV4dCwgYmVjYXVzZSAke2QubWVzc2FnZX1gKSwgImVuIjsKCQkJCQkJfQoJCQkJCX0gfTsKCQkJCQlhc3luYyBmdW5jdGlvbiB0cmFuc2xhdGUoZCwgZiA9ICIiLCBwID0gInJ1IikgewoJCQkJCQlsZXQgbSA9IGF3YWl0IF8uZC5nZXQoInRyYW5zbGF0aW9uU2VydmljZSIsIGgubUUpOwoJCQkJCQlzd2l0Y2ggKG0pIHsKCQkJCQkJCWNhc2UgInlhbmRleGJyb3dzZXIiOgoJCQkJCQkJY2FzZSAibXNlZGdlIjogewoJCQkJCQkJCWxldCBoID0gZiAmJiBwID8gYCR7Zn0tJHtwfWAgOiBwOwoJCQkJCQkJCXJldHVybiBBcnJheS5pc0FycmF5KGQpID8gYXdhaXQgYi50cmFuc2xhdGVNdWx0aXBsZShkLCBoLCBtKSA6IGF3YWl0IGIudHJhbnNsYXRlKGQsIGgsIG0pOwoJCQkJCQkJfQoJCQkJCQkJZGVmYXVsdDogcmV0dXJuIGQ7CgkJCQkJCX0KCQkJCQl9CgkJCQkJYXN5bmMgZnVuY3Rpb24gZGV0ZWN0KGQpIHsKCQkJCQkJbGV0IGYgPSBhd2FpdCBfLmQuZ2V0KCJkZXRlY3RTZXJ2aWNlIiwgaC5LMik7CgkJCQkJCXN3aXRjaCAoZikgewoJCQkJCQkJY2FzZSAieWFuZGV4YnJvd3NlciI6CgkJCQkJCQljYXNlICJtc2VkZ2UiOiByZXR1cm4gYXdhaXQgYi5kZXRlY3QoZCwgZik7CgkJCQkJCQljYXNlICJydXN0LXNlcnZlciI6IHJldHVybiBhd2FpdCB4LmRldGVjdChkKTsKCQkJCQkJCWRlZmF1bHQ6IHJldHVybiAiZW4iOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWxldCBDID0gWyJ5YW5kZXhicm93c2VyIiwgIm1zZWRnZSJdLCB3ID0gWy4uLkMsICJydXN0LXNlcnZlciJdOwoJCQkJCW0oKTsKCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQltKGQpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCSIuL3NyYy91dGlscy91dGlscy50cyI6IChkLCBmLCBwKSA9PiB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJcC5hKGQsIGFzeW5jIChkLCBtKSA9PiB7CgkJCQl0cnkgewoJCQkJCXAuZChmLCB7CgkJCQkJCUJzOiAoKSA9PiBpc1BpUEF2YWlsYWJsZSwKCQkJCQkJQ0s6ICgpID0+IGluaXRIbHMsCgkJCQkJCUVoOiAoKSA9PiBleGl0RnVsbHNjcmVlbiwKCQkJCQkJR1c6ICgpID0+IHRvRmxhdE9iaiwKCQkJCQkJSEQ6ICgpID0+IFQsCgkJCQkJCUxlOiAoKSA9PiBjbGVhckZpbGVOYW1lLAoJCQkJCQlNUjogKCkgPT4gZG93bmxvYWRUcmFuc2xhdGlvbiwKCQkJCQkJUjU6ICgpID0+IEUsCgkJCQkJCVVWOiAoKSA9PiB3YWl0Rm9yQ29uZGl0aW9uLAoJCQkJCQlXTjogKCkgPT4gZG93bmxvYWRCbG9iLAoJCQkJCQlXbzogKCkgPT4gb3BlbkRvd25sb2FkVHJhbnNsYXRpb24sCgkJCQkJCVg1OiAoKSA9PiBjbGVhblRleHQsCgkJCQkJCWRKOiAoKSA9PiBnZXRIZWFkZXJzLAoJCQkJCQlsZzogKCkgPT4gZ2V0VGltZXN0YW1wLAoJCQkJCQlxRTogKCkgPT4gY2xhbXAsCgkJCQkJCXdSOiAoKSA9PiB0aW1lb3V0CgkJCQkJfSk7CgkJCQkJdmFyIGggPSBwKCIuL25vZGVfbW9kdWxlcy9ib3dzZXIvZXM1LmpzIiksIGcgPSBwLm4oaCksIF8gPSBwKCIuL25vZGVfbW9kdWxlcy9icm93c2VyLWlkMy13cml0ZXIvZGlzdC9icm93c2VyLWlkMy13cml0ZXIubWpzIiksIHYgPSBwKCIuL25vZGVfbW9kdWxlcy9Adm90LmpzL3NoYXJlZC9kaXN0L2RhdGEvY29uc3RzLmpzIiksIGIgPSBwKCIuL3NyYy91dGlscy9sb2NhbGl6YXRpb24udHMiKSwgeCA9IGQoW2JdKTsKCQkJCQliID0gKHgudGhlbiA/IChhd2FpdCB4KSgpIDogeClbMF07CgkJCQkJbGV0IEMgPSAvKD86aHR0cHM/fHd3d3xcYmh0dHBccyspW15ccy9dKj8oPzpcLlxzKlthLXpdezIsfXxcLylcUyp8I1teXHMjXSt8YXV0by1nZW5lcmF0ZWRccytieVxzK3lvdXR1YmV8cHJvdmlkZWRccyt0b1xzK3lvdXR1YmVccytieXxyZWxlYXNlZFxzK29ufHBheXBhbD98MHhbXGRhLWZdezQwfXxbMTNdWzEtOWEtel17MjUsMzR9fDRbXGRhYl1bMS05YS16XXs5M318dFsxLTlhLXpdezMzfS9naSwgdyA9IG5ldyBTZXQoWwoJCQkJCQkidWsiLAoJCQkJCQkiYmUiLAoJCQkJCQkiYmciLAoJCQkJCQkibWsiLAoJCQkJCQkic3IiLAoJCQkJCQkiYnMiLAoJCQkJCQkiaHIiLAoJCQkJCQkic2wiLAoJCQkJCQkicGwiLAoJCQkJCQkic2siLAoJCQkJCQkiY3MiCgkJCQkJXSksIFQgPSAoKCkgPT4gdi5YaC5pbmNsdWRlcyhiLnYpID8gYi52IDogdy5oYXMoYi52KSA/ICJydSIgOiAiZW4iKSgpLCBFID0gZygpLmdldFBhcnNlcih3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkuZ2V0UmVzdWx0KCksIGlzUGlQQXZhaWxhYmxlID0gKCkgPT4gInBpY3R1cmVJblBpY3R1cmVFbmFibGVkIiBpbiBkb2N1bWVudCAmJiBkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRW5hYmxlZDsKCQkJCQlmdW5jdGlvbiBpbml0SGxzKCkgewoJCQkJCQlyZXR1cm4gdHlwZW9mIEhscyA8ICJ1IiAmJiBIbHM/LmlzU3VwcG9ydGVkKCkgPyBuZXcgSGxzKHsKCQkJCQkJCWRlYnVnOiAhMSwKCQkJCQkJCWxvd0xhdGVuY3lNb2RlOiAhMCwKCQkJCQkJCWJhY2tCdWZmZXJMZW5ndGg6IDkwCgkJCQkJCX0pIDogdm9pZCAwOwoJCQkJCX0KCQkJCQlmdW5jdGlvbiBjbGVhblRleHQoZCwgZikgewoJCQkJCQlyZXR1cm4gKGQgKyAiICIgKyAoZiB8fCAiIikpLnJlcGxhY2UoQywgIiIpLnJlcGxhY2UoL1teXHB7TH1dKy9ndSwgIiAiKS5zdWJzdHJpbmcoMCwgNDUwKS50cmltKCk7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIGRvd25sb2FkQmxvYihkLCBmKSB7CgkJCQkJCWxldCBwID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkKSwgbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKCQkJCQkJbS5ocmVmID0gcCwgbS5kb3dubG9hZCA9IGYsIG0uY2xpY2soKSwgVVJMLnJldm9rZU9iamVjdFVSTChwKTsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gY2xlYXJGaWxlTmFtZShkKSB7CgkJCQkJCXJldHVybiBkLnRyaW0oKS5sZW5ndGggPT09IDAgPyBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygiZW4tdXMiKS5yZXBsYWNlQWxsKCIvIiwgIi0iKSA6IGQucmVwbGFjZSgvXmh0dHBzPzpcL1wvLywgIiIpLnJlcGxhY2UoL1tcXC86Kj8iJzw+fF0vZywgIi0iKTsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gZ2V0VGltZXN0YW1wKCkgewoJCQkJCQlyZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMWUzKTsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gZ2V0SGVhZGVycyhkKSB7CgkJCQkJCXJldHVybiBkIGluc3RhbmNlb2YgSGVhZGVycyA/IE9iamVjdC5mcm9tRW50cmllcyhkLmVudHJpZXMoKSkgOiBBcnJheS5pc0FycmF5KGQpID8gT2JqZWN0LmZyb21FbnRyaWVzKGQpIDogZCB8fCB7fTsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gY2xhbXAoZCwgZiA9IDAsIHAgPSAxMDApIHsKCQkJCQkJcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGQsIGYpLCBwKTsKCQkJCQl9CgkJCQkJZnVuY3Rpb24gdG9GbGF0T2JqKGQpIHsKCQkJCQkJcmV0dXJuIE9iamVjdC5lbnRyaWVzKGQpLnJlZHVjZSgoZiwgW3AsIG1dKSA9PiB7CgkJCQkJCQlpZiAobSA9PT0gdm9pZCAwKSByZXR1cm4gZjsKCQkJCQkJCWlmICh0eXBlb2YgbSAhPSAib2JqZWN0IikgcmV0dXJuIGZbcF0gPSBtLCBmOwoJCQkJCQkJbGV0IGggPSBPYmplY3QuZW50cmllcyh0b0ZsYXRPYmooZFtwXSkpLnJlZHVjZSgoZCwgW2YsIG1dKSA9PiAoZFtgJHtwfS4ke2Z9YF0gPSBtLCBkKSwge30pOwoJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkuLi5mLAoJCQkJCQkJCS4uLmgKCQkJCQkJCX07CgkJCQkJCX0sIHt9KTsKCQkJCQl9CgkJCQkJYXN5bmMgZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKSB7CgkJCQkJCWxldCBkID0gZG9jdW1lbnQ7CgkJCQkJCShkLmZ1bGxzY3JlZW5FbGVtZW50IHx8IGQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpICYmIChkLndlYmtpdEV4aXRGdWxsc2NyZWVuICYmIGF3YWl0IGQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKSwgZC5leGl0RnVsbHNjcmVlbiAmJiBhd2FpdCBkLmV4aXRGdWxsc2NyZWVuKCkpOwoJCQkJCX0KCQkJCQlsZXQgc2xlZXAgPSAoZCkgPT4gbmV3IFByb21pc2UoKGYpID0+IHNldFRpbWVvdXQoZiwgZCkpOwoJCQkJCWZ1bmN0aW9uIHRpbWVvdXQoZCwgZiA9ICJPcGVyYXRpb24gdGltZWQgb3V0IikgewoJCQkJCQlyZXR1cm4gbmV3IFByb21pc2UoKHAsIG0pID0+IHsKCQkJCQkJCXNldFRpbWVvdXQoKCkgPT4gbShFcnJvcihmKSksIGQpOwoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJYXN5bmMgZnVuY3Rpb24gd2FpdEZvckNvbmRpdGlvbihkLCBmLCBwID0gITEpIHsKCQkJCQkJbGV0IG0gPSAhMTsKCQkJCQkJcmV0dXJuIFByb21pc2UucmFjZShbKGFzeW5jICgpID0+IHsKCQkJCQkJCWZvciAoOyAhZCgpICYmICFtOykgYXdhaXQgc2xlZXAoMTAwKTsKCQkJCQkJfSkoKSwgbmV3IFByb21pc2UoKGQsIGgpID0+IHsKCQkJCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQkJCW0gPSAhMCwgcCA/IGgoRXJyb3IoYFdhaXQgZm9yIGNvbmRpdGlvbiByZWFjaGVkIHRpbWVvdXQgb2YgJHtmfWApKSA6IGQoKTsKCQkJCQkJCX0sIGYpOwoJCQkJCQl9KV0pOwoJCQkJCX0KCQkJCQlhc3luYyBmdW5jdGlvbiBfZG93bmxvYWRUcmFuc2xhdGlvbldpdGhQcm9ncmVzcyhkLCBmLCBwID0gKGQpID0+IHt9KSB7CgkJCQkJCWxldCBtID0gZC5ib2R5Py5nZXRSZWFkZXIoKTsKCQkJCQkJaWYgKCFtKSB0aHJvdyBFcnJvcigiUmVzcG9uc2UgYm9keSBpcyBub3QgcmVhZGFibGUiKTsKCQkJCQkJbGV0IGggPSBuZXcgVWludDhBcnJheShmKSwgZyA9IDA7CgkJCQkJCWZvciAoOzspIHsKCQkJCQkJCWxldCB7IGRvbmU6IGQsIHZhbHVlOiBfIH0gPSBhd2FpdCBtLnJlYWQoKTsKCQkJCQkJCWlmIChkKSBicmVhazsKCQkJCQkJCWguc2V0KF8sIGcpLCBnICs9IF8ubGVuZ3RoLCBwKE1hdGgucm91bmQoZyAvIGYgKiAxMDApKTsKCQkJCQkJfQoJCQkJCQlyZXR1cm4gaC5idWZmZXI7CgkJCQkJfQoJCQkJCWFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkVHJhbnNsYXRpb24oZCwgZiwgcCA9IChkKSA9PiB7fSkgewoJCQkJCQlsZXQgbSA9ICsoZC5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKSA/PyAwKSwgaCA9IGF3YWl0IChtID8gX2Rvd25sb2FkVHJhbnNsYXRpb25XaXRoUHJvZ3Jlc3MoZCwgbSwgcCkgOiBkLmFycmF5QnVmZmVyKCkpOwoJCQkJCQlwKDEwMCk7CgkJCQkJCWxldCBnID0gbmV3IF8uUShoKTsKCQkJCQkJcmV0dXJuIGcuc2V0RnJhbWUoIlRJVDIiLCBmKSwgZy5hZGRUYWcoKSwgZG93bmxvYWRCbG9iKGcuZ2V0QmxvYigpLCBgJHtmfS5tcDNgKSwgITA7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIG9wZW5Eb3dubG9hZFRyYW5zbGF0aW9uKGQpIHsKCQkJCQkJd2luZG93Lm9wZW4oZCwgIl9ibGFuayIpPy5mb2N1cygpOwoJCQkJCX0KCQkJCQltKCk7CgkJCQl9IGNhdGNoIChkKSB7CgkJCQkJbShkKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQkiLi9zcmMvdXRpbHMvdm9sdW1lLnRzIjogKGQsIGYsIHApID0+IHsKCQkJInVzZSBzdHJpY3QiOwoJCQlwLmQoZiwgeyBxOiAoKSA9PiBzeW5jVm9sdW1lIH0pOwoJCQlmdW5jdGlvbiBzeW5jVm9sdW1lKGQsIGYsIHAsIG0pIHsKCQkJCWxldCBoID0gZjsKCQkJCXJldHVybiBmID4gbSA/IChoID0gcCArIChmIC0gbSksIGggPSBoID4gMTAwID8gMTAwIDogTWF0aC5tYXgoaCwgMCksIGQudm9sdW1lID0gaCAvIDEwMCkgOiBmIDwgbSAmJiAoaCA9IHAgLSAobSAtIGYpLCBoID0gaCA+IDEwMCA/IDEwMCA6IE1hdGgubWF4KGgsIDApLCBkLnZvbHVtZSA9IGggLyAxMDApLCBoOwoJCQl9CgkJfQoJfSwgZiA9IHt9OwoJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhwKSB7CgkJdmFyIG0gPSBmW3BdOwoJCWlmIChtICE9PSB2b2lkIDApIHJldHVybiBtLmV4cG9ydHM7CgkJdmFyIGggPSBmW3BdID0geyBleHBvcnRzOiB7fSB9OwoJCXJldHVybiBkW3BdLmNhbGwoaC5leHBvcnRzLCBoLCBoLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pLCBoLmV4cG9ydHM7Cgl9CgkoKCkgPT4gewoJCXZhciBkID0gdHlwZW9mIFN5bWJvbCA9PSAiZnVuY3Rpb24iID8gU3ltYm9sKCJ3ZWJwYWNrIHF1ZXVlcyIpIDogIl9fd2VicGFja19xdWV1ZXNfXyIsIGYgPSB0eXBlb2YgU3ltYm9sID09ICJmdW5jdGlvbiIgPyBTeW1ib2woIndlYnBhY2sgZXhwb3J0cyIpIDogIl9fd2VicGFja19leHBvcnRzX18iLCBwID0gdHlwZW9mIFN5bWJvbCA9PSAiZnVuY3Rpb24iID8gU3ltYm9sKCJ3ZWJwYWNrIGVycm9yIikgOiAiX193ZWJwYWNrX2Vycm9yX18iLCByZXNvbHZlUXVldWUgPSAoZCkgPT4gewoJCQlkICYmIGQuZCA8IDEgJiYgKGQuZCA9IDEsIGQuZm9yRWFjaCgoZCkgPT4gZC5yLS0pLCBkLmZvckVhY2goKGQpID0+IGQuci0tID8gZC5yKysgOiBkKCkpKTsKCQl9LCB3cmFwRGVwcyA9IChtKSA9PiBtLm1hcCgobSkgPT4gewoJCQlpZiAodHlwZW9mIG0gPT0gIm9iamVjdCIgJiYgbSkgewoJCQkJaWYgKG1bZF0pIHJldHVybiBtOwoJCQkJaWYgKG0udGhlbikgewoJCQkJCXZhciBoID0gW107CgkJCQkJaC5kID0gMCwgbS50aGVuKChkKSA9PiB7CgkJCQkJCWdbZl0gPSBkLCByZXNvbHZlUXVldWUoaCk7CgkJCQkJfSwgKGQpID0+IHsKCQkJCQkJZ1twXSA9IGQsIHJlc29sdmVRdWV1ZShoKTsKCQkJCQl9KTsKCQkJCQl2YXIgZyA9IHt9OwoJCQkJCXJldHVybiBnW2RdID0gKGQpID0+IGQoaCksIGc7CgkJCQl9CgkJCX0KCQkJdmFyIF8gPSB7fTsKCQkJcmV0dXJuIF9bZF0gPSAoZCkgPT4ge30sIF9bZl0gPSBtLCBfOwoJCX0pOwoJCV9fd2VicGFja19yZXF1aXJlX18uYSA9IChtLCBoLCBnKSA9PiB7CgkJCXZhciBfOwoJCQlnICYmICgoXyA9IFtdKS5kID0gLTEpOwoJCQl2YXIgdiA9IG5ldyBTZXQoKSwgZXhwb3J0cyA9IG0uZXhwb3J0cywgeCwgQywgdywgVCA9IG5ldyBQcm9taXNlKChkLCBmKSA9PiB7CgkJCQl3ID0gZiwgQyA9IGQ7CgkJCX0pOwoJCQlUW2ZdID0gZXhwb3J0cywgVFtkXSA9IChkKSA9PiAoXyAmJiBkKF8pLCB2LmZvckVhY2goZCksIFQuY2F0Y2goKGQpID0+IHt9KSksIG0uZXhwb3J0cyA9IFQsIGgoKG0pID0+IHsKCQkJCXggPSB3cmFwRGVwcyhtKTsKCQkJCXZhciBmbiwgZ2V0UmVzdWx0ID0gKCkgPT4geC5tYXAoKGQpID0+IHsKCQkJCQlpZiAoZFtwXSkgdGhyb3cgZFtwXTsKCQkJCQlyZXR1cm4gZFtmXTsKCQkJCX0pLCBoID0gbmV3IFByb21pc2UoKGYpID0+IHsKCQkJCQlmbiA9ICgpID0+IGYoZ2V0UmVzdWx0KSwgZm4uciA9IDA7CgkJCQkJdmFyIGZuUXVldWUgPSAoZCkgPT4gZCAhPT0gXyAmJiAhdi5oYXMoZCkgJiYgKHYuYWRkKGQpLCBkICYmICFkLmQgJiYgKGZuLnIrKywgZC5wdXNoKGZuKSkpOwoJCQkJCXgubWFwKChmKSA9PiBmW2RdKGZuUXVldWUpKTsKCQkJCX0pOwoJCQkJcmV0dXJuIGZuLnIgPyBoIDogZ2V0UmVzdWx0KCk7CgkJCX0sIChkKSA9PiAoZCA/IHcoVFtwXSA9IGQpIDogQyhleHBvcnRzKSwgcmVzb2x2ZVF1ZXVlKF8pKSksIF8gJiYgXy5kIDwgMCAmJiAoXy5kID0gMCk7CgkJfTsKCX0pKCksIF9fd2VicGFja19yZXF1aXJlX18ubiA9IChkKSA9PiB7CgkJdmFyIGYgPSBkICYmIGQuX19lc01vZHVsZSA/ICgpID0+IGQuZGVmYXVsdCA6ICgpID0+IGQ7CgkJcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChmLCB7IGE6IGYgfSksIGY7Cgl9LCBfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZikgPT4gewoJCWZvciAodmFyIHAgaW4gZikgX193ZWJwYWNrX3JlcXVpcmVfXy5vKGYsIHApICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgcCkgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIHAsIHsKCQkJZW51bWVyYWJsZTogITAsCgkJCWdldDogZltwXQoJCX0pOwoJfSwgX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKGQsIGYpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLCBmKTsKCXZhciBwID0gX193ZWJwYWNrX3JlcXVpcmVfXygiLi9zcmMvaW5kZXguanMiKTsKfSkoKTsK","requires":[{"meta":{"name":"hls.light.min.js","url":"https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.5.18/hls.light.min.js","ts":1750858829797,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uIGUodCl7dmFyIHIsaTtyPXRoaXMsaT1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYoaT1pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixpKX1yZXR1cm4gcn1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3IoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcixuLHM7cj1lLG49dCxzPWlbdF0sKG49YShuKSlpbiByP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG4se3ZhbHVlOnMsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpyW25dPXN9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6cihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBhKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIGk9ci5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9dHlwZW9mIGkpcmV0dXJuIGk7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHQ/dDpTdHJpbmcodCl9ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYShpLmtleSksaSl9fWZ1bmN0aW9uIHMoZSx0LHIpe3JldHVybiB0JiZuKGUucHJvdG90eXBlLHQpLHImJm4oZSxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIG8oKXtyZXR1cm4gbz1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSYmKGVbaV09cltpXSl9cmV0dXJuIGV9LG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGwoZSx0KXtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGQoZSx0KX1mdW5jdGlvbiB1KGUpe3JldHVybiB1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSx1KGUpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGQoZSx0KX1mdW5jdGlvbiBoKGUsdCxyKXtyZXR1cm4gaD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk/UmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1bbnVsbF07aS5wdXNoLmFwcGx5KGksdCk7dmFyIGE9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoZSxpKSk7cmV0dXJuIHImJmQoYSxyLnByb3RvdHlwZSksYX0saC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgTWFwP25ldyBNYXA6dm9pZCAwO3JldHVybiBmPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHwhZnVuY3Rpb24oZSl7dHJ5e3JldHVybi0xIT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChlKS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIil9Y2F0Y2godCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9fShlKSlyZXR1cm4gZTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2lmKHZvaWQgMCE9PXQpe2lmKHQuaGFzKGUpKXJldHVybiB0LmdldChlKTt0LnNldChlLHIpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gaChlLGFyZ3VtZW50cyx1KHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZChyLGUpfSxmKGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsImRlZmF1bHQiKT9lLmRlZmF1bHQ6ZX12YXIgdj17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxhLG4scztyPS9eKD89KCg/OlthLXpBLVowLTkrXC0uXSs6KT8pKVwxKD89KCg/OlwvXC9bXlwvPyNdKik/KSlcMig/PSgoPzooPzpbXj8jXC9dKlwvKSpbXjs/I1wvXSopPykpXDMoKD86O1tePyNdKik/KShcP1teI10qKT8oI1teXSopPyQvLGk9L14oPz0oW15cLz8jXSopKVwxKFteXSopJC8sYT0vKD86XC98XilcLig/PVwvKS9nLG49Lyg/OlwvfF4pXC5cLlwvKD8hXC5cLlwvKVteXC9dKig/PVwvKS9nLHM9e2J1aWxkQWJzb2x1dGVVUkw6ZnVuY3Rpb24oZSx0LHIpe2lmKHI9cnx8e30sZT1lLnRyaW0oKSwhKHQ9dC50cmltKCkpKXtpZighci5hbHdheXNOb3JtYWxpemUpcmV0dXJuIGU7dmFyIGE9cy5wYXJzZVVSTChlKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4iKTtyZXR1cm4gYS5wYXRoPXMubm9ybWFsaXplUGF0aChhLnBhdGgpLHMuYnVpbGRVUkxGcm9tUGFydHMoYSl9dmFyIG49cy5wYXJzZVVSTCh0KTtpZighbil0aHJvdyBuZXcgRXJyb3IoIkVycm9yIHRyeWluZyB0byBwYXJzZSByZWxhdGl2ZSBVUkwuIik7aWYobi5zY2hlbWUpcmV0dXJuIHIuYWx3YXlzTm9ybWFsaXplPyhuLnBhdGg9cy5ub3JtYWxpemVQYXRoKG4ucGF0aCkscy5idWlsZFVSTEZyb21QYXJ0cyhuKSk6dDt2YXIgbz1zLnBhcnNlVVJMKGUpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLiIpO2lmKCFvLm5ldExvYyYmby5wYXRoJiYiLyIhPT1vLnBhdGhbMF0pe3ZhciBsPWkuZXhlYyhvLnBhdGgpO28ubmV0TG9jPWxbMV0sby5wYXRoPWxbMl19by5uZXRMb2MmJiFvLnBhdGgmJihvLnBhdGg9Ii8iKTt2YXIgdT17c2NoZW1lOm8uc2NoZW1lLG5ldExvYzpuLm5ldExvYyxwYXRoOm51bGwscGFyYW1zOm4ucGFyYW1zLHF1ZXJ5Om4ucXVlcnksZnJhZ21lbnQ6bi5mcmFnbWVudH07aWYoIW4ubmV0TG9jJiYodS5uZXRMb2M9by5uZXRMb2MsIi8iIT09bi5wYXRoWzBdKSlpZihuLnBhdGgpe3ZhciBkPW8ucGF0aCxoPWQuc3Vic3RyaW5nKDAsZC5sYXN0SW5kZXhPZigiLyIpKzEpK24ucGF0aDt1LnBhdGg9cy5ub3JtYWxpemVQYXRoKGgpfWVsc2UgdS5wYXRoPW8ucGF0aCxuLnBhcmFtc3x8KHUucGFyYW1zPW8ucGFyYW1zLG4ucXVlcnl8fCh1LnF1ZXJ5PW8ucXVlcnkpKTtyZXR1cm4gbnVsbD09PXUucGF0aCYmKHUucGF0aD1yLmFsd2F5c05vcm1hbGl6ZT9zLm5vcm1hbGl6ZVBhdGgobi5wYXRoKTpuLnBhdGgpLHMuYnVpbGRVUkxGcm9tUGFydHModSl9LHBhcnNlVVJMOmZ1bmN0aW9uKGUpe3ZhciB0PXIuZXhlYyhlKTtyZXR1cm4gdD97c2NoZW1lOnRbMV18fCIiLG5ldExvYzp0WzJdfHwiIixwYXRoOnRbM118fCIiLHBhcmFtczp0WzRdfHwiIixxdWVyeTp0WzVdfHwiIixmcmFnbWVudDp0WzZdfHwiIn06bnVsbH0sbm9ybWFsaXplUGF0aDpmdW5jdGlvbihlKXtmb3IoZT1lLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIikucmVwbGFjZShhLCIiKTtlLmxlbmd0aCE9PShlPWUucmVwbGFjZShuLCIiKSkubGVuZ3RoOyk7cmV0dXJuIGUuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKX0sYnVpbGRVUkxGcm9tUGFydHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NoZW1lK2UubmV0TG9jK2UucGF0aCtlLnBhcmFtcytlLnF1ZXJ5K2UuZnJhZ21lbnR9fSxlLmV4cG9ydHM9c30odik7dmFyIGc9di5leHBvcnRzLG09TnVtYmVyLmlzRmluaXRlfHxmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpfSxwPU51bWJlci5pc1NhZmVJbnRlZ2VyfHxmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJk1hdGguYWJzKGUpPD15fSx5PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSfHw5MDA3MTk5MjU0NzQwOTkxLEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTUVESUFfQVRUQUNISU5HPSJobHNNZWRpYUF0dGFjaGluZyIsZS5NRURJQV9BVFRBQ0hFRD0iaGxzTWVkaWFBdHRhY2hlZCIsZS5NRURJQV9ERVRBQ0hJTkc9Imhsc01lZGlhRGV0YWNoaW5nIixlLk1FRElBX0RFVEFDSEVEPSJobHNNZWRpYURldGFjaGVkIixlLkJVRkZFUl9SRVNFVD0iaGxzQnVmZmVyUmVzZXQiLGUuQlVGRkVSX0NPREVDUz0iaGxzQnVmZmVyQ29kZWNzIixlLkJVRkZFUl9DUkVBVEVEPSJobHNCdWZmZXJDcmVhdGVkIixlLkJVRkZFUl9BUFBFTkRJTkc9Imhsc0J1ZmZlckFwcGVuZGluZyIsZS5CVUZGRVJfQVBQRU5ERUQ9Imhsc0J1ZmZlckFwcGVuZGVkIixlLkJVRkZFUl9FT1M9Imhsc0J1ZmZlckVvcyIsZS5CVUZGRVJfRkxVU0hJTkc9Imhsc0J1ZmZlckZsdXNoaW5nIixlLkJVRkZFUl9GTFVTSEVEPSJobHNCdWZmZXJGbHVzaGVkIixlLk1BTklGRVNUX0xPQURJTkc9Imhsc01hbmlmZXN0TG9hZGluZyIsZS5NQU5JRkVTVF9MT0FERUQ9Imhsc01hbmlmZXN0TG9hZGVkIixlLk1BTklGRVNUX1BBUlNFRD0iaGxzTWFuaWZlc3RQYXJzZWQiLGUuTEVWRUxfU1dJVENISU5HPSJobHNMZXZlbFN3aXRjaGluZyIsZS5MRVZFTF9TV0lUQ0hFRD0iaGxzTGV2ZWxTd2l0Y2hlZCIsZS5MRVZFTF9MT0FESU5HPSJobHNMZXZlbExvYWRpbmciLGUuTEVWRUxfTE9BREVEPSJobHNMZXZlbExvYWRlZCIsZS5MRVZFTF9VUERBVEVEPSJobHNMZXZlbFVwZGF0ZWQiLGUuTEVWRUxfUFRTX1VQREFURUQ9Imhsc0xldmVsUHRzVXBkYXRlZCIsZS5MRVZFTFNfVVBEQVRFRD0iaGxzTGV2ZWxzVXBkYXRlZCIsZS5BVURJT19UUkFDS1NfVVBEQVRFRD0iaGxzQXVkaW9UcmFja3NVcGRhdGVkIixlLkFVRElPX1RSQUNLX1NXSVRDSElORz0iaGxzQXVkaW9UcmFja1N3aXRjaGluZyIsZS5BVURJT19UUkFDS19TV0lUQ0hFRD0iaGxzQXVkaW9UcmFja1N3aXRjaGVkIixlLkFVRElPX1RSQUNLX0xPQURJTkc9Imhsc0F1ZGlvVHJhY2tMb2FkaW5nIixlLkFVRElPX1RSQUNLX0xPQURFRD0iaGxzQXVkaW9UcmFja0xvYWRlZCIsZS5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRD0iaGxzU3VidGl0bGVUcmFja3NVcGRhdGVkIixlLlNVQlRJVExFX1RSQUNLU19DTEVBUkVEPSJobHNTdWJ0aXRsZVRyYWNrc0NsZWFyZWQiLGUuU1VCVElUTEVfVFJBQ0tfU1dJVENIPSJobHNTdWJ0aXRsZVRyYWNrU3dpdGNoIixlLlNVQlRJVExFX1RSQUNLX0xPQURJTkc9Imhsc1N1YnRpdGxlVHJhY2tMb2FkaW5nIixlLlNVQlRJVExFX1RSQUNLX0xPQURFRD0iaGxzU3VidGl0bGVUcmFja0xvYWRlZCIsZS5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRD0iaGxzU3VidGl0bGVGcmFnUHJvY2Vzc2VkIixlLkNVRVNfUEFSU0VEPSJobHNDdWVzUGFyc2VkIixlLk5PTl9OQVRJVkVfVEVYVF9UUkFDS1NfRk9VTkQ9Imhsc05vbk5hdGl2ZVRleHRUcmFja3NGb3VuZCIsZS5JTklUX1BUU19GT1VORD0iaGxzSW5pdFB0c0ZvdW5kIixlLkZSQUdfTE9BRElORz0iaGxzRnJhZ0xvYWRpbmciLGUuRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVEPSJobHNGcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQiLGUuRlJBR19MT0FERUQ9Imhsc0ZyYWdMb2FkZWQiLGUuRlJBR19ERUNSWVBURUQ9Imhsc0ZyYWdEZWNyeXB0ZWQiLGUuRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVD0iaGxzRnJhZ1BhcnNpbmdJbml0U2VnbWVudCIsZS5GUkFHX1BBUlNJTkdfVVNFUkRBVEE9Imhsc0ZyYWdQYXJzaW5nVXNlcmRhdGEiLGUuRlJBR19QQVJTSU5HX01FVEFEQVRBPSJobHNGcmFnUGFyc2luZ01ldGFkYXRhIixlLkZSQUdfUEFSU0VEPSJobHNGcmFnUGFyc2VkIixlLkZSQUdfQlVGRkVSRUQ9Imhsc0ZyYWdCdWZmZXJlZCIsZS5GUkFHX0NIQU5HRUQ9Imhsc0ZyYWdDaGFuZ2VkIixlLkZQU19EUk9QPSJobHNGcHNEcm9wIixlLkZQU19EUk9QX0xFVkVMX0NBUFBJTkc9Imhsc0Zwc0Ryb3BMZXZlbENhcHBpbmciLGUuTUFYX0FVVE9fTEVWRUxfVVBEQVRFRD0iaGxzTWF4QXV0b0xldmVsVXBkYXRlZCIsZS5FUlJPUj0iaGxzRXJyb3IiLGUuREVTVFJPWUlORz0iaGxzRGVzdHJveWluZyIsZS5LRVlfTE9BRElORz0iaGxzS2V5TG9hZGluZyIsZS5LRVlfTE9BREVEPSJobHNLZXlMb2FkZWQiLGUuTElWRV9CQUNLX0JVRkZFUl9SRUFDSEVEPSJobHNMaXZlQmFja0J1ZmZlclJlYWNoZWQiLGUuQkFDS19CVUZGRVJfUkVBQ0hFRD0iaGxzQmFja0J1ZmZlclJlYWNoZWQiLGUuU1RFRVJJTkdfTUFOSUZFU1RfTE9BREVEPSJobHNTdGVlcmluZ01hbmlmZXN0TG9hZGVkIixlfSh7fSksVD1mdW5jdGlvbihlKXtyZXR1cm4gZS5ORVRXT1JLX0VSUk9SPSJuZXR3b3JrRXJyb3IiLGUuTUVESUFfRVJST1I9Im1lZGlhRXJyb3IiLGUuS0VZX1NZU1RFTV9FUlJPUj0ia2V5U3lzdGVtRXJyb3IiLGUuTVVYX0VSUk9SPSJtdXhFcnJvciIsZS5PVEhFUl9FUlJPUj0ib3RoZXJFcnJvciIsZX0oe30pLFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuS0VZX1NZU1RFTV9OT19LRVlTPSJrZXlTeXN0ZW1Ob0tleXMiLGUuS0VZX1NZU1RFTV9OT19BQ0NFU1M9ImtleVN5c3RlbU5vQWNjZXNzIixlLktFWV9TWVNURU1fTk9fU0VTU0lPTj0ia2V5U3lzdGVtTm9TZXNzaW9uIixlLktFWV9TWVNURU1fTk9fQ09ORklHVVJFRF9MSUNFTlNFPSJrZXlTeXN0ZW1Ob0NvbmZpZ3VyZWRMaWNlbnNlIixlLktFWV9TWVNURU1fTElDRU5TRV9SRVFVRVNUX0ZBSUxFRD0ia2V5U3lzdGVtTGljZW5zZVJlcXVlc3RGYWlsZWQiLGUuS0VZX1NZU1RFTV9TRVJWRVJfQ0VSVElGSUNBVEVfUkVRVUVTVF9GQUlMRUQ9ImtleVN5c3RlbVNlcnZlckNlcnRpZmljYXRlUmVxdWVzdEZhaWxlZCIsZS5LRVlfU1lTVEVNX1NFUlZFUl9DRVJUSUZJQ0FURV9VUERBVEVfRkFJTEVEPSJrZXlTeXN0ZW1TZXJ2ZXJDZXJ0aWZpY2F0ZVVwZGF0ZUZhaWxlZCIsZS5LRVlfU1lTVEVNX1NFU1NJT05fVVBEQVRFX0ZBSUxFRD0ia2V5U3lzdGVtU2Vzc2lvblVwZGF0ZUZhaWxlZCIsZS5LRVlfU1lTVEVNX1NUQVRVU19PVVRQVVRfUkVTVFJJQ1RFRD0ia2V5U3lzdGVtU3RhdHVzT3V0cHV0UmVzdHJpY3RlZCIsZS5LRVlfU1lTVEVNX1NUQVRVU19JTlRFUk5BTF9FUlJPUj0ia2V5U3lzdGVtU3RhdHVzSW50ZXJuYWxFcnJvciIsZS5NQU5JRkVTVF9MT0FEX0VSUk9SPSJtYW5pZmVzdExvYWRFcnJvciIsZS5NQU5JRkVTVF9MT0FEX1RJTUVPVVQ9Im1hbmlmZXN0TG9hZFRpbWVPdXQiLGUuTUFOSUZFU1RfUEFSU0lOR19FUlJPUj0ibWFuaWZlc3RQYXJzaW5nRXJyb3IiLGUuTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUj0ibWFuaWZlc3RJbmNvbXBhdGlibGVDb2RlY3NFcnJvciIsZS5MRVZFTF9FTVBUWV9FUlJPUj0ibGV2ZWxFbXB0eUVycm9yIixlLkxFVkVMX0xPQURfRVJST1I9ImxldmVsTG9hZEVycm9yIixlLkxFVkVMX0xPQURfVElNRU9VVD0ibGV2ZWxMb2FkVGltZU91dCIsZS5MRVZFTF9QQVJTSU5HX0VSUk9SPSJsZXZlbFBhcnNpbmdFcnJvciIsZS5MRVZFTF9TV0lUQ0hfRVJST1I9ImxldmVsU3dpdGNoRXJyb3IiLGUuQVVESU9fVFJBQ0tfTE9BRF9FUlJPUj0iYXVkaW9UcmFja0xvYWRFcnJvciIsZS5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ9ImF1ZGlvVHJhY2tMb2FkVGltZU91dCIsZS5TVUJUSVRMRV9MT0FEX0VSUk9SPSJzdWJ0aXRsZVRyYWNrTG9hZEVycm9yIixlLlNVQlRJVExFX1RSQUNLX0xPQURfVElNRU9VVD0ic3VidGl0bGVUcmFja0xvYWRUaW1lT3V0IixlLkZSQUdfTE9BRF9FUlJPUj0iZnJhZ0xvYWRFcnJvciIsZS5GUkFHX0xPQURfVElNRU9VVD0iZnJhZ0xvYWRUaW1lT3V0IixlLkZSQUdfREVDUllQVF9FUlJPUj0iZnJhZ0RlY3J5cHRFcnJvciIsZS5GUkFHX1BBUlNJTkdfRVJST1I9ImZyYWdQYXJzaW5nRXJyb3IiLGUuRlJBR19HQVA9ImZyYWdHYXAiLGUuUkVNVVhfQUxMT0NfRVJST1I9InJlbXV4QWxsb2NFcnJvciIsZS5LRVlfTE9BRF9FUlJPUj0ia2V5TG9hZEVycm9yIixlLktFWV9MT0FEX1RJTUVPVVQ9ImtleUxvYWRUaW1lT3V0IixlLkJVRkZFUl9BRERfQ09ERUNfRVJST1I9ImJ1ZmZlckFkZENvZGVjRXJyb3IiLGUuQlVGRkVSX0lOQ09NUEFUSUJMRV9DT0RFQ1NfRVJST1I9ImJ1ZmZlckluY29tcGF0aWJsZUNvZGVjc0Vycm9yIixlLkJVRkZFUl9BUFBFTkRfRVJST1I9ImJ1ZmZlckFwcGVuZEVycm9yIixlLkJVRkZFUl9BUFBFTkRJTkdfRVJST1I9ImJ1ZmZlckFwcGVuZGluZ0Vycm9yIixlLkJVRkZFUl9TVEFMTEVEX0VSUk9SPSJidWZmZXJTdGFsbGVkRXJyb3IiLGUuQlVGRkVSX0ZVTExfRVJST1I9ImJ1ZmZlckZ1bGxFcnJvciIsZS5CVUZGRVJfU0VFS19PVkVSX0hPTEU9ImJ1ZmZlclNlZWtPdmVySG9sZSIsZS5CVUZGRVJfTlVER0VfT05fU1RBTEw9ImJ1ZmZlck51ZGdlT25TdGFsbCIsZS5JTlRFUk5BTF9FWENFUFRJT049ImludGVybmFsRXhjZXB0aW9uIixlLklOVEVSTkFMX0FCT1JURUQ9ImFib3J0ZWQiLGUuVU5LTk9XTj0idW5rbm93biIsZX0oe30pLEw9ZnVuY3Rpb24oKXt9LFI9e3RyYWNlOkwsZGVidWc6TCxsb2c6TCx3YXJuOkwsaW5mbzpMLGVycm9yOkx9LEE9UjtmdW5jdGlvbiBiKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KHQ+MT90LTE6MCksaT0xO2k8dDtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtyLmZvckVhY2goKGZ1bmN0aW9uKHQpe0FbdF09ZVt0XT9lW3RdLmJpbmQoZSk6ZnVuY3Rpb24oZSl7dmFyIHQ9c2VsZi5jb25zb2xlW2VdO3JldHVybiB0P3QuYmluZChzZWxmLmNvbnNvbGUsIlsiK2UrIl0gPiIpOkx9KHQpfSkpfWZ1bmN0aW9uIGsoZSx0KXtpZigib2JqZWN0Ij09dHlwZW9mIGNvbnNvbGUmJiEwPT09ZXx8Im9iamVjdCI9PXR5cGVvZiBlKXtiKGUsImRlYnVnIiwibG9nIiwiaW5mbyIsIndhcm4iLCJlcnJvciIpO3RyeXtBLmxvZygnRGVidWcgbG9ncyBlbmFibGVkIGZvciAiJyt0KyciIGluIGhscy5qcyB2ZXJzaW9uIDEuNS4xOCcpfWNhdGNoKGUpe0E9Un19ZWxzZSBBPVJ9dmFyIEQ9QSxfPS9eKFxkKyl4KFxkKykkLyx4PS8oLis/KT0oIi4qPyJ8Lio/KSg/Oix8JCkvZyx3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PWUucGFyc2VBdHRyTGlzdCh0KSksbyh0aGlzLHQpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlY2ltYWxJbnRlZ2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KHRoaXNbZV0sMTApO3JldHVybiB0Pk51bWJlci5NQVhfU0FGRV9JTlRFR0VSPzEvMDp0fSx0LmhleGFkZWNpbWFsSW50ZWdlcj1mdW5jdGlvbihlKXtpZih0aGlzW2VdKXt2YXIgdD0odGhpc1tlXXx8IjB4Iikuc2xpY2UoMik7dD0oMSZ0Lmxlbmd0aD8iMCI6IiIpK3Q7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoLzIpLGk9MDtpPHQubGVuZ3RoLzI7aSsrKXJbaV09cGFyc2VJbnQodC5zbGljZSgyKmksMippKzIpLDE2KTtyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5oZXhhZGVjaW1hbEludGVnZXJBc051bWJlcj1mdW5jdGlvbihlKXt2YXIgdD1wYXJzZUludCh0aGlzW2VdLDE2KTtyZXR1cm4gdD5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj8xLzA6dH0sdC5kZWNpbWFsRmxvYXRpbmdQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VGbG9hdCh0aGlzW2VdKX0sdC5vcHRpb25hbEZsb2F0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpc1tlXTtyZXR1cm4gcj9wYXJzZUZsb2F0KHIpOnR9LHQuZW51bWVyYXRlZFN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tlXX0sdC5ib29sPWZ1bmN0aW9uKGUpe3JldHVybiJZRVMiPT09dGhpc1tlXX0sdC5kZWNpbWFsUmVzb2x1dGlvbj1mdW5jdGlvbihlKXt2YXIgdD1fLmV4ZWModGhpc1tlXSk7aWYobnVsbCE9PXQpcmV0dXJue3dpZHRoOnBhcnNlSW50KHRbMV0sMTApLGhlaWdodDpwYXJzZUludCh0WzJdLDEwKX19LGUucGFyc2VBdHRyTGlzdD1mdW5jdGlvbihlKXt2YXIgdCxyPXt9O2Zvcih4Lmxhc3RJbmRleD0wO251bGwhPT0odD14LmV4ZWMoZSkpOyl7dmFyIGk9dFsyXTswPT09aS5pbmRleE9mKCciJykmJmkubGFzdEluZGV4T2YoJyInKT09PWkubGVuZ3RoLTEmJihpPWkuc2xpY2UoMSwtMSkpLHJbdFsxXS50cmltKCldPWl9cmV0dXJuIHJ9LHMoZSxbe2tleToiY2xpZW50QXR0cnMiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJYLSI9PT1lLnN1YnN0cmluZygwLDIpfSkpfX1dKSxlfSgpO2Z1bmN0aW9uIEMoZSl7cmV0dXJuIlNDVEUzNS1PVVQiPT09ZXx8IlNDVEUzNS1JTiI9PT1lfXZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2lmKHRoaXMuYXR0cj12b2lkIDAsdGhpcy5fc3RhcnREYXRlPXZvaWQgMCx0aGlzLl9lbmREYXRlPXZvaWQgMCx0aGlzLl9iYWRWYWx1ZUZvclNhbWVJZD12b2lkIDAsdCl7dmFyIHI9dC5hdHRyO2Zvcih2YXIgaSBpbiByKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZlW2ldIT09cltpXSl7RC53YXJuKCdEQVRFUkFOR0UgdGFnIGF0dHJpYnV0ZTogIicraSsnIiBkb2VzIG5vdCBtYXRjaCBmb3IgdGFncyB3aXRoIElEOiAiJytlLklEKyciJyksdGhpcy5fYmFkVmFsdWVGb3JTYW1lSWQ9aTticmVha31lPW8obmV3IHcoe30pLHIsZSl9aWYodGhpcy5hdHRyPWUsdGhpcy5fc3RhcnREYXRlPW5ldyBEYXRlKGVbIlNUQVJULURBVEUiXSksIkVORC1EQVRFImluIHRoaXMuYXR0cil7dmFyIGE9bmV3IERhdGUodGhpcy5hdHRyWyJFTkQtREFURSJdKTttKGEuZ2V0VGltZSgpKSYmKHRoaXMuX2VuZERhdGU9YSl9fXJldHVybiBzKGUsW3trZXk6ImlkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyLklEfX0se2tleToiY2xhc3MiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHIuQ0xBU1N9fSx7a2V5OiJzdGFydERhdGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydERhdGV9fSx7a2V5OiJlbmREYXRlIixnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmREYXRlKXJldHVybiB0aGlzLl9lbmREYXRlO3ZhciBlPXRoaXMuZHVyYXRpb247cmV0dXJuIG51bGwhPT1lP25ldyBEYXRlKHRoaXMuX3N0YXJ0RGF0ZS5nZXRUaW1lKCkrMWUzKmUpOm51bGx9fSx7a2V5OiJkdXJhdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7aWYoIkRVUkFUSU9OImluIHRoaXMuYXR0cil7dmFyIGU9dGhpcy5hdHRyLmRlY2ltYWxGbG9hdGluZ1BvaW50KCJEVVJBVElPTiIpO2lmKG0oZSkpcmV0dXJuIGV9ZWxzZSBpZih0aGlzLl9lbmREYXRlKXJldHVybih0aGlzLl9lbmREYXRlLmdldFRpbWUoKS10aGlzLl9zdGFydERhdGUuZ2V0VGltZSgpKS8xZTM7cmV0dXJuIG51bGx9fSx7a2V5OiJwbGFubmVkRHVyYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiJQTEFOTkVELURVUkFUSU9OImluIHRoaXMuYXR0cj90aGlzLmF0dHIuZGVjaW1hbEZsb2F0aW5nUG9pbnQoIlBMQU5ORUQtRFVSQVRJT04iKTpudWxsfX0se2tleToiZW5kT25OZXh0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyLmJvb2woIkVORC1PTi1ORVhUIil9fSx7a2V5OiJpc1ZhbGlkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuaWQmJiF0aGlzLl9iYWRWYWx1ZUZvclNhbWVJZCYmbSh0aGlzLnN0YXJ0RGF0ZS5nZXRUaW1lKCkpJiYobnVsbD09PXRoaXMuZHVyYXRpb258fHRoaXMuZHVyYXRpb24+PTApJiYoIXRoaXMuZW5kT25OZXh0fHwhIXRoaXMuY2xhc3MpfX1dKSxlfSgpLFA9ZnVuY3Rpb24oKXt0aGlzLmFib3J0ZWQ9ITEsdGhpcy5sb2FkZWQ9MCx0aGlzLnJldHJ5PTAsdGhpcy50b3RhbD0wLHRoaXMuY2h1bmtDb3VudD0wLHRoaXMuYndFc3RpbWF0ZT0wLHRoaXMubG9hZGluZz17c3RhcnQ6MCxmaXJzdDowLGVuZDowfSx0aGlzLnBhcnNpbmc9e3N0YXJ0OjAsZW5kOjB9LHRoaXMuYnVmZmVyaW5nPXtzdGFydDowLGZpcnN0OjAsZW5kOjB9fSxGPSJhdWRpbyIsTz0idmlkZW8iLE09ImF1ZGlvdmlkZW8iLE49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0O3RoaXMuX2J5dGVSYW5nZT1udWxsLHRoaXMuX3VybD1udWxsLHRoaXMuYmFzZXVybD12b2lkIDAsdGhpcy5yZWx1cmw9dm9pZCAwLHRoaXMuZWxlbWVudGFyeVN0cmVhbXM9KCh0PXt9KVtGXT1udWxsLHRbT109bnVsbCx0W01dPW51bGwsdCksdGhpcy5iYXNldXJsPWV9cmV0dXJuIGUucHJvdG90eXBlLnNldEJ5dGVSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciByLGk9ZS5zcGxpdCgiQCIsMik7cj0xPT09aS5sZW5ndGg/KG51bGw9PXQ/dm9pZCAwOnQuYnl0ZVJhbmdlRW5kT2Zmc2V0KXx8MDpwYXJzZUludChpWzFdKSx0aGlzLl9ieXRlUmFuZ2U9W3IscGFyc2VJbnQoaVswXSkrcl19LHMoZSxbe2tleToiYnl0ZVJhbmdlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnl0ZVJhbmdlP3RoaXMuX2J5dGVSYW5nZTpbXX19LHtrZXk6ImJ5dGVSYW5nZVN0YXJ0T2Zmc2V0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlUmFuZ2VbMF19fSx7a2V5OiJieXRlUmFuZ2VFbmRPZmZzZXQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ5dGVSYW5nZVsxXX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX3VybCYmdGhpcy5iYXNldXJsJiZ0aGlzLnJlbHVybCYmKHRoaXMuX3VybD1nLmJ1aWxkQWJzb2x1dGVVUkwodGhpcy5iYXNldXJsLHRoaXMucmVsdXJsLHthbHdheXNOb3JtYWxpemU6ITB9KSksdGhpcy5fdXJsfHwiIn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3VybD1lfX1dKSxlfSgpLEI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBpO3JldHVybihpPWUuY2FsbCh0aGlzLHIpfHx0aGlzKS5fZGVjcnlwdGRhdGE9bnVsbCxpLnJhd1Byb2dyYW1EYXRlVGltZT1udWxsLGkucHJvZ3JhbURhdGVUaW1lPW51bGwsaS50YWdMaXN0PVtdLGkuZHVyYXRpb249MCxpLnNuPTAsaS5sZXZlbGtleXM9dm9pZCAwLGkudHlwZT12b2lkIDAsaS5sb2FkZXI9bnVsbCxpLmtleUxvYWRlcj1udWxsLGkubGV2ZWw9LTEsaS5jYz0wLGkuc3RhcnRQVFM9dm9pZCAwLGkuZW5kUFRTPXZvaWQgMCxpLnN0YXJ0RFRTPXZvaWQgMCxpLmVuZERUUz12b2lkIDAsaS5zdGFydD0wLGkuZGVsdGFQVFM9dm9pZCAwLGkubWF4U3RhcnRQVFM9dm9pZCAwLGkubWluRW5kUFRTPXZvaWQgMCxpLnN0YXRzPW5ldyBQLGkuZGF0YT12b2lkIDAsaS5iaXRyYXRlVGVzdD0hMSxpLnRpdGxlPW51bGwsaS5pbml0U2VnbWVudD1udWxsLGkuZW5kTGlzdD12b2lkIDAsaS5nYXA9dm9pZCAwLGkudXJsSWQ9MCxpLnR5cGU9dCxpfWwodCxlKTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gci5zZXRLZXlGb3JtYXQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5sZXZlbGtleXMpe3ZhciB0PXRoaXMubGV2ZWxrZXlzW2VdO3QmJiF0aGlzLl9kZWNyeXB0ZGF0YSYmKHRoaXMuX2RlY3J5cHRkYXRhPXQuZ2V0RGVjcnlwdERhdGEodGhpcy5zbikpfX0sci5hYm9ydFJlcXVlc3RzPWZ1bmN0aW9uKCl7dmFyIGUsdDtudWxsPT0oZT10aGlzLmxvYWRlcil8fGUuYWJvcnQoKSxudWxsPT0odD10aGlzLmtleUxvYWRlcil8fHQuYWJvcnQoKX0sci5zZXRFbGVtZW50YXJ5U3RyZWFtSW5mbz1mdW5jdGlvbihlLHQscixpLGEsbil7dm9pZCAwPT09biYmKG49ITEpO3ZhciBzPXRoaXMuZWxlbWVudGFyeVN0cmVhbXMsbz1zW2VdO28/KG8uc3RhcnRQVFM9TWF0aC5taW4oby5zdGFydFBUUyx0KSxvLmVuZFBUUz1NYXRoLm1heChvLmVuZFBUUyxyKSxvLnN0YXJ0RFRTPU1hdGgubWluKG8uc3RhcnREVFMsaSksby5lbmREVFM9TWF0aC5tYXgoby5lbmREVFMsYSkpOnNbZV09e3N0YXJ0UFRTOnQsZW5kUFRTOnIsc3RhcnREVFM6aSxlbmREVFM6YSxwYXJ0aWFsOm59fSxyLmNsZWFyRWxlbWVudGFyeVN0cmVhbUluZm89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRhcnlTdHJlYW1zO2VbRl09bnVsbCxlW09dPW51bGwsZVtNXT1udWxsfSxzKHQsW3trZXk6ImRlY3J5cHRkYXRhIixnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5sZXZlbGtleXMmJiF0aGlzLl9kZWNyeXB0ZGF0YSlyZXR1cm4gbnVsbDtpZighdGhpcy5fZGVjcnlwdGRhdGEmJnRoaXMubGV2ZWxrZXlzJiYhdGhpcy5sZXZlbGtleXMuTk9ORSl7dmFyIGU9dGhpcy5sZXZlbGtleXMuaWRlbnRpdHk7aWYoZSl0aGlzLl9kZWNyeXB0ZGF0YT1lLmdldERlY3J5cHREYXRhKHRoaXMuc24pO2Vsc2V7dmFyIHQ9T2JqZWN0LmtleXModGhpcy5sZXZlbGtleXMpO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gdGhpcy5fZGVjcnlwdGRhdGE9dGhpcy5sZXZlbGtleXNbdFswXV0uZ2V0RGVjcnlwdERhdGEodGhpcy5zbil9fXJldHVybiB0aGlzLl9kZWNyeXB0ZGF0YX19LHtrZXk6ImVuZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQrdGhpcy5kdXJhdGlvbn19LHtrZXk6ImVuZFByb2dyYW1EYXRlVGltZSIsZ2V0OmZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMucHJvZ3JhbURhdGVUaW1lKXJldHVybiBudWxsO2lmKCFtKHRoaXMucHJvZ3JhbURhdGVUaW1lKSlyZXR1cm4gbnVsbDt2YXIgZT1tKHRoaXMuZHVyYXRpb24pP3RoaXMuZHVyYXRpb246MDtyZXR1cm4gdGhpcy5wcm9ncmFtRGF0ZVRpbWUrMWUzKmV9fSx7a2V5OiJlbmNyeXB0ZWQiLGdldDpmdW5jdGlvbigpe3ZhciBlO2lmKG51bGwhPShlPXRoaXMuX2RlY3J5cHRkYXRhKSYmZS5lbmNyeXB0ZWQpcmV0dXJuITA7aWYodGhpcy5sZXZlbGtleXMpe3ZhciB0PU9iamVjdC5rZXlzKHRoaXMubGV2ZWxrZXlzKSxyPXQubGVuZ3RoO2lmKHI+MXx8MT09PXImJnRoaXMubGV2ZWxrZXlzW3RbMF1dLmVuY3J5cHRlZClyZXR1cm4hMH1yZXR1cm4hMX19XSksdH0oTiksVT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLGEsbil7dmFyIHM7KHM9ZS5jYWxsKHRoaXMsaSl8fHRoaXMpLmZyYWdPZmZzZXQ9MCxzLmR1cmF0aW9uPTAscy5nYXA9ITEscy5pbmRlcGVuZGVudD0hMSxzLnJlbHVybD12b2lkIDAscy5mcmFnbWVudD12b2lkIDAscy5pbmRleD12b2lkIDAscy5zdGF0cz1uZXcgUCxzLmR1cmF0aW9uPXQuZGVjaW1hbEZsb2F0aW5nUG9pbnQoIkRVUkFUSU9OIikscy5nYXA9dC5ib29sKCJHQVAiKSxzLmluZGVwZW5kZW50PXQuYm9vbCgiSU5ERVBFTkRFTlQiKSxzLnJlbHVybD10LmVudW1lcmF0ZWRTdHJpbmcoIlVSSSIpLHMuZnJhZ21lbnQ9cixzLmluZGV4PWE7dmFyIG89dC5lbnVtZXJhdGVkU3RyaW5nKCJCWVRFUkFOR0UiKTtyZXR1cm4gbyYmcy5zZXRCeXRlUmFuZ2UobyxuKSxuJiYocy5mcmFnT2Zmc2V0PW4uZnJhZ09mZnNldCtuLmR1cmF0aW9uKSxzfXJldHVybiBsKHQsZSkscyh0LFt7a2V5OiJzdGFydCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuc3RhcnQrdGhpcy5mcmFnT2Zmc2V0fX0se2tleToiZW5kIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydCt0aGlzLmR1cmF0aW9ufX0se2tleToibG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRhcnlTdHJlYW1zO3JldHVybiEhKGUuYXVkaW98fGUudmlkZW98fGUuYXVkaW92aWRlbyl9fV0pLHR9KE4pLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuUFRTS25vd249ITEsdGhpcy5hbGlnbmVkU2xpZGluZz0hMSx0aGlzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbj12b2lkIDAsdGhpcy5lbmRDQz0wLHRoaXMuZW5kU049MCx0aGlzLmZyYWdtZW50cz12b2lkIDAsdGhpcy5mcmFnbWVudEhpbnQ9dm9pZCAwLHRoaXMucGFydExpc3Q9bnVsbCx0aGlzLmRhdGVSYW5nZXM9dm9pZCAwLHRoaXMubGl2ZT0hMCx0aGlzLmFnZUhlYWRlcj0wLHRoaXMuYWR2YW5jZWREYXRlVGltZT12b2lkIDAsdGhpcy51cGRhdGVkPSEwLHRoaXMuYWR2YW5jZWQ9ITAsdGhpcy5hdmFpbGFiaWxpdHlEZWxheT12b2lkIDAsdGhpcy5taXNzZXM9MCx0aGlzLnN0YXJ0Q0M9MCx0aGlzLnN0YXJ0U049MCx0aGlzLnN0YXJ0VGltZU9mZnNldD1udWxsLHRoaXMudGFyZ2V0ZHVyYXRpb249MCx0aGlzLnRvdGFsZHVyYXRpb249MCx0aGlzLnR5cGU9bnVsbCx0aGlzLnVybD12b2lkIDAsdGhpcy5tM3U4PSIiLHRoaXMudmVyc2lvbj1udWxsLHRoaXMuY2FuQmxvY2tSZWxvYWQ9ITEsdGhpcy5jYW5Ta2lwVW50aWw9MCx0aGlzLmNhblNraXBEYXRlUmFuZ2VzPSExLHRoaXMuc2tpcHBlZFNlZ21lbnRzPTAsdGhpcy5yZWNlbnRseVJlbW92ZWREYXRlcmFuZ2VzPXZvaWQgMCx0aGlzLnBhcnRIb2xkQmFjaz0wLHRoaXMuaG9sZEJhY2s9MCx0aGlzLnBhcnRUYXJnZXQ9MCx0aGlzLnByZWxvYWRIaW50PXZvaWQgMCx0aGlzLnJlbmRpdGlvblJlcG9ydHM9dm9pZCAwLHRoaXMudHVuZUluR29hbD0wLHRoaXMuZGVsdGFVcGRhdGVGYWlsZWQ9dm9pZCAwLHRoaXMuZHJpZnRTdGFydFRpbWU9MCx0aGlzLmRyaWZ0RW5kVGltZT0wLHRoaXMuZHJpZnRTdGFydD0wLHRoaXMuZHJpZnRFbmQ9MCx0aGlzLmVuY3J5cHRlZEZyYWdtZW50cz12b2lkIDAsdGhpcy5wbGF5bGlzdFBhcnNpbmdFcnJvcj1udWxsLHRoaXMudmFyaWFibGVMaXN0PW51bGwsdGhpcy5oYXNWYXJpYWJsZVJlZnM9ITEsdGhpcy5mcmFnbWVudHM9W10sdGhpcy5lbmNyeXB0ZWRGcmFnbWVudHM9W10sdGhpcy5kYXRlUmFuZ2VzPXt9LHRoaXMudXJsPWV9cmV0dXJuIGUucHJvdG90eXBlLnJlbG9hZGVkPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiB0aGlzLmFkdmFuY2VkPSEwLHZvaWQodGhpcy51cGRhdGVkPSEwKTt2YXIgdD10aGlzLmxhc3RQYXJ0U24tZS5sYXN0UGFydFNuLHI9dGhpcy5sYXN0UGFydEluZGV4LWUubGFzdFBhcnRJbmRleDt0aGlzLnVwZGF0ZWQ9dGhpcy5lbmRTTiE9PWUuZW5kU058fCEhcnx8ISF0fHwhdGhpcy5saXZlLHRoaXMuYWR2YW5jZWQ9dGhpcy5lbmRTTj5lLmVuZFNOfHx0PjB8fDA9PT10JiZyPjAsdGhpcy51cGRhdGVkfHx0aGlzLmFkdmFuY2VkP3RoaXMubWlzc2VzPU1hdGguZmxvb3IoLjYqZS5taXNzZXMpOnRoaXMubWlzc2VzPWUubWlzc2VzKzEsdGhpcy5hdmFpbGFiaWxpdHlEZWxheT1lLmF2YWlsYWJpbGl0eURlbGF5fSxzKGUsW3trZXk6Imhhc1Byb2dyYW1EYXRlVGltZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmZyYWdtZW50cy5sZW5ndGgmJm0odGhpcy5mcmFnbWVudHNbdGhpcy5mcmFnbWVudHMubGVuZ3RoLTFdLnByb2dyYW1EYXRlVGltZSl9fSx7a2V5OiJsZXZlbFRhcmdldER1cmF0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdmVyYWdldGFyZ2V0ZHVyYXRpb258fHRoaXMudGFyZ2V0ZHVyYXRpb258fDEwfX0se2tleToiZHJpZnQiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZHJpZnRFbmRUaW1lLXRoaXMuZHJpZnRTdGFydFRpbWU7cmV0dXJuIGU+MD8xZTMqKHRoaXMuZHJpZnRFbmQtdGhpcy5kcmlmdFN0YXJ0KS9lOjF9fSx7a2V5OiJlZGdlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJ0RW5kfHx0aGlzLmZyYWdtZW50RW5kfX0se2tleToicGFydEVuZCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMucGFydExpc3QpJiZlLmxlbmd0aD90aGlzLnBhcnRMaXN0W3RoaXMucGFydExpc3QubGVuZ3RoLTFdLmVuZDp0aGlzLmZyYWdtZW50RW5kfX0se2tleToiZnJhZ21lbnRFbmQiLGdldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmZyYWdtZW50cykmJmUubGVuZ3RoP3RoaXMuZnJhZ21lbnRzW3RoaXMuZnJhZ21lbnRzLmxlbmd0aC0xXS5lbmQ6MH19LHtrZXk6ImFnZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWR2YW5jZWREYXRlVGltZT9NYXRoLm1heChEYXRlLm5vdygpLXRoaXMuYWR2YW5jZWREYXRlVGltZSwwKS8xZTM6MH19LHtrZXk6Imxhc3RQYXJ0SW5kZXgiLGdldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLnBhcnRMaXN0KSYmZS5sZW5ndGg/dGhpcy5wYXJ0TGlzdFt0aGlzLnBhcnRMaXN0Lmxlbmd0aC0xXS5pbmRleDotMX19LHtrZXk6Imxhc3RQYXJ0U24iLGdldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLnBhcnRMaXN0KSYmZS5sZW5ndGg/dGhpcy5wYXJ0TGlzdFt0aGlzLnBhcnRMaXN0Lmxlbmd0aC0xXS5mcmFnbWVudC5zbjp0aGlzLmVuZFNOfX1dKSxlfSgpLEg9Yyh2b2lkIDApO2Z1bmN0aW9uIFYoZSx0LHIpe3JldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5zbGljZT9lLnNsaWNlKHQscik6bmV3IFVpbnQ4QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0LHIpKX12YXIgSyxXPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrMTA8PWUubGVuZ3RoJiY3Mz09PWVbdF0mJjY4PT09ZVt0KzFdJiY1MT09PWVbdCsyXSYmZVt0KzNdPDI1NSYmZVt0KzRdPDI1NSYmZVt0KzZdPDEyOCYmZVt0KzddPDEyOCYmZVt0KzhdPDEyOCYmZVt0KzldPDEyOH0saj1mdW5jdGlvbihlLHQpe3JldHVybiB0KzEwPD1lLmxlbmd0aCYmNTE9PT1lW3RdJiY2OD09PWVbdCsxXSYmNzM9PT1lW3QrMl0mJmVbdCszXTwyNTUmJmVbdCs0XTwyNTUmJmVbdCs2XTwxMjgmJmVbdCs3XTwxMjgmJmVbdCs4XTwxMjgmJmVbdCs5XTwxMjh9LFk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCxpPTA7VyhlLHQpOylpKz0xMCxpKz1xKGUsdCs2KSxqKGUsdCsxMCkmJihpKz0xMCksdCs9aTtpZihpPjApcmV0dXJuIGUuc3ViYXJyYXkocixyK2kpfSxxPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MDtyZXR1cm4gcj0oMTI3JmVbdF0pPDwyMSxyfD0oMTI3JmVbdCsxXSk8PDE0LHJ8PSgxMjcmZVt0KzJdKTw8NyxyfD0xMjcmZVt0KzNdfSx6PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFcoZSx0KSYmcShlLHQrNikrMTA8PWUubGVuZ3RoLXR9LFg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSQoZSkscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2lmKFEoaSkpcmV0dXJuIGllKGkpfX0sUT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIlBSSVYiPT09ZS5rZXkmJiJjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCI9PT1lLmluZm99LEo9ZnVuY3Rpb24oZSl7dmFyIHQ9U3RyaW5nLmZyb21DaGFyQ29kZShlWzBdLGVbMV0sZVsyXSxlWzNdKSxyPXEoZSw0KTtyZXR1cm57dHlwZTp0LHNpemU6cixkYXRhOmUuc3ViYXJyYXkoMTAsMTArcil9fSwkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9W107VyhlLHQpOyl7Zm9yKHZhciBpPXEoZSx0KzYpLGE9KHQrPTEwKStpO3QrODxhOyl7dmFyIG49SihlLnN1YmFycmF5KHQpKSxzPVoobik7cyYmci5wdXNoKHMpLHQrPW4uc2l6ZSsxMH1qKGUsdCkmJih0Kz0xMCl9cmV0dXJuIHJ9LFo9ZnVuY3Rpb24oZSl7cmV0dXJuIlBSSVYiPT09ZS50eXBlP2VlKGUpOiJXIj09PWUudHlwZVswXT9yZShlKTp0ZShlKX0sZWU9ZnVuY3Rpb24oZSl7aWYoIShlLnNpemU8Mikpe3ZhciB0PWFlKGUuZGF0YSwhMCkscj1uZXcgVWludDhBcnJheShlLmRhdGEuc3ViYXJyYXkodC5sZW5ndGgrMSkpO3JldHVybntrZXk6ZS50eXBlLGluZm86dCxkYXRhOnIuYnVmZmVyfX19LHRlPWZ1bmN0aW9uKGUpe2lmKCEoZS5zaXplPDIpKXtpZigiVFhYWCI9PT1lLnR5cGUpe3ZhciB0PTEscj1hZShlLmRhdGEuc3ViYXJyYXkodCksITApO3QrPXIubGVuZ3RoKzE7dmFyIGk9YWUoZS5kYXRhLnN1YmFycmF5KHQpKTtyZXR1cm57a2V5OmUudHlwZSxpbmZvOnIsZGF0YTppfX12YXIgYT1hZShlLmRhdGEuc3ViYXJyYXkoMSkpO3JldHVybntrZXk6ZS50eXBlLGRhdGE6YX19fSxyZT1mdW5jdGlvbihlKXtpZigiV1hYWCI9PT1lLnR5cGUpe2lmKGUuc2l6ZTwyKXJldHVybjt2YXIgdD0xLHI9YWUoZS5kYXRhLnN1YmFycmF5KHQpLCEwKTt0Kz1yLmxlbmd0aCsxO3ZhciBpPWFlKGUuZGF0YS5zdWJhcnJheSh0KSk7cmV0dXJue2tleTplLnR5cGUsaW5mbzpyLGRhdGE6aX19dmFyIGE9YWUoZS5kYXRhKTtyZXR1cm57a2V5OmUudHlwZSxkYXRhOmF9fSxpZT1mdW5jdGlvbihlKXtpZig4PT09ZS5kYXRhLmJ5dGVMZW5ndGgpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUuZGF0YSkscj0xJnRbM10saT0odFs0XTw8MjMpKyh0WzVdPDwxNSkrKHRbNl08PDcpK3RbN107cmV0dXJuIGkvPTQ1LHImJihpKz00NzcyMTg1OC44NCksTWF0aC5yb3VuZChpKX19LGFlPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciByPW5lKCk7aWYocil7dmFyIGk9ci5kZWNvZGUoZSk7aWYodCl7dmFyIGE9aS5pbmRleE9mKCJcMCIpO3JldHVybi0xIT09YT9pLnN1YnN0cmluZygwLGEpOml9cmV0dXJuIGkucmVwbGFjZSgvXDAvZywiIil9Zm9yKHZhciBuLHMsbyxsPWUubGVuZ3RoLHU9IiIsZD0wO2Q8bDspe2lmKDA9PT0obj1lW2QrK10pJiZ0KXJldHVybiB1O2lmKDAhPT1uJiYzIT09bilzd2l0Y2gobj4+NCl7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6Y2FzZSA2OmNhc2UgNzp1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pO2JyZWFrO2Nhc2UgMTI6Y2FzZSAxMzpzPWVbZCsrXSx1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZuKTw8Nnw2MyZzKTticmVhaztjYXNlIDE0OnM9ZVtkKytdLG89ZVtkKytdLHUrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDE1Jm4pPDwxMnwoNjMmcyk8PDZ8KDYzJm8pPDwwKX19cmV0dXJuIHV9O2Z1bmN0aW9uIG5lKCl7aWYoIW5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIlBsYXlTdGF0aW9uIDQiKSlyZXR1cm4gS3x8dm9pZCAwPT09c2VsZi5UZXh0RGVjb2Rlcnx8KEs9bmV3IHNlbGYuVGV4dERlY29kZXIoInV0Zi04IikpLEt9dmFyIHNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0udG9TdHJpbmcoMTYpO2kubGVuZ3RoPDImJihpPSIwIitpKSx0Kz1pfXJldHVybiB0fSxvZT1NYXRoLnBvdygyLDMyKS0xLGxlPVtdLnB1c2gsdWU9e3ZpZGVvOjEsYXVkaW86MixpZDM6Myx0ZXh0OjR9O2Z1bmN0aW9uIGRlKGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZSl9ZnVuY3Rpb24gaGUoZSx0KXt2YXIgcj1lW3RdPDw4fGVbdCsxXTtyZXR1cm4gcjwwPzY1NTM2K3I6cn1mdW5jdGlvbiBmZShlLHQpe3ZhciByPXZlKGUsdCk7cmV0dXJuIHI8MD80Mjk0OTY3Mjk2K3I6cn1mdW5jdGlvbiBjZShlLHQpe3ZhciByPWZlKGUsdCk7cmV0dXJuIHIqPU1hdGgucG93KDIsMzIpLHIrPWZlKGUsdCs0KX1mdW5jdGlvbiB2ZShlLHQpe3JldHVybiBlW3RdPDwyNHxlW3QrMV08PDE2fGVbdCsyXTw8OHxlW3QrM119ZnVuY3Rpb24gZ2UoZSx0LHIpe2VbdF09cj4+MjQsZVt0KzFdPXI+PjE2JjI1NSxlW3QrMl09cj4+OCYyNTUsZVt0KzNdPTI1NSZyfWZ1bmN0aW9uIG1lKGUsdCl7dmFyIHI9W107aWYoIXQubGVuZ3RoKXJldHVybiByO2Zvcih2YXIgaT1lLmJ5dGVMZW5ndGgsYT0wO2E8aTspe3ZhciBuPWZlKGUsYSkscz1uPjE/YStuOmk7aWYoZGUoZS5zdWJhcnJheShhKzQsYSs4KSk9PT10WzBdKWlmKDE9PT10Lmxlbmd0aClyLnB1c2goZS5zdWJhcnJheShhKzgscykpO2Vsc2V7dmFyIG89bWUoZS5zdWJhcnJheShhKzgscyksdC5zbGljZSgxKSk7by5sZW5ndGgmJmxlLmFwcGx5KHIsbyl9YT1zfXJldHVybiByfWZ1bmN0aW9uIHBlKGUpe3ZhciB0PVtdLHI9ZVswXSxpPTgsYT1mZShlLGkpO2krPTQ7dmFyIG49MCxzPTA7MD09PXI/KG49ZmUoZSxpKSxzPWZlKGUsaSs0KSxpKz04KToobj1jZShlLGkpLHM9Y2UoZSxpKzgpLGkrPTE2KSxpKz0yO3ZhciBvPWUubGVuZ3RoK3MsbD1oZShlLGkpO2krPTI7Zm9yKHZhciB1PTA7dTxsO3UrKyl7dmFyIGQ9aSxoPWZlKGUsZCk7ZCs9NDt2YXIgZj0yMTQ3NDgzNjQ3Jmg7aWYoMT09KDIxNDc0ODM2NDgmaCk+Pj4zMSlyZXR1cm4gRC53YXJuKCJTSURYIGhhcyBoaWVyYXJjaGljYWwgcmVmZXJlbmNlcyAobm90IHN1cHBvcnRlZCkiKSxudWxsO3ZhciBjPWZlKGUsZCk7ZCs9NCx0LnB1c2goe3JlZmVyZW5jZVNpemU6ZixzdWJzZWdtZW50RHVyYXRpb246YyxpbmZvOntkdXJhdGlvbjpjL2Esc3RhcnQ6byxlbmQ6bytmLTF9fSksbys9ZixpPWQrPTR9cmV0dXJue2VhcmxpZXN0UHJlc2VudGF0aW9uVGltZTpuLHRpbWVzY2FsZTphLHZlcnNpb246cixyZWZlcmVuY2VzQ291bnQ6bCxyZWZlcmVuY2VzOnR9fWZ1bmN0aW9uIHllKGUpe2Zvcih2YXIgdD1bXSxyPW1lKGUsWyJtb292IiwidHJhayJdKSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBuPXJbYV0scz1tZShuLFsidGtoZCJdKVswXTtpZihzKXt2YXIgbz1zWzBdLGw9ZmUocywwPT09bz8xMjoyMCksdT1tZShuLFsibWRpYSIsIm1kaGQiXSlbMF07aWYodSl7dmFyIGQ9ZmUodSwwPT09KG89dVswXSk/MTI6MjApLGg9bWUobixbIm1kaWEiLCJoZGxyIl0pWzBdO2lmKGgpe3ZhciBmPWRlKGguc3ViYXJyYXkoOCwxMikpLGM9e3NvdW46Rix2aWRlOk99W2ZdO2lmKGMpe3ZhciB2PUVlKG1lKG4sWyJtZGlhIiwibWluZiIsInN0YmwiLCJzdHNkIl0pWzBdKTt0W2xdPXt0aW1lc2NhbGU6ZCx0eXBlOmN9LHRbY109aSh7dGltZXNjYWxlOmQsaWQ6bH0sdil9fX19fXJldHVybiBtZShlLFsibW9vdiIsIm12ZXgiLCJ0cmV4Il0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZlKGUsNCksaT10W3JdO2kmJihpLmRlZmF1bHQ9e2R1cmF0aW9uOmZlKGUsMTIpLGZsYWdzOmZlKGUsMjApfSl9KSksdH1mdW5jdGlvbiBFZShlKXt2YXIgdD1lLnN1YmFycmF5KDgpLHI9dC5zdWJhcnJheSg4NiksaT1kZSh0LnN1YmFycmF5KDQsOCkpLGE9aSxuPSJlbmNhIj09PWl8fCJlbmN2Ij09PWk7aWYobil7dmFyIHM9bWUodCxbaV0pWzBdO21lKHMuc3ViYXJyYXkoImVuY2EiPT09aT8yODo3OCksWyJzaW5mIl0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PW1lKGUsWyJzY2htIl0pWzBdO2lmKHQpe3ZhciByPWRlKHQuc3ViYXJyYXkoNCw4KSk7aWYoImNiY3MiPT09cnx8ImNlbmMiPT09cil7dmFyIGk9bWUoZSxbImZybWEiXSlbMF07aSYmKGE9ZGUoaSkpfX19KSl9c3dpdGNoKGEpe2Nhc2UiYXZjMSI6Y2FzZSJhdmMyIjpjYXNlImF2YzMiOmNhc2UiYXZjNCI6dmFyIG89bWUocixbImF2Y0MiXSlbMF07YSs9Ii4iK1NlKG9bMV0pK1NlKG9bMl0pK1NlKG9bM10pO2JyZWFrO2Nhc2UibXA0YSI6dmFyIGw9bWUodCxbaV0pWzBdLHU9bWUobC5zdWJhcnJheSgyOCksWyJlc2RzIl0pWzBdO2lmKHUmJnUubGVuZ3RoPjEyKXt2YXIgZD00O2lmKDMhPT11W2QrK10pYnJlYWs7ZD1UZSh1LGQpLGQrPTI7dmFyIGg9dVtkKytdO2lmKDEyOCZoJiYoZCs9MiksNjQmaCYmKGQrPXVbZCsrXSksNCE9PXVbZCsrXSlicmVhaztkPVRlKHUsZCk7dmFyIGY9dVtkKytdO2lmKDY0IT09ZilicmVhaztpZihhKz0iLiIrU2UoZiksZCs9MTIsNSE9PXVbZCsrXSlicmVhaztkPVRlKHUsZCk7dmFyIGM9dVtkKytdLHY9KDI0OCZjKT4+MzszMT09PXYmJih2Kz0xKygoNyZjKTw8MykrKCgyMjQmdVtkXSk+PjUpKSxhKz0iLiIrdn1icmVhaztjYXNlImh2YzEiOmNhc2UiaGV2MSI6dmFyIGc9bWUocixbImh2Y0MiXSlbMF0sbT1nWzFdLHA9WyIiLCJBIiwiQiIsIkMiXVttPj42XSx5PTMxJm0sRT1mZShnLDIpLFQ9KDMyJm0pPj41PyJIIjoiTCIsUz1nWzEyXSxMPWcuc3ViYXJyYXkoNiwxMik7YSs9Ii4iK3AreSxhKz0iLiIrRS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSxhKz0iLiIrVCtTO2Zvcih2YXIgUj0iIixBPUwubGVuZ3RoO0EtLTspe3ZhciBiPUxbQV07KGJ8fFIpJiYoUj0iLiIrYi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKStSKX1hKz1SO2JyZWFrO2Nhc2UiZHZoMSI6Y2FzZSJkdmhlIjp2YXIgaz1tZShyLFsiZHZjQyJdKVswXSxEPWtbMl0+PjEmMTI3LF89a1syXTw8NSYzMnxrWzNdPj4zJjMxO2ErPSIuIitMZShEKSsiLiIrTGUoXyk7YnJlYWs7Y2FzZSJ2cDA5Ijp2YXIgeD1tZShyLFsidnBjQyJdKVswXSx3PXhbNF0sQz14WzVdLEk9eFs2XT4+NCYxNTthKz0iLiIrTGUodykrIi4iK0xlKEMpKyIuIitMZShJKTticmVhaztjYXNlImF2MDEiOnZhciBQPW1lKHIsWyJhdjFDIl0pWzBdLEY9UFsxXT4+PjUsTz0zMSZQWzFdLE09UFsyXT4+Pjc/IkgiOiJNIixOPSg2NCZQWzJdKT4+NixCPSgzMiZQWzJdKT4+NSxVPTI9PT1GJiZOP0I/MTI6MTA6Tj8xMDo4LEc9KDE2JlBbMl0pPj40LEg9KDgmUFsyXSk+PjMsVj0oNCZQWzJdKT4+MixLPTMmUFsyXTthKz0iLiIrRisiLiIrTGUoTykrTSsiLiIrTGUoVSkrIi4iK0crIi4iK0grVitLKyIuIitMZSgxKSsiLiIrTGUoMSkrIi4iK0xlKDEpKyIuMCJ9cmV0dXJue2NvZGVjOmEsZW5jcnlwdGVkOm59fWZ1bmN0aW9uIFRlKGUsdCl7Zm9yKHZhciByPXQrNTsxMjgmZVt0KytdJiZ0PHI7KTtyZXR1cm4gdH1mdW5jdGlvbiBTZShlKXtyZXR1cm4oIjAiK2UudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpLnNsaWNlKC0yKX1mdW5jdGlvbiBMZShlKXtyZXR1cm4oZTwxMD8iMCI6IiIpK2V9ZnVuY3Rpb24gUmUoZSx0KXtpZighZXx8IXQpcmV0dXJuIGU7dmFyIHI9dC5rZXlJZDtyZXR1cm4gciYmdC5pc0NvbW1vbkVuY3J5cHRpb24mJm1lKGUsWyJtb292IiwidHJhayJdKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1tZShlLFsibWRpYSIsIm1pbmYiLCJzdGJsIiwic3RzZCJdKVswXS5zdWJhcnJheSg4KSxpPW1lKHQsWyJlbmNhIl0pLGE9aS5sZW5ndGg+MDthfHwoaT1tZSh0LFsiZW5jdiJdKSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXttZShhP2Uuc3ViYXJyYXkoMjgpOmUuc3ViYXJyYXkoNzgpLFsic2luZiJdKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD1tZShlLFsic2NobSJdKVswXTtpZih0KXt2YXIgcj1kZSh0LnN1YmFycmF5KDQsOCkpO2lmKCJjYmNzIj09PXJ8fCJjZW5jIj09PXIpcmV0dXJuIG1lKGUsWyJzY2hpIiwidGVuYyJdKVswXX1yZXR1cm4gbnVsbH0oZSk7aWYodCl7dmFyIGk9dC5zdWJhcnJheSg4LDI0KTtpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZX0pKXx8KEQubG9nKCJbZW1lXSBQYXRjaGluZyBrZXlJZCBpbiAnZW5jIisoYT8iYSI6InYiKSsiPnNpbmY+PnRlbmMnIGJveDogIitzZShpKSsiIC0+ICIrc2UocikpLHQuc2V0KHIsOCkpfX0pKX0pKX0pKSxlfWZ1bmN0aW9uIEFlKGUpe3ZhciB0PWZlKGUsMCkscj04OzEmdCYmKHIrPTQpLDQmdCYmKHIrPTQpO2Zvcih2YXIgaT0wLGE9ZmUoZSw0KSxuPTA7bjxhO24rKykyNTYmdCYmKGkrPWZlKGUscikscis9NCksNTEyJnQmJihyKz00KSwxMDI0JnQmJihyKz00KSwyMDQ4JnQmJihyKz00KTtyZXR1cm4gaX1mdW5jdGlvbiBiZShlLHQpe3ZhciByPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoK3QubGVuZ3RoKTtyZXR1cm4gci5zZXQoZSksci5zZXQodCxlLmxlbmd0aCkscn1mdW5jdGlvbiBrZShlLHQpe3ZhciByPVtdLGk9dC5zYW1wbGVzLGE9dC50aW1lc2NhbGUsbj10LmlkLHM9ITE7cmV0dXJuIG1lKGksWyJtb29mIl0pLm1hcCgoZnVuY3Rpb24obyl7dmFyIGw9by5ieXRlT2Zmc2V0LTg7bWUobyxbInRyYWYiXSkubWFwKChmdW5jdGlvbihvKXt2YXIgdT1tZShvLFsidGZkdCJdKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0scj1mZShlLDQpO3JldHVybiAxPT09dCYmKHIqPU1hdGgucG93KDIsMzIpLHIrPWZlKGUsOCkpLHIvYX0pKVswXTtyZXR1cm4gdm9pZCAwIT09dSYmKGU9dSksbWUobyxbInRmaGQiXSkubWFwKChmdW5jdGlvbih1KXt2YXIgZD1mZSh1LDQpLGg9MTY3NzcyMTUmZmUodSwwKSxmPTAsYz0wIT0oMTYmaCksdj0wLGc9MCE9KDMyJmgpLG09ODtkPT09biYmKDAhPSgxJmgpJiYobSs9OCksMCE9KDImaCkmJihtKz00KSwwIT0oOCZoKSYmKGY9ZmUodSxtKSxtKz00KSxjJiYodj1mZSh1LG0pLG0rPTQpLGcmJihtKz00KSwidmlkZW8iPT09dC50eXBlJiYocz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1lLmluZGV4T2YoIi4iKSxyPXQ8MD9lOmUuc3Vic3RyaW5nKDAsdCk7cmV0dXJuImh2YzEiPT09cnx8ImhldjEiPT09cnx8ImR2aDEiPT09cnx8ImR2aGUiPT09cn0odC5jb2RlYykpLG1lKG8sWyJ0cnVuIl0pLm1hcCgoZnVuY3Rpb24obil7dmFyIG89blswXSx1PTE2Nzc3MjE1JmZlKG4sMCksZD0wIT0oMSZ1KSxoPTAsYz0wIT0oNCZ1KSxnPTAhPSgyNTYmdSksbT0wLHA9MCE9KDUxMiZ1KSx5PTAsRT0wIT0oMTAyNCZ1KSxUPTAhPSgyMDQ4JnUpLFM9MCxMPWZlKG4sNCksUj04O2QmJihoPWZlKG4sUiksUis9NCksYyYmKFIrPTQpO2Zvcih2YXIgQT1oK2wsYj0wO2I8TDtiKyspe2lmKGc/KG09ZmUobixSKSxSKz00KTptPWYscD8oeT1mZShuLFIpLFIrPTQpOnk9dixFJiYoUis9NCksVCYmKFM9MD09PW8/ZmUobixSKTp2ZShuLFIpLFIrPTQpLHQudHlwZT09PU8pZm9yKHZhciBrPTA7azx5Oyl7dmFyIEQ9ZmUoaSxBKTtEZShzLGlbQSs9NF0pJiZfZShpLnN1YmFycmF5KEEsQStEKSxzPzI6MSxlK1MvYSxyKSxBKz1ELGsrPUQrNH1lKz1tL2F9fSkpKX0pKX0pKX0pKSxyfWZ1bmN0aW9uIERlKGUsdCl7aWYoZSl7dmFyIHI9dD4+MSY2MztyZXR1cm4gMzk9PT1yfHw0MD09PXJ9cmV0dXJuIDY9PSgzMSZ0KX1mdW5jdGlvbiBfZShlLHQscixpKXt2YXIgYT14ZShlKSxuPTA7bis9dDtmb3IodmFyIHM9MCxvPTAsbD0wO248YS5sZW5ndGg7KXtzPTA7ZG97aWYobj49YS5sZW5ndGgpYnJlYWs7cys9bD1hW24rK119d2hpbGUoMjU1PT09bCk7bz0wO2Rve2lmKG4+PWEubGVuZ3RoKWJyZWFrO28rPWw9YVtuKytdfXdoaWxlKDI1NT09PWwpO3ZhciB1PWEubGVuZ3RoLW4sZD1uO2lmKG88dSluKz1vO2Vsc2UgaWYobz51KXtELmVycm9yKCJNYWxmb3JtZWQgU0VJIHBheWxvYWQuICIrbysiIGlzIHRvbyBzbWFsbCwgb25seSAiK3UrIiBieXRlcyBsZWZ0IHRvIHBhcnNlLiIpO2JyZWFrfWlmKDQ9PT1zKXtpZigxODE9PT1hW2QrK10pe3ZhciBoPWhlKGEsZCk7aWYoZCs9Miw0OT09PWgpe3ZhciBmPWZlKGEsZCk7aWYoZCs9NCwxMTk1NDU2ODIwPT09Zil7dmFyIGM9YVtkKytdO2lmKDM9PT1jKXt2YXIgdj1hW2QrK10sZz02NCZ2LG09Zz8yKzMqKDMxJnYpOjAscD1uZXcgVWludDhBcnJheShtKTtpZihnKXtwWzBdPXY7Zm9yKHZhciB5PTE7eTxtO3krKylwW3ldPWFbZCsrXX1pLnB1c2goe3R5cGU6YyxwYXlsb2FkVHlwZTpzLHB0czpyLGJ5dGVzOnB9KX19fX19ZWxzZSBpZig1PT09cyYmbz4xNil7Zm9yKHZhciBFPVtdLFQ9MDtUPDE2O1QrKyl7dmFyIFM9YVtkKytdLnRvU3RyaW5nKDE2KTtFLnB1c2goMT09Uy5sZW5ndGg/IjAiK1M6UyksMyE9PVQmJjUhPT1UJiY3IT09VCYmOSE9PVR8fEUucHVzaCgiLSIpfWZvcih2YXIgTD1vLTE2LFI9bmV3IFVpbnQ4QXJyYXkoTCksQT0wO0E8TDtBKyspUltBXT1hW2QrK107aS5wdXNoKHtwYXlsb2FkVHlwZTpzLHB0czpyLHV1aWQ6RS5qb2luKCIiKSx1c2VyRGF0YTphZShSKSx1c2VyRGF0YUJ5dGVzOlJ9KX19fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD1lLmJ5dGVMZW5ndGgscj1bXSxpPTE7aTx0LTI7KTA9PT1lW2ldJiYwPT09ZVtpKzFdJiYzPT09ZVtpKzJdPyhyLnB1c2goaSsyKSxpKz0yKTppKys7aWYoMD09PXIubGVuZ3RoKXJldHVybiBlO3ZhciBhPXQtci5sZW5ndGgsbj1uZXcgVWludDhBcnJheShhKSxzPTA7Zm9yKGk9MDtpPGE7cysrLGkrKylzPT09clswXSYmKHMrKyxyLnNoaWZ0KCkpLG5baV09ZVtzXTtyZXR1cm4gbn12YXIgd2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksYSl7dm9pZCAwPT09aSYmKGk9WzFdKSx2b2lkIDA9PT1hJiYoYT1udWxsKSx0aGlzLnVyaT12b2lkIDAsdGhpcy5tZXRob2Q9dm9pZCAwLHRoaXMua2V5Rm9ybWF0PXZvaWQgMCx0aGlzLmtleUZvcm1hdFZlcnNpb25zPXZvaWQgMCx0aGlzLmVuY3J5cHRlZD12b2lkIDAsdGhpcy5pc0NvbW1vbkVuY3J5cHRpb249dm9pZCAwLHRoaXMuaXY9bnVsbCx0aGlzLmtleT1udWxsLHRoaXMua2V5SWQ9bnVsbCx0aGlzLnBzc2g9bnVsbCx0aGlzLm1ldGhvZD1lLHRoaXMudXJpPXQsdGhpcy5rZXlGb3JtYXQ9cix0aGlzLmtleUZvcm1hdFZlcnNpb25zPWksdGhpcy5pdj1hLHRoaXMuZW5jcnlwdGVkPSEhZSYmIk5PTkUiIT09ZSx0aGlzLmlzQ29tbW9uRW5jcnlwdGlvbj10aGlzLmVuY3J5cHRlZCYmIkFFUy0xMjgiIT09ZX1lLmNsZWFyS2V5VXJpVG9LZXlJZE1hcD1mdW5jdGlvbigpe307dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLm1ldGhvZCl7aWYoIkFFUy0xMjgiPT09dGhpcy5tZXRob2R8fCJOT05FIj09PXRoaXMubWV0aG9kKXJldHVybiEwO2lmKCJpZGVudGl0eSI9PT10aGlzLmtleUZvcm1hdClyZXR1cm4iU0FNUExFLUFFUyI9PT10aGlzLm1ldGhvZH1yZXR1cm4hMX0sdC5nZXREZWNyeXB0RGF0YT1mdW5jdGlvbih0KXtpZighdGhpcy5lbmNyeXB0ZWR8fCF0aGlzLnVyaSlyZXR1cm4gbnVsbDtpZigiQUVTLTEyOCI9PT10aGlzLm1ldGhvZCYmdGhpcy51cmkmJiF0aGlzLml2KXsibnVtYmVyIiE9dHlwZW9mIHQmJigiQUVTLTEyOCIhPT10aGlzLm1ldGhvZHx8dGhpcy5pdnx8RC53YXJuKCdtaXNzaW5nIElWIGZvciBpbml0aWFsaXphdGlvbiBzZWdtZW50IHdpdGggbWV0aG9kPSInK3RoaXMubWV0aG9kKyciIC0gY29tcGxpYW5jZSBpc3N1ZScpLHQ9MCk7dmFyIHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KDE2KSxyPTEyO3I8MTY7cisrKXRbcl09ZT4+OCooMTUtcikmMjU1O3JldHVybiB0fSh0KTtyZXR1cm4gbmV3IGUodGhpcy5tZXRob2QsdGhpcy51cmksImlkZW50aXR5Iix0aGlzLmtleUZvcm1hdFZlcnNpb25zLHIpfXJldHVybiB0aGlzfSxlfSgpO2Z1bmN0aW9uIENlKGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSwidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYpcmV0dXJuKGV8fCFzZWxmLk1lZGlhU291cmNlKSYmc2VsZi5NYW5hZ2VkTWVkaWFTb3VyY2V8fHNlbGYuTWVkaWFTb3VyY2V8fHNlbGYuV2ViS2l0TWVkaWFTb3VyY2V9dmFyIEllPXthdWRpbzp7YTNkczoxLCJhYy0zIjouOTUsImFjLTQiOjEsYWxhYzouOSxhbGF3OjEsZHJhMToxLCJkdHMrIjoxLCJkdHMtIjoxLGR0c2M6MSxkdHNlOjEsZHRzaDoxLCJlYy0zIjouOSxlbmNhOjEsZkxhQzouOSxmbGFjOi45LEZMQUM6LjksZzcxOToxLGc3MjY6MSxtNGFlOjEsbWhhMToxLG1oYTI6MSxtaG0xOjEsbWhtMjoxLG1scGE6MSxtcDRhOjEsInJhdyAiOjEsT3B1czoxLG9wdXM6MSxzYW1yOjEsc2F3YjoxLHNhd3A6MSxzZXZjOjEsc3FjcDoxLHNzbXY6MSx0d29zOjEsdWxhdzoxfSx2aWRlbzp7YXZjMToxLGF2YzI6MSxhdmMzOjEsYXZjNDoxLGF2Y3A6MSxhdjAxOi44LGRyYWM6MSxkdmExOjEsZHZhdjoxLGR2aDE6LjcsZHZoZTouNyxlbmN2OjEsaGV2MTouNzUsaHZjMTouNzUsbWpwMjoxLG1wNHY6MSxtdmMxOjEsbXZjMjoxLG12YzM6MSxtdmM0OjEscmVzdjoxLHJ2NjA6MSxzMjYzOjEsc3ZjMToxLHN2YzI6MSwidmMtMSI6MSx2cDA4OjEsdnAwOTouOX0sdGV4dDp7c3RwcDoxLHd2dHQ6MX19O2Z1bmN0aW9uIFBlKGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITApLCFlLnNwbGl0KCIsIikuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIUZlKGUsdCxyKX0pKX1mdW5jdGlvbiBGZShlLHQscil7dmFyIGk7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBhPUNlKHIpO3JldHVybiBudWxsIT0oaT1udWxsPT1hP3ZvaWQgMDphLmlzVHlwZVN1cHBvcnRlZChPZShlLHQpKSkmJml9ZnVuY3Rpb24gT2UoZSx0KXtyZXR1cm4gdCsnL21wNDtjb2RlY3M9IicrZSsnIid9ZnVuY3Rpb24gTWUoZSl7aWYoZSl7dmFyIHQ9ZS5zdWJzdHJpbmcoMCw0KTtyZXR1cm4gSWUudmlkZW9bdF19cmV0dXJuIDJ9ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIGUuc3BsaXQoIiwiKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9SWUudmlkZW9bdF07cmV0dXJuIHI/KDIqcitlKS8oZT8zOjIpOihJZS5hdWRpb1t0XStlKS8oZT8yOjEpfSksMCl9dmFyIEJlPXt9LFVlPS9mbGFjfG9wdXMvaTtmdW5jdGlvbiBHZShlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksZS5yZXBsYWNlKFVlLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMCksQmVbZV0pcmV0dXJuIEJlW2VdO2Zvcih2YXIgcj17ZmxhYzpbImZsYWMiLCJmTGFDIiwiRkxBQyJdLG9wdXM6WyJvcHVzIiwiT3B1cyJdfVtlXSxpPTA7aTxyLmxlbmd0aDtpKyspaWYoRmUocltpXSwiYXVkaW8iLHQpKXJldHVybiBCZVtlXT1yW2ldLHJbaV07cmV0dXJuIGV9KGUudG9Mb3dlckNhc2UoKSx0KX0pKX1mdW5jdGlvbiBIZShlLHQpe3JldHVybiBlJiYibXA0YSIhPT1lP2U6dD90LnNwbGl0KCIsIilbMF06dH12YXIgVmU9LyNFWFQtWC1TVFJFQU0tSU5GOihbXlxyXG5dKikoPzpbXHJcbl0oPzojW15cclxuXSopPykqKFteXHJcbl0rKXwjRVhULVgtKFNFU1NJT04tREFUQXxTRVNTSU9OLUtFWXxERUZJTkV8Q09OVEVOVC1TVEVFUklOR3xTVEFSVCk6KFteXHJcbl0qKVtcclxuXSsvZyxLZT0vI0VYVC1YLU1FRElBOiguKikvZyxXZT0vXiNFWFQoPzpJTkZ8LVgtVEFSR0VURFVSQVRJT04pOi9tLGplPW5ldyBSZWdFeHAoWy8jRVhUSU5GOlxzKihcZCooPzpcLlxkKyk/KSg/OiwoLiopXHMrKT8vLnNvdXJjZSwvKD8hIykgKihcU1teXHJcbl0qKS8uc291cmNlLC8jRVhULVgtQllURVJBTkdFOiooLispLy5zb3VyY2UsLyNFWFQtWC1QUk9HUkFNLURBVEUtVElNRTooLispLy5zb3VyY2UsLyMuKi8uc291cmNlXS5qb2luKCJ8IiksImciKSxZZT1uZXcgUmVnRXhwKFsvIyhFWFRNM1UpLy5zb3VyY2UsLyNFWFQtWC0oREFURVJBTkdFfERFRklORXxLRVl8TUFQfFBBUlR8UEFSVC1JTkZ8UExBWUxJU1QtVFlQRXxQUkVMT0FELUhJTlR8UkVORElUSU9OLVJFUE9SVHxTRVJWRVItQ09OVFJPTHxTS0lQfFNUQVJUKTooLispLy5zb3VyY2UsLyNFWFQtWC0oQklUUkFURXxESVNDT05USU5VSVRZLVNFUVVFTkNFfE1FRElBLVNFUVVFTkNFfFRBUkdFVERVUkFUSU9OfFZFUlNJT04pOiAqKFxkKykvLnNvdXJjZSwvI0VYVC1YLShESVNDT05USU5VSVRZfEVORExJU1R8R0FQfElOREVQRU5ERU5ULVNFR01FTlRTKS8uc291cmNlLC8oIykoW146XSopOiguKikvLnNvdXJjZSwvKCMpKC4qKSg/Oi4qKVxyP1xuPy8uc291cmNlXS5qb2luKCJ8IikpLHFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5maW5kR3JvdXA9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtpZihpLmlkPT09dClyZXR1cm4gaX19LGUucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBnLmJ1aWxkQWJzb2x1dGVVUkwodCxlLHthbHdheXNOb3JtYWxpemU6ITB9KX0sZS5pc01lZGlhUGxheWxpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIFdlLnRlc3QoZSl9LGUucGFyc2VNYXN0ZXJQbGF5bGlzdD1mdW5jdGlvbih0LHIpe3ZhciBpLGE9e2NvbnRlbnRTdGVlcmluZzpudWxsLGxldmVsczpbXSxwbGF5bGlzdFBhcnNpbmdFcnJvcjpudWxsLHNlc3Npb25EYXRhOm51bGwsc2Vzc2lvbktleXM6bnVsbCxzdGFydFRpbWVPZmZzZXQ6bnVsbCx2YXJpYWJsZUxpc3Q6bnVsbCxoYXNWYXJpYWJsZVJlZnM6ITF9LG49W107Zm9yKFZlLmxhc3RJbmRleD0wO251bGwhPShpPVZlLmV4ZWModCkpOylpZihpWzFdKXt2YXIgcyxvPW5ldyB3KGlbMV0pLGw9aVsyXSx1PXthdHRyczpvLGJpdHJhdGU6by5kZWNpbWFsSW50ZWdlcigiQkFORFdJRFRIIil8fG8uZGVjaW1hbEludGVnZXIoIkFWRVJBR0UtQkFORFdJRFRIIiksbmFtZTpvLk5BTUUsdXJsOmUucmVzb2x2ZShsLHIpfSxkPW8uZGVjaW1hbFJlc29sdXRpb24oIlJFU09MVVRJT04iKTtkJiYodS53aWR0aD1kLndpZHRoLHUuaGVpZ2h0PWQuaGVpZ2h0KSxRZShvLkNPREVDUyx1KSxudWxsIT0ocz11LnVua25vd25Db2RlY3MpJiZzLmxlbmd0aHx8bi5wdXNoKHUpLGEubGV2ZWxzLnB1c2godSl9ZWxzZSBpZihpWzNdKXt2YXIgaD1pWzNdLGY9aVs0XTtzd2l0Y2goaCl7Y2FzZSJTRVNTSU9OLURBVEEiOnZhciBjPW5ldyB3KGYpLHY9Y1siREFUQS1JRCJdO3YmJihudWxsPT09YS5zZXNzaW9uRGF0YSYmKGEuc2Vzc2lvbkRhdGE9e30pLGEuc2Vzc2lvbkRhdGFbdl09Yyk7YnJlYWs7Y2FzZSJTRVNTSU9OLUtFWSI6dmFyIGc9emUoZixyKTtnLmVuY3J5cHRlZCYmZy5pc1N1cHBvcnRlZCgpPyhudWxsPT09YS5zZXNzaW9uS2V5cyYmKGEuc2Vzc2lvbktleXM9W10pLGEuc2Vzc2lvbktleXMucHVzaChnKSk6RC53YXJuKCdbS2V5c10gSWdub3JpbmcgaW52YWxpZCBFWFQtWC1TRVNTSU9OLUtFWSB0YWc6ICInK2YrJyInKTticmVhaztjYXNlIkRFRklORSI6YnJlYWs7Y2FzZSJDT05URU5ULVNURUVSSU5HIjp2YXIgbT1uZXcgdyhmKTthLmNvbnRlbnRTdGVlcmluZz17dXJpOmUucmVzb2x2ZShtWyJTRVJWRVItVVJJIl0scikscGF0aHdheUlkOm1bIlBBVEhXQVktSUQiXXx8Ii4ifTticmVhaztjYXNlIlNUQVJUIjphLnN0YXJ0VGltZU9mZnNldD1YZShmKX19dmFyIHA9bi5sZW5ndGg+MCYmbi5sZW5ndGg8YS5sZXZlbHMubGVuZ3RoO3JldHVybiBhLmxldmVscz1wP246YS5sZXZlbHMsMD09PWEubGV2ZWxzLmxlbmd0aCYmKGEucGxheWxpc3RQYXJzaW5nRXJyb3I9bmV3IEVycm9yKCJubyBsZXZlbHMgZm91bmQgaW4gbWFuaWZlc3QiKSksYX0sZS5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWE9ZnVuY3Rpb24odCxyLGkpe3ZhciBhLG49e30scz1pLmxldmVscyxvPXtBVURJTzpzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUuYXR0cnMuQVVESU8sYXVkaW9Db2RlYzplLmF1ZGlvQ29kZWN9fSkpLFNVQlRJVExFUzpzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUuYXR0cnMuU1VCVElUTEVTLHRleHRDb2RlYzplLnRleHRDb2RlY319KSksIkNMT1NFRC1DQVBUSU9OUyI6W119LGw9MDtmb3IoS2UubGFzdEluZGV4PTA7bnVsbCE9PShhPUtlLmV4ZWModCkpOyl7dmFyIHU9bmV3IHcoYVsxXSksZD11LlRZUEU7aWYoZCl7dmFyIGg9b1tkXSxmPW5bZF18fFtdO25bZF09Zjt2YXIgYz11LkxBTkdVQUdFLHY9dVsiQVNTT0MtTEFOR1VBR0UiXSxnPXUuQ0hBTk5FTFMsbT11LkNIQVJBQ1RFUklTVElDUyxwPXVbIklOU1RSRUFNLUlEIl0seT17YXR0cnM6dSxiaXRyYXRlOjAsaWQ6bCsrLGdyb3VwSWQ6dVsiR1JPVVAtSUQiXXx8IiIsbmFtZTp1Lk5BTUV8fGN8fCIiLHR5cGU6ZCxkZWZhdWx0OnUuYm9vbCgiREVGQVVMVCIpLGF1dG9zZWxlY3Q6dS5ib29sKCJBVVRPU0VMRUNUIiksZm9yY2VkOnUuYm9vbCgiRk9SQ0VEIiksbGFuZzpjLHVybDp1LlVSST9lLnJlc29sdmUodS5VUkkscik6IiJ9O2lmKHYmJih5LmFzc29jTGFuZz12KSxnJiYoeS5jaGFubmVscz1nKSxtJiYoeS5jaGFyYWN0ZXJpc3RpY3M9bSkscCYmKHkuaW5zdHJlYW1JZD1wKSxudWxsIT1oJiZoLmxlbmd0aCl7dmFyIEU9ZS5maW5kR3JvdXAoaCx5Lmdyb3VwSWQpfHxoWzBdO0plKHksRSwiYXVkaW9Db2RlYyIpLEplKHksRSwidGV4dENvZGVjIil9Zi5wdXNoKHkpfX1yZXR1cm4gbn0sZS5wYXJzZUxldmVsUGxheWxpc3Q9ZnVuY3Rpb24oZSx0LHIsaSxhLG4pe3ZhciBzLGwsdSxkPW5ldyBHKHQpLGg9ZC5mcmFnbWVudHMsZj1udWxsLGM9MCx2PTAsZz0wLHA9MCx5PW51bGwsRT1uZXcgQihpLHQpLFQ9LTEsUz0hMSxMPW51bGw7Zm9yKGplLmxhc3RJbmRleD0wLGQubTN1OD1lLGQuaGFzVmFyaWFibGVSZWZzPSExO251bGwhPT0ocz1qZS5leGVjKGUpKTspe1MmJihTPSExLChFPW5ldyBCKGksdCkpLnN0YXJ0PWcsRS5zbj1jLEUuY2M9cCxFLmxldmVsPXIsZiYmKEUuaW5pdFNlZ21lbnQ9ZixFLnJhd1Byb2dyYW1EYXRlVGltZT1mLnJhd1Byb2dyYW1EYXRlVGltZSxmLnJhd1Byb2dyYW1EYXRlVGltZT1udWxsLEwmJihFLnNldEJ5dGVSYW5nZShMKSxMPW51bGwpKSk7dmFyIFI9c1sxXTtpZihSKXtFLmR1cmF0aW9uPXBhcnNlRmxvYXQoUik7dmFyIEE9KCIgIitzWzJdKS5zbGljZSgxKTtFLnRpdGxlPUF8fG51bGwsRS50YWdMaXN0LnB1c2goQT9bIklORiIsUixBXTpbIklORiIsUl0pfWVsc2UgaWYoc1szXSl7aWYobShFLmR1cmF0aW9uKSl7RS5zdGFydD1nLHUmJmV0KEUsdSxkKSxFLnNuPWMsRS5sZXZlbD1yLEUuY2M9cCxoLnB1c2goRSk7dmFyIGI9KCIgIitzWzNdKS5zbGljZSgxKTtFLnJlbHVybD1iLCRlKEUseSkseT1FLGcrPUUuZHVyYXRpb24sYysrLHY9MCxTPSEwfX1lbHNlIGlmKHNbNF0pe3ZhciBrPSgiICIrc1s0XSkuc2xpY2UoMSk7eT9FLnNldEJ5dGVSYW5nZShrLHkpOkUuc2V0Qnl0ZVJhbmdlKGspfWVsc2UgaWYoc1s1XSlFLnJhd1Byb2dyYW1EYXRlVGltZT0oIiAiK3NbNV0pLnNsaWNlKDEpLEUudGFnTGlzdC5wdXNoKFsiUFJPR1JBTS1EQVRFLVRJTUUiLEUucmF3UHJvZ3JhbURhdGVUaW1lXSksLTE9PT1UJiYoVD1oLmxlbmd0aCk7ZWxzZXtpZighKHM9c1swXS5tYXRjaChZZSkpKXtELndhcm4oIk5vIG1hdGNoZXMgb24gc2xvdyByZWdleCBtYXRjaCBmb3IgbGV2ZWwgcGxheWxpc3QhIik7Y29udGludWV9Zm9yKGw9MTtsPHMubGVuZ3RoJiZ2b2lkIDA9PT1zW2xdO2wrKyk7dmFyIF89KCIgIitzW2xdKS5zbGljZSgxKSx4PSgiICIrc1tsKzFdKS5zbGljZSgxKSxDPXNbbCsyXT8oIiAiK3NbbCsyXSkuc2xpY2UoMSk6IiI7c3dpdGNoKF8pe2Nhc2UiUExBWUxJU1QtVFlQRSI6ZC50eXBlPXgudG9VcHBlckNhc2UoKTticmVhaztjYXNlIk1FRElBLVNFUVVFTkNFIjpjPWQuc3RhcnRTTj1wYXJzZUludCh4KTticmVhaztjYXNlIlNLSVAiOnZhciBQPW5ldyB3KHgpLEY9UC5kZWNpbWFsSW50ZWdlcigiU0tJUFBFRC1TRUdNRU5UUyIpO2lmKG0oRikpe2Quc2tpcHBlZFNlZ21lbnRzPUY7Zm9yKHZhciBPPUY7Ty0tOyloLnVuc2hpZnQobnVsbCk7Yys9Rn12YXIgTT1QLmVudW1lcmF0ZWRTdHJpbmcoIlJFQ0VOVExZLVJFTU9WRUQtREFURVJBTkdFUyIpO00mJihkLnJlY2VudGx5UmVtb3ZlZERhdGVyYW5nZXM9TS5zcGxpdCgiXHQiKSk7YnJlYWs7Y2FzZSJUQVJHRVREVVJBVElPTiI6ZC50YXJnZXRkdXJhdGlvbj1NYXRoLm1heChwYXJzZUludCh4KSwxKTticmVhaztjYXNlIlZFUlNJT04iOmQudmVyc2lvbj1wYXJzZUludCh4KTticmVhaztjYXNlIklOREVQRU5ERU5ULVNFR01FTlRTIjpjYXNlIkVYVE0zVSI6Y2FzZSJERUZJTkUiOmJyZWFrO2Nhc2UiRU5ETElTVCI6ZC5saXZlPSExO2JyZWFrO2Nhc2UiIyI6KHh8fEMpJiZFLnRhZ0xpc3QucHVzaChDP1t4LENdOlt4XSk7YnJlYWs7Y2FzZSJESVNDT05USU5VSVRZIjpwKyssRS50YWdMaXN0LnB1c2goWyJESVMiXSk7YnJlYWs7Y2FzZSJHQVAiOkUuZ2FwPSEwLEUudGFnTGlzdC5wdXNoKFtfXSk7YnJlYWs7Y2FzZSJCSVRSQVRFIjpFLnRhZ0xpc3QucHVzaChbXyx4XSk7YnJlYWs7Y2FzZSJEQVRFUkFOR0UiOnZhciBOPW5ldyB3KHgpLEg9bmV3IEkoTixkLmRhdGVSYW5nZXNbTi5JRF0pO0guaXNWYWxpZHx8ZC5za2lwcGVkU2VnbWVudHM/ZC5kYXRlUmFuZ2VzW0guaWRdPUg6RC53YXJuKCdJZ25vcmluZyBpbnZhbGlkIERBVEVSQU5HRSB0YWc6ICInK3grJyInKSxFLnRhZ0xpc3QucHVzaChbIkVYVC1YLURBVEVSQU5HRSIseF0pO2JyZWFrO2Nhc2UiRElTQ09OVElOVUlUWS1TRVFVRU5DRSI6cD1wYXJzZUludCh4KTticmVhaztjYXNlIktFWSI6dmFyIFY9emUoeCx0KTtpZihWLmlzU3VwcG9ydGVkKCkpe2lmKCJOT05FIj09PVYubWV0aG9kKXt1PXZvaWQgMDticmVha311fHwodT17fSksdVtWLmtleUZvcm1hdF0mJih1PW8oe30sdSkpLHVbVi5rZXlGb3JtYXRdPVZ9ZWxzZSBELndhcm4oJ1tLZXlzXSBJZ25vcmluZyBpbnZhbGlkIEVYVC1YLUtFWSB0YWc6ICInK3grJyInKTticmVhaztjYXNlIlNUQVJUIjpkLnN0YXJ0VGltZU9mZnNldD1YZSh4KTticmVhaztjYXNlIk1BUCI6dmFyIEs9bmV3IHcoeCk7aWYoRS5kdXJhdGlvbil7dmFyIFc9bmV3IEIoaSx0KTtaZShXLEsscix1KSxmPVcsRS5pbml0U2VnbWVudD1mLGYucmF3UHJvZ3JhbURhdGVUaW1lJiYhRS5yYXdQcm9ncmFtRGF0ZVRpbWUmJihFLnJhd1Byb2dyYW1EYXRlVGltZT1mLnJhd1Byb2dyYW1EYXRlVGltZSl9ZWxzZXt2YXIgaj1FLmJ5dGVSYW5nZUVuZE9mZnNldDtpZihqKXt2YXIgWT1FLmJ5dGVSYW5nZVN0YXJ0T2Zmc2V0O0w9ai1ZKyJAIitZfWVsc2UgTD1udWxsO1plKEUsSyxyLHUpLGY9RSxTPSEwfWJyZWFrO2Nhc2UiU0VSVkVSLUNPTlRST0wiOnZhciBxPW5ldyB3KHgpO2QuY2FuQmxvY2tSZWxvYWQ9cS5ib29sKCJDQU4tQkxPQ0stUkVMT0FEIiksZC5jYW5Ta2lwVW50aWw9cS5vcHRpb25hbEZsb2F0KCJDQU4tU0tJUC1VTlRJTCIsMCksZC5jYW5Ta2lwRGF0ZVJhbmdlcz1kLmNhblNraXBVbnRpbD4wJiZxLmJvb2woIkNBTi1TS0lQLURBVEVSQU5HRVMiKSxkLnBhcnRIb2xkQmFjaz1xLm9wdGlvbmFsRmxvYXQoIlBBUlQtSE9MRC1CQUNLIiwwKSxkLmhvbGRCYWNrPXEub3B0aW9uYWxGbG9hdCgiSE9MRC1CQUNLIiwwKTticmVhaztjYXNlIlBBUlQtSU5GIjp2YXIgej1uZXcgdyh4KTtkLnBhcnRUYXJnZXQ9ei5kZWNpbWFsRmxvYXRpbmdQb2ludCgiUEFSVC1UQVJHRVQiKTticmVhaztjYXNlIlBBUlQiOnZhciBYPWQucGFydExpc3Q7WHx8KFg9ZC5wYXJ0TGlzdD1bXSk7dmFyIFE9dj4wP1hbWC5sZW5ndGgtMV06dm9pZCAwLEo9disrLCQ9bmV3IHcoeCksWj1uZXcgVSgkLEUsdCxKLFEpO1gucHVzaChaKSxFLmR1cmF0aW9uKz1aLmR1cmF0aW9uO2JyZWFrO2Nhc2UiUFJFTE9BRC1ISU5UIjp2YXIgZWU9bmV3IHcoeCk7ZC5wcmVsb2FkSGludD1lZTticmVhaztjYXNlIlJFTkRJVElPTi1SRVBPUlQiOnZhciB0ZT1uZXcgdyh4KTtkLnJlbmRpdGlvblJlcG9ydHM9ZC5yZW5kaXRpb25SZXBvcnRzfHxbXSxkLnJlbmRpdGlvblJlcG9ydHMucHVzaCh0ZSk7YnJlYWs7ZGVmYXVsdDpELndhcm4oImxpbmUgcGFyc2VkIGJ1dCBub3QgaGFuZGxlZDogIitzKX19fXkmJiF5LnJlbHVybD8oaC5wb3AoKSxnLT15LmR1cmF0aW9uLGQucGFydExpc3QmJihkLmZyYWdtZW50SGludD15KSk6ZC5wYXJ0TGlzdCYmKCRlKEUseSksRS5jYz1wLGQuZnJhZ21lbnRIaW50PUUsdSYmZXQoRSx1LGQpKTt2YXIgcmU9aC5sZW5ndGgsaWU9aFswXSxhZT1oW3JlLTFdO2lmKChnKz1kLnNraXBwZWRTZWdtZW50cypkLnRhcmdldGR1cmF0aW9uKT4wJiZyZSYmYWUpe2QuYXZlcmFnZXRhcmdldGR1cmF0aW9uPWcvcmU7dmFyIG5lPWFlLnNuO2QuZW5kU049ImluaXRTZWdtZW50IiE9PW5lP25lOjAsZC5saXZlfHwoYWUuZW5kTGlzdD0hMCksaWUmJihkLnN0YXJ0Q0M9aWUuY2MpfWVsc2UgZC5lbmRTTj0wLGQuc3RhcnRDQz0wO3JldHVybiBkLmZyYWdtZW50SGludCYmKGcrPWQuZnJhZ21lbnRIaW50LmR1cmF0aW9uKSxkLnRvdGFsZHVyYXRpb249ZyxkLmVuZENDPXAsVD4wJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lW3RdLGk9dDtpLS07KXt2YXIgYT1lW2ldO2lmKCFhKXJldHVybjthLnByb2dyYW1EYXRlVGltZT1yLnByb2dyYW1EYXRlVGltZS0xZTMqYS5kdXJhdGlvbixyPWF9fShoLFQpLGR9LGV9KCk7ZnVuY3Rpb24gemUoZSx0LHIpe3ZhciBpLGEsbj1uZXcgdyhlKSxzPW51bGwhPShpPW4uTUVUSE9EKT9pOiIiLG89bi5VUkksbD1uLmhleGFkZWNpbWFsSW50ZWdlcigiSVYiKSx1PW4uS0VZRk9STUFUVkVSU0lPTlMsZD1udWxsIT0oYT1uLktFWUZPUk1BVCk/YToiaWRlbnRpdHkiO28mJm4uSVYmJiFsJiZELmVycm9yKCJJbnZhbGlkIElWOiAiK24uSVYpO3ZhciBoPW8/cWUucmVzb2x2ZShvLHQpOiIiLGY9KHV8fCIxIikuc3BsaXQoIi8iKS5tYXAoTnVtYmVyKS5maWx0ZXIoTnVtYmVyLmlzRmluaXRlKTtyZXR1cm4gbmV3IHdlKHMsaCxkLGYsbCl9ZnVuY3Rpb24gWGUoZSl7dmFyIHQ9bmV3IHcoZSkuZGVjaW1hbEZsb2F0aW5nUG9pbnQoIlRJTUUtT0ZGU0VUIik7cmV0dXJuIG0odCk/dDpudWxsfWZ1bmN0aW9uIFFlKGUsdCl7dmFyIHI9KGV8fCIiKS5zcGxpdCgvWyAsXSsvKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpO1sidmlkZW8iLCJhdWRpbyIsInRleHQiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHI9SWVbdF07cmV0dXJuISFyJiYhIXJbZS5zbGljZSgwLDQpXX0odCxlKX0pKTtpLmxlbmd0aCYmKHRbZSsiQ29kZWMiXT1pLmpvaW4oIiwiKSxyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWkuaW5kZXhPZihlKX0pKSl9KSksdC51bmtub3duQ29kZWNzPXJ9ZnVuY3Rpb24gSmUoZSx0LHIpe3ZhciBpPXRbcl07aSYmKGVbcl09aSl9ZnVuY3Rpb24gJGUoZSx0KXtlLnJhd1Byb2dyYW1EYXRlVGltZT9lLnByb2dyYW1EYXRlVGltZT1EYXRlLnBhcnNlKGUucmF3UHJvZ3JhbURhdGVUaW1lKTpudWxsIT10JiZ0LnByb2dyYW1EYXRlVGltZSYmKGUucHJvZ3JhbURhdGVUaW1lPXQuZW5kUHJvZ3JhbURhdGVUaW1lKSxtKGUucHJvZ3JhbURhdGVUaW1lKXx8KGUucHJvZ3JhbURhdGVUaW1lPW51bGwsZS5yYXdQcm9ncmFtRGF0ZVRpbWU9bnVsbCl9ZnVuY3Rpb24gWmUoZSx0LHIsaSl7ZS5yZWx1cmw9dC5VUkksdC5CWVRFUkFOR0UmJmUuc2V0Qnl0ZVJhbmdlKHQuQllURVJBTkdFKSxlLmxldmVsPXIsZS5zbj0iaW5pdFNlZ21lbnQiLGkmJihlLmxldmVsa2V5cz1pKSxlLmluaXRTZWdtZW50PW51bGx9ZnVuY3Rpb24gZXQoZSx0LHIpe2UubGV2ZWxrZXlzPXQ7dmFyIGk9ci5lbmNyeXB0ZWRGcmFnbWVudHM7aS5sZW5ndGgmJmlbaS5sZW5ndGgtMV0ubGV2ZWxrZXlzPT09dHx8IU9iamVjdC5rZXlzKHQpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdLmlzQ29tbW9uRW5jcnlwdGlvbn0pKXx8aS5wdXNoKGUpfXZhciB0dD0ibWFuaWZlc3QiLHJ0PSJsZXZlbCIsaXQ9ImF1ZGlvVHJhY2siLGF0PSJzdWJ0aXRsZVRyYWNrIixudD0ibWFpbiIsc3Q9ImF1ZGlvIixvdD0ic3VidGl0bGUiO2Z1bmN0aW9uIGx0KGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgaXQ6cmV0dXJuIHN0O2Nhc2UgYXQ6cmV0dXJuIG90O2RlZmF1bHQ6cmV0dXJuIG50fX1mdW5jdGlvbiB1dChlLHQpe3ZhciByPWUudXJsO3JldHVybiB2b2lkIDAhPT1yJiYwIT09ci5pbmRleE9mKCJkYXRhOiIpfHwocj10LnVybCkscn12YXIgZHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaGxzPXZvaWQgMCx0aGlzLmxvYWRlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLnZhcmlhYmxlTGlzdD1udWxsLHRoaXMuaGxzPWUsdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnN0YXJ0TG9hZD1mdW5jdGlvbihlKXt9LHQuc3RvcExvYWQ9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMoKX0sdC5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub24oRS5NQU5JRkVTVF9MT0FESU5HLHRoaXMub25NYW5pZmVzdExvYWRpbmcsdGhpcyksZS5vbihFLkxFVkVMX0xPQURJTkcsdGhpcy5vbkxldmVsTG9hZGluZyx0aGlzKSxlLm9uKEUuQVVESU9fVFJBQ0tfTE9BRElORyx0aGlzLm9uQXVkaW9UcmFja0xvYWRpbmcsdGhpcyksZS5vbihFLlNVQlRJVExFX1RSQUNLX0xPQURJTkcsdGhpcy5vblN1YnRpdGxlVHJhY2tMb2FkaW5nLHRoaXMpfSx0LnVucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9mZihFLk1BTklGRVNUX0xPQURJTkcsdGhpcy5vbk1hbmlmZXN0TG9hZGluZyx0aGlzKSxlLm9mZihFLkxFVkVMX0xPQURJTkcsdGhpcy5vbkxldmVsTG9hZGluZyx0aGlzKSxlLm9mZihFLkFVRElPX1RSQUNLX0xPQURJTkcsdGhpcy5vbkF1ZGlvVHJhY2tMb2FkaW5nLHRoaXMpLGUub2ZmKEUuU1VCVElUTEVfVFJBQ0tfTE9BRElORyx0aGlzLm9uU3VidGl0bGVUcmFja0xvYWRpbmcsdGhpcyl9LHQuY3JlYXRlSW50ZXJuYWxMb2FkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5obHMuY29uZmlnLHI9dC5wTG9hZGVyLGk9dC5sb2FkZXIsYT1uZXcocnx8aSkodCk7cmV0dXJuIHRoaXMubG9hZGVyc1tlLnR5cGVdPWEsYX0sdC5nZXRJbnRlcm5hbExvYWRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb2FkZXJzW2UudHlwZV19LHQucmVzZXRJbnRlcm5hbExvYWRlcj1mdW5jdGlvbihlKXt0aGlzLmxvYWRlcnNbZV0mJmRlbGV0ZSB0aGlzLmxvYWRlcnNbZV19LHQuZGVzdHJveUludGVybmFsTG9hZGVycz1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmxvYWRlcnMpe3ZhciB0PXRoaXMubG9hZGVyc1tlXTt0JiZ0LmRlc3Ryb3koKSx0aGlzLnJlc2V0SW50ZXJuYWxMb2FkZXIoZSl9fSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZhcmlhYmxlTGlzdD1udWxsLHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpLHRoaXMuZGVzdHJveUludGVybmFsTG9hZGVycygpfSx0Lm9uTWFuaWZlc3RMb2FkaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC51cmw7dGhpcy52YXJpYWJsZUxpc3Q9bnVsbCx0aGlzLmxvYWQoe2lkOm51bGwsbGV2ZWw6MCxyZXNwb25zZVR5cGU6InRleHQiLHR5cGU6dHQsdXJsOnIsZGVsaXZlcnlEaXJlY3RpdmVzOm51bGx9KX0sdC5vbkxldmVsTG9hZGluZz1mdW5jdGlvbihlLHQpe3ZhciByPXQuaWQsaT10LmxldmVsLGE9dC5wYXRod2F5SWQsbj10LnVybCxzPXQuZGVsaXZlcnlEaXJlY3RpdmVzO3RoaXMubG9hZCh7aWQ6cixsZXZlbDppLHBhdGh3YXlJZDphLHJlc3BvbnNlVHlwZToidGV4dCIsdHlwZTpydCx1cmw6bixkZWxpdmVyeURpcmVjdGl2ZXM6c30pfSx0Lm9uQXVkaW9UcmFja0xvYWRpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmlkLGk9dC5ncm91cElkLGE9dC51cmwsbj10LmRlbGl2ZXJ5RGlyZWN0aXZlczt0aGlzLmxvYWQoe2lkOnIsZ3JvdXBJZDppLGxldmVsOm51bGwscmVzcG9uc2VUeXBlOiJ0ZXh0Iix0eXBlOml0LHVybDphLGRlbGl2ZXJ5RGlyZWN0aXZlczpufSl9LHQub25TdWJ0aXRsZVRyYWNrTG9hZGluZz1mdW5jdGlvbihlLHQpe3ZhciByPXQuaWQsaT10Lmdyb3VwSWQsYT10LnVybCxuPXQuZGVsaXZlcnlEaXJlY3RpdmVzO3RoaXMubG9hZCh7aWQ6cixncm91cElkOmksbGV2ZWw6bnVsbCxyZXNwb25zZVR5cGU6InRleHQiLHR5cGU6YXQsdXJsOmEsZGVsaXZlcnlEaXJlY3RpdmVzOm59KX0sdC5sb2FkPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxhPXRoaXMsbj10aGlzLmhscy5jb25maWcscz10aGlzLmdldEludGVybmFsTG9hZGVyKGUpO2lmKHMpe3ZhciBsPXMuY29udGV4dDtpZihsJiZsLnVybD09PWUudXJsJiZsLmxldmVsPT09ZS5sZXZlbClyZXR1cm4gdm9pZCBELnRyYWNlKCJbcGxheWxpc3QtbG9hZGVyXTogcGxheWxpc3QgcmVxdWVzdCBvbmdvaW5nIik7RC5sb2coIltwbGF5bGlzdC1sb2FkZXJdOiBhYm9ydGluZyBwcmV2aW91cyBsb2FkZXIgZm9yIHR5cGU6ICIrZS50eXBlKSxzLmFib3J0KCl9aWYocj1lLnR5cGU9PT10dD9uLm1hbmlmZXN0TG9hZFBvbGljeS5kZWZhdWx0Om8oe30sbi5wbGF5bGlzdExvYWRQb2xpY3kuZGVmYXVsdCx7dGltZW91dFJldHJ5Om51bGwsZXJyb3JSZXRyeTpudWxsfSkscz10aGlzLmNyZWF0ZUludGVybmFsTG9hZGVyKGUpLG0obnVsbD09KHQ9ZS5kZWxpdmVyeURpcmVjdGl2ZXMpP3ZvaWQgMDp0LnBhcnQpJiYoZS50eXBlPT09cnQmJm51bGwhPT1lLmxldmVsP2k9dGhpcy5obHMubGV2ZWxzW2UubGV2ZWxdLmRldGFpbHM6ZS50eXBlPT09aXQmJm51bGwhPT1lLmlkP2k9dGhpcy5obHMuYXVkaW9UcmFja3NbZS5pZF0uZGV0YWlsczplLnR5cGU9PT1hdCYmbnVsbCE9PWUuaWQmJihpPXRoaXMuaGxzLnN1YnRpdGxlVHJhY2tzW2UuaWRdLmRldGFpbHMpLGkpKXt2YXIgdT1pLnBhcnRUYXJnZXQsZD1pLnRhcmdldGR1cmF0aW9uO2lmKHUmJmQpe3ZhciBoPTFlMypNYXRoLm1heCgzKnUsLjgqZCk7cj1vKHt9LHIse21heFRpbWVUb0ZpcnN0Qnl0ZU1zOk1hdGgubWluKGgsci5tYXhUaW1lVG9GaXJzdEJ5dGVNcyksbWF4TG9hZFRpbWVNczpNYXRoLm1pbihoLHIubWF4VGltZVRvRmlyc3RCeXRlTXMpfSl9fXZhciBmPXIuZXJyb3JSZXRyeXx8ci50aW1lb3V0UmV0cnl8fHt9LGM9e2xvYWRQb2xpY3k6cix0aW1lb3V0OnIubWF4TG9hZFRpbWVNcyxtYXhSZXRyeTpmLm1heE51bVJldHJ5fHwwLHJldHJ5RGVsYXk6Zi5yZXRyeURlbGF5TXN8fDAsbWF4UmV0cnlEZWxheTpmLm1heFJldHJ5RGVsYXlNc3x8MH0sdj17b25TdWNjZXNzOmZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPWEuZ2V0SW50ZXJuYWxMb2FkZXIocik7YS5yZXNldEludGVybmFsTG9hZGVyKHIudHlwZSk7dmFyIHM9ZS5kYXRhOzA9PT1zLmluZGV4T2YoIiNFWFRNM1UiKT8odC5wYXJzaW5nLnN0YXJ0PXBlcmZvcm1hbmNlLm5vdygpLHFlLmlzTWVkaWFQbGF5bGlzdChzKT9hLmhhbmRsZVRyYWNrT3JMZXZlbFBsYXlsaXN0KGUsdCxyLGl8fG51bGwsbik6YS5oYW5kbGVNYXN0ZXJQbGF5bGlzdChlLHQscixpKSk6YS5oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvcihlLHIsbmV3IEVycm9yKCJubyBFWFRNM1UgZGVsaW1pdGVyIiksaXx8bnVsbCx0KX0sb25FcnJvcjpmdW5jdGlvbihlLHQscixpKXthLmhhbmRsZU5ldHdvcmtFcnJvcih0LHIsITEsZSxpKX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUsdCxyKXthLmhhbmRsZU5ldHdvcmtFcnJvcih0LHIsITAsdm9pZCAwLGUpfX07cy5sb2FkKGUsYyx2KX0sdC5oYW5kbGVNYXN0ZXJQbGF5bGlzdD1mdW5jdGlvbihlLHQscixpKXt2YXIgYT10aGlzLmhscyxuPWUuZGF0YSxzPXV0KGUsciksbz1xZS5wYXJzZU1hc3RlclBsYXlsaXN0KG4scyk7aWYoby5wbGF5bGlzdFBhcnNpbmdFcnJvcil0aGlzLmhhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKGUscixvLnBsYXlsaXN0UGFyc2luZ0Vycm9yLGksdCk7ZWxzZXt2YXIgbD1vLmNvbnRlbnRTdGVlcmluZyx1PW8ubGV2ZWxzLGQ9by5zZXNzaW9uRGF0YSxoPW8uc2Vzc2lvbktleXMsZj1vLnN0YXJ0VGltZU9mZnNldCxjPW8udmFyaWFibGVMaXN0O3RoaXMudmFyaWFibGVMaXN0PWM7dmFyIHY9cWUucGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhKG4scyxvKSxnPXYuQVVESU8sbT12b2lkIDA9PT1nP1tdOmcscD12LlNVQlRJVExFUyx5PXZbIkNMT1NFRC1DQVBUSU9OUyJdO20ubGVuZ3RoJiYobS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hZS51cmx9KSl8fCF1WzBdLmF1ZGlvQ29kZWN8fHVbMF0uYXR0cnMuQVVESU98fChELmxvZygiW3BsYXlsaXN0LWxvYWRlcl06IGF1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIGJ1dCBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBzaWduYWxlZCwgY3JlYXRlIG9uZSIpLG0udW5zaGlmdCh7dHlwZToibWFpbiIsbmFtZToibWFpbiIsZ3JvdXBJZDoibWFpbiIsZGVmYXVsdDohMSxhdXRvc2VsZWN0OiExLGZvcmNlZDohMSxpZDotMSxhdHRyczpuZXcgdyh7fSksYml0cmF0ZTowLHVybDoiIn0pKSksYS50cmlnZ2VyKEUuTUFOSUZFU1RfTE9BREVELHtsZXZlbHM6dSxhdWRpb1RyYWNrczptLHN1YnRpdGxlczpwLGNhcHRpb25zOnksY29udGVudFN0ZWVyaW5nOmwsdXJsOnMsc3RhdHM6dCxuZXR3b3JrRGV0YWlsczppLHNlc3Npb25EYXRhOmQsc2Vzc2lvbktleXM6aCxzdGFydFRpbWVPZmZzZXQ6Zix2YXJpYWJsZUxpc3Q6Y30pfX0sdC5oYW5kbGVUcmFja09yTGV2ZWxQbGF5bGlzdD1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuPXRoaXMuaGxzLHM9ci5pZCxvPXIubGV2ZWwsbD1yLnR5cGUsdT11dChlLHIpLGQ9bShvKT9vOm0ocyk/czowLGg9bHQociksZj1xZS5wYXJzZUxldmVsUGxheWxpc3QoZS5kYXRhLHUsZCxoLDAsdGhpcy52YXJpYWJsZUxpc3QpO2lmKGw9PT10dCl7dmFyIGM9e2F0dHJzOm5ldyB3KHt9KSxiaXRyYXRlOjAsZGV0YWlsczpmLG5hbWU6IiIsdXJsOnV9O24udHJpZ2dlcihFLk1BTklGRVNUX0xPQURFRCx7bGV2ZWxzOltjXSxhdWRpb1RyYWNrczpbXSx1cmw6dSxzdGF0czp0LG5ldHdvcmtEZXRhaWxzOmksc2Vzc2lvbkRhdGE6bnVsbCxzZXNzaW9uS2V5czpudWxsLGNvbnRlbnRTdGVlcmluZzpudWxsLHN0YXJ0VGltZU9mZnNldDpudWxsLHZhcmlhYmxlTGlzdDpudWxsfSl9dC5wYXJzaW5nLmVuZD1wZXJmb3JtYW5jZS5ub3coKSxyLmxldmVsRGV0YWlscz1mLHRoaXMuaGFuZGxlUGxheWxpc3RMb2FkZWQoZixlLHQscixpLGEpfSx0LmhhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yPWZ1bmN0aW9uKGUsdCxyLGksYSl7dGhpcy5obHMudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTkVUV09SS19FUlJPUixkZXRhaWxzOlMuTUFOSUZFU1RfUEFSU0lOR19FUlJPUixmYXRhbDp0LnR5cGU9PT10dCx1cmw6ZS51cmwsZXJyOnIsZXJyb3I6cixyZWFzb246ci5tZXNzYWdlLHJlc3BvbnNlOmUsY29udGV4dDp0LG5ldHdvcmtEZXRhaWxzOmksc3RhdHM6YX0pfSx0LmhhbmRsZU5ldHdvcmtFcnJvcj1mdW5jdGlvbihlLHQscixhLG4pe3ZvaWQgMD09PXImJihyPSExKTt2YXIgcz0iQSBuZXR3b3JrICIrKHI/InRpbWVvdXQiOiJlcnJvciIrKGE/IiAoc3RhdHVzICIrYS5jb2RlKyIpIjoiIikpKyIgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAiK2UudHlwZTtlLnR5cGU9PT1ydD9zKz0iOiAiK2UubGV2ZWwrIiBpZDogIitlLmlkOmUudHlwZSE9PWl0JiZlLnR5cGUhPT1hdHx8KHMrPSIgaWQ6ICIrZS5pZCsnIGdyb3VwLWlkOiAiJytlLmdyb3VwSWQrJyInKTt2YXIgbz1uZXcgRXJyb3Iocyk7RC53YXJuKCJbcGxheWxpc3QtbG9hZGVyXTogIitzKTt2YXIgbD1TLlVOS05PV04sdT0hMSxkPXRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoZSk7c3dpdGNoKGUudHlwZSl7Y2FzZSB0dDpsPXI/Uy5NQU5JRkVTVF9MT0FEX1RJTUVPVVQ6Uy5NQU5JRkVTVF9MT0FEX0VSUk9SLHU9ITA7YnJlYWs7Y2FzZSBydDpsPXI/Uy5MRVZFTF9MT0FEX1RJTUVPVVQ6Uy5MRVZFTF9MT0FEX0VSUk9SLHU9ITE7YnJlYWs7Y2FzZSBpdDpsPXI/Uy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6Uy5BVURJT19UUkFDS19MT0FEX0VSUk9SLHU9ITE7YnJlYWs7Y2FzZSBhdDpsPXI/Uy5TVUJUSVRMRV9UUkFDS19MT0FEX1RJTUVPVVQ6Uy5TVUJUSVRMRV9MT0FEX0VSUk9SLHU9ITF9ZCYmdGhpcy5yZXNldEludGVybmFsTG9hZGVyKGUudHlwZSk7dmFyIGg9e3R5cGU6VC5ORVRXT1JLX0VSUk9SLGRldGFpbHM6bCxmYXRhbDp1LHVybDplLnVybCxsb2FkZXI6ZCxjb250ZXh0OmUsZXJyb3I6byxuZXR3b3JrRGV0YWlsczp0LHN0YXRzOm59O2lmKGEpe3ZhciBmPShudWxsPT10P3ZvaWQgMDp0LnVybCl8fGUudXJsO2gucmVzcG9uc2U9aSh7dXJsOmYsZGF0YTp2b2lkIDB9LGEpfXRoaXMuaGxzLnRyaWdnZXIoRS5FUlJPUixoKX0sdC5oYW5kbGVQbGF5bGlzdExvYWRlZD1mdW5jdGlvbihlLHQscixpLGEsbil7dmFyIHM9dGhpcy5obHMsbz1pLnR5cGUsbD1pLmxldmVsLHU9aS5pZCxkPWkuZ3JvdXBJZCxoPWkuZGVsaXZlcnlEaXJlY3RpdmVzLGY9dXQodCxpKSxjPWx0KGkpLHY9Im51bWJlciI9PXR5cGVvZiBpLmxldmVsJiZjPT09bnQ/bDp2b2lkIDA7aWYoZS5mcmFnbWVudHMubGVuZ3RoKXtlLnRhcmdldGR1cmF0aW9ufHwoZS5wbGF5bGlzdFBhcnNpbmdFcnJvcj1uZXcgRXJyb3IoIk1pc3NpbmcgVGFyZ2V0IER1cmF0aW9uIikpO3ZhciBnPWUucGxheWxpc3RQYXJzaW5nRXJyb3I7aWYoZylzLnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk5FVFdPUktfRVJST1IsZGV0YWlsczpTLkxFVkVMX1BBUlNJTkdfRVJST1IsZmF0YWw6ITEsdXJsOmYsZXJyb3I6ZyxyZWFzb246Zy5tZXNzYWdlLHJlc3BvbnNlOnQsY29udGV4dDppLGxldmVsOnYscGFyZW50OmMsbmV0d29ya0RldGFpbHM6YSxzdGF0czpyfSk7ZWxzZSBzd2l0Y2goZS5saXZlJiZuJiYobi5nZXRDYWNoZUFnZSYmKGUuYWdlSGVhZGVyPW4uZ2V0Q2FjaGVBZ2UoKXx8MCksbi5nZXRDYWNoZUFnZSYmIWlzTmFOKGUuYWdlSGVhZGVyKXx8KGUuYWdlSGVhZGVyPTApKSxvKXtjYXNlIHR0OmNhc2UgcnQ6cy50cmlnZ2VyKEUuTEVWRUxfTE9BREVELHtkZXRhaWxzOmUsbGV2ZWw6dnx8MCxpZDp1fHwwLHN0YXRzOnIsbmV0d29ya0RldGFpbHM6YSxkZWxpdmVyeURpcmVjdGl2ZXM6aH0pO2JyZWFrO2Nhc2UgaXQ6cy50cmlnZ2VyKEUuQVVESU9fVFJBQ0tfTE9BREVELHtkZXRhaWxzOmUsaWQ6dXx8MCxncm91cElkOmR8fCIiLHN0YXRzOnIsbmV0d29ya0RldGFpbHM6YSxkZWxpdmVyeURpcmVjdGl2ZXM6aH0pO2JyZWFrO2Nhc2UgYXQ6cy50cmlnZ2VyKEUuU1VCVElUTEVfVFJBQ0tfTE9BREVELHtkZXRhaWxzOmUsaWQ6dXx8MCxncm91cElkOmR8fCIiLHN0YXRzOnIsbmV0d29ya0RldGFpbHM6YSxkZWxpdmVyeURpcmVjdGl2ZXM6aH0pfX1lbHNle3ZhciBtPW5ldyBFcnJvcigiTm8gU2VnbWVudHMgZm91bmQgaW4gUGxheWxpc3QiKTtzLnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk5FVFdPUktfRVJST1IsZGV0YWlsczpTLkxFVkVMX0VNUFRZX0VSUk9SLGZhdGFsOiExLHVybDpmLGVycm9yOm0scmVhc29uOm0ubWVzc2FnZSxyZXNwb25zZTp0LGNvbnRleHQ6aSxsZXZlbDp2LHBhcmVudDpjLG5ldHdvcmtEZXRhaWxzOmEsc3RhdHM6cn0pfX0sZX0oKTtmdW5jdGlvbiBodChlLHQpe3ZhciByO3RyeXtyPW5ldyBFdmVudCgiYWRkdHJhY2siKX1jYXRjaChlKXsocj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSkuaW5pdEV2ZW50KCJhZGR0cmFjayIsITEsITEpfXIudHJhY2s9ZSx0LmRpc3BhdGNoRXZlbnQocil9ZnVuY3Rpb24gZnQoZSx0LHIsaSl7dmFyIGE9ZS5tb2RlO2lmKCJkaXNhYmxlZCI9PT1hJiYoZS5tb2RlPSJoaWRkZW4iKSxlLmN1ZXMmJmUuY3Vlcy5sZW5ndGg+MClmb3IodmFyIG49ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVtdLGE9ZnVuY3Rpb24oZSx0KXtpZih0PGVbMF0uc3RhcnRUaW1lKXJldHVybiAwO3ZhciByPWUubGVuZ3RoLTE7aWYodD5lW3JdLmVuZFRpbWUpcmV0dXJuLTE7Zm9yKHZhciBpPTAsYT1yO2k8PWE7KXt2YXIgbj1NYXRoLmZsb29yKChhK2kpLzIpO2lmKHQ8ZVtuXS5zdGFydFRpbWUpYT1uLTE7ZWxzZXtpZighKHQ+ZVtuXS5zdGFydFRpbWUmJmk8cikpcmV0dXJuIG47aT1uKzF9fXJldHVybiBlW2ldLnN0YXJ0VGltZS10PHQtZVthXS5zdGFydFRpbWU/aTphfShlLHQpO2lmKGE+LTEpZm9yKHZhciBuPWEscz1lLmxlbmd0aDtuPHM7bisrKXt2YXIgbz1lW25dO2lmKG8uc3RhcnRUaW1lPj10JiZvLmVuZFRpbWU8PXIpaS5wdXNoKG8pO2Vsc2UgaWYoby5zdGFydFRpbWU+cilyZXR1cm4gaX1yZXR1cm4gaX0oZS5jdWVzLHQscikscz0wO3M8bi5sZW5ndGg7cysrKWkmJiFpKG5bc10pfHxlLnJlbW92ZUN1ZShuW3NdKTsiZGlzYWJsZWQiPT09YSYmKGUubW9kZT1hKX12YXIgY3Q9Im9yZy5pZDMiLHZ0PSJjb20uYXBwbGUucXVpY2t0aW1lLkhMUyIsZ3Q9Imh0dHBzOi8vYW9tZWRpYS5vcmcvZW1zZy9JRDMiO2Z1bmN0aW9uIG10KCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmKXJldHVybiBzZWxmLlZUVEN1ZXx8c2VsZi5UZXh0VHJhY2tDdWV9ZnVuY3Rpb24gcHQoZSx0LHIsYSxuKXt2YXIgcz1uZXcgZSh0LHIsIiIpO3RyeXtzLnZhbHVlPWEsbiYmKHMudHlwZT1uKX1jYXRjaChvKXtzPW5ldyBlKHQscixKU09OLnN0cmluZ2lmeShuP2koe3R5cGU6bn0sYSk6YSkpfXJldHVybiBzfXZhciB5dD1mdW5jdGlvbigpe3ZhciBlPW10KCk7dHJ5e2UmJm5ldyBlKDAsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCIiKX1jYXRjaChlKXtyZXR1cm4gTnVtYmVyLk1BWF9WQUxVRX1yZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSgpO2Z1bmN0aW9uIEV0KGUsdCl7cmV0dXJuIGUuZ2V0VGltZSgpLzFlMy10fXZhciBUdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5obHM9dm9pZCAwLHRoaXMuaWQzVHJhY2s9bnVsbCx0aGlzLm1lZGlhPW51bGwsdGhpcy5kYXRlUmFuZ2VDdWVzQXBwZW5kZWQ9e30sdGhpcy5obHM9ZSx0aGlzLl9yZWdpc3Rlckxpc3RlbmVycygpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl91bnJlZ2lzdGVyTGlzdGVuZXJzKCksdGhpcy5pZDNUcmFjaz1udWxsLHRoaXMubWVkaWE9bnVsbCx0aGlzLmRhdGVSYW5nZUN1ZXNBcHBlbmRlZD17fSx0aGlzLmhscz1udWxsfSx0Ll9yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub24oRS5NRURJQV9BVFRBQ0hFRCx0aGlzLm9uTWVkaWFBdHRhY2hlZCx0aGlzKSxlLm9uKEUuTUVESUFfREVUQUNISU5HLHRoaXMub25NZWRpYURldGFjaGluZyx0aGlzKSxlLm9uKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLGUub24oRS5GUkFHX1BBUlNJTkdfTUVUQURBVEEsdGhpcy5vbkZyYWdQYXJzaW5nTWV0YWRhdGEsdGhpcyksZS5vbihFLkJVRkZFUl9GTFVTSElORyx0aGlzLm9uQnVmZmVyRmx1c2hpbmcsdGhpcyksZS5vbihFLkxFVkVMX1VQREFURUQsdGhpcy5vbkxldmVsVXBkYXRlZCx0aGlzKX0sdC5fdW5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub2ZmKEUuTUVESUFfQVRUQUNIRUQsdGhpcy5vbk1lZGlhQXR0YWNoZWQsdGhpcyksZS5vZmYoRS5NRURJQV9ERVRBQ0hJTkcsdGhpcy5vbk1lZGlhRGV0YWNoaW5nLHRoaXMpLGUub2ZmKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLGUub2ZmKEUuRlJBR19QQVJTSU5HX01FVEFEQVRBLHRoaXMub25GcmFnUGFyc2luZ01ldGFkYXRhLHRoaXMpLGUub2ZmKEUuQlVGRkVSX0ZMVVNISU5HLHRoaXMub25CdWZmZXJGbHVzaGluZyx0aGlzKSxlLm9mZihFLkxFVkVMX1VQREFURUQsdGhpcy5vbkxldmVsVXBkYXRlZCx0aGlzKX0sdC5vbk1lZGlhQXR0YWNoZWQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm1lZGlhPXQubWVkaWF9LHQub25NZWRpYURldGFjaGluZz1mdW5jdGlvbigpe3RoaXMuaWQzVHJhY2smJihmdW5jdGlvbihlKXt2YXIgdD1lLm1vZGU7aWYoImRpc2FibGVkIj09PXQmJihlLm1vZGU9ImhpZGRlbiIpLGUuY3Vlcylmb3IodmFyIHI9ZS5jdWVzLmxlbmd0aDtyLS07KWUucmVtb3ZlQ3VlKGUuY3Vlc1tyXSk7ImRpc2FibGVkIj09PXQmJihlLm1vZGU9dCl9KHRoaXMuaWQzVHJhY2spLHRoaXMuaWQzVHJhY2s9bnVsbCx0aGlzLm1lZGlhPW51bGwsdGhpcy5kYXRlUmFuZ2VDdWVzQXBwZW5kZWQ9e30pfSx0Lm9uTWFuaWZlc3RMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5kYXRlUmFuZ2VDdWVzQXBwZW5kZWQ9e319LHQuY3JlYXRlVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRJRDNUcmFjayhlLnRleHRUcmFja3MpO3JldHVybiB0Lm1vZGU9ImhpZGRlbiIsdH0sdC5nZXRJRDNUcmFjaz1mdW5jdGlvbihlKXtpZih0aGlzLm1lZGlhKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIHI9ZVt0XTtpZigibWV0YWRhdGEiPT09ci5raW5kJiYiaWQzIj09PXIubGFiZWwpcmV0dXJuIGh0KHIsdGhpcy5tZWRpYSkscn1yZXR1cm4gdGhpcy5tZWRpYS5hZGRUZXh0VHJhY2soIm1ldGFkYXRhIiwiaWQzIil9fSx0Lm9uRnJhZ1BhcnNpbmdNZXRhZGF0YT1mdW5jdGlvbihlLHQpe2lmKHRoaXMubWVkaWEpe3ZhciByPXRoaXMuaGxzLmNvbmZpZyxpPXIuZW5hYmxlRW1zZ01ldGFkYXRhQ3VlcyxhPXIuZW5hYmxlSUQzTWV0YWRhdGFDdWVzO2lmKGl8fGEpe3ZhciBuPXQuc2FtcGxlczt0aGlzLmlkM1RyYWNrfHwodGhpcy5pZDNUcmFjaz10aGlzLmNyZWF0ZVRyYWNrKHRoaXMubWVkaWEpKTt2YXIgcz1tdCgpO2lmKHMpZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBsPW5bb10udHlwZTtpZigobCE9PWd0fHxpKSYmYSl7dmFyIHU9JChuW29dLmRhdGEpO2lmKHUpe3ZhciBkPW5bb10ucHRzLGg9ZCtuW29dLmR1cmF0aW9uO2g+eXQmJihoPXl0KSxoLWQ8PTAmJihoPWQrLjI1KTtmb3IodmFyIGY9MDtmPHUubGVuZ3RoO2YrKyl7dmFyIGM9dVtmXTtpZighUShjKSl7dGhpcy51cGRhdGVJZDNDdWVFbmRzKGQsbCk7dmFyIHY9cHQocyxkLGgsYyxsKTt2JiZ0aGlzLmlkM1RyYWNrLmFkZEN1ZSh2KX19fX19fX19LHQudXBkYXRlSWQzQ3VlRW5kcz1mdW5jdGlvbihlLHQpe3ZhciByLGk9bnVsbD09KHI9dGhpcy5pZDNUcmFjayk/dm9pZCAwOnIuY3VlcztpZihpKWZvcih2YXIgYT1pLmxlbmd0aDthLS07KXt2YXIgbj1pW2FdO24udHlwZT09PXQmJm4uc3RhcnRUaW1lPGUmJm4uZW5kVGltZT09PXl0JiYobi5lbmRUaW1lPWUpfX0sdC5vbkJ1ZmZlckZsdXNoaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5zdGFydE9mZnNldCxpPXQuZW5kT2Zmc2V0LGE9dC50eXBlLG49dGhpcy5pZDNUcmFjayxzPXRoaXMuaGxzO2lmKHMpe3ZhciBvPXMuY29uZmlnLGw9by5lbmFibGVFbXNnTWV0YWRhdGFDdWVzLHU9by5lbmFibGVJRDNNZXRhZGF0YUN1ZXM7biYmKGx8fHUpJiZmdChuLHIsaSwiYXVkaW8iPT09YT9mdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09Y3QmJnV9OiJ2aWRlbyI9PT1hP2Z1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT1ndCYmbH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PWN0JiZ1fHxlLnR5cGU9PT1ndCYmbH0pfX0sdC5vbkxldmVsVXBkYXRlZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT10LmRldGFpbHM7aWYodGhpcy5tZWRpYSYmaS5oYXNQcm9ncmFtRGF0ZVRpbWUmJnRoaXMuaGxzLmNvbmZpZy5lbmFibGVEYXRlUmFuZ2VNZXRhZGF0YUN1ZXMpe3ZhciBhPXRoaXMuZGF0ZVJhbmdlQ3Vlc0FwcGVuZGVkLG49dGhpcy5pZDNUcmFjayxzPWkuZGF0ZVJhbmdlcyxvPU9iamVjdC5rZXlzKHMpO2lmKG4pZm9yKHZhciBsPU9iamVjdC5rZXlzKGEpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW8uaW5jbHVkZXMoZSl9KSksdT1mdW5jdGlvbigpe3ZhciBlPWxbZF07T2JqZWN0LmtleXMoYVtlXS5jdWVzKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnJlbW92ZUN1ZShhW2VdLmN1ZXNbdF0pfSkpLGRlbGV0ZSBhW2VdfSxkPWwubGVuZ3RoO2QtLTspdSgpO3ZhciBoPWkuZnJhZ21lbnRzW2kuZnJhZ21lbnRzLmxlbmd0aC0xXTtpZigwIT09by5sZW5ndGgmJm0obnVsbD09aD92b2lkIDA6aC5wcm9ncmFtRGF0ZVRpbWUpKXt0aGlzLmlkM1RyYWNrfHwodGhpcy5pZDNUcmFjaz10aGlzLmNyZWF0ZVRyYWNrKHRoaXMubWVkaWEpKTtmb3IodmFyIGY9aC5wcm9ncmFtRGF0ZVRpbWUvMWUzLWguc3RhcnQsYz1tdCgpLHY9ZnVuY3Rpb24oKXt2YXIgZT1vW2ddLHQ9c1tlXSxpPUV0KHQuc3RhcnREYXRlLGYpLG49YVtlXSxsPShudWxsPT1uP3ZvaWQgMDpuLmN1ZXMpfHx7fSx1PShudWxsPT1uP3ZvaWQgMDpuLmR1cmF0aW9uS25vd24pfHwhMSxkPXl0LGg9dC5lbmREYXRlO2lmKGgpZD1FdChoLGYpLHU9ITA7ZWxzZSBpZih0LmVuZE9uTmV4dCYmIXUpe3ZhciB2PW8ucmVkdWNlKChmdW5jdGlvbihlLHIpe2lmKHIhPT10LmlkKXt2YXIgaT1zW3JdO2lmKGkuY2xhc3M9PT10LmNsYXNzJiZpLnN0YXJ0RGF0ZT50LnN0YXJ0RGF0ZSYmKCFlfHx0LnN0YXJ0RGF0ZTxlLnN0YXJ0RGF0ZSkpcmV0dXJuIGl9cmV0dXJuIGV9KSxudWxsKTt2JiYoZD1FdCh2LnN0YXJ0RGF0ZSxmKSx1PSEwKX1mb3IodmFyIG0scCx5PU9iamVjdC5rZXlzKHQuYXR0ciksRT0wO0U8eS5sZW5ndGg7RSsrKXt2YXIgVD15W0VdO2lmKCJJRCIhPT0ocD1UKSYmIkNMQVNTIiE9PXAmJiJTVEFSVC1EQVRFIiE9PXAmJiJEVVJBVElPTiIhPT1wJiYiRU5ELURBVEUiIT09cCYmIkVORC1PTi1ORVhUIiE9PXApe3ZhciBTPWxbVF07aWYoUyl1JiYhbi5kdXJhdGlvbktub3duJiYoUy5lbmRUaW1lPWQpO2Vsc2UgaWYoYyl7dmFyIEw9dC5hdHRyW1RdO0MoVCkmJihtPUwsTD1VaW50OEFycmF5LmZyb20obS5yZXBsYWNlKC9eMHgvLCIiKS5yZXBsYWNlKC8oW1xkYS1mQS1GXXsyfSkgPy9nLCIweCQxICIpLnJlcGxhY2UoLyArJC8sIiIpLnNwbGl0KCIgIikpLmJ1ZmZlcik7dmFyIFI9cHQoYyxpLGQse2tleTpULGRhdGE6TH0sdnQpO1ImJihSLmlkPWUsci5pZDNUcmFjay5hZGRDdWUoUiksbFtUXT1SKX19fWFbZV09e2N1ZXM6bCxkYXRlUmFuZ2U6dCxkdXJhdGlvbktub3duOnV9fSxnPTA7ZzxvLmxlbmd0aDtnKyspdigpfX19LGV9KCksU3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy5obHM9dm9pZCAwLHRoaXMuY29uZmlnPXZvaWQgMCx0aGlzLm1lZGlhPW51bGwsdGhpcy5sZXZlbERldGFpbHM9bnVsbCx0aGlzLmN1cnJlbnRUaW1lPTAsdGhpcy5zdGFsbENvdW50PTAsdGhpcy5fbGF0ZW5jeT1udWxsLHRoaXMudGltZXVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC50aW1ldXBkYXRlKCl9LHRoaXMuaGxzPWUsdGhpcy5jb25maWc9ZS5jb25maWcsdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKSx0aGlzLm9uTWVkaWFEZXRhY2hpbmcoKSx0aGlzLmxldmVsRGV0YWlscz1udWxsLHRoaXMuaGxzPXRoaXMudGltZXVwZGF0ZUhhbmRsZXI9bnVsbH0sdC5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuaGxzLm9uKEUuTUVESUFfQVRUQUNIRUQsdGhpcy5vbk1lZGlhQXR0YWNoZWQsdGhpcyksdGhpcy5obHMub24oRS5NRURJQV9ERVRBQ0hJTkcsdGhpcy5vbk1lZGlhRGV0YWNoaW5nLHRoaXMpLHRoaXMuaGxzLm9uKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLHRoaXMuaGxzLm9uKEUuTEVWRUxfVVBEQVRFRCx0aGlzLm9uTGV2ZWxVcGRhdGVkLHRoaXMpLHRoaXMuaGxzLm9uKEUuRVJST1IsdGhpcy5vbkVycm9yLHRoaXMpfSx0LnVucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt0aGlzLmhscy5vZmYoRS5NRURJQV9BVFRBQ0hFRCx0aGlzLm9uTWVkaWFBdHRhY2hlZCx0aGlzKSx0aGlzLmhscy5vZmYoRS5NRURJQV9ERVRBQ0hJTkcsdGhpcy5vbk1lZGlhRGV0YWNoaW5nLHRoaXMpLHRoaXMuaGxzLm9mZihFLk1BTklGRVNUX0xPQURJTkcsdGhpcy5vbk1hbmlmZXN0TG9hZGluZyx0aGlzKSx0aGlzLmhscy5vZmYoRS5MRVZFTF9VUERBVEVELHRoaXMub25MZXZlbFVwZGF0ZWQsdGhpcyksdGhpcy5obHMub2ZmKEUuRVJST1IsdGhpcy5vbkVycm9yLHRoaXMpfSx0Lm9uTWVkaWFBdHRhY2hlZD1mdW5jdGlvbihlLHQpe3RoaXMubWVkaWE9dC5tZWRpYSx0aGlzLm1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoInRpbWV1cGRhdGUiLHRoaXMudGltZXVwZGF0ZUhhbmRsZXIpfSx0Lm9uTWVkaWFEZXRhY2hpbmc9ZnVuY3Rpb24oKXt0aGlzLm1lZGlhJiYodGhpcy5tZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCJ0aW1ldXBkYXRlIix0aGlzLnRpbWV1cGRhdGVIYW5kbGVyKSx0aGlzLm1lZGlhPW51bGwpfSx0Lm9uTWFuaWZlc3RMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5sZXZlbERldGFpbHM9bnVsbCx0aGlzLl9sYXRlbmN5PW51bGwsdGhpcy5zdGFsbENvdW50PTB9LHQub25MZXZlbFVwZGF0ZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmRldGFpbHM7dGhpcy5sZXZlbERldGFpbHM9cixyLmFkdmFuY2VkJiZ0aGlzLnRpbWV1cGRhdGUoKSwhci5saXZlJiZ0aGlzLm1lZGlhJiZ0aGlzLm1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRpbWV1cGRhdGUiLHRoaXMudGltZXVwZGF0ZUhhbmRsZXIpfSx0Lm9uRXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgcjt0LmRldGFpbHM9PT1TLkJVRkZFUl9TVEFMTEVEX0VSUk9SJiYodGhpcy5zdGFsbENvdW50KyssbnVsbCE9KHI9dGhpcy5sZXZlbERldGFpbHMpJiZyLmxpdmUmJkQud2FybigiW3BsYXliYWNrLXJhdGUtY29udHJvbGxlcl06IFN0YWxsIGRldGVjdGVkLCBhZGp1c3RpbmcgdGFyZ2V0IGxhdGVuY3kiKSl9LHQudGltZXVwZGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubWVkaWEsdD10aGlzLmxldmVsRGV0YWlscztpZihlJiZ0KXt0aGlzLmN1cnJlbnRUaW1lPWUuY3VycmVudFRpbWU7dmFyIHI9dGhpcy5jb21wdXRlTGF0ZW5jeSgpO2lmKG51bGwhPT1yKXt0aGlzLl9sYXRlbmN5PXI7dmFyIGk9dGhpcy5jb25maWcsYT1pLmxvd0xhdGVuY3lNb2RlLG49aS5tYXhMaXZlU3luY1BsYXliYWNrUmF0ZTtpZihhJiYxIT09biYmdC5saXZlKXt2YXIgcz10aGlzLnRhcmdldExhdGVuY3k7aWYobnVsbCE9PXMpe3ZhciBvPXItcztpZihvPE1hdGgubWluKHRoaXMubWF4TGF0ZW5jeSxzK3QudGFyZ2V0ZHVyYXRpb24pJiZvPi4wNSYmdGhpcy5mb3J3YXJkQnVmZmVyTGVuZ3RoPjEpe3ZhciBsPU1hdGgubWluKDIsTWF0aC5tYXgoMSxuKSksdT1NYXRoLnJvdW5kKDIvKDErTWF0aC5leHAoLS43NSpvLXRoaXMuZWRnZVN0YWxsZWQpKSoyMCkvMjA7ZS5wbGF5YmFja1JhdGU9TWF0aC5taW4obCxNYXRoLm1heCgxLHUpKX1lbHNlIDEhPT1lLnBsYXliYWNrUmF0ZSYmMCE9PWUucGxheWJhY2tSYXRlJiYoZS5wbGF5YmFja1JhdGU9MSl9fX19fSx0LmVzdGltYXRlTGl2ZUVkZ2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxldmVsRGV0YWlscztyZXR1cm4gbnVsbD09PWU/bnVsbDplLmVkZ2UrZS5hZ2V9LHQuY29tcHV0ZUxhdGVuY3k9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVzdGltYXRlTGl2ZUVkZ2UoKTtyZXR1cm4gbnVsbD09PWU/bnVsbDplLXRoaXMuY3VycmVudFRpbWV9LHMoZSxbe2tleToibGF0ZW5jeSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdGVuY3l8fDB9fSx7a2V5OiJtYXhMYXRlbmN5IixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbmZpZyx0PXRoaXMubGV2ZWxEZXRhaWxzO3JldHVybiB2b2lkIDAhPT1lLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24/ZS5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uOnQ/ZS5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQqdC50YXJnZXRkdXJhdGlvbjowfX0se2tleToidGFyZ2V0TGF0ZW5jeSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZXZlbERldGFpbHM7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5ob2xkQmFjayxyPWUucGFydEhvbGRCYWNrLGk9ZS50YXJnZXRkdXJhdGlvbixhPXRoaXMuY29uZmlnLG49YS5saXZlU3luY0R1cmF0aW9uLHM9YS5saXZlU3luY0R1cmF0aW9uQ291bnQsbz1hLmxvd0xhdGVuY3lNb2RlLGw9dGhpcy5obHMudXNlckNvbmZpZyx1PW8mJnJ8fHQ7KGwubGl2ZVN5bmNEdXJhdGlvbnx8bC5saXZlU3luY0R1cmF0aW9uQ291bnR8fDA9PT11KSYmKHU9dm9pZCAwIT09bj9uOnMqaSk7dmFyIGQ9aTtyZXR1cm4gdStNYXRoLm1pbigxKnRoaXMuc3RhbGxDb3VudCxkKX19LHtrZXk6ImxpdmVTeW5jUG9zaXRpb24iLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZXN0aW1hdGVMaXZlRWRnZSgpLHQ9dGhpcy50YXJnZXRMYXRlbmN5LHI9dGhpcy5sZXZlbERldGFpbHM7aWYobnVsbD09PWV8fG51bGw9PT10fHxudWxsPT09cilyZXR1cm4gbnVsbDt2YXIgaT1yLmVkZ2UsYT1lLXQtdGhpcy5lZGdlU3RhbGxlZCxuPWktci50b3RhbGR1cmF0aW9uLHM9aS0odGhpcy5jb25maWcubG93TGF0ZW5jeU1vZGUmJnIucGFydFRhcmdldHx8ci50YXJnZXRkdXJhdGlvbik7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sYSkscyl9fSx7a2V5OiJkcmlmdCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZXZlbERldGFpbHM7cmV0dXJuIG51bGw9PT1lPzE6ZS5kcmlmdH19LHtrZXk6ImVkZ2VTdGFsbGVkIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxldmVsRGV0YWlscztpZihudWxsPT09ZSlyZXR1cm4gMDt2YXIgdD0zKih0aGlzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZSYmZS5wYXJ0VGFyZ2V0fHxlLnRhcmdldGR1cmF0aW9uKTtyZXR1cm4gTWF0aC5tYXgoZS5hZ2UtdCwwKX19LHtrZXk6ImZvcndhcmRCdWZmZXJMZW5ndGgiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubWVkaWEsdD10aGlzLmxldmVsRGV0YWlscztpZighZXx8IXQpcmV0dXJuIDA7dmFyIHI9ZS5idWZmZXJlZC5sZW5ndGg7cmV0dXJuKHI/ZS5idWZmZXJlZC5lbmQoci0xKTp0LmVkZ2UpLXRoaXMuY3VycmVudFRpbWV9fV0pLGV9KCksTHQ9WyJOT05FIiwiVFlQRS0wIiwiVFlQRS0xIixudWxsXSxSdD1bIlNEUiIsIlBRIiwiSExHIl0sQXQ9IiIsYnQ9IllFUyIsa3Q9InYyIjtmdW5jdGlvbiBEdChlKXt2YXIgdD1lLmNhblNraXBVbnRpbCxyPWUuY2FuU2tpcERhdGVSYW5nZXMsaT1lLmFnZTtyZXR1cm4gdCYmaTx0LzI/cj9rdDpidDpBdH12YXIgX3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLm1zbj12b2lkIDAsdGhpcy5wYXJ0PXZvaWQgMCx0aGlzLnNraXA9dm9pZCAwLHRoaXMubXNuPWUsdGhpcy5wYXJ0PXQsdGhpcy5za2lwPXJ9cmV0dXJuIGUucHJvdG90eXBlLmFkZERpcmVjdGl2ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHNlbGYuVVJMKGUpO3JldHVybiB2b2lkIDAhPT10aGlzLm1zbiYmdC5zZWFyY2hQYXJhbXMuc2V0KCJfSExTX21zbiIsdGhpcy5tc24udG9TdHJpbmcoKSksdm9pZCAwIT09dGhpcy5wYXJ0JiZ0LnNlYXJjaFBhcmFtcy5zZXQoIl9ITFNfcGFydCIsdGhpcy5wYXJ0LnRvU3RyaW5nKCkpLHRoaXMuc2tpcCYmdC5zZWFyY2hQYXJhbXMuc2V0KCJfSExTX3NraXAiLHRoaXMuc2tpcCksdC5ocmVmfSxlfSgpLHh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9hdHRycz12b2lkIDAsdGhpcy5hdWRpb0NvZGVjPXZvaWQgMCx0aGlzLmJpdHJhdGU9dm9pZCAwLHRoaXMuY29kZWNTZXQ9dm9pZCAwLHRoaXMudXJsPXZvaWQgMCx0aGlzLmZyYW1lUmF0ZT12b2lkIDAsdGhpcy5oZWlnaHQ9dm9pZCAwLHRoaXMuaWQ9dm9pZCAwLHRoaXMubmFtZT12b2lkIDAsdGhpcy52aWRlb0NvZGVjPXZvaWQgMCx0aGlzLndpZHRoPXZvaWQgMCx0aGlzLmRldGFpbHM9dm9pZCAwLHRoaXMuZnJhZ21lbnRFcnJvcj0wLHRoaXMubG9hZEVycm9yPTAsdGhpcy5sb2FkZWQ9dm9pZCAwLHRoaXMucmVhbEJpdHJhdGU9MCx0aGlzLnN1cHBvcnRlZFByb21pc2U9dm9pZCAwLHRoaXMuc3VwcG9ydGVkUmVzdWx0PXZvaWQgMCx0aGlzLl9hdmdCaXRyYXRlPTAsdGhpcy5fYXVkaW9Hcm91cHM9dm9pZCAwLHRoaXMuX3N1YnRpdGxlR3JvdXBzPXZvaWQgMCx0aGlzLl91cmxJZD0wLHRoaXMudXJsPVtlLnVybF0sdGhpcy5fYXR0cnM9W2UuYXR0cnNdLHRoaXMuYml0cmF0ZT1lLmJpdHJhdGUsZS5kZXRhaWxzJiYodGhpcy5kZXRhaWxzPWUuZGV0YWlscyksdGhpcy5pZD1lLmlkfHwwLHRoaXMubmFtZT1lLm5hbWUsdGhpcy53aWR0aD1lLndpZHRofHwwLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0fHwwLHRoaXMuZnJhbWVSYXRlPWUuYXR0cnMub3B0aW9uYWxGbG9hdCgiRlJBTUUtUkFURSIsMCksdGhpcy5fYXZnQml0cmF0ZT1lLmF0dHJzLmRlY2ltYWxJbnRlZ2VyKCJBVkVSQUdFLUJBTkRXSURUSCIpLHRoaXMuYXVkaW9Db2RlYz1lLmF1ZGlvQ29kZWMsdGhpcy52aWRlb0NvZGVjPWUudmlkZW9Db2RlYyx0aGlzLmNvZGVjU2V0PVtlLnZpZGVvQ29kZWMsZS5hdWRpb0NvZGVjXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cmluZygwLDQpfSkpLmpvaW4oIiwiKSx0aGlzLmFkZEdyb3VwSWQoImF1ZGlvIixlLmF0dHJzLkFVRElPKSx0aGlzLmFkZEdyb3VwSWQoInRleHQiLGUuYXR0cnMuU1VCVElUTEVTKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5oYXNBdWRpb0dyb3VwPWZ1bmN0aW9uKGUpe3JldHVybiB3dCh0aGlzLl9hdWRpb0dyb3VwcyxlKX0sdC5oYXNTdWJ0aXRsZUdyb3VwPWZ1bmN0aW9uKGUpe3JldHVybiB3dCh0aGlzLl9zdWJ0aXRsZUdyb3VwcyxlKX0sdC5hZGRHcm91cElkPWZ1bmN0aW9uKGUsdCl7aWYodClpZigiYXVkaW8iPT09ZSl7dmFyIHI9dGhpcy5fYXVkaW9Hcm91cHM7cnx8KHI9dGhpcy5fYXVkaW9Hcm91cHM9W10pLC0xPT09ci5pbmRleE9mKHQpJiZyLnB1c2godCl9ZWxzZSBpZigidGV4dCI9PT1lKXt2YXIgaT10aGlzLl9zdWJ0aXRsZUdyb3VwcztpfHwoaT10aGlzLl9zdWJ0aXRsZUdyb3Vwcz1bXSksLTE9PT1pLmluZGV4T2YodCkmJmkucHVzaCh0KX19LHQuYWRkRmFsbGJhY2s9ZnVuY3Rpb24oKXt9LHMoZSxbe2tleToibWF4Qml0cmF0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMucmVhbEJpdHJhdGUsdGhpcy5iaXRyYXRlKX19LHtrZXk6ImF2ZXJhZ2VCaXRyYXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXZnQml0cmF0ZXx8dGhpcy5yZWFsQml0cmF0ZXx8dGhpcy5iaXRyYXRlfX0se2tleToiYXR0cnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyc1swXX19LHtrZXk6ImNvZGVjcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cnMuQ09ERUNTfHwiIn19LHtrZXk6InBhdGh3YXlJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cnNbIlBBVEhXQVktSUQiXXx8Ii4ifX0se2tleToidmlkZW9SYW5nZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cnNbIlZJREVPLVJBTkdFIl18fCJTRFIifX0se2tleToic2NvcmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJzLm9wdGlvbmFsRmxvYXQoIlNDT1JFIiwwKX19LHtrZXk6InVyaSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsWzBdfHwiIn19LHtrZXk6ImF1ZGlvR3JvdXBzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9Hcm91cHN9fSx7a2V5OiJzdWJ0aXRsZUdyb3VwcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnRpdGxlR3JvdXBzfX0se2tleToidXJsSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiAwfSxzZXQ6ZnVuY3Rpb24oZSl7fX0se2tleToiYXVkaW9Hcm91cElkcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXVkaW9Hcm91cHM/W3RoaXMuYXVkaW9Hcm91cElkXTp2b2lkIDB9fSx7a2V5OiJ0ZXh0R3JvdXBJZHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnRpdGxlR3JvdXBzP1t0aGlzLnRleHRHcm91cElkXTp2b2lkIDB9fSx7a2V5OiJhdWRpb0dyb3VwSWQiLGdldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsPT0oZT10aGlzLmF1ZGlvR3JvdXBzKT92b2lkIDA6ZVswXX19LHtrZXk6InRleHRHcm91cElkIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbD09KGU9dGhpcy5zdWJ0aXRsZUdyb3Vwcyk/dm9pZCAwOmVbMF19fV0pLGV9KCk7ZnVuY3Rpb24gd3QoZSx0KXtyZXR1cm4hKCF0fHwhZSkmJi0xIT09ZS5pbmRleE9mKHQpfWZ1bmN0aW9uIEN0KGUsdCl7dmFyIHI9dC5zdGFydFBUUztpZihtKHIpKXt2YXIgaSxhPTA7dC5zbj5lLnNuPyhhPXItZS5zdGFydCxpPWUpOihhPWUuc3RhcnQtcixpPXQpLGkuZHVyYXRpb24hPT1hJiYoaS5kdXJhdGlvbj1hKX1lbHNlIHQuc24+ZS5zbj9lLmNjPT09dC5jYyYmZS5taW5FbmRQVFM/dC5zdGFydD1lLnN0YXJ0KyhlLm1pbkVuZFBUUy1lLnN0YXJ0KTp0LnN0YXJ0PWUuc3RhcnQrZS5kdXJhdGlvbjp0LnN0YXJ0PU1hdGgubWF4KGUuc3RhcnQtdC5kdXJhdGlvbiwwKX1mdW5jdGlvbiBJdChlLHQscixpLGEsbil7aS1yPD0wJiYoRC53YXJuKCJGcmFnbWVudCBzaG91bGQgaGF2ZSBhIHBvc2l0aXZlIGR1cmF0aW9uIix0KSxpPXIrdC5kdXJhdGlvbixuPWErdC5kdXJhdGlvbik7dmFyIHM9cixvPWksbD10LnN0YXJ0UFRTLHU9dC5lbmRQVFM7aWYobShsKSl7dmFyIGQ9TWF0aC5hYnMobC1yKTttKHQuZGVsdGFQVFMpP3QuZGVsdGFQVFM9TWF0aC5tYXgoZCx0LmRlbHRhUFRTKTp0LmRlbHRhUFRTPWQscz1NYXRoLm1heChyLGwpLHI9TWF0aC5taW4ocixsKSxhPU1hdGgubWluKGEsdC5zdGFydERUUyksbz1NYXRoLm1pbihpLHUpLGk9TWF0aC5tYXgoaSx1KSxuPU1hdGgubWF4KG4sdC5lbmREVFMpfXZhciBoPXItdC5zdGFydDswIT09dC5zdGFydCYmKHQuc3RhcnQ9ciksdC5kdXJhdGlvbj1pLXQuc3RhcnQsdC5zdGFydFBUUz1yLHQubWF4U3RhcnRQVFM9cyx0LnN0YXJ0RFRTPWEsdC5lbmRQVFM9aSx0Lm1pbkVuZFBUUz1vLHQuZW5kRFRTPW47dmFyIGYsYz10LnNuO2lmKCFlfHxjPGUuc3RhcnRTTnx8Yz5lLmVuZFNOKXJldHVybiAwO3ZhciB2PWMtZS5zdGFydFNOLGc9ZS5mcmFnbWVudHM7Zm9yKGdbdl09dCxmPXY7Zj4wO2YtLSlDdChnW2ZdLGdbZi0xXSk7Zm9yKGY9djtmPGcubGVuZ3RoLTE7ZisrKUN0KGdbZl0sZ1tmKzFdKTtyZXR1cm4gZS5mcmFnbWVudEhpbnQmJkN0KGdbZy5sZW5ndGgtMV0sZS5mcmFnbWVudEhpbnQpLGUuUFRTS25vd249ZS5hbGlnbmVkU2xpZGluZz0hMCxofWZ1bmN0aW9uIFB0KGUsdCl7Zm9yKHZhciByPW51bGwsaT1lLmZyYWdtZW50cyxhPWkubGVuZ3RoLTE7YT49MDthLS0pe3ZhciBuPWlbYV0uaW5pdFNlZ21lbnQ7aWYobil7cj1uO2JyZWFrfX1lLmZyYWdtZW50SGludCYmZGVsZXRlIGUuZnJhZ21lbnRIaW50LmVuZFBUUzt2YXIgcyxsLHUsZCxoLGY9MDtpZihmdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPXQuc2tpcHBlZFNlZ21lbnRzLGE9TWF0aC5tYXgoZS5zdGFydFNOLHQuc3RhcnRTTiktdC5zdGFydFNOLG49KGUuZnJhZ21lbnRIaW50PzE6MCkrKGk/dC5lbmRTTjpNYXRoLm1pbihlLmVuZFNOLHQuZW5kU04pKS10LnN0YXJ0U04scz10LnN0YXJ0U04tZS5zdGFydFNOLG89dC5mcmFnbWVudEhpbnQ/dC5mcmFnbWVudHMuY29uY2F0KHQuZnJhZ21lbnRIaW50KTp0LmZyYWdtZW50cyxsPWUuZnJhZ21lbnRIaW50P2UuZnJhZ21lbnRzLmNvbmNhdChlLmZyYWdtZW50SGludCk6ZS5mcmFnbWVudHMsdT1hO3U8PW47dSsrKXt2YXIgZD1sW3MrdV0saD1vW3VdO2kmJiFoJiZ1PGkmJihoPXQuZnJhZ21lbnRzW3VdPWQpLGQmJmgmJnIoZCxoKX19KGUsdCwoZnVuY3Rpb24oZSxpKXtlLnJlbHVybCYmKGY9ZS5jYy1pLmNjKSxtKGUuc3RhcnRQVFMpJiZtKGUuZW5kUFRTKSYmKGkuc3RhcnQ9aS5zdGFydFBUUz1lLnN0YXJ0UFRTLGkuc3RhcnREVFM9ZS5zdGFydERUUyxpLm1heFN0YXJ0UFRTPWUubWF4U3RhcnRQVFMsaS5lbmRQVFM9ZS5lbmRQVFMsaS5lbmREVFM9ZS5lbmREVFMsaS5taW5FbmRQVFM9ZS5taW5FbmRQVFMsaS5kdXJhdGlvbj1lLmVuZFBUUy1lLnN0YXJ0UFRTLGkuZHVyYXRpb24mJihzPWkpLHQuUFRTS25vd249dC5hbGlnbmVkU2xpZGluZz0hMCksaS5lbGVtZW50YXJ5U3RyZWFtcz1lLmVsZW1lbnRhcnlTdHJlYW1zLGkubG9hZGVyPWUubG9hZGVyLGkuc3RhdHM9ZS5zdGF0cyxlLmluaXRTZWdtZW50JiYoaS5pbml0U2VnbWVudD1lLmluaXRTZWdtZW50LHI9ZS5pbml0U2VnbWVudCl9KSksciYmKHQuZnJhZ21lbnRIaW50P3QuZnJhZ21lbnRzLmNvbmNhdCh0LmZyYWdtZW50SGludCk6dC5mcmFnbWVudHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0OyFlfHxlLmluaXRTZWdtZW50JiZlLmluaXRTZWdtZW50LnJlbHVybCE9PShudWxsPT0odD1yKT92b2lkIDA6dC5yZWx1cmwpfHwoZS5pbml0U2VnbWVudD1yKX0pKSx0LnNraXBwZWRTZWdtZW50cylpZih0LmRlbHRhVXBkYXRlRmFpbGVkPXQuZnJhZ21lbnRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiFlfSkpLHQuZGVsdGFVcGRhdGVGYWlsZWQpe0Qud2FybigiW2xldmVsLWhlbHBlcl0gUHJldmlvdXMgcGxheWxpc3QgbWlzc2luZyBzZWdtZW50cyBza2lwcGVkIGluIGRlbHRhIHBsYXlsaXN0Iik7Zm9yKHZhciBjPXQuc2tpcHBlZFNlZ21lbnRzO2MtLTspdC5mcmFnbWVudHMuc2hpZnQoKTt0LnN0YXJ0U049dC5mcmFnbWVudHNbMF0uc24sdC5zdGFydENDPXQuZnJhZ21lbnRzWzBdLmNjfWVsc2UgdC5jYW5Ta2lwRGF0ZVJhbmdlcyYmKHQuZGF0ZVJhbmdlcz0obD1lLmRhdGVSYW5nZXMsdT10LmRhdGVSYW5nZXMsZD10LnJlY2VudGx5UmVtb3ZlZERhdGVyYW5nZXMsaD1vKHt9LGwpLGQmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19KSksT2JqZWN0LmtleXModSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEkodVtlXS5hdHRyLGhbZV0pO3QuaXNWYWxpZD9oW2VdPXQ6RC53YXJuKCdJZ25vcmluZyBpbnZhbGlkIFBsYXlsaXN0IERlbHRhIFVwZGF0ZSBEQVRFUkFOR0UgdGFnOiAiJytKU09OLnN0cmluZ2lmeSh1W2VdLmF0dHIpKyciJyl9KSksaCkpO3ZhciB2PXQuZnJhZ21lbnRzO2lmKGYpe0Qud2FybigiZGlzY29udGludWl0eSBzbGlkaW5nIGZyb20gcGxheWxpc3QsIHRha2UgZHJpZnQgaW50byBhY2NvdW50Iik7Zm9yKHZhciBnPTA7Zzx2Lmxlbmd0aDtnKyspdltnXS5jYys9Zn10LnNraXBwZWRTZWdtZW50cyYmKHQuc3RhcnRDQz10LmZyYWdtZW50c1swXS5jYyksZnVuY3Rpb24oZSx0LHIpe2lmKGUmJnQpZm9yKHZhciBpPTAsYT0wLG49ZS5sZW5ndGg7YTw9bjthKyspe3ZhciBzPWVbYV0sbz10W2EraV07cyYmbyYmcy5pbmRleD09PW8uaW5kZXgmJnMuZnJhZ21lbnQuc249PT1vLmZyYWdtZW50LnNuP3IocyxvKTppLS19fShlLnBhcnRMaXN0LHQucGFydExpc3QsKGZ1bmN0aW9uKGUsdCl7dC5lbGVtZW50YXJ5U3RyZWFtcz1lLmVsZW1lbnRhcnlTdHJlYW1zLHQuc3RhdHM9ZS5zdGF0c30pKSxzP0l0KHQscyxzLnN0YXJ0UFRTLHMuZW5kUFRTLHMuc3RhcnREVFMscy5lbmREVFMpOkZ0KGUsdCksdi5sZW5ndGgmJih0LnRvdGFsZHVyYXRpb249dC5lZGdlLXZbMF0uc3RhcnQpLHQuZHJpZnRTdGFydFRpbWU9ZS5kcmlmdFN0YXJ0VGltZSx0LmRyaWZ0U3RhcnQ9ZS5kcmlmdFN0YXJ0O3ZhciBwPXQuYWR2YW5jZWREYXRlVGltZTtpZih0LmFkdmFuY2VkJiZwKXt2YXIgeT10LmVkZ2U7dC5kcmlmdFN0YXJ0fHwodC5kcmlmdFN0YXJ0VGltZT1wLHQuZHJpZnRTdGFydD15KSx0LmRyaWZ0RW5kVGltZT1wLHQuZHJpZnRFbmQ9eX1lbHNlIHQuZHJpZnRFbmRUaW1lPWUuZHJpZnRFbmRUaW1lLHQuZHJpZnRFbmQ9ZS5kcmlmdEVuZCx0LmFkdmFuY2VkRGF0ZVRpbWU9ZS5hZHZhbmNlZERhdGVUaW1lfWZ1bmN0aW9uIEZ0KGUsdCl7dmFyIHI9dC5zdGFydFNOK3Quc2tpcHBlZFNlZ21lbnRzLWUuc3RhcnRTTixpPWUuZnJhZ21lbnRzO3I8MHx8cj49aS5sZW5ndGh8fGZ1bmN0aW9uKGUsdCl7aWYodCl7Zm9yKHZhciByPWUuZnJhZ21lbnRzLGk9ZS5za2lwcGVkU2VnbWVudHM7aTxyLmxlbmd0aDtpKyspcltpXS5zdGFydCs9dDtlLmZyYWdtZW50SGludCYmKGUuZnJhZ21lbnRIaW50LnN0YXJ0Kz10KX19KHQsaVtyXS5zdGFydCl9ZnVuY3Rpb24gT3QoZSx0LHIpe3ZhciBpO3JldHVybiBudWxsIT1lJiZlLmRldGFpbHM/TXQobnVsbD09KGk9ZS5kZXRhaWxzKT92b2lkIDA6aS5wYXJ0TGlzdCx0LHIpOm51bGx9ZnVuY3Rpb24gTXQoZSx0LHIpe2lmKGUpZm9yKHZhciBpPWUubGVuZ3RoO2ktLTspe3ZhciBhPWVbaV07aWYoYS5pbmRleD09PXImJmEuZnJhZ21lbnQuc249PT10KXJldHVybiBhfXJldHVybiBudWxsfWZ1bmN0aW9uIE50KGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmRldGFpbHM7bnVsbCE9ciYmci5mcmFnbWVudHMmJnIuZnJhZ21lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubGV2ZWw9dH0pKX0pKX1mdW5jdGlvbiBCdChlKXtzd2l0Y2goZS5kZXRhaWxzKXtjYXNlIFMuRlJBR19MT0FEX1RJTUVPVVQ6Y2FzZSBTLktFWV9MT0FEX1RJTUVPVVQ6Y2FzZSBTLkxFVkVMX0xPQURfVElNRU9VVDpjYXNlIFMuTUFOSUZFU1RfTE9BRF9USU1FT1VUOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFV0KGUsdCl7dmFyIHI9QnQodCk7cmV0dXJuIGUuZGVmYXVsdFsocj8idGltZW91dCI6ImVycm9yIikrIlJldHJ5Il19ZnVuY3Rpb24gR3QoZSx0KXt2YXIgcj0ibGluZWFyIj09PWUuYmFja29mZj8xOk1hdGgucG93KDIsdCk7cmV0dXJuIE1hdGgubWluKHIqZS5yZXRyeURlbGF5TXMsZS5tYXhSZXRyeURlbGF5TXMpfWZ1bmN0aW9uIEh0KGUpe3JldHVybiBpKGkoe30sZSkse2Vycm9yUmV0cnk6bnVsbCx0aW1lb3V0UmV0cnk6bnVsbH0pfWZ1bmN0aW9uIFZ0KGUsdCxyLGkpe2lmKCFlKXJldHVybiExO3ZhciBhPW51bGw9PWk/dm9pZCAwOmkuY29kZSxuPXQ8ZS5tYXhOdW1SZXRyeSYmKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZSYmITE9PT1uYXZpZ2F0b3Iub25MaW5lfHwhIWUmJihlPDQwMHx8ZT40OTkpfShhKXx8ISFyKTtyZXR1cm4gZS5zaG91bGRSZXRyeT9lLnNob3VsZFJldHJ5KGUsdCxyLGksbik6bn12YXIgS3Q9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxpPWUubGVuZ3RoLTEsYT1udWxsLG49bnVsbDtyPD1pOyl7dmFyIHM9dChuPWVbYT0ocitpKS8yfDBdKTtpZihzPjApcj1hKzE7ZWxzZXtpZighKHM8MCkpcmV0dXJuIG47aT1hLTF9fXJldHVybiBudWxsfTtmdW5jdGlvbiBXdChlLHQscixpLGEpe3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PWEmJihhPS4wMDUpO3ZhciBuPW51bGw7aWYoZSl7bj10W2Uuc24tdFswXS5zbisxXXx8bnVsbDt2YXIgcz1lLmVuZERUUy1yO3M+MCYmczwxNWUtNyYmKHIrPTE1ZS03KX1lbHNlIDA9PT1yJiYwPT09dFswXS5zdGFydCYmKG49dFswXSk7aWYobiYmKCghZXx8ZS5sZXZlbD09PW4ubGV2ZWwpJiYwPT09anQocixpLG4pfHxmdW5jdGlvbihlLHQscil7aWYodCYmMD09PXQuc3RhcnQmJnQubGV2ZWw8ZS5sZXZlbCYmKHQuZW5kUFRTfHwwKT4wKXt2YXIgaT10LnRhZ0xpc3QucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiJJTkYiPT09dFswXSYmKGUrPXBhcnNlRmxvYXQodFsxXSkpLGV9KSxyKTtyZXR1cm4gZS5zdGFydDw9aX1yZXR1cm4hMX0obixlLE1hdGgubWluKGEsaSkpKSlyZXR1cm4gbjt2YXIgbz1LdCh0LGp0LmJpbmQobnVsbCxyLGkpKTtyZXR1cm4hb3x8bz09PWUmJm4/bjpvfWZ1bmN0aW9uIGp0KGUsdCxyKXtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT10JiYodD0wKSxyLnN0YXJ0PD1lJiZyLnN0YXJ0K3IuZHVyYXRpb24+ZSlyZXR1cm4gMDt2YXIgaT1NYXRoLm1pbih0LHIuZHVyYXRpb24rKHIuZGVsdGFQVFM/ci5kZWx0YVBUUzowKSk7cmV0dXJuIHIuc3RhcnQrci5kdXJhdGlvbi1pPD1lPzE6ci5zdGFydC1pPmUmJnIuc3RhcnQ/LTE6MH1mdW5jdGlvbiBZdChlLHQscil7dmFyIGk9MWUzKk1hdGgubWluKHQsci5kdXJhdGlvbisoci5kZWx0YVBUUz9yLmRlbHRhUFRTOjApKTtyZXR1cm4oci5lbmRQcm9ncmFtRGF0ZVRpbWV8fDApLWk+ZX12YXIgcXQ9MCx6dD0yLFh0PTMsUXQ9NSxKdD0wLCR0PTEsWnQ9Mixlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5obHM9dm9pZCAwLHRoaXMucGxheWxpc3RFcnJvcj0wLHRoaXMucGVuYWxpemVkUmVuZGl0aW9ucz17fSx0aGlzLmxvZz12b2lkIDAsdGhpcy53YXJuPXZvaWQgMCx0aGlzLmVycm9yPXZvaWQgMCx0aGlzLmhscz1lLHRoaXMubG9nPUQubG9nLmJpbmQoRCwiW2luZm9dOiIpLHRoaXMud2Fybj1ELndhcm4uYmluZChELCJbd2FybmluZ106IiksdGhpcy5lcnJvcj1ELmVycm9yLmJpbmQoRCwiW2Vycm9yXToiKSx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCl9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9uKEUuRVJST1IsdGhpcy5vbkVycm9yLHRoaXMpLGUub24oRS5NQU5JRkVTVF9MT0FESU5HLHRoaXMub25NYW5pZmVzdExvYWRpbmcsdGhpcyksZS5vbihFLkxFVkVMX1VQREFURUQsdGhpcy5vbkxldmVsVXBkYXRlZCx0aGlzKX0sdC51bnJlZ2lzdGVyTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5obHM7ZSYmKGUub2ZmKEUuRVJST1IsdGhpcy5vbkVycm9yLHRoaXMpLGUub2ZmKEUuRVJST1IsdGhpcy5vbkVycm9yT3V0LHRoaXMpLGUub2ZmKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLGUub2ZmKEUuTEVWRUxfVVBEQVRFRCx0aGlzLm9uTGV2ZWxVcGRhdGVkLHRoaXMpKX0sdC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzKCksdGhpcy5obHM9bnVsbCx0aGlzLnBlbmFsaXplZFJlbmRpdGlvbnM9e319LHQuc3RhcnRMb2FkPWZ1bmN0aW9uKGUpe30sdC5zdG9wTG9hZD1mdW5jdGlvbigpe3RoaXMucGxheWxpc3RFcnJvcj0wfSx0LmdldFZhcmlhbnRMZXZlbEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybihudWxsPT1lP3ZvaWQgMDplLnR5cGUpPT09bnQ/ZS5sZXZlbDp0aGlzLmhscy5sb2FkTGV2ZWx9LHQub25NYW5pZmVzdExvYWRpbmc9ZnVuY3Rpb24oKXt0aGlzLnBsYXlsaXN0RXJyb3I9MCx0aGlzLnBlbmFsaXplZFJlbmRpdGlvbnM9e319LHQub25MZXZlbFVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLnBsYXlsaXN0RXJyb3I9MH0sdC5vbkVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaTtpZighdC5mYXRhbCl7dmFyIGE9dGhpcy5obHMsbj10LmNvbnRleHQ7c3dpdGNoKHQuZGV0YWlscyl7Y2FzZSBTLkZSQUdfTE9BRF9FUlJPUjpjYXNlIFMuRlJBR19MT0FEX1RJTUVPVVQ6Y2FzZSBTLktFWV9MT0FEX0VSUk9SOmNhc2UgUy5LRVlfTE9BRF9USU1FT1VUOnJldHVybiB2b2lkKHQuZXJyb3JBY3Rpb249dGhpcy5nZXRGcmFnUmV0cnlPclN3aXRjaEFjdGlvbih0KSk7Y2FzZSBTLkZSQUdfUEFSU0lOR19FUlJPUjppZihudWxsIT0ocj10LmZyYWcpJiZyLmdhcClyZXR1cm4gdm9pZCh0LmVycm9yQWN0aW9uPXthY3Rpb246cXQsZmxhZ3M6SnR9KTtjYXNlIFMuRlJBR19HQVA6Y2FzZSBTLkZSQUdfREVDUllQVF9FUlJPUjpyZXR1cm4gdC5lcnJvckFjdGlvbj10aGlzLmdldEZyYWdSZXRyeU9yU3dpdGNoQWN0aW9uKHQpLHZvaWQodC5lcnJvckFjdGlvbi5hY3Rpb249enQpO2Nhc2UgUy5MRVZFTF9FTVBUWV9FUlJPUjpjYXNlIFMuTEVWRUxfUEFSU0lOR19FUlJPUjp2YXIgcyxvLGw9dC5wYXJlbnQ9PT1udD90LmxldmVsOmEubG9hZExldmVsO3JldHVybiB2b2lkKHQuZGV0YWlscz09PVMuTEVWRUxfRU1QVFlfRVJST1ImJm51bGwhPShzPXQuY29udGV4dCkmJm51bGwhPShvPXMubGV2ZWxEZXRhaWxzKSYmby5saXZlP3QuZXJyb3JBY3Rpb249dGhpcy5nZXRQbGF5bGlzdFJldHJ5T3JTd2l0Y2hBY3Rpb24odCxsKToodC5sZXZlbFJldHJ5PSExLHQuZXJyb3JBY3Rpb249dGhpcy5nZXRMZXZlbFN3aXRjaEFjdGlvbih0LGwpKSk7Y2FzZSBTLkxFVkVMX0xPQURfRVJST1I6Y2FzZSBTLkxFVkVMX0xPQURfVElNRU9VVDpyZXR1cm4gdm9pZCgibnVtYmVyIj09dHlwZW9mKG51bGw9PW4/dm9pZCAwOm4ubGV2ZWwpJiYodC5lcnJvckFjdGlvbj10aGlzLmdldFBsYXlsaXN0UmV0cnlPclN3aXRjaEFjdGlvbih0LG4ubGV2ZWwpKSk7Y2FzZSBTLkFVRElPX1RSQUNLX0xPQURfRVJST1I6Y2FzZSBTLkFVRElPX1RSQUNLX0xPQURfVElNRU9VVDpjYXNlIFMuU1VCVElUTEVfTE9BRF9FUlJPUjpjYXNlIFMuU1VCVElUTEVfVFJBQ0tfTE9BRF9USU1FT1VUOmlmKG4pe3ZhciB1PWEubGV2ZWxzW2EubG9hZExldmVsXTtpZih1JiYobi50eXBlPT09aXQmJnUuaGFzQXVkaW9Hcm91cChuLmdyb3VwSWQpfHxuLnR5cGU9PT1hdCYmdS5oYXNTdWJ0aXRsZUdyb3VwKG4uZ3JvdXBJZCkpKXJldHVybiB0LmVycm9yQWN0aW9uPXRoaXMuZ2V0UGxheWxpc3RSZXRyeU9yU3dpdGNoQWN0aW9uKHQsYS5sb2FkTGV2ZWwpLHQuZXJyb3JBY3Rpb24uYWN0aW9uPXp0LHZvaWQodC5lcnJvckFjdGlvbi5mbGFncz0kdCl9cmV0dXJuO2Nhc2UgUy5LRVlfU1lTVEVNX1NUQVRVU19PVVRQVVRfUkVTVFJJQ1RFRDp2YXIgZD1hLmxldmVsc1thLmxvYWRMZXZlbF0saD1udWxsPT1kP3ZvaWQgMDpkLmF0dHJzWyJIRENQLUxFVkVMIl07cmV0dXJuIHZvaWQoaD90LmVycm9yQWN0aW9uPXthY3Rpb246enQsZmxhZ3M6WnQsaGRjcExldmVsOmh9OnRoaXMua2V5U3lzdGVtRXJyb3IodCkpO2Nhc2UgUy5CVUZGRVJfQUREX0NPREVDX0VSUk9SOmNhc2UgUy5SRU1VWF9BTExPQ19FUlJPUjpjYXNlIFMuQlVGRkVSX0FQUEVORF9FUlJPUjpyZXR1cm4gdm9pZCh0LmVycm9yQWN0aW9uPXRoaXMuZ2V0TGV2ZWxTd2l0Y2hBY3Rpb24odCxudWxsIT0oaT10LmxldmVsKT9pOmEubG9hZExldmVsKSk7Y2FzZSBTLklOVEVSTkFMX0VYQ0VQVElPTjpjYXNlIFMuQlVGRkVSX0FQUEVORElOR19FUlJPUjpjYXNlIFMuQlVGRkVSX0ZVTExfRVJST1I6Y2FzZSBTLkxFVkVMX1NXSVRDSF9FUlJPUjpjYXNlIFMuQlVGRkVSX1NUQUxMRURfRVJST1I6Y2FzZSBTLkJVRkZFUl9TRUVLX09WRVJfSE9MRTpjYXNlIFMuQlVGRkVSX05VREdFX09OX1NUQUxMOnJldHVybiB2b2lkKHQuZXJyb3JBY3Rpb249e2FjdGlvbjpxdCxmbGFnczpKdH0pfXQudHlwZT09PVQuS0VZX1NZU1RFTV9FUlJPUiYmdGhpcy5rZXlTeXN0ZW1FcnJvcih0KX19LHQua2V5U3lzdGVtRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRWYXJpYW50TGV2ZWxJbmRleChlLmZyYWcpO2UubGV2ZWxSZXRyeT0hMSxlLmVycm9yQWN0aW9uPXRoaXMuZ2V0TGV2ZWxTd2l0Y2hBY3Rpb24oZSx0KX0sdC5nZXRQbGF5bGlzdFJldHJ5T3JTd2l0Y2hBY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1VdCh0aGlzLmhscy5jb25maWcucGxheWxpc3RMb2FkUG9saWN5LGUpLGk9dGhpcy5wbGF5bGlzdEVycm9yKys7aWYoVnQocixpLEJ0KGUpLGUucmVzcG9uc2UpKXJldHVybnthY3Rpb246UXQsZmxhZ3M6SnQscmV0cnlDb25maWc6cixyZXRyeUNvdW50Oml9O3ZhciBhPXRoaXMuZ2V0TGV2ZWxTd2l0Y2hBY3Rpb24oZSx0KTtyZXR1cm4gciYmKGEucmV0cnlDb25maWc9cixhLnJldHJ5Q291bnQ9aSksYX0sdC5nZXRGcmFnUmV0cnlPclN3aXRjaEFjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmhscyxyPXRoaXMuZ2V0VmFyaWFudExldmVsSW5kZXgoZS5mcmFnKSxpPXQubGV2ZWxzW3JdLGE9dC5jb25maWcsbj1hLmZyYWdMb2FkUG9saWN5LHM9YS5rZXlMb2FkUG9saWN5LG89VXQoZS5kZXRhaWxzLnN0YXJ0c1dpdGgoImtleSIpP3M6bixlKSxsPXQubGV2ZWxzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0LmZyYWdtZW50RXJyb3J9KSwwKTtpZihpJiYoZS5kZXRhaWxzIT09Uy5GUkFHX0dBUCYmaS5mcmFnbWVudEVycm9yKyssVnQobyxsLEJ0KGUpLGUucmVzcG9uc2UpKSlyZXR1cm57YWN0aW9uOlF0LGZsYWdzOkp0LHJldHJ5Q29uZmlnOm8scmV0cnlDb3VudDpsfTt2YXIgdT10aGlzLmdldExldmVsU3dpdGNoQWN0aW9uKGUscik7cmV0dXJuIG8mJih1LnJldHJ5Q29uZmlnPW8sdS5yZXRyeUNvdW50PWwpLHV9LHQuZ2V0TGV2ZWxTd2l0Y2hBY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmhscztudWxsPT10JiYodD1yLmxvYWRMZXZlbCk7dmFyIGk9dGhpcy5obHMubGV2ZWxzW3RdO2lmKGkpe3ZhciBhLG4scz1lLmRldGFpbHM7aS5sb2FkRXJyb3IrKyxzPT09Uy5CVUZGRVJfQVBQRU5EX0VSUk9SJiZpLmZyYWdtZW50RXJyb3IrKzt2YXIgbz0tMSxsPXIubGV2ZWxzLHU9ci5sb2FkTGV2ZWwsZD1yLm1pbkF1dG9MZXZlbCxoPXIubWF4QXV0b0xldmVsO3IuYXV0b0xldmVsRW5hYmxlZHx8KHIubG9hZExldmVsPS0xKTtmb3IodmFyIGYsYz1udWxsPT0oYT1lLmZyYWcpP3ZvaWQgMDphLnR5cGUsdj0oYz09PXN0JiZzPT09Uy5GUkFHX1BBUlNJTkdfRVJST1J8fCJhdWRpbyI9PT1lLnNvdXJjZUJ1ZmZlck5hbWUmJihzPT09Uy5CVUZGRVJfQUREX0NPREVDX0VSUk9SfHxzPT09Uy5CVUZGRVJfQVBQRU5EX0VSUk9SKSkmJmwuc29tZSgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdWRpb0NvZGVjO3JldHVybiBpLmF1ZGlvQ29kZWMhPT10fSkpLGc9InZpZGVvIj09PWUuc291cmNlQnVmZmVyTmFtZSYmKHM9PT1TLkJVRkZFUl9BRERfQ09ERUNfRVJST1J8fHM9PT1TLkJVRkZFUl9BUFBFTkRfRVJST1IpJiZsLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29kZWNTZXQscj1lLmF1ZGlvQ29kZWM7cmV0dXJuIGkuY29kZWNTZXQhPT10JiZpLmF1ZGlvQ29kZWM9PT1yfSkpLG09bnVsbCE9KG49ZS5jb250ZXh0KT9uOnt9LHA9bS50eXBlLHk9bS5ncm91cElkLEU9ZnVuY3Rpb24oKXt2YXIgdD0oVCt1KSVsLmxlbmd0aDtpZih0IT09dSYmdD49ZCYmdDw9aCYmMD09PWxbdF0ubG9hZEVycm9yKXt2YXIgcixhLG49bFt0XTtpZihzPT09Uy5GUkFHX0dBUCYmYz09PW50JiZlLmZyYWcpe3ZhciBmPWxbdF0uZGV0YWlscztpZihmKXt2YXIgbT1XdChlLmZyYWcsZi5mcmFnbWVudHMsZS5mcmFnLnN0YXJ0KTtpZihudWxsIT1tJiZtLmdhcClyZXR1cm4gMH19ZWxzZXtpZihwPT09aXQmJm4uaGFzQXVkaW9Hcm91cCh5KXx8cD09PWF0JiZuLmhhc1N1YnRpdGxlR3JvdXAoeSkpcmV0dXJuIDA7aWYoYz09PXN0JiZudWxsIT0ocj1pLmF1ZGlvR3JvdXBzKSYmci5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gbi5oYXNBdWRpb0dyb3VwKGUpfSkpfHxjPT09b3QmJm51bGwhPShhPWkuc3VidGl0bGVHcm91cHMpJiZhLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmhhc1N1YnRpdGxlR3JvdXAoZSl9KSl8fHYmJmkuYXVkaW9Db2RlYz09PW4uYXVkaW9Db2RlY3x8IXYmJmkuYXVkaW9Db2RlYyE9PW4uYXVkaW9Db2RlY3x8ZyYmaS5jb2RlY1NldD09PW4uY29kZWNTZXQpcmV0dXJuIDB9cmV0dXJuIG89dCwxfX0sVD1sLmxlbmd0aDtULS0mJigwPT09KGY9RSgpKXx8MSE9PWYpOyk7aWYobz4tMSYmci5sb2FkTGV2ZWwhPT1vKXJldHVybiBlLmxldmVsUmV0cnk9ITAsdGhpcy5wbGF5bGlzdEVycm9yPTAse2FjdGlvbjp6dCxmbGFnczpKdCxuZXh0QXV0b0xldmVsOm99fXJldHVybnthY3Rpb246enQsZmxhZ3M6JHR9fSx0Lm9uRXJyb3JPdXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcjtzd2l0Y2gobnVsbD09KHI9dC5lcnJvckFjdGlvbik/dm9pZCAwOnIuYWN0aW9uKXtjYXNlIHF0OmJyZWFrO2Nhc2UgenQ6dGhpcy5zZW5kQWx0ZXJuYXRlVG9QZW5hbHR5Qm94KHQpLHQuZXJyb3JBY3Rpb24ucmVzb2x2ZWR8fHQuZGV0YWlscz09PVMuRlJBR19HQVA/L01lZGlhU291cmNlIHJlYWR5U3RhdGU6IGVuZGVkLy50ZXN0KHQuZXJyb3IubWVzc2FnZSkmJih0aGlzLndhcm4oJ01lZGlhU291cmNlIGVuZGVkIGFmdGVyICInK3Quc291cmNlQnVmZmVyTmFtZSsnIiBzb3VyY2VCdWZmZXIgYXBwZW5kIGVycm9yLiBBdHRlbXB0aW5nIHRvIHJlY292ZXIgZnJvbSBtZWRpYSBlcnJvci4nKSx0aGlzLmhscy5yZWNvdmVyTWVkaWFFcnJvcigpKTp0LmZhdGFsPSEwfXQuZmF0YWwmJnRoaXMuaGxzLnN0b3BMb2FkKCl9LHQuc2VuZEFsdGVybmF0ZVRvUGVuYWx0eUJveD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmhscyxyPWUuZXJyb3JBY3Rpb247aWYocil7dmFyIGk9ci5mbGFncyxhPXIuaGRjcExldmVsLG49ci5uZXh0QXV0b0xldmVsO3N3aXRjaChpKXtjYXNlIEp0OnRoaXMuc3dpdGNoTGV2ZWwoZSxuKTticmVhaztjYXNlIFp0OmEmJih0Lm1heEhkY3BMZXZlbD1MdFtMdC5pbmRleE9mKGEpLTFdLHIucmVzb2x2ZWQ9ITApLHRoaXMud2FybignUmVzdHJpY3RpbmcgcGxheWJhY2sgdG8gSERDUC1MRVZFTCBvZiAiJyt0Lm1heEhkY3BMZXZlbCsnIiBvciBsb3dlcicpfXIucmVzb2x2ZWR8fHRoaXMuc3dpdGNoTGV2ZWwoZSxuKX19LHQuc3dpdGNoTGV2ZWw9ZnVuY3Rpb24oZSx0KXt2b2lkIDAhPT10JiZlLmVycm9yQWN0aW9uJiYodGhpcy53YXJuKCJzd2l0Y2hpbmcgdG8gbGV2ZWwgIit0KyIgYWZ0ZXIgIitlLmRldGFpbHMpLHRoaXMuaGxzLm5leHRBdXRvTGV2ZWw9dCxlLmVycm9yQWN0aW9uLnJlc29sdmVkPSEwLHRoaXMuaGxzLm5leHRMb2FkTGV2ZWw9dGhpcy5obHMubmV4dEF1dG9MZXZlbCl9LGV9KCksdHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5obHM9dm9pZCAwLHRoaXMudGltZXI9LTEsdGhpcy5yZXF1ZXN0U2NoZWR1bGVkPS0xLHRoaXMuY2FuTG9hZD0hMSx0aGlzLmxvZz12b2lkIDAsdGhpcy53YXJuPXZvaWQgMCx0aGlzLmxvZz1ELmxvZy5iaW5kKEQsdCsiOiIpLHRoaXMud2Fybj1ELndhcm4uYmluZChELHQrIjoiKSx0aGlzLmhscz1lfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyVGltZXIoKSx0aGlzLmhscz10aGlzLmxvZz10aGlzLndhcm49bnVsbH0sdC5jbGVhclRpbWVyPWZ1bmN0aW9uKCl7LTEhPT10aGlzLnRpbWVyJiYoc2VsZi5jbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj0tMSl9LHQuc3RhcnRMb2FkPWZ1bmN0aW9uKCl7dGhpcy5jYW5Mb2FkPSEwLHRoaXMucmVxdWVzdFNjaGVkdWxlZD0tMSx0aGlzLmxvYWRQbGF5bGlzdCgpfSx0LnN0b3BMb2FkPWZ1bmN0aW9uKCl7dGhpcy5jYW5Mb2FkPSExLHRoaXMuY2xlYXJUaW1lcigpfSx0LnN3aXRjaFBhcmFtcz1mdW5jdGlvbihlLHQscil7dmFyIGk9bnVsbD09dD92b2lkIDA6dC5yZW5kaXRpb25SZXBvcnRzO2lmKGkpe2Zvcih2YXIgYT0tMSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBzPWlbbl0sbz12b2lkIDA7dHJ5e289bmV3IHNlbGYuVVJMKHMuVVJJLHQudXJsKS5ocmVmfWNhdGNoKGUpe0Qud2FybigiQ291bGQgbm90IGNvbnN0cnVjdCBuZXcgVVJMIGZvciBSZW5kaXRpb24gUmVwb3J0OiAiK2UpLG89cy5VUkl8fCIifWlmKG89PT1lKXthPW47YnJlYWt9bz09PWUuc3Vic3RyaW5nKDAsby5sZW5ndGgpJiYoYT1uKX1pZigtMSE9PWEpe3ZhciBsPWlbYV0sdT1wYXJzZUludChsWyJMQVNULU1TTiJdKXx8KG51bGw9PXQ/dm9pZCAwOnQubGFzdFBhcnRTbiksZD1wYXJzZUludChsWyJMQVNULVBBUlQiXSl8fChudWxsPT10P3ZvaWQgMDp0Lmxhc3RQYXJ0SW5kZXgpO2lmKHRoaXMuaGxzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZSl7dmFyIGg9TWF0aC5taW4odC5hZ2UtdC5wYXJ0VGFyZ2V0LHQudGFyZ2V0ZHVyYXRpb24pO2Q+PTAmJmg+dC5wYXJ0VGFyZ2V0JiYoZCs9MSl9dmFyIGY9ciYmRHQocik7cmV0dXJuIG5ldyBfdCh1LGQ+PTA/ZDp2b2lkIDAsZil9fX0sdC5sb2FkUGxheWxpc3Q9ZnVuY3Rpb24oZSl7LTE9PT10aGlzLnJlcXVlc3RTY2hlZHVsZWQmJih0aGlzLnJlcXVlc3RTY2hlZHVsZWQ9c2VsZi5wZXJmb3JtYW5jZS5ub3coKSl9LHQuc2hvdWxkTG9hZFBsYXlsaXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNhbkxvYWQmJiEhZSYmISFlLnVybCYmKCFlLmRldGFpbHN8fGUuZGV0YWlscy5saXZlKX0sdC5zaG91bGRSZWxvYWRQbGF5bGlzdD1mdW5jdGlvbihlKXtyZXR1cm4tMT09PXRoaXMudGltZXImJi0xPT09dGhpcy5yZXF1ZXN0U2NoZWR1bGVkJiZ0aGlzLnNob3VsZExvYWRQbGF5bGlzdChlKX0sdC5wbGF5bGlzdExvYWRlZD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxhPXQuZGV0YWlscyxuPXQuc3RhdHMscz1zZWxmLnBlcmZvcm1hbmNlLm5vdygpLG89bi5sb2FkaW5nLmZpcnN0P01hdGgubWF4KDAscy1uLmxvYWRpbmcuZmlyc3QpOjA7aWYoYS5hZHZhbmNlZERhdGVUaW1lPURhdGUubm93KCktbyxhLmxpdmV8fG51bGwhPXImJnIubGl2ZSl7aWYoYS5yZWxvYWRlZChyKSxyJiZ0aGlzLmxvZygibGl2ZSBwbGF5bGlzdCAiK2UrIiAiKyhhLmFkdmFuY2VkPyJSRUZSRVNIRUQgIithLmxhc3RQYXJ0U24rIi0iK2EubGFzdFBhcnRJbmRleDphLnVwZGF0ZWQ/IlVQREFURUQiOiJNSVNTRUQiKSksciYmYS5mcmFnbWVudHMubGVuZ3RoPjAmJlB0KHIsYSksIXRoaXMuY2FuTG9hZHx8IWEubGl2ZSlyZXR1cm47dmFyIGwsdT12b2lkIDAsZD12b2lkIDA7aWYoYS5jYW5CbG9ja1JlbG9hZCYmYS5lbmRTTiYmYS5hZHZhbmNlZCl7dmFyIGg9dGhpcy5obHMuY29uZmlnLmxvd0xhdGVuY3lNb2RlLGY9YS5sYXN0UGFydFNuLGM9YS5lbmRTTix2PWEubGFzdFBhcnRJbmRleCxnPWY9PT1jOy0xIT09dj8odT1nP2MrMTpmLGQ9Zz9oPzA6djp2KzEpOnU9YysxO3ZhciBtPWEuYWdlLHA9bSthLmFnZUhlYWRlcix5PU1hdGgubWluKHAtYS5wYXJ0VGFyZ2V0LDEuNSphLnRhcmdldGR1cmF0aW9uKTtpZih5PjApe2lmKHImJnk+ci50dW5lSW5Hb2FsKXRoaXMud2FybigiQ0ROIFR1bmUtaW4gZ29hbCBpbmNyZWFzZWQgZnJvbTogIityLnR1bmVJbkdvYWwrIiB0bzogIit5KyIgd2l0aCBwbGF5bGlzdCBhZ2U6ICIrYS5hZ2UpLHk9MDtlbHNle3ZhciBFPU1hdGguZmxvb3IoeS9hLnRhcmdldGR1cmF0aW9uKTt1Kz1FLHZvaWQgMCE9PWQmJihkKz1NYXRoLnJvdW5kKHklYS50YXJnZXRkdXJhdGlvbi9hLnBhcnRUYXJnZXQpKSx0aGlzLmxvZygiQ0ROIFR1bmUtaW4gYWdlOiAiK2EuYWdlSGVhZGVyKyJzIGxhc3QgYWR2YW5jZWQgIittLnRvRml4ZWQoMikrInMgZ29hbDogIit5KyIgc2tpcCBzbiAiK0UrIiB0byBwYXJ0ICIrZCl9YS50dW5lSW5Hb2FsPXl9aWYobD10aGlzLmdldERlbGl2ZXJ5RGlyZWN0aXZlcyhhLHQuZGVsaXZlcnlEaXJlY3RpdmVzLHUsZCksaHx8IWcpcmV0dXJuIHZvaWQgdGhpcy5sb2FkUGxheWxpc3QobCl9ZWxzZShhLmNhbkJsb2NrUmVsb2FkfHxhLmNhblNraXBVbnRpbCkmJihsPXRoaXMuZ2V0RGVsaXZlcnlEaXJlY3RpdmVzKGEsdC5kZWxpdmVyeURpcmVjdGl2ZXMsdSxkKSk7dmFyIFQ9dGhpcy5obHMubWFpbkZvcndhcmRCdWZmZXJJbmZvLFM9VD9ULmVuZC1ULmxlbjowLEw9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0xLzApO3ZhciByPTFlMyplLnRhcmdldGR1cmF0aW9uO2lmKGUudXBkYXRlZCl7dmFyIGk9ZS5mcmFnbWVudHM7aWYoaS5sZW5ndGgmJjQqcj50KXt2YXIgYT0xZTMqaVtpLmxlbmd0aC0xXS5kdXJhdGlvbjthPHImJihyPWEpfX1lbHNlIHIvPTI7cmV0dXJuIE1hdGgucm91bmQocil9KGEsMWUzKihhLmVkZ2UtUykpO2EudXBkYXRlZCYmcz50aGlzLnJlcXVlc3RTY2hlZHVsZWQrTCYmKHRoaXMucmVxdWVzdFNjaGVkdWxlZD1uLmxvYWRpbmcuc3RhcnQpLHZvaWQgMCE9PXUmJmEuY2FuQmxvY2tSZWxvYWQ/dGhpcy5yZXF1ZXN0U2NoZWR1bGVkPW4ubG9hZGluZy5maXJzdCtMLSgxZTMqYS5wYXJ0VGFyZ2V0fHwxZTMpOi0xPT09dGhpcy5yZXF1ZXN0U2NoZWR1bGVkfHx0aGlzLnJlcXVlc3RTY2hlZHVsZWQrTDxzP3RoaXMucmVxdWVzdFNjaGVkdWxlZD1zOnRoaXMucmVxdWVzdFNjaGVkdWxlZC1zPD0wJiYodGhpcy5yZXF1ZXN0U2NoZWR1bGVkKz1MKTt2YXIgUj10aGlzLnJlcXVlc3RTY2hlZHVsZWQtcztSPU1hdGgubWF4KDAsUiksdGhpcy5sb2coInJlbG9hZCBsaXZlIHBsYXlsaXN0ICIrZSsiIGluICIrTWF0aC5yb3VuZChSKSsiIG1zIiksdGhpcy50aW1lcj1zZWxmLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGkubG9hZFBsYXlsaXN0KGwpfSksUil9ZWxzZSB0aGlzLmNsZWFyVGltZXIoKX0sdC5nZXREZWxpdmVyeURpcmVjdGl2ZXM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9RHQoZSk7cmV0dXJuIG51bGwhPXQmJnQuc2tpcCYmZS5kZWx0YVVwZGF0ZUZhaWxlZCYmKHI9dC5tc24saT10LnBhcnQsYT1BdCksbmV3IF90KHIsaSxhKX0sdC5jaGVja1JldHJ5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmRldGFpbHMsaT1CdChlKSxhPWUuZXJyb3JBY3Rpb24sbj1hfHx7fSxzPW4uYWN0aW9uLG89bi5yZXRyeUNvdW50LGw9dm9pZCAwPT09bz8wOm8sdT1uLnJldHJ5Q29uZmlnLGQ9ISFhJiYhIXUmJihzPT09UXR8fCFhLnJlc29sdmVkJiZzPT09enQpO2lmKGQpe3ZhciBoO2lmKHRoaXMucmVxdWVzdFNjaGVkdWxlZD0tMSxsPj11Lm1heE51bVJldHJ5KXJldHVybiExO2lmKGkmJm51bGwhPShoPWUuY29udGV4dCkmJmguZGVsaXZlcnlEaXJlY3RpdmVzKXRoaXMud2FybigiUmV0cnlpbmcgcGxheWxpc3QgbG9hZGluZyAiKyhsKzEpKyIvIit1Lm1heE51bVJldHJ5KycgYWZ0ZXIgIicrcisnIiB3aXRob3V0IGRlbGl2ZXJ5LWRpcmVjdGl2ZXMnKSx0aGlzLmxvYWRQbGF5bGlzdCgpO2Vsc2V7dmFyIGY9R3QodSxsKTt0aGlzLnRpbWVyPXNlbGYuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2FkUGxheWxpc3QoKX0pLGYpLHRoaXMud2FybigiUmV0cnlpbmcgcGxheWxpc3QgbG9hZGluZyAiKyhsKzEpKyIvIit1Lm1heE51bVJldHJ5KycgYWZ0ZXIgIicrcisnIiBpbiAnK2YrIm1zIil9ZS5sZXZlbFJldHJ5PSEwLGEucmVzb2x2ZWQ9ITB9cmV0dXJuIGR9LGV9KCkscnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1yJiYocj0wKSx0aGlzLmhhbGZMaWZlPXZvaWQgMCx0aGlzLmFscGhhXz12b2lkIDAsdGhpcy5lc3RpbWF0ZV89dm9pZCAwLHRoaXMudG90YWxXZWlnaHRfPXZvaWQgMCx0aGlzLmhhbGZMaWZlPWUsdGhpcy5hbHBoYV89ZT9NYXRoLmV4cChNYXRoLmxvZyguNSkvZSk6MCx0aGlzLmVzdGltYXRlXz10LHRoaXMudG90YWxXZWlnaHRfPXJ9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuc2FtcGxlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5wb3codGhpcy5hbHBoYV8sZSk7dGhpcy5lc3RpbWF0ZV89dCooMS1yKStyKnRoaXMuZXN0aW1hdGVfLHRoaXMudG90YWxXZWlnaHRfKz1lfSx0LmdldFRvdGFsV2VpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG90YWxXZWlnaHRffSx0LmdldEVzdGltYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hbHBoYV8pe3ZhciBlPTEtTWF0aC5wb3codGhpcy5hbHBoYV8sdGhpcy50b3RhbFdlaWdodF8pO2lmKGUpcmV0dXJuIHRoaXMuZXN0aW1hdGVfL2V9cmV0dXJuIHRoaXMuZXN0aW1hdGVffSxlfSgpLGlyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt2b2lkIDA9PT1pJiYoaT0xMDApLHRoaXMuZGVmYXVsdEVzdGltYXRlXz12b2lkIDAsdGhpcy5taW5XZWlnaHRfPXZvaWQgMCx0aGlzLm1pbkRlbGF5TXNfPXZvaWQgMCx0aGlzLnNsb3dfPXZvaWQgMCx0aGlzLmZhc3RfPXZvaWQgMCx0aGlzLmRlZmF1bHRUVEZCXz12b2lkIDAsdGhpcy50dGZiXz12b2lkIDAsdGhpcy5kZWZhdWx0RXN0aW1hdGVfPXIsdGhpcy5taW5XZWlnaHRfPS4wMDEsdGhpcy5taW5EZWxheU1zXz01MCx0aGlzLnNsb3dfPW5ldyBycihlKSx0aGlzLmZhc3RfPW5ldyBycih0KSx0aGlzLmRlZmF1bHRUVEZCXz1pLHRoaXMudHRmYl89bmV3IHJyKGUpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnVwZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc2xvd18saT10aGlzLmZhc3RfLGE9dGhpcy50dGZiXztyLmhhbGZMaWZlIT09ZSYmKHRoaXMuc2xvd189bmV3IHJyKGUsci5nZXRFc3RpbWF0ZSgpLHIuZ2V0VG90YWxXZWlnaHQoKSkpLGkuaGFsZkxpZmUhPT10JiYodGhpcy5mYXN0Xz1uZXcgcnIodCxpLmdldEVzdGltYXRlKCksaS5nZXRUb3RhbFdlaWdodCgpKSksYS5oYWxmTGlmZSE9PWUmJih0aGlzLnR0ZmJfPW5ldyBycihlLGEuZ2V0RXN0aW1hdGUoKSxhLmdldFRvdGFsV2VpZ2h0KCkpKX0sdC5zYW1wbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oZT1NYXRoLm1heChlLHRoaXMubWluRGVsYXlNc18pKS8xZTMsaT04KnQvcjt0aGlzLmZhc3RfLnNhbXBsZShyLGkpLHRoaXMuc2xvd18uc2FtcGxlKHIsaSl9LHQuc2FtcGxlVFRGQj1mdW5jdGlvbihlKXt2YXIgdD1lLzFlMyxyPU1hdGguc3FydCgyKSpNYXRoLmV4cCgtTWF0aC5wb3codCwyKS8yKTt0aGlzLnR0ZmJfLnNhbXBsZShyLE1hdGgubWF4KGUsNSkpfSx0LmNhbkVzdGltYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmFzdF8uZ2V0VG90YWxXZWlnaHQoKT49dGhpcy5taW5XZWlnaHRffSx0LmdldEVzdGltYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuRXN0aW1hdGUoKT9NYXRoLm1pbih0aGlzLmZhc3RfLmdldEVzdGltYXRlKCksdGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKTp0aGlzLmRlZmF1bHRFc3RpbWF0ZV99LHQuZ2V0RXN0aW1hdGVUVEZCPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHRmYl8uZ2V0VG90YWxXZWlnaHQoKT49dGhpcy5taW5XZWlnaHRfP3RoaXMudHRmYl8uZ2V0RXN0aW1hdGUoKTp0aGlzLmRlZmF1bHRUVEZCX30sdC5kZXN0cm95PWZ1bmN0aW9uKCl7fSxlfSgpO2Z1bmN0aW9uIGFyKGUsdCl7dmFyIHI9ITEsaT1bXTtyZXR1cm4gZSYmKHI9IlNEUiIhPT1lLGk9W2VdKSx0JiYoaT10LmFsbG93ZWRWaWRlb1Jhbmdlc3x8UnQuc2xpY2UoMCksaT0ocj12b2lkIDAhPT10LnByZWZlckhEUj90LnByZWZlckhEUjpmdW5jdGlvbigpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBtYXRjaE1lZGlhKXt2YXIgZT1tYXRjaE1lZGlhKCIoZHluYW1pYy1yYW5nZTogaGlnaCkiKSx0PW1hdGNoTWVkaWEoImJhZCBxdWVyeSIpO2lmKGUubWVkaWEhPT10Lm1lZGlhKXJldHVybiEwPT09ZS5tYXRjaGVzfXJldHVybiExfSgpKT9pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIlNEUiIhPT1lfSkpOlsiU0RSIl0pLHtwcmVmZXJIRFI6cixhbGxvd2VkVmlkZW9SYW5nZXM6aX19ZnVuY3Rpb24gbnIoZSx0KXtELmxvZygnW2Ficl0gc3RhcnQgY2FuZGlkYXRlcyB3aXRoICInK2UrJyIgaWdub3JlZCBiZWNhdXNlICcrdCl9dmFyIHNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzO3RoaXMuaGxzPXZvaWQgMCx0aGlzLmxhc3RMZXZlbExvYWRTZWM9MCx0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWw9LTEsdGhpcy5maXJzdFNlbGVjdGlvbj0tMSx0aGlzLl9uZXh0QXV0b0xldmVsPS0xLHRoaXMubmV4dEF1dG9MZXZlbEtleT0iIix0aGlzLmF1ZGlvVHJhY2tzQnlHcm91cD1udWxsLHRoaXMuY29kZWNUaWVycz1udWxsLHRoaXMudGltZXI9LTEsdGhpcy5mcmFnQ3VycmVudD1udWxsLHRoaXMucGFydEN1cnJlbnQ9bnVsbCx0aGlzLmJpdHJhdGVUZXN0RGVsYXk9MCx0aGlzLmJ3RXN0aW1hdG9yPXZvaWQgMCx0aGlzLl9hYmFuZG9uUnVsZXNDaGVjaz1mdW5jdGlvbigpe3ZhciBlPXQuZnJhZ0N1cnJlbnQscj10LnBhcnRDdXJyZW50LGk9dC5obHMsYT1pLmF1dG9MZXZlbEVuYWJsZWQsbj1pLm1lZGlhO2lmKGUmJm4pe3ZhciBzPXBlcmZvcm1hbmNlLm5vdygpLG89cj9yLnN0YXRzOmUuc3RhdHMsbD1yP3IuZHVyYXRpb246ZS5kdXJhdGlvbix1PXMtby5sb2FkaW5nLnN0YXJ0LGQ9aS5taW5BdXRvTGV2ZWw7aWYoby5hYm9ydGVkfHxvLmxvYWRlZCYmby5sb2FkZWQ9PT1vLnRvdGFsfHxlLmxldmVsPD1kKXJldHVybiB0LmNsZWFyVGltZXIoKSx2b2lkKHQuX25leHRBdXRvTGV2ZWw9LTEpO2lmKGEmJiFuLnBhdXNlZCYmbi5wbGF5YmFja1JhdGUmJm4ucmVhZHlTdGF0ZSl7dmFyIGg9aS5tYWluRm9yd2FyZEJ1ZmZlckluZm87aWYobnVsbCE9PWgpe3ZhciBmPXQuYndFc3RpbWF0b3IuZ2V0RXN0aW1hdGVUVEZCKCksYz1NYXRoLmFicyhuLnBsYXliYWNrUmF0ZSk7aWYoISh1PD1NYXRoLm1heChmLGwvKDIqYykqMWUzKSkpe3ZhciB2PWgubGVuL2MsZz1vLmxvYWRpbmcuZmlyc3Q/by5sb2FkaW5nLmZpcnN0LW8ubG9hZGluZy5zdGFydDotMSxwPW8ubG9hZGVkJiZnPi0xLHk9dC5nZXRCd0VzdGltYXRlKCksVD1pLmxldmVscyxTPVRbZS5sZXZlbF0sTD1vLnRvdGFsfHxNYXRoLm1heChvLmxvYWRlZCxNYXRoLnJvdW5kKGwqUy5hdmVyYWdlQml0cmF0ZS84KSksUj1wP3UtZzp1O1I8MSYmcCYmKFI9TWF0aC5taW4odSw4Km8ubG9hZGVkL3kpKTt2YXIgQT1wPzFlMypvLmxvYWRlZC9SOjAsYj1BPyhMLW8ubG9hZGVkKS9BOjgqTC95K2YvMWUzO2lmKCEoYjw9dikpe3ZhciBrLF89QT84KkE6eSx4PU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtmb3Ioaz1lLmxldmVsLTE7az5kO2stLSl7dmFyIHc9VFtrXS5tYXhCaXRyYXRlO2lmKCh4PXQuZ2V0VGltZVRvTG9hZEZyYWcoZi8xZTMsXyxsKncsIVRba10uZGV0YWlscykpPHYpYnJlYWt9aWYoISh4Pj1ifHx4PjEwKmwpKXtpLm5leHRMb2FkTGV2ZWw9aS5uZXh0QXV0b0xldmVsPWsscD90LmJ3RXN0aW1hdG9yLnNhbXBsZSh1LU1hdGgubWluKGYsZyksby5sb2FkZWQpOnQuYndFc3RpbWF0b3Iuc2FtcGxlVFRGQih1KTt2YXIgQz1UW2tdLm1heEJpdHJhdGU7dC5nZXRCd0VzdGltYXRlKCkqdC5obHMuY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yPkMmJnQucmVzZXRFc3RpbWF0b3IoQyksdC5jbGVhclRpbWVyKCksRC53YXJuKCJbYWJyXSBGcmFnbWVudCAiK2Uuc24rKHI/IiBwYXJ0ICIrci5pbmRleDoiIikrIiBvZiBsZXZlbCAiK2UubGV2ZWwrIiBpcyBsb2FkaW5nIHRvbyBzbG93bHk7XG4gICAgICBUaW1lIHRvIHVuZGVyYnVmZmVyOiAiK3YudG9GaXhlZCgzKSsiIHNcbiAgICAgIEVzdGltYXRlZCBsb2FkIHRpbWUgZm9yIGN1cnJlbnQgZnJhZ21lbnQ6ICIrYi50b0ZpeGVkKDMpKyIgc1xuICAgICAgRXN0aW1hdGVkIGxvYWQgdGltZSBmb3IgZG93biBzd2l0Y2ggZnJhZ21lbnQ6ICIreC50b0ZpeGVkKDMpKyIgc1xuICAgICAgVFRGQiBlc3RpbWF0ZTogIisoMHxnKSsiIG1zXG4gICAgICBDdXJyZW50IEJXIGVzdGltYXRlOiAiKyhtKHkpPzB8eToiVW5rbm93biIpKyIgYnBzXG4gICAgICBOZXcgQlcgZXN0aW1hdGU6ICIrKDB8dC5nZXRCd0VzdGltYXRlKCkpKyIgYnBzXG4gICAgICBTd2l0Y2hpbmcgdG8gbGV2ZWwgIitrKyIgQCAiKygwfEMpKyIgYnBzIiksaS50cmlnZ2VyKEUuRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVELHtmcmFnOmUscGFydDpyLHN0YXRzOm99KX19fX19fX0sdGhpcy5obHM9ZSx0aGlzLmJ3RXN0aW1hdG9yPXRoaXMuaW5pdEVzdGltYXRvcigpLHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5yZXNldEVzdGltYXRvcj1mdW5jdGlvbihlKXtlJiYoRC5sb2coInNldHRpbmcgaW5pdGlhbCBid2UgdG8gIitlKSx0aGlzLmhscy5jb25maWcuYWJyRXdtYURlZmF1bHRFc3RpbWF0ZT1lKSx0aGlzLmZpcnN0U2VsZWN0aW9uPS0xLHRoaXMuYndFc3RpbWF0b3I9dGhpcy5pbml0RXN0aW1hdG9yKCl9LHQuaW5pdEVzdGltYXRvcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzLmNvbmZpZztyZXR1cm4gbmV3IGlyKGUuYWJyRXdtYVNsb3dWb0QsZS5hYnJFd21hRmFzdFZvRCxlLmFickV3bWFEZWZhdWx0RXN0aW1hdGUpfSx0LnJlZ2lzdGVyTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5obHM7ZS5vbihFLk1BTklGRVNUX0xPQURJTkcsdGhpcy5vbk1hbmlmZXN0TG9hZGluZyx0aGlzKSxlLm9uKEUuRlJBR19MT0FESU5HLHRoaXMub25GcmFnTG9hZGluZyx0aGlzKSxlLm9uKEUuRlJBR19MT0FERUQsdGhpcy5vbkZyYWdMb2FkZWQsdGhpcyksZS5vbihFLkZSQUdfQlVGRkVSRUQsdGhpcy5vbkZyYWdCdWZmZXJlZCx0aGlzKSxlLm9uKEUuTEVWRUxfU1dJVENISU5HLHRoaXMub25MZXZlbFN3aXRjaGluZyx0aGlzKSxlLm9uKEUuTEVWRUxfTE9BREVELHRoaXMub25MZXZlbExvYWRlZCx0aGlzKSxlLm9uKEUuTEVWRUxTX1VQREFURUQsdGhpcy5vbkxldmVsc1VwZGF0ZWQsdGhpcyksZS5vbihFLk1BWF9BVVRPX0xFVkVMX1VQREFURUQsdGhpcy5vbk1heEF1dG9MZXZlbFVwZGF0ZWQsdGhpcyksZS5vbihFLkVSUk9SLHRoaXMub25FcnJvcix0aGlzKX0sdC51bnJlZ2lzdGVyTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5obHM7ZSYmKGUub2ZmKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLGUub2ZmKEUuRlJBR19MT0FESU5HLHRoaXMub25GcmFnTG9hZGluZyx0aGlzKSxlLm9mZihFLkZSQUdfTE9BREVELHRoaXMub25GcmFnTG9hZGVkLHRoaXMpLGUub2ZmKEUuRlJBR19CVUZGRVJFRCx0aGlzLm9uRnJhZ0J1ZmZlcmVkLHRoaXMpLGUub2ZmKEUuTEVWRUxfU1dJVENISU5HLHRoaXMub25MZXZlbFN3aXRjaGluZyx0aGlzKSxlLm9mZihFLkxFVkVMX0xPQURFRCx0aGlzLm9uTGV2ZWxMb2FkZWQsdGhpcyksZS5vZmYoRS5MRVZFTFNfVVBEQVRFRCx0aGlzLm9uTGV2ZWxzVXBkYXRlZCx0aGlzKSxlLm9mZihFLk1BWF9BVVRPX0xFVkVMX1VQREFURUQsdGhpcy5vbk1heEF1dG9MZXZlbFVwZGF0ZWQsdGhpcyksZS5vZmYoRS5FUlJPUix0aGlzLm9uRXJyb3IsdGhpcykpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKSx0aGlzLmNsZWFyVGltZXIoKSx0aGlzLmhscz10aGlzLl9hYmFuZG9uUnVsZXNDaGVjaz1udWxsLHRoaXMuZnJhZ0N1cnJlbnQ9dGhpcy5wYXJ0Q3VycmVudD1udWxsfSx0Lm9uTWFuaWZlc3RMb2FkaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsPS0xLHRoaXMuZmlyc3RTZWxlY3Rpb249LTEsdGhpcy5sYXN0TGV2ZWxMb2FkU2VjPTAsdGhpcy5mcmFnQ3VycmVudD10aGlzLnBhcnRDdXJyZW50PW51bGwsdGhpcy5vbkxldmVsc1VwZGF0ZWQoKSx0aGlzLmNsZWFyVGltZXIoKX0sdC5vbkxldmVsc1VwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWw+LTEmJnRoaXMuZnJhZ0N1cnJlbnQmJih0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWw9dGhpcy5mcmFnQ3VycmVudC5sZXZlbCksdGhpcy5fbmV4dEF1dG9MZXZlbD0tMSx0aGlzLm9uTWF4QXV0b0xldmVsVXBkYXRlZCgpLHRoaXMuY29kZWNUaWVycz1udWxsLHRoaXMuYXVkaW9UcmFja3NCeUdyb3VwPW51bGx9LHQub25NYXhBdXRvTGV2ZWxVcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5maXJzdFNlbGVjdGlvbj0tMSx0aGlzLm5leHRBdXRvTGV2ZWxLZXk9IiJ9LHQub25GcmFnTG9hZGluZz1mdW5jdGlvbihlLHQpe3ZhciByLGk9dC5mcmFnO3RoaXMuaWdub3JlRnJhZ21lbnQoaSl8fChpLmJpdHJhdGVUZXN0fHwodGhpcy5mcmFnQ3VycmVudD1pLHRoaXMucGFydEN1cnJlbnQ9bnVsbCE9KHI9dC5wYXJ0KT9yOm51bGwpLHRoaXMuY2xlYXJUaW1lcigpLHRoaXMudGltZXI9c2VsZi5zZXRJbnRlcnZhbCh0aGlzLl9hYmFuZG9uUnVsZXNDaGVjaywxMDApKX0sdC5vbkxldmVsU3dpdGNoaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5jbGVhclRpbWVyKCl9LHQub25FcnJvcj1mdW5jdGlvbihlLHQpe2lmKCF0LmZhdGFsKXN3aXRjaCh0LmRldGFpbHMpe2Nhc2UgUy5CVUZGRVJfQUREX0NPREVDX0VSUk9SOmNhc2UgUy5CVUZGRVJfQVBQRU5EX0VSUk9SOnRoaXMubGFzdExvYWRlZEZyYWdMZXZlbD0tMSx0aGlzLmZpcnN0U2VsZWN0aW9uPS0xO2JyZWFrO2Nhc2UgUy5GUkFHX0xPQURfVElNRU9VVDp2YXIgcj10LmZyYWcsaT10aGlzLmZyYWdDdXJyZW50LGE9dGhpcy5wYXJ0Q3VycmVudDtpZihyJiZpJiZyLnNuPT09aS5zbiYmci5sZXZlbD09PWkubGV2ZWwpe3ZhciBuPXBlcmZvcm1hbmNlLm5vdygpLHM9YT9hLnN0YXRzOnIuc3RhdHMsbz1uLXMubG9hZGluZy5zdGFydCxsPXMubG9hZGluZy5maXJzdD9zLmxvYWRpbmcuZmlyc3Qtcy5sb2FkaW5nLnN0YXJ0Oi0xO2lmKHMubG9hZGVkJiZsPi0xKXt2YXIgdT10aGlzLmJ3RXN0aW1hdG9yLmdldEVzdGltYXRlVFRGQigpO3RoaXMuYndFc3RpbWF0b3Iuc2FtcGxlKG8tTWF0aC5taW4odSxsKSxzLmxvYWRlZCl9ZWxzZSB0aGlzLmJ3RXN0aW1hdG9yLnNhbXBsZVRURkIobyl9fX0sdC5nZXRUaW1lVG9Mb2FkRnJhZz1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gZStyL3QrKGk/dGhpcy5sYXN0TGV2ZWxMb2FkU2VjOjApfSx0Lm9uTGV2ZWxMb2FkZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmhscy5jb25maWcsaT10LnN0YXRzLmxvYWRpbmcsYT1pLmVuZC1pLnN0YXJ0O20oYSkmJih0aGlzLmxhc3RMZXZlbExvYWRTZWM9YS8xZTMpLHQuZGV0YWlscy5saXZlP3RoaXMuYndFc3RpbWF0b3IudXBkYXRlKHIuYWJyRXdtYVNsb3dMaXZlLHIuYWJyRXdtYUZhc3RMaXZlKTp0aGlzLmJ3RXN0aW1hdG9yLnVwZGF0ZShyLmFickV3bWFTbG93Vm9ELHIuYWJyRXdtYUZhc3RWb0QpfSx0Lm9uRnJhZ0xvYWRlZD1mdW5jdGlvbihlLHQpe3ZhciByPXQuZnJhZyxpPXQucGFydCxhPWk/aS5zdGF0czpyLnN0YXRzO2lmKHIudHlwZT09PW50JiZ0aGlzLmJ3RXN0aW1hdG9yLnNhbXBsZVRURkIoYS5sb2FkaW5nLmZpcnN0LWEubG9hZGluZy5zdGFydCksIXRoaXMuaWdub3JlRnJhZ21lbnQocikpe2lmKHRoaXMuY2xlYXJUaW1lcigpLHIubGV2ZWw9PT10aGlzLl9uZXh0QXV0b0xldmVsJiYodGhpcy5fbmV4dEF1dG9MZXZlbD0tMSksdGhpcy5maXJzdFNlbGVjdGlvbj0tMSx0aGlzLmhscy5jb25maWcuYWJyTWF4V2l0aFJlYWxCaXRyYXRlKXt2YXIgbj1pP2kuZHVyYXRpb246ci5kdXJhdGlvbixzPXRoaXMuaGxzLmxldmVsc1tyLmxldmVsXSxvPShzLmxvYWRlZD9zLmxvYWRlZC5ieXRlczowKSthLmxvYWRlZCxsPShzLmxvYWRlZD9zLmxvYWRlZC5kdXJhdGlvbjowKStuO3MubG9hZGVkPXtieXRlczpvLGR1cmF0aW9uOmx9LHMucmVhbEJpdHJhdGU9TWF0aC5yb3VuZCg4Km8vbCl9aWYoci5iaXRyYXRlVGVzdCl7dmFyIHU9e3N0YXRzOmEsZnJhZzpyLHBhcnQ6aSxpZDpyLnR5cGV9O3RoaXMub25GcmFnQnVmZmVyZWQoRS5GUkFHX0JVRkZFUkVELHUpLHIuYml0cmF0ZVRlc3Q9ITF9ZWxzZSB0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWw9ci5sZXZlbH19LHQub25GcmFnQnVmZmVyZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZyYWcsaT10LnBhcnQsYT1udWxsIT1pJiZpLnN0YXRzLmxvYWRlZD9pLnN0YXRzOnIuc3RhdHM7aWYoIWEuYWJvcnRlZCYmIXRoaXMuaWdub3JlRnJhZ21lbnQocikpe3ZhciBuPWEucGFyc2luZy5lbmQtYS5sb2FkaW5nLnN0YXJ0LU1hdGgubWluKGEubG9hZGluZy5maXJzdC1hLmxvYWRpbmcuc3RhcnQsdGhpcy5id0VzdGltYXRvci5nZXRFc3RpbWF0ZVRURkIoKSk7dGhpcy5id0VzdGltYXRvci5zYW1wbGUobixhLmxvYWRlZCksYS5id0VzdGltYXRlPXRoaXMuZ2V0QndFc3RpbWF0ZSgpLHIuYml0cmF0ZVRlc3Q/dGhpcy5iaXRyYXRlVGVzdERlbGF5PW4vMWUzOnRoaXMuYml0cmF0ZVRlc3REZWxheT0wfX0sdC5pZ25vcmVGcmFnbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlIT09bnR8fCJpbml0U2VnbWVudCI9PT1lLnNufSx0LmNsZWFyVGltZXI9ZnVuY3Rpb24oKXt0aGlzLnRpbWVyPi0xJiYoc2VsZi5jbGVhckludGVydmFsKHRoaXMudGltZXIpLHRoaXMudGltZXI9LTEpfSx0LmdldEF1dG9MZXZlbEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ3RXN0aW1hdGUoKSsiXyIrdGhpcy5nZXRTdGFydmF0aW9uRGVsYXkoKS50b0ZpeGVkKDIpfSx0LmdldE5leHRBQlJBdXRvTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmZyYWdDdXJyZW50LHQ9dGhpcy5wYXJ0Q3VycmVudCxyPXRoaXMuaGxzLGk9ci5tYXhBdXRvTGV2ZWwsYT1yLmNvbmZpZyxuPXIubWluQXV0b0xldmVsLHM9dD90LmR1cmF0aW9uOmU/ZS5kdXJhdGlvbjowLG89dGhpcy5nZXRCd0VzdGltYXRlKCksbD10aGlzLmdldFN0YXJ2YXRpb25EZWxheSgpLHU9YS5hYnJCYW5kV2lkdGhGYWN0b3IsZD1hLmFickJhbmRXaWR0aFVwRmFjdG9yO2lmKGwpe3ZhciBoPXRoaXMuZmluZEJlc3RMZXZlbChvLG4saSxsLDAsdSxkKTtpZihoPj0wKXJldHVybiBofXZhciBmPXM/TWF0aC5taW4ocyxhLm1heFN0YXJ2YXRpb25EZWxheSk6YS5tYXhTdGFydmF0aW9uRGVsYXk7aWYoIWwpe3ZhciBjPXRoaXMuYml0cmF0ZVRlc3REZWxheTtjJiYoZj0ocz9NYXRoLm1pbihzLGEubWF4TG9hZGluZ0RlbGF5KTphLm1heExvYWRpbmdEZWxheSktYyxELmluZm8oIlthYnJdIGJpdHJhdGUgdGVzdCB0b29rICIrTWF0aC5yb3VuZCgxZTMqYykrIm1zLCBzZXQgZmlyc3QgZnJhZ21lbnQgbWF4IGZldGNoRHVyYXRpb24gdG8gIitNYXRoLnJvdW5kKDFlMypmKSsiIG1zIiksdT1kPTEpfXZhciB2PXRoaXMuZmluZEJlc3RMZXZlbChvLG4saSxsLGYsdSxkKTtpZihELmluZm8oIlthYnJdICIrKGw/InJlYnVmZmVyaW5nIGV4cGVjdGVkIjoiYnVmZmVyIGlzIGVtcHR5IikrIiwgb3B0aW1hbCBxdWFsaXR5IGxldmVsICIrdiksdj4tMSlyZXR1cm4gdjt2YXIgZz1yLmxldmVsc1tuXSxtPXIubGV2ZWxzW3IubG9hZExldmVsXTtyZXR1cm4obnVsbD09Zz92b2lkIDA6Zy5iaXRyYXRlKTwobnVsbD09bT92b2lkIDA6bS5iaXRyYXRlKT9uOnIubG9hZExldmVsfSx0LmdldFN0YXJ2YXRpb25EZWxheT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzLHQ9ZS5tZWRpYTtpZighdClyZXR1cm4gMS8wO3ZhciByPXQmJjAhPT10LnBsYXliYWNrUmF0ZT9NYXRoLmFicyh0LnBsYXliYWNrUmF0ZSk6MSxpPWUubWFpbkZvcndhcmRCdWZmZXJJbmZvO3JldHVybihpP2kubGVuOjApL3J9LHQuZ2V0QndFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ3RXN0aW1hdG9yLmNhbkVzdGltYXRlKCk/dGhpcy5id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpOnRoaXMuaGxzLmNvbmZpZy5hYnJFd21hRGVmYXVsdEVzdGltYXRlfSx0LmZpbmRCZXN0TGV2ZWw9ZnVuY3Rpb24oZSx0LHIsaSxhLG4scyl7dmFyIG8sbD10aGlzLHU9aSthLGQ9dGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsLGg9LTE9PT1kP3RoaXMuaGxzLmZpcnN0TGV2ZWw6ZCxmPXRoaXMuZnJhZ0N1cnJlbnQsYz10aGlzLnBhcnRDdXJyZW50LHY9dGhpcy5obHMsZz12LmxldmVscyxwPXYuYWxsQXVkaW9UcmFja3MseT12LmxvYWRMZXZlbCxFPXYuY29uZmlnO2lmKDE9PT1nLmxlbmd0aClyZXR1cm4gMDt2YXIgVCxTPWdbaF0sTD0hKG51bGw9PVN8fG51bGw9PShvPVMuZGV0YWlscyl8fCFvLmxpdmUpLFI9LTE9PT15fHwtMT09PWQsQT0iU0RSIixiPShudWxsPT1TP3ZvaWQgMDpTLmZyYW1lUmF0ZSl8fDAsaz1FLmF1ZGlvUHJlZmVyZW5jZSxfPUUudmlkZW9QcmVmZXJlbmNlO2lmKHRoaXMuYXVkaW9UcmFja3NCeUdyb3VwfHwodGhpcy5hdWRpb1RyYWNrc0J5R3JvdXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPWUuZ3JvdXBzW3QuZ3JvdXBJZF07cnx8KHI9ZS5ncm91cHNbdC5ncm91cElkXT17dHJhY2tzOltdLGNoYW5uZWxzOnsyOjB9LGhhc0RlZmF1bHQ6ITEsaGFzQXV0b1NlbGVjdDohMX0pLHIudHJhY2tzLnB1c2godCk7dmFyIGk9dC5jaGFubmVsc3x8IjIiO3JldHVybiByLmNoYW5uZWxzW2ldPShyLmNoYW5uZWxzW2ldfHwwKSsxLHIuaGFzRGVmYXVsdD1yLmhhc0RlZmF1bHR8fHQuZGVmYXVsdCxyLmhhc0F1dG9TZWxlY3Q9ci5oYXNBdXRvU2VsZWN0fHx0LmF1dG9zZWxlY3Qsci5oYXNEZWZhdWx0JiYoZS5oYXNEZWZhdWx0QXVkaW89ITApLHIuaGFzQXV0b1NlbGVjdCYmKGUuaGFzQXV0b1NlbGVjdEF1ZGlvPSEwKSxlfSkse2hhc0RlZmF1bHRBdWRpbzohMSxoYXNBdXRvU2VsZWN0QXVkaW86ITEsZ3JvdXBzOnt9fSl9KHApKSxSKXtpZigtMSE9PXRoaXMuZmlyc3RTZWxlY3Rpb24pcmV0dXJuIHRoaXMuZmlyc3RTZWxlY3Rpb247dmFyIHg9dGhpcy5jb2RlY1RpZXJzfHwodGhpcy5jb2RlY1RpZXJzPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBlLnNsaWNlKHIsaSsxKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIXQuY29kZWNTZXQpcmV0dXJuIGU7dmFyIHI9dC5hdWRpb0dyb3VwcyxpPWVbdC5jb2RlY1NldF07aXx8KGVbdC5jb2RlY1NldF09aT17bWluQml0cmF0ZToxLzAsbWluSGVpZ2h0OjEvMCxtaW5GcmFtZXJhdGU6MS8wLG1heFNjb3JlOjAsdmlkZW9SYW5nZXM6e1NEUjowfSxjaGFubmVsczp7MjowfSxoYXNEZWZhdWx0QXVkaW86IXIsZnJhZ21lbnRFcnJvcjowfSksaS5taW5CaXRyYXRlPU1hdGgubWluKGkubWluQml0cmF0ZSx0LmJpdHJhdGUpO3ZhciBhPU1hdGgubWluKHQuaGVpZ2h0LHQud2lkdGgpO3JldHVybiBpLm1pbkhlaWdodD1NYXRoLm1pbihpLm1pbkhlaWdodCxhKSxpLm1pbkZyYW1lcmF0ZT1NYXRoLm1pbihpLm1pbkZyYW1lcmF0ZSx0LmZyYW1lUmF0ZSksaS5tYXhTY29yZT1NYXRoLm1heChpLm1heFNjb3JlLHQuc2NvcmUpLGkuZnJhZ21lbnRFcnJvcis9dC5mcmFnbWVudEVycm9yLGkudmlkZW9SYW5nZXNbdC52aWRlb1JhbmdlXT0oaS52aWRlb1Jhbmdlc1t0LnZpZGVvUmFuZ2VdfHwwKSsxLGV9KSx7fSl9KGcsMCx0LHIpKSx3PWZ1bmN0aW9uKGUsdCxyLGksYSl7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLHM9bnVsbD09aT92b2lkIDA6aS5jaGFubmVscyxvPW51bGw9PWk/dm9pZCAwOmkuYXVkaW9Db2RlYyxsPXMmJjI9PT1wYXJzZUludChzKSx1PSEwLGQ9ITEsaD0xLzAsZj0xLzAsYz0xLzAsdj0wLGc9W10scD1hcih0LGEpLHk9cC5wcmVmZXJIRFIsRT1wLmFsbG93ZWRWaWRlb1JhbmdlcyxUPWZ1bmN0aW9uKCl7dmFyIHQ9ZVtuW1NdXTt1PXQuY2hhbm5lbHNbMl0+MCxoPU1hdGgubWluKGgsdC5taW5IZWlnaHQpLGY9TWF0aC5taW4oZix0Lm1pbkZyYW1lcmF0ZSksYz1NYXRoLm1pbihjLHQubWluQml0cmF0ZSk7dmFyIHI9RS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnZpZGVvUmFuZ2VzW2VdPjB9KSk7ci5sZW5ndGg+MCYmKGQ9ITAsZz1yKX0sUz1uLmxlbmd0aDtTLS07KVQoKTtoPW0oaCk/aDowLGY9bShmKT9mOjA7dmFyIEw9TWF0aC5tYXgoMTA4MCxoKSxSPU1hdGgubWF4KDMwLGYpO3JldHVybiBjPW0oYyk/YzpyLHI9TWF0aC5tYXgoYyxyKSxkfHwodD12b2lkIDAsZz1bXSkse2NvZGVjU2V0Om4ucmVkdWNlKChmdW5jdGlvbih0LGkpe3ZhciBhPWVbaV07aWYoaT09PXQpcmV0dXJuIHQ7aWYoYS5taW5CaXRyYXRlPnIpcmV0dXJuIG5yKGksIm1pbiBiaXRyYXRlIG9mICIrYS5taW5CaXRyYXRlKyIgPiBjdXJyZW50IGVzdGltYXRlIG9mICIrciksdDtpZighYS5oYXNEZWZhdWx0QXVkaW8pcmV0dXJuIG5yKGksIm5vIHJlbmRpdGlvbnMgd2l0aCBkZWZhdWx0IG9yIGF1dG8tc2VsZWN0IHNvdW5kIGZvdW5kIiksdDtpZihvJiZpLmluZGV4T2Yoby5zdWJzdHJpbmcoMCw0KSklNSE9MClyZXR1cm4gbnIoaSwnYXVkaW8gY29kZWMgcHJlZmVyZW5jZSAiJytvKyciIG5vdCBmb3VuZCcpLHQ7aWYocyYmIWwpe2lmKCFhLmNoYW5uZWxzW3NdKXJldHVybiBucihpLCJubyByZW5kaXRpb25zIHdpdGggIitzKyIgY2hhbm5lbCBzb3VuZCBmb3VuZCAoY2hhbm5lbHMgb3B0aW9uczogIitPYmplY3Qua2V5cyhhLmNoYW5uZWxzKSsiKSIpLHR9ZWxzZSBpZigoIW98fGwpJiZ1JiYwPT09YS5jaGFubmVsc1syXSlyZXR1cm4gbnIoaSwibm8gcmVuZGl0aW9ucyB3aXRoIHN0ZXJlbyBzb3VuZCBmb3VuZCIpLHQ7cmV0dXJuIGEubWluSGVpZ2h0Pkw/KG5yKGksIm1pbiByZXNvbHV0aW9uIG9mICIrYS5taW5IZWlnaHQrIiA+IG1heGltdW0gb2YgIitMKSx0KTphLm1pbkZyYW1lcmF0ZT5SPyhucihpLCJtaW4gZnJhbWVyYXRlIG9mICIrYS5taW5GcmFtZXJhdGUrIiA+IG1heGltdW0gb2YgIitSKSx0KTpnLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLnZpZGVvUmFuZ2VzW2VdPjB9KSk/YS5tYXhTY29yZTx2PyhucihpLCJtYXggc2NvcmUgb2YgIithLm1heFNjb3JlKyIgPCBzZWxlY3RlZCBtYXggb2YgIit2KSx0KTp0JiYoTmUoaSk+PU5lKHQpfHxhLmZyYWdtZW50RXJyb3I+ZVt0XS5mcmFnbWVudEVycm9yKT90Oih2PWEubWF4U2NvcmUsaSk6KG5yKGksIm5vIHZhcmlhbnRzIHdpdGggVklERU8tUkFOR0Ugb2YgIitKU09OLnN0cmluZ2lmeShnKSsiIGZvdW5kIiksdCl9KSx2b2lkIDApLHZpZGVvUmFuZ2VzOmcscHJlZmVySERSOnksbWluRnJhbWVyYXRlOmYsbWluQml0cmF0ZTpjfX0oeCxBLGUsayxfKSxDPXcuY29kZWNTZXQsST13LnZpZGVvUmFuZ2VzLFA9dy5taW5GcmFtZXJhdGUsRj13Lm1pbkJpdHJhdGUsTz13LnByZWZlckhEUjtUPUMsQT1PP0lbSS5sZW5ndGgtMV06SVswXSxiPVAsZT1NYXRoLm1heChlLEYpLEQubG9nKCJbYWJyXSBwaWNrZWQgc3RhcnQgdGllciAiK0pTT04uc3RyaW5naWZ5KHcpKX1lbHNlIFQ9bnVsbD09Uz92b2lkIDA6Uy5jb2RlY1NldCxBPW51bGw9PVM/dm9pZCAwOlMudmlkZW9SYW5nZTtmb3IodmFyIE0sTj1jP2MuZHVyYXRpb246Zj9mLmR1cmF0aW9uOjAsQj10aGlzLmJ3RXN0aW1hdG9yLmdldEVzdGltYXRlVFRGQigpLzFlMyxVPVtdLEc9ZnVuY3Rpb24oKXt2YXIgdCxvPWdbSF0sZj1IPmg7aWYoIW8pcmV0dXJuIDA7aWYoVCYmby5jb2RlY1NldCE9PVR8fEEmJm8udmlkZW9SYW5nZSE9PUF8fGYmJmI+by5mcmFtZVJhdGV8fCFmJiZiPjAmJmI8by5mcmFtZVJhdGV8fG8uc3VwcG9ydGVkUmVzdWx0JiYobnVsbD09KHQ9by5zdXBwb3J0ZWRSZXN1bHQuZGVjb2RpbmdJbmZvUmVzdWx0cyl8fCF0WzBdLnNtb290aCkpcmV0dXJuIFUucHVzaChIKSwwO3ZhciB2LHA9by5kZXRhaWxzLEU9KGM/bnVsbD09cD92b2lkIDA6cC5wYXJ0VGFyZ2V0Om51bGw9PXA/dm9pZCAwOnAuYXZlcmFnZXRhcmdldGR1cmF0aW9uKXx8Tjt2PWY/cyplOm4qZTt2YXIgaz1OJiZpPj0yKk4mJjA9PT1hP2dbSF0uYXZlcmFnZUJpdHJhdGU6Z1tIXS5tYXhCaXRyYXRlLF89bC5nZXRUaW1lVG9Mb2FkRnJhZyhCLHYsaypFLHZvaWQgMD09PXApO2lmKHY+PWsmJihIPT09ZHx8MD09PW8ubG9hZEVycm9yJiYwPT09by5mcmFnbWVudEVycm9yKSYmKF88PUJ8fCFtKF8pfHxMJiYhbC5iaXRyYXRlVGVzdERlbGF5fHxfPHUpKXt2YXIgeD1sLmZvcmNlZEF1dG9MZXZlbDtyZXR1cm4gSD09PXl8fC0xIT09eCYmeD09PXl8fChVLmxlbmd0aCYmRC50cmFjZSgiW2Ficl0gU2tpcHBlZCBsZXZlbChzKSAiK1Uuam9pbigiLCIpKyIgb2YgIityKycgbWF4IHdpdGggQ09ERUNTIGFuZCBWSURFTy1SQU5HRToiJytnW1VbMF1dLmNvZGVjcysnIiAnK2dbVVswXV0udmlkZW9SYW5nZSsnOyBub3QgY29tcGF0aWJsZSB3aXRoICInK1MuY29kZWNzKyciICcrQSksRC5pbmZvKCJbYWJyXSBzd2l0Y2ggY2FuZGlkYXRlOiIraCsiLT4iK0grIiBhZGp1c3RlZGJ3KCIrTWF0aC5yb3VuZCh2KSsiKS1iaXRyYXRlPSIrTWF0aC5yb3VuZCh2LWspKyIgdHRmYjoiK0IudG9GaXhlZCgxKSsiIGF2Z0R1cmF0aW9uOiIrRS50b0ZpeGVkKDEpKyIgbWF4RmV0Y2hEdXJhdGlvbjoiK3UudG9GaXhlZCgxKSsiIGZldGNoRHVyYXRpb246IitfLnRvRml4ZWQoMSkrIiBmaXJzdFNlbGVjdGlvbjoiK1IrIiBjb2RlY1NldDoiK1QrIiB2aWRlb1JhbmdlOiIrQSsiIGhscy5sb2FkTGV2ZWw6Iit5KSksUiYmKGwuZmlyc3RTZWxlY3Rpb249SCkse3Y6SH19fSxIPXI7SD49dDtILS0paWYoMCE9PShNPUcoKSkmJk0pcmV0dXJuIE0udjtyZXR1cm4tMX0scyhlLFt7a2V5OiJmaXJzdEF1dG9MZXZlbCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5obHMsdD1lLm1heEF1dG9MZXZlbCxyPWUubWluQXV0b0xldmVsLGk9dGhpcy5nZXRCd0VzdGltYXRlKCksYT10aGlzLmhscy5jb25maWcubWF4U3RhcnZhdGlvbkRlbGF5LG49dGhpcy5maW5kQmVzdExldmVsKGkscix0LDAsYSwxLDEpO2lmKG4+LTEpcmV0dXJuIG47dmFyIHM9dGhpcy5obHMuZmlyc3RMZXZlbCxvPU1hdGgubWluKE1hdGgubWF4KHMsciksdCk7cmV0dXJuIEQud2FybigiW2Ficl0gQ291bGQgbm90IGZpbmQgYmVzdCBzdGFydGluZyBhdXRvIGxldmVsLiBEZWZhdWx0aW5nIHRvIGZpcnN0IGluIHBsYXlsaXN0ICIrcysiIGNsYW1wZWQgdG8gIitvKSxvfX0se2tleToiZm9yY2VkQXV0b0xldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0QXV0b0xldmVsS2V5Py0xOnRoaXMuX25leHRBdXRvTGV2ZWx9fSx7a2V5OiJuZXh0QXV0b0xldmVsIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmZvcmNlZEF1dG9MZXZlbCx0PXRoaXMuYndFc3RpbWF0b3IuY2FuRXN0aW1hdGUoKSxyPXRoaXMubGFzdExvYWRlZEZyYWdMZXZlbD4tMTtpZighKC0xPT09ZXx8dCYmciYmdGhpcy5uZXh0QXV0b0xldmVsS2V5IT09dGhpcy5nZXRBdXRvTGV2ZWxLZXkoKSkpcmV0dXJuIGU7dmFyIGk9dCYmcj90aGlzLmdldE5leHRBQlJBdXRvTGV2ZWwoKTp0aGlzLmZpcnN0QXV0b0xldmVsO2lmKC0xIT09ZSl7dmFyIGE9dGhpcy5obHMubGV2ZWxzO2lmKGEubGVuZ3RoPk1hdGgubWF4KGUsaSkmJmFbZV0ubG9hZEVycm9yPD1hW2ldLmxvYWRFcnJvcilyZXR1cm4gZX1yZXR1cm4gdGhpcy5fbmV4dEF1dG9MZXZlbD1pLHRoaXMubmV4dEF1dG9MZXZlbEtleT10aGlzLmdldEF1dG9MZXZlbEtleSgpLGl9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmhscyxyPXQubWF4QXV0b0xldmVsLGk9dC5taW5BdXRvTGV2ZWwsYT1NYXRoLm1pbihNYXRoLm1heChlLGkpLHIpO3RoaXMuX25leHRBdXRvTGV2ZWwhPT1hJiYodGhpcy5uZXh0QXV0b0xldmVsS2V5PSIiLHRoaXMuX25leHRBdXRvTGV2ZWw9YSl9fV0pLGV9KCksb3I9e2xlbmd0aDowLHN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGVuZDpmdW5jdGlvbigpe3JldHVybiAwfX0sbHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmlzQnVmZmVyZWQ9ZnVuY3Rpb24odCxyKXt0cnl7aWYodClmb3IodmFyIGk9ZS5nZXRCdWZmZXJlZCh0KSxhPTA7YTxpLmxlbmd0aDthKyspaWYocj49aS5zdGFydChhKSYmcjw9aS5lbmQoYSkpcmV0dXJuITB9Y2F0Y2goZSl7fXJldHVybiExfSxlLmJ1ZmZlckluZm89ZnVuY3Rpb24odCxyLGkpe3RyeXtpZih0KXt2YXIgYSxuPWUuZ2V0QnVmZmVyZWQodCkscz1bXTtmb3IoYT0wO2E8bi5sZW5ndGg7YSsrKXMucHVzaCh7c3RhcnQ6bi5zdGFydChhKSxlbmQ6bi5lbmQoYSl9KTtyZXR1cm4gdGhpcy5idWZmZXJlZEluZm8ocyxyLGkpfX1jYXRjaChlKXt9cmV0dXJue2xlbjowLHN0YXJ0OnIsZW5kOnIsbmV4dFN0YXJ0OnZvaWQgMH19LGUuYnVmZmVyZWRJbmZvPWZ1bmN0aW9uKGUsdCxyKXt0PU1hdGgubWF4KDAsdCksZS5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciByPWUuc3RhcnQtdC5zdGFydDtyZXR1cm4gcnx8dC5lbmQtZS5lbmR9KSk7dmFyIGk9W107aWYocilmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIG49aS5sZW5ndGg7aWYobil7dmFyIHM9aVtuLTFdLmVuZDtlW2FdLnN0YXJ0LXM8cj9lW2FdLmVuZD5zJiYoaVtuLTFdLmVuZD1lW2FdLmVuZCk6aS5wdXNoKGVbYV0pfWVsc2UgaS5wdXNoKGVbYV0pfWVsc2UgaT1lO2Zvcih2YXIgbyxsPTAsdT10LGQ9dCxoPTA7aDxpLmxlbmd0aDtoKyspe3ZhciBmPWlbaF0uc3RhcnQsYz1pW2hdLmVuZDtpZih0K3I+PWYmJnQ8Yyl1PWYsbD0oZD1jKS10O2Vsc2UgaWYodCtyPGYpe289ZjticmVha319cmV0dXJue2xlbjpsLHN0YXJ0OnV8fDAsZW5kOmR8fDAsbmV4dFN0YXJ0Om99fSxlLmdldEJ1ZmZlcmVkPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5idWZmZXJlZH1jYXRjaChlKXtyZXR1cm4gRC5sb2coImZhaWxlZCB0byBnZXQgbWVkaWEuYnVmZmVyZWQiLGUpLG9yfX0sZX0oKSx1cj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5idWZmZXJzPXZvaWQgMCx0aGlzLnF1ZXVlcz17dmlkZW86W10sYXVkaW86W10sYXVkaW92aWRlbzpbXX0sdGhpcy5idWZmZXJzPWV9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYXBwZW5kPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnF1ZXVlc1t0XTtpLnB1c2goZSksMSE9PWkubGVuZ3RofHxyfHx0aGlzLmV4ZWN1dGVOZXh0KHQpfSx0Lmluc2VydEFib3J0PWZ1bmN0aW9uKGUsdCl7dGhpcy5xdWV1ZXNbdF0udW5zaGlmdChlKSx0aGlzLmV4ZWN1dGVOZXh0KHQpfSx0LmFwcGVuZEJsb2NrZXI9ZnVuY3Rpb24oZSl7dmFyIHQscj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dD1lfSkpLGk9e2V4ZWN1dGU6dCxvblN0YXJ0OmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkVycm9yOmZ1bmN0aW9uKCl7fX07cmV0dXJuIHRoaXMuYXBwZW5kKGksZSkscn0sdC5leGVjdXRlTmV4dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnF1ZXVlc1tlXTtpZih0Lmxlbmd0aCl7dmFyIHI9dFswXTt0cnl7ci5leGVjdXRlKCl9Y2F0Y2godCl7RC53YXJuKCdbYnVmZmVyLW9wZXJhdGlvbi1xdWV1ZV06IEV4Y2VwdGlvbiBleGVjdXRpbmcgIicrZSsnIiBTb3VyY2VCdWZmZXIgb3BlcmF0aW9uOiAnK3QpLHIub25FcnJvcih0KTt2YXIgaT10aGlzLmJ1ZmZlcnNbZV07bnVsbCE9aSYmaS51cGRhdGluZ3x8dGhpcy5zaGlmdEFuZEV4ZWN1dGVOZXh0KGUpfX19LHQuc2hpZnRBbmRFeGVjdXRlTmV4dD1mdW5jdGlvbihlKXt0aGlzLnF1ZXVlc1tlXS5zaGlmdCgpLHRoaXMuZXhlY3V0ZU5leHQoZSl9LHQuY3VycmVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZXNbZV1bMF19LGV9KCksZHI9LyhhdmNbMTIzNF18aHZjMXxoZXYxfGR2aFsxZV18dnAwOXxhdjAxKSg/OlwuW14uLF0rKSsvLGhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzO3RoaXMuZGV0YWlscz1udWxsLHRoaXMuX29iamVjdFVybD1udWxsLHRoaXMub3BlcmF0aW9uUXVldWU9dm9pZCAwLHRoaXMubGlzdGVuZXJzPXZvaWQgMCx0aGlzLmhscz12b2lkIDAsdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkPTAsdGhpcy5fYnVmZmVyQ29kZWNFdmVudHNUb3RhbD0wLHRoaXMubWVkaWE9bnVsbCx0aGlzLm1lZGlhU291cmNlPW51bGwsdGhpcy5sYXN0TXBlZ0F1ZGlvQ2h1bms9bnVsbCx0aGlzLmFwcGVuZFNvdXJjZT12b2lkIDAsdGhpcy5hcHBlbmRFcnJvcnM9e2F1ZGlvOjAsdmlkZW86MCxhdWRpb3ZpZGVvOjB9LHRoaXMudHJhY2tzPXt9LHRoaXMucGVuZGluZ1RyYWNrcz17fSx0aGlzLnNvdXJjZUJ1ZmZlcj12b2lkIDAsdGhpcy5sb2c9dm9pZCAwLHRoaXMud2Fybj12b2lkIDAsdGhpcy5lcnJvcj12b2lkIDAsdGhpcy5fb25FbmRTdHJlYW1pbmc9ZnVuY3Rpb24oZSl7dC5obHMmJnQuaGxzLnBhdXNlQnVmZmVyaW5nKCl9LHRoaXMuX29uU3RhcnRTdHJlYW1pbmc9ZnVuY3Rpb24oZSl7dC5obHMmJnQuaGxzLnJlc3VtZUJ1ZmZlcmluZygpfSx0aGlzLl9vbk1lZGlhU291cmNlT3Blbj1mdW5jdGlvbigpe3ZhciBlPXQubWVkaWEscj10Lm1lZGlhU291cmNlO3QubG9nKCJNZWRpYSBzb3VyY2Ugb3BlbmVkIiksZSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZW1wdGllZCIsdC5fb25NZWRpYUVtcHRpZWQpLHQudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24oKSx0Lmhscy50cmlnZ2VyKEUuTUVESUFfQVRUQUNIRUQse21lZGlhOmUsbWVkaWFTb3VyY2U6cn0pKSxyJiZyLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNvdXJjZW9wZW4iLHQuX29uTWVkaWFTb3VyY2VPcGVuKSx0LmNoZWNrUGVuZGluZ1RyYWNrcygpfSx0aGlzLl9vbk1lZGlhU291cmNlQ2xvc2U9ZnVuY3Rpb24oKXt0LmxvZygiTWVkaWEgc291cmNlIGNsb3NlZCIpfSx0aGlzLl9vbk1lZGlhU291cmNlRW5kZWQ9ZnVuY3Rpb24oKXt0LmxvZygiTWVkaWEgc291cmNlIGVuZGVkIil9LHRoaXMuX29uTWVkaWFFbXB0aWVkPWZ1bmN0aW9uKCl7dmFyIGU9dC5tZWRpYVNyYyxyPXQuX29iamVjdFVybDtlIT09ciYmRC5lcnJvcigiTWVkaWEgZWxlbWVudCBzcmMgd2FzIHNldCB3aGlsZSBhdHRhY2hpbmcgTWVkaWFTb3VyY2UgKCIrcisiID4gIitlKyIpIil9LHRoaXMuaGxzPWU7dmFyIHIsaT0iW2J1ZmZlci1jb250cm9sbGVyXSI7dGhpcy5hcHBlbmRTb3VyY2U9KHI9Q2UoZS5jb25maWcucHJlZmVyTWFuYWdlZE1lZGlhU291cmNlKSwidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnI9PT1zZWxmLk1hbmFnZWRNZWRpYVNvdXJjZSksdGhpcy5sb2c9RC5sb2cuYmluZChELGkpLHRoaXMud2Fybj1ELndhcm4uYmluZChELGkpLHRoaXMuZXJyb3I9RC5lcnJvci5iaW5kKEQsaSksdGhpcy5faW5pdFNvdXJjZUJ1ZmZlcigpLHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5oYXNTb3VyY2VUeXBlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkubGVuZ3RoPjB8fE9iamVjdC5rZXlzKHRoaXMucGVuZGluZ1RyYWNrcykubGVuZ3RoPjB9LHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpLHRoaXMuZGV0YWlscz1udWxsLHRoaXMubGFzdE1wZWdBdWRpb0NodW5rPW51bGwsdGhpcy5obHM9bnVsbH0sdC5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub24oRS5NRURJQV9BVFRBQ0hJTkcsdGhpcy5vbk1lZGlhQXR0YWNoaW5nLHRoaXMpLGUub24oRS5NRURJQV9ERVRBQ0hJTkcsdGhpcy5vbk1lZGlhRGV0YWNoaW5nLHRoaXMpLGUub24oRS5NQU5JRkVTVF9MT0FESU5HLHRoaXMub25NYW5pZmVzdExvYWRpbmcsdGhpcyksZS5vbihFLk1BTklGRVNUX1BBUlNFRCx0aGlzLm9uTWFuaWZlc3RQYXJzZWQsdGhpcyksZS5vbihFLkJVRkZFUl9SRVNFVCx0aGlzLm9uQnVmZmVyUmVzZXQsdGhpcyksZS5vbihFLkJVRkZFUl9BUFBFTkRJTkcsdGhpcy5vbkJ1ZmZlckFwcGVuZGluZyx0aGlzKSxlLm9uKEUuQlVGRkVSX0NPREVDUyx0aGlzLm9uQnVmZmVyQ29kZWNzLHRoaXMpLGUub24oRS5CVUZGRVJfRU9TLHRoaXMub25CdWZmZXJFb3MsdGhpcyksZS5vbihFLkJVRkZFUl9GTFVTSElORyx0aGlzLm9uQnVmZmVyRmx1c2hpbmcsdGhpcyksZS5vbihFLkxFVkVMX1VQREFURUQsdGhpcy5vbkxldmVsVXBkYXRlZCx0aGlzKSxlLm9uKEUuRlJBR19QQVJTRUQsdGhpcy5vbkZyYWdQYXJzZWQsdGhpcyksZS5vbihFLkZSQUdfQ0hBTkdFRCx0aGlzLm9uRnJhZ0NoYW5nZWQsdGhpcyl9LHQudW5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub2ZmKEUuTUVESUFfQVRUQUNISU5HLHRoaXMub25NZWRpYUF0dGFjaGluZyx0aGlzKSxlLm9mZihFLk1FRElBX0RFVEFDSElORyx0aGlzLm9uTWVkaWFEZXRhY2hpbmcsdGhpcyksZS5vZmYoRS5NQU5JRkVTVF9MT0FESU5HLHRoaXMub25NYW5pZmVzdExvYWRpbmcsdGhpcyksZS5vZmYoRS5NQU5JRkVTVF9QQVJTRUQsdGhpcy5vbk1hbmlmZXN0UGFyc2VkLHRoaXMpLGUub2ZmKEUuQlVGRkVSX1JFU0VULHRoaXMub25CdWZmZXJSZXNldCx0aGlzKSxlLm9mZihFLkJVRkZFUl9BUFBFTkRJTkcsdGhpcy5vbkJ1ZmZlckFwcGVuZGluZyx0aGlzKSxlLm9mZihFLkJVRkZFUl9DT0RFQ1MsdGhpcy5vbkJ1ZmZlckNvZGVjcyx0aGlzKSxlLm9mZihFLkJVRkZFUl9FT1MsdGhpcy5vbkJ1ZmZlckVvcyx0aGlzKSxlLm9mZihFLkJVRkZFUl9GTFVTSElORyx0aGlzLm9uQnVmZmVyRmx1c2hpbmcsdGhpcyksZS5vZmYoRS5MRVZFTF9VUERBVEVELHRoaXMub25MZXZlbFVwZGF0ZWQsdGhpcyksZS5vZmYoRS5GUkFHX1BBUlNFRCx0aGlzLm9uRnJhZ1BhcnNlZCx0aGlzKSxlLm9mZihFLkZSQUdfQ0hBTkdFRCx0aGlzLm9uRnJhZ0NoYW5nZWQsdGhpcyl9LHQuX2luaXRTb3VyY2VCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZUJ1ZmZlcj17fSx0aGlzLm9wZXJhdGlvblF1ZXVlPW5ldyB1cih0aGlzLnNvdXJjZUJ1ZmZlciksdGhpcy5saXN0ZW5lcnM9e2F1ZGlvOltdLHZpZGVvOltdLGF1ZGlvdmlkZW86W119LHRoaXMuYXBwZW5kRXJyb3JzPXthdWRpbzowLHZpZGVvOjAsYXVkaW92aWRlbzowfSx0aGlzLmxhc3RNcGVnQXVkaW9DaHVuaz1udWxsfSx0Lm9uTWFuaWZlc3RMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkPXRoaXMuX2J1ZmZlckNvZGVjRXZlbnRzVG90YWw9MCx0aGlzLmRldGFpbHM9bnVsbH0sdC5vbk1hbmlmZXN0UGFyc2VkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9Mjt0LmF1ZGlvJiYhdC52aWRlb3x8dC5hbHRBdWRpbyxyPTEsdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkPXRoaXMuX2J1ZmZlckNvZGVjRXZlbnRzVG90YWw9cix0aGlzLmxvZyh0aGlzLmJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQrIiBidWZmZXJDb2RlYyBldmVudChzKSBleHBlY3RlZCIpfSx0Lm9uTWVkaWFBdHRhY2hpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLm1lZGlhPXQubWVkaWEsaT1DZSh0aGlzLmFwcGVuZFNvdXJjZSk7aWYociYmaSl7dmFyIGEsbj10aGlzLm1lZGlhU291cmNlPW5ldyBpO3RoaXMubG9nKCJjcmVhdGVkIG1lZGlhIHNvdXJjZTogIisobnVsbD09KGE9bi5jb25zdHJ1Y3Rvcik/dm9pZCAwOmEubmFtZSkpLG4uYWRkRXZlbnRMaXN0ZW5lcigic291cmNlb3BlbiIsdGhpcy5fb25NZWRpYVNvdXJjZU9wZW4pLG4uYWRkRXZlbnRMaXN0ZW5lcigic291cmNlZW5kZWQiLHRoaXMuX29uTWVkaWFTb3VyY2VFbmRlZCksbi5hZGRFdmVudExpc3RlbmVyKCJzb3VyY2VjbG9zZSIsdGhpcy5fb25NZWRpYVNvdXJjZUNsb3NlKSx0aGlzLmFwcGVuZFNvdXJjZSYmKG4uYWRkRXZlbnRMaXN0ZW5lcigic3RhcnRzdHJlYW1pbmciLHRoaXMuX29uU3RhcnRTdHJlYW1pbmcpLG4uYWRkRXZlbnRMaXN0ZW5lcigiZW5kc3RyZWFtaW5nIix0aGlzLl9vbkVuZFN0cmVhbWluZykpO3ZhciBzPXRoaXMuX29iamVjdFVybD1zZWxmLlVSTC5jcmVhdGVPYmplY3RVUkwobik7aWYodGhpcy5hcHBlbmRTb3VyY2UpdHJ5e3IucmVtb3ZlQXR0cmlidXRlKCJzcmMiKTt2YXIgbz1zZWxmLk1hbmFnZWRNZWRpYVNvdXJjZTtyLmRpc2FibGVSZW1vdGVQbGF5YmFjaz1yLmRpc2FibGVSZW1vdGVQbGF5YmFja3x8byYmbiBpbnN0YW5jZW9mIG8sZnIociksZnVuY3Rpb24oZSx0KXt2YXIgcj1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNvdXJjZSIpO3IudHlwZT0idmlkZW8vbXA0IixyLnNyYz10LGUuYXBwZW5kQ2hpbGQocil9KHIscyksci5sb2FkKCl9Y2F0Y2goZSl7ci5zcmM9c31lbHNlIHIuc3JjPXM7ci5hZGRFdmVudExpc3RlbmVyKCJlbXB0aWVkIix0aGlzLl9vbk1lZGlhRW1wdGllZCl9fSx0Lm9uTWVkaWFEZXRhY2hpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1lZGlhLHQ9dGhpcy5tZWRpYVNvdXJjZSxyPXRoaXMuX29iamVjdFVybDtpZih0KXtpZih0aGlzLmxvZygibWVkaWEgc291cmNlIGRldGFjaGluZyIpLCJvcGVuIj09PXQucmVhZHlTdGF0ZSl0cnl7dC5lbmRPZlN0cmVhbSgpfWNhdGNoKGUpe3RoaXMud2Fybigib25NZWRpYURldGFjaGluZzogIitlLm1lc3NhZ2UrIiB3aGlsZSBjYWxsaW5nIGVuZE9mU3RyZWFtIil9dGhpcy5vbkJ1ZmZlclJlc2V0KCksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJzb3VyY2VvcGVuIix0aGlzLl9vbk1lZGlhU291cmNlT3BlbiksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJzb3VyY2VlbmRlZCIsdGhpcy5fb25NZWRpYVNvdXJjZUVuZGVkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNvdXJjZWNsb3NlIix0aGlzLl9vbk1lZGlhU291cmNlQ2xvc2UpLHRoaXMuYXBwZW5kU291cmNlJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKCJzdGFydHN0cmVhbWluZyIsdGhpcy5fb25TdGFydFN0cmVhbWluZyksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJlbmRzdHJlYW1pbmciLHRoaXMuX29uRW5kU3RyZWFtaW5nKSksZSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZW1wdGllZCIsdGhpcy5fb25NZWRpYUVtcHRpZWQpLHImJnNlbGYuVVJMLnJldm9rZU9iamVjdFVSTChyKSx0aGlzLm1lZGlhU3JjPT09cj8oZS5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLHRoaXMuYXBwZW5kU291cmNlJiZmcihlKSxlLmxvYWQoKSk6dGhpcy53YXJuKCJtZWRpYXxzb3VyY2Uuc3JjIHdhcyBjaGFuZ2VkIGJ5IGEgdGhpcmQgcGFydHkgLSBza2lwIGNsZWFudXAiKSksdGhpcy5tZWRpYVNvdXJjZT1udWxsLHRoaXMubWVkaWE9bnVsbCx0aGlzLl9vYmplY3RVcmw9bnVsbCx0aGlzLmJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQ9dGhpcy5fYnVmZmVyQ29kZWNFdmVudHNUb3RhbCx0aGlzLnBlbmRpbmdUcmFja3M9e30sdGhpcy50cmFja3M9e319dGhpcy5obHMudHJpZ2dlcihFLk1FRElBX0RFVEFDSEVELHZvaWQgMCl9LHQub25CdWZmZXJSZXNldD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucmVzZXRCdWZmZXIodCl9KSksdGhpcy5faW5pdFNvdXJjZUJ1ZmZlcigpLHRoaXMuaGxzLnJlc3VtZUJ1ZmZlcmluZygpfSx0LnJlc2V0QnVmZmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlQnVmZmVyW2VdO3RyeXt2YXIgcjt0JiYodGhpcy5yZW1vdmVCdWZmZXJMaXN0ZW5lcnMoZSksdGhpcy5zb3VyY2VCdWZmZXJbZV09dm9pZCAwLG51bGwhPShyPXRoaXMubWVkaWFTb3VyY2UpJiZyLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoJiZ0aGlzLm1lZGlhU291cmNlLnJlbW92ZVNvdXJjZUJ1ZmZlcih0KSl9Y2F0Y2godCl7dGhpcy53YXJuKCJvbkJ1ZmZlclJlc2V0ICIrZSx0KX19LHQub25CdWZmZXJDb2RlY3M9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpLmxlbmd0aCxhPU9iamVjdC5rZXlzKHQpO2lmKGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoaSl7dmFyIGE9ci50cmFja3NbZV07aWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuYnVmZmVyLmNoYW5nZVR5cGUpe3ZhciBuLHM9dFtlXSxvPXMuaWQsbD1zLmNvZGVjLHU9cy5sZXZlbENvZGVjLGQ9cy5jb250YWluZXIsaD1zLm1ldGFkYXRhLGY9SGUoYS5jb2RlYyxhLmxldmVsQ29kZWMpLGM9bnVsbD09Zj92b2lkIDA6Zi5yZXBsYWNlKGRyLCIkMSIpLHY9SGUobCx1KSxnPW51bGw9PShuPXYpP3ZvaWQgMDpuLnJlcGxhY2UoZHIsIiQxIik7aWYodiYmYyE9PWcpeyJhdWRpbyI9PT1lLnNsaWNlKDAsNSkmJih2PUdlKHYsci5hcHBlbmRTb3VyY2UpKTt2YXIgbT1kKyI7Y29kZWNzPSIrdjtyLmFwcGVuZENoYW5nZVR5cGUoZSxtKSxyLmxvZygic3dpdGNoaW5nIGNvZGVjICIrZisiIHRvICIrdiksci50cmFja3NbZV09e2J1ZmZlcjphLmJ1ZmZlcixjb2RlYzpsLGNvbnRhaW5lcjpkLGxldmVsQ29kZWM6dSxtZXRhZGF0YTpoLGlkOm99fX19ZWxzZSByLnBlbmRpbmdUcmFja3NbZV09dFtlXX0pKSwhaSl7dmFyIG49TWF0aC5tYXgodGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkLTEsMCk7dGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkIT09biYmKHRoaXMubG9nKG4rIiBidWZmZXJDb2RlYyBldmVudChzKSBleHBlY3RlZCAiK2Euam9pbigiLCIpKSx0aGlzLmJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQ9biksdGhpcy5tZWRpYVNvdXJjZSYmIm9wZW4iPT09dGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlJiZ0aGlzLmNoZWNrUGVuZGluZ1RyYWNrcygpfX0sdC5hcHBlbmRDaGFuZ2VUeXBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXRoaXMub3BlcmF0aW9uUXVldWUsYT17ZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciBhPXIuc291cmNlQnVmZmVyW2VdO2EmJihyLmxvZygiY2hhbmdpbmcgIitlKyIgc291cmNlQnVmZmVyIHR5cGUgdG8gIit0KSxhLmNoYW5nZVR5cGUodCkpLGkuc2hpZnRBbmRFeGVjdXRlTmV4dChlKX0sb25TdGFydDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sb25FcnJvcjpmdW5jdGlvbih0KXtyLndhcm4oIkZhaWxlZCB0byBjaGFuZ2UgIitlKyIgU291cmNlQnVmZmVyIHR5cGUiLHQpfX07aS5hcHBlbmQoYSxlLCEhdGhpcy5wZW5kaW5nVHJhY2tzW2VdKX0sdC5vbkJ1ZmZlckFwcGVuZGluZz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT10aGlzLmhscyxhPXRoaXMub3BlcmF0aW9uUXVldWUsbj10aGlzLnRyYWNrcyxzPXQuZGF0YSxvPXQudHlwZSxsPXQuZnJhZyx1PXQucGFydCxkPXQuY2h1bmtNZXRhLGg9ZC5idWZmZXJpbmdbb10sZj1zZWxmLnBlcmZvcm1hbmNlLm5vdygpO2guc3RhcnQ9Zjt2YXIgYz1sLnN0YXRzLmJ1ZmZlcmluZyx2PXU/dS5zdGF0cy5idWZmZXJpbmc6bnVsbDswPT09Yy5zdGFydCYmKGMuc3RhcnQ9ZiksdiYmMD09PXYuc3RhcnQmJih2LnN0YXJ0PWYpO3ZhciBnPW4uYXVkaW8sbT0hMTsiYXVkaW8iPT09byYmImF1ZGlvL21wZWciPT09KG51bGw9PWc/dm9pZCAwOmcuY29udGFpbmVyKSYmKG09IXRoaXMubGFzdE1wZWdBdWRpb0NodW5rfHwxPT09ZC5pZHx8dGhpcy5sYXN0TXBlZ0F1ZGlvQ2h1bmsuc24hPT1kLnNuLHRoaXMubGFzdE1wZWdBdWRpb0NodW5rPWQpO3ZhciBwPWwuc3RhcnQseT17ZXhlY3V0ZTpmdW5jdGlvbigpe2lmKGguZXhlY3V0ZVN0YXJ0PXNlbGYucGVyZm9ybWFuY2Uubm93KCksbSl7dmFyIGU9ci5zb3VyY2VCdWZmZXJbb107aWYoZSl7dmFyIHQ9cC1lLnRpbWVzdGFtcE9mZnNldDtNYXRoLmFicyh0KT49LjEmJihyLmxvZygiVXBkYXRpbmcgYXVkaW8gU291cmNlQnVmZmVyIHRpbWVzdGFtcE9mZnNldCB0byAiK3ArIiAoZGVsdGE6ICIrdCsiKSBzbjogIitsLnNuKyIpIiksZS50aW1lc3RhbXBPZmZzZXQ9cCl9fXIuYXBwZW5kRXhlY3V0b3IocyxvKX0sb25TdGFydDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe3ZhciBlPXNlbGYucGVyZm9ybWFuY2Uubm93KCk7aC5leGVjdXRlRW5kPWguZW5kPWUsMD09PWMuZmlyc3QmJihjLmZpcnN0PWUpLHYmJjA9PT12LmZpcnN0JiYodi5maXJzdD1lKTt2YXIgdD1yLnNvdXJjZUJ1ZmZlcixpPXt9O2Zvcih2YXIgYSBpbiB0KWlbYV09bHIuZ2V0QnVmZmVyZWQodFthXSk7ci5hcHBlbmRFcnJvcnNbb109MCwiYXVkaW8iPT09b3x8InZpZGVvIj09PW8/ci5hcHBlbmRFcnJvcnMuYXVkaW92aWRlbz0wOihyLmFwcGVuZEVycm9ycy5hdWRpbz0wLHIuYXBwZW5kRXJyb3JzLnZpZGVvPTApLHIuaGxzLnRyaWdnZXIoRS5CVUZGRVJfQVBQRU5ERUQse3R5cGU6byxmcmFnOmwscGFydDp1LGNodW5rTWV0YTpkLHBhcmVudDpsLnR5cGUsdGltZVJhbmdlczppfSl9LG9uRXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9e3R5cGU6VC5NRURJQV9FUlJPUixwYXJlbnQ6bC50eXBlLGRldGFpbHM6Uy5CVUZGRVJfQVBQRU5EX0VSUk9SLHNvdXJjZUJ1ZmZlck5hbWU6byxmcmFnOmwscGFydDp1LGNodW5rTWV0YTpkLGVycm9yOmUsZXJyOmUsZmF0YWw6ITF9O2lmKGUuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlIpdC5kZXRhaWxzPVMuQlVGRkVSX0ZVTExfRVJST1I7ZWxzZXt2YXIgYT0rK3IuYXBwZW5kRXJyb3JzW29dO3QuZGV0YWlscz1TLkJVRkZFUl9BUFBFTkRfRVJST1Isci53YXJuKCJGYWlsZWQgIithKyIvIitpLmNvbmZpZy5hcHBlbmRFcnJvck1heFJldHJ5KycgdGltZXMgdG8gYXBwZW5kIHNlZ21lbnQgaW4gIicrbysnIiBzb3VyY2VCdWZmZXInKSxhPj1pLmNvbmZpZy5hcHBlbmRFcnJvck1heFJldHJ5JiYodC5mYXRhbD0hMCl9aS50cmlnZ2VyKEUuRVJST1IsdCl9fTthLmFwcGVuZCh5LG8sISF0aGlzLnBlbmRpbmdUcmFja3Nbb10pfSx0Lm9uQnVmZmVyRmx1c2hpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5vcGVyYXRpb25RdWV1ZSxhPWZ1bmN0aW9uKGUpe3JldHVybntleGVjdXRlOnIucmVtb3ZlRXhlY3V0b3IuYmluZChyLGUsdC5zdGFydE9mZnNldCx0LmVuZE9mZnNldCksb25TdGFydDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe3IuaGxzLnRyaWdnZXIoRS5CVUZGRVJfRkxVU0hFRCx7dHlwZTplfSl9LG9uRXJyb3I6ZnVuY3Rpb24odCl7ci53YXJuKCJGYWlsZWQgdG8gcmVtb3ZlIGZyb20gIitlKyIgU291cmNlQnVmZmVyIix0KX19fTt0LnR5cGU/aS5hcHBlbmQoYSh0LnR5cGUpLHQudHlwZSk6dGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuYXBwZW5kKGEoZSksZSl9KSl9LHQub25GcmFnUGFyc2VkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXQuZnJhZyxhPXQucGFydCxuPVtdLHM9YT9hLmVsZW1lbnRhcnlTdHJlYW1zOmkuZWxlbWVudGFyeVN0cmVhbXM7c1tNXT9uLnB1c2goImF1ZGlvdmlkZW8iKTooc1tGXSYmbi5wdXNoKCJhdWRpbyIpLHNbT10mJm4ucHVzaCgidmlkZW8iKSksMD09PW4ubGVuZ3RoJiZ0aGlzLndhcm4oIkZyYWdtZW50cyBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIEVsZW1lbnRhcnlTdHJlYW1UeXBlIHNldC4gdHlwZTogIitpLnR5cGUrIiBsZXZlbDogIitpLmxldmVsKyIgc246ICIraS5zbiksdGhpcy5ibG9ja0J1ZmZlcnMoKGZ1bmN0aW9uKCl7dmFyIGU9c2VsZi5wZXJmb3JtYW5jZS5ub3coKTtpLnN0YXRzLmJ1ZmZlcmluZy5lbmQ9ZSxhJiYoYS5zdGF0cy5idWZmZXJpbmcuZW5kPWUpO3ZhciB0PWE/YS5zdGF0czppLnN0YXRzO3IuaGxzLnRyaWdnZXIoRS5GUkFHX0JVRkZFUkVELHtmcmFnOmkscGFydDphLHN0YXRzOnQsaWQ6aS50eXBlfSl9KSxuKX0sdC5vbkZyYWdDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7dGhpcy50cmltQnVmZmVycygpfSx0Lm9uQnVmZmVyRW9zPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkucmVkdWNlKChmdW5jdGlvbihlLGkpe3ZhciBhPXIuc291cmNlQnVmZmVyW2ldO3JldHVybiFhfHx0LnR5cGUmJnQudHlwZSE9PWl8fChhLmVuZGluZz0hMCxhLmVuZGVkfHwoYS5lbmRlZD0hMCxyLmxvZyhpKyIgc291cmNlQnVmZmVyIG5vdyBFT1MiKSkpLGUmJiEoYSYmIWEuZW5kZWQpfSksITApJiYodGhpcy5sb2coIlF1ZXVlaW5nIG1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCkiKSx0aGlzLmJsb2NrQnVmZmVycygoZnVuY3Rpb24oKXtyLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ci5zb3VyY2VCdWZmZXJbZV07dCYmKHQuZW5kaW5nPSExKX0pKTt2YXIgZT1yLm1lZGlhU291cmNlO2UmJiJvcGVuIj09PWUucmVhZHlTdGF0ZT8oci5sb2coIkNhbGxpbmcgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKSIpLGUuZW5kT2ZTdHJlYW0oKSk6ZSYmci5sb2coIkNvdWxkIG5vdCBjYWxsIG1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCkuIG1lZGlhU291cmNlLnJlYWR5U3RhdGU6ICIrZS5yZWFkeVN0YXRlKX0pKSl9LHQub25MZXZlbFVwZGF0ZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmRldGFpbHM7ci5mcmFnbWVudHMubGVuZ3RoJiYodGhpcy5kZXRhaWxzPXIsdGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpLmxlbmd0aD90aGlzLmJsb2NrQnVmZmVycyh0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uLmJpbmQodGhpcykpOnRoaXMudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24oKSl9LHQudHJpbUJ1ZmZlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscyx0PXRoaXMuZGV0YWlscyxyPXRoaXMubWVkaWE7aWYociYmbnVsbCE9PXQmJnRoaXMuZ2V0U291cmNlQnVmZmVyVHlwZXMoKS5sZW5ndGgpe3ZhciBpPWUuY29uZmlnLGE9ci5jdXJyZW50VGltZSxuPXQubGV2ZWxUYXJnZXREdXJhdGlvbixzPXQubGl2ZSYmbnVsbCE9PWkubGl2ZUJhY2tCdWZmZXJMZW5ndGg/aS5saXZlQmFja0J1ZmZlckxlbmd0aDppLmJhY2tCdWZmZXJMZW5ndGg7aWYobShzKSYmcz4wKXt2YXIgbz1NYXRoLm1heChzLG4pLGw9TWF0aC5mbG9vcihhL24pKm4tbzt0aGlzLmZsdXNoQmFja0J1ZmZlcihhLG4sbCl9aWYobShpLmZyb250QnVmZmVyRmx1c2hUaHJlc2hvbGQpJiZpLmZyb250QnVmZmVyRmx1c2hUaHJlc2hvbGQ+MCl7dmFyIHU9TWF0aC5tYXgoaS5tYXhCdWZmZXJMZW5ndGgsaS5mcm9udEJ1ZmZlckZsdXNoVGhyZXNob2xkKSxkPU1hdGgubWF4KHUsbiksaD1NYXRoLmZsb29yKGEvbikqbitkO3RoaXMuZmx1c2hGcm9udEJ1ZmZlcihhLG4saCl9fX0sdC5mbHVzaEJhY2tCdWZmZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMsYT10aGlzLmRldGFpbHMsbj10aGlzLnNvdXJjZUJ1ZmZlcjt0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkuZm9yRWFjaCgoZnVuY3Rpb24ocyl7dmFyIG89bltzXTtpZihvKXt2YXIgbD1sci5nZXRCdWZmZXJlZChvKTtpZihsLmxlbmd0aD4wJiZyPmwuc3RhcnQoMCkpe2lmKGkuaGxzLnRyaWdnZXIoRS5CQUNLX0JVRkZFUl9SRUFDSEVELHtidWZmZXJFbmQ6cn0pLG51bGwhPWEmJmEubGl2ZSlpLmhscy50cmlnZ2VyKEUuTElWRV9CQUNLX0JVRkZFUl9SRUFDSEVELHtidWZmZXJFbmQ6cn0pO2Vsc2UgaWYoby5lbmRlZCYmbC5lbmQobC5sZW5ndGgtMSktZTwyKnQpcmV0dXJuIHZvaWQgaS5sb2coIkNhbm5vdCBmbHVzaCAiK3MrIiBiYWNrIGJ1ZmZlciB3aGlsZSBTb3VyY2VCdWZmZXIgaXMgaW4gZW5kZWQgc3RhdGUiKTtpLmhscy50cmlnZ2VyKEUuQlVGRkVSX0ZMVVNISU5HLHtzdGFydE9mZnNldDowLGVuZE9mZnNldDpyLHR5cGU6c30pfX19KSl9LHQuZmx1c2hGcm9udEJ1ZmZlcj1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxhPXRoaXMuc291cmNlQnVmZmVyO3RoaXMuZ2V0U291cmNlQnVmZmVyVHlwZXMoKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcz1hW25dO2lmKHMpe3ZhciBvPWxyLmdldEJ1ZmZlcmVkKHMpLGw9by5sZW5ndGg7aWYobDwyKXJldHVybjt2YXIgdT1vLnN0YXJ0KGwtMSksZD1vLmVuZChsLTEpO2lmKHI+dXx8ZT49dSYmZTw9ZClyZXR1cm47aWYocy5lbmRlZCYmZS1kPDIqdClyZXR1cm4gdm9pZCBpLmxvZygiQ2Fubm90IGZsdXNoICIrbisiIGZyb250IGJ1ZmZlciB3aGlsZSBTb3VyY2VCdWZmZXIgaXMgaW4gZW5kZWQgc3RhdGUiKTtpLmhscy50cmlnZ2VyKEUuQlVGRkVSX0ZMVVNISU5HLHtzdGFydE9mZnNldDp1LGVuZE9mZnNldDoxLzAsdHlwZTpufSl9fSkpfSx0LnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5kZXRhaWxzJiZ0aGlzLm1lZGlhJiZ0aGlzLm1lZGlhU291cmNlJiYib3BlbiI9PT10aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUpe3ZhciBlPXRoaXMuZGV0YWlscyx0PXRoaXMuaGxzLHI9dGhpcy5tZWRpYSxpPXRoaXMubWVkaWFTb3VyY2UsYT1lLmZyYWdtZW50c1swXS5zdGFydCtlLnRvdGFsZHVyYXRpb24sbj1yLmR1cmF0aW9uLHM9bShpLmR1cmF0aW9uKT9pLmR1cmF0aW9uOjA7ZS5saXZlJiZ0LmNvbmZpZy5saXZlRHVyYXRpb25JbmZpbml0eT8oaS5kdXJhdGlvbj0xLzAsdGhpcy51cGRhdGVTZWVrYWJsZVJhbmdlKGUpKTooYT5zJiZhPm58fCFtKG4pKSYmKHRoaXMubG9nKCJVcGRhdGluZyBNZWRpYSBTb3VyY2UgZHVyYXRpb24gdG8gIithLnRvRml4ZWQoMykpLGkuZHVyYXRpb249YSl9fSx0LnVwZGF0ZVNlZWthYmxlUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tZWRpYVNvdXJjZSxyPWUuZnJhZ21lbnRzO2lmKHIubGVuZ3RoJiZlLmxpdmUmJm51bGwhPXQmJnQuc2V0TGl2ZVNlZWthYmxlUmFuZ2Upe3ZhciBpPU1hdGgubWF4KDAsclswXS5zdGFydCksYT1NYXRoLm1heChpLGkrZS50b3RhbGR1cmF0aW9uKTt0aGlzLmxvZygiTWVkaWEgU291cmNlIGR1cmF0aW9uIGlzIHNldCB0byAiK3QuZHVyYXRpb24rIi4gU2V0dGluZyBzZWVrYWJsZSByYW5nZSB0byAiK2krIi0iK2ErIi4iKSx0LnNldExpdmVTZWVrYWJsZVJhbmdlKGksYSl9fSx0LmNoZWNrUGVuZGluZ1RyYWNrcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCx0PXRoaXMub3BlcmF0aW9uUXVldWUscj10aGlzLnBlbmRpbmdUcmFja3MsaT1PYmplY3Qua2V5cyhyKS5sZW5ndGg7aWYoaSYmKCFlfHwyPT09aXx8ImF1ZGlvdmlkZW8iaW4gcikpe3RoaXMuY3JlYXRlU291cmNlQnVmZmVycyhyKSx0aGlzLnBlbmRpbmdUcmFja3M9e307dmFyIGE9dGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpO2lmKGEubGVuZ3RoKXRoaXMuaGxzLnRyaWdnZXIoRS5CVUZGRVJfQ1JFQVRFRCx7dHJhY2tzOnRoaXMudHJhY2tzfSksYS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmV4ZWN1dGVOZXh0KGUpfSkpO2Vsc2V7dmFyIG49bmV3IEVycm9yKCJjb3VsZCBub3QgY3JlYXRlIHNvdXJjZSBidWZmZXIgZm9yIG1lZGlhIGNvZGVjKHMpIik7dGhpcy5obHMudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkJVRkZFUl9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SLGZhdGFsOiEwLGVycm9yOm4scmVhc29uOm4ubWVzc2FnZX0pfX19LHQuY3JlYXRlU291cmNlQnVmZmVycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5zb3VyY2VCdWZmZXIsaT10aGlzLm1lZGlhU291cmNlO2lmKCFpKXRocm93IEVycm9yKCJjcmVhdGVTb3VyY2VCdWZmZXJzIGNhbGxlZCB3aGVuIG1lZGlhU291cmNlIHdhcyBudWxsIik7dmFyIGE9ZnVuY3Rpb24oYSl7aWYoIXJbYV0pe3ZhciBuLHM9ZVthXTtpZighcyl0aHJvdyBFcnJvcigic291cmNlIGJ1ZmZlciBleGlzdHMgZm9yIHRyYWNrICIrYSsiLCBob3dldmVyIHRyYWNrIGRvZXMgbm90Iik7dmFyIG89LTE9PT0obnVsbD09KG49cy5sZXZlbENvZGVjKT92b2lkIDA6bi5pbmRleE9mKCIsIikpP3MubGV2ZWxDb2RlYzpzLmNvZGVjO28mJiJhdWRpbyI9PT1hLnNsaWNlKDAsNSkmJihvPUdlKG8sdC5hcHBlbmRTb3VyY2UpKTt2YXIgbD1zLmNvbnRhaW5lcisiO2NvZGVjcz0iK287dC5sb2coImNyZWF0aW5nIHNvdXJjZUJ1ZmZlcigiK2wrIikiKTt0cnl7dmFyIHU9clthXT1pLmFkZFNvdXJjZUJ1ZmZlcihsKSxkPWE7dC5hZGRCdWZmZXJMaXN0ZW5lcihkLCJ1cGRhdGVzdGFydCIsdC5fb25TQlVwZGF0ZVN0YXJ0KSx0LmFkZEJ1ZmZlckxpc3RlbmVyKGQsInVwZGF0ZWVuZCIsdC5fb25TQlVwZGF0ZUVuZCksdC5hZGRCdWZmZXJMaXN0ZW5lcihkLCJlcnJvciIsdC5fb25TQlVwZGF0ZUVycm9yKSx0LmFwcGVuZFNvdXJjZSYmdC5hZGRCdWZmZXJMaXN0ZW5lcihkLCJidWZmZXJlZGNoYW5nZSIsKGZ1bmN0aW9uKGUscil7dmFyIGk9ci5yZW1vdmVkUmFuZ2VzO251bGwhPWkmJmkubGVuZ3RoJiZ0Lmhscy50cmlnZ2VyKEUuQlVGRkVSX0ZMVVNIRUQse3R5cGU6YX0pfSkpLHQudHJhY2tzW2FdPXtidWZmZXI6dSxjb2RlYzpvLGNvbnRhaW5lcjpzLmNvbnRhaW5lcixsZXZlbENvZGVjOnMubGV2ZWxDb2RlYyxtZXRhZGF0YTpzLm1ldGFkYXRhLGlkOnMuaWR9fWNhdGNoKGUpe3QuZXJyb3IoImVycm9yIHdoaWxlIHRyeWluZyB0byBhZGQgc291cmNlQnVmZmVyOiAiK2UubWVzc2FnZSksdC5obHMudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkJVRkZFUl9BRERfQ09ERUNfRVJST1IsZmF0YWw6ITEsZXJyb3I6ZSxzb3VyY2VCdWZmZXJOYW1lOmEsbWltZVR5cGU6bH0pfX19O2Zvcih2YXIgbiBpbiBlKWEobil9LHQuX29uU0JVcGRhdGVTdGFydD1mdW5jdGlvbihlKXt0aGlzLm9wZXJhdGlvblF1ZXVlLmN1cnJlbnQoZSkub25TdGFydCgpfSx0Ll9vblNCVXBkYXRlRW5kPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCJjbG9zZWQiIT09KG51bGw9PSh0PXRoaXMubWVkaWFTb3VyY2UpP3ZvaWQgMDp0LnJlYWR5U3RhdGUpKXt2YXIgcj10aGlzLm9wZXJhdGlvblF1ZXVlO3IuY3VycmVudChlKS5vbkNvbXBsZXRlKCksci5zaGlmdEFuZEV4ZWN1dGVOZXh0KGUpfWVsc2UgdGhpcy5yZXNldEJ1ZmZlcihlKX0sdC5fb25TQlVwZGF0ZUVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaT1uZXcgRXJyb3IoZSsiIFNvdXJjZUJ1ZmZlciBlcnJvci4gTWVkaWFTb3VyY2UgcmVhZHlTdGF0ZTogIisobnVsbD09KHI9dGhpcy5tZWRpYVNvdXJjZSk/dm9pZCAwOnIucmVhZHlTdGF0ZSkpO3RoaXMuZXJyb3IoIiIraSx0KSx0aGlzLmhscy50cmlnZ2VyKEUuRVJST1Ise3R5cGU6VC5NRURJQV9FUlJPUixkZXRhaWxzOlMuQlVGRkVSX0FQUEVORElOR19FUlJPUixzb3VyY2VCdWZmZXJOYW1lOmUsZXJyb3I6aSxmYXRhbDohMX0pO3ZhciBhPXRoaXMub3BlcmF0aW9uUXVldWUuY3VycmVudChlKTthJiZhLm9uRXJyb3IoaSl9LHQucmVtb3ZlRXhlY3V0b3I9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMubWVkaWEsYT10aGlzLm1lZGlhU291cmNlLG49dGhpcy5vcGVyYXRpb25RdWV1ZSxzPXRoaXMuc291cmNlQnVmZmVyW2VdO2lmKCFpfHwhYXx8IXMpcmV0dXJuIHRoaXMud2FybigiQXR0ZW1wdGluZyB0byByZW1vdmUgZnJvbSB0aGUgIitlKyIgU291cmNlQnVmZmVyLCBidXQgaXQgZG9lcyBub3QgZXhpc3QiKSx2b2lkIG4uc2hpZnRBbmRFeGVjdXRlTmV4dChlKTt2YXIgbz1tKGkuZHVyYXRpb24pP2kuZHVyYXRpb246MS8wLGw9bShhLmR1cmF0aW9uKT9hLmR1cmF0aW9uOjEvMCx1PU1hdGgubWF4KDAsdCksZD1NYXRoLm1pbihyLG8sbCk7ZD51JiYoIXMuZW5kaW5nfHxzLmVuZGVkKT8ocy5lbmRlZD0hMSx0aGlzLmxvZygiUmVtb3ZpbmcgWyIrdSsiLCIrZCsiXSBmcm9tIHRoZSAiK2UrIiBTb3VyY2VCdWZmZXIiKSxzLnJlbW92ZSh1LGQpKTpuLnNoaWZ0QW5kRXhlY3V0ZU5leHQoZSl9LHQuYXBwZW5kRXhlY3V0b3I9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnNvdXJjZUJ1ZmZlclt0XTtpZihyKXIuZW5kZWQ9ITEsci5hcHBlbmRCdWZmZXIoZSk7ZWxzZSBpZighdGhpcy5wZW5kaW5nVHJhY2tzW3RdKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGluZyB0byBhcHBlbmQgdG8gdGhlICIrdCsiIFNvdXJjZUJ1ZmZlciwgYnV0IGl0IGRvZXMgbm90IGV4aXN0Iil9LHQuYmxvY2tCdWZmZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih2b2lkIDA9PT10JiYodD10aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkpLCF0Lmxlbmd0aClyZXR1cm4gdGhpcy5sb2coIkJsb2NraW5nIG9wZXJhdGlvbiByZXF1ZXN0ZWQsIGJ1dCBubyBTb3VyY2VCdWZmZXJzIGV4aXN0Iiksdm9pZCBQcm9taXNlLnJlc29sdmUoKS50aGVuKGUpO3ZhciBpPXRoaXMub3BlcmF0aW9uUXVldWUsYT10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkuYXBwZW5kQmxvY2tlcihlKX0pKTtQcm9taXNlLmFsbChhKS50aGVuKChmdW5jdGlvbigpe2UoKSx0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXIuc291cmNlQnVmZmVyW2VdO251bGwhPXQmJnQudXBkYXRpbmd8fGkuc2hpZnRBbmRFeGVjdXRlTmV4dChlKX0pKX0pKX0sdC5nZXRTb3VyY2VCdWZmZXJUeXBlcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnNvdXJjZUJ1ZmZlcil9LHQuYWRkQnVmZmVyTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuc291cmNlQnVmZmVyW2VdO2lmKGkpe3ZhciBhPXIuYmluZCh0aGlzLGUpO3RoaXMubGlzdGVuZXJzW2VdLnB1c2goe2V2ZW50OnQsbGlzdGVuZXI6YX0pLGkuYWRkRXZlbnRMaXN0ZW5lcih0LGEpfX0sdC5yZW1vdmVCdWZmZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zb3VyY2VCdWZmZXJbZV07dCYmdGhpcy5saXN0ZW5lcnNbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5yZW1vdmVFdmVudExpc3RlbmVyKGUuZXZlbnQsZS5saXN0ZW5lcil9KSl9LHMoZSxbe2tleToibWVkaWFTcmMiLGdldDpmdW5jdGlvbigpe3ZhciBlLHQscj0obnVsbD09KGU9dGhpcy5tZWRpYSl8fG51bGw9PSh0PWUucXVlcnlTZWxlY3Rvcik/dm9pZCAwOnQuY2FsbChlLCJzb3VyY2UiKSl8fHRoaXMubWVkaWE7cmV0dXJuIG51bGw9PXI/dm9pZCAwOnIuc3JjfX1dKSxlfSgpO2Z1bmN0aW9uIGZyKGUpe3ZhciB0PWUucXVlcnlTZWxlY3RvckFsbCgic291cmNlIik7W10uc2xpY2UuY2FsbCh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnJlbW92ZUNoaWxkKHQpfSkpfXZhciBjcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5obHM9dm9pZCAwLHRoaXMuYXV0b0xldmVsQ2FwcGluZz12b2lkIDAsdGhpcy5maXJzdExldmVsPXZvaWQgMCx0aGlzLm1lZGlhPXZvaWQgMCx0aGlzLnJlc3RyaWN0ZWRMZXZlbHM9dm9pZCAwLHRoaXMudGltZXI9dm9pZCAwLHRoaXMuY2xpZW50UmVjdD12b2lkIDAsdGhpcy5zdHJlYW1Db250cm9sbGVyPXZvaWQgMCx0aGlzLmhscz1lLHRoaXMuYXV0b0xldmVsQ2FwcGluZz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksdGhpcy5maXJzdExldmVsPS0xLHRoaXMubWVkaWE9bnVsbCx0aGlzLnJlc3RyaWN0ZWRMZXZlbHM9W10sdGhpcy50aW1lcj12b2lkIDAsdGhpcy5jbGllbnRSZWN0PW51bGwsdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnNldFN0cmVhbUNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dGhpcy5zdHJlYW1Db250cm9sbGVyPWV9LHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaGxzJiZ0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcigpLHRoaXMudGltZXImJnRoaXMuc3RvcENhcHBpbmcoKSx0aGlzLm1lZGlhPW51bGwsdGhpcy5jbGllbnRSZWN0PW51bGwsdGhpcy5obHM9dGhpcy5zdHJlYW1Db250cm9sbGVyPW51bGx9LHQucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9uKEUuRlBTX0RST1BfTEVWRUxfQ0FQUElORyx0aGlzLm9uRnBzRHJvcExldmVsQ2FwcGluZyx0aGlzKSxlLm9uKEUuTUVESUFfQVRUQUNISU5HLHRoaXMub25NZWRpYUF0dGFjaGluZyx0aGlzKSxlLm9uKEUuTUFOSUZFU1RfUEFSU0VELHRoaXMub25NYW5pZmVzdFBhcnNlZCx0aGlzKSxlLm9uKEUuTEVWRUxTX1VQREFURUQsdGhpcy5vbkxldmVsc1VwZGF0ZWQsdGhpcyksZS5vbihFLkJVRkZFUl9DT0RFQ1MsdGhpcy5vbkJ1ZmZlckNvZGVjcyx0aGlzKSxlLm9uKEUuTUVESUFfREVUQUNISU5HLHRoaXMub25NZWRpYURldGFjaGluZyx0aGlzKX0sdC51bnJlZ2lzdGVyTGlzdGVuZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9mZihFLkZQU19EUk9QX0xFVkVMX0NBUFBJTkcsdGhpcy5vbkZwc0Ryb3BMZXZlbENhcHBpbmcsdGhpcyksZS5vZmYoRS5NRURJQV9BVFRBQ0hJTkcsdGhpcy5vbk1lZGlhQXR0YWNoaW5nLHRoaXMpLGUub2ZmKEUuTUFOSUZFU1RfUEFSU0VELHRoaXMub25NYW5pZmVzdFBhcnNlZCx0aGlzKSxlLm9mZihFLkxFVkVMU19VUERBVEVELHRoaXMub25MZXZlbHNVcGRhdGVkLHRoaXMpLGUub2ZmKEUuQlVGRkVSX0NPREVDUyx0aGlzLm9uQnVmZmVyQ29kZWNzLHRoaXMpLGUub2ZmKEUuTUVESUFfREVUQUNISU5HLHRoaXMub25NZWRpYURldGFjaGluZyx0aGlzKX0sdC5vbkZwc0Ryb3BMZXZlbENhcHBpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmhscy5sZXZlbHNbdC5kcm9wcGVkTGV2ZWxdO3RoaXMuaXNMZXZlbEFsbG93ZWQocikmJnRoaXMucmVzdHJpY3RlZExldmVscy5wdXNoKHtiaXRyYXRlOnIuYml0cmF0ZSxoZWlnaHQ6ci5oZWlnaHQsd2lkdGg6ci53aWR0aH0pfSx0Lm9uTWVkaWFBdHRhY2hpbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLm1lZGlhPXQubWVkaWEgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3QubWVkaWE6bnVsbCx0aGlzLmNsaWVudFJlY3Q9bnVsbCx0aGlzLnRpbWVyJiZ0aGlzLmhscy5sZXZlbHMubGVuZ3RoJiZ0aGlzLmRldGVjdFBsYXllclNpemUoKX0sdC5vbk1hbmlmZXN0UGFyc2VkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5obHM7dGhpcy5yZXN0cmljdGVkTGV2ZWxzPVtdLHRoaXMuZmlyc3RMZXZlbD10LmZpcnN0TGV2ZWwsci5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUmJnQudmlkZW8mJnRoaXMuc3RhcnRDYXBwaW5nKCl9LHQub25MZXZlbHNVcGRhdGVkPWZ1bmN0aW9uKGUsdCl7dGhpcy50aW1lciYmbSh0aGlzLmF1dG9MZXZlbENhcHBpbmcpJiZ0aGlzLmRldGVjdFBsYXllclNpemUoKX0sdC5vbkJ1ZmZlckNvZGVjcz1mdW5jdGlvbihlLHQpe3RoaXMuaGxzLmNvbmZpZy5jYXBMZXZlbFRvUGxheWVyU2l6ZSYmdC52aWRlbyYmdGhpcy5zdGFydENhcHBpbmcoKX0sdC5vbk1lZGlhRGV0YWNoaW5nPWZ1bmN0aW9uKCl7dGhpcy5zdG9wQ2FwcGluZygpfSx0LmRldGVjdFBsYXllclNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLm1lZGlhKXtpZih0aGlzLm1lZGlhSGVpZ2h0PD0wfHx0aGlzLm1lZGlhV2lkdGg8PTApcmV0dXJuIHZvaWQodGhpcy5jbGllbnRSZWN0PW51bGwpO3ZhciBlPXRoaXMuaGxzLmxldmVscztpZihlLmxlbmd0aCl7dmFyIHQ9dGhpcy5obHMscj10aGlzLmdldE1heExldmVsKGUubGVuZ3RoLTEpO3IhPT10aGlzLmF1dG9MZXZlbENhcHBpbmcmJkQubG9nKCJTZXR0aW5nIGF1dG9MZXZlbENhcHBpbmcgdG8gIityKyI6ICIrZVtyXS5oZWlnaHQrInBAIitlW3JdLmJpdHJhdGUrIiBmb3IgbWVkaWEgIit0aGlzLm1lZGlhV2lkdGgrIngiK3RoaXMubWVkaWFIZWlnaHQpLHQuYXV0b0xldmVsQ2FwcGluZz1yLHQuYXV0b0xldmVsQ2FwcGluZz50aGlzLmF1dG9MZXZlbENhcHBpbmcmJnRoaXMuc3RyZWFtQ29udHJvbGxlciYmdGhpcy5zdHJlYW1Db250cm9sbGVyLm5leHRMZXZlbFN3aXRjaCgpLHRoaXMuYXV0b0xldmVsQ2FwcGluZz10LmF1dG9MZXZlbENhcHBpbmd9fX0sdC5nZXRNYXhMZXZlbD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9dGhpcy5obHMubGV2ZWxzO2lmKCFpLmxlbmd0aClyZXR1cm4tMTt2YXIgYT1pLmZpbHRlcigoZnVuY3Rpb24oZSxpKXtyZXR1cm4gci5pc0xldmVsQWxsb3dlZChlKSYmaTw9dH0pKTtyZXR1cm4gdGhpcy5jbGllbnRSZWN0PW51bGwsZS5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplKGEsdGhpcy5tZWRpYVdpZHRoLHRoaXMubWVkaWFIZWlnaHQpfSx0LnN0YXJ0Q2FwcGluZz1mdW5jdGlvbigpe3RoaXMudGltZXJ8fCh0aGlzLmF1dG9MZXZlbENhcHBpbmc9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHNlbGYuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXNlbGYuc2V0SW50ZXJ2YWwodGhpcy5kZXRlY3RQbGF5ZXJTaXplLmJpbmQodGhpcyksMWUzKSx0aGlzLmRldGVjdFBsYXllclNpemUoKSl9LHQuc3RvcENhcHBpbmc9ZnVuY3Rpb24oKXt0aGlzLnJlc3RyaWN0ZWRMZXZlbHM9W10sdGhpcy5maXJzdExldmVsPS0xLHRoaXMuYXV0b0xldmVsQ2FwcGluZz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksdGhpcy50aW1lciYmKHNlbGYuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXZvaWQgMCl9LHQuZ2V0RGltZW5zaW9ucz1mdW5jdGlvbigpe2lmKHRoaXMuY2xpZW50UmVjdClyZXR1cm4gdGhpcy5jbGllbnRSZWN0O3ZhciBlPXRoaXMubWVkaWEsdD17d2lkdGg6MCxoZWlnaHQ6MH07aWYoZSl7dmFyIHI9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0LndpZHRoPXIud2lkdGgsdC5oZWlnaHQ9ci5oZWlnaHQsdC53aWR0aHx8dC5oZWlnaHR8fCh0LndpZHRoPXIucmlnaHQtci5sZWZ0fHxlLndpZHRofHwwLHQuaGVpZ2h0PXIuYm90dG9tLXIudG9wfHxlLmhlaWdodHx8MCl9cmV0dXJuIHRoaXMuY2xpZW50UmVjdD10LHR9LHQuaXNMZXZlbEFsbG93ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMucmVzdHJpY3RlZExldmVscy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS5iaXRyYXRlPT09dC5iaXRyYXRlJiZlLndpZHRoPT09dC53aWR0aCYmZS5oZWlnaHQ9PT10LmhlaWdodH0pKX0sZS5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplPWZ1bmN0aW9uKGUsdCxyKXtpZihudWxsPT1lfHwhZS5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciBpLGEsbj1lLmxlbmd0aC0xLHM9TWF0aC5tYXgodCxyKSxvPTA7bzxlLmxlbmd0aDtvKz0xKXt2YXIgbD1lW29dO2lmKChsLndpZHRoPj1zfHxsLmhlaWdodD49cykmJihpPWwsIShhPWVbbysxXSl8fGkud2lkdGghPT1hLndpZHRofHxpLmhlaWdodCE9PWEuaGVpZ2h0KSl7bj1vO2JyZWFrfX1yZXR1cm4gbn0scyhlLFt7a2V5OiJtZWRpYVdpZHRoIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREaW1lbnNpb25zKCkud2lkdGgqdGhpcy5jb250ZW50U2NhbGVGYWN0b3J9fSx7a2V5OiJtZWRpYUhlaWdodCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGltZW5zaW9ucygpLmhlaWdodCp0aGlzLmNvbnRlbnRTY2FsZUZhY3Rvcn19LHtrZXk6ImNvbnRlbnRTY2FsZUZhY3RvciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9MTtpZighdGhpcy5obHMuY29uZmlnLmlnbm9yZURldmljZVBpeGVsUmF0aW8pdHJ5e2U9c2VsZi5kZXZpY2VQaXhlbFJhdGlvfWNhdGNoKGUpe31yZXR1cm4gZX19XSksZX0oKSx2cj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5obHM9dm9pZCAwLHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZT0hMSx0aGlzLnRpbWVyPXZvaWQgMCx0aGlzLm1lZGlhPW51bGwsdGhpcy5sYXN0VGltZT12b2lkIDAsdGhpcy5sYXN0RHJvcHBlZEZyYW1lcz0wLHRoaXMubGFzdERlY29kZWRGcmFtZXM9MCx0aGlzLnN0cmVhbUNvbnRyb2xsZXI9dm9pZCAwLHRoaXMuaGxzPWUsdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnNldFN0cmVhbUNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dGhpcy5zdHJlYW1Db250cm9sbGVyPWV9LHQucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt0aGlzLmhscy5vbihFLk1FRElBX0FUVEFDSElORyx0aGlzLm9uTWVkaWFBdHRhY2hpbmcsdGhpcyl9LHQudW5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuaGxzLm9mZihFLk1FRElBX0FUVEFDSElORyx0aGlzLm9uTWVkaWFBdHRhY2hpbmcsdGhpcyl9LHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudGltZXImJmNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzKCksdGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlPSExLHRoaXMubWVkaWE9bnVsbH0sdC5vbk1lZGlhQXR0YWNoaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5obHMuY29uZmlnO2lmKHIuY2FwTGV2ZWxPbkZQU0Ryb3Ape3ZhciBpPXQubWVkaWEgaW5zdGFuY2VvZiBzZWxmLkhUTUxWaWRlb0VsZW1lbnQ/dC5tZWRpYTpudWxsO3RoaXMubWVkaWE9aSxpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSYmKHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZT0hMCksc2VsZi5jbGVhckludGVydmFsKHRoaXMudGltZXIpLHRoaXMudGltZXI9c2VsZi5zZXRJbnRlcnZhbCh0aGlzLmNoZWNrRlBTSW50ZXJ2YWwuYmluZCh0aGlzKSxyLmZwc0Ryb3BwZWRNb25pdG9yaW5nUGVyaW9kKX19LHQuY2hlY2tGUFM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXBlcmZvcm1hbmNlLm5vdygpO2lmKHQpe2lmKHRoaXMubGFzdFRpbWUpe3ZhciBhPWktdGhpcy5sYXN0VGltZSxuPXItdGhpcy5sYXN0RHJvcHBlZEZyYW1lcyxzPXQtdGhpcy5sYXN0RGVjb2RlZEZyYW1lcyxvPTFlMypuL2EsbD10aGlzLmhscztpZihsLnRyaWdnZXIoRS5GUFNfRFJPUCx7Y3VycmVudERyb3BwZWQ6bixjdXJyZW50RGVjb2RlZDpzLHRvdGFsRHJvcHBlZEZyYW1lczpyfSksbz4wJiZuPmwuY29uZmlnLmZwc0Ryb3BwZWRNb25pdG9yaW5nVGhyZXNob2xkKnMpe3ZhciB1PWwuY3VycmVudExldmVsO0Qud2FybigiZHJvcCBGUFMgcmF0aW8gZ3JlYXRlciB0aGFuIG1heCBhbGxvd2VkIHZhbHVlIGZvciBjdXJyZW50TGV2ZWw6ICIrdSksdT4wJiYoLTE9PT1sLmF1dG9MZXZlbENhcHBpbmd8fGwuYXV0b0xldmVsQ2FwcGluZz49dSkmJih1LT0xLGwudHJpZ2dlcihFLkZQU19EUk9QX0xFVkVMX0NBUFBJTkcse2xldmVsOnUsZHJvcHBlZExldmVsOmwuY3VycmVudExldmVsfSksbC5hdXRvTGV2ZWxDYXBwaW5nPXUsdGhpcy5zdHJlYW1Db250cm9sbGVyLm5leHRMZXZlbFN3aXRjaCgpKX19dGhpcy5sYXN0VGltZT1pLHRoaXMubGFzdERyb3BwZWRGcmFtZXM9cix0aGlzLmxhc3REZWNvZGVkRnJhbWVzPXR9fSx0LmNoZWNrRlBTSW50ZXJ2YWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1lZGlhO2lmKGUpaWYodGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlKXt2YXIgdD1lLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7dGhpcy5jaGVja0ZQUyhlLHQudG90YWxWaWRlb0ZyYW1lcyx0LmRyb3BwZWRWaWRlb0ZyYW1lcyl9ZWxzZSB0aGlzLmNoZWNrRlBTKGUsZS53ZWJraXREZWNvZGVkRnJhbWVDb3VudCxlLndlYmtpdERyb3BwZWRGcmFtZUNvdW50KX0sZX0oKSxncj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5obHM9dm9pZCAwLHRoaXMubG9nPXZvaWQgMCx0aGlzLmxvYWRlcj1udWxsLHRoaXMudXJpPW51bGwsdGhpcy5wYXRod2F5SWQ9Ii4iLHRoaXMucGF0aHdheVByaW9yaXR5PW51bGwsdGhpcy50aW1lVG9Mb2FkPTMwMCx0aGlzLnJlbG9hZFRpbWVyPS0xLHRoaXMudXBkYXRlZD0wLHRoaXMuc3RhcnRlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5sZXZlbHM9bnVsbCx0aGlzLmF1ZGlvVHJhY2tzPW51bGwsdGhpcy5zdWJ0aXRsZVRyYWNrcz1udWxsLHRoaXMucGVuYWxpemVkUGF0aHdheXM9e30sdGhpcy5obHM9ZSx0aGlzLmxvZz1ELmxvZy5iaW5kKEQsIltjb250ZW50LXN0ZWVyaW5nXToiKSx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCl9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9uKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLGUub24oRS5NQU5JRkVTVF9MT0FERUQsdGhpcy5vbk1hbmlmZXN0TG9hZGVkLHRoaXMpLGUub24oRS5NQU5JRkVTVF9QQVJTRUQsdGhpcy5vbk1hbmlmZXN0UGFyc2VkLHRoaXMpLGUub24oRS5FUlJPUix0aGlzLm9uRXJyb3IsdGhpcyl9LHQudW5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2UmJihlLm9mZihFLk1BTklGRVNUX0xPQURJTkcsdGhpcy5vbk1hbmlmZXN0TG9hZGluZyx0aGlzKSxlLm9mZihFLk1BTklGRVNUX0xPQURFRCx0aGlzLm9uTWFuaWZlc3RMb2FkZWQsdGhpcyksZS5vZmYoRS5NQU5JRkVTVF9QQVJTRUQsdGhpcy5vbk1hbmlmZXN0UGFyc2VkLHRoaXMpLGUub2ZmKEUuRVJST1IsdGhpcy5vbkVycm9yLHRoaXMpKX0sdC5zdGFydExvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5jbGVhclRpbWVvdXQoKSx0aGlzLmVuYWJsZWQmJnRoaXMudXJpKXtpZih0aGlzLnVwZGF0ZWQpe3ZhciBlPTFlMyp0aGlzLnRpbWVUb0xvYWQtKHBlcmZvcm1hbmNlLm5vdygpLXRoaXMudXBkYXRlZCk7aWYoZT4wKXJldHVybiB2b2lkIHRoaXMuc2NoZWR1bGVSZWZyZXNoKHRoaXMudXJpLGUpfXRoaXMubG9hZFN0ZWVyaW5nTWFuaWZlc3QodGhpcy51cmkpfX0sdC5zdG9wTG9hZD1mdW5jdGlvbigpe3RoaXMuc3RhcnRlZD0hMSx0aGlzLmxvYWRlciYmKHRoaXMubG9hZGVyLmRlc3Ryb3koKSx0aGlzLmxvYWRlcj1udWxsKSx0aGlzLmNsZWFyVGltZW91dCgpfSx0LmNsZWFyVGltZW91dD1mdW5jdGlvbigpey0xIT09dGhpcy5yZWxvYWRUaW1lciYmKHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkVGltZXIpLHRoaXMucmVsb2FkVGltZXI9LTEpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKSx0aGlzLnN0b3BMb2FkKCksdGhpcy5obHM9bnVsbCx0aGlzLmxldmVscz10aGlzLmF1ZGlvVHJhY2tzPXRoaXMuc3VidGl0bGVUcmFja3M9bnVsbH0sdC5yZW1vdmVMZXZlbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxldmVsczt0JiYodGhpcy5sZXZlbHM9dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZX0pKSl9LHQub25NYW5pZmVzdExvYWRpbmc9ZnVuY3Rpb24oKXt0aGlzLnN0b3BMb2FkKCksdGhpcy5lbmFibGVkPSEwLHRoaXMudGltZVRvTG9hZD0zMDAsdGhpcy51cGRhdGVkPTAsdGhpcy51cmk9bnVsbCx0aGlzLnBhdGh3YXlJZD0iLiIsdGhpcy5sZXZlbHM9dGhpcy5hdWRpb1RyYWNrcz10aGlzLnN1YnRpdGxlVHJhY2tzPW51bGx9LHQub25NYW5pZmVzdExvYWRlZD1mdW5jdGlvbihlLHQpe3ZhciByPXQuY29udGVudFN0ZWVyaW5nO251bGwhPT1yJiYodGhpcy5wYXRod2F5SWQ9ci5wYXRod2F5SWQsdGhpcy51cmk9ci51cmksdGhpcy5zdGFydGVkJiZ0aGlzLnN0YXJ0TG9hZCgpKX0sdC5vbk1hbmlmZXN0UGFyc2VkPWZ1bmN0aW9uKGUsdCl7dGhpcy5hdWRpb1RyYWNrcz10LmF1ZGlvVHJhY2tzLHRoaXMuc3VidGl0bGVUcmFja3M9dC5zdWJ0aXRsZVRyYWNrc30sdC5vbkVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5lcnJvckFjdGlvbjtpZigobnVsbD09cj92b2lkIDA6ci5hY3Rpb24pPT09enQmJnIuZmxhZ3M9PT0kdCl7dmFyIGk9dGhpcy5sZXZlbHMsYT10aGlzLnBhdGh3YXlQcmlvcml0eSxuPXRoaXMucGF0aHdheUlkO2lmKHQuY29udGV4dCl7dmFyIHM9dC5jb250ZXh0LG89cy5ncm91cElkLGw9cy5wYXRod2F5SWQsdT1zLnR5cGU7byYmaT9uPXRoaXMuZ2V0UGF0aHdheUZvckdyb3VwSWQobyx1LG4pOmwmJihuPWwpfW4gaW4gdGhpcy5wZW5hbGl6ZWRQYXRod2F5c3x8KHRoaXMucGVuYWxpemVkUGF0aHdheXNbbl09cGVyZm9ybWFuY2Uubm93KCkpLCFhJiZpJiYoYT1pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4tMT09PWUuaW5kZXhPZih0LnBhdGh3YXlJZCkmJmUucHVzaCh0LnBhdGh3YXlJZCksZX0pLFtdKSksYSYmYS5sZW5ndGg+MSYmKHRoaXMudXBkYXRlUGF0aHdheVByaW9yaXR5KGEpLHIucmVzb2x2ZWQ9dGhpcy5wYXRod2F5SWQhPT1uKSxyLnJlc29sdmVkfHxELndhcm4oIkNvdWxkIG5vdCByZXNvbHZlICIrdC5kZXRhaWxzKycgKCInK3QuZXJyb3IubWVzc2FnZSsnIikgd2l0aCBjb250ZW50LXN0ZWVyaW5nIGZvciBQYXRod2F5OiAnK24rIiBsZXZlbHM6ICIrKGk/aS5sZW5ndGg6aSkrIiBwcmlvcml0aWVzOiAiK0pTT04uc3RyaW5naWZ5KGEpKyIgcGVuYWxpemVkOiAiK0pTT04uc3RyaW5naWZ5KHRoaXMucGVuYWxpemVkUGF0aHdheXMpKX19LHQuZmlsdGVyUGFyc2VkTGV2ZWxzPWZ1bmN0aW9uKGUpe3RoaXMubGV2ZWxzPWU7dmFyIHQ9dGhpcy5nZXRMZXZlbHNGb3JQYXRod2F5KHRoaXMucGF0aHdheUlkKTtpZigwPT09dC5sZW5ndGgpe3ZhciByPWVbMF0ucGF0aHdheUlkO3RoaXMubG9nKCJObyBsZXZlbHMgZm91bmQgaW4gUGF0aHdheSAiK3RoaXMucGF0aHdheUlkKycuIFNldHRpbmcgaW5pdGlhbCBQYXRod2F5IHRvICInK3IrJyInKSx0PXRoaXMuZ2V0TGV2ZWxzRm9yUGF0aHdheShyKSx0aGlzLnBhdGh3YXlJZD1yfXJldHVybiB0Lmxlbmd0aCE9PWUubGVuZ3RoJiZ0aGlzLmxvZygiRm91bmQgIit0Lmxlbmd0aCsiLyIrZS5sZW5ndGgrJyBsZXZlbHMgaW4gUGF0aHdheSAiJyt0aGlzLnBhdGh3YXlJZCsnIicpLHR9LHQuZ2V0TGV2ZWxzRm9yUGF0aHdheT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PXRoaXMubGV2ZWxzP1tdOnRoaXMubGV2ZWxzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LnBhdGh3YXlJZH0pKX0sdC51cGRhdGVQYXRod2F5UHJpb3JpdHk9ZnVuY3Rpb24oZSl7dmFyIHQ7dGhpcy5wYXRod2F5UHJpb3JpdHk9ZTt2YXIgcj10aGlzLnBlbmFsaXplZFBhdGh3YXlzLGk9cGVyZm9ybWFuY2Uubm93KCk7T2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS1yW2VdPjNlNSYmZGVsZXRlIHJbZV19KSk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBuPWVbYV07aWYoIShuIGluIHIpKXtpZihuPT09dGhpcy5wYXRod2F5SWQpcmV0dXJuO3ZhciBzPXRoaXMuaGxzLm5leHRMb2FkTGV2ZWwsbz10aGlzLmhscy5sZXZlbHNbc107aWYoKHQ9dGhpcy5nZXRMZXZlbHNGb3JQYXRod2F5KG4pKS5sZW5ndGg+MCl7dGhpcy5sb2coJ1NldHRpbmcgUGF0aHdheSB0byAiJytuKyciJyksdGhpcy5wYXRod2F5SWQ9bixOdCh0KSx0aGlzLmhscy50cmlnZ2VyKEUuTEVWRUxTX1VQREFURUQse2xldmVsczp0fSk7dmFyIGw9dGhpcy5obHMubGV2ZWxzW3NdO28mJmwmJnRoaXMubGV2ZWxzJiYobC5hdHRyc1siU1RBQkxFLVZBUklBTlQtSUQiXSE9PW8uYXR0cnNbIlNUQUJMRS1WQVJJQU5ULUlEIl0mJmwuYml0cmF0ZSE9PW8uYml0cmF0ZSYmdGhpcy5sb2coIlVuc3RhYmxlIFBhdGh3YXlzIGNoYW5nZSBmcm9tIGJpdHJhdGUgIitvLmJpdHJhdGUrIiB0byAiK2wuYml0cmF0ZSksdGhpcy5obHMubmV4dExvYWRMZXZlbD1zKTticmVha319fX0sdC5nZXRQYXRod2F5Rm9yR3JvdXBJZD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPXRoaXMuZ2V0TGV2ZWxzRm9yUGF0aHdheShyKS5jb25jYXQodGhpcy5sZXZlbHN8fFtdKSxhPTA7YTxpLmxlbmd0aDthKyspaWYodD09PWl0JiZpW2FdLmhhc0F1ZGlvR3JvdXAoZSl8fHQ9PT1hdCYmaVthXS5oYXNTdWJ0aXRsZUdyb3VwKGUpKXJldHVybiBpW2FdLnBhdGh3YXlJZDtyZXR1cm4gcn0sdC5jbG9uZVBhdGh3YXlzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLmxldmVscztpZihyKXt2YXIgaT17fSxhPXt9O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5JRCxzPWVbIkJBU0UtSUQiXSxvPWVbIlVSSS1SRVBMQUNFTUVOVCJdO2lmKCFyLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhdGh3YXlJZD09PW59KSkpe3ZhciBsPXQuZ2V0TGV2ZWxzRm9yUGF0aHdheShzKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3KGUuYXR0cnMpO3RbIlBBVEhXQVktSUQiXT1uO3ZhciByPXQuQVVESU8mJnQuQVVESU8rIl9jbG9uZV8iK24scz10LlNVQlRJVExFUyYmdC5TVUJUSVRMRVMrIl9jbG9uZV8iK247ciYmKGlbdC5BVURJT109cix0LkFVRElPPXIpLHMmJihhW3QuU1VCVElUTEVTXT1zLHQuU1VCVElUTEVTPXMpO3ZhciBsPXByKGUudXJpLHRbIlNUQUJMRS1WQVJJQU5ULUlEIl0sIlBFUi1WQVJJQU5ULVVSSVMiLG8pLHU9bmV3IHh0KHthdHRyczp0LGF1ZGlvQ29kZWM6ZS5hdWRpb0NvZGVjLGJpdHJhdGU6ZS5iaXRyYXRlLGhlaWdodDplLmhlaWdodCxuYW1lOmUubmFtZSx1cmw6bCx2aWRlb0NvZGVjOmUudmlkZW9Db2RlYyx3aWR0aDplLndpZHRofSk7aWYoZS5hdWRpb0dyb3Vwcylmb3IodmFyIGQ9MTtkPGUuYXVkaW9Hcm91cHMubGVuZ3RoO2QrKyl1LmFkZEdyb3VwSWQoImF1ZGlvIixlLmF1ZGlvR3JvdXBzW2RdKyJfY2xvbmVfIituKTtpZihlLnN1YnRpdGxlR3JvdXBzKWZvcih2YXIgaD0xO2g8ZS5zdWJ0aXRsZUdyb3Vwcy5sZW5ndGg7aCsrKXUuYWRkR3JvdXBJZCgidGV4dCIsZS5zdWJ0aXRsZUdyb3Vwc1toXSsiX2Nsb25lXyIrbik7cmV0dXJuIHV9KSk7ci5wdXNoLmFwcGx5KHIsbCksbXIodC5hdWRpb1RyYWNrcyxpLG8sbiksbXIodC5zdWJ0aXRsZVRyYWNrcyxhLG8sbil9fSkpfX0sdC5sb2FkU3RlZXJpbmdNYW5pZmVzdD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMsaT10aGlzLmhscy5jb25maWcsYT1pLmxvYWRlcjt0aGlzLmxvYWRlciYmdGhpcy5sb2FkZXIuZGVzdHJveSgpLHRoaXMubG9hZGVyPW5ldyBhKGkpO3RyeXt0PW5ldyBzZWxmLlVSTChlKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5lbmFibGVkPSExLHZvaWQgdGhpcy5sb2coIkZhaWxlZCB0byBwYXJzZSBTdGVlcmluZyBNYW5pZmVzdCBVUkk6ICIrZSl9aWYoImRhdGE6IiE9PXQucHJvdG9jb2wpe3ZhciBuPTB8KHRoaXMuaGxzLmJhbmR3aWR0aEVzdGltYXRlfHxpLmFickV3bWFEZWZhdWx0RXN0aW1hdGUpO3Quc2VhcmNoUGFyYW1zLnNldCgiX0hMU19wYXRod2F5Iix0aGlzLnBhdGh3YXlJZCksdC5zZWFyY2hQYXJhbXMuc2V0KCJfSExTX3Rocm91Z2hwdXQiLCIiK24pfXZhciBzPXtyZXNwb25zZVR5cGU6Impzb24iLHVybDp0LmhyZWZ9LG89aS5zdGVlcmluZ01hbmlmZXN0TG9hZFBvbGljeS5kZWZhdWx0LGw9by5lcnJvclJldHJ5fHxvLnRpbWVvdXRSZXRyeXx8e30sdT17bG9hZFBvbGljeTpvLHRpbWVvdXQ6by5tYXhMb2FkVGltZU1zLG1heFJldHJ5OmwubWF4TnVtUmV0cnl8fDAscmV0cnlEZWxheTpsLnJldHJ5RGVsYXlNc3x8MCxtYXhSZXRyeURlbGF5OmwubWF4UmV0cnlEZWxheU1zfHwwfSxkPXtvblN1Y2Nlc3M6ZnVuY3Rpb24oZSxpLGEsbil7ci5sb2coJ0xvYWRlZCBzdGVlcmluZyBtYW5pZmVzdDogIicrdCsnIicpO3ZhciBzPWUuZGF0YTtpZigxPT09cy5WRVJTSU9OKXtyLnVwZGF0ZWQ9cGVyZm9ybWFuY2Uubm93KCksci50aW1lVG9Mb2FkPXMuVFRMO3ZhciBvPXNbIlJFTE9BRC1VUkkiXSxsPXNbIlBBVEhXQVktQ0xPTkVTIl0sdT1zWyJQQVRIV0FZLVBSSU9SSVRZIl07aWYobyl0cnl7ci51cmk9bmV3IHNlbGYuVVJMKG8sdCkuaHJlZn1jYXRjaChlKXtyZXR1cm4gci5lbmFibGVkPSExLHZvaWQgci5sb2coIkZhaWxlZCB0byBwYXJzZSBTdGVlcmluZyBNYW5pZmVzdCBSRUxPQUQtVVJJOiAiK28pfXIuc2NoZWR1bGVSZWZyZXNoKHIudXJpfHxhLnVybCksbCYmci5jbG9uZVBhdGh3YXlzKGwpO3ZhciBkPXtzdGVlcmluZ01hbmlmZXN0OnMsdXJsOnQudG9TdHJpbmcoKX07ci5obHMudHJpZ2dlcihFLlNURUVSSU5HX01BTklGRVNUX0xPQURFRCxkKSx1JiZyLnVwZGF0ZVBhdGh3YXlQcmlvcml0eSh1KX1lbHNlIHIubG9nKCJTdGVlcmluZyBWRVJTSU9OICIrcy5WRVJTSU9OKyIgbm90IHN1cHBvcnRlZCEiKX0sb25FcnJvcjpmdW5jdGlvbihlLHQsaSxhKXtpZihyLmxvZygiRXJyb3IgbG9hZGluZyBzdGVlcmluZyBtYW5pZmVzdDogIitlLmNvZGUrIiAiK2UudGV4dCsiICgiK3QudXJsKyIpIiksci5zdG9wTG9hZCgpLDQxMD09PWUuY29kZSlyZXR1cm4gci5lbmFibGVkPSExLHZvaWQgci5sb2coIlN0ZWVyaW5nIG1hbmlmZXN0ICIrdC51cmwrIiBubyBsb25nZXIgYXZhaWxhYmxlIik7dmFyIG49MWUzKnIudGltZVRvTG9hZDtpZig0MjkhPT1lLmNvZGUpci5zY2hlZHVsZVJlZnJlc2goci51cml8fHQudXJsLG4pO2Vsc2V7dmFyIHM9ci5sb2FkZXI7aWYoImZ1bmN0aW9uIj09dHlwZW9mKG51bGw9PXM/dm9pZCAwOnMuZ2V0UmVzcG9uc2VIZWFkZXIpKXt2YXIgbz1zLmdldFJlc3BvbnNlSGVhZGVyKCJSZXRyeS1BZnRlciIpO28mJihuPTFlMypwYXJzZUZsb2F0KG8pKX1yLmxvZygiU3RlZXJpbmcgbWFuaWZlc3QgIit0LnVybCsiIHJhdGUgbGltaXRlZCIpfX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUsdCxpKXtyLmxvZygiVGltZW91dCBsb2FkaW5nIHN0ZWVyaW5nIG1hbmlmZXN0ICgiK3QudXJsKyIpIiksci5zY2hlZHVsZVJlZnJlc2goci51cml8fHQudXJsKX19O3RoaXMubG9nKCJSZXF1ZXN0aW5nIHN0ZWVyaW5nIG1hbmlmZXN0OiAiK3QpLHRoaXMubG9hZGVyLmxvYWQocyx1LGQpfSx0LnNjaGVkdWxlUmVmcmVzaD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dm9pZCAwPT09dCYmKHQ9MWUzKnRoaXMudGltZVRvTG9hZCksdGhpcy5jbGVhclRpbWVvdXQoKSx0aGlzLnJlbG9hZFRpbWVyPXNlbGYuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgdCxpPW51bGw9PSh0PXIuaGxzKT92b2lkIDA6dC5tZWRpYTshaXx8aS5lbmRlZD9yLnNjaGVkdWxlUmVmcmVzaChlLDFlMypyLnRpbWVUb0xvYWQpOnIubG9hZFN0ZWVyaW5nTWFuaWZlc3QoZSl9KSx0KX0sZX0oKTtmdW5jdGlvbiBtcihlLHQscixpKXtlJiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgbj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ3JvdXBJZD09PWF9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgbj1vKHt9LGUpO3JldHVybiBuLmRldGFpbHM9dm9pZCAwLG4uYXR0cnM9bmV3IHcobi5hdHRycyksbi51cmw9bi5hdHRycy5VUkk9cHIoZS51cmwsZS5hdHRyc1siU1RBQkxFLVJFTkRJVElPTi1JRCJdLCJQRVItUkVORElUSU9OLVVSSVMiLHIpLG4uZ3JvdXBJZD1uLmF0dHJzWyJHUk9VUC1JRCJdPXRbYV0sbi5hdHRyc1siUEFUSFdBWS1JRCJdPWksbn0pKTtlLnB1c2guYXBwbHkoZSxuKX0pKX1mdW5jdGlvbiBwcihlLHQscixpKXt2YXIgYSxuPWkuSE9TVCxzPWkuUEFSQU1TLG89aVtyXTt0JiYoYT1udWxsPT1vP3ZvaWQgMDpvW3RdKSYmKGU9YSk7dmFyIGw9bmV3IHNlbGYuVVJMKGUpO3JldHVybiBuJiYhYSYmKGwuaG9zdD1uKSxzJiZPYmplY3Qua2V5cyhzKS5zb3J0KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmbC5zZWFyY2hQYXJhbXMuc2V0KGUsc1tlXSl9KSksbC5ocmVmfXZhciB5cj0vXmFnZTpccypbXGQuXStccyokL2ltLEVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnhoclNldHVwPXZvaWQgMCx0aGlzLnJlcXVlc3RUaW1lb3V0PXZvaWQgMCx0aGlzLnJldHJ5VGltZW91dD12b2lkIDAsdGhpcy5yZXRyeURlbGF5PXZvaWQgMCx0aGlzLmNvbmZpZz1udWxsLHRoaXMuY2FsbGJhY2tzPW51bGwsdGhpcy5jb250ZXh0PW51bGwsdGhpcy5sb2FkZXI9bnVsbCx0aGlzLnN0YXRzPXZvaWQgMCx0aGlzLnhoclNldHVwPWUmJmUueGhyU2V0dXB8fG51bGwsdGhpcy5zdGF0cz1uZXcgUCx0aGlzLnJldHJ5RGVsYXk9MH12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jYWxsYmFja3M9bnVsbCx0aGlzLmFib3J0SW50ZXJuYWwoKSx0aGlzLmxvYWRlcj1udWxsLHRoaXMuY29uZmlnPW51bGwsdGhpcy5jb250ZXh0PW51bGwsdGhpcy54aHJTZXR1cD1udWxsfSx0LmFib3J0SW50ZXJuYWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxvYWRlcjtzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KSxzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZW91dCksZSYmKGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZS5vbnByb2dyZXNzPW51bGwsNCE9PWUucmVhZHlTdGF0ZSYmKHRoaXMuc3RhdHMuYWJvcnRlZD0hMCxlLmFib3J0KCkpKX0sdC5hYm9ydD1mdW5jdGlvbigpe3ZhciBlO3RoaXMuYWJvcnRJbnRlcm5hbCgpLG51bGwhPShlPXRoaXMuY2FsbGJhY2tzKSYmZS5vbkFib3J0JiZ0aGlzLmNhbGxiYWNrcy5vbkFib3J0KHRoaXMuc3RhdHMsdGhpcy5jb250ZXh0LHRoaXMubG9hZGVyKX0sdC5sb2FkPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLnN0YXRzLmxvYWRpbmcuc3RhcnQpdGhyb3cgbmV3IEVycm9yKCJMb2FkZXIgY2FuIG9ubHkgYmUgdXNlZCBvbmNlLiIpO3RoaXMuc3RhdHMubG9hZGluZy5zdGFydD1zZWxmLnBlcmZvcm1hbmNlLm5vdygpLHRoaXMuY29udGV4dD1lLHRoaXMuY29uZmlnPXQsdGhpcy5jYWxsYmFja3M9cix0aGlzLmxvYWRJbnRlcm5hbCgpfSx0LmxvYWRJbnRlcm5hbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmNvbmZpZyxyPXRoaXMuY29udGV4dDtpZih0JiZyKXt2YXIgaT10aGlzLmxvYWRlcj1uZXcgc2VsZi5YTUxIdHRwUmVxdWVzdCxhPXRoaXMuc3RhdHM7YS5sb2FkaW5nLmZpcnN0PTAsYS5sb2FkZWQ9MCxhLmFib3J0ZWQ9ITE7dmFyIG49dGhpcy54aHJTZXR1cDtuP1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoZS5sb2FkZXI9PT1pJiYhZS5zdGF0cy5hYm9ydGVkKXJldHVybiBuKGksci51cmwpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpZihlLmxvYWRlcj09PWkmJiFlLnN0YXRzLmFib3J0ZWQpcmV0dXJuIGkub3BlbigiR0VUIixyLnVybCwhMCksbihpLHIudXJsKX0pKS50aGVuKChmdW5jdGlvbigpe2UubG9hZGVyIT09aXx8ZS5zdGF0cy5hYm9ydGVkfHxlLm9wZW5BbmRTZW5kWGhyKGkscix0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZS5jYWxsYmFja3Mub25FcnJvcih7Y29kZTppLnN0YXR1cyx0ZXh0OnQubWVzc2FnZX0scixpLGEpfSkpOnRoaXMub3BlbkFuZFNlbmRYaHIoaSxyLHQpfX0sdC5vcGVuQW5kU2VuZFhocj1mdW5jdGlvbihlLHQscil7ZS5yZWFkeVN0YXRlfHxlLm9wZW4oIkdFVCIsdC51cmwsITApO3ZhciBpPXQuaGVhZGVycyxhPXIubG9hZFBvbGljeSxuPWEubWF4VGltZVRvRmlyc3RCeXRlTXMscz1hLm1heExvYWRUaW1lTXM7aWYoaSlmb3IodmFyIG8gaW4gaSllLnNldFJlcXVlc3RIZWFkZXIobyxpW29dKTt0LnJhbmdlRW5kJiZlLnNldFJlcXVlc3RIZWFkZXIoIlJhbmdlIiwiYnl0ZXM9Iit0LnJhbmdlU3RhcnQrIi0iKyh0LnJhbmdlRW5kLTEpKSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLnJlYWR5c3RhdGVjaGFuZ2UuYmluZCh0aGlzKSxlLm9ucHJvZ3Jlc3M9dGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKSxlLnJlc3BvbnNlVHlwZT10LnJlc3BvbnNlVHlwZSxzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KSxyLnRpbWVvdXQ9biYmbShuKT9uOnMsdGhpcy5yZXF1ZXN0VGltZW91dD1zZWxmLnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLHIudGltZW91dCksZS5zZW5kKCl9LHQucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dCx0PXRoaXMubG9hZGVyLHI9dGhpcy5zdGF0cztpZihlJiZ0KXt2YXIgaT10LnJlYWR5U3RhdGUsYT10aGlzLmNvbmZpZztpZighci5hYm9ydGVkJiZpPj0yJiYoMD09PXIubG9hZGluZy5maXJzdCYmKHIubG9hZGluZy5maXJzdD1NYXRoLm1heChzZWxmLnBlcmZvcm1hbmNlLm5vdygpLHIubG9hZGluZy5zdGFydCksYS50aW1lb3V0IT09YS5sb2FkUG9saWN5Lm1heExvYWRUaW1lTXMmJihzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KSxhLnRpbWVvdXQ9YS5sb2FkUG9saWN5Lm1heExvYWRUaW1lTXMsdGhpcy5yZXF1ZXN0VGltZW91dD1zZWxmLnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLGEubG9hZFBvbGljeS5tYXhMb2FkVGltZU1zLShyLmxvYWRpbmcuZmlyc3Qtci5sb2FkaW5nLnN0YXJ0KSkpKSw0PT09aSkpe3NlbGYuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpLHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdC5vbnByb2dyZXNzPW51bGw7dmFyIG49dC5zdGF0dXMscz0idGV4dCI9PT10LnJlc3BvbnNlVHlwZT90LnJlc3BvbnNlVGV4dDpudWxsO2lmKG4+PTIwMCYmbjwzMDApe3ZhciBvPW51bGwhPXM/czp0LnJlc3BvbnNlO2lmKG51bGwhPW8pe3IubG9hZGluZy5lbmQ9TWF0aC5tYXgoc2VsZi5wZXJmb3JtYW5jZS5ub3coKSxyLmxvYWRpbmcuZmlyc3QpO3ZhciBsPSJhcnJheWJ1ZmZlciI9PT10LnJlc3BvbnNlVHlwZT9vLmJ5dGVMZW5ndGg6by5sZW5ndGg7aWYoci5sb2FkZWQ9ci50b3RhbD1sLHIuYndFc3RpbWF0ZT04ZTMqci50b3RhbC8oci5sb2FkaW5nLmVuZC1yLmxvYWRpbmcuZmlyc3QpLCF0aGlzLmNhbGxiYWNrcylyZXR1cm47dmFyIHU9dGhpcy5jYWxsYmFja3Mub25Qcm9ncmVzcztpZih1JiZ1KHIsZSxvLHQpLCF0aGlzLmNhbGxiYWNrcylyZXR1cm47dmFyIGQ9e3VybDp0LnJlc3BvbnNlVVJMLGRhdGE6byxjb2RlOm59O3JldHVybiB2b2lkIHRoaXMuY2FsbGJhY2tzLm9uU3VjY2VzcyhkLHIsZSx0KX19dmFyIGg9YS5sb2FkUG9saWN5LmVycm9yUmV0cnk7VnQoaCxyLnJldHJ5LCExLHt1cmw6ZS51cmwsZGF0YTp2b2lkIDAsY29kZTpufSk/dGhpcy5yZXRyeShoKTooRC5lcnJvcihuKyIgd2hpbGUgbG9hZGluZyAiK2UudXJsKSx0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHtjb2RlOm4sdGV4dDp0LnN0YXR1c1RleHR9LGUsdCxyKSl9fX0sdC5sb2FkdGltZW91dD1mdW5jdGlvbigpe2lmKHRoaXMuY29uZmlnKXt2YXIgZT10aGlzLmNvbmZpZy5sb2FkUG9saWN5LnRpbWVvdXRSZXRyeTtpZihWdChlLHRoaXMuc3RhdHMucmV0cnksITApKXRoaXMucmV0cnkoZSk7ZWxzZXt2YXIgdDtELndhcm4oInRpbWVvdXQgd2hpbGUgbG9hZGluZyAiKyhudWxsPT0odD10aGlzLmNvbnRleHQpP3ZvaWQgMDp0LnVybCkpO3ZhciByPXRoaXMuY2FsbGJhY2tzO3ImJih0aGlzLmFib3J0SW50ZXJuYWwoKSxyLm9uVGltZW91dCh0aGlzLnN0YXRzLHRoaXMuY29udGV4dCx0aGlzLmxvYWRlcikpfX19LHQucmV0cnk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb250ZXh0LHI9dGhpcy5zdGF0czt0aGlzLnJldHJ5RGVsYXk9R3QoZSxyLnJldHJ5KSxyLnJldHJ5KyssRC53YXJuKChzdGF0dXM/IkhUVFAgU3RhdHVzICIrc3RhdHVzOiJUaW1lb3V0IikrIiB3aGlsZSBsb2FkaW5nICIrKG51bGw9PXQ/dm9pZCAwOnQudXJsKSsiLCByZXRyeWluZyAiK3IucmV0cnkrIi8iK2UubWF4TnVtUmV0cnkrIiBpbiAiK3RoaXMucmV0cnlEZWxheSsibXMiKSx0aGlzLmFib3J0SW50ZXJuYWwoKSx0aGlzLmxvYWRlcj1udWxsLHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMucmV0cnlUaW1lb3V0KSx0aGlzLnJldHJ5VGltZW91dD1zZWxmLnNldFRpbWVvdXQodGhpcy5sb2FkSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJldHJ5RGVsYXkpfSx0LmxvYWRwcm9ncmVzcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRzO3QubG9hZGVkPWUubG9hZGVkLGUubGVuZ3RoQ29tcHV0YWJsZSYmKHQudG90YWw9ZS50b3RhbCl9LHQuZ2V0Q2FjaGVBZ2U9ZnVuY3Rpb24oKXt2YXIgZT1udWxsO2lmKHRoaXMubG9hZGVyJiZ5ci50ZXN0KHRoaXMubG9hZGVyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl7dmFyIHQ9dGhpcy5sb2FkZXIuZ2V0UmVzcG9uc2VIZWFkZXIoImFnZSIpO2U9dD9wYXJzZUZsb2F0KHQpOm51bGx9cmV0dXJuIGV9LHQuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9hZGVyJiZuZXcgUmVnRXhwKCJeIitlKyI6XFxzKltcXGQuXStcXHMqJCIsImltIikudGVzdCh0aGlzLmxvYWRlci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk/dGhpcy5sb2FkZXIuZ2V0UmVzcG9uc2VIZWFkZXIoZSk6bnVsbH0sZX0oKSxUcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmNodW5rcz1bXSx0aGlzLmRhdGFMZW5ndGg9MH12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSksdGhpcy5kYXRhTGVuZ3RoKz1lLmxlbmd0aH0sdC5mbHVzaD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5jaHVua3Mscj10aGlzLmRhdGFMZW5ndGg7cmV0dXJuIHQubGVuZ3RoPyhlPTE9PT10Lmxlbmd0aD90WzBdOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KHQpLGk9MCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBuPWVbYV07ci5zZXQobixpKSxpKz1uLmxlbmd0aH1yZXR1cm4gcn0odCxyKSx0aGlzLnJlc2V0KCksZSk6bmV3IFVpbnQ4QXJyYXkoMCl9LHQucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNodW5rcy5sZW5ndGg9MCx0aGlzLmRhdGFMZW5ndGg9MH0sZX0oKSxTcj0vKFxkKyktKFxkKylcLyhcZCspLyxMcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5mZXRjaFNldHVwPXZvaWQgMCx0aGlzLnJlcXVlc3RUaW1lb3V0PXZvaWQgMCx0aGlzLnJlcXVlc3Q9bnVsbCx0aGlzLnJlc3BvbnNlPW51bGwsdGhpcy5jb250cm9sbGVyPXZvaWQgMCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmNvbmZpZz1udWxsLHRoaXMuY2FsbGJhY2tzPW51bGwsdGhpcy5zdGF0cz12b2lkIDAsdGhpcy5sb2FkZXI9bnVsbCx0aGlzLmZldGNoU2V0dXA9ZS5mZXRjaFNldHVwfHxScix0aGlzLmNvbnRyb2xsZXI9bmV3IHNlbGYuQWJvcnRDb250cm9sbGVyLHRoaXMuc3RhdHM9bmV3IFB9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubG9hZGVyPXRoaXMuY2FsbGJhY2tzPXRoaXMuY29udGV4dD10aGlzLmNvbmZpZz10aGlzLnJlcXVlc3Q9bnVsbCx0aGlzLmFib3J0SW50ZXJuYWwoKSx0aGlzLnJlc3BvbnNlPW51bGwsdGhpcy5mZXRjaFNldHVwPXRoaXMuY29udHJvbGxlcj10aGlzLnN0YXRzPW51bGx9LHQuYWJvcnRJbnRlcm5hbD1mdW5jdGlvbigpe3RoaXMuY29udHJvbGxlciYmIXRoaXMuc3RhdHMubG9hZGluZy5lbmQmJih0aGlzLnN0YXRzLmFib3J0ZWQ9ITAsdGhpcy5jb250cm9sbGVyLmFib3J0KCkpfSx0LmFib3J0PWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5hYm9ydEludGVybmFsKCksbnVsbCE9KGU9dGhpcy5jYWxsYmFja3MpJiZlLm9uQWJvcnQmJnRoaXMuY2FsbGJhY2tzLm9uQWJvcnQodGhpcy5zdGF0cyx0aGlzLmNvbnRleHQsdGhpcy5yZXNwb25zZSl9LHQubG9hZD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxhPXRoaXMuc3RhdHM7aWYoYS5sb2FkaW5nLnN0YXJ0KXRocm93IG5ldyBFcnJvcigiTG9hZGVyIGNhbiBvbmx5IGJlIHVzZWQgb25jZS4iKTthLmxvYWRpbmcuc3RhcnQ9c2VsZi5wZXJmb3JtYW5jZS5ub3coKTt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciByPXttZXRob2Q6IkdFVCIsbW9kZToiY29ycyIsY3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIixzaWduYWw6dCxoZWFkZXJzOm5ldyBzZWxmLkhlYWRlcnMobyh7fSxlLmhlYWRlcnMpKX07cmV0dXJuIGUucmFuZ2VFbmQmJnIuaGVhZGVycy5zZXQoIlJhbmdlIiwiYnl0ZXM9IitlLnJhbmdlU3RhcnQrIi0iK1N0cmluZyhlLnJhbmdlRW5kLTEpKSxyfShlLHRoaXMuY29udHJvbGxlci5zaWduYWwpLHM9ci5vblByb2dyZXNzLGw9ImFycmF5YnVmZmVyIj09PWUucmVzcG9uc2VUeXBlLHU9bD8iYnl0ZUxlbmd0aCI6Imxlbmd0aCIsZD10LmxvYWRQb2xpY3ksaD1kLm1heFRpbWVUb0ZpcnN0Qnl0ZU1zLGY9ZC5tYXhMb2FkVGltZU1zO3RoaXMuY29udGV4dD1lLHRoaXMuY29uZmlnPXQsdGhpcy5jYWxsYmFja3M9cix0aGlzLnJlcXVlc3Q9dGhpcy5mZXRjaFNldHVwKGUsbiksc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCksdC50aW1lb3V0PWgmJm0oaCk/aDpmLHRoaXMucmVxdWVzdFRpbWVvdXQ9c2VsZi5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2kuYWJvcnRJbnRlcm5hbCgpLHIub25UaW1lb3V0KGEsZSxpLnJlc3BvbnNlKX0pLHQudGltZW91dCksc2VsZi5mZXRjaCh0aGlzLnJlcXVlc3QpLnRoZW4oKGZ1bmN0aW9uKG4pe2kucmVzcG9uc2U9aS5sb2FkZXI9bjt2YXIgbz1NYXRoLm1heChzZWxmLnBlcmZvcm1hbmNlLm5vdygpLGEubG9hZGluZy5zdGFydCk7aWYoc2VsZi5jbGVhclRpbWVvdXQoaS5yZXF1ZXN0VGltZW91dCksdC50aW1lb3V0PWYsaS5yZXF1ZXN0VGltZW91dD1zZWxmLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5hYm9ydEludGVybmFsKCksci5vblRpbWVvdXQoYSxlLGkucmVzcG9uc2UpfSksZi0oby1hLmxvYWRpbmcuc3RhcnQpKSwhbi5vayl7dmFyIHU9bi5zdGF0dXMsZD1uLnN0YXR1c1RleHQ7dGhyb3cgbmV3IGJyKGR8fCJmZXRjaCwgYmFkIG5ldHdvcmsgcmVzcG9uc2UiLHUsbil9cmV0dXJuIGEubG9hZGluZy5maXJzdD1vLGEudG90YWw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXQoIkNvbnRlbnQtUmFuZ2UiKTtpZih0KXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1Tci5leGVjKGUpO2lmKHQpcmV0dXJuIHBhcnNlSW50KHRbMl0pLXBhcnNlSW50KHRbMV0pKzF9KHQpO2lmKG0ocikpcmV0dXJuIHJ9dmFyIGk9ZS5nZXQoIkNvbnRlbnQtTGVuZ3RoIik7aWYoaSlyZXR1cm4gcGFyc2VJbnQoaSl9KG4uaGVhZGVycyl8fGEudG90YWwscyYmbSh0LmhpZ2hXYXRlck1hcmspP2kubG9hZFByb2dyZXNzaXZlbHkobixhLGUsdC5oaWdoV2F0ZXJNYXJrLHMpOmw/bi5hcnJheUJ1ZmZlcigpOiJqc29uIj09PWUucmVzcG9uc2VUeXBlP24uanNvbigpOm4udGV4dCgpfSkpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciBvPWkucmVzcG9uc2U7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJsb2FkZXIgZGVzdHJveWVkIik7c2VsZi5jbGVhclRpbWVvdXQoaS5yZXF1ZXN0VGltZW91dCksYS5sb2FkaW5nLmVuZD1NYXRoLm1heChzZWxmLnBlcmZvcm1hbmNlLm5vdygpLGEubG9hZGluZy5maXJzdCk7dmFyIGw9blt1XTtsJiYoYS5sb2FkZWQ9YS50b3RhbD1sKTt2YXIgZD17dXJsOm8udXJsLGRhdGE6bixjb2RlOm8uc3RhdHVzfTtzJiYhbSh0LmhpZ2hXYXRlck1hcmspJiZzKGEsZSxuLG8pLHIub25TdWNjZXNzKGQsYSxlLG8pfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpZihzZWxmLmNsZWFyVGltZW91dChpLnJlcXVlc3RUaW1lb3V0KSwhYS5hYm9ydGVkKXt2YXIgbj10JiZ0LmNvZGV8fDAscz10P3QubWVzc2FnZTpudWxsO3Iub25FcnJvcih7Y29kZTpuLHRleHQ6c30sZSx0P3QuZGV0YWlsczpudWxsLGEpfX0pKX0sdC5nZXRDYWNoZUFnZT1mdW5jdGlvbigpe3ZhciBlPW51bGw7aWYodGhpcy5yZXNwb25zZSl7dmFyIHQ9dGhpcy5yZXNwb25zZS5oZWFkZXJzLmdldCgiYWdlIik7ZT10P3BhcnNlRmxvYXQodCk6bnVsbH1yZXR1cm4gZX0sdC5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXNwb25zZT90aGlzLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KGUpOm51bGx9LHQubG9hZFByb2dyZXNzaXZlbHk9ZnVuY3Rpb24oZSx0LHIsaSxhKXt2b2lkIDA9PT1pJiYoaT0wKTt2YXIgbj1uZXcgVHIscz1lLmJvZHkuZ2V0UmVhZGVyKCk7cmV0dXJuIGZ1bmN0aW9uIG8oKXtyZXR1cm4gcy5yZWFkKCkudGhlbigoZnVuY3Rpb24ocyl7aWYocy5kb25lKXJldHVybiBuLmRhdGFMZW5ndGgmJmEodCxyLG4uZmx1c2goKSxlKSxQcm9taXNlLnJlc29sdmUobmV3IEFycmF5QnVmZmVyKDApKTt2YXIgbD1zLnZhbHVlLHU9bC5sZW5ndGg7cmV0dXJuIHQubG9hZGVkKz11LHU8aXx8bi5kYXRhTGVuZ3RoPyhuLnB1c2gobCksbi5kYXRhTGVuZ3RoPj1pJiZhKHQscixuLmZsdXNoKCksZSkpOmEodCxyLGwsZSksbygpfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdCgpfSkpfSgpfSxlfSgpO2Z1bmN0aW9uIFJyKGUsdCl7cmV0dXJuIG5ldyBzZWxmLlJlcXVlc3QoZS51cmwsdCl9dmFyIEFyLGJyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGkpe3ZhciBhO3JldHVybihhPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5jb2RlPXZvaWQgMCxhLmRldGFpbHM9dm9pZCAwLGEuY29kZT1yLGEuZGV0YWlscz1pLGF9cmV0dXJuIGwodCxlKSx0fShmKEVycm9yKSksa3I9aShpKHthdXRvU3RhcnRMb2FkOiEwLHN0YXJ0UG9zaXRpb246LTEsZGVmYXVsdEF1ZGlvQ29kZWM6dm9pZCAwLGRlYnVnOiExLGNhcExldmVsT25GUFNEcm9wOiExLGNhcExldmVsVG9QbGF5ZXJTaXplOiExLGlnbm9yZURldmljZVBpeGVsUmF0aW86ITEscHJlZmVyTWFuYWdlZE1lZGlhU291cmNlOiEwLGluaXRpYWxMaXZlTWFuaWZlc3RTaXplOjEsbWF4QnVmZmVyTGVuZ3RoOjMwLGJhY2tCdWZmZXJMZW5ndGg6MS8wLGZyb250QnVmZmVyRmx1c2hUaHJlc2hvbGQ6MS8wLG1heEJ1ZmZlclNpemU6NmU3LG1heEJ1ZmZlckhvbGU6LjEsaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kOjIsbnVkZ2VPZmZzZXQ6LjEsbnVkZ2VNYXhSZXRyeTozLG1heEZyYWdMb29rVXBUb2xlcmFuY2U6LjI1LGxpdmVTeW5jRHVyYXRpb25Db3VudDozLGxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudDoxLzAsbGl2ZVN5bmNEdXJhdGlvbjp2b2lkIDAsbGl2ZU1heExhdGVuY3lEdXJhdGlvbjp2b2lkIDAsbWF4TGl2ZVN5bmNQbGF5YmFja1JhdGU6MSxsaXZlRHVyYXRpb25JbmZpbml0eTohMSxsaXZlQmFja0J1ZmZlckxlbmd0aDpudWxsLG1heE1heEJ1ZmZlckxlbmd0aDo2MDAsZW5hYmxlV29ya2VyOiEwLHdvcmtlclBhdGg6bnVsbCxlbmFibGVTb2Z0d2FyZUFFUzohMCxzdGFydExldmVsOnZvaWQgMCxzdGFydEZyYWdQcmVmZXRjaDohMSxmcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZDo1ZTMsZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQ6LjIsYXBwZW5kRXJyb3JNYXhSZXRyeTozLGxvYWRlcjpFcixmTG9hZGVyOnZvaWQgMCxwTG9hZGVyOnZvaWQgMCx4aHJTZXR1cDp2b2lkIDAsbGljZW5zZVhoclNldHVwOnZvaWQgMCxsaWNlbnNlUmVzcG9uc2VDYWxsYmFjazp2b2lkIDAsYWJyQ29udHJvbGxlcjpzcixidWZmZXJDb250cm9sbGVyOmhyLGNhcExldmVsQ29udHJvbGxlcjpjcixlcnJvckNvbnRyb2xsZXI6ZXIsZnBzQ29udHJvbGxlcjp2cixzdHJldGNoU2hvcnRWaWRlb1RyYWNrOiExLG1heEF1ZGlvRnJhbWVzRHJpZnQ6MSxmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5OiEwLGFickV3bWFGYXN0TGl2ZTozLGFickV3bWFTbG93TGl2ZTo5LGFickV3bWFGYXN0Vm9EOjMsYWJyRXdtYVNsb3dWb0Q6OSxhYnJFd21hRGVmYXVsdEVzdGltYXRlOjVlNSxhYnJFd21hRGVmYXVsdEVzdGltYXRlTWF4OjVlNixhYnJCYW5kV2lkdGhGYWN0b3I6Ljk1LGFickJhbmRXaWR0aFVwRmFjdG9yOi43LGFick1heFdpdGhSZWFsQml0cmF0ZTohMSxtYXhTdGFydmF0aW9uRGVsYXk6NCxtYXhMb2FkaW5nRGVsYXk6NCxtaW5BdXRvQml0cmF0ZTowLGVtZUVuYWJsZWQ6ITEsd2lkZXZpbmVMaWNlbnNlVXJsOnZvaWQgMCxkcm1TeXN0ZW1zOnt9LGRybVN5c3RlbU9wdGlvbnM6e30scmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzRnVuYzpudWxsLHRlc3RCYW5kd2lkdGg6ITAscHJvZ3Jlc3NpdmU6ITEsbG93TGF0ZW5jeU1vZGU6ITAsY21jZDp2b2lkIDAsZW5hYmxlRGF0ZVJhbmdlTWV0YWRhdGFDdWVzOiEwLGVuYWJsZUVtc2dNZXRhZGF0YUN1ZXM6ITAsZW5hYmxlSUQzTWV0YWRhdGFDdWVzOiEwLHVzZU1lZGlhQ2FwYWJpbGl0aWVzOiExLGNlcnRMb2FkUG9saWN5OntkZWZhdWx0OnttYXhUaW1lVG9GaXJzdEJ5dGVNczo4ZTMsbWF4TG9hZFRpbWVNczoyZTQsdGltZW91dFJldHJ5Om51bGwsZXJyb3JSZXRyeTpudWxsfX0sa2V5TG9hZFBvbGljeTp7ZGVmYXVsdDp7bWF4VGltZVRvRmlyc3RCeXRlTXM6OGUzLG1heExvYWRUaW1lTXM6MmU0LHRpbWVvdXRSZXRyeTp7bWF4TnVtUmV0cnk6MSxyZXRyeURlbGF5TXM6MWUzLG1heFJldHJ5RGVsYXlNczoyZTQsYmFja29mZjoibGluZWFyIn0sZXJyb3JSZXRyeTp7bWF4TnVtUmV0cnk6OCxyZXRyeURlbGF5TXM6MWUzLG1heFJldHJ5RGVsYXlNczoyZTQsYmFja29mZjoibGluZWFyIn19fSxtYW5pZmVzdExvYWRQb2xpY3k6e2RlZmF1bHQ6e21heFRpbWVUb0ZpcnN0Qnl0ZU1zOjEvMCxtYXhMb2FkVGltZU1zOjJlNCx0aW1lb3V0UmV0cnk6e21heE51bVJldHJ5OjIscmV0cnlEZWxheU1zOjAsbWF4UmV0cnlEZWxheU1zOjB9LGVycm9yUmV0cnk6e21heE51bVJldHJ5OjEscmV0cnlEZWxheU1zOjFlMyxtYXhSZXRyeURlbGF5TXM6OGUzfX19LHBsYXlsaXN0TG9hZFBvbGljeTp7ZGVmYXVsdDp7bWF4VGltZVRvRmlyc3RCeXRlTXM6MWU0LG1heExvYWRUaW1lTXM6MmU0LHRpbWVvdXRSZXRyeTp7bWF4TnVtUmV0cnk6MixyZXRyeURlbGF5TXM6MCxtYXhSZXRyeURlbGF5TXM6MH0sZXJyb3JSZXRyeTp7bWF4TnVtUmV0cnk6MixyZXRyeURlbGF5TXM6MWUzLG1heFJldHJ5RGVsYXlNczo4ZTN9fX0sZnJhZ0xvYWRQb2xpY3k6e2RlZmF1bHQ6e21heFRpbWVUb0ZpcnN0Qnl0ZU1zOjFlNCxtYXhMb2FkVGltZU1zOjEyZTQsdGltZW91dFJldHJ5OnttYXhOdW1SZXRyeTo0LHJldHJ5RGVsYXlNczowLG1heFJldHJ5RGVsYXlNczowfSxlcnJvclJldHJ5OnttYXhOdW1SZXRyeTo2LHJldHJ5RGVsYXlNczoxZTMsbWF4UmV0cnlEZWxheU1zOjhlM319fSxzdGVlcmluZ01hbmlmZXN0TG9hZFBvbGljeTp7ZGVmYXVsdDp7bWF4VGltZVRvRmlyc3RCeXRlTXM6MWU0LG1heExvYWRUaW1lTXM6MmU0LHRpbWVvdXRSZXRyeTp7bWF4TnVtUmV0cnk6MixyZXRyeURlbGF5TXM6MCxtYXhSZXRyeURlbGF5TXM6MH0sZXJyb3JSZXRyeTp7bWF4TnVtUmV0cnk6MSxyZXRyeURlbGF5TXM6MWUzLG1heFJldHJ5RGVsYXlNczo4ZTN9fX0sbWFuaWZlc3RMb2FkaW5nVGltZU91dDoxZTQsbWFuaWZlc3RMb2FkaW5nTWF4UmV0cnk6MSxtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5OjFlMyxtYW5pZmVzdExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6NjRlMyxsZXZlbExvYWRpbmdUaW1lT3V0OjFlNCxsZXZlbExvYWRpbmdNYXhSZXRyeTo0LGxldmVsTG9hZGluZ1JldHJ5RGVsYXk6MWUzLGxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dDo2NGUzLGZyYWdMb2FkaW5nVGltZU91dDoyZTQsZnJhZ0xvYWRpbmdNYXhSZXRyeTo2LGZyYWdMb2FkaW5nUmV0cnlEZWxheToxZTMsZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6NjRlM30se2N1ZUhhbmRsZXI6SCxlbmFibGVXZWJWVFQ6ITEsZW5hYmxlSU1TQzE6ITEsZW5hYmxlQ0VBNzA4Q2FwdGlvbnM6ITEsY2FwdGlvbnNUZXh0VHJhY2sxTGFiZWw6IkVuZ2xpc2giLGNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZToiZW4iLGNhcHRpb25zVGV4dFRyYWNrMkxhYmVsOiJTcGFuaXNoIixjYXB0aW9uc1RleHRUcmFjazJMYW5ndWFnZUNvZGU6ImVzIixjYXB0aW9uc1RleHRUcmFjazNMYWJlbDoiVW5rbm93biBDQyIsY2FwdGlvbnNUZXh0VHJhY2szTGFuZ3VhZ2VDb2RlOiIiLGNhcHRpb25zVGV4dFRyYWNrNExhYmVsOiJVbmtub3duIENDIixjYXB0aW9uc1RleHRUcmFjazRMYW5ndWFnZUNvZGU6IiIscmVuZGVyVGV4dFRyYWNrc05hdGl2ZWx5OiEwfSkse30se3N1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjp2b2lkIDAsc3VidGl0bGVUcmFja0NvbnRyb2xsZXI6dm9pZCAwLHRpbWVsaW5lQ29udHJvbGxlcjp2b2lkIDAsYXVkaW9TdHJlYW1Db250cm9sbGVyOnZvaWQgMCxhdWRpb1RyYWNrQ29udHJvbGxlcjp2b2lkIDAsZW1lQ29udHJvbGxlcjp2b2lkIDAsY21jZENvbnRyb2xsZXI6dm9pZCAwLGNvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXI6Z3J9KTtmdW5jdGlvbiBEcihlKXtyZXR1cm4gZSYmIm9iamVjdCI9PXR5cGVvZiBlP0FycmF5LmlzQXJyYXkoZSk/ZS5tYXAoRHIpOk9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXtyZXR1cm4gdFtyXT1EcihlW3JdKSx0fSkse30pOmV9ZnVuY3Rpb24gX3IoZSl7dmFyIHQ9ZS5sb2FkZXI7dCE9PUxyJiZ0IT09RXI/KEQubG9nKCJbY29uZmlnXTogQ3VzdG9tIGxvYWRlciBkZXRlY3RlZCwgY2Fubm90IGVuYWJsZSBwcm9ncmVzc2l2ZSBzdHJlYW1pbmciKSxlLnByb2dyZXNzaXZlPSExKTpmdW5jdGlvbigpe2lmKHNlbGYuZmV0Y2gmJnNlbGYuQWJvcnRDb250cm9sbGVyJiZzZWxmLlJlYWRhYmxlU3RyZWFtJiZzZWxmLlJlcXVlc3QpdHJ5e3JldHVybiBuZXcgc2VsZi5SZWFkYWJsZVN0cmVhbSh7fSksITB9Y2F0Y2goZSl7fXJldHVybiExfSgpJiYoZS5sb2FkZXI9THIsZS5wcm9ncmVzc2l2ZT0hMCxlLmVuYWJsZVNvZnR3YXJlQUVTPSEwLEQubG9nKCJbY29uZmlnXTogUHJvZ3Jlc3NpdmUgc3RyZWFtaW5nIGVuYWJsZWQsIHVzaW5nIEZldGNoTG9hZGVyIikpfXZhciB4cj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIGk7cmV0dXJuKGk9ZS5jYWxsKHRoaXMsdCwiW2xldmVsLWNvbnRyb2xsZXJdIil8fHRoaXMpLl9sZXZlbHM9W10saS5fZmlyc3RMZXZlbD0tMSxpLl9tYXhBdXRvTGV2ZWw9LTEsaS5fc3RhcnRMZXZlbD12b2lkIDAsaS5jdXJyZW50TGV2ZWw9bnVsbCxpLmN1cnJlbnRMZXZlbEluZGV4PS0xLGkubWFudWFsTGV2ZWxJbmRleD0tMSxpLnN0ZWVyaW5nPXZvaWQgMCxpLm9uUGFyc2VkQ29tcGxldGU9dm9pZCAwLGkuc3RlZXJpbmc9cixpLl9yZWdpc3Rlckxpc3RlbmVycygpLGl9bCh0LGUpO3ZhciByPXQucHJvdG90eXBlO3JldHVybiByLl9yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub24oRS5NQU5JRkVTVF9MT0FESU5HLHRoaXMub25NYW5pZmVzdExvYWRpbmcsdGhpcyksZS5vbihFLk1BTklGRVNUX0xPQURFRCx0aGlzLm9uTWFuaWZlc3RMb2FkZWQsdGhpcyksZS5vbihFLkxFVkVMX0xPQURFRCx0aGlzLm9uTGV2ZWxMb2FkZWQsdGhpcyksZS5vbihFLkxFVkVMU19VUERBVEVELHRoaXMub25MZXZlbHNVcGRhdGVkLHRoaXMpLGUub24oRS5GUkFHX0JVRkZFUkVELHRoaXMub25GcmFnQnVmZmVyZWQsdGhpcyksZS5vbihFLkVSUk9SLHRoaXMub25FcnJvcix0aGlzKX0sci5fdW5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub2ZmKEUuTUFOSUZFU1RfTE9BRElORyx0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLHRoaXMpLGUub2ZmKEUuTUFOSUZFU1RfTE9BREVELHRoaXMub25NYW5pZmVzdExvYWRlZCx0aGlzKSxlLm9mZihFLkxFVkVMX0xPQURFRCx0aGlzLm9uTGV2ZWxMb2FkZWQsdGhpcyksZS5vZmYoRS5MRVZFTFNfVVBEQVRFRCx0aGlzLm9uTGV2ZWxzVXBkYXRlZCx0aGlzKSxlLm9mZihFLkZSQUdfQlVGRkVSRUQsdGhpcy5vbkZyYWdCdWZmZXJlZCx0aGlzKSxlLm9mZihFLkVSUk9SLHRoaXMub25FcnJvcix0aGlzKX0sci5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fdW5yZWdpc3Rlckxpc3RlbmVycygpLHRoaXMuc3RlZXJpbmc9bnVsbCx0aGlzLnJlc2V0TGV2ZWxzKCksZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSxyLnN0b3BMb2FkPWZ1bmN0aW9uKCl7dGhpcy5fbGV2ZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubG9hZEVycm9yPTAsZS5mcmFnbWVudEVycm9yPTB9KSksZS5wcm90b3R5cGUuc3RvcExvYWQuY2FsbCh0aGlzKX0sci5yZXNldExldmVscz1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0TGV2ZWw9dm9pZCAwLHRoaXMubWFudWFsTGV2ZWxJbmRleD0tMSx0aGlzLmN1cnJlbnRMZXZlbEluZGV4PS0xLHRoaXMuY3VycmVudExldmVsPW51bGwsdGhpcy5fbGV2ZWxzPVtdLHRoaXMuX21heEF1dG9MZXZlbD0tMX0sci5vbk1hbmlmZXN0TG9hZGluZz1mdW5jdGlvbihlLHQpe3RoaXMucmVzZXRMZXZlbHMoKX0sci5vbk1hbmlmZXN0TG9hZGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5obHMuY29uZmlnLnByZWZlck1hbmFnZWRNZWRpYVNvdXJjZSxpPVtdLGE9e30sbj17fSxzPSExLG89ITEsbD0hMTt0LmxldmVscy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdCx1LGQ9ZS5hdHRycyxoPWUuYXVkaW9Db2RlYyxmPWUudmlkZW9Db2RlYzstMSE9PShudWxsPT0odD1oKT92b2lkIDA6dC5pbmRleE9mKCJtcDRhLjQwLjM0IikpJiYoQXJ8fChBcj0vY2hyb21lfGZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSxBciYmKGUuYXVkaW9Db2RlYz1oPXZvaWQgMCkpLGgmJihlLmF1ZGlvQ29kZWM9aD1HZShoLHIpKSwwPT09KG51bGw9PSh1PWYpP3ZvaWQgMDp1LmluZGV4T2YoImF2YzEiKSkmJihmPWUudmlkZW9Db2RlYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zcGxpdCgiLCIpLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXS5zcGxpdCgiLiIpO2lmKGkubGVuZ3RoPjIpe3ZhciBhPWkuc2hpZnQoKSsiLiI7YSs9cGFyc2VJbnQoaS5zaGlmdCgpKS50b1N0cmluZygxNiksYSs9KCIwMDAiK3BhcnNlSW50KGkuc2hpZnQoKSkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCksdFtyXT1hfX1yZXR1cm4gdC5qb2luKCIsIil9KGYpKTt2YXIgYz1lLndpZHRoLHY9ZS5oZWlnaHQsZz1lLnVua25vd25Db2RlY3M7aWYoc3x8KHM9ISghY3x8IXYpKSxvfHwobz0hIWYpLGx8fChsPSEhaCksIShudWxsIT1nJiZnLmxlbmd0aHx8aCYmIVBlKGgsImF1ZGlvIixyKXx8ZiYmIVBlKGYsInZpZGVvIixyKSkpe3ZhciBtPWQuQ09ERUNTLHA9ZFsiRlJBTUUtUkFURSJdLHk9ZFsiSERDUC1MRVZFTCJdLEU9ZFsiUEFUSFdBWS1JRCJdLFQ9ZC5SRVNPTFVUSU9OLFM9ZFsiVklERU8tUkFOR0UiXSxMPShFfHwiLiIpKyItIitlLmJpdHJhdGUrIi0iK1QrIi0iK3ArIi0iK20rIi0iK1MrIi0iK3k7aWYoYVtMXSlpZihhW0xdLnVyaT09PWUudXJsfHxlLmF0dHJzWyJQQVRIV0FZLUlEIl0pYVtMXS5hZGRHcm91cElkKCJhdWRpbyIsZC5BVURJTyksYVtMXS5hZGRHcm91cElkKCJ0ZXh0IixkLlNVQlRJVExFUyk7ZWxzZXt2YXIgUj1uW0xdKz0xO2UuYXR0cnNbIlBBVEhXQVktSUQiXT1uZXcgQXJyYXkoUisxKS5qb2luKCIuIik7dmFyIEE9bmV3IHh0KGUpO2FbTF09QSxpLnB1c2goQSl9ZWxzZXt2YXIgYj1uZXcgeHQoZSk7YVtMXT1iLG5bTF09MSxpLnB1c2goYil9fX0pKSx0aGlzLmZpbHRlckFuZFNvcnRNZWRpYU9wdGlvbnMoaSx0LHMsbyxsKX0sci5maWx0ZXJBbmRTb3J0TWVkaWFPcHRpb25zPWZ1bmN0aW9uKGUsdCxyLGksYSl7dmFyIG49dGhpcyxzPVtdLG89W10sbD1lO2lmKChyfHxpKSYmYSYmKGw9bC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS52aWRlb0NvZGVjLGk9ZS52aWRlb1JhbmdlLGE9ZS53aWR0aCxuPWUuaGVpZ2h0O3JldHVybighIXJ8fCEoIWF8fCFuKSkmJiEhKHQ9aSkmJlJ0LmluZGV4T2YodCk+LTF9KSkpLDAhPT1sLmxlbmd0aCl7aWYodC5hdWRpb1RyYWNrcyl7dmFyIHU9dGhpcy5obHMuY29uZmlnLnByZWZlck1hbmFnZWRNZWRpYVNvdXJjZTt3cihzPXQuYXVkaW9UcmFja3MuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5hdWRpb0NvZGVjfHxQZShlLmF1ZGlvQ29kZWMsImF1ZGlvIix1KX0pKSl9dC5zdWJ0aXRsZXMmJndyKG89dC5zdWJ0aXRsZXMpO3ZhciBkPWwuc2xpY2UoMCk7bC5zb3J0KChmdW5jdGlvbihlLHQpe2lmKGUuYXR0cnNbIkhEQ1AtTEVWRUwiXSE9PXQuYXR0cnNbIkhEQ1AtTEVWRUwiXSlyZXR1cm4oZS5hdHRyc1siSERDUC1MRVZFTCJdfHwiIik+KHQuYXR0cnNbIkhEQ1AtTEVWRUwiXXx8IiIpPzE6LTE7aWYociYmZS5oZWlnaHQhPT10LmhlaWdodClyZXR1cm4gZS5oZWlnaHQtdC5oZWlnaHQ7aWYoZS5mcmFtZVJhdGUhPT10LmZyYW1lUmF0ZSlyZXR1cm4gZS5mcmFtZVJhdGUtdC5mcmFtZVJhdGU7aWYoZS52aWRlb1JhbmdlIT09dC52aWRlb1JhbmdlKXJldHVybiBSdC5pbmRleE9mKGUudmlkZW9SYW5nZSktUnQuaW5kZXhPZih0LnZpZGVvUmFuZ2UpO2lmKGUudmlkZW9Db2RlYyE9PXQudmlkZW9Db2RlYyl7dmFyIGk9TWUoZS52aWRlb0NvZGVjKSxhPU1lKHQudmlkZW9Db2RlYyk7aWYoaSE9PWEpcmV0dXJuIGEtaX1pZihlLnVyaT09PXQudXJpJiZlLmNvZGVjU2V0IT09dC5jb2RlY1NldCl7dmFyIG49TmUoZS5jb2RlY1NldCkscz1OZSh0LmNvZGVjU2V0KTtpZihuIT09cylyZXR1cm4gcy1ufXJldHVybiBlLmF2ZXJhZ2VCaXRyYXRlIT09dC5hdmVyYWdlQml0cmF0ZT9lLmF2ZXJhZ2VCaXRyYXRlLXQuYXZlcmFnZUJpdHJhdGU6MH0pKTt2YXIgaD1kWzBdO2lmKHRoaXMuc3RlZXJpbmcmJihsPXRoaXMuc3RlZXJpbmcuZmlsdGVyUGFyc2VkTGV2ZWxzKGwpKS5sZW5ndGghPT1kLmxlbmd0aClmb3IodmFyIGY9MDtmPGQubGVuZ3RoO2YrKylpZihkW2ZdLnBhdGh3YXlJZD09PWxbMF0ucGF0aHdheUlkKXtoPWRbZl07YnJlYWt9dGhpcy5fbGV2ZWxzPWw7Zm9yKHZhciBjPTA7YzxsLmxlbmd0aDtjKyspaWYobFtjXT09PWgpe3ZhciB2O3RoaXMuX2ZpcnN0TGV2ZWw9Yzt2YXIgZz1oLmJpdHJhdGUsbT10aGlzLmhscy5iYW5kd2lkdGhFc3RpbWF0ZTtpZih0aGlzLmxvZygibWFuaWZlc3QgbG9hZGVkLCAiK2wubGVuZ3RoKyIgbGV2ZWwocykgZm91bmQsIGZpcnN0IGJpdHJhdGU6ICIrZyksdm9pZCAwPT09KG51bGw9PSh2PXRoaXMuaGxzLnVzZXJDb25maWcpP3ZvaWQgMDp2LmFickV3bWFEZWZhdWx0RXN0aW1hdGUpKXt2YXIgcD1NYXRoLm1pbihnLHRoaXMuaGxzLmNvbmZpZy5hYnJFd21hRGVmYXVsdEVzdGltYXRlTWF4KTtwPm0mJm09PT1rci5hYnJFd21hRGVmYXVsdEVzdGltYXRlJiYodGhpcy5obHMuYmFuZHdpZHRoRXN0aW1hdGU9cCl9YnJlYWt9dmFyIHk9YSYmIWksTD17bGV2ZWxzOmwsYXVkaW9UcmFja3M6cyxzdWJ0aXRsZVRyYWNrczpvLHNlc3Npb25EYXRhOnQuc2Vzc2lvbkRhdGEsc2Vzc2lvbktleXM6dC5zZXNzaW9uS2V5cyxmaXJzdExldmVsOnRoaXMuX2ZpcnN0TGV2ZWwsc3RhdHM6dC5zdGF0cyxhdWRpbzphLHZpZGVvOmksYWx0QXVkaW86IXkmJnMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuISFlLnVybH0pKX07dGhpcy5obHMudHJpZ2dlcihFLk1BTklGRVNUX1BBUlNFRCxMKSwodGhpcy5obHMuY29uZmlnLmF1dG9TdGFydExvYWR8fHRoaXMuaGxzLmZvcmNlU3RhcnRMb2FkKSYmdGhpcy5obHMuc3RhcnRMb2FkKHRoaXMuaGxzLmNvbmZpZy5zdGFydFBvc2l0aW9uKX1lbHNlIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYobi5obHMpe3QubGV2ZWxzLmxlbmd0aCYmbi53YXJuKCJPbmUgb3IgbW9yZSBDT0RFQ1MgaW4gdmFyaWFudCBub3Qgc3VwcG9ydGVkOiAiK0pTT04uc3RyaW5naWZ5KHQubGV2ZWxzWzBdLmF0dHJzKSk7dmFyIGU9bmV3IEVycm9yKCJubyBsZXZlbCB3aXRoIGNvbXBhdGlibGUgY29kZWNzIGZvdW5kIGluIG1hbmlmZXN0Iik7bi5obHMudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLk1BTklGRVNUX0lOQ09NUEFUSUJMRV9DT0RFQ1NfRVJST1IsZmF0YWw6ITAsdXJsOnQudXJsLGVycm9yOmUscmVhc29uOmUubWVzc2FnZX0pfX0pKX0sci5vbkVycm9yPWZ1bmN0aW9uKGUsdCl7IXQuZmF0YWwmJnQuY29udGV4dCYmdC5jb250ZXh0LnR5cGU9PT1ydCYmdC5jb250ZXh0LmxldmVsPT09dGhpcy5sZXZlbCYmdGhpcy5jaGVja1JldHJ5KHQpfSxyLm9uRnJhZ0J1ZmZlcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5mcmFnO2lmKHZvaWQgMCE9PXImJnIudHlwZT09PW50KXt2YXIgaT1yLmVsZW1lbnRhcnlTdHJlYW1zO2lmKCFPYmplY3Qua2V5cyhpKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hIWlbZV19KSkpcmV0dXJuO3ZhciBhPXRoaXMuX2xldmVsc1tyLmxldmVsXTtudWxsIT1hJiZhLmxvYWRFcnJvciYmKHRoaXMubG9nKCJSZXNldHRpbmcgbGV2ZWwgZXJyb3IgY291bnQgb2YgIithLmxvYWRFcnJvcisiIG9uIGZyYWcgYnVmZmVyZWQiKSxhLmxvYWRFcnJvcj0wKX19LHIub25MZXZlbExvYWRlZD1mdW5jdGlvbihlLHQpe3ZhciByLGksYT10LmxldmVsLG49dC5kZXRhaWxzLHM9dGhpcy5fbGV2ZWxzW2FdO2lmKCFzKXJldHVybiB0aGlzLndhcm4oIkludmFsaWQgbGV2ZWwgaW5kZXggIithKSx2b2lkKG51bGwhPShpPXQuZGVsaXZlcnlEaXJlY3RpdmVzKSYmaS5za2lwJiYobi5kZWx0YVVwZGF0ZUZhaWxlZD0hMCkpO2E9PT10aGlzLmN1cnJlbnRMZXZlbEluZGV4PygwPT09cy5mcmFnbWVudEVycm9yJiYocy5sb2FkRXJyb3I9MCksdGhpcy5wbGF5bGlzdExvYWRlZChhLHQscy5kZXRhaWxzKSk6bnVsbCE9KHI9dC5kZWxpdmVyeURpcmVjdGl2ZXMpJiZyLnNraXAmJihuLmRlbHRhVXBkYXRlRmFpbGVkPSEwKX0sci5sb2FkUGxheWxpc3Q9ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGUubG9hZFBsYXlsaXN0LmNhbGwodGhpcyk7dmFyIHI9dGhpcy5jdXJyZW50TGV2ZWxJbmRleCxpPXRoaXMuY3VycmVudExldmVsO2lmKGkmJnRoaXMuc2hvdWxkTG9hZFBsYXlsaXN0KGkpKXt2YXIgYT1pLnVyaTtpZih0KXRyeXthPXQuYWRkRGlyZWN0aXZlcyhhKX1jYXRjaChlKXt0aGlzLndhcm4oIkNvdWxkIG5vdCBjb25zdHJ1Y3QgbmV3IFVSTCB3aXRoIEhMUyBEZWxpdmVyeSBEaXJlY3RpdmVzOiAiK2UpfXZhciBuPWkuYXR0cnNbIlBBVEhXQVktSUQiXTt0aGlzLmxvZygiTG9hZGluZyBsZXZlbCBpbmRleCAiK3IrKHZvaWQgMCE9PShudWxsPT10P3ZvaWQgMDp0Lm1zbik/IiBhdCBzbiAiK3QubXNuKyIgcGFydCAiK3QucGFydDoiIikrIiB3aXRoIisobj8iIFBhdGh3YXkgIituOiIiKSsiICIrYSksdGhpcy5jbGVhclRpbWVyKCksdGhpcy5obHMudHJpZ2dlcihFLkxFVkVMX0xPQURJTkcse3VybDphLGxldmVsOnIscGF0aHdheUlkOmkuYXR0cnNbIlBBVEhXQVktSUQiXSxpZDowLGRlbGl2ZXJ5RGlyZWN0aXZlczp0fHxudWxsfSl9fSxyLnJlbW92ZUxldmVsPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcyxpPXRoaXMuX2xldmVscy5maWx0ZXIoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGkhPT1lfHwoci5zdGVlcmluZyYmci5zdGVlcmluZy5yZW1vdmVMZXZlbCh0KSx0PT09ci5jdXJyZW50TGV2ZWwmJihyLmN1cnJlbnRMZXZlbD1udWxsLHIuY3VycmVudExldmVsSW5kZXg9LTEsdC5kZXRhaWxzJiZ0LmRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxldmVsPS0xfSkpKSwhMSl9KSk7TnQoaSksdGhpcy5fbGV2ZWxzPWksdGhpcy5jdXJyZW50TGV2ZWxJbmRleD4tMSYmbnVsbCE9KHQ9dGhpcy5jdXJyZW50TGV2ZWwpJiZ0LmRldGFpbHMmJih0aGlzLmN1cnJlbnRMZXZlbEluZGV4PXRoaXMuY3VycmVudExldmVsLmRldGFpbHMuZnJhZ21lbnRzWzBdLmxldmVsKSx0aGlzLmhscy50cmlnZ2VyKEUuTEVWRUxTX1VQREFURUQse2xldmVsczppfSl9LHIub25MZXZlbHNVcGRhdGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5sZXZlbHM7dGhpcy5fbGV2ZWxzPXJ9LHIuY2hlY2tNYXhBdXRvVXBkYXRlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzLHQ9ZS5hdXRvTGV2ZWxDYXBwaW5nLHI9ZS5tYXhBdXRvTGV2ZWwsaT1lLm1heEhkY3BMZXZlbDt0aGlzLl9tYXhBdXRvTGV2ZWwhPT1yJiYodGhpcy5fbWF4QXV0b0xldmVsPXIsdGhpcy5obHMudHJpZ2dlcihFLk1BWF9BVVRPX0xFVkVMX1VQREFURUQse2F1dG9MZXZlbENhcHBpbmc6dCxsZXZlbHM6dGhpcy5sZXZlbHMsbWF4QXV0b0xldmVsOnIsbWluQXV0b0xldmVsOnRoaXMuaGxzLm1pbkF1dG9MZXZlbCxtYXhIZGNwTGV2ZWw6aX0pKX0scyh0LFt7a2V5OiJsZXZlbHMiLGdldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fbGV2ZWxzLmxlbmd0aD9udWxsOnRoaXMuX2xldmVsc319LHtrZXk6ImxldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50TGV2ZWxJbmRleH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xldmVscztpZigwIT09dC5sZW5ndGgpe2lmKGU8MHx8ZT49dC5sZW5ndGgpe3ZhciByPW5ldyBFcnJvcigiaW52YWxpZCBsZXZlbCBpZHgiKSxpPWU8MDtpZih0aGlzLmhscy50cmlnZ2VyKEUuRVJST1Ise3R5cGU6VC5PVEhFUl9FUlJPUixkZXRhaWxzOlMuTEVWRUxfU1dJVENIX0VSUk9SLGxldmVsOmUsZmF0YWw6aSxlcnJvcjpyLHJlYXNvbjpyLm1lc3NhZ2V9KSxpKXJldHVybjtlPU1hdGgubWluKGUsdC5sZW5ndGgtMSl9dmFyIGE9dGhpcy5jdXJyZW50TGV2ZWxJbmRleCxuPXRoaXMuY3VycmVudExldmVsLHM9bj9uLmF0dHJzWyJQQVRIV0FZLUlEIl06dm9pZCAwLG89dFtlXSxsPW8uYXR0cnNbIlBBVEhXQVktSUQiXTtpZih0aGlzLmN1cnJlbnRMZXZlbEluZGV4PWUsdGhpcy5jdXJyZW50TGV2ZWw9byxhIT09ZXx8IW8uZGV0YWlsc3x8IW58fHMhPT1sKXt0aGlzLmxvZygiU3dpdGNoaW5nIHRvIGxldmVsICIrZSsiICgiKyhvLmhlaWdodD9vLmhlaWdodCsicCAiOiIiKSsoby52aWRlb1JhbmdlP28udmlkZW9SYW5nZSsiICI6IiIpKyhvLmNvZGVjU2V0P28uY29kZWNTZXQrIiAiOiIiKSsiQCIrby5iaXRyYXRlKyIpIisobD8iIHdpdGggUGF0aHdheSAiK2w6IiIpKyIgZnJvbSBsZXZlbCAiK2ErKHM/IiB3aXRoIFBhdGh3YXkgIitzOiIiKSk7dmFyIHU9e2xldmVsOmUsYXR0cnM6by5hdHRycyxkZXRhaWxzOm8uZGV0YWlscyxiaXRyYXRlOm8uYml0cmF0ZSxhdmVyYWdlQml0cmF0ZTpvLmF2ZXJhZ2VCaXRyYXRlLG1heEJpdHJhdGU6by5tYXhCaXRyYXRlLHJlYWxCaXRyYXRlOm8ucmVhbEJpdHJhdGUsd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsY29kZWNTZXQ6by5jb2RlY1NldCxhdWRpb0NvZGVjOm8uYXVkaW9Db2RlYyx2aWRlb0NvZGVjOm8udmlkZW9Db2RlYyxhdWRpb0dyb3VwczpvLmF1ZGlvR3JvdXBzLHN1YnRpdGxlR3JvdXBzOm8uc3VidGl0bGVHcm91cHMsbG9hZGVkOm8ubG9hZGVkLGxvYWRFcnJvcjpvLmxvYWRFcnJvcixmcmFnbWVudEVycm9yOm8uZnJhZ21lbnRFcnJvcixuYW1lOm8ubmFtZSxpZDpvLmlkLHVyaTpvLnVyaSx1cmw6by51cmwsdXJsSWQ6MCxhdWRpb0dyb3VwSWRzOm8uYXVkaW9Hcm91cElkcyx0ZXh0R3JvdXBJZHM6by50ZXh0R3JvdXBJZHN9O3RoaXMuaGxzLnRyaWdnZXIoRS5MRVZFTF9TV0lUQ0hJTkcsdSk7dmFyIGQ9by5kZXRhaWxzO2lmKCFkfHxkLmxpdmUpe3ZhciBoPXRoaXMuc3dpdGNoUGFyYW1zKG8udXJpLG51bGw9PW4/dm9pZCAwOm4uZGV0YWlscyxkKTt0aGlzLmxvYWRQbGF5bGlzdChoKX19fX19LHtrZXk6Im1hbnVhbExldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW51YWxMZXZlbEluZGV4fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5tYW51YWxMZXZlbEluZGV4PWUsdm9pZCAwPT09dGhpcy5fc3RhcnRMZXZlbCYmKHRoaXMuX3N0YXJ0TGV2ZWw9ZSksLTEhPT1lJiYodGhpcy5sZXZlbD1lKX19LHtrZXk6ImZpcnN0TGV2ZWwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJzdExldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZmlyc3RMZXZlbD1lfX0se2tleToic3RhcnRMZXZlbCIsZ2V0OmZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy5fc3RhcnRMZXZlbCl7dmFyIGU9dGhpcy5obHMuY29uZmlnLnN0YXJ0TGV2ZWw7cmV0dXJuIHZvaWQgMCE9PWU/ZTp0aGlzLmhscy5maXJzdEF1dG9MZXZlbH1yZXR1cm4gdGhpcy5fc3RhcnRMZXZlbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3N0YXJ0TGV2ZWw9ZX19LHtrZXk6Im5leHRMb2FkTGV2ZWwiLGdldDpmdW5jdGlvbigpe3JldHVybi0xIT09dGhpcy5tYW51YWxMZXZlbEluZGV4P3RoaXMubWFudWFsTGV2ZWxJbmRleDp0aGlzLmhscy5uZXh0QXV0b0xldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5sZXZlbD1lLC0xPT09dGhpcy5tYW51YWxMZXZlbEluZGV4JiYodGhpcy5obHMubmV4dEF1dG9MZXZlbD1lKX19XSksdH0odHIpO2Z1bmN0aW9uIHdyKGUpe3ZhciB0PXt9O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5ncm91cElkfHwiIjtlLmlkPXRbcl09dFtyXXx8MCx0W3JdKyt9KSl9dmFyIENyPSJOT1RfTE9BREVEIixJcj0iQVBQRU5ESU5HIixQcj0iUEFSVElBTCIsRnI9Ik9LIixPcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5hY3RpdmVQYXJ0TGlzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmVuZExpc3RGcmFnbWVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmZyYWdtZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMudGltZVJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuYnVmZmVyUGFkZGluZz0uMix0aGlzLmhscz12b2lkIDAsdGhpcy5oYXNHYXBzPSExLHRoaXMuaGxzPWUsdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcnMoKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5fcmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9uKEUuQlVGRkVSX0FQUEVOREVELHRoaXMub25CdWZmZXJBcHBlbmRlZCx0aGlzKSxlLm9uKEUuRlJBR19CVUZGRVJFRCx0aGlzLm9uRnJhZ0J1ZmZlcmVkLHRoaXMpLGUub24oRS5GUkFHX0xPQURFRCx0aGlzLm9uRnJhZ0xvYWRlZCx0aGlzKX0sdC5fdW5yZWdpc3Rlckxpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGxzO2Uub2ZmKEUuQlVGRkVSX0FQUEVOREVELHRoaXMub25CdWZmZXJBcHBlbmRlZCx0aGlzKSxlLm9mZihFLkZSQUdfQlVGRkVSRUQsdGhpcy5vbkZyYWdCdWZmZXJlZCx0aGlzKSxlLm9mZihFLkZSQUdfTE9BREVELHRoaXMub25GcmFnTG9hZGVkLHRoaXMpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl91bnJlZ2lzdGVyTGlzdGVuZXJzKCksdGhpcy5mcmFnbWVudHM9dGhpcy5hY3RpdmVQYXJ0TGlzdHM9dGhpcy5lbmRMaXN0RnJhZ21lbnRzPXRoaXMudGltZVJhbmdlcz1udWxsfSx0LmdldEFwcGVuZGVkRnJhZz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuYWN0aXZlUGFydExpc3RzW3RdO2lmKHIpZm9yKHZhciBpPXIubGVuZ3RoO2ktLTspe3ZhciBhPXJbaV07aWYoIWEpYnJlYWs7dmFyIG49YS5lbmQ7aWYoYS5zdGFydDw9ZSYmbnVsbCE9PW4mJmU8PW4pcmV0dXJuIGF9cmV0dXJuIHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGUsdCl9LHQuZ2V0QnVmZmVyZWRGcmFnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuZnJhZ21lbnRzLGk9T2JqZWN0LmtleXMociksYT1pLmxlbmd0aDthLS07KXt2YXIgbj1yW2lbYV1dO2lmKChudWxsPT1uP3ZvaWQgMDpuLmJvZHkudHlwZSk9PT10JiZuLmJ1ZmZlcmVkKXt2YXIgcz1uLmJvZHk7aWYocy5zdGFydDw9ZSYmZTw9cy5lbmQpcmV0dXJuIHN9fXJldHVybiBudWxsfSx0LmRldGVjdEV2aWN0ZWRGcmFnbWVudHM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9dGhpczt0aGlzLnRpbWVSYW5nZXMmJih0aGlzLnRpbWVSYW5nZXNbZV09dCk7dmFyIG49KG51bGw9PWk/dm9pZCAwOmkuZnJhZ21lbnQuc24pfHwtMTtPYmplY3Qua2V5cyh0aGlzLmZyYWdtZW50cykuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIHM9YS5mcmFnbWVudHNbaV07aWYocyYmIShuPj1zLmJvZHkuc24pKWlmKHMuYnVmZmVyZWR8fHMubG9hZGVkKXt2YXIgbz1zLnJhbmdlW2VdO28mJm8udGltZS5zb21lKChmdW5jdGlvbihlKXt2YXIgcj0hYS5pc1RpbWVCdWZmZXJlZChlLnN0YXJ0UFRTLGUuZW5kUFRTLHQpO3JldHVybiByJiZhLnJlbW92ZUZyYWdtZW50KHMuYm9keSkscn0pKX1lbHNlIHMuYm9keS50eXBlPT09ciYmYS5yZW1vdmVGcmFnbWVudChzLmJvZHkpfSkpfSx0LmRldGVjdFBhcnRpYWxGcmFnbWVudHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMudGltZVJhbmdlcyxpPWUuZnJhZyxhPWUucGFydDtpZihyJiYiaW5pdFNlZ21lbnQiIT09aS5zbil7dmFyIG49TnIoaSkscz10aGlzLmZyYWdtZW50c1tuXTtpZighKCFzfHxzLmJ1ZmZlcmVkJiZpLmdhcCkpe3ZhciBvPSFpLnJlbHVybDtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1pLmVsZW1lbnRhcnlTdHJlYW1zW2VdO2lmKG4pe3ZhciBsPXJbZV0sdT1vfHwhMD09PW4ucGFydGlhbDtzLnJhbmdlW2VdPXQuZ2V0QnVmZmVyZWRUaW1lcyhpLGEsdSxsKX19KSkscy5sb2FkZWQ9bnVsbCxPYmplY3Qua2V5cyhzLnJhbmdlKS5sZW5ndGg/KHMuYnVmZmVyZWQ9ITAsKHMuYm9keS5lbmRMaXN0PWkuZW5kTGlzdHx8cy5ib2R5LmVuZExpc3QpJiYodGhpcy5lbmRMaXN0RnJhZ21lbnRzW3MuYm9keS50eXBlXT1zKSxNcihzKXx8dGhpcy5yZW1vdmVQYXJ0cyhpLnNuLTEsaS50eXBlKSk6dGhpcy5yZW1vdmVGcmFnbWVudChzLmJvZHkpfX19LHQucmVtb3ZlUGFydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmFjdGl2ZVBhcnRMaXN0c1t0XTtyJiYodGhpcy5hY3RpdmVQYXJ0TGlzdHNbdF09ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZyYWdtZW50LnNuPj1lfSkpKX0sdC5mcmFnQnVmZmVyZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1OcihlKSxpPXRoaXMuZnJhZ21lbnRzW3JdOyFpJiZ0JiYoaT10aGlzLmZyYWdtZW50c1tyXT17Ym9keTplLGFwcGVuZGVkUFRTOm51bGwsbG9hZGVkOm51bGwsYnVmZmVyZWQ6ITEscmFuZ2U6T2JqZWN0LmNyZWF0ZShudWxsKX0sZS5nYXAmJih0aGlzLmhhc0dhcHM9ITApKSxpJiYoaS5sb2FkZWQ9bnVsbCxpLmJ1ZmZlcmVkPSEwKX0sdC5nZXRCdWZmZXJlZFRpbWVzPWZ1bmN0aW9uKGUsdCxyLGkpe2Zvcih2YXIgYT17dGltZTpbXSxwYXJ0aWFsOnJ9LG49ZS5zdGFydCxzPWUuZW5kLG89ZS5taW5FbmRQVFN8fHMsbD1lLm1heFN0YXJ0UFRTfHxuLHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGQ9aS5zdGFydCh1KS10aGlzLmJ1ZmZlclBhZGRpbmcsaD1pLmVuZCh1KSt0aGlzLmJ1ZmZlclBhZGRpbmc7aWYobD49ZCYmbzw9aCl7YS50aW1lLnB1c2goe3N0YXJ0UFRTOk1hdGgubWF4KG4saS5zdGFydCh1KSksZW5kUFRTOk1hdGgubWluKHMsaS5lbmQodSkpfSk7YnJlYWt9aWYobjxoJiZzPmQpe3ZhciBmPU1hdGgubWF4KG4saS5zdGFydCh1KSksYz1NYXRoLm1pbihzLGkuZW5kKHUpKTtjPmYmJihhLnBhcnRpYWw9ITAsYS50aW1lLnB1c2goe3N0YXJ0UFRTOmYsZW5kUFRTOmN9KSl9ZWxzZSBpZihzPD1kKWJyZWFrfXJldHVybiBhfSx0LmdldFBhcnRpYWxGcmFnbWVudD1mdW5jdGlvbihlKXt2YXIgdCxyLGksYT1udWxsLG49MCxzPXRoaXMuYnVmZmVyUGFkZGluZyxvPXRoaXMuZnJhZ21lbnRzO3JldHVybiBPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbihsKXt2YXIgdT1vW2xdO3UmJk1yKHUpJiYocj11LmJvZHkuc3RhcnQtcyxpPXUuYm9keS5lbmQrcyxlPj1yJiZlPD1pJiYodD1NYXRoLm1pbihlLXIsaS1lKSxuPD10JiYoYT11LmJvZHksbj10KSkpfSkpLGF9LHQuaXNFbmRMaXN0QXBwZW5kZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbmRMaXN0RnJhZ21lbnRzW2VdO3JldHVybiB2b2lkIDAhPT10JiYodC5idWZmZXJlZHx8TXIodCkpfSx0LmdldFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PU5yKGUpLHI9dGhpcy5mcmFnbWVudHNbdF07cmV0dXJuIHI/ci5idWZmZXJlZD9NcihyKT9QcjpGcjpJcjpDcn0sdC5pc1RpbWVCdWZmZXJlZD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLGEsbj0wO248ci5sZW5ndGg7bisrKXtpZihpPXIuc3RhcnQobiktdGhpcy5idWZmZXJQYWRkaW5nLGE9ci5lbmQobikrdGhpcy5idWZmZXJQYWRkaW5nLGU+PWkmJnQ8PWEpcmV0dXJuITA7aWYodDw9aSlyZXR1cm4hMX1yZXR1cm4hMX0sdC5vbkZyYWdMb2FkZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZyYWcsaT10LnBhcnQ7aWYoImluaXRTZWdtZW50IiE9PXIuc24mJiFyLmJpdHJhdGVUZXN0KXt2YXIgYT1pP251bGw6dCxuPU5yKHIpO3RoaXMuZnJhZ21lbnRzW25dPXtib2R5OnIsYXBwZW5kZWRQVFM6bnVsbCxsb2FkZWQ6YSxidWZmZXJlZDohMSxyYW5nZTpPYmplY3QuY3JlYXRlKG51bGwpfX19LHQub25CdWZmZXJBcHBlbmRlZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT10LmZyYWcsYT10LnBhcnQsbj10LnRpbWVSYW5nZXM7aWYoImluaXRTZWdtZW50IiE9PWkuc24pe3ZhciBzPWkudHlwZTtpZihhKXt2YXIgbz10aGlzLmFjdGl2ZVBhcnRMaXN0c1tzXTtvfHwodGhpcy5hY3RpdmVQYXJ0TGlzdHNbc109bz1bXSksby5wdXNoKGEpfXRoaXMudGltZVJhbmdlcz1uLE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07ci5kZXRlY3RFdmljdGVkRnJhZ21lbnRzKGUsdCxzLGEpfSkpfX0sdC5vbkZyYWdCdWZmZXJlZD1mdW5jdGlvbihlLHQpe3RoaXMuZGV0ZWN0UGFydGlhbEZyYWdtZW50cyh0KX0sdC5oYXNGcmFnbWVudD1mdW5jdGlvbihlKXt2YXIgdD1OcihlKTtyZXR1cm4hIXRoaXMuZnJhZ21lbnRzW3RdfSx0Lmhhc1BhcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEobnVsbD09KHQ9dGhpcy5hY3RpdmVQYXJ0TGlzdHNbZV0pfHwhdC5sZW5ndGgpfSx0LnJlbW92ZUZyYWdtZW50c0luUmFuZ2U9ZnVuY3Rpb24oZSx0LHIsaSxhKXt2YXIgbj10aGlzO2kmJiF0aGlzLmhhc0dhcHN8fE9iamVjdC5rZXlzKHRoaXMuZnJhZ21lbnRzKS5mb3JFYWNoKChmdW5jdGlvbihzKXt2YXIgbz1uLmZyYWdtZW50c1tzXTtpZihvKXt2YXIgbD1vLmJvZHk7bC50eXBlIT09cnx8aSYmIWwuZ2FwfHxsLnN0YXJ0PHQmJmwuZW5kPmUmJihvLmJ1ZmZlcmVkfHxhKSYmbi5yZW1vdmVGcmFnbWVudChsKX19KSl9LHQucmVtb3ZlRnJhZ21lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9TnIoZSk7ZS5zdGF0cy5sb2FkZWQ9MCxlLmNsZWFyRWxlbWVudGFyeVN0cmVhbUluZm8oKTt2YXIgcj10aGlzLmFjdGl2ZVBhcnRMaXN0c1tlLnR5cGVdO2lmKHIpe3ZhciBpPWUuc247dGhpcy5hY3RpdmVQYXJ0TGlzdHNbZS50eXBlXT1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZnJhZ21lbnQuc24hPT1pfSkpfWRlbGV0ZSB0aGlzLmZyYWdtZW50c1t0XSxlLmVuZExpc3QmJmRlbGV0ZSB0aGlzLmVuZExpc3RGcmFnbWVudHNbZS50eXBlXX0sdC5yZW1vdmVBbGxGcmFnbWVudHM9ZnVuY3Rpb24oKXt0aGlzLmZyYWdtZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuZW5kTGlzdEZyYWdtZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuYWN0aXZlUGFydExpc3RzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5oYXNHYXBzPSExfSxlfSgpO2Z1bmN0aW9uIE1yKGUpe3ZhciB0LHIsaTtyZXR1cm4gZS5idWZmZXJlZCYmKGUuYm9keS5nYXB8fChudWxsPT0odD1lLnJhbmdlLnZpZGVvKT92b2lkIDA6dC5wYXJ0aWFsKXx8KG51bGw9PShyPWUucmFuZ2UuYXVkaW8pP3ZvaWQgMDpyLnBhcnRpYWwpfHwobnVsbD09KGk9ZS5yYW5nZS5hdWRpb3ZpZGVvKT92b2lkIDA6aS5wYXJ0aWFsKSl9ZnVuY3Rpb24gTnIoZSl7cmV0dXJuIGUudHlwZSsiXyIrZS5sZXZlbCsiXyIrZS5zbn12YXIgQnI9TWF0aC5wb3coMiwxNyksVXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY29uZmlnPXZvaWQgMCx0aGlzLmxvYWRlcj1udWxsLHRoaXMucGFydExvYWRUaW1lb3V0PS0xLHRoaXMuY29uZmlnPWV9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubG9hZGVyJiYodGhpcy5sb2FkZXIuZGVzdHJveSgpLHRoaXMubG9hZGVyPW51bGwpfSx0LmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5sb2FkZXImJnRoaXMubG9hZGVyLmFib3J0KCl9LHQubG9hZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsYT1lLnVybDtpZighYSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFZyKHt0eXBlOlQuTkVUV09SS19FUlJPUixkZXRhaWxzOlMuRlJBR19MT0FEX0VSUk9SLGZhdGFsOiExLGZyYWc6ZSxlcnJvcjpuZXcgRXJyb3IoIkZyYWdtZW50IGRvZXMgbm90IGhhdmUgYSAiKyhhPyJwYXJ0IGxpc3QiOiJ1cmwiKSksbmV0d29ya0RldGFpbHM6bnVsbH0pKTt0aGlzLmFib3J0KCk7dmFyIG49dGhpcy5jb25maWcscz1uLmZMb2FkZXIsbz1uLmxvYWRlcjtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGwsdSl7aWYoci5sb2FkZXImJnIubG9hZGVyLmRlc3Ryb3koKSxlLmdhcCl7aWYoZS50YWdMaXN0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJHQVAiPT09ZVswXX0pKSlyZXR1cm4gdm9pZCB1KEhyKGUpKTtlLmdhcD0hMX12YXIgZD1yLmxvYWRlcj1lLmxvYWRlcj1zP25ldyBzKG4pOm5ldyBvKG4pLGg9R3IoZSksZj1IdChuLmZyYWdMb2FkUG9saWN5LmRlZmF1bHQpLGM9e2xvYWRQb2xpY3k6Zix0aW1lb3V0OmYubWF4TG9hZFRpbWVNcyxtYXhSZXRyeTowLHJldHJ5RGVsYXk6MCxtYXhSZXRyeURlbGF5OjAsaGlnaFdhdGVyTWFyazoiaW5pdFNlZ21lbnQiPT09ZS5zbj8xLzA6QnJ9O2Uuc3RhdHM9ZC5zdGF0cyxkLmxvYWQoaCxjLHtvblN1Y2Nlc3M6ZnVuY3Rpb24odCxpLGEsbil7ci5yZXNldExvYWRlcihlLGQpO3ZhciBzPXQuZGF0YTthLnJlc2V0SVYmJmUuZGVjcnlwdGRhdGEmJihlLmRlY3J5cHRkYXRhLml2PW5ldyBVaW50OEFycmF5KHMuc2xpY2UoMCwxNikpLHM9cy5zbGljZSgxNikpLGwoe2ZyYWc6ZSxwYXJ0Om51bGwscGF5bG9hZDpzLG5ldHdvcmtEZXRhaWxzOm59KX0sb25FcnJvcjpmdW5jdGlvbih0LG4scyxvKXtyLnJlc2V0TG9hZGVyKGUsZCksdShuZXcgVnIoe3R5cGU6VC5ORVRXT1JLX0VSUk9SLGRldGFpbHM6Uy5GUkFHX0xPQURfRVJST1IsZmF0YWw6ITEsZnJhZzplLHJlc3BvbnNlOmkoe3VybDphLGRhdGE6dm9pZCAwfSx0KSxlcnJvcjpuZXcgRXJyb3IoIkhUVFAgRXJyb3IgIit0LmNvZGUrIiAiK3QudGV4dCksbmV0d29ya0RldGFpbHM6cyxzdGF0czpvfSkpfSxvbkFib3J0OmZ1bmN0aW9uKHQsaSxhKXtyLnJlc2V0TG9hZGVyKGUsZCksdShuZXcgVnIoe3R5cGU6VC5ORVRXT1JLX0VSUk9SLGRldGFpbHM6Uy5JTlRFUk5BTF9BQk9SVEVELGZhdGFsOiExLGZyYWc6ZSxlcnJvcjpuZXcgRXJyb3IoIkFib3J0ZWQiKSxuZXR3b3JrRGV0YWlsczphLHN0YXRzOnR9KSl9LG9uVGltZW91dDpmdW5jdGlvbih0LGksYSl7ci5yZXNldExvYWRlcihlLGQpLHUobmV3IFZyKHt0eXBlOlQuTkVUV09SS19FUlJPUixkZXRhaWxzOlMuRlJBR19MT0FEX1RJTUVPVVQsZmF0YWw6ITEsZnJhZzplLGVycm9yOm5ldyBFcnJvcigiVGltZW91dCBhZnRlciAiK2MudGltZW91dCsibXMiKSxuZXR3b3JrRGV0YWlsczphLHN0YXRzOnR9KSl9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24ocixpLGEsbil7dCYmdCh7ZnJhZzplLHBhcnQ6bnVsbCxwYXlsb2FkOmEsbmV0d29ya0RldGFpbHM6bn0pfX0pfSkpfSx0LmxvYWRQYXJ0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT10aGlzO3RoaXMuYWJvcnQoKTt2YXIgbj10aGlzLmNvbmZpZyxzPW4uZkxvYWRlcixvPW4ubG9hZGVyO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obCx1KXtpZihhLmxvYWRlciYmYS5sb2FkZXIuZGVzdHJveSgpLGUuZ2FwfHx0LmdhcCl1KEhyKGUsdCkpO2Vsc2V7dmFyIGQ9YS5sb2FkZXI9ZS5sb2FkZXI9cz9uZXcgcyhuKTpuZXcgbyhuKSxoPUdyKGUsdCksZj1IdChuLmZyYWdMb2FkUG9saWN5LmRlZmF1bHQpLGM9e2xvYWRQb2xpY3k6Zix0aW1lb3V0OmYubWF4TG9hZFRpbWVNcyxtYXhSZXRyeTowLHJldHJ5RGVsYXk6MCxtYXhSZXRyeURlbGF5OjAsaGlnaFdhdGVyTWFyazpCcn07dC5zdGF0cz1kLnN0YXRzLGQubG9hZChoLGMse29uU3VjY2VzczpmdW5jdGlvbihpLG4scyxvKXthLnJlc2V0TG9hZGVyKGUsZCksYS51cGRhdGVTdGF0c0Zyb21QYXJ0KGUsdCk7dmFyIHU9e2ZyYWc6ZSxwYXJ0OnQscGF5bG9hZDppLmRhdGEsbmV0d29ya0RldGFpbHM6b307cih1KSxsKHUpfSxvbkVycm9yOmZ1bmN0aW9uKHIsbixzLG8pe2EucmVzZXRMb2FkZXIoZSxkKSx1KG5ldyBWcih7dHlwZTpULk5FVFdPUktfRVJST1IsZGV0YWlsczpTLkZSQUdfTE9BRF9FUlJPUixmYXRhbDohMSxmcmFnOmUscGFydDp0LHJlc3BvbnNlOmkoe3VybDpoLnVybCxkYXRhOnZvaWQgMH0sciksZXJyb3I6bmV3IEVycm9yKCJIVFRQIEVycm9yICIrci5jb2RlKyIgIityLnRleHQpLG5ldHdvcmtEZXRhaWxzOnMsc3RhdHM6b30pKX0sb25BYm9ydDpmdW5jdGlvbihyLGksbil7ZS5zdGF0cy5hYm9ydGVkPXQuc3RhdHMuYWJvcnRlZCxhLnJlc2V0TG9hZGVyKGUsZCksdShuZXcgVnIoe3R5cGU6VC5ORVRXT1JLX0VSUk9SLGRldGFpbHM6Uy5JTlRFUk5BTF9BQk9SVEVELGZhdGFsOiExLGZyYWc6ZSxwYXJ0OnQsZXJyb3I6bmV3IEVycm9yKCJBYm9ydGVkIiksbmV0d29ya0RldGFpbHM6bixzdGF0czpyfSkpfSxvblRpbWVvdXQ6ZnVuY3Rpb24ocixpLG4pe2EucmVzZXRMb2FkZXIoZSxkKSx1KG5ldyBWcih7dHlwZTpULk5FVFdPUktfRVJST1IsZGV0YWlsczpTLkZSQUdfTE9BRF9USU1FT1VULGZhdGFsOiExLGZyYWc6ZSxwYXJ0OnQsZXJyb3I6bmV3IEVycm9yKCJUaW1lb3V0IGFmdGVyICIrYy50aW1lb3V0KyJtcyIpLG5ldHdvcmtEZXRhaWxzOm4sc3RhdHM6cn0pKX19KX19KSl9LHQudXBkYXRlU3RhdHNGcm9tUGFydD1mdW5jdGlvbihlLHQpe3ZhciByPWUuc3RhdHMsaT10LnN0YXRzLGE9aS50b3RhbDtpZihyLmxvYWRlZCs9aS5sb2FkZWQsYSl7dmFyIG49TWF0aC5yb3VuZChlLmR1cmF0aW9uL3QuZHVyYXRpb24pLHM9TWF0aC5taW4oTWF0aC5yb3VuZChyLmxvYWRlZC9hKSxuKSxvPShuLXMpKk1hdGgucm91bmQoci5sb2FkZWQvcyk7ci50b3RhbD1yLmxvYWRlZCtvfWVsc2Ugci50b3RhbD1NYXRoLm1heChyLmxvYWRlZCxyLnRvdGFsKTt2YXIgbD1yLmxvYWRpbmcsdT1pLmxvYWRpbmc7bC5zdGFydD9sLmZpcnN0Kz11LmZpcnN0LXUuc3RhcnQ6KGwuc3RhcnQ9dS5zdGFydCxsLmZpcnN0PXUuZmlyc3QpLGwuZW5kPXUuZW5kfSx0LnJlc2V0TG9hZGVyPWZ1bmN0aW9uKGUsdCl7ZS5sb2FkZXI9bnVsbCx0aGlzLmxvYWRlcj09PXQmJihzZWxmLmNsZWFyVGltZW91dCh0aGlzLnBhcnRMb2FkVGltZW91dCksdGhpcy5sb2FkZXI9bnVsbCksdC5kZXN0cm95KCl9LGV9KCk7ZnVuY3Rpb24gR3IoZSx0KXt2b2lkIDA9PT10JiYodD1udWxsKTt2YXIgcj10fHxlLGk9e2ZyYWc6ZSxwYXJ0OnQscmVzcG9uc2VUeXBlOiJhcnJheWJ1ZmZlciIsdXJsOnIudXJsLGhlYWRlcnM6e30scmFuZ2VTdGFydDowLHJhbmdlRW5kOjB9LGE9ci5ieXRlUmFuZ2VTdGFydE9mZnNldCxuPXIuYnl0ZVJhbmdlRW5kT2Zmc2V0O2lmKG0oYSkmJm0obikpe3ZhciBzLG89YSxsPW47aWYoImluaXRTZWdtZW50Ij09PWUuc24mJiJBRVMtMTI4Ij09PShudWxsPT0ocz1lLmRlY3J5cHRkYXRhKT92b2lkIDA6cy5tZXRob2QpKXt2YXIgdT1uLWE7dSUxNiYmKGw9bisoMTYtdSUxNikpLDAhPT1hJiYoaS5yZXNldElWPSEwLG89YS0xNil9aS5yYW5nZVN0YXJ0PW8saS5yYW5nZUVuZD1sfXJldHVybiBpfWZ1bmN0aW9uIEhyKGUsdCl7dmFyIHI9bmV3IEVycm9yKCJHQVAgIisoZS5nYXA/InRhZyI6ImF0dHJpYnV0ZSIpKyIgZm91bmQiKSxpPXt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkZSQUdfR0FQLGZhdGFsOiExLGZyYWc6ZSxlcnJvcjpyLG5ldHdvcmtEZXRhaWxzOm51bGx9O3JldHVybiB0JiYoaS5wYXJ0PXQpLCh0fHxlKS5zdGF0cy5hYm9ydGVkPSEwLG5ldyBWcihpKX12YXIgVnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcjtyZXR1cm4ocj1lLmNhbGwodGhpcyx0LmVycm9yLm1lc3NhZ2UpfHx0aGlzKS5kYXRhPXZvaWQgMCxyLmRhdGE9dCxyfXJldHVybiBsKHQsZSksdH0oZihFcnJvcikpLEtyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNvbmZpZz12b2lkIDAsdGhpcy5rZXlVcmlUb0tleUluZm89e30sdGhpcy5lbWVDb250cm9sbGVyPW51bGwsdGhpcy5jb25maWc9ZX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5hYm9ydD1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5rZXlVcmlUb0tleUluZm8pe3ZhciByPXRoaXMua2V5VXJpVG9LZXlJbmZvW3RdLmxvYWRlcjtpZihyKXt2YXIgaTtpZihlJiZlIT09KG51bGw9PShpPXIuY29udGV4dCk/dm9pZCAwOmkuZnJhZy50eXBlKSlyZXR1cm47ci5hYm9ydCgpfX19LHQuZGV0YWNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMua2V5VXJpVG9LZXlJbmZvKXt2YXIgdD10aGlzLmtleVVyaVRvS2V5SW5mb1tlXTsodC5tZWRpYUtleVNlc3Npb25Db250ZXh0fHx0LmRlY3J5cHRkYXRhLmlzQ29tbW9uRW5jcnlwdGlvbikmJmRlbGV0ZSB0aGlzLmtleVVyaVRvS2V5SW5mb1tlXX19LHQuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmRldGFjaCgpLHRoaXMua2V5VXJpVG9LZXlJbmZvKXt2YXIgdD10aGlzLmtleVVyaVRvS2V5SW5mb1tlXS5sb2FkZXI7dCYmdC5kZXN0cm95KCl9dGhpcy5rZXlVcmlUb0tleUluZm89e319LHQuY3JlYXRlS2V5TG9hZEVycm9yPWZ1bmN0aW9uKGUsdCxyLGksYSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVMuS0VZX0xPQURfRVJST1IpLG5ldyBWcih7dHlwZTpULk5FVFdPUktfRVJST1IsZGV0YWlsczp0LGZhdGFsOiExLGZyYWc6ZSxyZXNwb25zZTphLGVycm9yOnIsbmV0d29ya0RldGFpbHM6aX0pfSx0LmxvYWRDbGVhcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYodGhpcy5lbWVDb250cm9sbGVyJiZ0aGlzLmNvbmZpZy5lbWVFbmFibGVkKWZvcih2YXIgaT1lLnNuLGE9ZS5jYyxuPWZ1bmN0aW9uKCl7dmFyIGU9dFtzXTtpZihhPD1lLmNjJiYoImluaXRTZWdtZW50Ij09PWl8fCJpbml0U2VnbWVudCI9PT1lLnNufHxpPGUuc24pKXJldHVybiByLmVtZUNvbnRyb2xsZXIuc2VsZWN0S2V5U3lzdGVtRm9ybWF0KGUpLnRoZW4oKGZ1bmN0aW9uKHQpe2Uuc2V0S2V5Rm9ybWF0KHQpfSkpLDF9LHM9MDtzPHQubGVuZ3RoJiYhbigpO3MrKyk7fSx0LmxvYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4hZS5kZWNyeXB0ZGF0YSYmZS5lbmNyeXB0ZWQmJnRoaXMuZW1lQ29udHJvbGxlcj90aGlzLmVtZUNvbnRyb2xsZXIuc2VsZWN0S2V5U3lzdGVtRm9ybWF0KGUpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiB0LmxvYWRJbnRlcm5hbChlLHIpfSkpOnRoaXMubG9hZEludGVybmFsKGUpfSx0LmxvYWRJbnRlcm5hbD1mdW5jdGlvbihlLHQpe3ZhciByLGk7dCYmZS5zZXRLZXlGb3JtYXQodCk7dmFyIGE9ZS5kZWNyeXB0ZGF0YTtpZighYSl7dmFyIG49bmV3IEVycm9yKHQ/IkV4cGVjdGVkIGZyYWcuZGVjcnlwdGRhdGEgdG8gYmUgZGVmaW5lZCBhZnRlciBzZXR0aW5nIGZvcm1hdCAiK3Q6Ik1pc3NpbmcgZGVjcnlwdGlvbiBkYXRhIG9uIGZyYWdtZW50IGluIG9uS2V5TG9hZGluZyIpO3JldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihlLFMuS0VZX0xPQURfRVJST1IsbikpfXZhciBzPWEudXJpO2lmKCFzKXJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihlLFMuS0VZX0xPQURfRVJST1IsbmV3IEVycm9yKCdJbnZhbGlkIGtleSBVUkk6ICInK3MrJyInKSkpO3ZhciBvLGw9dGhpcy5rZXlVcmlUb0tleUluZm9bc107aWYobnVsbCE9KHI9bCkmJnIuZGVjcnlwdGRhdGEua2V5KXJldHVybiBhLmtleT1sLmRlY3J5cHRkYXRhLmtleSxQcm9taXNlLnJlc29sdmUoe2ZyYWc6ZSxrZXlJbmZvOmx9KTtpZihudWxsIT0oaT1sKSYmaS5rZXlMb2FkUHJvbWlzZSlzd2l0Y2gobnVsbD09KG89bC5tZWRpYUtleVNlc3Npb25Db250ZXh0KT92b2lkIDA6by5rZXlTdGF0dXMpe2Nhc2Ugdm9pZCAwOmNhc2Uic3RhdHVzLXBlbmRpbmciOmNhc2UidXNhYmxlIjpjYXNlInVzYWJsZS1pbi1mdXR1cmUiOnJldHVybiBsLmtleUxvYWRQcm9taXNlLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBhLmtleT10LmtleUluZm8uZGVjcnlwdGRhdGEua2V5LHtmcmFnOmUsa2V5SW5mbzpsfX0pKX1zd2l0Y2gobD10aGlzLmtleVVyaVRvS2V5SW5mb1tzXT17ZGVjcnlwdGRhdGE6YSxrZXlMb2FkUHJvbWlzZTpudWxsLGxvYWRlcjpudWxsLG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQ6bnVsbH0sYS5tZXRob2Qpe2Nhc2UiSVNPLTIzMDAxLTciOmNhc2UiU0FNUExFLUFFUyI6Y2FzZSJTQU1QTEUtQUVTLUNFTkMiOmNhc2UiU0FNUExFLUFFUy1DVFIiOnJldHVybiJpZGVudGl0eSI9PT1hLmtleUZvcm1hdD90aGlzLmxvYWRLZXlIVFRQKGwsZSk6dGhpcy5sb2FkS2V5RU1FKGwsZSk7Y2FzZSJBRVMtMTI4IjpyZXR1cm4gdGhpcy5sb2FkS2V5SFRUUChsLGUpO2RlZmF1bHQ6cmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMuY3JlYXRlS2V5TG9hZEVycm9yKGUsUy5LRVlfTE9BRF9FUlJPUixuZXcgRXJyb3IoJ0tleSBzdXBwbGllZCB3aXRoIHVuc3VwcG9ydGVkIE1FVEhPRDogIicrYS5tZXRob2QrJyInKSkpfX0sdC5sb2FkS2V5RU1FPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e2ZyYWc6dCxrZXlJbmZvOmV9O2lmKHRoaXMuZW1lQ29udHJvbGxlciYmdGhpcy5jb25maWcuZW1lRW5hYmxlZCl7dmFyIGk9dGhpcy5lbWVDb250cm9sbGVyLmxvYWRLZXkocik7aWYoaSlyZXR1cm4oZS5rZXlMb2FkUHJvbWlzZT1pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLm1lZGlhS2V5U2Vzc2lvbkNvbnRleHQ9dCxyfSkpKS5jYXRjaCgoZnVuY3Rpb24odCl7dGhyb3cgZS5rZXlMb2FkUHJvbWlzZT1udWxsLHR9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZShyKX0sdC5sb2FkS2V5SFRUUD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsYT10aGlzLmNvbmZpZyxuPW5ldygwLGEubG9hZGVyKShhKTtyZXR1cm4gdC5rZXlMb2FkZXI9ZS5sb2FkZXI9bixlLmtleUxvYWRQcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihzLG8pe3ZhciBsPXtrZXlJbmZvOmUsZnJhZzp0LHJlc3BvbnNlVHlwZToiYXJyYXlidWZmZXIiLHVybDplLmRlY3J5cHRkYXRhLnVyaX0sdT1hLmtleUxvYWRQb2xpY3kuZGVmYXVsdCxkPXtsb2FkUG9saWN5OnUsdGltZW91dDp1Lm1heExvYWRUaW1lTXMsbWF4UmV0cnk6MCxyZXRyeURlbGF5OjAsbWF4UmV0cnlEZWxheTowfSxoPXtvblN1Y2Nlc3M6ZnVuY3Rpb24oZSx0LGksYSl7dmFyIG49aS5mcmFnLGw9aS5rZXlJbmZvLHU9aS51cmw7aWYoIW4uZGVjcnlwdGRhdGF8fGwhPT1yLmtleVVyaVRvS2V5SW5mb1t1XSlyZXR1cm4gbyhyLmNyZWF0ZUtleUxvYWRFcnJvcihuLFMuS0VZX0xPQURfRVJST1IsbmV3IEVycm9yKCJhZnRlciBrZXkgbG9hZCwgZGVjcnlwdGRhdGEgdW5zZXQgb3IgY2hhbmdlZCIpLGEpKTtsLmRlY3J5cHRkYXRhLmtleT1uLmRlY3J5cHRkYXRhLmtleT1uZXcgVWludDhBcnJheShlLmRhdGEpLG4ua2V5TG9hZGVyPW51bGwsbC5sb2FkZXI9bnVsbCxzKHtmcmFnOm4sa2V5SW5mbzpsfSl9LG9uRXJyb3I6ZnVuY3Rpb24oZSxhLG4scyl7ci5yZXNldExvYWRlcihhKSxvKHIuY3JlYXRlS2V5TG9hZEVycm9yKHQsUy5LRVlfTE9BRF9FUlJPUixuZXcgRXJyb3IoIkhUVFAgRXJyb3IgIitlLmNvZGUrIiBsb2FkaW5nIGtleSAiK2UudGV4dCksbixpKHt1cmw6bC51cmwsZGF0YTp2b2lkIDB9LGUpKSl9LG9uVGltZW91dDpmdW5jdGlvbihlLGksYSl7ci5yZXNldExvYWRlcihpKSxvKHIuY3JlYXRlS2V5TG9hZEVycm9yKHQsUy5LRVlfTE9BRF9USU1FT1VULG5ldyBFcnJvcigia2V5IGxvYWRpbmcgdGltZWQgb3V0IiksYSkpfSxvbkFib3J0OmZ1bmN0aW9uKGUsaSxhKXtyLnJlc2V0TG9hZGVyKGkpLG8oci5jcmVhdGVLZXlMb2FkRXJyb3IodCxTLklOVEVSTkFMX0FCT1JURUQsbmV3IEVycm9yKCJrZXkgbG9hZGluZyBhYm9ydGVkIiksYSkpfX07bi5sb2FkKGwsZCxoKX0pKX0sdC5yZXNldExvYWRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmZyYWcscj1lLmtleUluZm8saT1lLnVybCxhPXIubG9hZGVyO3Qua2V5TG9hZGVyPT09YSYmKHQua2V5TG9hZGVyPW51bGwsci5sb2FkZXI9bnVsbCksZGVsZXRlIHRoaXMua2V5VXJpVG9LZXlJbmZvW2ldLGEmJmEuZGVzdHJveSgpfSxlfSgpLFdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2JvdW5kVGljaz12b2lkIDAsdGhpcy5fdGlja1RpbWVyPW51bGwsdGhpcy5fdGlja0ludGVydmFsPW51bGwsdGhpcy5fdGlja0NhbGxDb3VudD0wLHRoaXMuX2JvdW5kVGljaz10aGlzLnRpY2suYmluZCh0aGlzKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5vbkhhbmRsZXJEZXN0cm95aW5nKCksdGhpcy5vbkhhbmRsZXJEZXN0cm95ZWQoKX0sdC5vbkhhbmRsZXJEZXN0cm95aW5nPWZ1bmN0aW9uKCl7dGhpcy5jbGVhck5leHRUaWNrKCksdGhpcy5jbGVhckludGVydmFsKCl9LHQub25IYW5kbGVyRGVzdHJveWVkPWZ1bmN0aW9uKCl7fSx0Lmhhc0ludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl90aWNrSW50ZXJ2YWx9LHQuaGFzTmV4dFRpY2s9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3RpY2tUaW1lcn0sdC5zZXRJbnRlcnZhbD1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5fdGlja0ludGVydmFsJiYodGhpcy5fdGlja0NhbGxDb3VudD0wLHRoaXMuX3RpY2tJbnRlcnZhbD1zZWxmLnNldEludGVydmFsKHRoaXMuX2JvdW5kVGljayxlKSwhMCl9LHQuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fdGlja0ludGVydmFsJiYoc2VsZi5jbGVhckludGVydmFsKHRoaXMuX3RpY2tJbnRlcnZhbCksdGhpcy5fdGlja0ludGVydmFsPW51bGwsITApfSx0LmNsZWFyTmV4dFRpY2s9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3RpY2tUaW1lciYmKHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMuX3RpY2tUaW1lciksdGhpcy5fdGlja1RpbWVyPW51bGwsITApfSx0LnRpY2s9ZnVuY3Rpb24oKXt0aGlzLl90aWNrQ2FsbENvdW50KyssMT09PXRoaXMuX3RpY2tDYWxsQ291bnQmJih0aGlzLmRvVGljaygpLHRoaXMuX3RpY2tDYWxsQ291bnQ+MSYmdGhpcy50aWNrSW1tZWRpYXRlKCksdGhpcy5fdGlja0NhbGxDb3VudD0wKX0sdC50aWNrSW1tZWRpYXRlPWZ1bmN0aW9uKCl7dGhpcy5jbGVhck5leHRUaWNrKCksdGhpcy5fdGlja1RpbWVyPXNlbGYuc2V0VGltZW91dCh0aGlzLl9ib3VuZFRpY2ssMCl9LHQuZG9UaWNrPWZ1bmN0aW9uKCl7fSxlfSgpLGpyPWZ1bmN0aW9uKGUsdCxyLGksYSxuKXt2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1hJiYoYT0tMSksdm9pZCAwPT09biYmKG49ITEpLHRoaXMubGV2ZWw9dm9pZCAwLHRoaXMuc249dm9pZCAwLHRoaXMucGFydD12b2lkIDAsdGhpcy5pZD12b2lkIDAsdGhpcy5zaXplPXZvaWQgMCx0aGlzLnBhcnRpYWw9dm9pZCAwLHRoaXMudHJhbnNtdXhpbmc9e3N0YXJ0OjAsZXhlY3V0ZVN0YXJ0OjAsZXhlY3V0ZUVuZDowLGVuZDowfSx0aGlzLmJ1ZmZlcmluZz17YXVkaW86e3N0YXJ0OjAsZXhlY3V0ZVN0YXJ0OjAsZXhlY3V0ZUVuZDowLGVuZDowfSx2aWRlbzp7c3RhcnQ6MCxleGVjdXRlU3RhcnQ6MCxleGVjdXRlRW5kOjAsZW5kOjB9LGF1ZGlvdmlkZW86e3N0YXJ0OjAsZXhlY3V0ZVN0YXJ0OjAsZXhlY3V0ZUVuZDowLGVuZDowfX0sdGhpcy5sZXZlbD1lLHRoaXMuc249dCx0aGlzLmlkPXIsdGhpcy5zaXplPWksdGhpcy5wYXJ0PWEsdGhpcy5wYXJ0aWFsPW59O2Z1bmN0aW9uIFlyKGUsdCl7Zm9yKHZhciByPTAsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgYTtpZigobnVsbD09KGE9ZVtyXSk/dm9pZCAwOmEuY2MpPT09dClyZXR1cm4gZVtyXX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBxcihlLHQpe2lmKGUpe3ZhciByPWUuc3RhcnQrdDtlLnN0YXJ0PWUuc3RhcnRQVFM9cixlLmVuZFBUUz1yK2UuZHVyYXRpb259fWZ1bmN0aW9uIHpyKGUsdCl7Zm9yKHZhciByPXQuZnJhZ21lbnRzLGk9MCxhPXIubGVuZ3RoO2k8YTtpKyspcXIocltpXSxlKTt0LmZyYWdtZW50SGludCYmcXIodC5mcmFnbWVudEhpbnQsZSksdC5hbGlnbmVkU2xpZGluZz0hMH1mdW5jdGlvbiBYcihlLHQscil7dCYmKGZ1bmN0aW9uKGUsdCxyKXtpZihmdW5jdGlvbihlLHQscil7cmV0dXJuISghdHx8IShyLmVuZENDPnIuc3RhcnRDQ3x8ZSYmZS5jYzxyLnN0YXJ0Q0MpKX0oZSxyLHQpKXt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciByPWUuZnJhZ21lbnRzLGk9dC5mcmFnbWVudHM7aWYoaS5sZW5ndGgmJnIubGVuZ3RoKXt2YXIgYT1ZcihyLGlbMF0uY2MpO2lmKGEmJighYXx8YS5zdGFydFBUUykpcmV0dXJuIGE7RC5sb2coIk5vIGZyYWcgaW4gcHJldmlvdXMgbGV2ZWwgdG8gYWxpZ24gb24iKX1lbHNlIEQubG9nKCJObyBmcmFnbWVudHMgdG8gYWxpZ24iKX0ocix0KTtpJiZtKGkuc3RhcnQpJiYoRC5sb2coIkFkanVzdGluZyBQVFMgdXNpbmcgbGFzdCBsZXZlbCBkdWUgdG8gQ0MgaW5jcmVhc2Ugd2l0aGluIGN1cnJlbnQgbGV2ZWwgIit0LnVybCksenIoaS5zdGFydCx0KSl9fShlLHIsdCksIXIuYWxpZ25lZFNsaWRpbmcmJnQmJmZ1bmN0aW9uKGUsdCl7aWYoZS5oYXNQcm9ncmFtRGF0ZVRpbWUmJnQuaGFzUHJvZ3JhbURhdGVUaW1lKXt2YXIgcixpLGE9ZS5mcmFnbWVudHMsbj10LmZyYWdtZW50cztpZihhLmxlbmd0aCYmbi5sZW5ndGgpe3ZhciBzPU1hdGgubWluKHQuZW5kQ0MsZS5lbmRDQyk7dC5zdGFydENDPHMmJmUuc3RhcnRDQzxzJiYocj1ZcihuLHMpLGk9WXIoYSxzKSksciYmaXx8KGk9WXIoYSwocj1uW01hdGguZmxvb3Iobi5sZW5ndGgvMildKS5jYyl8fGFbTWF0aC5mbG9vcihhLmxlbmd0aC8yKV0pO3ZhciBvPXIucHJvZ3JhbURhdGVUaW1lLGw9aS5wcm9ncmFtRGF0ZVRpbWU7byYmbCYmenIoKGwtbykvMWUzLShpLnN0YXJ0LXIuc3RhcnQpLGUpfX19KHIsdCksci5hbGlnbmVkU2xpZGluZ3x8IXR8fHIuc2tpcHBlZFNlZ21lbnRzfHxGdCh0LHIpKX12YXIgUXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdWJ0bGU9dm9pZCAwLHRoaXMuYWVzSVY9dm9pZCAwLHRoaXMuc3VidGxlPWUsdGhpcy5hZXNJVj10fXJldHVybiBlLnByb3RvdHlwZS5kZWNyeXB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3VidGxlLmRlY3J5cHQoe25hbWU6IkFFUy1DQkMiLGl2OnRoaXMuYWVzSVZ9LHQsZSl9LGV9KCksSnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdWJ0bGU9dm9pZCAwLHRoaXMua2V5PXZvaWQgMCx0aGlzLnN1YnRsZT1lLHRoaXMua2V5PXR9cmV0dXJuIGUucHJvdG90eXBlLmV4cGFuZEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsdGhpcy5rZXkse25hbWU6IkFFUy1DQkMifSwhMSxbImVuY3J5cHQiLCJkZWNyeXB0Il0pfSxlfSgpLCRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucmNvbj1bMCwxLDIsNCw4LDE2LDMyLDY0LDEyOCwyNyw1NF0sdGhpcy5zdWJNaXg9W25ldyBVaW50MzJBcnJheSgyNTYpLG5ldyBVaW50MzJBcnJheSgyNTYpLG5ldyBVaW50MzJBcnJheSgyNTYpLG5ldyBVaW50MzJBcnJheSgyNTYpXSx0aGlzLmludlN1Yk1peD1bbmV3IFVpbnQzMkFycmF5KDI1NiksbmV3IFVpbnQzMkFycmF5KDI1NiksbmV3IFVpbnQzMkFycmF5KDI1NiksbmV3IFVpbnQzMkFycmF5KDI1NildLHRoaXMuc0JveD1uZXcgVWludDMyQXJyYXkoMjU2KSx0aGlzLmludlNCb3g9bmV3IFVpbnQzMkFycmF5KDI1NiksdGhpcy5rZXk9bmV3IFVpbnQzMkFycmF5KDApLHRoaXMua3NSb3dzPTAsdGhpcy5rZXlTaXplPTAsdGhpcy5rZXlTY2hlZHVsZT12b2lkIDAsdGhpcy5pbnZLZXlTY2hlZHVsZT12b2lkIDAsdGhpcy5pbml0VGFibGUoKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC51aW50OEFycmF5VG9VaW50MzJBcnJheV89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBEYXRhVmlldyhlKSxyPW5ldyBVaW50MzJBcnJheSg0KSxpPTA7aTw0O2krKylyW2ldPXQuZ2V0VWludDMyKDQqaSk7cmV0dXJuIHJ9LHQuaW5pdFRhYmxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zQm94LHQ9dGhpcy5pbnZTQm94LHI9dGhpcy5zdWJNaXgsaT1yWzBdLGE9clsxXSxuPXJbMl0scz1yWzNdLG89dGhpcy5pbnZTdWJNaXgsbD1vWzBdLHU9b1sxXSxkPW9bMl0saD1vWzNdLGY9bmV3IFVpbnQzMkFycmF5KDI1NiksYz0wLHY9MCxnPTA7Zm9yKGc9MDtnPDI1NjtnKyspZltnXT1nPDEyOD9nPDwxOmc8PDFeMjgzO2ZvcihnPTA7ZzwyNTY7ZysrKXt2YXIgbT12XnY8PDFedjw8Ml52PDwzXnY8PDQ7bT1tPj4+OF4yNTUmbV45OSxlW2NdPW0sdFttXT1jO3ZhciBwPWZbY10seT1mW3BdLEU9Zlt5XSxUPTI1NypmW21dXjE2ODQzMDA4Km07aVtjXT1UPDwyNHxUPj4+OCxhW2NdPVQ8PDE2fFQ+Pj4xNixuW2NdPVQ8PDh8VD4+PjI0LHNbY109VCxUPTE2ODQzMDA5KkVeNjU1MzcqeV4yNTcqcF4xNjg0MzAwOCpjLGxbbV09VDw8MjR8VD4+PjgsdVttXT1UPDwxNnxUPj4+MTYsZFttXT1UPDw4fFQ+Pj4yNCxoW21dPVQsYz8oYz1wXmZbZltmW0VecF1dXSx2Xj1mW2Zbdl1dKTpjPXY9MX19LHQuZXhwYW5kS2V5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhlKSxyPSEwLGk9MDtpPHQubGVuZ3RoJiZyOylyPXRbaV09PT10aGlzLmtleVtpXSxpKys7aWYoIXIpe3RoaXMua2V5PXQ7dmFyIGE9dGhpcy5rZXlTaXplPXQubGVuZ3RoO2lmKDQhPT1hJiY2IT09YSYmOCE9PWEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGFlcyBrZXkgc2l6ZT0iK2EpO3ZhciBuLHMsbyxsLHU9dGhpcy5rc1Jvd3M9NCooYSs2KzEpLGQ9dGhpcy5rZXlTY2hlZHVsZT1uZXcgVWludDMyQXJyYXkodSksaD10aGlzLmludktleVNjaGVkdWxlPW5ldyBVaW50MzJBcnJheSh1KSxmPXRoaXMuc0JveCxjPXRoaXMucmNvbix2PXRoaXMuaW52U3ViTWl4LGc9dlswXSxtPXZbMV0scD12WzJdLHk9dlszXTtmb3Iobj0wO248dTtuKyspbjxhP289ZFtuXT10W25dOihsPW8sbiVhPT0wPyhsPWZbKGw9bDw8OHxsPj4+MjQpPj4+MjRdPDwyNHxmW2w+Pj4xNiYyNTVdPDwxNnxmW2w+Pj44JjI1NV08PDh8ZlsyNTUmbF0sbF49Y1tuL2F8MF08PDI0KTphPjYmJm4lYT09NCYmKGw9ZltsPj4+MjRdPDwyNHxmW2w+Pj4xNiYyNTVdPDwxNnxmW2w+Pj44JjI1NV08PDh8ZlsyNTUmbF0pLGRbbl09bz0oZFtuLWFdXmwpPj4+MCk7Zm9yKHM9MDtzPHU7cysrKW49dS1zLGw9MyZzP2Rbbl06ZFtuLTRdLGhbc109czw0fHxuPD00P2w6Z1tmW2w+Pj4yNF1dXm1bZltsPj4+MTYmMjU1XV1ecFtmW2w+Pj44JjI1NV1dXnlbZlsyNTUmbF1dLGhbc109aFtzXT4+PjB9fSx0Lm5ldHdvcmtUb0hvc3RPcmRlclN3YXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PDI0fCg2NTI4MCZlKTw8OHwoMTY3MTE2ODAmZSk+Pjh8ZT4+PjI0fSx0LmRlY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxhLG4scyxvLGwsdSxkLGgsZixjLHYsZyxtLHA9dGhpcy5rZXlTaXplKzYseT10aGlzLmludktleVNjaGVkdWxlLEU9dGhpcy5pbnZTQm94LFQ9dGhpcy5pbnZTdWJNaXgsUz1UWzBdLEw9VFsxXSxSPVRbMl0sQT1UWzNdLGI9dGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8ociksaz1iWzBdLEQ9YlsxXSxfPWJbMl0seD1iWzNdLHc9bmV3IEludDMyQXJyYXkoZSksQz1uZXcgSW50MzJBcnJheSh3Lmxlbmd0aCksST10aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXA7dDx3Lmxlbmd0aDspe2ZvcihoPUkod1t0XSksZj1JKHdbdCsxXSksYz1JKHdbdCsyXSksdj1JKHdbdCszXSksbz1oXnlbMF0sbD12XnlbMV0sdT1jXnlbMl0sZD1mXnlbM10sZz00LG09MTttPHA7bSsrKWk9U1tvPj4+MjRdXkxbbD4+MTYmMjU1XV5SW3U+PjgmMjU1XV5BWzI1NSZkXV55W2ddLGE9U1tsPj4+MjRdXkxbdT4+MTYmMjU1XV5SW2Q+PjgmMjU1XV5BWzI1NSZvXV55W2crMV0sbj1TW3U+Pj4yNF1eTFtkPj4xNiYyNTVdXlJbbz4+OCYyNTVdXkFbMjU1JmxdXnlbZysyXSxzPVNbZD4+PjI0XV5MW28+PjE2JjI1NV1eUltsPj44JjI1NV1eQVsyNTUmdV1eeVtnKzNdLG89aSxsPWEsdT1uLGQ9cyxnKz00O2k9RVtvPj4+MjRdPDwyNF5FW2w+PjE2JjI1NV08PDE2XkVbdT4+OCYyNTVdPDw4XkVbMjU1JmRdXnlbZ10sYT1FW2w+Pj4yNF08PDI0XkVbdT4+MTYmMjU1XTw8MTZeRVtkPj44JjI1NV08PDheRVsyNTUmb11eeVtnKzFdLG49RVt1Pj4+MjRdPDwyNF5FW2Q+PjE2JjI1NV08PDE2XkVbbz4+OCYyNTVdPDw4XkVbMjU1JmxdXnlbZysyXSxzPUVbZD4+PjI0XTw8MjReRVtvPj4xNiYyNTVdPDwxNl5FW2w+PjgmMjU1XTw8OF5FWzI1NSZ1XV55W2crM10sQ1t0XT1JKGleayksQ1t0KzFdPUkoc15EKSxDW3QrMl09SShuXl8pLENbdCszXT1JKGFeeCksaz1oLEQ9ZixfPWMseD12LHQrPTR9cmV0dXJuIEMuYnVmZmVyfSxlfSgpLFpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciByPSh2b2lkIDA9PT10P3t9OnQpLnJlbW92ZVBLQ1M3UGFkZGluZyxpPXZvaWQgMD09PXJ8fHI7aWYodGhpcy5sb2dFbmFibGVkPSEwLHRoaXMucmVtb3ZlUEtDUzdQYWRkaW5nPXZvaWQgMCx0aGlzLnN1YnRsZT1udWxsLHRoaXMuc29mdHdhcmVEZWNyeXB0ZXI9bnVsbCx0aGlzLmtleT1udWxsLHRoaXMuZmFzdEFlc0tleT1udWxsLHRoaXMucmVtYWluZGVyRGF0YT1udWxsLHRoaXMuY3VycmVudElWPW51bGwsdGhpcy5jdXJyZW50UmVzdWx0PW51bGwsdGhpcy51c2VTb2Z0d2FyZT12b2lkIDAsdGhpcy51c2VTb2Z0d2FyZT1lLmVuYWJsZVNvZnR3YXJlQUVTLHRoaXMucmVtb3ZlUEtDUzdQYWRkaW5nPWksaSl0cnl7dmFyIGE9c2VsZi5jcnlwdG87YSYmKHRoaXMuc3VidGxlPWEuc3VidGxlfHxhLndlYmtpdFN1YnRsZSl9Y2F0Y2goZSl7fXRoaXMudXNlU29mdHdhcmU9IXRoaXMuc3VidGxlfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN1YnRsZT1udWxsLHRoaXMuc29mdHdhcmVEZWNyeXB0ZXI9bnVsbCx0aGlzLmtleT1udWxsLHRoaXMuZmFzdEFlc0tleT1udWxsLHRoaXMucmVtYWluZGVyRGF0YT1udWxsLHRoaXMuY3VycmVudElWPW51bGwsdGhpcy5jdXJyZW50UmVzdWx0PW51bGx9LHQuaXNTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlU29mdHdhcmV9LHQuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnJlbnRSZXN1bHQsdD10aGlzLnJlbWFpbmRlckRhdGE7aWYoIWV8fHQpcmV0dXJuIHRoaXMucmVzZXQoKSxudWxsO3ZhciByLGksYSxuPW5ldyBVaW50OEFycmF5KGUpO3JldHVybiB0aGlzLnJlc2V0KCksdGhpcy5yZW1vdmVQS0NTN1BhZGRpbmc/KGk9KHI9bikuYnl0ZUxlbmd0aCwoYT1pJiZuZXcgRGF0YVZpZXcoci5idWZmZXIpLmdldFVpbnQ4KGktMSkpP1YociwwLGktYSk6cik6bn0sdC5yZXNldD1mdW5jdGlvbigpe3RoaXMuY3VycmVudFJlc3VsdD1udWxsLHRoaXMuY3VycmVudElWPW51bGwsdGhpcy5yZW1haW5kZXJEYXRhPW51bGwsdGhpcy5zb2Z0d2FyZURlY3J5cHRlciYmKHRoaXMuc29mdHdhcmVEZWNyeXB0ZXI9bnVsbCl9LHQuZGVjcnlwdD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy51c2VTb2Z0d2FyZT9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxuKXtpLnNvZnR3YXJlRGVjcnlwdChuZXcgVWludDhBcnJheShlKSx0LHIpO3ZhciBzPWkuZmx1c2goKTtzP2Eocy5idWZmZXIpOm4obmV3IEVycm9yKCJbc29mdHdhcmVEZWNyeXB0XSBGYWlsZWQgdG8gZGVjcnlwdCBkYXRhIikpfSkpOnRoaXMud2ViQ3J5cHRvRGVjcnlwdChuZXcgVWludDhBcnJheShlKSx0LHIpfSx0LnNvZnR3YXJlRGVjcnlwdD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5jdXJyZW50SVYsYT10aGlzLmN1cnJlbnRSZXN1bHQsbj10aGlzLnJlbWFpbmRlckRhdGE7dGhpcy5sb2dPbmNlKCJKUyBBRVMgZGVjcnlwdCIpLG4mJihlPWJlKG4sZSksdGhpcy5yZW1haW5kZXJEYXRhPW51bGwpO3ZhciBzPXRoaXMuZ2V0VmFsaWRDaHVuayhlKTtpZighcy5sZW5ndGgpcmV0dXJuIG51bGw7aSYmKHI9aSk7dmFyIG89dGhpcy5zb2Z0d2FyZURlY3J5cHRlcjtvfHwobz10aGlzLnNvZnR3YXJlRGVjcnlwdGVyPW5ldyAkciksby5leHBhbmRLZXkodCk7dmFyIGw9YTtyZXR1cm4gdGhpcy5jdXJyZW50UmVzdWx0PW8uZGVjcnlwdChzLmJ1ZmZlciwwLHIpLHRoaXMuY3VycmVudElWPVYocywtMTYpLmJ1ZmZlcixsfHxudWxsfSx0LndlYkNyeXB0b0RlY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7aWYodGhpcy5rZXkhPT10fHwhdGhpcy5mYXN0QWVzS2V5KXtpZighdGhpcy5zdWJ0bGUpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZSx0LHIpKTt0aGlzLmtleT10LHRoaXMuZmFzdEFlc0tleT1uZXcgSnIodGhpcy5zdWJ0bGUsdCl9cmV0dXJuIHRoaXMuZmFzdEFlc0tleS5leHBhbmRLZXkoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gaS5zdWJ0bGU/KGkubG9nT25jZSgiV2ViQ3J5cHRvIEFFUyBkZWNyeXB0IiksbmV3IFFyKGkuc3VidGxlLG5ldyBVaW50OEFycmF5KHIpKS5kZWNyeXB0KGUuYnVmZmVyLHQpKTpQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIndlYiBjcnlwdG8gbm90IGluaXRpYWxpemVkIikpfSkpLmNhdGNoKChmdW5jdGlvbihhKXtyZXR1cm4gRC53YXJuKCJbZGVjcnlwdGVyXTogV2ViQ3J5cHRvIEVycm9yLCBkaXNhYmxlIFdlYkNyeXB0byBBUEksICIrYS5uYW1lKyI6ICIrYS5tZXNzYWdlKSxpLm9uV2ViQ3J5cHRvRXJyb3IoZSx0LHIpfSkpfSx0Lm9uV2ViQ3J5cHRvRXJyb3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMudXNlU29mdHdhcmU9ITAsdGhpcy5sb2dFbmFibGVkPSEwLHRoaXMuc29mdHdhcmVEZWNyeXB0KGUsdCxyKTt2YXIgaT10aGlzLmZsdXNoKCk7aWYoaSlyZXR1cm4gaS5idWZmZXI7dGhyb3cgbmV3IEVycm9yKCJXZWJDcnlwdG8gYW5kIHNvZnR3YXJlRGVjcnlwdDogZmFpbGVkIHRvIGRlY3J5cHQgZGF0YSIpfSx0LmdldFZhbGlkQ2h1bms9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSxyPWUubGVuZ3RoLWUubGVuZ3RoJTE2O3JldHVybiByIT09ZS5sZW5ndGgmJih0PVYoZSwwLHIpLHRoaXMucmVtYWluZGVyRGF0YT1WKGUscikpLHR9LHQubG9nT25jZT1mdW5jdGlvbihlKXt0aGlzLmxvZ0VuYWJsZWQmJihELmxvZygiW2RlY3J5cHRlcl06ICIrZSksdGhpcy5sb2dFbmFibGVkPSExKX0sZX0oKSxlaT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIscj1lLmxlbmd0aCxpPTA7aTxyO2krKyl0Kz0iWyIrZS5zdGFydChpKS50b0ZpeGVkKDMpKyItIitlLmVuZChpKS50b0ZpeGVkKDMpKyJdIjtyZXR1cm4gdH0sdGk9IlNUT1BQRUQiLHJpPSJJRExFIixpaT0iS0VZX0xPQURJTkciLGFpPSJGUkFHX0xPQURJTkciLG5pPSJGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWSIsc2k9IlBBUlNJTkciLG9pPSJQQVJTRUQiLGxpPSJFTkRFRCIsdWk9IkVSUk9SIixkaT0iV0FJVElOR19MRVZFTCIsaGk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxhLG4pe3ZhciBzO3JldHVybihzPWUuY2FsbCh0aGlzKXx8dGhpcykuaGxzPXZvaWQgMCxzLmZyYWdQcmV2aW91cz1udWxsLHMuZnJhZ0N1cnJlbnQ9bnVsbCxzLmZyYWdtZW50VHJhY2tlcj12b2lkIDAscy50cmFuc211eGVyPW51bGwscy5fc3RhdGU9dGkscy5wbGF5bGlzdFR5cGU9dm9pZCAwLHMubWVkaWE9bnVsbCxzLm1lZGlhQnVmZmVyPW51bGwscy5jb25maWc9dm9pZCAwLHMuYml0cmF0ZVRlc3Q9ITEscy5sYXN0Q3VycmVudFRpbWU9MCxzLm5leHRMb2FkUG9zaXRpb249MCxzLnN0YXJ0UG9zaXRpb249MCxzLnN0YXJ0VGltZU9mZnNldD1udWxsLHMubG9hZGVkbWV0YWRhdGE9ITEscy5yZXRyeURhdGU9MCxzLmxldmVscz1udWxsLHMuZnJhZ21lbnRMb2FkZXI9dm9pZCAwLHMua2V5TG9hZGVyPXZvaWQgMCxzLmxldmVsTGFzdExvYWRlZD1udWxsLHMuc3RhcnRGcmFnUmVxdWVzdGVkPSExLHMuZGVjcnlwdGVyPXZvaWQgMCxzLmluaXRQVFM9W10scy5idWZmZXJpbmc9ITAscy5vbnZzZWVraW5nPW51bGwscy5vbnZlbmRlZD1udWxsLHMubG9nUHJlZml4PSIiLHMubG9nPXZvaWQgMCxzLndhcm49dm9pZCAwLHMucGxheWxpc3RUeXBlPW4scy5sb2dQcmVmaXg9YSxzLmxvZz1ELmxvZy5iaW5kKEQsYSsiOiIpLHMud2Fybj1ELndhcm4uYmluZChELGErIjoiKSxzLmhscz10LHMuZnJhZ21lbnRMb2FkZXI9bmV3IFVyKHQuY29uZmlnKSxzLmtleUxvYWRlcj1pLHMuZnJhZ21lbnRUcmFja2VyPXIscy5jb25maWc9dC5jb25maWcscy5kZWNyeXB0ZXI9bmV3IFpyKHQuY29uZmlnKSx0Lm9uKEUuTUFOSUZFU1RfTE9BREVELHMub25NYW5pZmVzdExvYWRlZCxmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIGV9KHMpKSxzfWwodCxlKTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gci5kb1RpY2s9ZnVuY3Rpb24oKXt0aGlzLm9uVGlja0VuZCgpfSxyLm9uVGlja0VuZD1mdW5jdGlvbigpe30sci5zdGFydExvYWQ9ZnVuY3Rpb24oZSl7fSxyLnN0b3BMb2FkPWZ1bmN0aW9uKCl7dGhpcy5mcmFnbWVudExvYWRlci5hYm9ydCgpLHRoaXMua2V5TG9hZGVyLmFib3J0KHRoaXMucGxheWxpc3RUeXBlKTt2YXIgZT10aGlzLmZyYWdDdXJyZW50O251bGwhPWUmJmUubG9hZGVyJiYoZS5hYm9ydFJlcXVlc3RzKCksdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZSkpLHRoaXMucmVzZXRUcmFuc211eGVyKCksdGhpcy5mcmFnQ3VycmVudD1udWxsLHRoaXMuZnJhZ1ByZXZpb3VzPW51bGwsdGhpcy5jbGVhckludGVydmFsKCksdGhpcy5jbGVhck5leHRUaWNrKCksdGhpcy5zdGF0ZT10aX0sci5wYXVzZUJ1ZmZlcmluZz1mdW5jdGlvbigpe3RoaXMuYnVmZmVyaW5nPSExfSxyLnJlc3VtZUJ1ZmZlcmluZz1mdW5jdGlvbigpe3RoaXMuYnVmZmVyaW5nPSEwfSxyLl9zdHJlYW1FbmRlZD1mdW5jdGlvbihlLHQpe2lmKHQubGl2ZXx8ZS5uZXh0U3RhcnR8fCFlLmVuZHx8IXRoaXMubWVkaWEpcmV0dXJuITE7dmFyIHI9dC5wYXJ0TGlzdDtpZihudWxsIT1yJiZyLmxlbmd0aCl7dmFyIGk9cltyLmxlbmd0aC0xXTtyZXR1cm4gbHIuaXNCdWZmZXJlZCh0aGlzLm1lZGlhLGkuc3RhcnQraS5kdXJhdGlvbi8yKX12YXIgYT10LmZyYWdtZW50c1t0LmZyYWdtZW50cy5sZW5ndGgtMV0udHlwZTtyZXR1cm4gdGhpcy5mcmFnbWVudFRyYWNrZXIuaXNFbmRMaXN0QXBwZW5kZWQoYSl9LHIuZ2V0TGV2ZWxEZXRhaWxzPWZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5sZXZlbHMmJm51bGwhPT10aGlzLmxldmVsTGFzdExvYWRlZClyZXR1cm4gbnVsbD09KGU9dGhpcy5sZXZlbExhc3RMb2FkZWQpP3ZvaWQgMDplLmRldGFpbHN9LHIub25NZWRpYUF0dGFjaGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5tZWRpYT10aGlzLm1lZGlhQnVmZmVyPXQubWVkaWE7dGhpcy5vbnZzZWVraW5nPXRoaXMub25NZWRpYVNlZWtpbmcuYmluZCh0aGlzKSx0aGlzLm9udmVuZGVkPXRoaXMub25NZWRpYUVuZGVkLmJpbmQodGhpcyksci5hZGRFdmVudExpc3RlbmVyKCJzZWVraW5nIix0aGlzLm9udnNlZWtpbmcpLHIuYWRkRXZlbnRMaXN0ZW5lcigiZW5kZWQiLHRoaXMub252ZW5kZWQpO3ZhciBpPXRoaXMuY29uZmlnO3RoaXMubGV2ZWxzJiZpLmF1dG9TdGFydExvYWQmJnRoaXMuc3RhdGU9PT10aSYmdGhpcy5zdGFydExvYWQoaS5zdGFydFBvc2l0aW9uKX0sci5vbk1lZGlhRGV0YWNoaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tZWRpYTtudWxsIT1lJiZlLmVuZGVkJiYodGhpcy5sb2coIk1TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uIiksdGhpcy5zdGFydFBvc2l0aW9uPXRoaXMubGFzdEN1cnJlbnRUaW1lPTApLGUmJnRoaXMub252c2Vla2luZyYmdGhpcy5vbnZlbmRlZCYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Vla2luZyIsdGhpcy5vbnZzZWVraW5nKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVuZGVkIix0aGlzLm9udmVuZGVkKSx0aGlzLm9udnNlZWtpbmc9dGhpcy5vbnZlbmRlZD1udWxsKSx0aGlzLmtleUxvYWRlciYmdGhpcy5rZXlMb2FkZXIuZGV0YWNoKCksdGhpcy5tZWRpYT10aGlzLm1lZGlhQnVmZmVyPW51bGwsdGhpcy5sb2FkZWRtZXRhZGF0YT0hMSx0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVBbGxGcmFnbWVudHMoKSx0aGlzLnN0b3BMb2FkKCl9LHIub25NZWRpYVNlZWtpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbmZpZyx0PXRoaXMuZnJhZ0N1cnJlbnQscj10aGlzLm1lZGlhLGk9dGhpcy5tZWRpYUJ1ZmZlcixhPXRoaXMuc3RhdGUsbj1yP3IuY3VycmVudFRpbWU6MCxzPWxyLmJ1ZmZlckluZm8oaXx8cixuLGUubWF4QnVmZmVySG9sZSk7aWYodGhpcy5sb2coIm1lZGlhIHNlZWtpbmcgdG8gIisobShuKT9uLnRvRml4ZWQoMyk6bikrIiwgc3RhdGU6ICIrYSksdGhpcy5zdGF0ZT09PWxpKXRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKTtlbHNlIGlmKHQpe3ZhciBvPWUubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSxsPXQuc3RhcnQtbyx1PXQuc3RhcnQrdC5kdXJhdGlvbitvO2lmKCFzLmxlbnx8dTxzLnN0YXJ0fHxsPnMuZW5kKXt2YXIgZD1uPnU7KG48bHx8ZCkmJihkJiZ0LmxvYWRlciYmKHRoaXMubG9nKCJzZWVraW5nIG91dHNpZGUgb2YgYnVmZmVyIHdoaWxlIGZyYWdtZW50IGxvYWQgaW4gcHJvZ3Jlc3MsIGNhbmNlbCBmcmFnbWVudCBsb2FkIiksdC5hYm9ydFJlcXVlc3RzKCksdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpKSx0aGlzLmZyYWdQcmV2aW91cz1udWxsKX19ciYmKHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50c0luUmFuZ2UobiwxLzAsdGhpcy5wbGF5bGlzdFR5cGUsITApLHRoaXMubGFzdEN1cnJlbnRUaW1lPW4pLHRoaXMubG9hZGVkbWV0YWRhdGF8fHMubGVufHwodGhpcy5uZXh0TG9hZFBvc2l0aW9uPXRoaXMuc3RhcnRQb3NpdGlvbj1uKSx0aGlzLnRpY2tJbW1lZGlhdGUoKX0sci5vbk1lZGlhRW5kZWQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0UG9zaXRpb249dGhpcy5sYXN0Q3VycmVudFRpbWU9MH0sci5vbk1hbmlmZXN0TG9hZGVkPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGFydFRpbWVPZmZzZXQ9dC5zdGFydFRpbWVPZmZzZXQsdGhpcy5pbml0UFRTPVtdfSxyLm9uSGFuZGxlckRlc3Ryb3lpbmc9ZnVuY3Rpb24oKXt0aGlzLmhscy5vZmYoRS5NQU5JRkVTVF9MT0FERUQsdGhpcy5vbk1hbmlmZXN0TG9hZGVkLHRoaXMpLHRoaXMuc3RvcExvYWQoKSxlLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nLmNhbGwodGhpcyksdGhpcy5obHM9bnVsbH0sci5vbkhhbmRsZXJEZXN0cm95ZWQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPXRpLHRoaXMuZnJhZ21lbnRMb2FkZXImJnRoaXMuZnJhZ21lbnRMb2FkZXIuZGVzdHJveSgpLHRoaXMua2V5TG9hZGVyJiZ0aGlzLmtleUxvYWRlci5kZXN0cm95KCksdGhpcy5kZWNyeXB0ZXImJnRoaXMuZGVjcnlwdGVyLmRlc3Ryb3koKSx0aGlzLmhscz10aGlzLmxvZz10aGlzLndhcm49dGhpcy5kZWNyeXB0ZXI9dGhpcy5rZXlMb2FkZXI9dGhpcy5mcmFnbWVudExvYWRlcj10aGlzLmZyYWdtZW50VHJhY2tlcj1udWxsLGUucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZC5jYWxsKHRoaXMpfSxyLmxvYWRGcmFnbWVudD1mdW5jdGlvbihlLHQscil7dGhpcy5fbG9hZEZyYWdGb3JQbGF5YmFjayhlLHQscil9LHIuX2xvYWRGcmFnRm9yUGxheWJhY2s9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy5fZG9GcmFnTG9hZChlLHQsciwoZnVuY3Rpb24odCl7aWYoaS5mcmFnQ29udGV4dENoYW5nZWQoZSkpcmV0dXJuIGkud2FybigiRnJhZ21lbnQgIitlLnNuKyh0LnBhcnQ/IiBwOiAiK3QucGFydC5pbmRleDoiIikrIiBvZiBsZXZlbCAiK2UubGV2ZWwrIiB3YXMgZHJvcHBlZCBkdXJpbmcgZG93bmxvYWQuIiksdm9pZCBpLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChlKTtlLnN0YXRzLmNodW5rQ291bnQrKyxpLl9oYW5kbGVGcmFnbWVudExvYWRQcm9ncmVzcyh0KX0pKS50aGVuKChmdW5jdGlvbih0KXtpZih0KXt2YXIgcj1pLnN0YXRlO2kuZnJhZ0NvbnRleHRDaGFuZ2VkKGUpPyhyPT09YWl8fCFpLmZyYWdDdXJyZW50JiZyPT09c2kpJiYoaS5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZSksaS5zdGF0ZT1yaSk6KCJwYXlsb2FkImluIHQmJihpLmxvZygiTG9hZGVkIGZyYWdtZW50ICIrZS5zbisiIG9mIGxldmVsICIrZS5sZXZlbCksaS5obHMudHJpZ2dlcihFLkZSQUdfTE9BREVELHQpKSxpLl9oYW5kbGVGcmFnbWVudExvYWRDb21wbGV0ZSh0KSl9fSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLnN0YXRlIT09dGkmJmkuc3RhdGUhPT11aSYmKGkud2FybigiRnJhZyBlcnJvcjogIisoKG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSl8fHQpKSxpLnJlc2V0RnJhZ21lbnRMb2FkaW5nKGUpKX0pKX0sci5jbGVhclRyYWNrZXJJZk5lZWRlZD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMuZnJhZ21lbnRUcmFja2VyO2lmKHIuZ2V0U3RhdGUoZSk9PT1Jcil7dmFyIGk9ZS50eXBlLGE9dGhpcy5nZXRGd2RCdWZmZXJJbmZvKHRoaXMubWVkaWFCdWZmZXIsaSksbj1NYXRoLm1heChlLmR1cmF0aW9uLGE/YS5sZW46dGhpcy5jb25maWcubWF4QnVmZmVyTGVuZ3RoKSxzPXRoaXMuYmFja3RyYWNrRnJhZ21lbnQ7KDE9PShzP2Uuc24tcy5zbjowKXx8dGhpcy5yZWR1Y2VNYXhCdWZmZXJMZW5ndGgobixlLmR1cmF0aW9uKSkmJnIucmVtb3ZlRnJhZ21lbnQoZSl9ZWxzZSAwPT09KG51bGw9PSh0PXRoaXMubWVkaWFCdWZmZXIpP3ZvaWQgMDp0LmJ1ZmZlcmVkLmxlbmd0aCk/ci5yZW1vdmVBbGxGcmFnbWVudHMoKTpyLmhhc1BhcnRzKGUudHlwZSkmJihyLmRldGVjdFBhcnRpYWxGcmFnbWVudHMoe2ZyYWc6ZSxwYXJ0Om51bGwsc3RhdHM6ZS5zdGF0cyxpZDplLnR5cGV9KSxyLmdldFN0YXRlKGUpPT09UHImJnIucmVtb3ZlRnJhZ21lbnQoZSkpfSxyLmNoZWNrTGl2ZVVwZGF0ZT1mdW5jdGlvbihlKXtpZihlLnVwZGF0ZWQmJiFlLmxpdmUpe3ZhciB0PWUuZnJhZ21lbnRzW2UuZnJhZ21lbnRzLmxlbmd0aC0xXTt0aGlzLmZyYWdtZW50VHJhY2tlci5kZXRlY3RQYXJ0aWFsRnJhZ21lbnRzKHtmcmFnOnQscGFydDpudWxsLHN0YXRzOnQuc3RhdHMsaWQ6dC50eXBlfSl9ZS5mcmFnbWVudHNbMF18fChlLmRlbHRhVXBkYXRlRmFpbGVkPSEwKX0sci5mbHVzaE1haW5CdWZmZXI9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXImJihyPW51bGwpLGUtdCl7dmFyIGk9e3N0YXJ0T2Zmc2V0OmUsZW5kT2Zmc2V0OnQsdHlwZTpyfTt0aGlzLmhscy50cmlnZ2VyKEUuQlVGRkVSX0ZMVVNISU5HLGkpfX0sci5fbG9hZEluaXRTZWdtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLl9kb0ZyYWdMb2FkKGUsdCkudGhlbigoZnVuY3Rpb24odCl7aWYoIXR8fHIuZnJhZ0NvbnRleHRDaGFuZ2VkKGUpfHwhci5sZXZlbHMpdGhyb3cgbmV3IEVycm9yKCJpbml0IGxvYWQgYWJvcnRlZCIpO3JldHVybiB0fSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBpPXIuaGxzLGE9dC5wYXlsb2FkLG49ZS5kZWNyeXB0ZGF0YTtpZihhJiZhLmJ5dGVMZW5ndGg+MCYmbnVsbCE9biYmbi5rZXkmJm4uaXYmJiJBRVMtMTI4Ij09PW4ubWV0aG9kKXt2YXIgcz1zZWxmLnBlcmZvcm1hbmNlLm5vdygpO3JldHVybiByLmRlY3J5cHRlci5kZWNyeXB0KG5ldyBVaW50OEFycmF5KGEpLG4ua2V5LmJ1ZmZlcixuLml2LmJ1ZmZlcikuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IGkudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkZSQUdfREVDUllQVF9FUlJPUixmYXRhbDohMSxlcnJvcjp0LHJlYXNvbjp0Lm1lc3NhZ2UsZnJhZzplfSksdH0pKS50aGVuKChmdW5jdGlvbihhKXt2YXIgbj1zZWxmLnBlcmZvcm1hbmNlLm5vdygpO3JldHVybiBpLnRyaWdnZXIoRS5GUkFHX0RFQ1JZUFRFRCx7ZnJhZzplLHBheWxvYWQ6YSxzdGF0czp7dHN0YXJ0OnMsdGRlY3J5cHQ6bn19KSx0LnBheWxvYWQ9YSxyLmNvbXBsZXRlSW5pdFNlZ21lbnRMb2FkKHQpfSkpfXJldHVybiByLmNvbXBsZXRlSW5pdFNlZ21lbnRMb2FkKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLnN0YXRlIT09dGkmJnIuc3RhdGUhPT11aSYmKHIud2Fybih0KSxyLnJlc2V0RnJhZ21lbnRMb2FkaW5nKGUpKX0pKX0sci5jb21wbGV0ZUluaXRTZWdtZW50TG9hZD1mdW5jdGlvbihlKXtpZighdGhpcy5sZXZlbHMpdGhyb3cgbmV3IEVycm9yKCJpbml0IGxvYWQgYWJvcnRlZCwgbWlzc2luZyBsZXZlbHMiKTt2YXIgdD1lLmZyYWcuc3RhdHM7dGhpcy5zdGF0ZT1yaSxlLmZyYWcuZGF0YT1uZXcgVWludDhBcnJheShlLnBheWxvYWQpLHQucGFyc2luZy5zdGFydD10LmJ1ZmZlcmluZy5zdGFydD1zZWxmLnBlcmZvcm1hbmNlLm5vdygpLHQucGFyc2luZy5lbmQ9dC5idWZmZXJpbmcuZW5kPXNlbGYucGVyZm9ybWFuY2Uubm93KCksdGhpcy50aWNrKCl9LHIuZnJhZ0NvbnRleHRDaGFuZ2VkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZnJhZ0N1cnJlbnQ7cmV0dXJuIWV8fCF0fHxlLnNuIT09dC5zbnx8ZS5sZXZlbCE9PXQubGV2ZWx9LHIuZnJhZ0J1ZmZlcmVkQ29tcGxldGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixpLGEsbixzPXRoaXMubWVkaWFCdWZmZXI/dGhpcy5tZWRpYUJ1ZmZlcjp0aGlzLm1lZGlhO2lmKHRoaXMubG9nKCJCdWZmZXJlZCAiK2UudHlwZSsiIHNuOiAiK2Uuc24rKHQ/IiBwYXJ0OiAiK3QuaW5kZXg6IiIpKyIgb2YgIisodGhpcy5wbGF5bGlzdFR5cGU9PT1udD8ibGV2ZWwiOiJ0cmFjayIpKyIgIitlLmxldmVsKyIgKGZyYWc6WyIrKG51bGwhPShyPWUuc3RhcnRQVFMpP3I6TmFOKS50b0ZpeGVkKDMpKyItIisobnVsbCE9KGk9ZS5lbmRQVFMpP2k6TmFOKS50b0ZpeGVkKDMpKyJdID4gYnVmZmVyOiIrKHM/ZWkobHIuZ2V0QnVmZmVyZWQocykpOiIoZGV0YWNoZWQpIikrIikiKSwiaW5pdFNlZ21lbnQiIT09ZS5zbil7dmFyIG87aWYoZS50eXBlIT09b3Qpe3ZhciBsPWUuZWxlbWVudGFyeVN0cmVhbXM7aWYoIU9iamVjdC5rZXlzKGwpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiEhbFtlXX0pKSlyZXR1cm4gdm9pZCh0aGlzLnN0YXRlPXJpKX12YXIgdT1udWxsPT0obz10aGlzLmxldmVscyk/dm9pZCAwOm9bZS5sZXZlbF07bnVsbCE9dSYmdS5mcmFnbWVudEVycm9yJiYodGhpcy5sb2coIlJlc2V0dGluZyBsZXZlbCBmcmFnbWVudCBlcnJvciBjb3VudCBvZiAiK3UuZnJhZ21lbnRFcnJvcisiIG9uIGZyYWcgYnVmZmVyZWQiKSx1LmZyYWdtZW50RXJyb3I9MCl9dGhpcy5zdGF0ZT1yaSxzJiYoIXRoaXMubG9hZGVkbWV0YWRhdGEmJmUudHlwZT09bnQmJnMuYnVmZmVyZWQubGVuZ3RoJiYobnVsbD09KGE9dGhpcy5mcmFnQ3VycmVudCk/dm9pZCAwOmEuc24pPT09KG51bGw9PShuPXRoaXMuZnJhZ1ByZXZpb3VzKT92b2lkIDA6bi5zbikmJih0aGlzLmxvYWRlZG1ldGFkYXRhPSEwLHRoaXMuc2Vla1RvU3RhcnRQb3MoKSksdGhpcy50aWNrKCkpfSxyLnNlZWtUb1N0YXJ0UG9zPWZ1bmN0aW9uKCl7fSxyLl9oYW5kbGVGcmFnbWVudExvYWRDb21wbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zbXV4ZXI7aWYodCl7dmFyIHI9ZS5mcmFnLGk9ZS5wYXJ0LGE9ZS5wYXJ0c0xvYWRlZCxuPSFhfHwwPT09YS5sZW5ndGh8fGEuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIWV9KSkscz1uZXcganIoci5sZXZlbCxyLnNuLHIuc3RhdHMuY2h1bmtDb3VudCsxLDAsaT9pLmluZGV4Oi0xLCFuKTt0LmZsdXNoKHMpfX0sci5faGFuZGxlRnJhZ21lbnRMb2FkUHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7fSxyLl9kb0ZyYWdMb2FkPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhLG49dGhpczt2b2lkIDA9PT1yJiYocj1udWxsKTt2YXIgcz1udWxsPT10P3ZvaWQgMDp0LmRldGFpbHM7aWYoIXRoaXMubGV2ZWxzfHwhcyl0aHJvdyBuZXcgRXJyb3IoImZyYWcgbG9hZCBhYm9ydGVkLCBtaXNzaW5nIGxldmVsIisocz8iIjoiIGRldGFpbCIpKyJzIik7dmFyIG89bnVsbDtpZighZS5lbmNyeXB0ZWR8fG51bGwhPShhPWUuZGVjcnlwdGRhdGEpJiZhLmtleT8hZS5lbmNyeXB0ZWQmJnMuZW5jcnlwdGVkRnJhZ21lbnRzLmxlbmd0aCYmdGhpcy5rZXlMb2FkZXIubG9hZENsZWFyKGUscy5lbmNyeXB0ZWRGcmFnbWVudHMpOih0aGlzLmxvZygiTG9hZGluZyBrZXkgZm9yICIrZS5zbisiIG9mIFsiK3Muc3RhcnRTTisiLSIrcy5lbmRTTisiXSwgIisoIltzdHJlYW0tY29udHJvbGxlcl0iPT09dGhpcy5sb2dQcmVmaXg/ImxldmVsIjoidHJhY2siKSsiICIrZS5sZXZlbCksdGhpcy5zdGF0ZT1paSx0aGlzLmZyYWdDdXJyZW50PWUsbz10aGlzLmtleUxvYWRlci5sb2FkKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKCFuLmZyYWdDb250ZXh0Q2hhbmdlZChlLmZyYWcpKXJldHVybiBuLmhscy50cmlnZ2VyKEUuS0VZX0xPQURFRCxlKSxuLnN0YXRlPT09aWkmJihuLnN0YXRlPXJpKSxlfSkpLHRoaXMuaGxzLnRyaWdnZXIoRS5LRVlfTE9BRElORyx7ZnJhZzplfSksbnVsbD09PXRoaXMuZnJhZ0N1cnJlbnQmJihvPVByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiZnJhZyBsb2FkIGFib3J0ZWQsIGNvbnRleHQgY2hhbmdlZCBpbiBLRVlfTE9BRElORyIpKSkpLHI9TWF0aC5tYXgoZS5zdGFydCxyfHwwKSx0aGlzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZSYmImluaXRTZWdtZW50IiE9PWUuc24pe3ZhciBsPXMucGFydExpc3Q7aWYobCYmaSl7cj5lLmVuZCYmcy5mcmFnbWVudEhpbnQmJihlPXMuZnJhZ21lbnRIaW50KTt2YXIgdT10aGlzLmdldE5leHRQYXJ0KGwsZSxyKTtpZih1Pi0xKXt2YXIgZCxoPWxbdV07cmV0dXJuIHRoaXMubG9nKCJMb2FkaW5nIHBhcnQgc246ICIrZS5zbisiIHA6ICIraC5pbmRleCsiIGNjOiAiK2UuY2MrIiBvZiBwbGF5bGlzdCBbIitzLnN0YXJ0U04rIi0iK3MuZW5kU04rIl0gcGFydHMgWzAtIit1KyItIisobC5sZW5ndGgtMSkrIl0gIisoIltzdHJlYW0tY29udHJvbGxlcl0iPT09dGhpcy5sb2dQcmVmaXg/ImxldmVsIjoidHJhY2siKSsiOiAiK2UubGV2ZWwrIiwgdGFyZ2V0OiAiK3BhcnNlRmxvYXQoci50b0ZpeGVkKDMpKSksdGhpcy5uZXh0TG9hZFBvc2l0aW9uPWguc3RhcnQraC5kdXJhdGlvbix0aGlzLnN0YXRlPWFpLGQ9bz9vLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiFyfHxuLmZyYWdDb250ZXh0Q2hhbmdlZChyLmZyYWcpP251bGw6bi5kb0ZyYWdQYXJ0c0xvYWQoZSxoLHQsaSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLmhhbmRsZUZyYWdMb2FkRXJyb3IoZSl9KSk6dGhpcy5kb0ZyYWdQYXJ0c0xvYWQoZSxoLHQsaSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLmhhbmRsZUZyYWdMb2FkRXJyb3IoZSl9KSksdGhpcy5obHMudHJpZ2dlcihFLkZSQUdfTE9BRElORyx7ZnJhZzplLHBhcnQ6aCx0YXJnZXRCdWZmZXJUaW1lOnJ9KSxudWxsPT09dGhpcy5mcmFnQ3VycmVudD9Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoImZyYWcgbG9hZCBhYm9ydGVkLCBjb250ZXh0IGNoYW5nZWQgaW4gRlJBR19MT0FESU5HIHBhcnRzIikpOmR9aWYoIWUudXJsfHx0aGlzLmxvYWRlZEVuZE9mUGFydHMobCxyKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpfX10aGlzLmxvZygiTG9hZGluZyBmcmFnbWVudCAiK2Uuc24rIiBjYzogIitlLmNjKyIgIisocz8ib2YgWyIrcy5zdGFydFNOKyItIitzLmVuZFNOKyJdICI6IiIpKygiW3N0cmVhbS1jb250cm9sbGVyXSI9PT10aGlzLmxvZ1ByZWZpeD8ibGV2ZWwiOiJ0cmFjayIpKyI6ICIrZS5sZXZlbCsiLCB0YXJnZXQ6ICIrcGFyc2VGbG9hdChyLnRvRml4ZWQoMykpKSxtKGUuc24pJiYhdGhpcy5iaXRyYXRlVGVzdCYmKHRoaXMubmV4dExvYWRQb3NpdGlvbj1lLnN0YXJ0K2UuZHVyYXRpb24pLHRoaXMuc3RhdGU9YWk7dmFyIGYsYz10aGlzLmNvbmZpZy5wcm9ncmVzc2l2ZTtyZXR1cm4gZj1jJiZvP28udGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIXR8fG4uZnJhZ0NvbnRleHRDaGFuZ2VkKG51bGw9PXQ/dm9pZCAwOnQuZnJhZyk/bnVsbDpuLmZyYWdtZW50TG9hZGVyLmxvYWQoZSxpKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaGFuZGxlRnJhZ0xvYWRFcnJvcihlKX0pKTpQcm9taXNlLmFsbChbdGhpcy5mcmFnbWVudExvYWRlci5sb2FkKGUsYz9pOnZvaWQgMCksb10pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07cmV0dXJuIWMmJnQmJmkmJmkodCksdH0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaGFuZGxlRnJhZ0xvYWRFcnJvcihlKX0pKSx0aGlzLmhscy50cmlnZ2VyKEUuRlJBR19MT0FESU5HLHtmcmFnOmUsdGFyZ2V0QnVmZmVyVGltZTpyfSksbnVsbD09PXRoaXMuZnJhZ0N1cnJlbnQ/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJmcmFnIGxvYWQgYWJvcnRlZCwgY29udGV4dCBjaGFuZ2VkIGluIEZSQUdfTE9BRElORyIpKTpmfSxyLmRvRnJhZ1BhcnRzTG9hZD1mdW5jdGlvbihlLHQscixpKXt2YXIgYT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixzKXt2YXIgbyxsPVtdLHU9bnVsbD09KG89ci5kZXRhaWxzKT92b2lkIDA6by5wYXJ0TGlzdDshZnVuY3Rpb24gdChvKXthLmZyYWdtZW50TG9hZGVyLmxvYWRQYXJ0KGUsbyxpKS50aGVuKChmdW5jdGlvbihpKXtsW28uaW5kZXhdPWk7dmFyIHM9aS5wYXJ0O2EuaGxzLnRyaWdnZXIoRS5GUkFHX0xPQURFRCxpKTt2YXIgZD1PdChyLGUuc24sby5pbmRleCsxKXx8TXQodSxlLnNuLG8uaW5kZXgrMSk7aWYoIWQpcmV0dXJuIG4oe2ZyYWc6ZSxwYXJ0OnMscGFydHNMb2FkZWQ6bH0pO3QoZCl9KSkuY2F0Y2gocyl9KHQpfSkpfSxyLmhhbmRsZUZyYWdMb2FkRXJyb3I9ZnVuY3Rpb24oZSl7aWYoImRhdGEiaW4gZSl7dmFyIHQ9ZS5kYXRhO2UuZGF0YSYmdC5kZXRhaWxzPT09Uy5JTlRFUk5BTF9BQk9SVEVEP3RoaXMuaGFuZGxlRnJhZ0xvYWRBYm9ydGVkKHQuZnJhZyx0LnBhcnQpOnRoaXMuaGxzLnRyaWdnZXIoRS5FUlJPUix0KX1lbHNlIHRoaXMuaGxzLnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk9USEVSX0VSUk9SLGRldGFpbHM6Uy5JTlRFUk5BTF9FWENFUFRJT04sZXJyOmUsZXJyb3I6ZSxmYXRhbDohMH0pO3JldHVybiBudWxsfSxyLl9oYW5kbGVUcmFuc211eGVyRmx1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRDdXJyZW50Q29udGV4dChlKTtpZih0JiZ0aGlzLnN0YXRlPT09c2kpe3ZhciByPXQuZnJhZyxpPXQucGFydCxhPXQubGV2ZWwsbj1zZWxmLnBlcmZvcm1hbmNlLm5vdygpO3Iuc3RhdHMucGFyc2luZy5lbmQ9bixpJiYoaS5zdGF0cy5wYXJzaW5nLmVuZD1uKSx0aGlzLnVwZGF0ZUxldmVsVGltaW5nKHIsaSxhLGUucGFydGlhbCl9ZWxzZSB0aGlzLmZyYWdDdXJyZW50fHx0aGlzLnN0YXRlPT09dGl8fHRoaXMuc3RhdGU9PT11aXx8KHRoaXMuc3RhdGU9cmkpfSxyLmdldEN1cnJlbnRDb250ZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGV2ZWxzLHI9dGhpcy5mcmFnQ3VycmVudCxpPWUubGV2ZWwsYT1lLnNuLG49ZS5wYXJ0O2lmKG51bGw9PXR8fCF0W2ldKXJldHVybiB0aGlzLndhcm4oIkxldmVscyBvYmplY3Qgd2FzIHVuc2V0IHdoaWxlIGJ1ZmZlcmluZyBmcmFnbWVudCAiK2ErIiBvZiBsZXZlbCAiK2krIi4gVGhlIGN1cnJlbnQgY2h1bmsgd2lsbCBub3QgYmUgYnVmZmVyZWQuIiksbnVsbDt2YXIgcz10W2ldLG89bj4tMT9PdChzLGEsbik6bnVsbCxsPW8/by5mcmFnbWVudDpmdW5jdGlvbihlLHQscil7aWYobnVsbD09ZXx8IWUuZGV0YWlscylyZXR1cm4gbnVsbDt2YXIgaT1lLmRldGFpbHMsYT1pLmZyYWdtZW50c1t0LWkuc3RhcnRTTl07cmV0dXJuIGF8fCgoYT1pLmZyYWdtZW50SGludCkmJmEuc249PT10P2E6dDxpLnN0YXJ0U04mJnImJnIuc249PT10P3I6bnVsbCl9KHMsYSxyKTtyZXR1cm4gbD8ociYmciE9PWwmJihsLnN0YXRzPXIuc3RhdHMpLHtmcmFnOmwscGFydDpvLGxldmVsOnN9KTpudWxsfSxyLmJ1ZmZlckZyYWdtZW50RGF0YT1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuO2lmKGUmJnRoaXMuc3RhdGU9PT1zaSl7dmFyIHM9ZS5kYXRhMSxvPWUuZGF0YTIsbD1zO2lmKHMmJm8mJihsPWJlKHMsbykpLG51bGwhPShuPWwpJiZuLmxlbmd0aCl7dmFyIHU9e3R5cGU6ZS50eXBlLGZyYWc6dCxwYXJ0OnIsY2h1bmtNZXRhOmkscGFyZW50OnQudHlwZSxkYXRhOmx9O2lmKHRoaXMuaGxzLnRyaWdnZXIoRS5CVUZGRVJfQVBQRU5ESU5HLHUpLGUuZHJvcHBlZCYmZS5pbmRlcGVuZGVudCYmIXIpe2lmKGEpcmV0dXJuO3RoaXMuZmx1c2hCdWZmZXJHYXAodCl9fX19LHIuZmx1c2hCdWZmZXJHYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tZWRpYTtpZih0KWlmKGxyLmlzQnVmZmVyZWQodCx0LmN1cnJlbnRUaW1lKSl7dmFyIHI9dC5jdXJyZW50VGltZSxpPWxyLmJ1ZmZlckluZm8odCxyLDApLGE9ZS5kdXJhdGlvbixuPU1hdGgubWluKDIqdGhpcy5jb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwuMjUqYSkscz1NYXRoLm1heChNYXRoLm1pbihlLnN0YXJ0LW4saS5lbmQtbikscituKTtlLnN0YXJ0LXM+biYmdGhpcy5mbHVzaE1haW5CdWZmZXIocyxlLnN0YXJ0KX1lbHNlIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsZS5zdGFydCl9LHIuZ2V0RndkQnVmZmVySW5mbz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ2V0TG9hZFBvc2l0aW9uKCk7cmV0dXJuIG0ocik/dGhpcy5nZXRGd2RCdWZmZXJJbmZvQXRQb3MoZSxyLHQpOm51bGx9LHIuZ2V0RndkQnVmZmVySW5mb0F0UG9zPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmNvbmZpZy5tYXhCdWZmZXJIb2xlLGE9bHIuYnVmZmVySW5mbyhlLHQsaSk7aWYoMD09PWEubGVuJiZ2b2lkIDAhPT1hLm5leHRTdGFydCl7dmFyIG49dGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0QnVmZmVyZWRGcmFnKHQscik7aWYobiYmYS5uZXh0U3RhcnQ8bi5lbmQpcmV0dXJuIGxyLmJ1ZmZlckluZm8oZSx0LE1hdGgubWF4KGEubmV4dFN0YXJ0LGkpKX1yZXR1cm4gYX0sci5nZXRNYXhCdWZmZXJMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLmNvbmZpZztyZXR1cm4gdD1lP01hdGgubWF4KDgqci5tYXhCdWZmZXJTaXplL2Usci5tYXhCdWZmZXJMZW5ndGgpOnIubWF4QnVmZmVyTGVuZ3RoLE1hdGgubWluKHQsci5tYXhNYXhCdWZmZXJMZW5ndGgpfSxyLnJlZHVjZU1heEJ1ZmZlckxlbmd0aD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuY29uZmlnLGk9TWF0aC5tYXgoTWF0aC5taW4oZS10LHIubWF4QnVmZmVyTGVuZ3RoKSx0KSxhPU1hdGgubWF4KGUtMyp0LHIubWF4TWF4QnVmZmVyTGVuZ3RoLzIsaSk7cmV0dXJuIGE+PWkmJihyLm1heE1heEJ1ZmZlckxlbmd0aD1hLHRoaXMud2FybigiUmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIHRvICIrYSsicyIpLCEwKX0sci5nZXRBcHBlbmRlZEZyYWc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmZyYWdtZW50VHJhY2tlci5nZXRBcHBlbmRlZEZyYWcoZSxudCk7cmV0dXJuIHImJiJmcmFnbWVudCJpbiByP3IuZnJhZ21lbnQ6cn0sci5nZXROZXh0RnJhZ21lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZyYWdtZW50cyxpPXIubGVuZ3RoO2lmKCFpKXJldHVybiBudWxsO3ZhciBhLG49dGhpcy5jb25maWcscz1yWzBdLnN0YXJ0O2lmKHQubGl2ZSl7dmFyIG89bi5pbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZTtpZihpPG8pcmV0dXJuIHRoaXMud2FybigiTm90IGVub3VnaCBmcmFnbWVudHMgdG8gc3RhcnQgcGxheWJhY2sgKGhhdmU6ICIraSsiLCBuZWVkOiAiK28rIikiKSxudWxsOyghdC5QVFNLbm93biYmIXRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkJiYtMT09PXRoaXMuc3RhcnRQb3NpdGlvbnx8ZTxzKSYmKGE9dGhpcy5nZXRJbml0aWFsTGl2ZUZyYWdtZW50KHQsciksdGhpcy5zdGFydFBvc2l0aW9uPXRoaXMubmV4dExvYWRQb3NpdGlvbj1hP3RoaXMuaGxzLmxpdmVTeW5jUG9zaXRpb258fGEuc3RhcnQ6ZSl9ZWxzZSBlPD1zJiYoYT1yWzBdKTtpZighYSl7dmFyIGw9bi5sb3dMYXRlbmN5TW9kZT90LnBhcnRFbmQ6dC5mcmFnbWVudEVuZDthPXRoaXMuZ2V0RnJhZ21lbnRBdFBvc2l0aW9uKGUsbCx0KX1yZXR1cm4gdGhpcy5tYXBUb0luaXRGcmFnV2hlblJlcXVpcmVkKGEpfSxyLmlzTG9vcExvYWRpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShlKTtyZXR1cm4ocj09PUZyfHxyPT09UHImJiEhZS5nYXApJiZ0aGlzLm5leHRMb2FkUG9zaXRpb24+dH0sci5nZXROZXh0RnJhZ21lbnRMb29wTG9hZGluZz1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuPWUuZ2FwLHM9dGhpcy5nZXROZXh0RnJhZ21lbnQodGhpcy5uZXh0TG9hZFBvc2l0aW9uLHQpO2lmKG51bGw9PT1zKXJldHVybiBzO2lmKGU9cyxuJiZlJiYhZS5nYXAmJnIubmV4dFN0YXJ0KXt2YXIgbz10aGlzLmdldEZ3ZEJ1ZmZlckluZm9BdFBvcyh0aGlzLm1lZGlhQnVmZmVyP3RoaXMubWVkaWFCdWZmZXI6dGhpcy5tZWRpYSxyLm5leHRTdGFydCxpKTtpZihudWxsIT09byYmci5sZW4rby5sZW4+PWEpcmV0dXJuIHRoaXMubG9nKCdidWZmZXIgZnVsbCBhZnRlciBnYXBzIGluICInK2krJyIgcGxheWxpc3Qgc3RhcnRpbmcgYXQgc246ICcrZS5zbiksbnVsbH1yZXR1cm4gZX0sci5tYXBUb0luaXRGcmFnV2hlblJlcXVpcmVkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfHwhZS5pbml0U2VnbWVudHx8bnVsbCE9ZSYmZS5pbml0U2VnbWVudC5kYXRhfHx0aGlzLmJpdHJhdGVUZXN0P2U6ZS5pbml0U2VnbWVudH0sci5nZXROZXh0UGFydD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPS0xLGE9ITEsbj0hMCxzPTAsbz1lLmxlbmd0aDtzPG87cysrKXt2YXIgbD1lW3NdO2lmKG49biYmIWwuaW5kZXBlbmRlbnQsaT4tMSYmcjxsLnN0YXJ0KWJyZWFrO3ZhciB1PWwubG9hZGVkO3U/aT0tMTooYXx8bC5pbmRlcGVuZGVudHx8bikmJmwuZnJhZ21lbnQ9PT10JiYoaT1zKSxhPXV9cmV0dXJuIGl9LHIubG9hZGVkRW5kT2ZQYXJ0cz1mdW5jdGlvbihlLHQpe3ZhciByPWVbZS5sZW5ndGgtMV07cmV0dXJuIHImJnQ+ci5zdGFydCYmci5sb2FkZWR9LHIuZ2V0SW5pdGlhbExpdmVGcmFnbWVudD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZnJhZ1ByZXZpb3VzLGk9bnVsbDtpZihyKXtpZihlLmhhc1Byb2dyYW1EYXRlVGltZSYmKHRoaXMubG9nKCJMaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIHNhbWUgUERUOiAiK3IucHJvZ3JhbURhdGVUaW1lKSxpPWZ1bmN0aW9uKGUsdCxyKXtpZihudWxsPT09dHx8IUFycmF5LmlzQXJyYXkoZSl8fCFlLmxlbmd0aHx8IW0odCkpcmV0dXJuIG51bGw7aWYodDwoZVswXS5wcm9ncmFtRGF0ZVRpbWV8fDApKXJldHVybiBudWxsO2lmKHQ+PShlW2UubGVuZ3RoLTFdLmVuZFByb2dyYW1EYXRlVGltZXx8MCkpcmV0dXJuIG51bGw7cj1yfHwwO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKXt2YXIgYT1lW2ldO2lmKFl0KHQscixhKSlyZXR1cm4gYX1yZXR1cm4gbnVsbH0odCxyLmVuZFByb2dyYW1EYXRlVGltZSx0aGlzLmNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlKSksIWkpe3ZhciBhPXIuc24rMTtpZihhPj1lLnN0YXJ0U04mJmE8PWUuZW5kU04pe3ZhciBuPXRbYS1lLnN0YXJ0U05dO3IuY2M9PT1uLmNjJiYoaT1uLHRoaXMubG9nKCJMaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIG5leHQgU046ICIraS5zbikpfWl8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEt0KGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNjPHQ/MTplLmNjPnQ/LTE6MH0pKX0odCxyLmNjKSxpJiZ0aGlzLmxvZygiTGl2ZSBwbGF5bGlzdCwgc3dpdGNoaW5nIHBsYXlsaXN0LCBsb2FkIGZyYWcgd2l0aCBzYW1lIENDOiAiK2kuc24pKX19ZWxzZXt2YXIgcz10aGlzLmhscy5saXZlU3luY1Bvc2l0aW9uO251bGwhPT1zJiYoaT10aGlzLmdldEZyYWdtZW50QXRQb3NpdGlvbihzLHRoaXMuYml0cmF0ZVRlc3Q/ZS5mcmFnbWVudEVuZDplLmVkZ2UsZSkpfXJldHVybiBpfSxyLmdldEZyYWdtZW50QXRQb3NpdGlvbj1mdW5jdGlvbihlLHQscil7dmFyIGksYT10aGlzLmNvbmZpZyxuPXRoaXMuZnJhZ1ByZXZpb3VzLHM9ci5mcmFnbWVudHMsbz1yLmVuZFNOLGw9ci5mcmFnbWVudEhpbnQsdT1hLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsZD1yLnBhcnRMaXN0LGg9ISEoYS5sb3dMYXRlbmN5TW9kZSYmbnVsbCE9ZCYmZC5sZW5ndGgmJmwpO2lmKGgmJmwmJiF0aGlzLmJpdHJhdGVUZXN0JiYocz1zLmNvbmNhdChsKSxvPWwuc24pLGk9ZTx0P1d0KG4scyxlLGU+dC11PzA6dSk6c1tzLmxlbmd0aC0xXSl7dmFyIGY9aS5zbi1yLnN0YXJ0U04sYz10aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShpKTtpZigoYz09PUZyfHxjPT09UHImJmkuZ2FwKSYmKG49aSksbiYmaS5zbj09PW4uc24mJighaHx8ZFswXS5mcmFnbWVudC5zbj5pLnNuKSYmbiYmaS5sZXZlbD09PW4ubGV2ZWwpe3ZhciB2PXNbZisxXTtpPWkuc248byYmdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUodikhPT1Gcj92Om51bGx9fXJldHVybiBpfSxyLnN5bmNocm9uaXplVG9MaXZlRWRnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmZpZyxyPXRoaXMubWVkaWE7aWYocil7dmFyIGk9dGhpcy5obHMubGl2ZVN5bmNQb3NpdGlvbixhPXIuY3VycmVudFRpbWUsbj1lLmZyYWdtZW50c1swXS5zdGFydCxzPWUuZWRnZSxvPWE+PW4tdC5tYXhGcmFnTG9va1VwVG9sZXJhbmNlJiZhPD1zO2lmKG51bGwhPT1pJiZyLmR1cmF0aW9uPmkmJihhPGl8fCFvKSl7dmFyIGw9dm9pZCAwIT09dC5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uP3QubGl2ZU1heExhdGVuY3lEdXJhdGlvbjp0LmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCplLnRhcmdldGR1cmF0aW9uOyghbyYmci5yZWFkeVN0YXRlPDR8fGE8cy1sKSYmKHRoaXMubG9hZGVkbWV0YWRhdGF8fCh0aGlzLm5leHRMb2FkUG9zaXRpb249aSksci5yZWFkeVN0YXRlJiYodGhpcy53YXJuKCJQbGF5YmFjazogIithLnRvRml4ZWQoMykrIiBpcyBsb2NhdGVkIHRvbyBmYXIgZnJvbSB0aGUgZW5kIG9mIGxpdmUgc2xpZGluZyBwbGF5bGlzdDogIitzKyIsIHJlc2V0IGN1cnJlbnRUaW1lIHRvIDogIitpLnRvRml4ZWQoMykpLHIuY3VycmVudFRpbWU9aSkpfX19LHIuYWxpZ25QbGF5bGlzdHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWUuZnJhZ21lbnRzLmxlbmd0aDtpZighaSlyZXR1cm4gdGhpcy53YXJuKCJObyBmcmFnbWVudHMgaW4gbGl2ZSBwbGF5bGlzdCIpLDA7dmFyIGE9ZS5mcmFnbWVudHNbMF0uc3RhcnQsbj0hdCxzPWUuYWxpZ25lZFNsaWRpbmcmJm0oYSk7aWYobnx8IXMmJiFhKXt2YXIgbz10aGlzLmZyYWdQcmV2aW91cztYcihvLHIsZSk7dmFyIGw9ZS5mcmFnbWVudHNbMF0uc3RhcnQ7cmV0dXJuIHRoaXMubG9nKCJMaXZlIHBsYXlsaXN0IHNsaWRpbmc6ICIrbC50b0ZpeGVkKDIpKyIgc3RhcnQtc246ICIrKHQ/dC5zdGFydFNOOiJuYSIpKyItPiIrZS5zdGFydFNOKyIgcHJldi1zbjogIisobz9vLnNuOiJuYSIpKyIgZnJhZ21lbnRzOiAiK2kpLGx9cmV0dXJuIGF9LHIud2FpdEZvckNkblR1bmVJbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5saXZlJiZlLmNhbkJsb2NrUmVsb2FkJiZlLnBhcnRUYXJnZXQmJmUudHVuZUluR29hbD5NYXRoLm1heChlLnBhcnRIb2xkQmFjaywzKmUucGFydFRhcmdldCl9LHIuc2V0U3RhcnRQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc3RhcnRQb3NpdGlvbjtpZihyPHQmJihyPS0xKSwtMT09PXJ8fC0xPT09dGhpcy5sYXN0Q3VycmVudFRpbWUpe3ZhciBpPW51bGwhPT10aGlzLnN0YXJ0VGltZU9mZnNldCxhPWk/dGhpcy5zdGFydFRpbWVPZmZzZXQ6ZS5zdGFydFRpbWVPZmZzZXQ7bnVsbCE9PWEmJm0oYSk/KHI9dCthLGE8MCYmKHIrPWUudG90YWxkdXJhdGlvbikscj1NYXRoLm1pbihNYXRoLm1heCh0LHIpLHQrZS50b3RhbGR1cmF0aW9uKSx0aGlzLmxvZygiU3RhcnQgdGltZSBvZmZzZXQgIithKyIgZm91bmQgaW4gIisoaT8ibXVsdGl2YXJpYW50IjoibWVkaWEiKSsiIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byAiK3IpLHRoaXMuc3RhcnRQb3NpdGlvbj1yKTplLmxpdmU/cj10aGlzLmhscy5saXZlU3luY1Bvc2l0aW9ufHx0OnRoaXMuc3RhcnRQb3NpdGlvbj1yPTAsdGhpcy5sYXN0Q3VycmVudFRpbWU9cn10aGlzLm5leHRMb2FkUG9zaXRpb249cn0sci5nZXRMb2FkUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1lZGlhLHQ9MDtyZXR1cm4gdGhpcy5sb2FkZWRtZXRhZGF0YSYmZT90PWUuY3VycmVudFRpbWU6dGhpcy5uZXh0TG9hZFBvc2l0aW9uJiYodD10aGlzLm5leHRMb2FkUG9zaXRpb24pLHR9LHIuaGFuZGxlRnJhZ0xvYWRBYm9ydGVkPWZ1bmN0aW9uKGUsdCl7dGhpcy50cmFuc211eGVyJiYiaW5pdFNlZ21lbnQiIT09ZS5zbiYmZS5zdGF0cy5hYm9ydGVkJiYodGhpcy53YXJuKCJGcmFnbWVudCAiK2Uuc24rKHQ/IiBwYXJ0ICIrdC5pbmRleDoiIikrIiBvZiBsZXZlbCAiK2UubGV2ZWwrIiB3YXMgYWJvcnRlZCIpLHRoaXMucmVzZXRGcmFnbWVudExvYWRpbmcoZSkpfSxyLnJlc2V0RnJhZ21lbnRMb2FkaW5nPWZ1bmN0aW9uKGUpe3RoaXMuZnJhZ0N1cnJlbnQmJih0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChlKXx8dGhpcy5zdGF0ZT09PW5pKXx8KHRoaXMuc3RhdGU9cmkpfSxyLm9uRnJhZ21lbnRPcktleUxvYWRFcnJvcj1mdW5jdGlvbihlLHQpe2lmKHQuY2h1bmtNZXRhJiYhdC5mcmFnKXt2YXIgcj10aGlzLmdldEN1cnJlbnRDb250ZXh0KHQuY2h1bmtNZXRhKTtyJiYodC5mcmFnPXIuZnJhZyl9dmFyIGk9dC5mcmFnO2lmKGkmJmkudHlwZT09PWUmJnRoaXMubGV2ZWxzKWlmKHRoaXMuZnJhZ0NvbnRleHRDaGFuZ2VkKGkpKXt2YXIgYTt0aGlzLndhcm4oIkZyYWcgbG9hZCBlcnJvciBtdXN0IG1hdGNoIGN1cnJlbnQgZnJhZyB0byByZXRyeSAiK2kudXJsKyIgPiAiKyhudWxsPT0oYT10aGlzLmZyYWdDdXJyZW50KT92b2lkIDA6YS51cmwpKX1lbHNle3ZhciBuPXQuZGV0YWlscz09PVMuRlJBR19HQVA7biYmdGhpcy5mcmFnbWVudFRyYWNrZXIuZnJhZ0J1ZmZlcmVkKGksITApO3ZhciBzPXQuZXJyb3JBY3Rpb24sbz1zfHx7fSxsPW8uYWN0aW9uLHU9by5yZXRyeUNvdW50LGQ9dm9pZCAwPT09dT8wOnUsaD1vLnJldHJ5Q29uZmlnO2lmKHMmJmw9PT1RdCYmaCl7dGhpcy5yZXNldFN0YXJ0V2hlbk5vdExvYWRlZCh0aGlzLmxldmVsTGFzdExvYWRlZCk7dmFyIGY9R3QoaCxkKTt0aGlzLndhcm4oIkZyYWdtZW50ICIraS5zbisiIG9mICIrZSsiICIraS5sZXZlbCsiIGVycm9yZWQgd2l0aCAiK3QuZGV0YWlscysiLCByZXRyeWluZyBsb2FkaW5nICIrKGQrMSkrIi8iK2gubWF4TnVtUmV0cnkrIiBpbiAiK2YrIm1zIikscy5yZXNvbHZlZD0hMCx0aGlzLnJldHJ5RGF0ZT1zZWxmLnBlcmZvcm1hbmNlLm5vdygpK2YsdGhpcy5zdGF0ZT1uaX1lbHNlIGlmKGgmJnMpe2lmKHRoaXMucmVzZXRGcmFnbWVudEVycm9ycyhlKSwhKGQ8aC5tYXhOdW1SZXRyeSkpcmV0dXJuIHZvaWQgRC53YXJuKHQuZGV0YWlscysiIHJlYWNoZWQgb3IgZXhjZWVkZWQgbWF4IHJldHJ5ICgiK2QrIikiKTtufHxsPT09WHR8fChzLnJlc29sdmVkPSEwKX1lbHNlKG51bGw9PXM/dm9pZCAwOnMuYWN0aW9uKT09PXp0P3RoaXMuc3RhdGU9ZGk6dGhpcy5zdGF0ZT11aTt0aGlzLnRpY2tJbW1lZGlhdGUoKX19LHIucmVkdWNlTGVuZ3RoQW5kRmx1c2hCdWZmZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5zdGF0ZT09PXNpfHx0aGlzLnN0YXRlPT09b2kpe3ZhciB0PWUuZnJhZyxyPWUucGFyZW50LGk9dGhpcy5nZXRGd2RCdWZmZXJJbmZvKHRoaXMubWVkaWFCdWZmZXIsciksYT1pJiZpLmxlbj4uNTthJiZ0aGlzLnJlZHVjZU1heEJ1ZmZlckxlbmd0aChpLmxlbiwobnVsbD09dD92b2lkIDA6dC5kdXJhdGlvbil8fDEwKTt2YXIgbj0hYTtyZXR1cm4gbiYmdGhpcy53YXJuKCJCdWZmZXIgZnVsbCBlcnJvciB3aGlsZSBtZWRpYS5jdXJyZW50VGltZSBpcyBub3QgYnVmZmVyZWQsIGZsdXNoICIrcisiIGJ1ZmZlciIpLHQmJih0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudCh0KSx0aGlzLm5leHRMb2FkUG9zaXRpb249dC5zdGFydCksdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpLG59cmV0dXJuITF9LHIucmVzZXRGcmFnbWVudEVycm9ycz1mdW5jdGlvbihlKXtlPT09c3QmJih0aGlzLmZyYWdDdXJyZW50PW51bGwpLHRoaXMubG9hZGVkbWV0YWRhdGF8fCh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZD0hMSksdGhpcy5zdGF0ZSE9PXRpJiYodGhpcy5zdGF0ZT1yaSl9LHIuYWZ0ZXJCdWZmZXJGbHVzaGVkPWZ1bmN0aW9uKGUsdCxyKXtpZihlKXt2YXIgaT1sci5nZXRCdWZmZXJlZChlKTt0aGlzLmZyYWdtZW50VHJhY2tlci5kZXRlY3RFdmljdGVkRnJhZ21lbnRzKHQsaSxyKSx0aGlzLnN0YXRlPT09bGkmJnRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKX19LHIucmVzZXRMb2FkaW5nU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmxvZygiUmVzZXQgbG9hZGluZyBzdGF0ZSIpLHRoaXMuZnJhZ0N1cnJlbnQ9bnVsbCx0aGlzLmZyYWdQcmV2aW91cz1udWxsLHRoaXMuc3RhdGU9cml9LHIucmVzZXRTdGFydFdoZW5Ob3RMb2FkZWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubG9hZGVkbWV0YWRhdGEpe3RoaXMuc3RhcnRGcmFnUmVxdWVzdGVkPSExO3ZhciB0PWU/ZS5kZXRhaWxzOm51bGw7bnVsbCE9dCYmdC5saXZlPyh0aGlzLnN0YXJ0UG9zaXRpb249LTEsdGhpcy5zZXRTdGFydFBvc2l0aW9uKHQsMCksdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpKTp0aGlzLm5leHRMb2FkUG9zaXRpb249dGhpcy5zdGFydFBvc2l0aW9ufX0sci5yZXNldFdoZW5NaXNzaW5nQ29udGV4dD1mdW5jdGlvbihlKXt0aGlzLndhcm4oIlRoZSBsb2FkaW5nIGNvbnRleHQgY2hhbmdlZCB3aGlsZSBidWZmZXJpbmcgZnJhZ21lbnQgIitlLnNuKyIgb2YgbGV2ZWwgIitlLmxldmVsKyIuIFRoaXMgY2h1bmsgd2lsbCBub3QgYmUgYnVmZmVyZWQuIiksdGhpcy5yZW1vdmVVbmJ1ZmZlcmVkRnJhZ3MoKSx0aGlzLnJlc2V0U3RhcnRXaGVuTm90TG9hZGVkKHRoaXMubGV2ZWxMYXN0TG9hZGVkKSx0aGlzLnJlc2V0TG9hZGluZ1N0YXRlKCl9LHIucmVtb3ZlVW5idWZmZXJlZEZyYWdzPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPTApLHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50c0luUmFuZ2UoZSwxLzAsdGhpcy5wbGF5bGlzdFR5cGUsITEsITApfSxyLnVwZGF0ZUxldmVsVGltaW5nPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhLG49dGhpcyxzPXIuZGV0YWlscztpZihzKXtpZighT2JqZWN0LmtleXMoZS5lbGVtZW50YXJ5U3RyZWFtcykucmVkdWNlKChmdW5jdGlvbih0LGEpe3ZhciBvPWUuZWxlbWVudGFyeVN0cmVhbXNbYV07aWYobyl7dmFyIGw9by5lbmRQVFMtby5zdGFydFBUUztpZihsPD0wKXJldHVybiBuLndhcm4oIkNvdWxkIG5vdCBwYXJzZSBmcmFnbWVudCAiK2Uuc24rIiAiK2ErIiBkdXJhdGlvbiByZWxpYWJseSAoIitsKyIpIiksdHx8ITE7dmFyIHU9aT8wOkl0KHMsZSxvLnN0YXJ0UFRTLG8uZW5kUFRTLG8uc3RhcnREVFMsby5lbmREVFMpO3JldHVybiBuLmhscy50cmlnZ2VyKEUuTEVWRUxfUFRTX1VQREFURUQse2RldGFpbHM6cyxsZXZlbDpyLGRyaWZ0OnUsdHlwZTphLGZyYWc6ZSxzdGFydDpvLnN0YXJ0UFRTLGVuZDpvLmVuZFBUU30pLCEwfXJldHVybiB0fSksITEpJiZudWxsPT09KG51bGw9PShhPXRoaXMudHJhbnNtdXhlcik/dm9pZCAwOmEuZXJyb3IpKXt2YXIgbz1uZXcgRXJyb3IoIkZvdW5kIG5vIG1lZGlhIGluIGZyYWdtZW50ICIrZS5zbisiIG9mIGxldmVsICIrZS5sZXZlbCsiIHJlc2V0dGluZyB0cmFuc211eGVyIHRvIGZhbGxiYWNrIHRvIHBsYXlsaXN0IHRpbWluZyIpO2lmKDA9PT1yLmZyYWdtZW50RXJyb3ImJihyLmZyYWdtZW50RXJyb3IrKyxlLmdhcD0hMCx0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChlKSx0aGlzLmZyYWdtZW50VHJhY2tlci5mcmFnQnVmZmVyZWQoZSwhMCkpLHRoaXMud2FybihvLm1lc3NhZ2UpLHRoaXMuaGxzLnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk1FRElBX0VSUk9SLGRldGFpbHM6Uy5GUkFHX1BBUlNJTkdfRVJST1IsZmF0YWw6ITEsZXJyb3I6byxmcmFnOmUscmVhc29uOiJGb3VuZCBubyBtZWRpYSBpbiBtc24gIitlLnNuKycgb2YgbGV2ZWwgIicrci51cmwrJyInfSksIXRoaXMuaGxzKXJldHVybjt0aGlzLnJlc2V0VHJhbnNtdXhlcigpfXRoaXMuc3RhdGU9b2ksdGhpcy5obHMudHJpZ2dlcihFLkZSQUdfUEFSU0VELHtmcmFnOmUscGFydDp0fSl9ZWxzZSB0aGlzLndhcm4oImxldmVsLmRldGFpbHMgdW5kZWZpbmVkIil9LHIucmVzZXRUcmFuc211eGVyPWZ1bmN0aW9uKCl7dGhpcy50cmFuc211eGVyJiYodGhpcy50cmFuc211eGVyLmRlc3Ryb3koKSx0aGlzLnRyYW5zbXV4ZXI9bnVsbCl9LHIucmVjb3ZlcldvcmtlckVycm9yPWZ1bmN0aW9uKGUpeyJkZW11eGVyV29ya2VyIj09PWUuZXZlbnQmJih0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVBbGxGcmFnbWVudHMoKSx0aGlzLnJlc2V0VHJhbnNtdXhlcigpLHRoaXMucmVzZXRTdGFydFdoZW5Ob3RMb2FkZWQodGhpcy5sZXZlbExhc3RMb2FkZWQpLHRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKSl9LHModCxbe2tleToic3RhdGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N0YXRlO3QhPT1lJiYodGhpcy5fc3RhdGU9ZSx0aGlzLmxvZyh0KyItPiIrZSkpfX1dKSx0fShXcik7ZnVuY3Rpb24gZmkoKXtyZXR1cm4gc2VsZi5Tb3VyY2VCdWZmZXJ8fHNlbGYuV2ViS2l0U291cmNlQnVmZmVyfWZ1bmN0aW9uIGNpKCl7aWYoIUNlKCkpcmV0dXJuITE7dmFyIGU9ZmkoKTtyZXR1cm4hZXx8ZS5wcm90b3R5cGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnByb3RvdHlwZS5hcHBlbmRCdWZmZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnByb3RvdHlwZS5yZW1vdmV9ZnVuY3Rpb24gdmkoZSx0KXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9IiIpLHZvaWQgMD09PXQmJih0PTllNCkse3R5cGU6ZSxpZDotMSxwaWQ6LTEsaW5wdXRUaW1lU2NhbGU6dCxzZXF1ZW5jZU51bWJlcjotMSxzYW1wbGVzOltdLGRyb3BwZWQ6MH19dmFyIGdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2F1ZGlvVHJhY2s9dm9pZCAwLHRoaXMuX2lkM1RyYWNrPXZvaWQgMCx0aGlzLmZyYW1lSW5kZXg9MCx0aGlzLmNhY2hlZERhdGE9bnVsbCx0aGlzLmJhc2VQVFM9bnVsbCx0aGlzLmluaXRQVFM9bnVsbCx0aGlzLmxhc3RQVFM9bnVsbH12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5yZXNldEluaXRTZWdtZW50PWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuX2lkM1RyYWNrPXt0eXBlOiJpZDMiLGlkOjMscGlkOi0xLGlucHV0VGltZVNjYWxlOjllNCxzZXF1ZW5jZU51bWJlcjowLHNhbXBsZXM6W10sZHJvcHBlZDowfX0sdC5yZXNldFRpbWVTdGFtcD1mdW5jdGlvbihlKXt0aGlzLmluaXRQVFM9ZSx0aGlzLnJlc2V0Q29udGlndWl0eSgpfSx0LnJlc2V0Q29udGlndWl0eT1mdW5jdGlvbigpe3RoaXMuYmFzZVBUUz1udWxsLHRoaXMubGFzdFBUUz1udWxsLHRoaXMuZnJhbWVJbmRleD0wfSx0LmNhblBhcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuITF9LHQuYXBwZW5kRnJhbWU9ZnVuY3Rpb24oZSx0LHIpe30sdC5kZW11eD1mdW5jdGlvbihlLHQpe3RoaXMuY2FjaGVkRGF0YSYmKGU9YmUodGhpcy5jYWNoZWREYXRhLGUpLHRoaXMuY2FjaGVkRGF0YT1udWxsKTt2YXIgcixpPVkoZSwwKSxhPWk/aS5sZW5ndGg6MCxuPXRoaXMuX2F1ZGlvVHJhY2sscz10aGlzLl9pZDNUcmFjayxvPWk/WChpKTp2b2lkIDAsbD1lLmxlbmd0aDtmb3IoKG51bGw9PT10aGlzLmJhc2VQVFN8fDA9PT10aGlzLmZyYW1lSW5kZXgmJm0obykpJiYodGhpcy5iYXNlUFRTPW1pKG8sdCx0aGlzLmluaXRQVFMpLHRoaXMubGFzdFBUUz10aGlzLmJhc2VQVFMpLG51bGw9PT10aGlzLmxhc3RQVFMmJih0aGlzLmxhc3RQVFM9dGhpcy5iYXNlUFRTKSxpJiZpLmxlbmd0aD4wJiZzLnNhbXBsZXMucHVzaCh7cHRzOnRoaXMubGFzdFBUUyxkdHM6dGhpcy5sYXN0UFRTLGRhdGE6aSx0eXBlOmN0LGR1cmF0aW9uOk51bWJlci5QT1NJVElWRV9JTkZJTklUWX0pO2E8bDspe2lmKHRoaXMuY2FuUGFyc2UoZSxhKSl7dmFyIHU9dGhpcy5hcHBlbmRGcmFtZShuLGUsYSk7dT8odGhpcy5mcmFtZUluZGV4KyssdGhpcy5sYXN0UFRTPXUuc2FtcGxlLnB0cyxyPWErPXUubGVuZ3RoKTphPWx9ZWxzZSB6KGUsYSk/KGk9WShlLGEpLHMuc2FtcGxlcy5wdXNoKHtwdHM6dGhpcy5sYXN0UFRTLGR0czp0aGlzLmxhc3RQVFMsZGF0YTppLHR5cGU6Y3QsZHVyYXRpb246TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSkscj1hKz1pLmxlbmd0aCk6YSsrO2lmKGE9PT1sJiZyIT09bCl7dmFyIGQ9VihlLHIpO3RoaXMuY2FjaGVkRGF0YT90aGlzLmNhY2hlZERhdGE9YmUodGhpcy5jYWNoZWREYXRhLGQpOnRoaXMuY2FjaGVkRGF0YT1kfX1yZXR1cm57YXVkaW9UcmFjazpuLHZpZGVvVHJhY2s6dmkoKSxpZDNUcmFjazpzLHRleHRUcmFjazp2aSgpfX0sdC5kZW11eFNhbXBsZUFlcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiWyIrdGhpcysiXSBUaGlzIGRlbXV4ZXIgZG9lcyBub3Qgc3VwcG9ydCBTYW1wbGUtQUVTIGRlY3J5cHRpb24iKSl9LHQuZmx1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jYWNoZWREYXRhO3JldHVybiB0JiYodGhpcy5jYWNoZWREYXRhPW51bGwsdGhpcy5kZW11eCh0LDApKSx7YXVkaW9UcmFjazp0aGlzLl9hdWRpb1RyYWNrLHZpZGVvVHJhY2s6dmkoKSxpZDNUcmFjazp0aGlzLl9pZDNUcmFjayx0ZXh0VHJhY2s6dmkoKX19LHQuZGVzdHJveT1mdW5jdGlvbigpe30sZX0oKSxtaT1mdW5jdGlvbihlLHQscil7cmV0dXJuIG0oZSk/OTAqZTo5ZTQqdCsocj85ZTQqci5iYXNlVGltZS9yLnRpbWVzY2FsZTowKX07ZnVuY3Rpb24gcGkoZSx0KXtyZXR1cm4gMjU1PT09ZVt0XSYmMjQwPT0oMjQ2JmVbdCsxXSl9ZnVuY3Rpb24geWkoZSx0KXtyZXR1cm4gMSZlW3QrMV0/Nzo5fWZ1bmN0aW9uIEVpKGUsdCl7cmV0dXJuKDMmZVt0KzNdKTw8MTF8ZVt0KzRdPDwzfCgyMjQmZVt0KzVdKT4+PjV9ZnVuY3Rpb24gVGkoZSx0KXtyZXR1cm4gdCsxPGUubGVuZ3RoJiZwaShlLHQpfWZ1bmN0aW9uIFNpKGUsdCl7aWYoVGkoZSx0KSl7dmFyIHI9eWkoZSx0KTtpZih0K3I+PWUubGVuZ3RoKXJldHVybiExO3ZhciBpPUVpKGUsdCk7aWYoaTw9cilyZXR1cm4hMTt2YXIgYT10K2k7cmV0dXJuIGE9PT1lLmxlbmd0aHx8VGkoZSxhKX1yZXR1cm4hMX1mdW5jdGlvbiBMaShlLHQscixpLGEpe2lmKCFlLnNhbXBsZXJhdGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhLG4scyxvLGw9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLHU9aSxkPVs5NmUzLDg4MjAwLDY0ZTMsNDhlMyw0NDEwMCwzMmUzLDI0ZTMsMjIwNTAsMTZlMywxMmUzLDExMDI1LDhlMyw3MzUwXTthPTErKCgxOTImdFtyKzJdKT4+PjYpO3ZhciBoPSg2MCZ0W3IrMl0pPj4+MjtpZighKGg+ZC5sZW5ndGgtMSkpcmV0dXJuIHM9KDEmdFtyKzJdKTw8MixzfD0oMTkyJnRbciszXSk+Pj42LEQubG9nKCJtYW5pZmVzdCBjb2RlYzoiK2krIiwgQURUUyB0eXBlOiIrYSsiLCBzYW1wbGluZ0luZGV4OiIraCksL2ZpcmVmb3gvaS50ZXN0KGwpP2g+PTY/KGE9NSxvPW5ldyBBcnJheSg0KSxuPWgtMyk6KGE9MixvPW5ldyBBcnJheSgyKSxuPWgpOi0xIT09bC5pbmRleE9mKCJhbmRyb2lkIik/KGE9MixvPW5ldyBBcnJheSgyKSxuPWgpOihhPTUsbz1uZXcgQXJyYXkoNCksaSYmKC0xIT09aS5pbmRleE9mKCJtcDRhLjQwLjI5Iil8fC0xIT09aS5pbmRleE9mKCJtcDRhLjQwLjUiKSl8fCFpJiZoPj02P249aC0zOigoaSYmLTEhPT1pLmluZGV4T2YoIm1wNGEuNDAuMiIpJiYoaD49NiYmMT09PXN8fC92aXZhbGRpL2kudGVzdChsKSl8fCFpJiYxPT09cykmJihhPTIsbz1uZXcgQXJyYXkoMikpLG49aCkpLG9bMF09YTw8MyxvWzBdfD0oMTQmaCk+PjEsb1sxXXw9KDEmaCk8PDcsb1sxXXw9czw8Myw1PT09YSYmKG9bMV18PSgxNCZuKT4+MSxvWzJdPSgxJm4pPDw3LG9bMl18PTgsb1szXT0wKSx7Y29uZmlnOm8sc2FtcGxlcmF0ZTpkW2hdLGNoYW5uZWxDb3VudDpzLGNvZGVjOiJtcDRhLjQwLiIrYSxtYW5pZmVzdENvZGVjOnV9O3ZhciBmPW5ldyBFcnJvcigiaW52YWxpZCBBRFRTIHNhbXBsaW5nIGluZGV4OiIraCk7ZS5lbWl0KEUuRVJST1IsRS5FUlJPUix7dHlwZTpULk1FRElBX0VSUk9SLGRldGFpbHM6Uy5GUkFHX1BBUlNJTkdfRVJST1IsZmF0YWw6ITAsZXJyb3I6ZixyZWFzb246Zi5tZXNzYWdlfSl9KHQscixpLGEpO2lmKCFuKXJldHVybjtlLmNvbmZpZz1uLmNvbmZpZyxlLnNhbXBsZXJhdGU9bi5zYW1wbGVyYXRlLGUuY2hhbm5lbENvdW50PW4uY2hhbm5lbENvdW50LGUuY29kZWM9bi5jb2RlYyxlLm1hbmlmZXN0Q29kZWM9bi5tYW5pZmVzdENvZGVjLEQubG9nKCJwYXJzZWQgY29kZWM6IitlLmNvZGVjKyIsIHJhdGU6IituLnNhbXBsZXJhdGUrIiwgY2hhbm5lbHM6IituLmNoYW5uZWxDb3VudCl9fWZ1bmN0aW9uIFJpKGUpe3JldHVybiA5MjE2ZTQvZX1mdW5jdGlvbiBBaShlLHQscixpLGEpe3ZhciBuLHM9aSthKlJpKGUuc2FtcGxlcmF0ZSksbz1mdW5jdGlvbihlLHQpe3ZhciByPXlpKGUsdCk7aWYodCtyPD1lLmxlbmd0aCl7dmFyIGk9RWkoZSx0KS1yO2lmKGk+MClyZXR1cm57aGVhZGVyTGVuZ3RoOnIsZnJhbWVMZW5ndGg6aX19fSh0LHIpO2lmKG8pe3ZhciBsPW8uZnJhbWVMZW5ndGgsdT1vLmhlYWRlckxlbmd0aCxkPXUrbCxoPU1hdGgubWF4KDAscitkLXQubGVuZ3RoKTtoPyhuPW5ldyBVaW50OEFycmF5KGQtdSkpLnNldCh0LnN1YmFycmF5KHIrdSx0Lmxlbmd0aCksMCk6bj10LnN1YmFycmF5KHIrdSxyK2QpO3ZhciBmPXt1bml0Om4scHRzOnN9O3JldHVybiBofHxlLnNhbXBsZXMucHVzaChmKSx7c2FtcGxlOmYsbGVuZ3RoOmQsbWlzc2luZzpofX12YXIgYz10Lmxlbmd0aC1yO3JldHVybihuPW5ldyBVaW50OEFycmF5KGMpKS5zZXQodC5zdWJhcnJheShyLHQubGVuZ3RoKSwwKSx7c2FtcGxlOnt1bml0Om4scHRzOnN9LGxlbmd0aDpjLG1pc3Npbmc6LTF9fXZhciBiaT1udWxsLGtpPVszMiw2NCw5NiwxMjgsMTYwLDE5MiwyMjQsMjU2LDI4OCwzMjAsMzUyLDM4NCw0MTYsNDQ4LDMyLDQ4LDU2LDY0LDgwLDk2LDExMiwxMjgsMTYwLDE5MiwyMjQsMjU2LDMyMCwzODQsMzIsNDAsNDgsNTYsNjQsODAsOTYsMTEyLDEyOCwxNjAsMTkyLDIyNCwyNTYsMzIwLDMyLDQ4LDU2LDY0LDgwLDk2LDExMiwxMjgsMTQ0LDE2MCwxNzYsMTkyLDIyNCwyNTYsOCwxNiwyNCwzMiw0MCw0OCw1Niw2NCw4MCw5NiwxMTIsMTI4LDE0NCwxNjBdLERpPVs0NDEwMCw0OGUzLDMyZTMsMjIwNTAsMjRlMywxNmUzLDExMDI1LDEyZTMsOGUzXSxfaT1bWzAsNzIsMTQ0LDEyXSxbMCwwLDAsMF0sWzAsNzIsMTQ0LDEyXSxbMCwxNDQsMTQ0LDEyXV0seGk9WzAsMSwxLDRdO2Z1bmN0aW9uIHdpKGUsdCxyLGksYSl7aWYoIShyKzI0PnQubGVuZ3RoKSl7dmFyIG49Q2kodCxyKTtpZihuJiZyK24uZnJhbWVMZW5ndGg8PXQubGVuZ3RoKXt2YXIgcz1pK2EqKDllNCpuLnNhbXBsZXNQZXJGcmFtZS9uLnNhbXBsZVJhdGUpLG89e3VuaXQ6dC5zdWJhcnJheShyLHIrbi5mcmFtZUxlbmd0aCkscHRzOnMsZHRzOnN9O3JldHVybiBlLmNvbmZpZz1bXSxlLmNoYW5uZWxDb3VudD1uLmNoYW5uZWxDb3VudCxlLnNhbXBsZXJhdGU9bi5zYW1wbGVSYXRlLGUuc2FtcGxlcy5wdXNoKG8pLHtzYW1wbGU6byxsZW5ndGg6bi5mcmFtZUxlbmd0aCxtaXNzaW5nOjB9fX19ZnVuY3Rpb24gQ2koZSx0KXt2YXIgcj1lW3QrMV0+PjMmMyxpPWVbdCsxXT4+MSYzLGE9ZVt0KzJdPj40JjE1LG49ZVt0KzJdPj4yJjM7aWYoMSE9PXImJjAhPT1hJiYxNSE9PWEmJjMhPT1uKXt2YXIgcz1lW3QrMl0+PjEmMSxvPWVbdCszXT4+NixsPTFlMypraVsxNCooMz09PXI/My1pOjM9PT1pPzM6NCkrYS0xXSx1PURpWzMqKDM9PT1yPzA6Mj09PXI/MToyKStuXSxkPTM9PT1vPzE6MixoPV9pW3JdW2ldLGY9eGlbaV0sYz04KmgqZix2PU1hdGguZmxvb3IoaCpsL3UrcykqZjtpZihudWxsPT09Ymkpe3ZhciBnPShuYXZpZ2F0b3IudXNlckFnZW50fHwiIikubWF0Y2goL0Nocm9tZVwvKFxkKykvaSk7Ymk9Zz9wYXJzZUludChnWzFdKTowfXJldHVybiEhYmkmJmJpPD04NyYmMj09PWkmJmw+PTIyNGUzJiYwPT09byYmKGVbdCszXT0xMjh8ZVt0KzNdKSx7c2FtcGxlUmF0ZTp1LGNoYW5uZWxDb3VudDpkLGZyYW1lTGVuZ3RoOnYsc2FtcGxlc1BlckZyYW1lOmN9fX1mdW5jdGlvbiBJaShlLHQpe3JldHVybiAyNTU9PT1lW3RdJiYyMjQ9PSgyMjQmZVt0KzFdKSYmMCE9KDYmZVt0KzFdKX1mdW5jdGlvbiBQaShlLHQpe3JldHVybiB0KzE8ZS5sZW5ndGgmJklpKGUsdCl9ZnVuY3Rpb24gRmkoZSx0KXtpZih0KzE8ZS5sZW5ndGgmJklpKGUsdCkpe3ZhciByPUNpKGUsdCksaT00O251bGwhPXImJnIuZnJhbWVMZW5ndGgmJihpPXIuZnJhbWVMZW5ndGgpO3ZhciBhPXQraTtyZXR1cm4gYT09PWUubGVuZ3RofHxQaShlLGEpfXJldHVybiExfXZhciBPaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIGk7cmV0dXJuKGk9ZS5jYWxsKHRoaXMpfHx0aGlzKS5vYnNlcnZlcj12b2lkIDAsaS5jb25maWc9dm9pZCAwLGkub2JzZXJ2ZXI9dCxpLmNvbmZpZz1yLGl9bCh0LGUpO3ZhciByPXQucHJvdG90eXBlO3JldHVybiByLnJlc2V0SW5pdFNlZ21lbnQ9ZnVuY3Rpb24odCxyLGksYSl7ZS5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudC5jYWxsKHRoaXMsdCxyLGksYSksdGhpcy5fYXVkaW9UcmFjaz17Y29udGFpbmVyOiJhdWRpby9hZHRzIix0eXBlOiJhdWRpbyIsaWQ6MixwaWQ6LTEsc2VxdWVuY2VOdW1iZXI6MCxzZWdtZW50Q29kZWM6ImFhYyIsc2FtcGxlczpbXSxtYW5pZmVzdENvZGVjOnIsZHVyYXRpb246YSxpbnB1dFRpbWVTY2FsZTo5ZTQsZHJvcHBlZDowfX0sdC5wcm9iZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1ZKGUsMCkscj0obnVsbD09dD92b2lkIDA6dC5sZW5ndGgpfHwwO2lmKEZpKGUscikpcmV0dXJuITE7Zm9yKHZhciBpPWUubGVuZ3RoO3I8aTtyKyspaWYoU2koZSxyKSlyZXR1cm4gRC5sb2coIkFEVFMgc3luYyB3b3JkIGZvdW5kICEiKSwhMDtyZXR1cm4hMX0sci5jYW5QYXJzZT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB0KzU8ZS5sZW5ndGh9KGUsdCkmJnBpKGUsdCkmJkVpKGUsdCk8PWUubGVuZ3RoLXR9KGUsdCl9LHIuYXBwZW5kRnJhbWU9ZnVuY3Rpb24oZSx0LHIpe0xpKGUsdGhpcy5vYnNlcnZlcix0LHIsZS5tYW5pZmVzdENvZGVjKTt2YXIgaT1BaShlLHQscix0aGlzLmJhc2VQVFMsdGhpcy5mcmFtZUluZGV4KTtpZihpJiYwPT09aS5taXNzaW5nKXJldHVybiBpfSx0fShnaSksTWk9L1wvZW1zZ1stL11JRDMvaSxOaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnJlbWFpbmRlckRhdGE9bnVsbCx0aGlzLnRpbWVPZmZzZXQ9MCx0aGlzLmNvbmZpZz12b2lkIDAsdGhpcy52aWRlb1RyYWNrPXZvaWQgMCx0aGlzLmF1ZGlvVHJhY2s9dm9pZCAwLHRoaXMuaWQzVHJhY2s9dm9pZCAwLHRoaXMudHh0VHJhY2s9dm9pZCAwLHRoaXMuY29uZmlnPXR9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQucmVzZXRUaW1lU3RhbXA9ZnVuY3Rpb24oKXt9LHQucmVzZXRJbml0U2VnbWVudD1mdW5jdGlvbihlLHQscixpKXt2YXIgYT10aGlzLnZpZGVvVHJhY2s9dmkoInZpZGVvIiwxKSxuPXRoaXMuYXVkaW9UcmFjaz12aSgiYXVkaW8iLDEpLHM9dGhpcy50eHRUcmFjaz12aSgidGV4dCIsMSk7aWYodGhpcy5pZDNUcmFjaz12aSgiaWQzIiwxKSx0aGlzLnRpbWVPZmZzZXQ9MCxudWxsIT1lJiZlLmJ5dGVMZW5ndGgpe3ZhciBvPXllKGUpO2lmKG8udmlkZW8pe3ZhciBsPW8udmlkZW8sdT1sLmlkLGQ9bC50aW1lc2NhbGUsaD1sLmNvZGVjO2EuaWQ9dSxhLnRpbWVzY2FsZT1zLnRpbWVzY2FsZT1kLGEuY29kZWM9aH1pZihvLmF1ZGlvKXt2YXIgZj1vLmF1ZGlvLGM9Zi5pZCx2PWYudGltZXNjYWxlLGc9Zi5jb2RlYztuLmlkPWMsbi50aW1lc2NhbGU9dixuLmNvZGVjPWd9cy5pZD11ZS50ZXh0LGEuc2FtcGxlRHVyYXRpb249MCxhLmR1cmF0aW9uPW4uZHVyYXRpb249aX19LHQucmVzZXRDb250aWd1aXR5PWZ1bmN0aW9uKCl7dGhpcy5yZW1haW5kZXJEYXRhPW51bGx9LGUucHJvYmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmJ5dGVMZW5ndGgscj0wO3I8dDspe3ZhciBpPWZlKGUscik7aWYoaT44JiYxMDk9PT1lW3IrNF0mJjExMT09PWVbcis1XSYmMTExPT09ZVtyKzZdJiYxMDI9PT1lW3IrN10pcmV0dXJuITA7cj1pPjE/citpOnR9cmV0dXJuITF9KGUpfSx0LmRlbXV4PWZ1bmN0aW9uKGUsdCl7dGhpcy50aW1lT2Zmc2V0PXQ7dmFyIHI9ZSxpPXRoaXMudmlkZW9UcmFjayxhPXRoaXMudHh0VHJhY2s7aWYodGhpcy5jb25maWcucHJvZ3Jlc3NpdmUpe3RoaXMucmVtYWluZGVyRGF0YSYmKHI9YmUodGhpcy5yZW1haW5kZXJEYXRhLGUpKTt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD17dmFsaWQ6bnVsbCxyZW1haW5kZXI6bnVsbH0scj1tZShlLFsibW9vZiJdKTtpZihyLmxlbmd0aDwyKXJldHVybiB0LnJlbWFpbmRlcj1lLHQ7dmFyIGk9cltyLmxlbmd0aC0xXTtyZXR1cm4gdC52YWxpZD1WKGUsMCxpLmJ5dGVPZmZzZXQtOCksdC5yZW1haW5kZXI9VihlLGkuYnl0ZU9mZnNldC04KSx0fShyKTt0aGlzLnJlbWFpbmRlckRhdGE9bi5yZW1haW5kZXIsaS5zYW1wbGVzPW4udmFsaWR8fG5ldyBVaW50OEFycmF5fWVsc2UgaS5zYW1wbGVzPXI7dmFyIHM9dGhpcy5leHRyYWN0SUQzVHJhY2soaSx0KTtyZXR1cm4gYS5zYW1wbGVzPWtlKHQsaSkse3ZpZGVvVHJhY2s6aSxhdWRpb1RyYWNrOnRoaXMuYXVkaW9UcmFjayxpZDNUcmFjazpzLHRleHRUcmFjazp0aGlzLnR4dFRyYWNrfX0sdC5mbHVzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXMudGltZU9mZnNldCx0PXRoaXMudmlkZW9UcmFjayxyPXRoaXMudHh0VHJhY2s7dC5zYW1wbGVzPXRoaXMucmVtYWluZGVyRGF0YXx8bmV3IFVpbnQ4QXJyYXksdGhpcy5yZW1haW5kZXJEYXRhPW51bGw7dmFyIGk9dGhpcy5leHRyYWN0SUQzVHJhY2sodCx0aGlzLnRpbWVPZmZzZXQpO3JldHVybiByLnNhbXBsZXM9a2UoZSx0KSx7dmlkZW9UcmFjazp0LGF1ZGlvVHJhY2s6dmkoKSxpZDNUcmFjazppLHRleHRUcmFjazp2aSgpfX0sdC5leHRyYWN0SUQzVHJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmlkM1RyYWNrO2lmKGUuc2FtcGxlcy5sZW5ndGgpe3ZhciBpPW1lKGUuc2FtcGxlcyxbImVtc2ciXSk7aSYmaS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9IiIsaT0iIixhPTAsbj0wLHM9MCxvPTAsbD0wLHU9MDtpZigwPT09dCl7Zm9yKDsiXDAiIT09ZGUoZS5zdWJhcnJheSh1LHUrMSkpOylyKz1kZShlLnN1YmFycmF5KHUsdSsxKSksdSs9MTtmb3Iocis9ZGUoZS5zdWJhcnJheSh1LHUrMSkpLHUrPTE7IlwwIiE9PWRlKGUuc3ViYXJyYXkodSx1KzEpKTspaSs9ZGUoZS5zdWJhcnJheSh1LHUrMSkpLHUrPTE7aSs9ZGUoZS5zdWJhcnJheSh1LHUrMSkpLHUrPTEsYT1mZShlLDEyKSxuPWZlKGUsMTYpLG89ZmUoZSwyMCksbD1mZShlLDI0KSx1PTI4fWVsc2UgaWYoMT09PXQpe2E9ZmUoZSx1Kz00KTt2YXIgZD1mZShlLHUrPTQpLGg9ZmUoZSx1Kz00KTtmb3IodSs9NCxzPU1hdGgucG93KDIsMzIpKmQraCxwKHMpfHwocz1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixELndhcm4oIlByZXNlbnRhdGlvbiB0aW1lIGV4Y2VlZHMgc2FmZSBpbnRlZ2VyIGxpbWl0IGFuZCB3cmFwcGVkIHRvIG1heCBzYWZlIGludGVnZXIgaW4gcGFyc2luZyBlbXNnIGJveCIpKSxvPWZlKGUsdSksbD1mZShlLHUrPTQpLHUrPTQ7IlwwIiE9PWRlKGUuc3ViYXJyYXkodSx1KzEpKTspcis9ZGUoZS5zdWJhcnJheSh1LHUrMSkpLHUrPTE7Zm9yKHIrPWRlKGUuc3ViYXJyYXkodSx1KzEpKSx1Kz0xOyJcMCIhPT1kZShlLnN1YmFycmF5KHUsdSsxKSk7KWkrPWRlKGUuc3ViYXJyYXkodSx1KzEpKSx1Kz0xO2krPWRlKGUuc3ViYXJyYXkodSx1KzEpKSx1Kz0xfXJldHVybntzY2hlbWVJZFVyaTpyLHZhbHVlOmksdGltZVNjYWxlOmEscHJlc2VudGF0aW9uVGltZTpzLHByZXNlbnRhdGlvblRpbWVEZWx0YTpuLGV2ZW50RHVyYXRpb246byxpZDpsLHBheWxvYWQ6ZS5zdWJhcnJheSh1LGUuYnl0ZUxlbmd0aCl9fShlKTtpZihNaS50ZXN0KGkuc2NoZW1lSWRVcmkpKXt2YXIgYT1tKGkucHJlc2VudGF0aW9uVGltZSk/aS5wcmVzZW50YXRpb25UaW1lL2kudGltZVNjYWxlOnQraS5wcmVzZW50YXRpb25UaW1lRGVsdGEvaS50aW1lU2NhbGUsbj00Mjk0OTY3Mjk1PT09aS5ldmVudER1cmF0aW9uP051bWJlci5QT1NJVElWRV9JTkZJTklUWTppLmV2ZW50RHVyYXRpb24vaS50aW1lU2NhbGU7bjw9LjAwMSYmKG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTt2YXIgcz1pLnBheWxvYWQ7ci5zYW1wbGVzLnB1c2goe2RhdGE6cyxsZW46cy5ieXRlTGVuZ3RoLGR0czphLHB0czphLHR5cGU6Z3QsZHVyYXRpb246bn0pfX0pKX1yZXR1cm4gcn0sdC5kZW11eFNhbXBsZUFlcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiVGhlIE1QNCBkZW11eGVyIGRvZXMgbm90IHN1cHBvcnQgU0FNUExFLUFFUyBkZWNyeXB0aW9uIikpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGV9KCksQmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5WaWRlb1NhbXBsZT1udWxsfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZVZpZGVvU2FtcGxlPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybntrZXk6ZSxmcmFtZTohMSxwdHM6dCxkdHM6cix1bml0czpbXSxkZWJ1ZzppLGxlbmd0aDowfX0sdC5nZXRMYXN0TmFsVW5pdD1mdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5WaWRlb1NhbXBsZTtpZihpJiYwIT09aS51bml0cy5sZW5ndGh8fChpPWVbZS5sZW5ndGgtMV0pLG51bGwhPSh0PWkpJiZ0LnVuaXRzKXt2YXIgYT1pLnVuaXRzO3I9YVthLmxlbmd0aC0xXX1yZXR1cm4gcn0sdC5wdXNoQWNjZXNzVW5pdD1mdW5jdGlvbihlLHQpe2lmKGUudW5pdHMubGVuZ3RoJiZlLmZyYW1lKXtpZih2b2lkIDA9PT1lLnB0cyl7dmFyIHI9dC5zYW1wbGVzLGk9ci5sZW5ndGg7aWYoIWkpcmV0dXJuIHZvaWQgdC5kcm9wcGVkKys7dmFyIGE9cltpLTFdO2UucHRzPWEucHRzLGUuZHRzPWEuZHRzfXQuc2FtcGxlcy5wdXNoKGUpfWUuZGVidWcubGVuZ3RoJiZELmxvZyhlLnB0cysiLyIrZS5kdHMrIjoiK2UuZGVidWcpfSxlfSgpLFVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRhdGE9dm9pZCAwLHRoaXMuYnl0ZXNBdmFpbGFibGU9dm9pZCAwLHRoaXMud29yZD12b2lkIDAsdGhpcy5iaXRzQXZhaWxhYmxlPXZvaWQgMCx0aGlzLmRhdGE9ZSx0aGlzLmJ5dGVzQXZhaWxhYmxlPWUuYnl0ZUxlbmd0aCx0aGlzLndvcmQ9MCx0aGlzLmJpdHNBdmFpbGFibGU9MH12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5sb2FkV29yZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YSx0PXRoaXMuYnl0ZXNBdmFpbGFibGUscj1lLmJ5dGVMZW5ndGgtdCxpPW5ldyBVaW50OEFycmF5KDQpLGE9TWF0aC5taW4oNCx0KTtpZigwPT09YSl0aHJvdyBuZXcgRXJyb3IoIm5vIGJ5dGVzIGF2YWlsYWJsZSIpO2kuc2V0KGUuc3ViYXJyYXkocixyK2EpKSx0aGlzLndvcmQ9bmV3IERhdGFWaWV3KGkuYnVmZmVyKS5nZXRVaW50MzIoMCksdGhpcy5iaXRzQXZhaWxhYmxlPTgqYSx0aGlzLmJ5dGVzQXZhaWxhYmxlLT1hfSx0LnNraXBCaXRzPWZ1bmN0aW9uKGUpe3ZhciB0O2U9TWF0aC5taW4oZSw4KnRoaXMuYnl0ZXNBdmFpbGFibGUrdGhpcy5iaXRzQXZhaWxhYmxlKSx0aGlzLmJpdHNBdmFpbGFibGU+ZT8odGhpcy53b3JkPDw9ZSx0aGlzLmJpdHNBdmFpbGFibGUtPWUpOihlLT10aGlzLmJpdHNBdmFpbGFibGUsZS09KHQ9ZT4+Myk8PDMsdGhpcy5ieXRlc0F2YWlsYWJsZS09dCx0aGlzLmxvYWRXb3JkKCksdGhpcy53b3JkPDw9ZSx0aGlzLmJpdHNBdmFpbGFibGUtPWUpfSx0LnJlYWRCaXRzPWZ1bmN0aW9uKGUpe3ZhciB0PU1hdGgubWluKHRoaXMuYml0c0F2YWlsYWJsZSxlKSxyPXRoaXMud29yZD4+PjMyLXQ7aWYoZT4zMiYmRC5lcnJvcigiQ2Fubm90IHJlYWQgbW9yZSB0aGFuIDMyIGJpdHMgYXQgYSB0aW1lIiksdGhpcy5iaXRzQXZhaWxhYmxlLT10LHRoaXMuYml0c0F2YWlsYWJsZT4wKXRoaXMud29yZDw8PXQ7ZWxzZXtpZighKHRoaXMuYnl0ZXNBdmFpbGFibGU+MCkpdGhyb3cgbmV3IEVycm9yKCJubyBiaXRzIGF2YWlsYWJsZSIpO3RoaXMubG9hZFdvcmQoKX1yZXR1cm4odD1lLXQpPjAmJnRoaXMuYml0c0F2YWlsYWJsZT9yPDx0fHRoaXMucmVhZEJpdHModCk6cn0sdC5za2lwTFo9ZnVuY3Rpb24oKXt2YXIgZTtmb3IoZT0wO2U8dGhpcy5iaXRzQXZhaWxhYmxlOysrZSlpZigwIT0odGhpcy53b3JkJjIxNDc0ODM2NDg+Pj5lKSlyZXR1cm4gdGhpcy53b3JkPDw9ZSx0aGlzLmJpdHNBdmFpbGFibGUtPWUsZTtyZXR1cm4gdGhpcy5sb2FkV29yZCgpLGUrdGhpcy5za2lwTFooKX0sdC5za2lwVUVHPWZ1bmN0aW9uKCl7dGhpcy5za2lwQml0cygxK3RoaXMuc2tpcExaKCkpfSx0LnNraXBFRz1mdW5jdGlvbigpe3RoaXMuc2tpcEJpdHMoMSt0aGlzLnNraXBMWigpKX0sdC5yZWFkVUVHPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5za2lwTFooKTtyZXR1cm4gdGhpcy5yZWFkQml0cyhlKzEpLTF9LHQucmVhZEVHPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVUVHKCk7cmV0dXJuIDEmZT8xK2U+Pj4xOi0xKihlPj4+MSl9LHQucmVhZEJvb2xlYW49ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMucmVhZEJpdHMoMSl9LHQucmVhZFVCeXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEJpdHMoOCl9LHQucmVhZFVTaG9ydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRCaXRzKDE2KX0sdC5yZWFkVUludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRCaXRzKDMyKX0sdC5za2lwU2NhbGluZ0xpc3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTgscj04LGk9MDtpPGU7aSsrKTAhPT1yJiYocj0odCt0aGlzLnJlYWRFRygpKzI1NiklMjU2KSx0PTA9PT1yP3Q6cn0sdC5yZWFkU1BTPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGk9MCxhPTAsbj0wLHM9MCxvPXRoaXMucmVhZFVCeXRlLmJpbmQodGhpcyksbD10aGlzLnJlYWRCaXRzLmJpbmQodGhpcyksdT10aGlzLnJlYWRVRUcuYmluZCh0aGlzKSxkPXRoaXMucmVhZEJvb2xlYW4uYmluZCh0aGlzKSxoPXRoaXMuc2tpcEJpdHMuYmluZCh0aGlzKSxmPXRoaXMuc2tpcEVHLmJpbmQodGhpcyksYz10aGlzLnNraXBVRUcuYmluZCh0aGlzKSx2PXRoaXMuc2tpcFNjYWxpbmdMaXN0LmJpbmQodGhpcyk7bygpO3ZhciBnPW8oKTtpZihsKDUpLGgoMyksbygpLGMoKSwxMDA9PT1nfHwxMTA9PT1nfHwxMjI9PT1nfHwyNDQ9PT1nfHw0ND09PWd8fDgzPT09Z3x8ODY9PT1nfHwxMTg9PT1nfHwxMjg9PT1nKXt2YXIgbT11KCk7aWYoMz09PW0mJmgoMSksYygpLGMoKSxoKDEpLGQoKSlmb3IodD0zIT09bT84OjEyLHI9MDtyPHQ7cisrKWQoKSYmdihyPDY/MTY6NjQpfWMoKTt2YXIgcD11KCk7aWYoMD09PXApdSgpO2Vsc2UgaWYoMT09PXApZm9yKGgoMSksZigpLGYoKSxlPXUoKSxyPTA7cjxlO3IrKylmKCk7YygpLGgoMSk7dmFyIHk9dSgpLEU9dSgpLFQ9bCgxKTswPT09VCYmaCgxKSxoKDEpLGQoKSYmKGk9dSgpLGE9dSgpLG49dSgpLHM9dSgpKTt2YXIgUz1bMSwxXTtpZihkKCkmJmQoKSlzd2l0Y2gobygpKXtjYXNlIDE6Uz1bMSwxXTticmVhaztjYXNlIDI6Uz1bMTIsMTFdO2JyZWFrO2Nhc2UgMzpTPVsxMCwxMV07YnJlYWs7Y2FzZSA0OlM9WzE2LDExXTticmVhaztjYXNlIDU6Uz1bNDAsMzNdO2JyZWFrO2Nhc2UgNjpTPVsyNCwxMV07YnJlYWs7Y2FzZSA3OlM9WzIwLDExXTticmVhaztjYXNlIDg6Uz1bMzIsMTFdO2JyZWFrO2Nhc2UgOTpTPVs4MCwzM107YnJlYWs7Y2FzZSAxMDpTPVsxOCwxMV07YnJlYWs7Y2FzZSAxMTpTPVsxNSwxMV07YnJlYWs7Y2FzZSAxMjpTPVs2NCwzM107YnJlYWs7Y2FzZSAxMzpTPVsxNjAsOTldO2JyZWFrO2Nhc2UgMTQ6Uz1bNCwzXTticmVhaztjYXNlIDE1OlM9WzMsMl07YnJlYWs7Y2FzZSAxNjpTPVsyLDFdO2JyZWFrO2Nhc2UgMjU1OlM9W28oKTw8OHxvKCksbygpPDw4fG8oKV19cmV0dXJue3dpZHRoOk1hdGguY2VpbCgxNiooeSsxKS0yKmktMiphKSxoZWlnaHQ6KDItVCkqKEUrMSkqMTYtKFQ/Mjo0KSoobitzKSxwaXhlbFJhdGlvOlN9fSx0LnJlYWRTbGljZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVUJ5dGUoKSx0aGlzLnJlYWRVRUcoKSx0aGlzLnJlYWRVRUcoKX0sZX0oKSxHaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWwodCxlKTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gci5wYXJzZUFWQ1BFUz1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuLHM9dGhpcyxvPXRoaXMucGFyc2VBVkNOQUx1KGUsci5kYXRhKSxsPXRoaXMuVmlkZW9TYW1wbGUsdT0hMTtyLmRhdGE9bnVsbCxsJiZvLmxlbmd0aCYmIWUuYXVkRm91bmQmJih0aGlzLnB1c2hBY2Nlc3NVbml0KGwsZSksbD10aGlzLlZpZGVvU2FtcGxlPXRoaXMuY3JlYXRlVmlkZW9TYW1wbGUoITEsci5wdHMsci5kdHMsIiIpKSxvLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciBvO3N3aXRjaChpLnR5cGUpe2Nhc2UgMTp2YXIgZD0hMTtuPSEwO3ZhciBoLGY9aS5kYXRhO2lmKHUmJmYubGVuZ3RoPjQpe3ZhciBjPW5ldyBVaShmKS5yZWFkU2xpY2VUeXBlKCk7MiE9PWMmJjQhPT1jJiY3IT09YyYmOSE9PWN8fChkPSEwKX1kJiZudWxsIT0oaD1sKSYmaC5mcmFtZSYmIWwua2V5JiYocy5wdXNoQWNjZXNzVW5pdChsLGUpLGw9cy5WaWRlb1NhbXBsZT1udWxsKSxsfHwobD1zLlZpZGVvU2FtcGxlPXMuY3JlYXRlVmlkZW9TYW1wbGUoITAsci5wdHMsci5kdHMsIiIpKSxsLmZyYW1lPSEwLGwua2V5PWQ7YnJlYWs7Y2FzZSA1Om49ITAsbnVsbCE9KG89bCkmJm8uZnJhbWUmJiFsLmtleSYmKHMucHVzaEFjY2Vzc1VuaXQobCxlKSxsPXMuVmlkZW9TYW1wbGU9bnVsbCksbHx8KGw9cy5WaWRlb1NhbXBsZT1zLmNyZWF0ZVZpZGVvU2FtcGxlKCEwLHIucHRzLHIuZHRzLCIiKSksbC5rZXk9ITAsbC5mcmFtZT0hMDticmVhaztjYXNlIDY6bj0hMCxfZShpLmRhdGEsMSxyLnB0cyx0LnNhbXBsZXMpO2JyZWFrO2Nhc2UgNzp2YXIgdixnO249ITAsdT0hMDt2YXIgbT1pLmRhdGEscD1uZXcgVWkobSkucmVhZFNQUygpO2lmKCFlLnNwc3x8ZS53aWR0aCE9PXAud2lkdGh8fGUuaGVpZ2h0IT09cC5oZWlnaHR8fChudWxsPT0odj1lLnBpeGVsUmF0aW8pP3ZvaWQgMDp2WzBdKSE9PXAucGl4ZWxSYXRpb1swXXx8KG51bGw9PShnPWUucGl4ZWxSYXRpbyk/dm9pZCAwOmdbMV0pIT09cC5waXhlbFJhdGlvWzFdKXtlLndpZHRoPXAud2lkdGgsZS5oZWlnaHQ9cC5oZWlnaHQsZS5waXhlbFJhdGlvPXAucGl4ZWxSYXRpbyxlLnNwcz1bbV0sZS5kdXJhdGlvbj1hO2Zvcih2YXIgeT1tLnN1YmFycmF5KDEsNCksRT0iYXZjMS4iLFQ9MDtUPDM7VCsrKXt2YXIgUz15W1RdLnRvU3RyaW5nKDE2KTtTLmxlbmd0aDwyJiYoUz0iMCIrUyksRSs9U31lLmNvZGVjPUV9YnJlYWs7Y2FzZSA4Om49ITAsZS5wcHM9W2kuZGF0YV07YnJlYWs7Y2FzZSA5Om49ITAsZS5hdWRGb3VuZD0hMCxsJiZzLnB1c2hBY2Nlc3NVbml0KGwsZSksbD1zLlZpZGVvU2FtcGxlPXMuY3JlYXRlVmlkZW9TYW1wbGUoITEsci5wdHMsci5kdHMsIiIpO2JyZWFrO2Nhc2UgMTI6bj0hMDticmVhaztkZWZhdWx0Om49ITEsbCYmKGwuZGVidWcrPSJ1bmtub3duIE5BTCAiK2kudHlwZSsiICIpfWwmJm4mJmwudW5pdHMucHVzaChpKX0pKSxpJiZsJiYodGhpcy5wdXNoQWNjZXNzVW5pdChsLGUpLHRoaXMuVmlkZW9TYW1wbGU9bnVsbCl9LHIucGFyc2VBVkNOQUx1PWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxhPXQuYnl0ZUxlbmd0aCxuPWUubmFsdVN0YXRlfHwwLHM9bixvPVtdLGw9MCx1PS0xLGQ9MDtmb3IoLTE9PT1uJiYodT0wLGQ9MzEmdFswXSxuPTAsbD0xKTtsPGE7KWlmKHI9dFtsKytdLG4paWYoMSE9PW4paWYocilpZigxPT09cil7aWYoaT1sLW4tMSx1Pj0wKXt2YXIgaD17ZGF0YTp0LnN1YmFycmF5KHUsaSksdHlwZTpkfTtvLnB1c2goaCl9ZWxzZXt2YXIgZj10aGlzLmdldExhc3ROYWxVbml0KGUuc2FtcGxlcyk7ZiYmKHMmJmw8PTQtcyYmZi5zdGF0ZSYmKGYuZGF0YT1mLmRhdGEuc3ViYXJyYXkoMCxmLmRhdGEuYnl0ZUxlbmd0aC1zKSksaT4wJiYoZi5kYXRhPWJlKGYuZGF0YSx0LnN1YmFycmF5KDAsaSkpLGYuc3RhdGU9MCkpfWw8YT8odT1sLGQ9MzEmdFtsXSxuPTApOm49LTF9ZWxzZSBuPTA7ZWxzZSBuPTM7ZWxzZSBuPXI/MDoyO2Vsc2Ugbj1yPzA6MTtpZih1Pj0wJiZuPj0wKXt2YXIgYz17ZGF0YTp0LnN1YmFycmF5KHUsYSksdHlwZTpkLHN0YXRlOm59O28ucHVzaChjKX1pZigwPT09by5sZW5ndGgpe3ZhciB2PXRoaXMuZ2V0TGFzdE5hbFVuaXQoZS5zYW1wbGVzKTt2JiYodi5kYXRhPWJlKHYuZGF0YSx0KSl9cmV0dXJuIGUubmFsdVN0YXRlPW4sb30sdH0oQmkpLEhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5rZXlEYXRhPXZvaWQgMCx0aGlzLmRlY3J5cHRlcj12b2lkIDAsdGhpcy5rZXlEYXRhPXIsdGhpcy5kZWNyeXB0ZXI9bmV3IFpyKHQse3JlbW92ZVBLQ1M3UGFkZGluZzohMX0pfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlY3J5cHRCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGVjcnlwdGVyLmRlY3J5cHQoZSx0aGlzLmtleURhdGEua2V5LmJ1ZmZlcix0aGlzLmtleURhdGEuaXYuYnVmZmVyKX0sdC5kZWNyeXB0QWFjU2FtcGxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLGE9ZVt0XS51bml0O2lmKCEoYS5sZW5ndGg8PTE2KSl7dmFyIG49YS5zdWJhcnJheSgxNixhLmxlbmd0aC1hLmxlbmd0aCUxNikscz1uLmJ1ZmZlci5zbGljZShuLmJ5dGVPZmZzZXQsbi5ieXRlT2Zmc2V0K24ubGVuZ3RoKTt0aGlzLmRlY3J5cHRCdWZmZXIocykudGhlbigoZnVuY3Rpb24obil7dmFyIHM9bmV3IFVpbnQ4QXJyYXkobik7YS5zZXQocywxNiksaS5kZWNyeXB0ZXIuaXNTeW5jKCl8fGkuZGVjcnlwdEFhY1NhbXBsZXMoZSx0KzEscil9KSl9fSx0LmRlY3J5cHRBYWNTYW1wbGVzPWZ1bmN0aW9uKGUsdCxyKXtmb3IoOzt0Kyspe2lmKHQ+PWUubGVuZ3RoKXJldHVybiB2b2lkIHIoKTtpZighKGVbdF0udW5pdC5sZW5ndGg8MzJ8fCh0aGlzLmRlY3J5cHRBYWNTYW1wbGUoZSx0LHIpLHRoaXMuZGVjcnlwdGVyLmlzU3luYygpKSkpcmV0dXJufX0sdC5nZXRBdmNFbmNyeXB0ZWREYXRhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xNipNYXRoLmZsb29yKChlLmxlbmd0aC00OCkvMTYwKSsxNixyPW5ldyBJbnQ4QXJyYXkodCksaT0wLGE9MzI7YTxlLmxlbmd0aC0xNjthKz0xNjAsaSs9MTYpci5zZXQoZS5zdWJhcnJheShhLGErMTYpLGkpO3JldHVybiByfSx0LmdldEF2Y0RlY3J5cHRlZFVuaXQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9bmV3IFVpbnQ4QXJyYXkodCksaT0wLGE9MzI7YTxlLmxlbmd0aC0xNjthKz0xNjAsaSs9MTYpZS5zZXQoci5zdWJhcnJheShpLGkrMTYpLGEpO3JldHVybiBlfSx0LmRlY3J5cHRBdmNTYW1wbGU9ZnVuY3Rpb24oZSx0LHIsaSxhKXt2YXIgbj10aGlzLHM9eGUoYS5kYXRhKSxvPXRoaXMuZ2V0QXZjRW5jcnlwdGVkRGF0YShzKTt0aGlzLmRlY3J5cHRCdWZmZXIoby5idWZmZXIpLnRoZW4oKGZ1bmN0aW9uKG8pe2EuZGF0YT1uLmdldEF2Y0RlY3J5cHRlZFVuaXQocyxvKSxuLmRlY3J5cHRlci5pc1N5bmMoKXx8bi5kZWNyeXB0QXZjU2FtcGxlcyhlLHQscisxLGkpfSkpfSx0LmRlY3J5cHRBdmNTYW1wbGVzPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGRlY3J5cHQgc2FtcGxlcyBvZiB0eXBlIFVpbnQ4QXJyYXkiKTtmb3IoOzt0Kysscj0wKXtpZih0Pj1lLmxlbmd0aClyZXR1cm4gdm9pZCBpKCk7Zm9yKHZhciBhPWVbdF0udW5pdHM7IShyPj1hLmxlbmd0aCk7cisrKXt2YXIgbj1hW3JdO2lmKCEobi5kYXRhLmxlbmd0aDw9NDh8fDEhPT1uLnR5cGUmJjUhPT1uLnR5cGV8fCh0aGlzLmRlY3J5cHRBdmNTYW1wbGUoZSx0LHIsaSxuKSx0aGlzLmRlY3J5cHRlci5pc1N5bmMoKSkpKXJldHVybn19fSxlfSgpLFZpPTE4OCxLaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMub2JzZXJ2ZXI9dm9pZCAwLHRoaXMuY29uZmlnPXZvaWQgMCx0aGlzLnR5cGVTdXBwb3J0ZWQ9dm9pZCAwLHRoaXMuc2FtcGxlQWVzPW51bGwsdGhpcy5wbXRQYXJzZWQ9ITEsdGhpcy5hdWRpb0NvZGVjPXZvaWQgMCx0aGlzLnZpZGVvQ29kZWM9dm9pZCAwLHRoaXMuX2R1cmF0aW9uPTAsdGhpcy5fcG10SWQ9LTEsdGhpcy5fdmlkZW9UcmFjaz12b2lkIDAsdGhpcy5fYXVkaW9UcmFjaz12b2lkIDAsdGhpcy5faWQzVHJhY2s9dm9pZCAwLHRoaXMuX3R4dFRyYWNrPXZvaWQgMCx0aGlzLmFhY092ZXJGbG93PW51bGwsdGhpcy5yZW1haW5kZXJEYXRhPW51bGwsdGhpcy52aWRlb1BhcnNlcj12b2lkIDAsdGhpcy5vYnNlcnZlcj1lLHRoaXMuY29uZmlnPXQsdGhpcy50eXBlU3VwcG9ydGVkPXIsdGhpcy52aWRlb1BhcnNlcj1uZXcgR2l9ZS5wcm9iZT1mdW5jdGlvbih0KXt2YXIgcj1lLnN5bmNPZmZzZXQodCk7cmV0dXJuIHI+MCYmRC53YXJuKCJNUEVHMi1UUyBkZXRlY3RlZCBidXQgZmlyc3Qgc3luYyB3b3JkIGZvdW5kIEAgb2Zmc2V0ICIrciksLTEhPT1yfSxlLnN5bmNPZmZzZXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLHI9TWF0aC5taW4oOTQwLHQtVmkpKzEsaT0wO2k8cjspe2Zvcih2YXIgYT0hMSxuPS0xLHM9MCxvPWk7bzx0O28rPVZpKXtpZig3MSE9PWVbb118fHQtbyE9PVZpJiY3MSE9PWVbbytWaV0pe2lmKHMpcmV0dXJuLTE7YnJlYWt9aWYocysrLC0xPT09biYmMCE9PShuPW8pJiYocj1NYXRoLm1pbihuKzE4NjEyLGUubGVuZ3RoLVZpKSsxKSxhfHwoYT0wPT09V2koZSxvKSksYSYmcz4xJiYoMD09PW4mJnM+Mnx8bytWaT5yKSlyZXR1cm4gbn1pKyt9cmV0dXJuLTF9LGUuY3JlYXRlVHJhY2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm57Y29udGFpbmVyOiJ2aWRlbyI9PT1lfHwiYXVkaW8iPT09ZT8idmlkZW8vbXAydCI6dm9pZCAwLHR5cGU6ZSxpZDp1ZVtlXSxwaWQ6LTEsaW5wdXRUaW1lU2NhbGU6OWU0LHNlcXVlbmNlTnVtYmVyOjAsc2FtcGxlczpbXSxkcm9wcGVkOjAsZHVyYXRpb246ImF1ZGlvIj09PWU/dDp2b2lkIDB9fTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5yZXNldEluaXRTZWdtZW50PWZ1bmN0aW9uKHQscixpLGEpe3RoaXMucG10UGFyc2VkPSExLHRoaXMuX3BtdElkPS0xLHRoaXMuX3ZpZGVvVHJhY2s9ZS5jcmVhdGVUcmFjaygidmlkZW8iKSx0aGlzLl9hdWRpb1RyYWNrPWUuY3JlYXRlVHJhY2soImF1ZGlvIixhKSx0aGlzLl9pZDNUcmFjaz1lLmNyZWF0ZVRyYWNrKCJpZDMiKSx0aGlzLl90eHRUcmFjaz1lLmNyZWF0ZVRyYWNrKCJ0ZXh0IiksdGhpcy5fYXVkaW9UcmFjay5zZWdtZW50Q29kZWM9ImFhYyIsdGhpcy5hYWNPdmVyRmxvdz1udWxsLHRoaXMucmVtYWluZGVyRGF0YT1udWxsLHRoaXMuYXVkaW9Db2RlYz1yLHRoaXMudmlkZW9Db2RlYz1pLHRoaXMuX2R1cmF0aW9uPWF9LHQucmVzZXRUaW1lU3RhbXA9ZnVuY3Rpb24oKXt9LHQucmVzZXRDb250aWd1aXR5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fYXVkaW9UcmFjayx0PXRoaXMuX3ZpZGVvVHJhY2sscj10aGlzLl9pZDNUcmFjaztlJiYoZS5wZXNEYXRhPW51bGwpLHQmJih0LnBlc0RhdGE9bnVsbCksciYmKHIucGVzRGF0YT1udWxsKSx0aGlzLmFhY092ZXJGbG93PW51bGwsdGhpcy5yZW1haW5kZXJEYXRhPW51bGx9LHQuZGVtdXg9ZnVuY3Rpb24odCxyLGksYSl7dmFyIG47dm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PWEmJihhPSExKSxpfHwodGhpcy5zYW1wbGVBZXM9bnVsbCk7dmFyIHM9dGhpcy5fdmlkZW9UcmFjayxvPXRoaXMuX2F1ZGlvVHJhY2ssbD10aGlzLl9pZDNUcmFjayx1PXRoaXMuX3R4dFRyYWNrLGQ9cy5waWQsaD1zLnBlc0RhdGEsZj1vLnBpZCxjPWwucGlkLHY9by5wZXNEYXRhLGc9bC5wZXNEYXRhLG09bnVsbCxwPXRoaXMucG10UGFyc2VkLHk9dGhpcy5fcG10SWQsRT10Lmxlbmd0aDtpZih0aGlzLnJlbWFpbmRlckRhdGEmJihFPSh0PWJlKHRoaXMucmVtYWluZGVyRGF0YSx0KSkubGVuZ3RoLHRoaXMucmVtYWluZGVyRGF0YT1udWxsKSxFPFZpJiYhYSlyZXR1cm4gdGhpcy5yZW1haW5kZXJEYXRhPXQse2F1ZGlvVHJhY2s6byx2aWRlb1RyYWNrOnMsaWQzVHJhY2s6bCx0ZXh0VHJhY2s6dX07dmFyIFQ9TWF0aC5tYXgoMCxlLnN5bmNPZmZzZXQodCkpOyhFLT0oRS1UKSVWaSk8dC5ieXRlTGVuZ3RoJiYhYSYmKHRoaXMucmVtYWluZGVyRGF0YT1uZXcgVWludDhBcnJheSh0LmJ1ZmZlcixFLHQuYnVmZmVyLmJ5dGVMZW5ndGgtRSkpO2Zvcih2YXIgUz0wLEw9VDtMPEU7TCs9VmkpaWYoNzE9PT10W0xdKXt2YXIgUj0hISg2NCZ0W0wrMV0pLEE9V2kodCxMKSxiPXZvaWQgMDtpZigoNDgmdFtMKzNdKT4+ND4xKXtpZigoYj1MKzUrdFtMKzRdKT09PUwrVmkpY29udGludWV9ZWxzZSBiPUwrNDtzd2l0Y2goQSl7Y2FzZSBkOlImJihoJiYobj1YaShoKSkmJnRoaXMudmlkZW9QYXJzZXIucGFyc2VBVkNQRVMocyx1LG4sITEsdGhpcy5fZHVyYXRpb24pLGg9e2RhdGE6W10sc2l6ZTowfSksaCYmKGguZGF0YS5wdXNoKHQuc3ViYXJyYXkoYixMK1ZpKSksaC5zaXplKz1MK1ZpLWIpO2JyZWFrO2Nhc2UgZjppZihSKXtpZih2JiYobj1YaSh2KSkpc3dpdGNoKG8uc2VnbWVudENvZGVjKXtjYXNlImFhYyI6dGhpcy5wYXJzZUFBQ1BFUyhvLG4pO2JyZWFrO2Nhc2UibXAzIjp0aGlzLnBhcnNlTVBFR1BFUyhvLG4pfXY9e2RhdGE6W10sc2l6ZTowfX12JiYodi5kYXRhLnB1c2godC5zdWJhcnJheShiLEwrVmkpKSx2LnNpemUrPUwrVmktYik7YnJlYWs7Y2FzZSBjOlImJihnJiYobj1YaShnKSkmJnRoaXMucGFyc2VJRDNQRVMobCxuKSxnPXtkYXRhOltdLHNpemU6MH0pLGcmJihnLmRhdGEucHVzaCh0LnN1YmFycmF5KGIsTCtWaSkpLGcuc2l6ZSs9TCtWaS1iKTticmVhaztjYXNlIDA6UiYmKGIrPXRbYl0rMSkseT10aGlzLl9wbXRJZD1qaSh0LGIpO2JyZWFrO2Nhc2UgeTpSJiYoYis9dFtiXSsxKTt2YXIgaz1ZaSh0LGIsdGhpcy50eXBlU3VwcG9ydGVkLGksdGhpcy5vYnNlcnZlcik7KGQ9ay52aWRlb1BpZCk+MCYmKHMucGlkPWQscy5zZWdtZW50Q29kZWM9ay5zZWdtZW50VmlkZW9Db2RlYyksKGY9ay5hdWRpb1BpZCk+MCYmKG8ucGlkPWYsby5zZWdtZW50Q29kZWM9ay5zZWdtZW50QXVkaW9Db2RlYyksKGM9ay5pZDNQaWQpPjAmJihsLnBpZD1jKSxudWxsPT09bXx8cHx8KEQud2FybigiTVBFRy1UUyBQTVQgZm91bmQgYXQgIitMKyIgYWZ0ZXIgdW5rbm93biBQSUQgJyIrbSsiJy4gQmFja3RyYWNraW5nIHRvIHN5bmMgYnl0ZSBAIitUKyIgdG8gcGFyc2UgYWxsIFRTIHBhY2tldHMuIiksbT1udWxsLEw9VC0xODgpLHA9dGhpcy5wbXRQYXJzZWQ9ITA7YnJlYWs7Y2FzZSAxNzpjYXNlIDgxOTE6YnJlYWs7ZGVmYXVsdDptPUF9fWVsc2UgUysrO1M+MCYmcWkodGhpcy5vYnNlcnZlcixuZXcgRXJyb3IoIkZvdW5kICIrUysiIFRTIHBhY2tldC9zIHRoYXQgZG8gbm90IHN0YXJ0IHdpdGggMHg0NyIpKSxzLnBlc0RhdGE9aCxvLnBlc0RhdGE9dixsLnBlc0RhdGE9Zzt2YXIgXz17YXVkaW9UcmFjazpvLHZpZGVvVHJhY2s6cyxpZDNUcmFjazpsLHRleHRUcmFjazp1fTtyZXR1cm4gYSYmdGhpcy5leHRyYWN0UmVtYWluaW5nU2FtcGxlcyhfKSxffSx0LmZsdXNoPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnJlbWFpbmRlckRhdGE7cmV0dXJuIHRoaXMucmVtYWluZGVyRGF0YT1udWxsLGU9dD90aGlzLmRlbXV4KHQsLTEsITEsITApOnt2aWRlb1RyYWNrOnRoaXMuX3ZpZGVvVHJhY2ssYXVkaW9UcmFjazp0aGlzLl9hdWRpb1RyYWNrLGlkM1RyYWNrOnRoaXMuX2lkM1RyYWNrLHRleHRUcmFjazp0aGlzLl90eHRUcmFja30sdGhpcy5leHRyYWN0UmVtYWluaW5nU2FtcGxlcyhlKSx0aGlzLnNhbXBsZUFlcz90aGlzLmRlY3J5cHQoZSx0aGlzLnNhbXBsZUFlcyk6ZX0sdC5leHRyYWN0UmVtYWluaW5nU2FtcGxlcz1mdW5jdGlvbihlKXt2YXIgdCxyPWUuYXVkaW9UcmFjayxpPWUudmlkZW9UcmFjayxhPWUuaWQzVHJhY2ssbj1lLnRleHRUcmFjayxzPWkucGVzRGF0YSxvPXIucGVzRGF0YSxsPWEucGVzRGF0YTtpZihzJiYodD1YaShzKSk/KHRoaXMudmlkZW9QYXJzZXIucGFyc2VBVkNQRVMoaSxuLHQsITAsdGhpcy5fZHVyYXRpb24pLGkucGVzRGF0YT1udWxsKTppLnBlc0RhdGE9cyxvJiYodD1YaShvKSkpe3N3aXRjaChyLnNlZ21lbnRDb2RlYyl7Y2FzZSJhYWMiOnRoaXMucGFyc2VBQUNQRVMocix0KTticmVhaztjYXNlIm1wMyI6dGhpcy5wYXJzZU1QRUdQRVMocix0KX1yLnBlc0RhdGE9bnVsbH1lbHNlIG51bGwhPW8mJm8uc2l6ZSYmRC5sb2coImxhc3QgQUFDIFBFUyBwYWNrZXQgdHJ1bmNhdGVkLG1pZ2h0IG92ZXJsYXAgYmV0d2VlbiBmcmFnbWVudHMiKSxyLnBlc0RhdGE9bztsJiYodD1YaShsKSk/KHRoaXMucGFyc2VJRDNQRVMoYSx0KSxhLnBlc0RhdGE9bnVsbCk6YS5wZXNEYXRhPWx9LHQuZGVtdXhTYW1wbGVBZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuZGVtdXgoZSxyLCEwLCF0aGlzLmNvbmZpZy5wcm9ncmVzc2l2ZSksYT10aGlzLnNhbXBsZUFlcz1uZXcgSGkodGhpcy5vYnNlcnZlcix0aGlzLmNvbmZpZyx0KTtyZXR1cm4gdGhpcy5kZWNyeXB0KGksYSl9LHQuZGVjcnlwdD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocil7dmFyIGk9ZS5hdWRpb1RyYWNrLGE9ZS52aWRlb1RyYWNrO2kuc2FtcGxlcyYmImFhYyI9PT1pLnNlZ21lbnRDb2RlYz90LmRlY3J5cHRBYWNTYW1wbGVzKGkuc2FtcGxlcywwLChmdW5jdGlvbigpe2Euc2FtcGxlcz90LmRlY3J5cHRBdmNTYW1wbGVzKGEuc2FtcGxlcywwLDAsKGZ1bmN0aW9uKCl7cihlKX0pKTpyKGUpfSkpOmEuc2FtcGxlcyYmdC5kZWNyeXB0QXZjU2FtcGxlcyhhLnNhbXBsZXMsMCwwLChmdW5jdGlvbigpe3IoZSl9KSl9KSl9LHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2R1cmF0aW9uPTB9LHQucGFyc2VBQUNQRVM9ZnVuY3Rpb24oZSx0KXt2YXIgcixpLGEsbj0wLHM9dGhpcy5hYWNPdmVyRmxvdyxvPXQuZGF0YTtpZihzKXt0aGlzLmFhY092ZXJGbG93PW51bGw7dmFyIGw9cy5taXNzaW5nLHU9cy5zYW1wbGUudW5pdC5ieXRlTGVuZ3RoO2lmKC0xPT09bClvPWJlKHMuc2FtcGxlLnVuaXQsbyk7ZWxzZXt2YXIgZD11LWw7cy5zYW1wbGUudW5pdC5zZXQoby5zdWJhcnJheSgwLGwpLGQpLGUuc2FtcGxlcy5wdXNoKHMuc2FtcGxlKSxuPXMubWlzc2luZ319Zm9yKHI9bixpPW8ubGVuZ3RoO3I8aS0xJiYhVGkobyxyKTtyKyspO2lmKHIhPT1uKXt2YXIgaCxmPXI8aS0xO2lmKGg9Zj8iQUFDIFBFUyBkaWQgbm90IHN0YXJ0IHdpdGggQURUUyBoZWFkZXIsb2Zmc2V0OiIrcjoiTm8gQURUUyBoZWFkZXIgZm91bmQgaW4gQUFDIFBFUyIscWkodGhpcy5vYnNlcnZlcixuZXcgRXJyb3IoaCksZiksIWYpcmV0dXJufWlmKExpKGUsdGhpcy5vYnNlcnZlcixvLHIsdGhpcy5hdWRpb0NvZGVjKSx2b2lkIDAhPT10LnB0cylhPXQucHRzO2Vsc2V7aWYoIXMpcmV0dXJuIHZvaWQgRC53YXJuKCJbdHNkZW11eGVyXTogQUFDIFBFUyB1bmtub3duIFBUUyIpO3ZhciBjPVJpKGUuc2FtcGxlcmF0ZSk7YT1zLnNhbXBsZS5wdHMrY31mb3IodmFyIHYsZz0wO3I8aTspe2lmKHIrPSh2PUFpKGUsbyxyLGEsZykpLmxlbmd0aCx2Lm1pc3Npbmcpe3RoaXMuYWFjT3ZlckZsb3c9djticmVha31mb3IoZysrO3I8aS0xJiYhVGkobyxyKTtyKyspO319LHQucGFyc2VNUEVHUEVTPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5kYXRhLGk9ci5sZW5ndGgsYT0wLG49MCxzPXQucHRzO2lmKHZvaWQgMCE9PXMpZm9yKDtuPGk7KWlmKFBpKHIsbikpe3ZhciBvPXdpKGUscixuLHMsYSk7aWYoIW8pYnJlYWs7bis9by5sZW5ndGgsYSsrfWVsc2UgbisrO2Vsc2UgRC53YXJuKCJbdHNkZW11eGVyXTogTVBFRyBQRVMgdW5rbm93biBQVFMiKX0sdC5wYXJzZUFDM1BFUz1mdW5jdGlvbihlLHQpe30sdC5wYXJzZUlEM1BFUz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQucHRzKXt2YXIgcj1vKHt9LHQse3R5cGU6dGhpcy5fdmlkZW9UcmFjaz9ndDpjdCxkdXJhdGlvbjpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9KTtlLnNhbXBsZXMucHVzaChyKX1lbHNlIEQud2FybigiW3RzZGVtdXhlcl06IElEMyBQRVMgdW5rbm93biBQVFMiKX0sZX0oKTtmdW5jdGlvbiBXaShlLHQpe3JldHVybigoMzEmZVt0KzFdKTw8OCkrZVt0KzJdfWZ1bmN0aW9uIGppKGUsdCl7cmV0dXJuKDMxJmVbdCsxMF0pPDw4fGVbdCsxMV19ZnVuY3Rpb24gWWkoZSx0LHIsaSxhKXt2YXIgbj17YXVkaW9QaWQ6LTEsdmlkZW9QaWQ6LTEsaWQzUGlkOi0xLHNlZ21lbnRWaWRlb0NvZGVjOiJhdmMiLHNlZ21lbnRBdWRpb0NvZGVjOiJhYWMifSxzPXQrMysoKDE1JmVbdCsxXSk8PDh8ZVt0KzJdKS00O2Zvcih0Kz0xMisoKDE1JmVbdCsxMF0pPDw4fGVbdCsxMV0pO3Q8czspe3ZhciBvPVdpKGUsdCksbD0oMTUmZVt0KzNdKTw8OHxlW3QrNF07c3dpdGNoKGVbdF0pe2Nhc2UgMjA3OmlmKCFpKXt6aSgiQURUUyBBQUMiKTticmVha31jYXNlIDE1Oi0xPT09bi5hdWRpb1BpZCYmKG4uYXVkaW9QaWQ9byk7YnJlYWs7Y2FzZSAyMTotMT09PW4uaWQzUGlkJiYobi5pZDNQaWQ9byk7YnJlYWs7Y2FzZSAyMTk6aWYoIWkpe3ppKCJILjI2NCIpO2JyZWFrfWNhc2UgMjc6LTE9PT1uLnZpZGVvUGlkJiYobi52aWRlb1BpZD1vLG4uc2VnbWVudFZpZGVvQ29kZWM9ImF2YyIpO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6ci5tcGVnfHxyLm1wMz8tMT09PW4uYXVkaW9QaWQmJihuLmF1ZGlvUGlkPW8sbi5zZWdtZW50QXVkaW9Db2RlYz0ibXAzIik6RC5sb2coIk1QRUcgYXVkaW8gZm91bmQsIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyIik7YnJlYWs7Y2FzZSAxOTM6aWYoIWkpe3ppKCJBQy0zIik7YnJlYWt9Y2FzZSAxMjk6RC53YXJuKCJBQy0zIGluIE0yVFMgc3VwcG9ydCBub3QgaW5jbHVkZWQgaW4gYnVpbGQiKTticmVhaztjYXNlIDY6aWYoLTE9PT1uLmF1ZGlvUGlkJiZsPjApZm9yKHZhciB1PXQrNSxkPWw7ZD4yOyl7MTA2PT09ZVt1XSYmRC53YXJuKCJBQy0zIGluIE0yVFMgc3VwcG9ydCBub3QgaW5jbHVkZWQgaW4gYnVpbGQiKTt2YXIgaD1lW3UrMV0rMjt1Kz1oLGQtPWh9YnJlYWs7Y2FzZSAxOTQ6Y2FzZSAxMzU6cmV0dXJuIHFpKGEsbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBFQy0zIGluIE0yVFMgZm91bmQiKSksbjtjYXNlIDM2OnJldHVybiBxaShhLG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgSEVWQyBpbiBNMlRTIGZvdW5kIikpLG59dCs9bCs1fXJldHVybiBufWZ1bmN0aW9uIHFpKGUsdCxyKXtELndhcm4oInBhcnNpbmcgZXJyb3I6ICIrdC5tZXNzYWdlKSxlLmVtaXQoRS5FUlJPUixFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkZSQUdfUEFSU0lOR19FUlJPUixmYXRhbDohMSxsZXZlbFJldHJ5OnIsZXJyb3I6dCxyZWFzb246dC5tZXNzYWdlfSl9ZnVuY3Rpb24gemkoZSl7RC5sb2coZSsiIHdpdGggQUVTLTEyOC1DQkMgZW5jcnlwdGlvbiBmb3VuZCBpbiB1bmVuY3J5cHRlZCBzdHJlYW0iKX1mdW5jdGlvbiBYaShlKXt2YXIgdCxyLGksYSxuLHM9MCxvPWUuZGF0YTtpZighZXx8MD09PWUuc2l6ZSlyZXR1cm4gbnVsbDtmb3IoO29bMF0ubGVuZ3RoPDE5JiZvLmxlbmd0aD4xOylvWzBdPWJlKG9bMF0sb1sxXSksby5zcGxpY2UoMSwxKTtpZigxPT09KCh0PW9bMF0pWzBdPDwxNikrKHRbMV08PDgpK3RbMl0pe2lmKChyPSh0WzRdPDw4KSt0WzVdKSYmcj5lLnNpemUtNilyZXR1cm4gbnVsbDt2YXIgbD10WzddOzE5MiZsJiYoYT01MzY4NzA5MTIqKDE0JnRbOV0pKzQxOTQzMDQqKDI1NSZ0WzEwXSkrMTYzODQqKDI1NCZ0WzExXSkrMTI4KigyNTUmdFsxMl0pKygyNTQmdFsxM10pLzIsNjQmbD9hLShuPTUzNjg3MDkxMiooMTQmdFsxNF0pKzQxOTQzMDQqKDI1NSZ0WzE1XSkrMTYzODQqKDI1NCZ0WzE2XSkrMTI4KigyNTUmdFsxN10pKygyNTQmdFsxOF0pLzIpPjU0ZTUmJihELndhcm4oTWF0aC5yb3VuZCgoYS1uKS85ZTQpKyJzIGRlbHRhIGJldHdlZW4gUFRTIGFuZCBEVFMsIGFsaWduIHRoZW0iKSxhPW4pOm49YSk7dmFyIHU9KGk9dFs4XSkrOTtpZihlLnNpemU8PXUpcmV0dXJuIG51bGw7ZS5zaXplLT11O2Zvcih2YXIgZD1uZXcgVWludDhBcnJheShlLnNpemUpLGg9MCxmPW8ubGVuZ3RoO2g8ZjtoKyspe3ZhciBjPSh0PW9baF0pLmJ5dGVMZW5ndGg7aWYodSl7aWYodT5jKXt1LT1jO2NvbnRpbnVlfXQ9dC5zdWJhcnJheSh1KSxjLT11LHU9MH1kLnNldCh0LHMpLHMrPWN9cmV0dXJuIHImJihyLT1pKzMpLHtkYXRhOmQscHRzOmEsZHRzOm4sbGVuOnJ9fXJldHVybiBudWxsfXZhciBRaT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWwodCxlKTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gci5yZXNldEluaXRTZWdtZW50PWZ1bmN0aW9uKHQscixpLGEpe2UucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQuY2FsbCh0aGlzLHQscixpLGEpLHRoaXMuX2F1ZGlvVHJhY2s9e2NvbnRhaW5lcjoiYXVkaW8vbXBlZyIsdHlwZToiYXVkaW8iLGlkOjIscGlkOi0xLHNlcXVlbmNlTnVtYmVyOjAsc2VnbWVudENvZGVjOiJtcDMiLHNhbXBsZXM6W10sbWFuaWZlc3RDb2RlYzpyLGR1cmF0aW9uOmEsaW5wdXRUaW1lU2NhbGU6OWU0LGRyb3BwZWQ6MH19LHQucHJvYmU9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuITE7dmFyIHQ9WShlLDApLHI9KG51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKXx8MDtpZih0JiYxMT09PWVbcl0mJjExOT09PWVbcisxXSYmdm9pZCAwIT09WCh0KSYmZnVuY3Rpb24oZSx0KXt2YXIgcj0wLGk9NTt0Kz1pO2Zvcih2YXIgYT1uZXcgVWludDMyQXJyYXkoMSksbj1uZXcgVWludDMyQXJyYXkoMSkscz1uZXcgVWludDhBcnJheSgxKTtpPjA7KXtzWzBdPWVbdF07dmFyIG89TWF0aC5taW4oaSw4KSxsPTgtbztuWzBdPTQyNzgxOTAwODA+Pj4yNCtsPDxsLGFbMF09KHNbMF0mblswXSk+Pmwscj1yP3I8PG98YVswXTphWzBdLHQrPTEsaS09b31yZXR1cm4gcn0oZSxyKTw9MTYpcmV0dXJuITE7Zm9yKHZhciBpPWUubGVuZ3RoO3I8aTtyKyspaWYoRmkoZSxyKSlyZXR1cm4gRC5sb2coIk1QRUcgQXVkaW8gc3luYyB3b3JkIGZvdW5kICEiKSwhMDtyZXR1cm4hMX0sci5jYW5QYXJzZT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBJaShlLHQpJiY0PD1lLmxlbmd0aC10fShlLHQpfSxyLmFwcGVuZEZyYW1lPWZ1bmN0aW9uKGUsdCxyKXtpZihudWxsIT09dGhpcy5iYXNlUFRTKXJldHVybiB3aShlLHQscix0aGlzLmJhc2VQVFMsdGhpcy5mcmFtZUluZGV4KX0sdH0oZ2kpLEppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5nZXRTaWxlbnRGcmFtZT1mdW5jdGlvbihlLHQpe2lmKCJtcDRhLjQwLjIiPT09ZSl7aWYoMT09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFswLDIwMCwwLDEyOCwzNSwxMjhdKTtpZigyPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzMzLDAsNzMsMTQ0LDIsMjUsMCwzNSwxMjhdKTtpZigzPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTQyXSk7aWYoND09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFswLDIwMCwwLDEyOCwzMiwxMzIsMSwzOCw2NCw4LDEwMCwwLDEyOCw0NCwxMjgsOCwyLDU2XSk7aWYoNT09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFswLDIwMCwwLDEyOCwzMiwxMzIsMSwzOCw2NCw4LDEwMCwwLDEzMCw0OCw0LDE1MywwLDMzLDE0NCwyLDU2XSk7aWYoNj09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFswLDIwMCwwLDEyOCwzMiwxMzIsMSwzOCw2NCw4LDEwMCwwLDEzMCw0OCw0LDE1MywwLDMzLDE0NCwyLDAsMTc4LDAsMzIsOCwyMjRdKX1lbHNle2lmKDE9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMSw2NCwzNCwxMjgsMTYzLDc4LDIzMCwxMjgsMTg2LDgsMCwwLDAsMjgsNiwyNDEsMTkzLDEwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDk0XSk7aWYoMj09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsOTQsMjMwLDEyOCwxODYsOCwwLDAsMCwwLDE0OSwwLDYsMjQxLDE2MSwxMCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5NF0pO2lmKDM9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMSw2NCwzNCwxMjgsMTYzLDk0LDIzMCwxMjgsMTg2LDgsMCwwLDAsMCwxNDksMCw2LDI0MSwxNjEsMTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTRdKX19LGV9KCksJGk9TWF0aC5wb3coMiwzMiktMSxaaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0O2Zvcih0IGluIGUudHlwZXM9e2F2YzE6W10sYXZjQzpbXSxidHJ0OltdLGRpbmY6W10sZHJlZjpbXSxlc2RzOltdLGZ0eXA6W10saGRscjpbXSxtZGF0OltdLG1kaGQ6W10sbWRpYTpbXSxtZmhkOltdLG1pbmY6W10sbW9vZjpbXSxtb292OltdLG1wNGE6W10sIi5tcDMiOltdLGRhYzM6W10sImFjLTMiOltdLG12ZXg6W10sbXZoZDpbXSxwYXNwOltdLHNkdHA6W10sc3RibDpbXSxzdGNvOltdLHN0c2M6W10sc3RzZDpbXSxzdHN6OltdLHN0dHM6W10sdGZkdDpbXSx0ZmhkOltdLHRyYWY6W10sdHJhazpbXSx0cnVuOltdLHRyZXg6W10sdGtoZDpbXSx2bWhkOltdLHNtaGQ6W119LGUudHlwZXMpZS50eXBlcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKGUudHlwZXNbdF09W3QuY2hhckNvZGVBdCgwKSx0LmNoYXJDb2RlQXQoMSksdC5jaGFyQ29kZUF0KDIpLHQuY2hhckNvZGVBdCgzKV0pO3ZhciByPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE4LDEwNSwxMDAsMTAxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDg2LDEwNSwxMDAsMTAxLDExMSw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKSxpPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE1LDExMSwxMTcsMTEwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDgzLDExMSwxMTcsMTEwLDEwMCw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKTtlLkhETFJfVFlQRVM9e3ZpZGVvOnIsYXVkaW86aX07dmFyIGE9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwxMiwxMTcsMTE0LDEwOCwzMiwwLDAsMCwxXSksbj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSk7ZS5TVFRTPWUuU1RTQz1lLlNUQ089bixlLlNUU1o9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSksZS5WTUhEPW5ldyBVaW50OEFycmF5KFswLDAsMCwxLDAsMCwwLDAsMCwwLDAsMF0pLGUuU01IRD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSksZS5TVFNEPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDFdKTt2YXIgcz1uZXcgVWludDhBcnJheShbMTA1LDExNSwxMTEsMTA5XSksbz1uZXcgVWludDhBcnJheShbOTcsMTE4LDk5LDQ5XSksbD1uZXcgVWludDhBcnJheShbMCwwLDAsMV0pO2UuRlRZUD1lLmJveChlLnR5cGVzLmZ0eXAscyxsLHMsbyksZS5ESU5GPWUuYm94KGUudHlwZXMuZGluZixlLmJveChlLnR5cGVzLmRyZWYsYSkpfSxlLmJveD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9OCxyPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkocj4xP3ItMTowKSxhPTE7YTxyO2ErKylpW2EtMV09YXJndW1lbnRzW2FdO2Zvcih2YXIgbj1pLmxlbmd0aCxzPW47bi0tOyl0Kz1pW25dLmJ5dGVMZW5ndGg7dmFyIG89bmV3IFVpbnQ4QXJyYXkodCk7Zm9yKG9bMF09dD4+MjQmMjU1LG9bMV09dD4+MTYmMjU1LG9bMl09dD4+OCYyNTUsb1szXT0yNTUmdCxvLnNldChlLDQpLG49MCx0PTg7bjxzO24rKylvLnNldChpW25dLHQpLHQrPWlbbl0uYnl0ZUxlbmd0aDtyZXR1cm4gb30sZS5oZGxyPWZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLmhkbHIsZS5IRExSX1RZUEVTW3RdKX0sZS5tZGF0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1kYXQsdCl9LGUubWRoZD1mdW5jdGlvbih0LHIpe3IqPXQ7dmFyIGk9TWF0aC5mbG9vcihyLygkaSsxKSksYT1NYXRoLmZsb29yKHIlKCRpKzEpKTtyZXR1cm4gZS5ib3goZS50eXBlcy5tZGhkLG5ldyBVaW50OEFycmF5KFsxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwwLDAsMCwwLDAsMCwwLDMsdD4+MjQmMjU1LHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdCxpPj4yNCxpPj4xNiYyNTUsaT4+OCYyNTUsMjU1JmksYT4+MjQsYT4+MTYmMjU1LGE+PjgmMjU1LDI1NSZhLDg1LDE5NiwwLDBdKSl9LGUubWRpYT1mdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5tZGlhLGUubWRoZCh0LnRpbWVzY2FsZSx0LmR1cmF0aW9uKSxlLmhkbHIodC50eXBlKSxlLm1pbmYodCkpfSxlLm1maGQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubWZoZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCx0Pj4yNCx0Pj4xNiYyNTUsdD4+OCYyNTUsMjU1JnRdKSl9LGUubWluZj1mdW5jdGlvbih0KXtyZXR1cm4iYXVkaW8iPT09dC50eXBlP2UuYm94KGUudHlwZXMubWluZixlLmJveChlLnR5cGVzLnNtaGQsZS5TTUhEKSxlLkRJTkYsZS5zdGJsKHQpKTplLmJveChlLnR5cGVzLm1pbmYsZS5ib3goZS50eXBlcy52bWhkLGUuVk1IRCksZS5ESU5GLGUuc3RibCh0KSl9LGUubW9vZj1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIGUuYm94KGUudHlwZXMubW9vZixlLm1maGQodCksZS50cmFmKGkscikpfSxlLm1vb3Y9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXQubGVuZ3RoLGk9W107ci0tOylpW3JdPWUudHJhayh0W3JdKTtyZXR1cm4gZS5ib3guYXBwbHkobnVsbCxbZS50eXBlcy5tb292LGUubXZoZCh0WzBdLnRpbWVzY2FsZSx0WzBdLmR1cmF0aW9uKV0uY29uY2F0KGkpLmNvbmNhdChlLm12ZXgodCkpKX0sZS5tdmV4PWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10Lmxlbmd0aCxpPVtdO3ItLTspaVtyXT1lLnRyZXgodFtyXSk7cmV0dXJuIGUuYm94LmFwcGx5KG51bGwsW2UudHlwZXMubXZleF0uY29uY2F0KGkpKX0sZS5tdmhkPWZ1bmN0aW9uKHQscil7cio9dDt2YXIgaT1NYXRoLmZsb29yKHIvKCRpKzEpKSxhPU1hdGguZmxvb3IociUoJGkrMSkpLG49bmV3IFVpbnQ4QXJyYXkoWzEsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDAsMCwwLDAsMCwwLDAsMyx0Pj4yNCYyNTUsdD4+MTYmMjU1LHQ+PjgmMjU1LDI1NSZ0LGk+PjI0LGk+PjE2JjI1NSxpPj44JjI1NSwyNTUmaSxhPj4yNCxhPj4xNiYyNTUsYT4+OCYyNTUsMjU1JmEsMCwxLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNjQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjU1LDI1NSwyNTUsMjU1XSk7cmV0dXJuIGUuYm94KGUudHlwZXMubXZoZCxuKX0sZS5zZHRwPWZ1bmN0aW9uKHQpe3ZhciByLGksYT10LnNhbXBsZXN8fFtdLG49bmV3IFVpbnQ4QXJyYXkoNCthLmxlbmd0aCk7Zm9yKHI9MDtyPGEubGVuZ3RoO3IrKylpPWFbcl0uZmxhZ3MsbltyKzRdPWkuZGVwZW5kc09uPDw0fGkuaXNEZXBlbmRlZE9uPDwyfGkuaGFzUmVkdW5kYW5jeTtyZXR1cm4gZS5ib3goZS50eXBlcy5zZHRwLG4pfSxlLnN0Ymw9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMuc3RibCxlLnN0c2QodCksZS5ib3goZS50eXBlcy5zdHRzLGUuU1RUUyksZS5ib3goZS50eXBlcy5zdHNjLGUuU1RTQyksZS5ib3goZS50eXBlcy5zdHN6LGUuU1RTWiksZS5ib3goZS50eXBlcy5zdGNvLGUuU1RDTykpfSxlLmF2YzE9ZnVuY3Rpb24odCl7dmFyIHIsaSxhLG49W10scz1bXTtmb3Iocj0wO3I8dC5zcHMubGVuZ3RoO3IrKylhPShpPXQuc3BzW3JdKS5ieXRlTGVuZ3RoLG4ucHVzaChhPj4+OCYyNTUpLG4ucHVzaCgyNTUmYSksbj1uLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpKSk7Zm9yKHI9MDtyPHQucHBzLmxlbmd0aDtyKyspYT0oaT10LnBwc1tyXSkuYnl0ZUxlbmd0aCxzLnB1c2goYT4+PjgmMjU1KSxzLnB1c2goMjU1JmEpLHM9cy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSkpO3ZhciBvPWUuYm94KGUudHlwZXMuYXZjQyxuZXcgVWludDhBcnJheShbMSxuWzNdLG5bNF0sbls1XSwyNTUsMjI0fHQuc3BzLmxlbmd0aF0uY29uY2F0KG4pLmNvbmNhdChbdC5wcHMubGVuZ3RoXSkuY29uY2F0KHMpKSksbD10LndpZHRoLHU9dC5oZWlnaHQsZD10LnBpeGVsUmF0aW9bMF0saD10LnBpeGVsUmF0aW9bMV07cmV0dXJuIGUuYm94KGUudHlwZXMuYXZjMSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsbD4+OCYyNTUsMjU1JmwsdT4+OCYyNTUsMjU1JnUsMCw3MiwwLDAsMCw3MiwwLDAsMCwwLDAsMCwwLDEsMTgsMTAwLDk3LDEwNSwxMDgsMTIxLDEwOSwxMTEsMTE2LDEwNSwxMTEsMTEwLDQ3LDEwNCwxMDgsMTE1LDQ2LDEwNiwxMTUsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDI0LDE3LDE3XSksbyxlLmJveChlLnR5cGVzLmJ0cnQsbmV3IFVpbnQ4QXJyYXkoWzAsMjgsMTU2LDEyOCwwLDQ1LDE5OCwxOTIsMCw0NSwxOTgsMTkyXSkpLGUuYm94KGUudHlwZXMucGFzcCxuZXcgVWludDhBcnJheShbZD4+MjQsZD4+MTYmMjU1LGQ+PjgmMjU1LDI1NSZkLGg+PjI0LGg+PjE2JjI1NSxoPj44JjI1NSwyNTUmaF0pKSl9LGUuZXNkcz1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbmZpZy5sZW5ndGg7cmV0dXJuIG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDMsMjMrdCwwLDEsMCw0LDE1K3QsNjQsMjEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDVdLmNvbmNhdChbdF0pLmNvbmNhdChlLmNvbmZpZykuY29uY2F0KFs2LDEsMl0pKX0sZS5hdWRpb1N0c2Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zYW1wbGVyYXRlO3JldHVybiBuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLGUuY2hhbm5lbENvdW50LDAsMTYsMCwwLDAsMCx0Pj44JjI1NSwyNTUmdCwwLDBdKX0sZS5tcDRhPWZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLm1wNGEsZS5hdWRpb1N0c2QodCksZS5ib3goZS50eXBlcy5lc2RzLGUuZXNkcyh0KSkpfSxlLm1wMz1mdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlc1siLm1wMyJdLGUuYXVkaW9TdHNkKHQpKX0sZS5hYzM9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXNbImFjLTMiXSxlLmF1ZGlvU3RzZCh0KSxlLmJveChlLnR5cGVzLmRhYzMsdC5jb25maWcpKX0sZS5zdHNkPWZ1bmN0aW9uKHQpe3JldHVybiJhdWRpbyI9PT10LnR5cGU/Im1wMyI9PT10LnNlZ21lbnRDb2RlYyYmIm1wMyI9PT10LmNvZGVjP2UuYm94KGUudHlwZXMuc3RzZCxlLlNUU0QsZS5tcDModCkpOiJhYzMiPT09dC5zZWdtZW50Q29kZWM/ZS5ib3goZS50eXBlcy5zdHNkLGUuU1RTRCxlLmFjMyh0KSk6ZS5ib3goZS50eXBlcy5zdHNkLGUuU1RTRCxlLm1wNGEodCkpOmUuYm94KGUudHlwZXMuc3RzZCxlLlNUU0QsZS5hdmMxKHQpKX0sZS50a2hkPWZ1bmN0aW9uKHQpe3ZhciByPXQuaWQsaT10LmR1cmF0aW9uKnQudGltZXNjYWxlLGE9dC53aWR0aCxuPXQuaGVpZ2h0LHM9TWF0aC5mbG9vcihpLygkaSsxKSksbz1NYXRoLmZsb29yKGklKCRpKzEpKTtyZXR1cm4gZS5ib3goZS50eXBlcy50a2hkLG5ldyBVaW50OEFycmF5KFsxLDAsMCw3LDAsMCwwLDAsMCwwLDAsMiwwLDAsMCwwLDAsMCwwLDMscj4+MjQmMjU1LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmciwwLDAsMCwwLHM+PjI0LHM+PjE2JjI1NSxzPj44JjI1NSwyNTUmcyxvPj4yNCxvPj4xNiYyNTUsbz4+OCYyNTUsMjU1Jm8sMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNjQsMCwwLDAsYT4+OCYyNTUsMjU1JmEsMCwwLG4+PjgmMjU1LDI1NSZuLDAsMF0pKX0sZS50cmFmPWZ1bmN0aW9uKHQscil7dmFyIGk9ZS5zZHRwKHQpLGE9dC5pZCxuPU1hdGguZmxvb3Ioci8oJGkrMSkpLHM9TWF0aC5mbG9vcihyJSgkaSsxKSk7cmV0dXJuIGUuYm94KGUudHlwZXMudHJhZixlLmJveChlLnR5cGVzLnRmaGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsYT4+MjQsYT4+MTYmMjU1LGE+PjgmMjU1LDI1NSZhXSkpLGUuYm94KGUudHlwZXMudGZkdCxuZXcgVWludDhBcnJheShbMSwwLDAsMCxuPj4yNCxuPj4xNiYyNTUsbj4+OCYyNTUsMjU1Jm4scz4+MjQscz4+MTYmMjU1LHM+PjgmMjU1LDI1NSZzXSkpLGUudHJ1bih0LGkubGVuZ3RoKzE2KzIwKzgrMTYrOCs4KSxpKX0sZS50cmFrPWZ1bmN0aW9uKHQpe3JldHVybiB0LmR1cmF0aW9uPXQuZHVyYXRpb258fDQyOTQ5NjcyOTUsZS5ib3goZS50eXBlcy50cmFrLGUudGtoZCh0KSxlLm1kaWEodCkpfSxlLnRyZXg9ZnVuY3Rpb24odCl7dmFyIHI9dC5pZDtyZXR1cm4gZS5ib3goZS50eXBlcy50cmV4LG5ldyBVaW50OEFycmF5KFswLDAsMCwwLHI+PjI0LHI+PjE2JjI1NSxyPj44JjI1NSwyNTUmciwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwxXSkpfSxlLnRydW49ZnVuY3Rpb24odCxyKXt2YXIgaSxhLG4scyxvLGwsdT10LnNhbXBsZXN8fFtdLGQ9dS5sZW5ndGgsaD0xMisxNipkLGY9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKHIrPTgraCxmLnNldChbInZpZGVvIj09PXQudHlwZT8xOjAsMCwxNSwxLGQ+Pj4yNCYyNTUsZD4+PjE2JjI1NSxkPj4+OCYyNTUsMjU1JmQscj4+PjI0JjI1NSxyPj4+MTYmMjU1LHI+Pj44JjI1NSwyNTUmcl0sMCksaT0wO2k8ZDtpKyspbj0oYT11W2ldKS5kdXJhdGlvbixzPWEuc2l6ZSxvPWEuZmxhZ3MsbD1hLmN0cyxmLnNldChbbj4+PjI0JjI1NSxuPj4+MTYmMjU1LG4+Pj44JjI1NSwyNTUmbixzPj4+MjQmMjU1LHM+Pj4xNiYyNTUscz4+PjgmMjU1LDI1NSZzLG8uaXNMZWFkaW5nPDwyfG8uZGVwZW5kc09uLG8uaXNEZXBlbmRlZE9uPDw2fG8uaGFzUmVkdW5kYW5jeTw8NHxvLnBhZGRpbmdWYWx1ZTw8MXxvLmlzTm9uU3luYyw2MTQ0MCZvLmRlZ3JhZFByaW8sMTUmby5kZWdyYWRQcmlvLGw+Pj4yNCYyNTUsbD4+PjE2JjI1NSxsPj4+OCYyNTUsMjU1JmxdLDEyKzE2KmkpO3JldHVybiBlLmJveChlLnR5cGVzLnRydW4sZil9LGUuaW5pdFNlZ21lbnQ9ZnVuY3Rpb24odCl7ZS50eXBlc3x8ZS5pbml0KCk7dmFyIHI9ZS5tb292KHQpO3JldHVybiBiZShlLkZUWVAscil9LGV9KCk7ZnVuY3Rpb24gZWEoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLGZ1bmN0aW9uKGUsdCxyLGkpe3ZvaWQgMD09PXImJihyPTEpLHZvaWQgMD09PWkmJihpPSExKTt2YXIgYT1lKnQqcjtyZXR1cm4gaT9NYXRoLnJvdW5kKGEpOmF9KGUsMWUzLDEvOWU0LHQpfVppLnR5cGVzPXZvaWQgMCxaaS5IRExSX1RZUEVTPXZvaWQgMCxaaS5TVFRTPXZvaWQgMCxaaS5TVFNDPXZvaWQgMCxaaS5TVENPPXZvaWQgMCxaaS5TVFNaPXZvaWQgMCxaaS5WTUhEPXZvaWQgMCxaaS5TTUhEPXZvaWQgMCxaaS5TVFNEPXZvaWQgMCxaaS5GVFlQPXZvaWQgMCxaaS5ESU5GPXZvaWQgMDt2YXIgdGE9bnVsbCxyYT1udWxsLGlhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXtpZih0aGlzLm9ic2VydmVyPXZvaWQgMCx0aGlzLmNvbmZpZz12b2lkIDAsdGhpcy50eXBlU3VwcG9ydGVkPXZvaWQgMCx0aGlzLklTR2VuZXJhdGVkPSExLHRoaXMuX2luaXRQVFM9bnVsbCx0aGlzLl9pbml0RFRTPW51bGwsdGhpcy5uZXh0QXZjRHRzPW51bGwsdGhpcy5uZXh0QXVkaW9QdHM9bnVsbCx0aGlzLnZpZGVvU2FtcGxlRHVyYXRpb249bnVsbCx0aGlzLmlzQXVkaW9Db250aWd1b3VzPSExLHRoaXMuaXNWaWRlb0NvbnRpZ3VvdXM9ITEsdGhpcy52aWRlb1RyYWNrQ29uZmlnPXZvaWQgMCx0aGlzLm9ic2VydmVyPWUsdGhpcy5jb25maWc9dCx0aGlzLnR5cGVTdXBwb3J0ZWQ9cix0aGlzLklTR2VuZXJhdGVkPSExLG51bGw9PT10YSl7dmFyIGE9KG5hdmlnYXRvci51c2VyQWdlbnR8fCIiKS5tYXRjaCgvQ2hyb21lXC8oXGQrKS9pKTt0YT1hP3BhcnNlSW50KGFbMV0pOjB9aWYobnVsbD09PXJhKXt2YXIgbj1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9TYWZhcmlcLyhcZCspL2kpO3JhPW4/cGFyc2VJbnQoblsxXSk6MH19dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY29uZmlnPXRoaXMudmlkZW9UcmFja0NvbmZpZz10aGlzLl9pbml0UFRTPXRoaXMuX2luaXREVFM9bnVsbH0sdC5yZXNldFRpbWVTdGFtcD1mdW5jdGlvbihlKXtELmxvZygiW21wNC1yZW11eGVyXTogaW5pdFBUUyAmIGluaXREVFMgcmVzZXQiKSx0aGlzLl9pbml0UFRTPXRoaXMuX2luaXREVFM9ZX0sdC5yZXNldE5leHRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtELmxvZygiW21wNC1yZW11eGVyXTogcmVzZXQgbmV4dCB0aW1lc3RhbXAiKSx0aGlzLmlzVmlkZW9Db250aWd1b3VzPSExLHRoaXMuaXNBdWRpb0NvbnRpZ3VvdXM9ITF9LHQucmVzZXRJbml0U2VnbWVudD1mdW5jdGlvbigpe0QubG9nKCJbbXA0LXJlbXV4ZXJdOiBJU0dlbmVyYXRlZCBmbGFnIHJlc2V0IiksdGhpcy5JU0dlbmVyYXRlZD0hMSx0aGlzLnZpZGVvVHJhY2tDb25maWc9dm9pZCAwfSx0LmdldFZpZGVvU3RhcnRQdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ITEscj1lWzBdLnB0cyxpPWUucmVkdWNlKChmdW5jdGlvbihlLGkpe3ZhciBhPWkucHRzLG49YS1lO3JldHVybiBuPC00Mjk0OTY3Mjk2JiYodD0hMCxuPShhPWFhKGEscikpLWUpLG4+MD9lOmF9KSxyKTtyZXR1cm4gdCYmRC5kZWJ1ZygiUFRTIHJvbGxvdmVyIGRldGVjdGVkIiksaX0sdC5yZW11eD1mdW5jdGlvbihlLHQscixpLGEsbixzLG8pe3ZhciBsLHUsZCxoLGYsYyx2PWEsZz1hLG09ZS5waWQ+LTEscD10LnBpZD4tMSx5PXQuc2FtcGxlcy5sZW5ndGgsRT1lLnNhbXBsZXMubGVuZ3RoPjAsVD1zJiZ5PjB8fHk+MTtpZigoIW18fEUpJiYoIXB8fFQpfHx0aGlzLklTR2VuZXJhdGVkfHxzKXtpZih0aGlzLklTR2VuZXJhdGVkKXt2YXIgUyxMLFIsQSxiPXRoaXMudmlkZW9UcmFja0NvbmZpZzshYnx8dC53aWR0aD09PWIud2lkdGgmJnQuaGVpZ2h0PT09Yi5oZWlnaHQmJihudWxsPT0oUz10LnBpeGVsUmF0aW8pP3ZvaWQgMDpTWzBdKT09PShudWxsPT0oTD1iLnBpeGVsUmF0aW8pP3ZvaWQgMDpMWzBdKSYmKG51bGw9PShSPXQucGl4ZWxSYXRpbyk/dm9pZCAwOlJbMV0pPT09KG51bGw9PShBPWIucGl4ZWxSYXRpbyk/dm9pZCAwOkFbMV0pfHx0aGlzLnJlc2V0SW5pdFNlZ21lbnQoKX1lbHNlIGQ9dGhpcy5nZW5lcmF0ZUlTKGUsdCxhLG4pO3ZhciBrLF89dGhpcy5pc1ZpZGVvQ29udGlndW91cyx4PS0xO2lmKFQmJih4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF0ua2V5KXJldHVybiB0O3JldHVybi0xfSh0LnNhbXBsZXMpLCFfJiZ0aGlzLmNvbmZpZy5mb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5KSlpZihjPSEwLHg+MCl7RC53YXJuKCJbbXA0LXJlbXV4ZXJdOiBEcm9wcGVkICIreCsiIG91dCBvZiAiK3krIiB2aWRlbyBzYW1wbGVzIGR1ZSB0byBhIG1pc3Npbmcga2V5ZnJhbWUiKTt2YXIgdz10aGlzLmdldFZpZGVvU3RhcnRQdHModC5zYW1wbGVzKTt0LnNhbXBsZXM9dC5zYW1wbGVzLnNsaWNlKHgpLHQuZHJvcHBlZCs9eCxrPWcrPSh0LnNhbXBsZXNbMF0ucHRzLXcpL3QuaW5wdXRUaW1lU2NhbGV9ZWxzZS0xPT09eCYmKEQud2FybigiW21wNC1yZW11eGVyXTogTm8ga2V5ZnJhbWUgZm91bmQgb3V0IG9mICIreSsiIHZpZGVvIHNhbXBsZXMiKSxjPSExKTtpZih0aGlzLklTR2VuZXJhdGVkKXtpZihFJiZUKXt2YXIgQz10aGlzLmdldFZpZGVvU3RhcnRQdHModC5zYW1wbGVzKSxJPShhYShlLnNhbXBsZXNbMF0ucHRzLEMpLUMpL3QuaW5wdXRUaW1lU2NhbGU7dis9TWF0aC5tYXgoMCxJKSxnKz1NYXRoLm1heCgwLC1JKX1pZihFKXtpZihlLnNhbXBsZXJhdGV8fChELndhcm4oIlttcDQtcmVtdXhlcl06IHJlZ2VuZXJhdGUgSW5pdFNlZ21lbnQgYXMgYXVkaW8gZGV0ZWN0ZWQiKSxkPXRoaXMuZ2VuZXJhdGVJUyhlLHQsYSxuKSksdT10aGlzLnJlbXV4QXVkaW8oZSx2LHRoaXMuaXNBdWRpb0NvbnRpZ3VvdXMsbixwfHxUfHxvPT09c3Q/Zzp2b2lkIDApLFQpe3ZhciBQPXU/dS5lbmRQVFMtdS5zdGFydFBUUzowO3QuaW5wdXRUaW1lU2NhbGV8fChELndhcm4oIlttcDQtcmVtdXhlcl06IHJlZ2VuZXJhdGUgSW5pdFNlZ21lbnQgYXMgdmlkZW8gZGV0ZWN0ZWQiKSxkPXRoaXMuZ2VuZXJhdGVJUyhlLHQsYSxuKSksbD10aGlzLnJlbXV4VmlkZW8odCxnLF8sUCl9fWVsc2UgVCYmKGw9dGhpcy5yZW11eFZpZGVvKHQsZyxfLDApKTtsJiYobC5maXJzdEtleUZyYW1lPXgsbC5pbmRlcGVuZGVudD0tMSE9PXgsbC5maXJzdEtleUZyYW1lUFRTPWspfX1yZXR1cm4gdGhpcy5JU0dlbmVyYXRlZCYmdGhpcy5faW5pdFBUUyYmdGhpcy5faW5pdERUUyYmKHIuc2FtcGxlcy5sZW5ndGgmJihmPW5hKHIsYSx0aGlzLl9pbml0UFRTLHRoaXMuX2luaXREVFMpKSxpLnNhbXBsZXMubGVuZ3RoJiYoaD1zYShpLGEsdGhpcy5faW5pdFBUUykpKSx7YXVkaW86dSx2aWRlbzpsLGluaXRTZWdtZW50OmQsaW5kZXBlbmRlbnQ6Yyx0ZXh0OmgsaWQzOmZ9fSx0LmdlbmVyYXRlSVM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGEsbixzLG89ZS5zYW1wbGVzLGw9dC5zYW1wbGVzLHU9dGhpcy50eXBlU3VwcG9ydGVkLGQ9e30saD10aGlzLl9pbml0UFRTLGY9IWh8fGksYz0iYXVkaW8vbXA0IjtpZihmJiYoYT1uPTEvMCksZS5jb25maWcmJm8ubGVuZ3RoKXtzd2l0Y2goZS50aW1lc2NhbGU9ZS5zYW1wbGVyYXRlLGUuc2VnbWVudENvZGVjKXtjYXNlIm1wMyI6dS5tcGVnPyhjPSJhdWRpby9tcGVnIixlLmNvZGVjPSIiKTp1Lm1wMyYmKGUuY29kZWM9Im1wMyIpO2JyZWFrO2Nhc2UiYWMzIjplLmNvZGVjPSJhYy0zIn1kLmF1ZGlvPXtpZDoiYXVkaW8iLGNvbnRhaW5lcjpjLGNvZGVjOmUuY29kZWMsaW5pdFNlZ21lbnQ6Im1wMyI9PT1lLnNlZ21lbnRDb2RlYyYmdS5tcGVnP25ldyBVaW50OEFycmF5KDApOlppLmluaXRTZWdtZW50KFtlXSksbWV0YWRhdGE6e2NoYW5uZWxDb3VudDplLmNoYW5uZWxDb3VudH19LGYmJihzPWUuaW5wdXRUaW1lU2NhbGUsaCYmcz09PWgudGltZXNjYWxlP2Y9ITE6YT1uPW9bMF0ucHRzLU1hdGgucm91bmQocypyKSl9aWYodC5zcHMmJnQucHBzJiZsLmxlbmd0aCl7aWYodC50aW1lc2NhbGU9dC5pbnB1dFRpbWVTY2FsZSxkLnZpZGVvPXtpZDoibWFpbiIsY29udGFpbmVyOiJ2aWRlby9tcDQiLGNvZGVjOnQuY29kZWMsaW5pdFNlZ21lbnQ6WmkuaW5pdFNlZ21lbnQoW3RdKSxtZXRhZGF0YTp7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fSxmKWlmKHM9dC5pbnB1dFRpbWVTY2FsZSxoJiZzPT09aC50aW1lc2NhbGUpZj0hMTtlbHNle3ZhciB2PXRoaXMuZ2V0VmlkZW9TdGFydFB0cyhsKSxnPU1hdGgucm91bmQocypyKTtuPU1hdGgubWluKG4sYWEobFswXS5kdHMsdiktZyksYT1NYXRoLm1pbihhLHYtZyl9dGhpcy52aWRlb1RyYWNrQ29uZmlnPXt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxwaXhlbFJhdGlvOnQucGl4ZWxSYXRpb319aWYoT2JqZWN0LmtleXMoZCkubGVuZ3RoKXJldHVybiB0aGlzLklTR2VuZXJhdGVkPSEwLGY/KHRoaXMuX2luaXRQVFM9e2Jhc2VUaW1lOmEsdGltZXNjYWxlOnN9LHRoaXMuX2luaXREVFM9e2Jhc2VUaW1lOm4sdGltZXNjYWxlOnN9KTphPXM9dm9pZCAwLHt0cmFja3M6ZCxpbml0UFRTOmEsdGltZXNjYWxlOnN9fSx0LnJlbXV4VmlkZW89ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGEsbixzPWUuaW5wdXRUaW1lU2NhbGUsbD1lLnNhbXBsZXMsdT1bXSxkPWwubGVuZ3RoLGg9dGhpcy5faW5pdFBUUyxmPXRoaXMubmV4dEF2Y0R0cyxjPTgsdj10aGlzLnZpZGVvU2FtcGxlRHVyYXRpb24sZz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkscD0hMTtpZighcnx8bnVsbD09PWYpe3ZhciB5PXQqcyxMPWxbMF0ucHRzLWFhKGxbMF0uZHRzLGxbMF0ucHRzKTt0YSYmbnVsbCE9PWYmJk1hdGguYWJzKHktTC1mKTwxNWUzP3I9ITA6Zj15LUx9Zm9yKHZhciBSPWguYmFzZVRpbWUqcy9oLnRpbWVzY2FsZSxBPTA7QTxkO0ErKyl7dmFyIGI9bFtBXTtiLnB0cz1hYShiLnB0cy1SLGYpLGIuZHRzPWFhKGIuZHRzLVIsZiksYi5kdHM8bFtBPjA/QS0xOkFdLmR0cyYmKHA9ITApfXAmJmwuc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmR0cy10LmR0cyxpPWUucHRzLXQucHRzO3JldHVybiByfHxpfSkpLGE9bFswXS5kdHM7dmFyIGs9KG49bFtsLmxlbmd0aC0xXS5kdHMpLWEsXz1rP01hdGgucm91bmQoay8oZC0xKSk6dnx8ZS5pbnB1dFRpbWVTY2FsZS8zMDtpZihyKXt2YXIgeD1hLWYsdz14Pl8sQz14PC0xO2lmKCh3fHxDKSYmKHc/RC53YXJuKCJBVkM6ICIrZWEoeCwhMCkrIiBtcyAoIit4KyJkdHMpIGhvbGUgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQgYXQgIit0LnRvRml4ZWQoMykpOkQud2FybigiQVZDOiAiK2VhKC14LCEwKSsiIG1zICgiK3grImR0cykgb3ZlcmxhcHBpbmcgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQgYXQgIit0LnRvRml4ZWQoMykpLCFDfHxmPj1sWzBdLnB0c3x8dGEpKXthPWY7dmFyIEk9bFswXS5wdHMteDtpZih3KWxbMF0uZHRzPWEsbFswXS5wdHM9STtlbHNlIGZvcih2YXIgUD0wO1A8bC5sZW5ndGgmJiEobFtQXS5kdHM+SSk7UCsrKWxbUF0uZHRzLT14LGxbUF0ucHRzLT14O0QubG9nKCJWaWRlbzogSW5pdGlhbCBQVFMvRFRTIGFkanVzdGVkOiAiK2VhKEksITApKyIvIitlYShhLCEwKSsiLCBkZWx0YTogIitlYSh4LCEwKSsiIG1zIil9fWZvcih2YXIgRj0wLE89MCxNPWE9TWF0aC5tYXgoMCxhKSxOPTA7TjxkO04rKyl7Zm9yKHZhciBCPWxbTl0sVT1CLnVuaXRzLEc9VS5sZW5ndGgsSD0wLFY9MDtWPEc7VisrKUgrPVVbVl0uZGF0YS5sZW5ndGg7Tys9SCxGKz1HLEIubGVuZ3RoPUgsQi5kdHM8TT8oQi5kdHM9TSxNKz1fLzR8MHx8MSk6TT1CLmR0cyxnPU1hdGgubWluKEIucHRzLGcpLG09TWF0aC5tYXgoQi5wdHMsbSl9bj1sW2QtMV0uZHRzO3ZhciBLLFc9Tys0KkYrODt0cnl7Sz1uZXcgVWludDhBcnJheShXKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLm9ic2VydmVyLmVtaXQoRS5FUlJPUixFLkVSUk9SLHt0eXBlOlQuTVVYX0VSUk9SLGRldGFpbHM6Uy5SRU1VWF9BTExPQ19FUlJPUixmYXRhbDohMSxlcnJvcjplLGJ5dGVzOlcscmVhc29uOiJmYWlsIGFsbG9jYXRpbmcgdmlkZW8gbWRhdCAiK1d9KX12YXIgaj1uZXcgRGF0YVZpZXcoSy5idWZmZXIpO2ouc2V0VWludDMyKDAsVyksSy5zZXQoWmkudHlwZXMubWRhdCw0KTtmb3IodmFyIFk9ITEscT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksej1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksWD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksUT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksSj0wO0o8ZDtKKyspe2Zvcih2YXIgJD1sW0pdLFo9JC51bml0cyxlZT0wLHRlPTAscmU9Wi5sZW5ndGg7dGU8cmU7dGUrKyl7dmFyIGllPVpbdGVdLGFlPWllLmRhdGEsbmU9aWUuZGF0YS5ieXRlTGVuZ3RoO2ouc2V0VWludDMyKGMsbmUpLGMrPTQsSy5zZXQoYWUsYyksYys9bmUsZWUrPTQrbmV9dmFyIHNlPXZvaWQgMDtpZihKPGQtMSl2PWxbSisxXS5kdHMtJC5kdHMsc2U9bFtKKzFdLnB0cy0kLnB0cztlbHNle3ZhciBvZT10aGlzLmNvbmZpZyxsZT1KPjA/JC5kdHMtbFtKLTFdLmR0czpfO2lmKHNlPUo+MD8kLnB0cy1sW0otMV0ucHRzOl8sb2Uuc3RyZXRjaFNob3J0VmlkZW9UcmFjayYmbnVsbCE9PXRoaXMubmV4dEF1ZGlvUHRzKXt2YXIgdWU9TWF0aC5mbG9vcihvZS5tYXhCdWZmZXJIb2xlKnMpLGRlPShpP2craSpzOnRoaXMubmV4dEF1ZGlvUHRzKS0kLnB0cztkZT51ZT8oKHY9ZGUtbGUpPDA/dj1sZTpZPSEwLEQubG9nKCJbbXA0LXJlbXV4ZXJdOiBJdCBpcyBhcHByb3hpbWF0ZWx5ICIrZGUvOTArIiBtcyB0byB0aGUgbmV4dCBzZWdtZW50OyB1c2luZyBkdXJhdGlvbiAiK3YvOTArIiBtcyBmb3IgdGhlIGxhc3QgdmlkZW8gZnJhbWUuIikpOnY9bGV9ZWxzZSB2PWxlfXZhciBoZT1NYXRoLnJvdW5kKCQucHRzLSQuZHRzKTtxPU1hdGgubWluKHEsdiksWD1NYXRoLm1heChYLHYpLHo9TWF0aC5taW4oeixzZSksUT1NYXRoLm1heChRLHNlKSx1LnB1c2gobmV3IG9hKCQua2V5LHYsZWUsaGUpKX1pZih1Lmxlbmd0aClpZih0YSl7aWYodGE8NzApe3ZhciBmZT11WzBdLmZsYWdzO2ZlLmRlcGVuZHNPbj0yLGZlLmlzTm9uU3luYz0wfX1lbHNlIGlmKHJhJiZRLXo8WC1xJiZfL1g8LjAyNSYmMD09PXVbMF0uY3RzKXtELndhcm4oIkZvdW5kIGlycmVndWxhciBnYXBzIGluIHNhbXBsZSBkdXJhdGlvbi4gVXNpbmcgUFRTIGluc3RlYWQgb2YgRFRTIHRvIGRldGVybWluZSBNUDQgc2FtcGxlIGR1cmF0aW9uLiIpO2Zvcih2YXIgY2U9YSx2ZT0wLGdlPXUubGVuZ3RoO3ZlPGdlO3ZlKyspe3ZhciBtZT1jZSt1W3ZlXS5kdXJhdGlvbixwZT1jZSt1W3ZlXS5jdHM7aWYodmU8Z2UtMSl7dmFyIHllPW1lK3VbdmUrMV0uY3RzO3VbdmVdLmR1cmF0aW9uPXllLXBlfWVsc2UgdVt2ZV0uZHVyYXRpb249dmU/dVt2ZS0xXS5kdXJhdGlvbjpfO3VbdmVdLmN0cz0wLGNlPW1lfX12PVl8fCF2P186dix0aGlzLm5leHRBdmNEdHM9Zj1uK3YsdGhpcy52aWRlb1NhbXBsZUR1cmF0aW9uPXYsdGhpcy5pc1ZpZGVvQ29udGlndW91cz0hMDt2YXIgRWU9e2RhdGExOlppLm1vb2YoZS5zZXF1ZW5jZU51bWJlcisrLGEsbyh7fSxlLHtzYW1wbGVzOnV9KSksZGF0YTI6SyxzdGFydFBUUzpnL3MsZW5kUFRTOihtK3YpL3Msc3RhcnREVFM6YS9zLGVuZERUUzpmL3MsdHlwZToidmlkZW8iLGhhc0F1ZGlvOiExLGhhc1ZpZGVvOiEwLG5iOnUubGVuZ3RoLGRyb3BwZWQ6ZS5kcm9wcGVkfTtyZXR1cm4gZS5zYW1wbGVzPVtdLGUuZHJvcHBlZD0wLEVlfSx0LmdldFNhbXBsZXNQZXJGcmFtZT1mdW5jdGlvbihlKXtzd2l0Y2goZS5zZWdtZW50Q29kZWMpe2Nhc2UibXAzIjpyZXR1cm4gMTE1MjtjYXNlImFjMyI6cmV0dXJuIDE1MzY7ZGVmYXVsdDpyZXR1cm4gMTAyNH19LHQucmVtdXhBdWRpbz1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuPWUuaW5wdXRUaW1lU2NhbGUscz1uLyhlLnNhbXBsZXJhdGU/ZS5zYW1wbGVyYXRlOm4pLGw9dGhpcy5nZXRTYW1wbGVzUGVyRnJhbWUoZSksdT1sKnMsZD10aGlzLl9pbml0UFRTLGg9Im1wMyI9PT1lLnNlZ21lbnRDb2RlYyYmdGhpcy50eXBlU3VwcG9ydGVkLm1wZWcsZj1bXSxjPXZvaWQgMCE9PWEsdj1lLnNhbXBsZXMsZz1oPzA6OCxtPXRoaXMubmV4dEF1ZGlvUHRzfHwtMSxwPXQqbix5PWQuYmFzZVRpbWUqbi9kLnRpbWVzY2FsZTtpZih0aGlzLmlzQXVkaW9Db250aWd1b3VzPXI9cnx8di5sZW5ndGgmJm0+MCYmKGkmJk1hdGguYWJzKHAtbSk8OWUzfHxNYXRoLmFicyhhYSh2WzBdLnB0cy15LHApLW0pPDIwKnUpLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5wdHM9YWEoZS5wdHMteSxwKX0pKSwhcnx8bTwwKXtpZih2PXYuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wdHM+PTB9KSksIXYubGVuZ3RoKXJldHVybjttPTA9PT1hPzA6aSYmIWM/TWF0aC5tYXgoMCxwKTp2WzBdLnB0c31pZigiYWFjIj09PWUuc2VnbWVudENvZGVjKWZvcih2YXIgTD10aGlzLmNvbmZpZy5tYXhBdWRpb0ZyYW1lc0RyaWZ0LFI9MCxBPW07Ujx2Lmxlbmd0aDtSKyspe3ZhciBiPXZbUl0saz1iLnB0cyxfPWstQSx4PU1hdGguYWJzKDFlMypfL24pO2lmKF88PS1MKnUmJmMpMD09PVImJihELndhcm4oIkF1ZGlvIGZyYW1lIEAgIisoay9uKS50b0ZpeGVkKDMpKyJzIG92ZXJsYXBzIG5leHRBdWRpb1B0cyBieSAiK01hdGgucm91bmQoMWUzKl8vbikrIiBtcy4iKSx0aGlzLm5leHRBdWRpb1B0cz1tPUE9ayk7ZWxzZSBpZihfPj1MKnUmJng8MWU0JiZjKXt2YXIgdz1NYXRoLnJvdW5kKF8vdSk7KEE9ay13KnUpPDAmJih3LS0sQSs9dSksMD09PVImJih0aGlzLm5leHRBdWRpb1B0cz1tPUEpLEQud2FybigiW21wNC1yZW11eGVyXTogSW5qZWN0aW5nICIrdysiIGF1ZGlvIGZyYW1lIEAgIisoQS9uKS50b0ZpeGVkKDMpKyJzIGR1ZSB0byAiK01hdGgucm91bmQoMWUzKl8vbikrIiBtcyBnYXAuIik7Zm9yKHZhciBDPTA7Qzx3O0MrKyl7dmFyIEk9TWF0aC5tYXgoQSwwKSxQPUppLmdldFNpbGVudEZyYW1lKGUubWFuaWZlc3RDb2RlY3x8ZS5jb2RlYyxlLmNoYW5uZWxDb3VudCk7UHx8KEQubG9nKCJbbXA0LXJlbXV4ZXJdOiBVbmFibGUgdG8gZ2V0IHNpbGVudCBmcmFtZSBmb3IgZ2l2ZW4gYXVkaW8gY29kZWM7IGR1cGxpY2F0aW5nIGxhc3QgZnJhbWUgaW5zdGVhZC4iKSxQPWIudW5pdC5zdWJhcnJheSgpKSx2LnNwbGljZShSLDAse3VuaXQ6UCxwdHM6SX0pLEErPXUsUisrfX1iLnB0cz1BLEErPXV9Zm9yKHZhciBGLE89bnVsbCxNPW51bGwsTj0wLEI9di5sZW5ndGg7Qi0tOylOKz12W0JdLnVuaXQuYnl0ZUxlbmd0aDtmb3IodmFyIFU9MCxHPXYubGVuZ3RoO1U8RztVKyspe3ZhciBIPXZbVV0sVj1ILnVuaXQsSz1ILnB0cztpZihudWxsIT09TSlmW1UtMV0uZHVyYXRpb249TWF0aC5yb3VuZCgoSy1NKS9zKTtlbHNle2lmKHImJiJhYWMiPT09ZS5zZWdtZW50Q29kZWMmJihLPW0pLE89SywhKE4+MCkpcmV0dXJuO04rPWc7dHJ5e0Y9bmV3IFVpbnQ4QXJyYXkoTil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5vYnNlcnZlci5lbWl0KEUuRVJST1IsRS5FUlJPUix7dHlwZTpULk1VWF9FUlJPUixkZXRhaWxzOlMuUkVNVVhfQUxMT0NfRVJST1IsZmF0YWw6ITEsZXJyb3I6ZSxieXRlczpOLHJlYXNvbjoiZmFpbCBhbGxvY2F0aW5nIGF1ZGlvIG1kYXQgIitOfSl9aHx8KG5ldyBEYXRhVmlldyhGLmJ1ZmZlcikuc2V0VWludDMyKDAsTiksRi5zZXQoWmkudHlwZXMubWRhdCw0KSl9Ri5zZXQoVixnKTt2YXIgVz1WLmJ5dGVMZW5ndGg7Zys9VyxmLnB1c2gobmV3IG9hKCEwLGwsVywwKSksTT1LfXZhciBqPWYubGVuZ3RoO2lmKGope3ZhciBZPWZbZi5sZW5ndGgtMV07dGhpcy5uZXh0QXVkaW9QdHM9bT1NK3MqWS5kdXJhdGlvbjt2YXIgcT1oP25ldyBVaW50OEFycmF5KDApOlppLm1vb2YoZS5zZXF1ZW5jZU51bWJlcisrLE8vcyxvKHt9LGUse3NhbXBsZXM6Zn0pKTtlLnNhbXBsZXM9W107dmFyIHo9Ty9uLFg9bS9uLFE9e2RhdGExOnEsZGF0YTI6RixzdGFydFBUUzp6LGVuZFBUUzpYLHN0YXJ0RFRTOnosZW5kRFRTOlgsdHlwZToiYXVkaW8iLGhhc0F1ZGlvOiEwLGhhc1ZpZGVvOiExLG5iOmp9O3JldHVybiB0aGlzLmlzQXVkaW9Db250aWd1b3VzPSEwLFF9fSx0LnJlbXV4RW1wdHlBdWRpbz1mdW5jdGlvbihlLHQscixpKXt2YXIgYT1lLmlucHV0VGltZVNjYWxlLG49YS8oZS5zYW1wbGVyYXRlP2Uuc2FtcGxlcmF0ZTphKSxzPXRoaXMubmV4dEF1ZGlvUHRzLG89dGhpcy5faW5pdERUUyxsPTllNCpvLmJhc2VUaW1lL28udGltZXNjYWxlLHU9KG51bGwhPT1zP3M6aS5zdGFydERUUyphKStsLGQ9aS5lbmREVFMqYStsLGg9MTAyNCpuLGY9TWF0aC5jZWlsKChkLXUpL2gpLGM9SmkuZ2V0U2lsZW50RnJhbWUoZS5tYW5pZmVzdENvZGVjfHxlLmNvZGVjLGUuY2hhbm5lbENvdW50KTtpZihELndhcm4oIlttcDQtcmVtdXhlcl06IHJlbXV4IGVtcHR5IEF1ZGlvIiksYyl7Zm9yKHZhciB2PVtdLGc9MDtnPGY7ZysrKXt2YXIgbT11K2cqaDt2LnB1c2goe3VuaXQ6YyxwdHM6bSxkdHM6bX0pfXJldHVybiBlLnNhbXBsZXM9dix0aGlzLnJlbXV4QXVkaW8oZSx0LHIsITEpfUQudHJhY2UoIlttcDQtcmVtdXhlcl06IFVuYWJsZSB0byByZW11eEVtcHR5QXVkaW8gc2luY2Ugd2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGEgc2lsZW50IGZyYW1lIGZvciBnaXZlbiBhdWRpbyBjb2RlYyIpfSxlfSgpO2Z1bmN0aW9uIGFhKGUsdCl7dmFyIHI7aWYobnVsbD09PXQpcmV0dXJuIGU7Zm9yKHI9dDxlPy04NTg5OTM0NTkyOjg1ODk5MzQ1OTI7TWF0aC5hYnMoZS10KT40Mjk0OTY3Mjk2OyllKz1yO3JldHVybiBlfWZ1bmN0aW9uIG5hKGUsdCxyLGkpe3ZhciBhPWUuc2FtcGxlcy5sZW5ndGg7aWYoYSl7Zm9yKHZhciBuPWUuaW5wdXRUaW1lU2NhbGUscz0wO3M8YTtzKyspe3ZhciBvPWUuc2FtcGxlc1tzXTtvLnB0cz1hYShvLnB0cy1yLmJhc2VUaW1lKm4vci50aW1lc2NhbGUsdCpuKS9uLG8uZHRzPWFhKG8uZHRzLWkuYmFzZVRpbWUqbi9pLnRpbWVzY2FsZSx0Km4pL259dmFyIGw9ZS5zYW1wbGVzO3JldHVybiBlLnNhbXBsZXM9W10se3NhbXBsZXM6bH19fWZ1bmN0aW9uIHNhKGUsdCxyKXt2YXIgaT1lLnNhbXBsZXMubGVuZ3RoO2lmKGkpe2Zvcih2YXIgYT1lLmlucHV0VGltZVNjYWxlLG49MDtuPGk7bisrKXt2YXIgcz1lLnNhbXBsZXNbbl07cy5wdHM9YWEocy5wdHMtci5iYXNlVGltZSphL3IudGltZXNjYWxlLHQqYSkvYX1lLnNhbXBsZXMuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wdHMtdC5wdHN9KSk7dmFyIG89ZS5zYW1wbGVzO3JldHVybiBlLnNhbXBsZXM9W10se3NhbXBsZXM6b319fXZhciBvYT1mdW5jdGlvbihlLHQscixpKXt0aGlzLnNpemU9dm9pZCAwLHRoaXMuZHVyYXRpb249dm9pZCAwLHRoaXMuY3RzPXZvaWQgMCx0aGlzLmZsYWdzPXZvaWQgMCx0aGlzLmR1cmF0aW9uPXQsdGhpcy5zaXplPXIsdGhpcy5jdHM9aSx0aGlzLmZsYWdzPXtpc0xlYWRpbmc6MCxpc0RlcGVuZGVkT246MCxoYXNSZWR1bmRhbmN5OjAsZGVncmFkUHJpbzowLGRlcGVuZHNPbjplPzI6MSxpc05vblN5bmM6ZT8wOjF9fSxsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmVtaXRJbml0U2VnbWVudD0hMSx0aGlzLmF1ZGlvQ29kZWM9dm9pZCAwLHRoaXMudmlkZW9Db2RlYz12b2lkIDAsdGhpcy5pbml0RGF0YT12b2lkIDAsdGhpcy5pbml0UFRTPW51bGwsdGhpcy5pbml0VHJhY2tzPXZvaWQgMCx0aGlzLmxhc3RFbmRUaW1lPW51bGx9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuZGVzdHJveT1mdW5jdGlvbigpe30sdC5yZXNldFRpbWVTdGFtcD1mdW5jdGlvbihlKXt0aGlzLmluaXRQVFM9ZSx0aGlzLmxhc3RFbmRUaW1lPW51bGx9LHQucmVzZXROZXh0VGltZXN0YW1wPWZ1bmN0aW9uKCl7dGhpcy5sYXN0RW5kVGltZT1udWxsfSx0LnJlc2V0SW5pdFNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5hdWRpb0NvZGVjPXQsdGhpcy52aWRlb0NvZGVjPXIsdGhpcy5nZW5lcmF0ZUluaXRTZWdtZW50KFJlKGUsaSkpLHRoaXMuZW1pdEluaXRTZWdtZW50PSEwfSx0LmdlbmVyYXRlSW5pdFNlZ21lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hdWRpb0NvZGVjLHI9dGhpcy52aWRlb0NvZGVjO2lmKG51bGw9PWV8fCFlLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXMuaW5pdFRyYWNrcz12b2lkIDAsdm9pZCh0aGlzLmluaXREYXRhPXZvaWQgMCk7dmFyIGk9dGhpcy5pbml0RGF0YT15ZShlKTtpLmF1ZGlvJiYodD11YShpLmF1ZGlvLEYpKSxpLnZpZGVvJiYocj11YShpLnZpZGVvLE8pKTt2YXIgYT17fTtpLmF1ZGlvJiZpLnZpZGVvP2EuYXVkaW92aWRlbz17Y29udGFpbmVyOiJ2aWRlby9tcDQiLGNvZGVjOnQrIiwiK3IsaW5pdFNlZ21lbnQ6ZSxpZDoibWFpbiJ9OmkuYXVkaW8/YS5hdWRpbz17Y29udGFpbmVyOiJhdWRpby9tcDQiLGNvZGVjOnQsaW5pdFNlZ21lbnQ6ZSxpZDoiYXVkaW8ifTppLnZpZGVvP2EudmlkZW89e2NvbnRhaW5lcjoidmlkZW8vbXA0Iixjb2RlYzpyLGluaXRTZWdtZW50OmUsaWQ6Im1haW4ifTpELndhcm4oIltwYXNzdGhyb3VnaC1yZW11eGVyLnRzXTogaW5pdFNlZ21lbnQgZG9lcyBub3QgY29udGFpbiBtb292IG9yIHRyYWsgYm94ZXMuIiksdGhpcy5pbml0VHJhY2tzPWF9LHQucmVtdXg9ZnVuY3Rpb24oZSx0LHIsaSxhLG4pe3ZhciBzLG8sbD10aGlzLmluaXRQVFMsdT10aGlzLmxhc3RFbmRUaW1lLGQ9e2F1ZGlvOnZvaWQgMCx2aWRlbzp2b2lkIDAsdGV4dDppLGlkMzpyLGluaXRTZWdtZW50OnZvaWQgMH07bSh1KXx8KHU9dGhpcy5sYXN0RW5kVGltZT1hfHwwKTt2YXIgaD10LnNhbXBsZXM7aWYobnVsbD09aHx8IWgubGVuZ3RoKXJldHVybiBkO3ZhciBmPXtpbml0UFRTOnZvaWQgMCx0aW1lc2NhbGU6MX0sYz10aGlzLmluaXREYXRhO2lmKG51bGwhPShzPWMpJiZzLmxlbmd0aHx8KHRoaXMuZ2VuZXJhdGVJbml0U2VnbWVudChoKSxjPXRoaXMuaW5pdERhdGEpLG51bGw9PShvPWMpfHwhby5sZW5ndGgpcmV0dXJuIEQud2FybigiW3Bhc3N0aHJvdWdoLXJlbXV4ZXIudHNdOiBGYWlsZWQgdG8gZ2VuZXJhdGUgaW5pdFNlZ21lbnQuIiksZDt0aGlzLmVtaXRJbml0U2VnbWVudCYmKGYudHJhY2tzPXRoaXMuaW5pdFRyYWNrcyx0aGlzLmVtaXRJbml0U2VnbWVudD0hMSk7dmFyIHY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxpPTAsYT0wLG49bWUoZSxbIm1vb2YiLCJ0cmFmIl0pLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIG89bltzXSxsPW1lKG8sWyJ0ZmhkIl0pWzBdLHU9dFtmZShsLDQpXTtpZih1KXt2YXIgZD11LmRlZmF1bHQsaD1mZShsLDApfChudWxsPT1kP3ZvaWQgMDpkLmZsYWdzKSxmPW51bGw9PWQ/dm9pZCAwOmQuZHVyYXRpb247OCZoJiYoZj1mZShsLDImaD8xMjo4KSk7Zm9yKHZhciBjPXUudGltZXNjYWxlfHw5ZTQsdj1tZShvLFsidHJ1biJdKSxnPTA7Zzx2Lmxlbmd0aDtnKyspIShyPUFlKHZbZ10pKSYmZiYmKHI9ZipmZSh2W2ddLDQpKSx1LnR5cGU9PT1PP2krPXIvYzp1LnR5cGU9PT1GJiYoYSs9ci9jKX19aWYoMD09PWkmJjA9PT1hKXtmb3IodmFyIHA9MS8wLHk9MCxFPTAsVD1tZShlLFsic2lkeCJdKSxTPTA7UzxULmxlbmd0aDtTKyspe3ZhciBMPXBlKFRbU10pO2lmKG51bGwhPUwmJkwucmVmZXJlbmNlcyl7cD1NYXRoLm1pbihwLEwuZWFybGllc3RQcmVzZW50YXRpb25UaW1lL0wudGltZXNjYWxlKTt2YXIgUj1MLnJlZmVyZW5jZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuaW5mby5kdXJhdGlvbnx8MH0pLDApO0U9KHk9TWF0aC5tYXgoeSxSK0wuZWFybGllc3RQcmVzZW50YXRpb25UaW1lL0wudGltZXNjYWxlKSktcH19aWYoRSYmbShFKSlyZXR1cm4gRX1yZXR1cm4gaXx8YX0oaCxjKSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG1lKHQsWyJtb29mIiwidHJhZiJdKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7dmFyIGk9bWUocixbInRmZHQiXSlbMF0sYT1pWzBdLG49bWUocixbInRmaGQiXSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3ZhciBuPWZlKHIsNCkscz1lW25dO2lmKHMpe3ZhciBvPWZlKGksNCk7aWYoMT09PWEpe2lmKG89PT1vZSlyZXR1cm4gRC53YXJuKCJbbXA0LWRlbXV4ZXJdOiBJZ25vcmluZyBhc3N1bWVkIGludmFsaWQgc2lnbmVkIDY0LWJpdCB0cmFjayBmcmFnbWVudCBkZWNvZGUgdGltZSIpLHQ7byo9b2UrMSxvKz1mZShpLDgpfXZhciBsPW8vKHMudGltZXNjYWxlfHw5ZTQpO2lmKG0obCkmJihudWxsPT09dHx8bDx0KSlyZXR1cm4gbH1yZXR1cm4gdH0pLG51bGwpO3JldHVybiBudWxsIT09biYmbShuKSYmKG51bGw9PT10fHxuPHQpP246dH0pLG51bGwpfShjLGgpLHA9bnVsbD09PWc/YTpnOyhmdW5jdGlvbihlLHQscixpKXtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgYT1NYXRoLm1heChpLDEpLG49dC1lLmJhc2VUaW1lL2UudGltZXNjYWxlO3JldHVybiBNYXRoLmFicyhuLXIpPmF9KGwscCxhLHYpfHxmLnRpbWVzY2FsZSE9PWwudGltZXNjYWxlJiZuKSYmKGYuaW5pdFBUUz1wLWEsbCYmMT09PWwudGltZXNjYWxlJiZELndhcm4oIkFkanVzdGluZyBpbml0UFRTIGJ5ICIrKGYuaW5pdFBUUy1sLmJhc2VUaW1lKSksdGhpcy5pbml0UFRTPWw9e2Jhc2VUaW1lOmYuaW5pdFBUUyx0aW1lc2NhbGU6MX0pO3ZhciB5PWU/cC1sLmJhc2VUaW1lL2wudGltZXNjYWxlOnUsRT15K3Y7IWZ1bmN0aW9uKGUsdCxyKXttZSh0LFsibW9vZiIsInRyYWYiXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bWUodCxbInRmaGQiXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGE9ZmUoaSw0KSxuPWVbYV07aWYobil7dmFyIHM9bi50aW1lc2NhbGV8fDllNDttZSh0LFsidGZkdCJdKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLGk9cipzO2lmKGkpe3ZhciBhPWZlKGUsNCk7aWYoMD09PXQpYS09aSxnZShlLDQsYT1NYXRoLm1heChhLDApKTtlbHNle2EqPU1hdGgucG93KDIsMzIpLGErPWZlKGUsOCksYS09aSxhPU1hdGgubWF4KGEsMCk7dmFyIG49TWF0aC5mbG9vcihhLyhvZSsxKSksbz1NYXRoLmZsb29yKGElKG9lKzEpKTtnZShlLDQsbiksZ2UoZSw4LG8pfX19KSl9fSkpfSkpfShjLGgsbC5iYXNlVGltZS9sLnRpbWVzY2FsZSksdj4wP3RoaXMubGFzdEVuZFRpbWU9RTooRC53YXJuKCJEdXJhdGlvbiBwYXJzZWQgZnJvbSBtcDQgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIiksdGhpcy5yZXNldE5leHRUaW1lc3RhbXAoKSk7dmFyIFQ9ISFjLmF1ZGlvLFM9ISFjLnZpZGVvLEw9IiI7VCYmKEwrPSJhdWRpbyIpLFMmJihMKz0idmlkZW8iKTt2YXIgUj17ZGF0YTE6aCxzdGFydFBUUzp5LHN0YXJ0RFRTOnksZW5kUFRTOkUsZW5kRFRTOkUsdHlwZTpMLGhhc0F1ZGlvOlQsaGFzVmlkZW86UyxuYjoxLGRyb3BwZWQ6MH07cmV0dXJuIGQuYXVkaW89ImF1ZGlvIj09PVIudHlwZT9SOnZvaWQgMCxkLnZpZGVvPSJhdWRpbyIhPT1SLnR5cGU/Ujp2b2lkIDAsZC5pbml0U2VnbWVudD1mLGQuaWQzPW5hKHIsYSxsLGwpLGkuc2FtcGxlcy5sZW5ndGgmJihkLnRleHQ9c2EoaSxhLGwpKSxkfSxlfSgpO2Z1bmN0aW9uIHVhKGUsdCl7dmFyIHI9bnVsbD09ZT92b2lkIDA6ZS5jb2RlYztpZihyJiZyLmxlbmd0aD40KXJldHVybiByO2lmKHQ9PT1GKXtpZigiZWMtMyI9PT1yfHwiYWMtMyI9PT1yfHwiYWxhYyI9PT1yKXJldHVybiByO2lmKCJmTGFDIj09PXJ8fCJPcHVzIj09PXIpcmV0dXJuIEdlKHIsITEpO3ZhciBpPSJtcDRhLjQwLjUiO3JldHVybiBELmluZm8oJ1BhcnNlZCBhdWRpbyBjb2RlYyAiJytyKyciIG9yIGF1ZGlvIG9iamVjdCB0eXBlIG5vdCBoYW5kbGVkLiBVc2luZyAiJytpKyciJyksaX1yZXR1cm4gRC53YXJuKCdVbmhhbmRsZWQgdmlkZW8gY29kZWMgIicrcisnIicpLCJodmMxIj09PXJ8fCJoZXYxIj09PXI/Imh2YzEuMS42LkwxMjAuOTAiOiJhdjAxIj09PXI/ImF2MDEuMC4wNE0uMDgiOiJhdmMxLjQyZTAxZSJ9dmFyIGRhLGhhPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnZvaWQgMDt0cnl7ZGE9c2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKX1jYXRjaChlKXtELmRlYnVnKCJVbmFibGUgdG8gdXNlIFBlcmZvcm1hbmNlIEFQSSBvbiB0aGlzIGVudmlyb25tZW50IiksZGE9bnVsbD09aGE/dm9pZCAwOmhhLkRhdGUubm93fXZhciBmYT1be2RlbXV4Ok5pLHJlbXV4OmxhfSx7ZGVtdXg6S2kscmVtdXg6aWF9LHtkZW11eDpPaSxyZW11eDppYX0se2RlbXV4OlFpLHJlbXV4OmlhfV0sY2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksYSl7dGhpcy5hc3luYz0hMSx0aGlzLm9ic2VydmVyPXZvaWQgMCx0aGlzLnR5cGVTdXBwb3J0ZWQ9dm9pZCAwLHRoaXMuY29uZmlnPXZvaWQgMCx0aGlzLnZlbmRvcj12b2lkIDAsdGhpcy5pZD12b2lkIDAsdGhpcy5kZW11eGVyPXZvaWQgMCx0aGlzLnJlbXV4ZXI9dm9pZCAwLHRoaXMuZGVjcnlwdGVyPXZvaWQgMCx0aGlzLnByb2JlPXZvaWQgMCx0aGlzLmRlY3J5cHRpb25Qcm9taXNlPW51bGwsdGhpcy50cmFuc211eENvbmZpZz12b2lkIDAsdGhpcy5jdXJyZW50VHJhbnNtdXhTdGF0ZT12b2lkIDAsdGhpcy5vYnNlcnZlcj1lLHRoaXMudHlwZVN1cHBvcnRlZD10LHRoaXMuY29uZmlnPXIsdGhpcy52ZW5kb3I9aSx0aGlzLmlkPWF9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY29uZmlndXJlPWZ1bmN0aW9uKGUpe3RoaXMudHJhbnNtdXhDb25maWc9ZSx0aGlzLmRlY3J5cHRlciYmdGhpcy5kZWNyeXB0ZXIucmVzZXQoKX0sdC5wdXNoPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhPXRoaXMsbj1yLnRyYW5zbXV4aW5nO24uZXhlY3V0ZVN0YXJ0PWRhKCk7dmFyIHM9bmV3IFVpbnQ4QXJyYXkoZSksbz10aGlzLmN1cnJlbnRUcmFuc211eFN0YXRlLGw9dGhpcy50cmFuc211eENvbmZpZztpJiYodGhpcy5jdXJyZW50VHJhbnNtdXhTdGF0ZT1pKTt2YXIgdT1pfHxvLGQ9dS5jb250aWd1b3VzLGg9dS5kaXNjb250aW51aXR5LGY9dS50cmFja1N3aXRjaCxjPXUuYWNjdXJhdGVUaW1lT2Zmc2V0LHY9dS50aW1lT2Zmc2V0LGc9dS5pbml0U2VnbWVudENoYW5nZSxtPWwuYXVkaW9Db2RlYyxwPWwudmlkZW9Db2RlYyx5PWwuZGVmYXVsdEluaXRQdHMsTD1sLmR1cmF0aW9uLFI9bC5pbml0U2VnbWVudERhdGEsQT1mdW5jdGlvbihlLHQpe3ZhciByPW51bGw7cmV0dXJuIGUuYnl0ZUxlbmd0aD4wJiZudWxsIT0obnVsbD09dD92b2lkIDA6dC5rZXkpJiZudWxsIT09dC5pdiYmbnVsbCE9dC5tZXRob2QmJihyPXQpLHJ9KHMsdCk7aWYoQSYmIkFFUy0xMjgiPT09QS5tZXRob2Qpe3ZhciBiPXRoaXMuZ2V0RGVjcnlwdGVyKCk7aWYoIWIuaXNTeW5jKCkpcmV0dXJuIHRoaXMuZGVjcnlwdGlvblByb21pc2U9Yi53ZWJDcnlwdG9EZWNyeXB0KHMsQS5rZXkuYnVmZmVyLEEuaXYuYnVmZmVyKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1hLnB1c2goZSxudWxsLHIpO3JldHVybiBhLmRlY3J5cHRpb25Qcm9taXNlPW51bGwsdH0pKSx0aGlzLmRlY3J5cHRpb25Qcm9taXNlO3ZhciBrPWIuc29mdHdhcmVEZWNyeXB0KHMsQS5rZXkuYnVmZmVyLEEuaXYuYnVmZmVyKTtpZihyLnBhcnQ+LTEmJihrPWIuZmx1c2goKSksIWspcmV0dXJuIG4uZXhlY3V0ZUVuZD1kYSgpLHZhKHIpO3M9bmV3IFVpbnQ4QXJyYXkoayl9dmFyIF89dGhpcy5uZWVkc1Byb2JpbmcoaCxmKTtpZihfKXt2YXIgeD10aGlzLmNvbmZpZ3VyZVRyYW5zbXV4ZXIocyk7aWYoeClyZXR1cm4gRC53YXJuKCJbdHJhbnNtdXhlcl0gIit4Lm1lc3NhZ2UpLHRoaXMub2JzZXJ2ZXIuZW1pdChFLkVSUk9SLEUuRVJST1Ise3R5cGU6VC5NRURJQV9FUlJPUixkZXRhaWxzOlMuRlJBR19QQVJTSU5HX0VSUk9SLGZhdGFsOiExLGVycm9yOngscmVhc29uOngubWVzc2FnZX0pLG4uZXhlY3V0ZUVuZD1kYSgpLHZhKHIpfShofHxmfHxnfHxfKSYmdGhpcy5yZXNldEluaXRTZWdtZW50KFIsbSxwLEwsdCksKGh8fGd8fF8pJiZ0aGlzLnJlc2V0SW5pdGlhbFRpbWVzdGFtcCh5KSxkfHx0aGlzLnJlc2V0Q29udGlndWl0eSgpO3ZhciB3PXRoaXMudHJhbnNtdXgocyxBLHYsYyxyKSxDPXRoaXMuY3VycmVudFRyYW5zbXV4U3RhdGU7cmV0dXJuIEMuY29udGlndW91cz0hMCxDLmRpc2NvbnRpbnVpdHk9ITEsQy50cmFja1N3aXRjaD0hMSxuLmV4ZWN1dGVFbmQ9ZGEoKSx3fSx0LmZsdXNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYW5zbXV4aW5nO3IuZXhlY3V0ZVN0YXJ0PWRhKCk7dmFyIGk9dGhpcy5kZWNyeXB0ZXIsYT10aGlzLmN1cnJlbnRUcmFuc211eFN0YXRlLG49dGhpcy5kZWNyeXB0aW9uUHJvbWlzZTtpZihuKXJldHVybiBuLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZmx1c2goZSl9KSk7dmFyIHM9W10sbz1hLnRpbWVPZmZzZXQ7aWYoaSl7dmFyIGw9aS5mbHVzaCgpO2wmJnMucHVzaCh0aGlzLnB1c2gobCxudWxsLGUpKX12YXIgdT10aGlzLmRlbXV4ZXIsZD10aGlzLnJlbXV4ZXI7aWYoIXV8fCFkKXJldHVybiByLmV4ZWN1dGVFbmQ9ZGEoKSxbdmEoZSldO3ZhciBoPXUuZmx1c2gobyk7cmV0dXJuIGdhKGgpP2gudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHQuZmx1c2hSZW11eChzLHIsZSksc30pKToodGhpcy5mbHVzaFJlbXV4KHMsaCxlKSxzKX0sdC5mbHVzaFJlbXV4PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10LmF1ZGlvVHJhY2ssYT10LnZpZGVvVHJhY2ssbj10LmlkM1RyYWNrLHM9dC50ZXh0VHJhY2ssbz10aGlzLmN1cnJlbnRUcmFuc211eFN0YXRlLGw9by5hY2N1cmF0ZVRpbWVPZmZzZXQsdT1vLnRpbWVPZmZzZXQ7RC5sb2coIlt0cmFuc211eGVyLnRzXTogRmx1c2hlZCBmcmFnbWVudCAiK3Iuc24rKHIucGFydD4tMT8iIHA6ICIrci5wYXJ0OiIiKSsiIG9mIGxldmVsICIrci5sZXZlbCk7dmFyIGQ9dGhpcy5yZW11eGVyLnJlbXV4KGksYSxuLHMsdSxsLCEwLHRoaXMuaWQpO2UucHVzaCh7cmVtdXhSZXN1bHQ6ZCxjaHVua01ldGE6cn0pLHIudHJhbnNtdXhpbmcuZXhlY3V0ZUVuZD1kYSgpfSx0LnJlc2V0SW5pdGlhbFRpbWVzdGFtcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRlbXV4ZXIscj10aGlzLnJlbXV4ZXI7dCYmciYmKHQucmVzZXRUaW1lU3RhbXAoZSksci5yZXNldFRpbWVTdGFtcChlKSl9LHQucmVzZXRDb250aWd1aXR5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZW11eGVyLHQ9dGhpcy5yZW11eGVyO2UmJnQmJihlLnJlc2V0Q29udGlndWl0eSgpLHQucmVzZXROZXh0VGltZXN0YW1wKCkpfSx0LnJlc2V0SW5pdFNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIsaSxhKXt2YXIgbj10aGlzLmRlbXV4ZXIscz10aGlzLnJlbXV4ZXI7biYmcyYmKG4ucmVzZXRJbml0U2VnbWVudChlLHQscixpKSxzLnJlc2V0SW5pdFNlZ21lbnQoZSx0LHIsYSkpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlbXV4ZXImJih0aGlzLmRlbXV4ZXIuZGVzdHJveSgpLHRoaXMuZGVtdXhlcj12b2lkIDApLHRoaXMucmVtdXhlciYmKHRoaXMucmVtdXhlci5kZXN0cm95KCksdGhpcy5yZW11eGVyPXZvaWQgMCl9LHQudHJhbnNtdXg9ZnVuY3Rpb24oZSx0LHIsaSxhKXtyZXR1cm4gdCYmIlNBTVBMRS1BRVMiPT09dC5tZXRob2Q/dGhpcy50cmFuc211eFNhbXBsZUFlcyhlLHQscixpLGEpOnRoaXMudHJhbnNtdXhVbmVuY3J5cHRlZChlLHIsaSxhKX0sdC50cmFuc211eFVuZW5jcnlwdGVkPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhPXRoaXMuZGVtdXhlci5kZW11eChlLHQsITEsIXRoaXMuY29uZmlnLnByb2dyZXNzaXZlKSxuPWEuYXVkaW9UcmFjayxzPWEudmlkZW9UcmFjayxvPWEuaWQzVHJhY2ssbD1hLnRleHRUcmFjaztyZXR1cm57cmVtdXhSZXN1bHQ6dGhpcy5yZW11eGVyLnJlbXV4KG4scyxvLGwsdCxyLCExLHRoaXMuaWQpLGNodW5rTWV0YTppfX0sdC50cmFuc211eFNhbXBsZUFlcz1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuZGVtdXhlci5kZW11eFNhbXBsZUFlcyhlLHQscikudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJue3JlbXV4UmVzdWx0Om4ucmVtdXhlci5yZW11eChlLmF1ZGlvVHJhY2ssZS52aWRlb1RyYWNrLGUuaWQzVHJhY2ssZS50ZXh0VHJhY2sscixpLCExLG4uaWQpLGNodW5rTWV0YTphfX0pKX0sdC5jb25maWd1cmVUcmFuc211eGVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXRoaXMuY29uZmlnLGk9dGhpcy5vYnNlcnZlcixhPXRoaXMudHlwZVN1cHBvcnRlZCxuPXRoaXMudmVuZG9yLHM9MCxvPWZhLmxlbmd0aDtzPG87cysrKXt2YXIgbDtpZihudWxsIT0obD1mYVtzXS5kZW11eCkmJmwucHJvYmUoZSkpe3Q9ZmFbc107YnJlYWt9fWlmKCF0KXJldHVybiBuZXcgRXJyb3IoIkZhaWxlZCB0byBmaW5kIGRlbXV4ZXIgYnkgcHJvYmluZyBmcmFnbWVudCBkYXRhIik7dmFyIHU9dGhpcy5kZW11eGVyLGQ9dGhpcy5yZW11eGVyLGg9dC5yZW11eCxmPXQuZGVtdXg7ZCYmZCBpbnN0YW5jZW9mIGh8fCh0aGlzLnJlbXV4ZXI9bmV3IGgoaSxyLGEsbikpLHUmJnUgaW5zdGFuY2VvZiBmfHwodGhpcy5kZW11eGVyPW5ldyBmKGkscixhKSx0aGlzLnByb2JlPWYucHJvYmUpfSx0Lm5lZWRzUHJvYmluZz1mdW5jdGlvbihlLHQpe3JldHVybiF0aGlzLmRlbXV4ZXJ8fCF0aGlzLnJlbXV4ZXJ8fGV8fHR9LHQuZ2V0RGVjcnlwdGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZWNyeXB0ZXI7cmV0dXJuIGV8fChlPXRoaXMuZGVjcnlwdGVyPW5ldyBacih0aGlzLmNvbmZpZykpLGV9LGV9KCksdmE9ZnVuY3Rpb24oZSl7cmV0dXJue3JlbXV4UmVzdWx0Ont9LGNodW5rTWV0YTplfX07ZnVuY3Rpb24gZ2EoZSl7cmV0dXJuInRoZW4iaW4gZSYmZS50aGVuIGluc3RhbmNlb2YgRnVuY3Rpb259dmFyIG1hPWZ1bmN0aW9uKGUsdCxyLGksYSl7dGhpcy5hdWRpb0NvZGVjPXZvaWQgMCx0aGlzLnZpZGVvQ29kZWM9dm9pZCAwLHRoaXMuaW5pdFNlZ21lbnREYXRhPXZvaWQgMCx0aGlzLmR1cmF0aW9uPXZvaWQgMCx0aGlzLmRlZmF1bHRJbml0UHRzPXZvaWQgMCx0aGlzLmF1ZGlvQ29kZWM9ZSx0aGlzLnZpZGVvQ29kZWM9dCx0aGlzLmluaXRTZWdtZW50RGF0YT1yLHRoaXMuZHVyYXRpb249aSx0aGlzLmRlZmF1bHRJbml0UHRzPWF8fG51bGx9LHBhPWZ1bmN0aW9uKGUsdCxyLGksYSxuKXt0aGlzLmRpc2NvbnRpbnVpdHk9dm9pZCAwLHRoaXMuY29udGlndW91cz12b2lkIDAsdGhpcy5hY2N1cmF0ZVRpbWVPZmZzZXQ9dm9pZCAwLHRoaXMudHJhY2tTd2l0Y2g9dm9pZCAwLHRoaXMudGltZU9mZnNldD12b2lkIDAsdGhpcy5pbml0U2VnbWVudENoYW5nZT12b2lkIDAsdGhpcy5kaXNjb250aW51aXR5PWUsdGhpcy5jb250aWd1b3VzPXQsdGhpcy5hY2N1cmF0ZVRpbWVPZmZzZXQ9cix0aGlzLnRyYWNrU3dpdGNoPWksdGhpcy50aW1lT2Zmc2V0PWEsdGhpcy5pbml0U2VnbWVudENoYW5nZT1ufSx5YT17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscj0ifiI7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBhKGUsdCxyKXt0aGlzLmZuPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5vbmNlPXJ8fCExfWZ1bmN0aW9uIG4oZSx0LGksbixzKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIG89bmV3IGEoaSxufHxlLHMpLGw9cj9yK3Q6dDtyZXR1cm4gZS5fZXZlbnRzW2xdP2UuX2V2ZW50c1tsXS5mbj9lLl9ldmVudHNbbF09W2UuX2V2ZW50c1tsXSxvXTplLl9ldmVudHNbbF0ucHVzaChvKTooZS5fZXZlbnRzW2xdPW8sZS5fZXZlbnRzQ291bnQrKyksZX1mdW5jdGlvbiBzKGUsdCl7MD09LS1lLl9ldmVudHNDb3VudD9lLl9ldmVudHM9bmV3IGk6ZGVsZXRlIGUuX2V2ZW50c1t0XX1mdW5jdGlvbiBvKCl7dGhpcy5fZXZlbnRzPW5ldyBpLHRoaXMuX2V2ZW50c0NvdW50PTB9T2JqZWN0LmNyZWF0ZSYmKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCksKG5ldyBpKS5fX3Byb3RvX198fChyPSExKSksby5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3ZhciBlLGksYT1bXTtpZigwPT09dGhpcy5fZXZlbnRzQ291bnQpcmV0dXJuIGE7Zm9yKGkgaW4gZT10aGlzLl9ldmVudHMpdC5jYWxsKGUsaSkmJmEucHVzaChyP2kuc2xpY2UoMSk6aSk7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/YS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSk6YX0sby5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PXI/citlOmUsaT10aGlzLl9ldmVudHNbdF07aWYoIWkpcmV0dXJuW107aWYoaS5mbilyZXR1cm5baS5mbl07Zm9yKHZhciBhPTAsbj1pLmxlbmd0aCxzPW5ldyBBcnJheShuKTthPG47YSsrKXNbYV09aVthXS5mbjtyZXR1cm4gc30sby5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlKXt2YXIgdD1yP3IrZTplLGk9dGhpcy5fZXZlbnRzW3RdO3JldHVybiBpP2kuZm4/MTppLmxlbmd0aDowfSxvLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUsdCxpLGEsbixzKXt2YXIgbz1yP3IrZTplO2lmKCF0aGlzLl9ldmVudHNbb10pcmV0dXJuITE7dmFyIGwsdSxkPXRoaXMuX2V2ZW50c1tvXSxoPWFyZ3VtZW50cy5sZW5ndGg7aWYoZC5mbil7c3dpdGNoKGQub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLGQuZm4sdm9pZCAwLCEwKSxoKXtjYXNlIDE6cmV0dXJuIGQuZm4uY2FsbChkLmNvbnRleHQpLCEwO2Nhc2UgMjpyZXR1cm4gZC5mbi5jYWxsKGQuY29udGV4dCx0KSwhMDtjYXNlIDM6cmV0dXJuIGQuZm4uY2FsbChkLmNvbnRleHQsdCxpKSwhMDtjYXNlIDQ6cmV0dXJuIGQuZm4uY2FsbChkLmNvbnRleHQsdCxpLGEpLCEwO2Nhc2UgNTpyZXR1cm4gZC5mbi5jYWxsKGQuY29udGV4dCx0LGksYSxuKSwhMDtjYXNlIDY6cmV0dXJuIGQuZm4uY2FsbChkLmNvbnRleHQsdCxpLGEsbixzKSwhMH1mb3IodT0xLGw9bmV3IEFycmF5KGgtMSk7dTxoO3UrKylsW3UtMV09YXJndW1lbnRzW3VdO2QuZm4uYXBwbHkoZC5jb250ZXh0LGwpfWVsc2V7dmFyIGYsYz1kLmxlbmd0aDtmb3IodT0wO3U8Yzt1Kyspc3dpdGNoKGRbdV0ub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLGRbdV0uZm4sdm9pZCAwLCEwKSxoKXtjYXNlIDE6ZFt1XS5mbi5jYWxsKGRbdV0uY29udGV4dCk7YnJlYWs7Y2FzZSAyOmRbdV0uZm4uY2FsbChkW3VdLmNvbnRleHQsdCk7YnJlYWs7Y2FzZSAzOmRbdV0uZm4uY2FsbChkW3VdLmNvbnRleHQsdCxpKTticmVhaztjYXNlIDQ6ZFt1XS5mbi5jYWxsKGRbdV0uY29udGV4dCx0LGksYSk7YnJlYWs7ZGVmYXVsdDppZighbClmb3IoZj0xLGw9bmV3IEFycmF5KGgtMSk7ZjxoO2YrKylsW2YtMV09YXJndW1lbnRzW2ZdO2RbdV0uZm4uYXBwbHkoZFt1XS5jb250ZXh0LGwpfX1yZXR1cm4hMH0sby5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuKHRoaXMsZSx0LHIsITEpfSxvLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbih0aGlzLGUsdCxyLCEwKX0sby5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LGksYSl7dmFyIG49cj9yK2U6ZTtpZighdGhpcy5fZXZlbnRzW25dKXJldHVybiB0aGlzO2lmKCF0KXJldHVybiBzKHRoaXMsbiksdGhpczt2YXIgbz10aGlzLl9ldmVudHNbbl07aWYoby5mbilvLmZuIT09dHx8YSYmIW8ub25jZXx8aSYmby5jb250ZXh0IT09aXx8cyh0aGlzLG4pO2Vsc2V7Zm9yKHZhciBsPTAsdT1bXSxkPW8ubGVuZ3RoO2w8ZDtsKyspKG9bbF0uZm4hPT10fHxhJiYhb1tsXS5vbmNlfHxpJiZvW2xdLmNvbnRleHQhPT1pKSYmdS5wdXNoKG9bbF0pO3UubGVuZ3RoP3RoaXMuX2V2ZW50c1tuXT0xPT09dS5sZW5ndGg/dVswXTp1OnModGhpcyxuKX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlPyh0PXI/citlOmUsdGhpcy5fZXZlbnRzW3RdJiZzKHRoaXMsdCkpOih0aGlzLl9ldmVudHM9bmV3IGksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpc30sby5wcm90b3R5cGUub2ZmPW8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLG8ucHJvdG90eXBlLmFkZExpc3RlbmVyPW8ucHJvdG90eXBlLm9uLG8ucHJlZml4ZWQ9cixvLkV2ZW50RW1pdHRlcj1vLGUuZXhwb3J0cz1vfSh5YSk7dmFyIEVhPWMoeWEuZXhwb3J0cyk7ZnVuY3Rpb24gVGEoZSx0KXtpZighKChyPXQucmVtdXhSZXN1bHQpLmF1ZGlvfHxyLnZpZGVvfHxyLnRleHR8fHIuaWQzfHxyLmluaXRTZWdtZW50KSlyZXR1cm4hMTt2YXIgcixpPVtdLGE9dC5yZW11eFJlc3VsdCxuPWEuYXVkaW8scz1hLnZpZGVvO3JldHVybiBuJiZTYShpLG4pLHMmJlNhKGkscyksZS5wb3N0TWVzc2FnZSh7ZXZlbnQ6InRyYW5zbXV4Q29tcGxldGUiLGRhdGE6dH0saSksITB9ZnVuY3Rpb24gU2EoZSx0KXt0LmRhdGExJiZlLnB1c2godC5kYXRhMS5idWZmZXIpLHQuZGF0YTImJmUucHVzaCh0LmRhdGEyLmJ1ZmZlcil9ZnVuY3Rpb24gTGEoZSx0LHIpe3QucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiBUYShlLHIpfHx0fSksITEpfHxlLnBvc3RNZXNzYWdlKHtldmVudDoidHJhbnNtdXhDb21wbGV0ZSIsZGF0YTp0WzBdfSksZS5wb3N0TWVzc2FnZSh7ZXZlbnQ6ImZsdXNoIixkYXRhOnJ9KX12b2lkIDAhPT10JiZ0JiZmdW5jdGlvbihlKXt2YXIgdD1uZXcgRWEscj1mdW5jdGlvbih0LHIpe2UucG9zdE1lc3NhZ2Uoe2V2ZW50OnQsZGF0YTpyfSl9O3Qub24oRS5GUkFHX0RFQ1JZUFRFRCxyKSx0Lm9uKEUuRVJST1Iscik7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyKCJ3b3JrZXJMb2ciLHtsb2dUeXBlOmUsbWVzc2FnZTp0fSl9O0RbZV09dH07Zm9yKHZhciB0IGluIEQpZSh0KX07ZS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIG49YS5kYXRhO3N3aXRjaChuLmNtZCl7Y2FzZSJpbml0Ijp2YXIgcz1KU09OLnBhcnNlKG4uY29uZmlnKTtlLnRyYW5zbXV4ZXI9bmV3IGNhKHQsbi50eXBlU3VwcG9ydGVkLHMsIiIsbi5pZCksayhzLmRlYnVnLG4uaWQpLGkoKSxyKCJpbml0IixudWxsKTticmVhaztjYXNlImNvbmZpZ3VyZSI6ZS50cmFuc211eGVyLmNvbmZpZ3VyZShuLmNvbmZpZyk7YnJlYWs7Y2FzZSJkZW11eCI6dmFyIG89ZS50cmFuc211eGVyLnB1c2gobi5kYXRhLG4uZGVjcnlwdGRhdGEsbi5jaHVua01ldGEsbi5zdGF0ZSk7Z2Eobyk/KGUudHJhbnNtdXhlci5hc3luYz0hMCxvLnRoZW4oKGZ1bmN0aW9uKHQpe1RhKGUsdCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoRS5FUlJPUix7dHlwZTpULk1FRElBX0VSUk9SLGRldGFpbHM6Uy5GUkFHX1BBUlNJTkdfRVJST1IsY2h1bmtNZXRhOm4uY2h1bmtNZXRhLGZhdGFsOiExLGVycm9yOmUsZXJyOmUscmVhc29uOiJ0cmFuc211eGVyLXdvcmtlciBwdXNoIGVycm9yIn0pfSkpKTooZS50cmFuc211eGVyLmFzeW5jPSExLFRhKGUsbykpO2JyZWFrO2Nhc2UiZmx1c2giOnZhciBsPW4uY2h1bmtNZXRhLHU9ZS50cmFuc211eGVyLmZsdXNoKGwpO2dhKHUpfHxlLnRyYW5zbXV4ZXIuYXN5bmM/KGdhKHUpfHwodT1Qcm9taXNlLnJlc29sdmUodSkpLHUudGhlbigoZnVuY3Rpb24odCl7TGEoZSx0LGwpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKEUuRVJST1Ise3R5cGU6VC5NRURJQV9FUlJPUixkZXRhaWxzOlMuRlJBR19QQVJTSU5HX0VSUk9SLGNodW5rTWV0YTpuLmNodW5rTWV0YSxmYXRhbDohMSxlcnJvcjplLGVycjplLHJlYXNvbjoidHJhbnNtdXhlci13b3JrZXIgZmx1c2ggZXJyb3IifSl9KSkpOkxhKGUsdSxsKX19KSl9KHNlbGYpO3ZhciBSYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxyLGksYSl7dmFyIG49dGhpczt0aGlzLmVycm9yPW51bGwsdGhpcy5obHM9dm9pZCAwLHRoaXMuaWQ9dm9pZCAwLHRoaXMub2JzZXJ2ZXI9dm9pZCAwLHRoaXMuZnJhZz1udWxsLHRoaXMucGFydD1udWxsLHRoaXMudXNlV29ya2VyPXZvaWQgMCx0aGlzLndvcmtlckNvbnRleHQ9bnVsbCx0aGlzLm9ud21zZz12b2lkIDAsdGhpcy50cmFuc211eGVyPW51bGwsdGhpcy5vblRyYW5zbXV4Q29tcGxldGU9dm9pZCAwLHRoaXMub25GbHVzaD12b2lkIDA7dmFyIHM9dC5jb25maWc7dGhpcy5obHM9dCx0aGlzLmlkPXIsdGhpcy51c2VXb3JrZXI9ISFzLmVuYWJsZVdvcmtlcix0aGlzLm9uVHJhbnNtdXhDb21wbGV0ZT1pLHRoaXMub25GbHVzaD1hO3ZhciBvPWZ1bmN0aW9uKGUsdCl7KHQ9dHx8e30pLmZyYWc9bi5mcmFnLHQuaWQ9bi5pZCxlPT09RS5FUlJPUiYmKG4uZXJyb3I9dC5lcnJvciksbi5obHMudHJpZ2dlcihlLHQpfTt0aGlzLm9ic2VydmVyPW5ldyBFYSx0aGlzLm9ic2VydmVyLm9uKEUuRlJBR19ERUNSWVBURUQsbyksdGhpcy5vYnNlcnZlci5vbihFLkVSUk9SLG8pO3ZhciBsLHUsZCxoLGY9Q2Uocy5wcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UpfHx7aXNUeXBlU3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSxjPXttcGVnOmYuaXNUeXBlU3VwcG9ydGVkKCJhdWRpby9tcGVnIiksbXAzOmYuaXNUeXBlU3VwcG9ydGVkKCdhdWRpby9tcDQ7IGNvZGVjcz0ibXAzIicpLGFjMzohMX07aWYoIXRoaXMudXNlV29ya2VyfHwidW5kZWZpbmVkIj09dHlwZW9mIFdvcmtlcnx8KHMud29ya2VyUGF0aCwwKSl0aGlzLnRyYW5zbXV4ZXI9bmV3IGNhKHRoaXMub2JzZXJ2ZXIsYyxzLCIiLHIpO2Vsc2UgdHJ5e3Mud29ya2VyUGF0aD8oRC5sb2coImxvYWRpbmcgV2ViIFdvcmtlciAiK3Mud29ya2VyUGF0aCsnIGZvciAiJytyKyciJyksdGhpcy53b3JrZXJDb250ZXh0PShkPXMud29ya2VyUGF0aCxoPW5ldyBzZWxmLlVSTChkLHNlbGYubG9jYXRpb24uaHJlZikuaHJlZix7d29ya2VyOm5ldyBzZWxmLldvcmtlcihoKSxzY3JpcHRVUkw6aH0pKTooRC5sb2coJ2luamVjdGluZyBXZWIgV29ya2VyIGZvciAiJytyKyciJyksdGhpcy53b3JrZXJDb250ZXh0PShsPW5ldyBzZWxmLkJsb2IoWyJ2YXIgZXhwb3J0cz17fTt2YXIgbW9kdWxlPXtleHBvcnRzOmV4cG9ydHN9O2Z1bmN0aW9uIGRlZmluZShmKXtmKCl9O2RlZmluZS5hbWQ9dHJ1ZTsoIitlLnRvU3RyaW5nKCkrIikodHJ1ZSk7Il0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KSx1PXNlbGYuVVJMLmNyZWF0ZU9iamVjdFVSTChsKSx7d29ya2VyOm5ldyBzZWxmLldvcmtlcih1KSxvYmplY3RVUkw6dX0pKSx0aGlzLm9ud21zZz1mdW5jdGlvbihlKXtyZXR1cm4gbi5vbldvcmtlck1lc3NhZ2UoZSl9O3ZhciB2PXRoaXMud29ya2VyQ29udGV4dC53b3JrZXI7di5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLm9ud21zZyksdi5vbmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBFcnJvcihlLm1lc3NhZ2UrIiAgKCIrZS5maWxlbmFtZSsiOiIrZS5saW5lbm8rIikiKTtzLmVuYWJsZVdvcmtlcj0hMSxELndhcm4oJ0Vycm9yIGluICInK3IrJyIgV2ViIFdvcmtlciwgZmFsbGJhY2sgdG8gaW5saW5lJyksbi5obHMudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuT1RIRVJfRVJST1IsZGV0YWlsczpTLklOVEVSTkFMX0VYQ0VQVElPTixmYXRhbDohMSxldmVudDoiZGVtdXhlcldvcmtlciIsZXJyb3I6dH0pfSx2LnBvc3RNZXNzYWdlKHtjbWQ6ImluaXQiLHR5cGVTdXBwb3J0ZWQ6Yyx2ZW5kb3I6IiIsaWQ6cixjb25maWc6SlNPTi5zdHJpbmdpZnkocyl9KX1jYXRjaChlKXtELndhcm4oJ0Vycm9yIHNldHRpbmcgdXAgIicrcisnIiBXZWIgV29ya2VyLCBmYWxsYmFjayB0byBpbmxpbmUnLGUpLHRoaXMucmVzZXRXb3JrZXIoKSx0aGlzLmVycm9yPW51bGwsdGhpcy50cmFuc211eGVyPW5ldyBjYSh0aGlzLm9ic2VydmVyLGMscywiIixyKX19dmFyIHI9dC5wcm90b3R5cGU7cmV0dXJuIHIucmVzZXRXb3JrZXI9ZnVuY3Rpb24oKXtpZih0aGlzLndvcmtlckNvbnRleHQpe3ZhciBlPXRoaXMud29ya2VyQ29udGV4dCx0PWUud29ya2VyLHI9ZS5vYmplY3RVUkw7ciYmc2VsZi5VUkwucmV2b2tlT2JqZWN0VVJMKHIpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5vbndtc2cpLHQub25lcnJvcj1udWxsLHQudGVybWluYXRlKCksdGhpcy53b3JrZXJDb250ZXh0PW51bGx9fSxyLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpZih0aGlzLndvcmtlckNvbnRleHQpdGhpcy5yZXNldFdvcmtlcigpLHRoaXMub253bXNnPXZvaWQgMDtlbHNle3ZhciBlPXRoaXMudHJhbnNtdXhlcjtlJiYoZS5kZXN0cm95KCksdGhpcy50cmFuc211eGVyPW51bGwpfXZhciB0PXRoaXMub2JzZXJ2ZXI7dCYmdC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLmZyYWc9bnVsbCx0aGlzLm9ic2VydmVyPW51bGwsdGhpcy5obHM9bnVsbH0sci5wdXNoPWZ1bmN0aW9uKGUsdCxyLGksYSxuLHMsbyxsLHUpe3ZhciBkLGgsZj10aGlzO2wudHJhbnNtdXhpbmcuc3RhcnQ9c2VsZi5wZXJmb3JtYW5jZS5ub3coKTt2YXIgYz10aGlzLnRyYW5zbXV4ZXIsdj1uP24uc3RhcnQ6YS5zdGFydCxnPWEuZGVjcnlwdGRhdGEsbT10aGlzLmZyYWcscD0hKG0mJmEuY2M9PT1tLmNjKSx5PSEobSYmbC5sZXZlbD09PW0ubGV2ZWwpLEU9bT9sLnNuLW0uc246LTEsVD10aGlzLnBhcnQ/bC5wYXJ0LXRoaXMucGFydC5pbmRleDotMSxTPTA9PT1FJiZsLmlkPjEmJmwuaWQ9PT0obnVsbD09bT92b2lkIDA6bS5zdGF0cy5jaHVua0NvdW50KSxMPSF5JiYoMT09PUV8fDA9PT1FJiYoMT09PVR8fFMmJlQ8PTApKSxSPXNlbGYucGVyZm9ybWFuY2Uubm93KCk7KHl8fEV8fDA9PT1hLnN0YXRzLnBhcnNpbmcuc3RhcnQpJiYoYS5zdGF0cy5wYXJzaW5nLnN0YXJ0PVIpLCFufHwhVCYmTHx8KG4uc3RhdHMucGFyc2luZy5zdGFydD1SKTt2YXIgQT0hKG0mJihudWxsPT0oZD1hLmluaXRTZWdtZW50KT92b2lkIDA6ZC51cmwpPT09KG51bGw9PShoPW0uaW5pdFNlZ21lbnQpP3ZvaWQgMDpoLnVybCkpLGI9bmV3IHBhKHAsTCxvLHksdixBKTtpZighTHx8cHx8QSl7RC5sb2coIlt0cmFuc211eGVyLWludGVyZmFjZSwgIithLnR5cGUrIl06IFN0YXJ0aW5nIG5ldyB0cmFuc211eCBzZXNzaW9uIGZvciBzbjogIitsLnNuKyIgcDogIitsLnBhcnQrIiBsZXZlbDogIitsLmxldmVsKyIgaWQ6ICIrbC5pZCsiXG4gICAgICAgIGRpc2NvbnRpbnVpdHk6ICIrcCsiXG4gICAgICAgIHRyYWNrU3dpdGNoOiAiK3krIlxuICAgICAgICBjb250aWd1b3VzOiAiK0wrIlxuICAgICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQ6ICIrbysiXG4gICAgICAgIHRpbWVPZmZzZXQ6ICIrdisiXG4gICAgICAgIGluaXRTZWdtZW50Q2hhbmdlOiAiK0EpO3ZhciBrPW5ldyBtYShyLGksdCxzLHUpO3RoaXMuY29uZmlndXJlVHJhbnNtdXhlcihrKX1pZih0aGlzLmZyYWc9YSx0aGlzLnBhcnQ9bix0aGlzLndvcmtlckNvbnRleHQpdGhpcy53b3JrZXJDb250ZXh0Lndvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiJkZW11eCIsZGF0YTplLGRlY3J5cHRkYXRhOmcsY2h1bmtNZXRhOmwsc3RhdGU6Yn0sZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP1tlXTpbXSk7ZWxzZSBpZihjKXt2YXIgXz1jLnB1c2goZSxnLGwsYik7Z2EoXyk/KGMuYXN5bmM9ITAsXy50aGVuKChmdW5jdGlvbihlKXtmLmhhbmRsZVRyYW5zbXV4Q29tcGxldGUoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YudHJhbnNtdXhlckVycm9yKGUsbCwidHJhbnNtdXhlci1pbnRlcmZhY2UgcHVzaCBlcnJvciIpfSkpKTooYy5hc3luYz0hMSx0aGlzLmhhbmRsZVRyYW5zbXV4Q29tcGxldGUoXykpfX0sci5mbHVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UudHJhbnNtdXhpbmcuc3RhcnQ9c2VsZi5wZXJmb3JtYW5jZS5ub3coKTt2YXIgcj10aGlzLnRyYW5zbXV4ZXI7aWYodGhpcy53b3JrZXJDb250ZXh0KXRoaXMud29ya2VyQ29udGV4dC53b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDoiZmx1c2giLGNodW5rTWV0YTplfSk7ZWxzZSBpZihyKXt2YXIgaT1yLmZsdXNoKGUpO2dhKGkpfHxyLmFzeW5jPyhnYShpKXx8KGk9UHJvbWlzZS5yZXNvbHZlKGkpKSxpLnRoZW4oKGZ1bmN0aW9uKHIpe3QuaGFuZGxlRmx1c2hSZXN1bHQocixlKX0pKS5jYXRjaCgoZnVuY3Rpb24ocil7dC50cmFuc211eGVyRXJyb3IocixlLCJ0cmFuc211eGVyLWludGVyZmFjZSBmbHVzaCBlcnJvciIpfSkpKTp0aGlzLmhhbmRsZUZsdXNoUmVzdWx0KGksZSl9fSxyLnRyYW5zbXV4ZXJFcnJvcj1mdW5jdGlvbihlLHQscil7dGhpcy5obHMmJih0aGlzLmVycm9yPWUsdGhpcy5obHMudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkZSQUdfUEFSU0lOR19FUlJPUixjaHVua01ldGE6dCxmcmFnOnRoaXMuZnJhZ3x8dm9pZCAwLGZhdGFsOiExLGVycm9yOmUsZXJyOmUscmVhc29uOnJ9KSl9LHIuaGFuZGxlRmx1c2hSZXN1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5oYW5kbGVUcmFuc211eENvbXBsZXRlKGUpfSkpLHRoaXMub25GbHVzaCh0KX0sci5vbldvcmtlck1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhO2lmKG51bGwhPXQmJnQuZXZlbnQpe3ZhciByPXRoaXMuaGxzO2lmKHRoaXMuaGxzKXN3aXRjaCh0LmV2ZW50KXtjYXNlImluaXQiOnZhciBpLGE9bnVsbD09KGk9dGhpcy53b3JrZXJDb250ZXh0KT92b2lkIDA6aS5vYmplY3RVUkw7YSYmc2VsZi5VUkwucmV2b2tlT2JqZWN0VVJMKGEpO2JyZWFrO2Nhc2UidHJhbnNtdXhDb21wbGV0ZSI6dGhpcy5oYW5kbGVUcmFuc211eENvbXBsZXRlKHQuZGF0YSk7YnJlYWs7Y2FzZSJmbHVzaCI6dGhpcy5vbkZsdXNoKHQuZGF0YSk7YnJlYWs7Y2FzZSJ3b3JrZXJMb2ciOkRbdC5kYXRhLmxvZ1R5cGVdJiZEW3QuZGF0YS5sb2dUeXBlXSh0LmRhdGEubWVzc2FnZSk7YnJlYWs7ZGVmYXVsdDp0LmRhdGE9dC5kYXRhfHx7fSx0LmRhdGEuZnJhZz10aGlzLmZyYWcsdC5kYXRhLmlkPXRoaXMuaWQsci50cmlnZ2VyKHQuZXZlbnQsdC5kYXRhKX19ZWxzZSBELndhcm4oIndvcmtlciBtZXNzYWdlIHJlY2VpdmVkIHdpdGggbm8gIisodD8iZXZlbnQgbmFtZSI6ImRhdGEiKSl9LHIuY29uZmlndXJlVHJhbnNtdXhlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zbXV4ZXI7dGhpcy53b3JrZXJDb250ZXh0P3RoaXMud29ya2VyQ29udGV4dC53b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDoiY29uZmlndXJlIixjb25maWc6ZX0pOnQmJnQuY29uZmlndXJlKGUpfSxyLmhhbmRsZVRyYW5zbXV4Q29tcGxldGU9ZnVuY3Rpb24oZSl7ZS5jaHVua01ldGEudHJhbnNtdXhpbmcuZW5kPXNlbGYucGVyZm9ybWFuY2Uubm93KCksdGhpcy5vblRyYW5zbXV4Q29tcGxldGUoZSl9LHR9KCksQWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMuY29uZmlnPXZvaWQgMCx0aGlzLm1lZGlhPW51bGwsdGhpcy5mcmFnbWVudFRyYWNrZXI9dm9pZCAwLHRoaXMuaGxzPXZvaWQgMCx0aGlzLm51ZGdlUmV0cnk9MCx0aGlzLnN0YWxsUmVwb3J0ZWQ9ITEsdGhpcy5zdGFsbGVkPW51bGwsdGhpcy5tb3ZlZD0hMSx0aGlzLnNlZWtpbmc9ITEsdGhpcy5jb25maWc9ZSx0aGlzLm1lZGlhPXQsdGhpcy5mcmFnbWVudFRyYWNrZXI9cix0aGlzLmhscz1pfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLm1lZGlhPW51bGwsdGhpcy5obHM9dGhpcy5mcmFnbWVudFRyYWNrZXI9bnVsbH0sdC5wb2xsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jb25maWcsaT10aGlzLm1lZGlhLGE9dGhpcy5zdGFsbGVkO2lmKG51bGwhPT1pKXt2YXIgbj1pLmN1cnJlbnRUaW1lLHM9aS5zZWVraW5nLG89dGhpcy5zZWVraW5nJiYhcyxsPSF0aGlzLnNlZWtpbmcmJnM7aWYodGhpcy5zZWVraW5nPXMsbj09PWUpaWYobHx8byl0aGlzLnN0YWxsZWQ9bnVsbDtlbHNlIGlmKGkucGF1c2VkJiYhc3x8aS5lbmRlZHx8MD09PWkucGxheWJhY2tSYXRlfHwhbHIuZ2V0QnVmZmVyZWQoaSkubGVuZ3RoKXRoaXMubnVkZ2VSZXRyeT0wO2Vsc2V7dmFyIHU9bHIuYnVmZmVySW5mbyhpLG4sMCksZD11Lm5leHRTdGFydHx8MDtpZihzKXt2YXIgaD11Lmxlbj4yLGY9IWR8fHQmJnQuc3RhcnQ8PW58fGQtbj4yJiYhdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0UGFydGlhbEZyYWdtZW50KG4pO2lmKGh8fGYpcmV0dXJuO3RoaXMubW92ZWQ9ITF9aWYoIXRoaXMubW92ZWQmJm51bGwhPT10aGlzLnN0YWxsZWQpe3ZhciBjO2lmKCEodS5sZW4+MHx8ZCkpcmV0dXJuO3ZhciB2PU1hdGgubWF4KGQsdS5zdGFydHx8MCktbixnPXRoaXMuaGxzLmxldmVscz90aGlzLmhscy5sZXZlbHNbdGhpcy5obHMuY3VycmVudExldmVsXTpudWxsLG09KG51bGw9PWd8fG51bGw9PShjPWcuZGV0YWlscyk/dm9pZCAwOmMubGl2ZSk/MipnLmRldGFpbHMudGFyZ2V0ZHVyYXRpb246MixwPXRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFBhcnRpYWxGcmFnbWVudChuKTtpZih2PjAmJih2PD1tfHxwKSlyZXR1cm4gdm9pZChpLnBhdXNlZHx8dGhpcy5fdHJ5U2tpcEJ1ZmZlckhvbGUocCkpfXZhciB5PXNlbGYucGVyZm9ybWFuY2Uubm93KCk7aWYobnVsbCE9PWEpe3ZhciBFPXktYTtpZihzfHwhKEU+PTI1MCl8fCh0aGlzLl9yZXBvcnRTdGFsbCh1KSx0aGlzLm1lZGlhKSl7dmFyIFQ9bHIuYnVmZmVySW5mbyhpLG4sci5tYXhCdWZmZXJIb2xlKTt0aGlzLl90cnlGaXhCdWZmZXJTdGFsbChULEUpfX1lbHNlIHRoaXMuc3RhbGxlZD15fWVsc2UgaWYodGhpcy5tb3ZlZD0hMCxzfHwodGhpcy5udWRnZVJldHJ5PTApLG51bGwhPT1hKXtpZih0aGlzLnN0YWxsUmVwb3J0ZWQpe3ZhciBTPXNlbGYucGVyZm9ybWFuY2Uubm93KCktYTtELndhcm4oInBsYXliYWNrIG5vdCBzdHVjayBhbnltb3JlIEAiK24rIiwgYWZ0ZXIgIitNYXRoLnJvdW5kKFMpKyJtcyIpLHRoaXMuc3RhbGxSZXBvcnRlZD0hMX10aGlzLnN0YWxsZWQ9bnVsbH19fSx0Ll90cnlGaXhCdWZmZXJTdGFsbD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuY29uZmlnLGk9dGhpcy5mcmFnbWVudFRyYWNrZXIsYT10aGlzLm1lZGlhO2lmKG51bGwhPT1hKXt2YXIgbj1hLmN1cnJlbnRUaW1lLHM9aS5nZXRQYXJ0aWFsRnJhZ21lbnQobik7aWYocyYmKHRoaXMuX3RyeVNraXBCdWZmZXJIb2xlKHMpfHwhdGhpcy5tZWRpYSkpcmV0dXJuOyhlLmxlbj5yLm1heEJ1ZmZlckhvbGV8fGUubmV4dFN0YXJ0JiZlLm5leHRTdGFydC1uPHIubWF4QnVmZmVySG9sZSkmJnQ+MWUzKnIuaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kJiYoRC53YXJuKCJUcnlpbmcgdG8gbnVkZ2UgcGxheWhlYWQgb3ZlciBidWZmZXItaG9sZSIpLHRoaXMuc3RhbGxlZD1udWxsLHRoaXMuX3RyeU51ZGdlQnVmZmVyKCkpfX0sdC5fcmVwb3J0U3RhbGw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5obHMscj10aGlzLm1lZGlhO2lmKCF0aGlzLnN0YWxsUmVwb3J0ZWQmJnIpe3RoaXMuc3RhbGxSZXBvcnRlZD0hMDt2YXIgaT1uZXcgRXJyb3IoIlBsYXliYWNrIHN0YWxsaW5nIGF0IEAiK3IuY3VycmVudFRpbWUrIiBkdWUgdG8gbG93IGJ1ZmZlciAoIitKU09OLnN0cmluZ2lmeShlKSsiKSIpO0Qud2FybihpLm1lc3NhZ2UpLHQudHJpZ2dlcihFLkVSUk9SLHt0eXBlOlQuTUVESUFfRVJST1IsZGV0YWlsczpTLkJVRkZFUl9TVEFMTEVEX0VSUk9SLGZhdGFsOiExLGVycm9yOmksYnVmZmVyOmUubGVufSl9fSx0Ll90cnlTa2lwQnVmZmVySG9sZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmZpZyxyPXRoaXMuaGxzLGk9dGhpcy5tZWRpYTtpZihudWxsPT09aSlyZXR1cm4gMDt2YXIgYT1pLmN1cnJlbnRUaW1lLG49bHIuYnVmZmVySW5mbyhpLGEsMCkscz1hPG4uc3RhcnQ/bi5zdGFydDpuLm5leHRTdGFydDtpZihzKXt2YXIgbz1uLmxlbjw9dC5tYXhCdWZmZXJIb2xlLGw9bi5sZW4+MCYmbi5sZW48MSYmaS5yZWFkeVN0YXRlPDMsdT1zLWE7aWYodT4wJiYob3x8bCkpe2lmKHU+dC5tYXhCdWZmZXJIb2xlKXt2YXIgZD10aGlzLmZyYWdtZW50VHJhY2tlcixoPSExO2lmKDA9PT1hKXt2YXIgZj1kLmdldEFwcGVuZGVkRnJhZygwLG50KTtmJiZzPGYuZW5kJiYoaD0hMCl9aWYoIWgpe3ZhciBjPWV8fGQuZ2V0QXBwZW5kZWRGcmFnKGEsbnQpO2lmKGMpe2Zvcih2YXIgdj0hMSxnPWMuZW5kO2c8czspe3ZhciBtPWQuZ2V0UGFydGlhbEZyYWdtZW50KGcpO2lmKCFtKXt2PSEwO2JyZWFrfWcrPW0uZHVyYXRpb259aWYodilyZXR1cm4gMH19fXZhciBwPU1hdGgubWF4KHMrLjA1LGErLjEpO2lmKEQud2Fybigic2tpcHBpbmcgaG9sZSwgYWRqdXN0aW5nIGN1cnJlbnRUaW1lIGZyb20gIithKyIgdG8gIitwKSx0aGlzLm1vdmVkPSEwLHRoaXMuc3RhbGxlZD1udWxsLGkuY3VycmVudFRpbWU9cCxlJiYhZS5nYXApe3ZhciB5PW5ldyBFcnJvcigiZnJhZ21lbnQgbG9hZGVkIHdpdGggYnVmZmVyIGhvbGVzLCBzZWVraW5nIGZyb20gIithKyIgdG8gIitwKTtyLnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk1FRElBX0VSUk9SLGRldGFpbHM6Uy5CVUZGRVJfU0VFS19PVkVSX0hPTEUsZmF0YWw6ITEsZXJyb3I6eSxyZWFzb246eS5tZXNzYWdlLGZyYWc6ZX0pfXJldHVybiBwfX1yZXR1cm4gMH0sdC5fdHJ5TnVkZ2VCdWZmZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbmZpZyx0PXRoaXMuaGxzLHI9dGhpcy5tZWRpYSxpPXRoaXMubnVkZ2VSZXRyeTtpZihudWxsIT09cil7dmFyIGE9ci5jdXJyZW50VGltZTtpZih0aGlzLm51ZGdlUmV0cnkrKyxpPGUubnVkZ2VNYXhSZXRyeSl7dmFyIG49YSsoaSsxKSplLm51ZGdlT2Zmc2V0LHM9bmV3IEVycm9yKCJOdWRnaW5nICdjdXJyZW50VGltZScgZnJvbSAiK2ErIiB0byAiK24pO0Qud2FybihzLm1lc3NhZ2UpLHIuY3VycmVudFRpbWU9bix0LnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk1FRElBX0VSUk9SLGRldGFpbHM6Uy5CVUZGRVJfTlVER0VfT05fU1RBTEwsZXJyb3I6cyxmYXRhbDohMX0pfWVsc2V7dmFyIG89bmV3IEVycm9yKCJQbGF5aGVhZCBzdGlsbCBub3QgbW92aW5nIHdoaWxlIGVub3VnaCBkYXRhIGJ1ZmZlcmVkIEAiK2ErIiBhZnRlciAiK2UubnVkZ2VNYXhSZXRyeSsiIG51ZGdlcyIpO0QuZXJyb3Ioby5tZXNzYWdlKSx0LnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk1FRElBX0VSUk9SLGRldGFpbHM6Uy5CVUZGRVJfU1RBTExFRF9FUlJPUixlcnJvcjpvLGZhdGFsOiEwfSl9fX0sZX0oKSxiYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpKXt2YXIgYTtyZXR1cm4oYT1lLmNhbGwodGhpcyx0LHIsaSwiW3N0cmVhbS1jb250cm9sbGVyXSIsbnQpfHx0aGlzKS5hdWRpb0NvZGVjU3dhcD0hMSxhLmdhcENvbnRyb2xsZXI9bnVsbCxhLmxldmVsPS0xLGEuX2ZvcmNlU3RhcnRMb2FkPSExLGEuYWx0QXVkaW89ITEsYS5hdWRpb09ubHk9ITEsYS5mcmFnUGxheWluZz1udWxsLGEub252cGxheWluZz1udWxsLGEub252c2Vla2VkPW51bGwsYS5mcmFnTGFzdEticHM9MCxhLmNvdWxkQmFja3RyYWNrPSExLGEuYmFja3RyYWNrRnJhZ21lbnQ9bnVsbCxhLmF1ZGlvQ29kZWNTd2l0Y2g9ITEsYS52aWRlb0J1ZmZlcj1udWxsLGEuX3JlZ2lzdGVyTGlzdGVuZXJzKCksYX1sKHQsZSk7dmFyIHI9dC5wcm90b3R5cGU7cmV0dXJuIHIuX3JlZ2lzdGVyTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5obHM7ZS5vbihFLk1FRElBX0FUVEFDSEVELHRoaXMub25NZWRpYUF0dGFjaGVkLHRoaXMpLGUub24oRS5NRURJQV9ERVRBQ0hJTkcsdGhpcy5vbk1lZGlhRGV0YWNoaW5nLHRoaXMpLGUub24oRS5NQU5JRkVTVF9MT0FESU5HLHRoaXMub25NYW5pZmVzdExvYWRpbmcsdGhpcyksZS5vbihFLk1BTklGRVNUX1BBUlNFRCx0aGlzLm9uTWFuaWZlc3RQYXJzZWQsdGhpcyksZS5vbihFLkxFVkVMX0xPQURJTkcsdGhpcy5vbkxldmVsTG9hZGluZyx0aGlzKSxlLm9uKEUuTEVWRUxfTE9BREVELHRoaXMub25MZXZlbExvYWRlZCx0aGlzKSxlLm9uKEUuRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVELHRoaXMub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQsdGhpcyksZS5vbihFLkVSUk9SLHRoaXMub25FcnJvcix0aGlzKSxlLm9uKEUuQVVESU9fVFJBQ0tfU1dJVENISU5HLHRoaXMub25BdWRpb1RyYWNrU3dpdGNoaW5nLHRoaXMpLGUub24oRS5BVURJT19UUkFDS19TV0lUQ0hFRCx0aGlzLm9uQXVkaW9UcmFja1N3aXRjaGVkLHRoaXMpLGUub24oRS5CVUZGRVJfQ1JFQVRFRCx0aGlzLm9uQnVmZmVyQ3JlYXRlZCx0aGlzKSxlLm9uKEUuQlVGRkVSX0ZMVVNIRUQsdGhpcy5vbkJ1ZmZlckZsdXNoZWQsdGhpcyksZS5vbihFLkxFVkVMU19VUERBVEVELHRoaXMub25MZXZlbHNVcGRhdGVkLHRoaXMpLGUub24oRS5GUkFHX0JVRkZFUkVELHRoaXMub25GcmFnQnVmZmVyZWQsdGhpcyl9LHIuX3VucmVnaXN0ZXJMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhscztlLm9mZihFLk1FRElBX0FUVEFDSEVELHRoaXMub25NZWRpYUF0dGFjaGVkLHRoaXMpLGUub2ZmKEUuTUVESUFfREVUQUNISU5HLHRoaXMub25NZWRpYURldGFjaGluZyx0aGlzKSxlLm9mZihFLk1BTklGRVNUX0xPQURJTkcsdGhpcy5vbk1hbmlmZXN0TG9hZGluZyx0aGlzKSxlLm9mZihFLk1BTklGRVNUX1BBUlNFRCx0aGlzLm9uTWFuaWZlc3RQYXJzZWQsdGhpcyksZS5vZmYoRS5MRVZFTF9MT0FERUQsdGhpcy5vbkxldmVsTG9hZGVkLHRoaXMpLGUub2ZmKEUuRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVELHRoaXMub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQsdGhpcyksZS5vZmYoRS5FUlJPUix0aGlzLm9uRXJyb3IsdGhpcyksZS5vZmYoRS5BVURJT19UUkFDS19TV0lUQ0hJTkcsdGhpcy5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcsdGhpcyksZS5vZmYoRS5BVURJT19UUkFDS19TV0lUQ0hFRCx0aGlzLm9uQXVkaW9UcmFja1N3aXRjaGVkLHRoaXMpLGUub2ZmKEUuQlVGRkVSX0NSRUFURUQsdGhpcy5vbkJ1ZmZlckNyZWF0ZWQsdGhpcyksZS5vZmYoRS5CVUZGRVJfRkxVU0hFRCx0aGlzLm9uQnVmZmVyRmx1c2hlZCx0aGlzKSxlLm9mZihFLkxFVkVMU19VUERBVEVELHRoaXMub25MZXZlbHNVcGRhdGVkLHRoaXMpLGUub2ZmKEUuRlJBR19CVUZGRVJFRCx0aGlzLm9uRnJhZ0J1ZmZlcmVkLHRoaXMpfSxyLm9uSGFuZGxlckRlc3Ryb3lpbmc9ZnVuY3Rpb24oKXt0aGlzLl91bnJlZ2lzdGVyTGlzdGVuZXJzKCksZS5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZy5jYWxsKHRoaXMpfSxyLnN0YXJ0TG9hZD1mdW5jdGlvbihlKXtpZih0aGlzLmxldmVscyl7dmFyIHQ9dGhpcy5sYXN0Q3VycmVudFRpbWUscj10aGlzLmhscztpZih0aGlzLnN0b3BMb2FkKCksdGhpcy5zZXRJbnRlcnZhbCgxMDApLHRoaXMubGV2ZWw9LTEsIXRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkKXt2YXIgaT1yLnN0YXJ0TGV2ZWw7LTE9PT1pJiYoci5jb25maWcudGVzdEJhbmR3aWR0aCYmdGhpcy5sZXZlbHMubGVuZ3RoPjE/KGk9MCx0aGlzLmJpdHJhdGVUZXN0PSEwKTppPXIuZmlyc3RBdXRvTGV2ZWwpLHIubmV4dExvYWRMZXZlbD1pLHRoaXMubGV2ZWw9ci5sb2FkTGV2ZWwsdGhpcy5sb2FkZWRtZXRhZGF0YT0hMX10PjAmJi0xPT09ZSYmKHRoaXMubG9nKCJPdmVycmlkZSBzdGFydFBvc2l0aW9uIHdpdGggbGFzdEN1cnJlbnRUaW1lIEAiK3QudG9GaXhlZCgzKSksZT10KSx0aGlzLnN0YXRlPXJpLHRoaXMubmV4dExvYWRQb3NpdGlvbj10aGlzLnN0YXJ0UG9zaXRpb249dGhpcy5sYXN0Q3VycmVudFRpbWU9ZSx0aGlzLnRpY2soKX1lbHNlIHRoaXMuX2ZvcmNlU3RhcnRMb2FkPSEwLHRoaXMuc3RhdGU9dGl9LHIuc3RvcExvYWQ9ZnVuY3Rpb24oKXt0aGlzLl9mb3JjZVN0YXJ0TG9hZD0hMSxlLnByb3RvdHlwZS5zdG9wTG9hZC5jYWxsKHRoaXMpfSxyLmRvVGljaz1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIGRpOnZhciBlPXRoaXMubGV2ZWxzLHQ9dGhpcy5sZXZlbCxyPW51bGw9PWU/dm9pZCAwOmVbdF0saT1udWxsPT1yP3ZvaWQgMDpyLmRldGFpbHM7aWYoaSYmKCFpLmxpdmV8fHRoaXMubGV2ZWxMYXN0TG9hZGVkPT09cikpe2lmKHRoaXMud2FpdEZvckNkblR1bmVJbihpKSlicmVhazt0aGlzLnN0YXRlPXJpO2JyZWFrfWlmKHRoaXMuaGxzLm5leHRMb2FkTGV2ZWwhPT10aGlzLmxldmVsKXt0aGlzLnN0YXRlPXJpO2JyZWFrfWJyZWFrO2Nhc2Ugbmk6dmFyIGEsbj1zZWxmLnBlcmZvcm1hbmNlLm5vdygpLHM9dGhpcy5yZXRyeURhdGU7aWYoIXN8fG4+PXN8fG51bGwhPShhPXRoaXMubWVkaWEpJiZhLnNlZWtpbmcpe3ZhciBvPXRoaXMubGV2ZWxzLGw9dGhpcy5sZXZlbCx1PW51bGw9PW8/dm9pZCAwOm9bbF07dGhpcy5yZXNldFN0YXJ0V2hlbk5vdExvYWRlZCh1fHxudWxsKSx0aGlzLnN0YXRlPXJpfX10aGlzLnN0YXRlPT09cmkmJnRoaXMuZG9UaWNrSWRsZSgpLHRoaXMub25UaWNrRW5kKCl9LHIub25UaWNrRW5kPWZ1bmN0aW9uKCl7ZS5wcm90b3R5cGUub25UaWNrRW5kLmNhbGwodGhpcyksdGhpcy5jaGVja0J1ZmZlcigpLHRoaXMuY2hlY2tGcmFnbWVudENoYW5nZWQoKX0sci5kb1RpY2tJZGxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5obHMsdD10aGlzLmxldmVsTGFzdExvYWRlZCxyPXRoaXMubGV2ZWxzLGk9dGhpcy5tZWRpYTtpZihudWxsIT09dCYmKGl8fCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCYmZS5jb25maWcuc3RhcnRGcmFnUHJlZmV0Y2gpJiYoIXRoaXMuYWx0QXVkaW98fCF0aGlzLmF1ZGlvT25seSkpe3ZhciBhPXRoaXMuYnVmZmVyaW5nP2UubmV4dExvYWRMZXZlbDplLmxvYWRMZXZlbDtpZihudWxsIT1yJiZyW2FdKXt2YXIgbj1yW2FdLHM9dGhpcy5nZXRNYWluRndkQnVmZmVySW5mbygpO2lmKG51bGwhPT1zKXt2YXIgbz10aGlzLmdldExldmVsRGV0YWlscygpO2lmKG8mJnRoaXMuX3N0cmVhbUVuZGVkKHMsbykpe3ZhciBsPXt9O3JldHVybiB0aGlzLmFsdEF1ZGlvJiYobC50eXBlPSJ2aWRlbyIpLHRoaXMuaGxzLnRyaWdnZXIoRS5CVUZGRVJfRU9TLGwpLHZvaWQodGhpcy5zdGF0ZT1saSl9aWYodGhpcy5idWZmZXJpbmcpe2UubG9hZExldmVsIT09YSYmLTE9PT1lLm1hbnVhbExldmVsJiZ0aGlzLmxvZygiQWRhcHRpbmcgdG8gbGV2ZWwgIithKyIgZnJvbSBsZXZlbCAiK3RoaXMubGV2ZWwpLHRoaXMubGV2ZWw9ZS5uZXh0TG9hZExldmVsPWE7dmFyIHU9bi5kZXRhaWxzO2lmKCF1fHx0aGlzLnN0YXRlPT09ZGl8fHUubGl2ZSYmdGhpcy5sZXZlbExhc3RMb2FkZWQhPT1uKXJldHVybiB0aGlzLmxldmVsPWEsdm9pZCh0aGlzLnN0YXRlPWRpKTt2YXIgZD1zLmxlbixoPXRoaXMuZ2V0TWF4QnVmZmVyTGVuZ3RoKG4ubWF4Qml0cmF0ZSk7aWYoIShkPj1oKSl7dGhpcy5iYWNrdHJhY2tGcmFnbWVudCYmdGhpcy5iYWNrdHJhY2tGcmFnbWVudC5zdGFydD5zLmVuZCYmKHRoaXMuYmFja3RyYWNrRnJhZ21lbnQ9bnVsbCk7dmFyIGY9dGhpcy5iYWNrdHJhY2tGcmFnbWVudD90aGlzLmJhY2t0cmFja0ZyYWdtZW50LnN0YXJ0OnMuZW5kLGM9dGhpcy5nZXROZXh0RnJhZ21lbnQoZix1KTtpZih0aGlzLmNvdWxkQmFja3RyYWNrJiYhdGhpcy5mcmFnUHJldmlvdXMmJmMmJiJpbml0U2VnbWVudCIhPT1jLnNuJiZ0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShjKSE9PUZyKXt2YXIgdixnPShudWxsIT0odj10aGlzLmJhY2t0cmFja0ZyYWdtZW50KT92OmMpLnNuLXUuc3RhcnRTTixtPXUuZnJhZ21lbnRzW2ctMV07bSYmYy5jYz09PW0uY2MmJihjPW0sdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQobSkpfWVsc2UgdGhpcy5iYWNrdHJhY2tGcmFnbWVudCYmcy5sZW4mJih0aGlzLmJhY2t0cmFja0ZyYWdtZW50PW51bGwpO2lmKGMmJnRoaXMuaXNMb29wTG9hZGluZyhjLGYpKXtpZighYy5nYXApe3ZhciBwPXRoaXMuYXVkaW9Pbmx5JiYhdGhpcy5hbHRBdWRpbz9GOk8seT0ocD09PU8/dGhpcy52aWRlb0J1ZmZlcjp0aGlzLm1lZGlhQnVmZmVyKXx8dGhpcy5tZWRpYTt5JiZ0aGlzLmFmdGVyQnVmZmVyRmx1c2hlZCh5LHAsbnQpfWM9dGhpcy5nZXROZXh0RnJhZ21lbnRMb29wTG9hZGluZyhjLHUscyxudCxoKX1jJiYoIWMuaW5pdFNlZ21lbnR8fGMuaW5pdFNlZ21lbnQuZGF0YXx8dGhpcy5iaXRyYXRlVGVzdHx8KGM9Yy5pbml0U2VnbWVudCksdGhpcy5sb2FkRnJhZ21lbnQoYyxuLGYpKX19fX19fSxyLmxvYWRGcmFnbWVudD1mdW5jdGlvbih0LHIsaSl7dmFyIGE9dGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUodCk7dGhpcy5mcmFnQ3VycmVudD10LGE9PT1Dcnx8YT09PVByPyJpbml0U2VnbWVudCI9PT10LnNuP3RoaXMuX2xvYWRJbml0U2VnbWVudCh0LHIpOnRoaXMuYml0cmF0ZVRlc3Q/KHRoaXMubG9nKCJGcmFnbWVudCAiK3Quc24rIiBvZiBsZXZlbCAiK3QubGV2ZWwrIiBpcyBiZWluZyBkb3dubG9hZGVkIHRvIHRlc3QgYml0cmF0ZSBhbmQgd2lsbCBub3QgYmUgYnVmZmVyZWQiKSx0aGlzLl9sb2FkQml0cmF0ZVRlc3RGcmFnKHQscikpOih0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZD0hMCxlLnByb3RvdHlwZS5sb2FkRnJhZ21lbnQuY2FsbCh0aGlzLHQscixpKSk6dGhpcy5jbGVhclRyYWNrZXJJZk5lZWRlZCh0KX0sci5nZXRCdWZmZXJlZEZyYWc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldEJ1ZmZlcmVkRnJhZyhlLG50KX0sci5mb2xsb3dpbmdCdWZmZXJlZEZyYWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5nZXRCdWZmZXJlZEZyYWcoZS5lbmQrLjUpOm51bGx9LHIuaW1tZWRpYXRlTGV2ZWxTd2l0Y2g9ZnVuY3Rpb24oKXt0aGlzLmFib3J0Q3VycmVudEZyYWcoKSx0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSl9LHIubmV4dExldmVsU3dpdGNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZXZlbHMsdD10aGlzLm1lZGlhO2lmKG51bGwhPXQmJnQucmVhZHlTdGF0ZSl7dmFyIHIsaT10aGlzLmdldEFwcGVuZGVkRnJhZyh0LmN1cnJlbnRUaW1lKTtpJiZpLnN0YXJ0PjEmJnRoaXMuZmx1c2hNYWluQnVmZmVyKDAsaS5zdGFydC0xKTt2YXIgYT10aGlzLmdldExldmVsRGV0YWlscygpO2lmKG51bGwhPWEmJmEubGl2ZSl7dmFyIG49dGhpcy5nZXRNYWluRndkQnVmZmVySW5mbygpO2lmKCFufHxuLmxlbjwyKmEudGFyZ2V0ZHVyYXRpb24pcmV0dXJufWlmKCF0LnBhdXNlZCYmZSl7dmFyIHM9ZVt0aGlzLmhscy5uZXh0TG9hZExldmVsXSxvPXRoaXMuZnJhZ0xhc3RLYnBzO3I9byYmdGhpcy5mcmFnQ3VycmVudD90aGlzLmZyYWdDdXJyZW50LmR1cmF0aW9uKnMubWF4Qml0cmF0ZS8oMWUzKm8pKzE6MH1lbHNlIHI9MDt2YXIgbD10aGlzLmdldEJ1ZmZlcmVkRnJhZyh0LmN1cnJlbnRUaW1lK3IpO2lmKGwpe3ZhciB1PXRoaXMuZm9sbG93aW5nQnVmZmVyZWRGcmFnKGwpO2lmKHUpe3RoaXMuYWJvcnRDdXJyZW50RnJhZygpO3ZhciBkPXUubWF4U3RhcnRQVFM/dS5tYXhTdGFydFBUUzp1LnN0YXJ0LGg9dS5kdXJhdGlvbixmPU1hdGgubWF4KGwuZW5kLGQrTWF0aC5taW4oTWF0aC5tYXgoaC10aGlzLmNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlLGgqKHRoaXMuY291bGRCYWNrdHJhY2s/LjU6LjEyNSkpLGgqKHRoaXMuY291bGRCYWNrdHJhY2s/Ljc1Oi4yNSkpKTt0aGlzLmZsdXNoTWFpbkJ1ZmZlcihmLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSl9fX19LHIuYWJvcnRDdXJyZW50RnJhZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZnJhZ0N1cnJlbnQ7c3dpdGNoKHRoaXMuZnJhZ0N1cnJlbnQ9bnVsbCx0aGlzLmJhY2t0cmFja0ZyYWdtZW50PW51bGwsZSYmKGUuYWJvcnRSZXF1ZXN0cygpLHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGUpKSx0aGlzLnN0YXRlKXtjYXNlIGlpOmNhc2UgYWk6Y2FzZSBuaTpjYXNlIHNpOmNhc2Ugb2k6dGhpcy5zdGF0ZT1yaX10aGlzLm5leHRMb2FkUG9zaXRpb249dGhpcy5nZXRMb2FkUG9zaXRpb24oKX0sci5mbHVzaE1haW5CdWZmZXI9ZnVuY3Rpb24odCxyKXtlLnByb3RvdHlwZS5mbHVzaE1haW5CdWZmZXIuY2FsbCh0aGlzLHQscix0aGlzLmFsdEF1ZGlvPyJ2aWRlbyI6bnVsbCl9LHIub25NZWRpYUF0dGFjaGVkPWZ1bmN0aW9uKHQscil7ZS5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkLmNhbGwodGhpcyx0LHIpO3ZhciBpPXIubWVkaWE7dGhpcy5vbnZwbGF5aW5nPXRoaXMub25NZWRpYVBsYXlpbmcuYmluZCh0aGlzKSx0aGlzLm9udnNlZWtlZD10aGlzLm9uTWVkaWFTZWVrZWQuYmluZCh0aGlzKSxpLmFkZEV2ZW50TGlzdGVuZXIoInBsYXlpbmciLHRoaXMub252cGxheWluZyksaS5hZGRFdmVudExpc3RlbmVyKCJzZWVrZWQiLHRoaXMub252c2Vla2VkKSx0aGlzLmdhcENvbnRyb2xsZXI9bmV3IEFhKHRoaXMuY29uZmlnLGksdGhpcy5mcmFnbWVudFRyYWNrZXIsdGhpcy5obHMpfSxyLm9uTWVkaWFEZXRhY2hpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1lZGlhO3QmJnRoaXMub252cGxheWluZyYmdGhpcy5vbnZzZWVrZWQmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBsYXlpbmciLHRoaXMub252cGxheWluZyksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJzZWVrZWQiLHRoaXMub252c2Vla2VkKSx0aGlzLm9udnBsYXlpbmc9dGhpcy5vbnZzZWVrZWQ9bnVsbCx0aGlzLnZpZGVvQnVmZmVyPW51bGwpLHRoaXMuZnJhZ1BsYXlpbmc9bnVsbCx0aGlzLmdhcENvbnRyb2xsZXImJih0aGlzLmdhcENvbnRyb2xsZXIuZGVzdHJveSgpLHRoaXMuZ2FwQ29udHJvbGxlcj1udWxsKSxlLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nLmNhbGwodGhpcyl9LHIub25NZWRpYVBsYXlpbmc9ZnVuY3Rpb24oKXt0aGlzLnRpY2soKX0sci5vbk1lZGlhU2Vla2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tZWRpYSx0PWU/ZS5jdXJyZW50VGltZTpudWxsO20odCkmJnRoaXMubG9nKCJNZWRpYSBzZWVrZWQgdG8gIit0LnRvRml4ZWQoMykpO3ZhciByPXRoaXMuZ2V0TWFpbkZ3ZEJ1ZmZlckluZm8oKTtudWxsIT09ciYmMCE9PXIubGVuP3RoaXMudGljaygpOnRoaXMud2FybignTWFpbiBmb3J3YXJkIGJ1ZmZlciBsZW5ndGggb24gInNlZWtlZCIgZXZlbnQgJysocj9yLmxlbjoiZW1wdHkiKSsiKSIpfSxyLm9uTWFuaWZlc3RMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5sb2coIlRyaWdnZXIgQlVGRkVSX1JFU0VUIiksdGhpcy5obHMudHJpZ2dlcihFLkJVRkZFUl9SRVNFVCx2b2lkIDApLHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUFsbEZyYWdtZW50cygpLHRoaXMuY291bGRCYWNrdHJhY2s9ITEsdGhpcy5zdGFydFBvc2l0aW9uPXRoaXMubGFzdEN1cnJlbnRUaW1lPXRoaXMuZnJhZ0xhc3RLYnBzPTAsdGhpcy5sZXZlbHM9dGhpcy5mcmFnUGxheWluZz10aGlzLmJhY2t0cmFja0ZyYWdtZW50PXRoaXMubGV2ZWxMYXN0TG9hZGVkPW51bGwsdGhpcy5hbHRBdWRpbz10aGlzLmF1ZGlvT25seT10aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZD0hMX0sci5vbk1hbmlmZXN0UGFyc2VkPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxhPSExLG49ITE7dC5sZXZlbHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdWRpb0NvZGVjO3QmJihhPWF8fC0xIT09dC5pbmRleE9mKCJtcDRhLjQwLjIiKSxuPW58fC0xIT09dC5pbmRleE9mKCJtcDRhLjQwLjUiKSl9KSksdGhpcy5hdWRpb0NvZGVjU3dpdGNoPWEmJm4mJiEoImZ1bmN0aW9uIj09dHlwZW9mKG51bGw9PShpPWZpKCkpfHxudWxsPT0ocj1pLnByb3RvdHlwZSk/dm9pZCAwOnIuY2hhbmdlVHlwZSkpLHRoaXMuYXVkaW9Db2RlY1N3aXRjaCYmdGhpcy5sb2coIkJvdGggQUFDL0hFLUFBQyBhdWRpbyBmb3VuZCBpbiBsZXZlbHM7IGRlY2xhcmluZyBsZXZlbCBjb2RlYyBhcyBIRS1BQUMiKSx0aGlzLmxldmVscz10LmxldmVscyx0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZD0hMX0sci5vbkxldmVsTG9hZGluZz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubGV2ZWxzO2lmKHImJnRoaXMuc3RhdGU9PT1yaSl7dmFyIGk9clt0LmxldmVsXTsoIWkuZGV0YWlsc3x8aS5kZXRhaWxzLmxpdmUmJnRoaXMubGV2ZWxMYXN0TG9hZGVkIT09aXx8dGhpcy53YWl0Rm9yQ2RuVHVuZUluKGkuZGV0YWlscykpJiYodGhpcy5zdGF0ZT1kaSl9fSxyLm9uTGV2ZWxMb2FkZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixpPXRoaXMubGV2ZWxzLGE9dC5sZXZlbCxuPXQuZGV0YWlscyxzPW4udG90YWxkdXJhdGlvbjtpZihpKXt0aGlzLmxvZygiTGV2ZWwgIithKyIgbG9hZGVkIFsiK24uc3RhcnRTTisiLCIrbi5lbmRTTisiXSIrKG4ubGFzdFBhcnRTbj8iW3BhcnQtIituLmxhc3RQYXJ0U24rIi0iK24ubGFzdFBhcnRJbmRleCsiXSI6IiIpKyIsIGNjIFsiK24uc3RhcnRDQysiLCAiK24uZW5kQ0MrIl0gZHVyYXRpb246IitzKTt2YXIgbz1pW2FdLGw9dGhpcy5mcmFnQ3VycmVudDshbHx8dGhpcy5zdGF0ZSE9PWFpJiZ0aGlzLnN0YXRlIT09bml8fGwubGV2ZWwhPT10LmxldmVsJiZsLmxvYWRlciYmdGhpcy5hYm9ydEN1cnJlbnRGcmFnKCk7dmFyIHU9MDtpZihuLmxpdmV8fG51bGwhPShyPW8uZGV0YWlscykmJnIubGl2ZSl7dmFyIGQ7aWYodGhpcy5jaGVja0xpdmVVcGRhdGUobiksbi5kZWx0YVVwZGF0ZUZhaWxlZClyZXR1cm47dT10aGlzLmFsaWduUGxheWxpc3RzKG4sby5kZXRhaWxzLG51bGw9PShkPXRoaXMubGV2ZWxMYXN0TG9hZGVkKT92b2lkIDA6ZC5kZXRhaWxzKX1pZihvLmRldGFpbHM9bix0aGlzLmxldmVsTGFzdExvYWRlZD1vLHRoaXMuaGxzLnRyaWdnZXIoRS5MRVZFTF9VUERBVEVELHtkZXRhaWxzOm4sbGV2ZWw6YX0pLHRoaXMuc3RhdGU9PT1kaSl7aWYodGhpcy53YWl0Rm9yQ2RuVHVuZUluKG4pKXJldHVybjt0aGlzLnN0YXRlPXJpfXRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkP24ubGl2ZSYmdGhpcy5zeW5jaHJvbml6ZVRvTGl2ZUVkZ2Uobik6dGhpcy5zZXRTdGFydFBvc2l0aW9uKG4sdSksdGhpcy50aWNrKCl9ZWxzZSB0aGlzLndhcm4oIkxldmVscyB3ZXJlIHJlc2V0IHdoaWxlIGxvYWRpbmcgbGV2ZWwgIithKX0sci5faGFuZGxlRnJhZ21lbnRMb2FkUHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLmZyYWcsaT1lLnBhcnQsYT1lLnBheWxvYWQsbj10aGlzLmxldmVscztpZihuKXt2YXIgcz1uW3IubGV2ZWxdLG89cy5kZXRhaWxzO2lmKCFvKXJldHVybiB0aGlzLndhcm4oIkRyb3BwaW5nIGZyYWdtZW50ICIrci5zbisiIG9mIGxldmVsICIrci5sZXZlbCsiIGFmdGVyIGxldmVsIGRldGFpbHMgd2VyZSByZXNldCIpLHZvaWQgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQocik7dmFyIGw9cy52aWRlb0NvZGVjLHU9by5QVFNLbm93bnx8IW8ubGl2ZSxkPW51bGw9PSh0PXIuaW5pdFNlZ21lbnQpP3ZvaWQgMDp0LmRhdGEsaD10aGlzLl9nZXRBdWRpb0NvZGVjKHMpLGY9dGhpcy50cmFuc211eGVyPXRoaXMudHJhbnNtdXhlcnx8bmV3IFJhKHRoaXMuaGxzLG50LHRoaXMuX2hhbmRsZVRyYW5zbXV4Q29tcGxldGUuYmluZCh0aGlzKSx0aGlzLl9oYW5kbGVUcmFuc211eGVyRmx1c2guYmluZCh0aGlzKSksYz1pP2kuaW5kZXg6LTEsdj0tMSE9PWMsZz1uZXcganIoci5sZXZlbCxyLnNuLHIuc3RhdHMuY2h1bmtDb3VudCxhLmJ5dGVMZW5ndGgsYyx2KSxtPXRoaXMuaW5pdFBUU1tyLmNjXTtmLnB1c2goYSxkLGgsbCxyLGksby50b3RhbGR1cmF0aW9uLHUsZyxtKX1lbHNlIHRoaXMud2FybigiTGV2ZWxzIHdlcmUgcmVzZXQgd2hpbGUgZnJhZ21lbnQgbG9hZCB3YXMgaW4gcHJvZ3Jlc3MuIEZyYWdtZW50ICIrci5zbisiIG9mIGxldmVsICIrci5sZXZlbCsiIHdpbGwgbm90IGJlIGJ1ZmZlcmVkIil9LHIub25BdWRpb1RyYWNrU3dpdGNoaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5hbHRBdWRpbztpZighdC51cmwpe2lmKHRoaXMubWVkaWFCdWZmZXIhPT10aGlzLm1lZGlhKXt0aGlzLmxvZygiU3dpdGNoaW5nIG9uIG1haW4gYXVkaW8sIHVzZSBtZWRpYS5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmciKSx0aGlzLm1lZGlhQnVmZmVyPXRoaXMubWVkaWE7dmFyIGk9dGhpcy5mcmFnQ3VycmVudDtpJiYodGhpcy5sb2coIlN3aXRjaGluZyB0byBtYWluIGF1ZGlvIHRyYWNrLCBjYW5jZWwgbWFpbiBmcmFnbWVudCBsb2FkIiksaS5hYm9ydFJlcXVlc3RzKCksdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoaSkpLHRoaXMucmVzZXRUcmFuc211eGVyKCksdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpfWVsc2UgdGhpcy5hdWRpb09ubHkmJnRoaXMucmVzZXRUcmFuc211eGVyKCk7dmFyIGE9dGhpcy5obHM7ciYmKGEudHJpZ2dlcihFLkJVRkZFUl9GTFVTSElORyx7c3RhcnRPZmZzZXQ6MCxlbmRPZmZzZXQ6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHR5cGU6bnVsbH0pLHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUFsbEZyYWdtZW50cygpKSxhLnRyaWdnZXIoRS5BVURJT19UUkFDS19TV0lUQ0hFRCx0KX19LHIub25BdWRpb1RyYWNrU3dpdGNoZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmlkLGk9ISF0aGlzLmhscy5hdWRpb1RyYWNrc1tyXS51cmw7aWYoaSl7dmFyIGE9dGhpcy52aWRlb0J1ZmZlcjthJiZ0aGlzLm1lZGlhQnVmZmVyIT09YSYmKHRoaXMubG9nKCJTd2l0Y2hpbmcgb24gYWx0ZXJuYXRlIGF1ZGlvLCB1c2UgdmlkZW8uYnVmZmVyZWQgdG8gc2NoZWR1bGUgbWFpbiBmcmFnbWVudCBsb2FkaW5nIiksdGhpcy5tZWRpYUJ1ZmZlcj1hKX10aGlzLmFsdEF1ZGlvPWksdGhpcy50aWNrKCl9LHIub25CdWZmZXJDcmVhdGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxhPXQudHJhY2tzLG49ITE7Zm9yKHZhciBzIGluIGEpe3ZhciBvPWFbc107aWYoIm1haW4iPT09by5pZCl7aWYoaT1zLHI9bywidmlkZW8iPT09cyl7dmFyIGw9YVtzXTtsJiYodGhpcy52aWRlb0J1ZmZlcj1sLmJ1ZmZlcil9fWVsc2Ugbj0hMH1uJiZyPyh0aGlzLmxvZygiQWx0ZXJuYXRlIHRyYWNrIGZvdW5kLCB1c2UgIitpKyIuYnVmZmVyZWQgdG8gc2NoZWR1bGUgbWFpbiBmcmFnbWVudCBsb2FkaW5nIiksdGhpcy5tZWRpYUJ1ZmZlcj1yLmJ1ZmZlcik6dGhpcy5tZWRpYUJ1ZmZlcj10aGlzLm1lZGlhfSxyLm9uRnJhZ0J1ZmZlcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5mcmFnLGk9dC5wYXJ0O2lmKCFyfHxyLnR5cGU9PT1udCl7aWYodGhpcy5mcmFnQ29udGV4dENoYW5nZWQocikpcmV0dXJuIHRoaXMud2FybigiRnJhZ21lbnQgIityLnNuKyhpPyIgcDogIitpLmluZGV4OiIiKSsiIG9mIGxldmVsICIrci5sZXZlbCsiIGZpbmlzaGVkIGJ1ZmZlcmluZywgYnV0IHdhcyBhYm9ydGVkLiBzdGF0ZTogIit0aGlzLnN0YXRlKSx2b2lkKHRoaXMuc3RhdGU9PT1vaSYmKHRoaXMuc3RhdGU9cmkpKTt2YXIgYT1pP2kuc3RhdHM6ci5zdGF0czt0aGlzLmZyYWdMYXN0S2Jwcz1NYXRoLnJvdW5kKDgqYS50b3RhbC8oYS5idWZmZXJpbmcuZW5kLWEubG9hZGluZy5maXJzdCkpLCJpbml0U2VnbWVudCIhPT1yLnNuJiYodGhpcy5mcmFnUHJldmlvdXM9ciksdGhpcy5mcmFnQnVmZmVyZWRDb21wbGV0ZShyLGkpfX0sci5vbkVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYodC5mYXRhbCl0aGlzLnN0YXRlPXVpO2Vsc2Ugc3dpdGNoKHQuZGV0YWlscyl7Y2FzZSBTLkZSQUdfR0FQOmNhc2UgUy5GUkFHX1BBUlNJTkdfRVJST1I6Y2FzZSBTLkZSQUdfREVDUllQVF9FUlJPUjpjYXNlIFMuRlJBR19MT0FEX0VSUk9SOmNhc2UgUy5GUkFHX0xPQURfVElNRU9VVDpjYXNlIFMuS0VZX0xPQURfRVJST1I6Y2FzZSBTLktFWV9MT0FEX1RJTUVPVVQ6dGhpcy5vbkZyYWdtZW50T3JLZXlMb2FkRXJyb3IobnQsdCk7YnJlYWs7Y2FzZSBTLkxFVkVMX0xPQURfRVJST1I6Y2FzZSBTLkxFVkVMX0xPQURfVElNRU9VVDpjYXNlIFMuTEVWRUxfUEFSU0lOR19FUlJPUjp0LmxldmVsUmV0cnl8fHRoaXMuc3RhdGUhPT1kaXx8KG51bGw9PShyPXQuY29udGV4dCk/dm9pZCAwOnIudHlwZSkhPT1ydHx8KHRoaXMuc3RhdGU9cmkpO2JyZWFrO2Nhc2UgUy5CVUZGRVJfQVBQRU5EX0VSUk9SOmNhc2UgUy5CVUZGRVJfRlVMTF9FUlJPUjppZighdC5wYXJlbnR8fCJtYWluIiE9PXQucGFyZW50KXJldHVybjtpZih0LmRldGFpbHM9PT1TLkJVRkZFUl9BUFBFTkRfRVJST1IpcmV0dXJuIHZvaWQgdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpO3RoaXMucmVkdWNlTGVuZ3RoQW5kRmx1c2hCdWZmZXIodCkmJnRoaXMuZmx1c2hNYWluQnVmZmVyKDAsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTticmVhaztjYXNlIFMuSU5URVJOQUxfRVhDRVBUSU9OOnRoaXMucmVjb3ZlcldvcmtlckVycm9yKHQpfX0sci5jaGVja0J1ZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubWVkaWEsdD10aGlzLmdhcENvbnRyb2xsZXI7aWYoZSYmdCYmZS5yZWFkeVN0YXRlKXtpZih0aGlzLmxvYWRlZG1ldGFkYXRhfHwhbHIuZ2V0QnVmZmVyZWQoZSkubGVuZ3RoKXt2YXIgcj10aGlzLnN0YXRlIT09cmk/dGhpcy5mcmFnQ3VycmVudDpudWxsO3QucG9sbCh0aGlzLmxhc3RDdXJyZW50VGltZSxyKX10aGlzLmxhc3RDdXJyZW50VGltZT1lLmN1cnJlbnRUaW1lfX0sci5vbkZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZD1mdW5jdGlvbigpe3RoaXMuc3RhdGU9cmksdGhpcy5sb2FkZWRtZXRhZGF0YXx8KHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkPSExLHRoaXMubmV4dExvYWRQb3NpdGlvbj10aGlzLnN0YXJ0UG9zaXRpb24pLHRoaXMudGlja0ltbWVkaWF0ZSgpfSxyLm9uQnVmZmVyRmx1c2hlZD1mdW5jdGlvbihlLHQpe3ZhciByPXQudHlwZTtpZihyIT09Rnx8dGhpcy5hdWRpb09ubHkmJiF0aGlzLmFsdEF1ZGlvKXt2YXIgaT0ocj09PU8/dGhpcy52aWRlb0J1ZmZlcjp0aGlzLm1lZGlhQnVmZmVyKXx8dGhpcy5tZWRpYTt0aGlzLmFmdGVyQnVmZmVyRmx1c2hlZChpLHIsbnQpLHRoaXMudGljaygpfX0sci5vbkxldmVsc1VwZGF0ZWQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmxldmVsPi0xJiZ0aGlzLmZyYWdDdXJyZW50JiYodGhpcy5sZXZlbD10aGlzLmZyYWdDdXJyZW50LmxldmVsKSx0aGlzLmxldmVscz10LmxldmVsc30sci5zd2FwQXVkaW9Db2RlYz1mdW5jdGlvbigpe3RoaXMuYXVkaW9Db2RlY1N3YXA9IXRoaXMuYXVkaW9Db2RlY1N3YXB9LHIuc2Vla1RvU3RhcnRQb3M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1lZGlhO2lmKGUpe3ZhciB0PWUuY3VycmVudFRpbWUscj10aGlzLnN0YXJ0UG9zaXRpb247aWYocj49MCYmdDxyKXtpZihlLnNlZWtpbmcpcmV0dXJuIHZvaWQgdGhpcy5sb2coImNvdWxkIG5vdCBzZWVrIHRvICIrcisiLCBhbHJlYWR5IHNlZWtpbmcgYXQgIit0KTt2YXIgaT1sci5nZXRCdWZmZXJlZChlKSxhPShpLmxlbmd0aD9pLnN0YXJ0KDApOjApLXI7YT4wJiYoYTx0aGlzLmNvbmZpZy5tYXhCdWZmZXJIb2xlfHxhPHRoaXMuY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UpJiYodGhpcy5sb2coImFkanVzdGluZyBzdGFydCBwb3NpdGlvbiBieSAiK2ErIiB0byBtYXRjaCBidWZmZXIgc3RhcnQiKSxyKz1hLHRoaXMuc3RhcnRQb3NpdGlvbj1yKSx0aGlzLmxvZygic2VlayB0byB0YXJnZXQgc3RhcnQgcG9zaXRpb24gIityKyIgZnJvbSBjdXJyZW50IHRpbWUgIit0KSxlLmN1cnJlbnRUaW1lPXJ9fX0sci5fZ2V0QXVkaW9Db2RlYz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlY3x8ZS5hdWRpb0NvZGVjO3JldHVybiB0aGlzLmF1ZGlvQ29kZWNTd2FwJiZ0JiYodGhpcy5sb2coIlN3YXBwaW5nIGF1ZGlvIGNvZGVjIiksdD0tMSE9PXQuaW5kZXhPZigibXA0YS40MC41Iik/Im1wNGEuNDAuMiI6Im1wNGEuNDAuNSIpLHR9LHIuX2xvYWRCaXRyYXRlVGVzdEZyYWc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2UuYml0cmF0ZVRlc3Q9ITAsdGhpcy5fZG9GcmFnTG9hZChlLHQpLnRoZW4oKGZ1bmN0aW9uKGkpe3ZhciBhPXIuaGxzO2lmKGkmJiFyLmZyYWdDb250ZXh0Q2hhbmdlZChlKSl7dC5mcmFnbWVudEVycm9yPTAsci5zdGF0ZT1yaSxyLnN0YXJ0RnJhZ1JlcXVlc3RlZD0hMSxyLmJpdHJhdGVUZXN0PSExO3ZhciBuPWUuc3RhdHM7bi5wYXJzaW5nLnN0YXJ0PW4ucGFyc2luZy5lbmQ9bi5idWZmZXJpbmcuc3RhcnQ9bi5idWZmZXJpbmcuZW5kPXNlbGYucGVyZm9ybWFuY2Uubm93KCksYS50cmlnZ2VyKEUuRlJBR19MT0FERUQsaSksZS5iaXRyYXRlVGVzdD0hMX19KSl9LHIuX2hhbmRsZVRyYW5zbXV4Q29tcGxldGU9ZnVuY3Rpb24oZSl7dmFyIHQscj0ibWFpbiIsaT10aGlzLmhscyxhPWUucmVtdXhSZXN1bHQsbj1lLmNodW5rTWV0YSxzPXRoaXMuZ2V0Q3VycmVudENvbnRleHQobik7aWYocyl7dmFyIG89cy5mcmFnLGw9cy5wYXJ0LHU9cy5sZXZlbCxkPWEudmlkZW8saD1hLnRleHQsZj1hLmlkMyxjPWEuaW5pdFNlZ21lbnQsdj11LmRldGFpbHMsZz10aGlzLmFsdEF1ZGlvP3ZvaWQgMDphLmF1ZGlvO2lmKHRoaXMuZnJhZ0NvbnRleHRDaGFuZ2VkKG8pKXRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KG8pO2Vsc2V7aWYodGhpcy5zdGF0ZT1zaSxjKXtpZihudWxsIT1jJiZjLnRyYWNrcyl7dmFyIHA9by5pbml0U2VnbWVudHx8bzt0aGlzLl9idWZmZXJJbml0U2VnbWVudCh1LGMudHJhY2tzLHAsbiksaS50cmlnZ2VyKEUuRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCx7ZnJhZzpwLGlkOnIsdHJhY2tzOmMudHJhY2tzfSl9dmFyIHk9Yy5pbml0UFRTLFQ9Yy50aW1lc2NhbGU7bSh5KSYmKHRoaXMuaW5pdFBUU1tvLmNjXT17YmFzZVRpbWU6eSx0aW1lc2NhbGU6VH0saS50cmlnZ2VyKEUuSU5JVF9QVFNfRk9VTkQse2ZyYWc6byxpZDpyLGluaXRQVFM6eSx0aW1lc2NhbGU6VH0pKX1pZihkJiZ2JiYiaW5pdFNlZ21lbnQiIT09by5zbil7dmFyIFM9di5mcmFnbWVudHNbby5zbi0xLXYuc3RhcnRTTl0sTD1vLnNuPT09di5zdGFydFNOLFI9IVN8fG8uY2M+Uy5jYztpZighMSE9PWEuaW5kZXBlbmRlbnQpe3ZhciBBPWQuc3RhcnRQVFMsYj1kLmVuZFBUUyxrPWQuc3RhcnREVFMsRD1kLmVuZERUUztpZihsKWwuZWxlbWVudGFyeVN0cmVhbXNbZC50eXBlXT17c3RhcnRQVFM6QSxlbmRQVFM6YixzdGFydERUUzprLGVuZERUUzpEfTtlbHNlIGlmKGQuZmlyc3RLZXlGcmFtZSYmZC5pbmRlcGVuZGVudCYmMT09PW4uaWQmJiFSJiYodGhpcy5jb3VsZEJhY2t0cmFjaz0hMCksZC5kcm9wcGVkJiZkLmluZGVwZW5kZW50KXt2YXIgXz10aGlzLmdldE1haW5Gd2RCdWZmZXJJbmZvKCkseD0oXz9fLmVuZDp0aGlzLmdldExvYWRQb3NpdGlvbigpKSt0aGlzLmNvbmZpZy5tYXhCdWZmZXJIb2xlLHc9ZC5maXJzdEtleUZyYW1lUFRTP2QuZmlyc3RLZXlGcmFtZVBUUzpBO2lmKCFMJiZ4PHctdGhpcy5jb25maWcubWF4QnVmZmVySG9sZSYmIVIpcmV0dXJuIHZvaWQgdGhpcy5iYWNrdHJhY2sobyk7UiYmKG8uZ2FwPSEwKSxvLnNldEVsZW1lbnRhcnlTdHJlYW1JbmZvKGQudHlwZSxvLnN0YXJ0LGIsby5zdGFydCxELCEwKX1lbHNlIEwmJkE+MiYmKG8uZ2FwPSEwKTtvLnNldEVsZW1lbnRhcnlTdHJlYW1JbmZvKGQudHlwZSxBLGIsayxEKSx0aGlzLmJhY2t0cmFja0ZyYWdtZW50JiYodGhpcy5iYWNrdHJhY2tGcmFnbWVudD1vKSx0aGlzLmJ1ZmZlckZyYWdtZW50RGF0YShkLG8sbCxuLEx8fFIpfWVsc2V7aWYoIUwmJiFSKXJldHVybiB2b2lkIHRoaXMuYmFja3RyYWNrKG8pO28uZ2FwPSEwfX1pZihnKXt2YXIgQz1nLnN0YXJ0UFRTLEk9Zy5lbmRQVFMsUD1nLnN0YXJ0RFRTLE89Zy5lbmREVFM7bCYmKGwuZWxlbWVudGFyeVN0cmVhbXNbRl09e3N0YXJ0UFRTOkMsZW5kUFRTOkksc3RhcnREVFM6UCxlbmREVFM6T30pLG8uc2V0RWxlbWVudGFyeVN0cmVhbUluZm8oRixDLEksUCxPKSx0aGlzLmJ1ZmZlckZyYWdtZW50RGF0YShnLG8sbCxuKX1pZih2JiZudWxsIT1mJiZudWxsIT0odD1mLnNhbXBsZXMpJiZ0Lmxlbmd0aCl7dmFyIE09e2lkOnIsZnJhZzpvLGRldGFpbHM6dixzYW1wbGVzOmYuc2FtcGxlc307aS50cmlnZ2VyKEUuRlJBR19QQVJTSU5HX01FVEFEQVRBLE0pfWlmKHYmJmgpe3ZhciBOPXtpZDpyLGZyYWc6byxkZXRhaWxzOnYsc2FtcGxlczpoLnNhbXBsZXN9O2kudHJpZ2dlcihFLkZSQUdfUEFSU0lOR19VU0VSREFUQSxOKX19fWVsc2UgdGhpcy5yZXNldFdoZW5NaXNzaW5nQ29udGV4dChuKX0sci5fYnVmZmVySW5pdFNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9dGhpcztpZih0aGlzLnN0YXRlPT09c2kpe3RoaXMuYXVkaW9Pbmx5PSEhdC5hdWRpbyYmIXQudmlkZW8sdGhpcy5hbHRBdWRpbyYmIXRoaXMuYXVkaW9Pbmx5JiZkZWxldGUgdC5hdWRpbzt2YXIgbj10LmF1ZGlvLHM9dC52aWRlbyxvPXQuYXVkaW92aWRlbztpZihuKXt2YXIgbD1lLmF1ZGlvQ29kZWMsdT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7aWYodGhpcy5hdWRpb0NvZGVjU3dpdGNoKXtsJiYobD0tMSE9PWwuaW5kZXhPZigibXA0YS40MC41Iik/Im1wNGEuNDAuMiI6Im1wNGEuNDAuNSIpO3ZhciBkPW4ubWV0YWRhdGE7ZCYmImNoYW5uZWxDb3VudCJpbiBkJiYxIT09KGQuY2hhbm5lbENvdW50fHwxKSYmLTE9PT11LmluZGV4T2YoImZpcmVmb3giKSYmKGw9Im1wNGEuNDAuNSIpfWwmJi0xIT09bC5pbmRleE9mKCJtcDRhLjQwLjUiKSYmLTEhPT11LmluZGV4T2YoImFuZHJvaWQiKSYmImF1ZGlvL21wZWciIT09bi5jb250YWluZXImJihsPSJtcDRhLjQwLjIiLHRoaXMubG9nKCJBbmRyb2lkOiBmb3JjZSBhdWRpbyBjb2RlYyB0byAiK2wpKSxlLmF1ZGlvQ29kZWMmJmUuYXVkaW9Db2RlYyE9PWwmJnRoaXMubG9nKCdTd2FwcGluZyBtYW5pZmVzdCBhdWRpbyBjb2RlYyAiJytlLmF1ZGlvQ29kZWMrJyIgZm9yICInK2wrJyInKSxuLmxldmVsQ29kZWM9bCxuLmlkPSJtYWluIix0aGlzLmxvZygiSW5pdCBhdWRpbyBidWZmZXIsIGNvbnRhaW5lcjoiK24uY29udGFpbmVyKyIsIGNvZGVjc1tzZWxlY3RlZC9sZXZlbC9wYXJzZWRdPVsiKyhsfHwiIikrIi8iKyhlLmF1ZGlvQ29kZWN8fCIiKSsiLyIrbi5jb2RlYysiXSIpfXMmJihzLmxldmVsQ29kZWM9ZS52aWRlb0NvZGVjLHMuaWQ9Im1haW4iLHRoaXMubG9nKCJJbml0IHZpZGVvIGJ1ZmZlciwgY29udGFpbmVyOiIrcy5jb250YWluZXIrIiwgY29kZWNzW2xldmVsL3BhcnNlZF09WyIrKGUudmlkZW9Db2RlY3x8IiIpKyIvIitzLmNvZGVjKyJdIikpLG8mJnRoaXMubG9nKCJJbml0IGF1ZGlvdmlkZW8gYnVmZmVyLCBjb250YWluZXI6IitvLmNvbnRhaW5lcisiLCBjb2RlY3NbbGV2ZWwvcGFyc2VkXT1bIitlLmNvZGVjcysiLyIrby5jb2RlYysiXSIpLHRoaXMuaGxzLnRyaWdnZXIoRS5CVUZGRVJfQ09ERUNTLHQpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV0uaW5pdFNlZ21lbnQ7bnVsbCE9biYmbi5ieXRlTGVuZ3RoJiZhLmhscy50cmlnZ2VyKEUuQlVGRkVSX0FQUEVORElORyx7dHlwZTplLGRhdGE6bixmcmFnOnIscGFydDpudWxsLGNodW5rTWV0YTppLHBhcmVudDpyLnR5cGV9KX0pKSx0aGlzLnRpY2tJbW1lZGlhdGUoKX19LHIuZ2V0TWFpbkZ3ZEJ1ZmZlckluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRGd2RCdWZmZXJJbmZvKHRoaXMubWVkaWFCdWZmZXI/dGhpcy5tZWRpYUJ1ZmZlcjp0aGlzLm1lZGlhLG50KX0sci5iYWNrdHJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5jb3VsZEJhY2t0cmFjaz0hMCx0aGlzLmJhY2t0cmFja0ZyYWdtZW50PWUsdGhpcy5yZXNldFRyYW5zbXV4ZXIoKSx0aGlzLmZsdXNoQnVmZmVyR2FwKGUpLHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGUpLHRoaXMuZnJhZ1ByZXZpb3VzPW51bGwsdGhpcy5uZXh0TG9hZFBvc2l0aW9uPWUuc3RhcnQsdGhpcy5zdGF0ZT1yaX0sci5jaGVja0ZyYWdtZW50Q2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubWVkaWEsdD1udWxsO2lmKGUmJmUucmVhZHlTdGF0ZT4xJiYhMT09PWUuc2Vla2luZyl7dmFyIHI9ZS5jdXJyZW50VGltZTtpZihsci5pc0J1ZmZlcmVkKGUscik/dD10aGlzLmdldEFwcGVuZGVkRnJhZyhyKTpsci5pc0J1ZmZlcmVkKGUscisuMSkmJih0PXRoaXMuZ2V0QXBwZW5kZWRGcmFnKHIrLjEpKSx0KXt0aGlzLmJhY2t0cmFja0ZyYWdtZW50PW51bGw7dmFyIGk9dGhpcy5mcmFnUGxheWluZyxhPXQubGV2ZWw7aSYmdC5zbj09PWkuc24mJmkubGV2ZWw9PT1hfHwodGhpcy5mcmFnUGxheWluZz10LHRoaXMuaGxzLnRyaWdnZXIoRS5GUkFHX0NIQU5HRUQse2ZyYWc6dH0pLGkmJmkubGV2ZWw9PT1hfHx0aGlzLmhscy50cmlnZ2VyKEUuTEVWRUxfU1dJVENIRUQse2xldmVsOmF9KSl9fX0scyh0LFt7a2V5OiJuZXh0TGV2ZWwiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubmV4dEJ1ZmZlcmVkRnJhZztyZXR1cm4gZT9lLmxldmVsOi0xfX0se2tleToiY3VycmVudEZyYWciLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubWVkaWE7cmV0dXJuIGU/dGhpcy5mcmFnUGxheWluZ3x8dGhpcy5nZXRBcHBlbmRlZEZyYWcoZS5jdXJyZW50VGltZSk6bnVsbH19LHtrZXk6ImN1cnJlbnRQcm9ncmFtRGF0ZVRpbWUiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubWVkaWE7aWYoZSl7dmFyIHQ9ZS5jdXJyZW50VGltZSxyPXRoaXMuY3VycmVudEZyYWc7aWYociYmbSh0KSYmbShyLnByb2dyYW1EYXRlVGltZSkpe3ZhciBpPXIucHJvZ3JhbURhdGVUaW1lKzFlMyoodC1yLnN0YXJ0KTtyZXR1cm4gbmV3IERhdGUoaSl9fXJldHVybiBudWxsfX0se2tleToiY3VycmVudExldmVsIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnJlbnRGcmFnO3JldHVybiBlP2UubGV2ZWw6LTF9fSx7a2V5OiJuZXh0QnVmZmVyZWRGcmFnIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnJlbnRGcmFnO3JldHVybiBlP3RoaXMuZm9sbG93aW5nQnVmZmVyZWRGcmFnKGUpOm51bGx9fSx7a2V5OiJmb3JjZVN0YXJ0TG9hZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvcmNlU3RhcnRMb2FkfX1dKSx0fShoaSksa2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZvaWQgMD09PXQmJih0PXt9KSx0aGlzLmNvbmZpZz12b2lkIDAsdGhpcy51c2VyQ29uZmlnPXZvaWQgMCx0aGlzLmNvcmVDb21wb25lbnRzPXZvaWQgMCx0aGlzLm5ldHdvcmtDb250cm9sbGVycz12b2lkIDAsdGhpcy5zdGFydGVkPSExLHRoaXMuX2VtaXR0ZXI9bmV3IEVhLHRoaXMuX2F1dG9MZXZlbENhcHBpbmc9LTEsdGhpcy5fbWF4SGRjcExldmVsPW51bGwsdGhpcy5hYnJDb250cm9sbGVyPXZvaWQgMCx0aGlzLmJ1ZmZlckNvbnRyb2xsZXI9dm9pZCAwLHRoaXMuY2FwTGV2ZWxDb250cm9sbGVyPXZvaWQgMCx0aGlzLmxhdGVuY3lDb250cm9sbGVyPXZvaWQgMCx0aGlzLmxldmVsQ29udHJvbGxlcj12b2lkIDAsdGhpcy5zdHJlYW1Db250cm9sbGVyPXZvaWQgMCx0aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyPXZvaWQgMCx0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyPXZvaWQgMCx0aGlzLmVtZUNvbnRyb2xsZXI9dm9pZCAwLHRoaXMuY21jZENvbnRyb2xsZXI9dm9pZCAwLHRoaXMuX21lZGlhPW51bGwsdGhpcy51cmw9bnVsbCx0aGlzLnRyaWdnZXJpbmdFeGNlcHRpb249dm9pZCAwLGsodC5kZWJ1Z3x8ITEsIkhscyBpbnN0YW5jZSIpO3ZhciByPXRoaXMuY29uZmlnPWZ1bmN0aW9uKGUsdCl7aWYoKHQubGl2ZVN5bmNEdXJhdGlvbkNvdW50fHx0LmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCkmJih0LmxpdmVTeW5jRHVyYXRpb258fHQubGl2ZU1heExhdGVuY3lEdXJhdGlvbikpdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIGhscy5qcyBjb25maWc6IGRvbid0IG1peCB1cCBsaXZlU3luY0R1cmF0aW9uQ291bnQvbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IGFuZCBsaXZlU3luY0R1cmF0aW9uL2xpdmVNYXhMYXRlbmN5RHVyYXRpb24iKTtpZih2b2lkIDAhPT10LmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCYmKHZvaWQgMD09PXQubGl2ZVN5bmNEdXJhdGlvbkNvdW50fHx0LmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudDw9dC5saXZlU3luY0R1cmF0aW9uQ291bnQpKXRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiAibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAibGl2ZVN5bmNEdXJhdGlvbkNvdW50IicpO2lmKHZvaWQgMCE9PXQubGl2ZU1heExhdGVuY3lEdXJhdGlvbiYmKHZvaWQgMD09PXQubGl2ZVN5bmNEdXJhdGlvbnx8dC5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uPD10LmxpdmVTeW5jRHVyYXRpb24pKXRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiAibGl2ZU1heExhdGVuY3lEdXJhdGlvbiIgbXVzdCBiZSBncmVhdGVyIHRoYW4gImxpdmVTeW5jRHVyYXRpb24iJyk7dmFyIHI9RHIoZSksYT1bIlRpbWVPdXQiLCJNYXhSZXRyeSIsIlJldHJ5RGVsYXkiLCJNYXhSZXRyeVRpbWVvdXQiXTtyZXR1cm5bIm1hbmlmZXN0IiwibGV2ZWwiLCJmcmFnIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9KCJsZXZlbCI9PT1lPyJwbGF5bGlzdCI6ZSkrIkxvYWRQb2xpY3kiLG49dm9pZCAwPT09dFtpXSxzPVtdO2EuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIG89ZSsiTG9hZGluZyIrYSxsPXRbb107aWYodm9pZCAwIT09bCYmbil7cy5wdXNoKG8pO3ZhciB1PXJbaV0uZGVmYXVsdDtzd2l0Y2godFtpXT17ZGVmYXVsdDp1fSxhKXtjYXNlIlRpbWVPdXQiOnUubWF4TG9hZFRpbWVNcz1sLHUubWF4VGltZVRvRmlyc3RCeXRlTXM9bDticmVhaztjYXNlIk1heFJldHJ5Ijp1LmVycm9yUmV0cnkubWF4TnVtUmV0cnk9bCx1LnRpbWVvdXRSZXRyeS5tYXhOdW1SZXRyeT1sO2JyZWFrO2Nhc2UiUmV0cnlEZWxheSI6dS5lcnJvclJldHJ5LnJldHJ5RGVsYXlNcz1sLHUudGltZW91dFJldHJ5LnJldHJ5RGVsYXlNcz1sO2JyZWFrO2Nhc2UiTWF4UmV0cnlUaW1lb3V0Ijp1LmVycm9yUmV0cnkubWF4UmV0cnlEZWxheU1zPWwsdS50aW1lb3V0UmV0cnkubWF4UmV0cnlEZWxheU1zPWx9fX0pKSxzLmxlbmd0aCYmRC53YXJuKCdobHMuanMgY29uZmlnOiAiJytzLmpvaW4oJyIsICInKSsnIiBzZXR0aW5nKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgIicraSsnIjogJytKU09OLnN0cmluZ2lmeSh0W2ldKSl9KSksaShpKHt9LHIpLHQpfShlLkRlZmF1bHRDb25maWcsdCk7dGhpcy51c2VyQ29uZmlnPXQsci5wcm9ncmVzc2l2ZSYmX3Iocik7dmFyIGE9ci5hYnJDb250cm9sbGVyLG49ci5idWZmZXJDb250cm9sbGVyLHM9ci5jYXBMZXZlbENvbnRyb2xsZXIsbz1yLmVycm9yQ29udHJvbGxlcixsPXIuZnBzQ29udHJvbGxlcix1PW5ldyBvKHRoaXMpLGQ9dGhpcy5hYnJDb250cm9sbGVyPW5ldyBhKHRoaXMpLGg9dGhpcy5idWZmZXJDb250cm9sbGVyPW5ldyBuKHRoaXMpLGY9dGhpcy5jYXBMZXZlbENvbnRyb2xsZXI9bmV3IHModGhpcyksYz1uZXcgbCh0aGlzKSx2PW5ldyBkdCh0aGlzKSxnPW5ldyBUdCh0aGlzKSxtPXIuY29udGVudFN0ZWVyaW5nQ29udHJvbGxlcixwPW0/bmV3IG0odGhpcyk6bnVsbCx5PXRoaXMubGV2ZWxDb250cm9sbGVyPW5ldyB4cih0aGlzLHApLFQ9bmV3IE9yKHRoaXMpLFM9bmV3IEtyKHRoaXMuY29uZmlnKSxMPXRoaXMuc3RyZWFtQ29udHJvbGxlcj1uZXcgYmEodGhpcyxULFMpO2Yuc2V0U3RyZWFtQ29udHJvbGxlcihMKSxjLnNldFN0cmVhbUNvbnRyb2xsZXIoTCk7dmFyIFI9W3YseSxMXTtwJiZSLnNwbGljZSgxLDAscCksdGhpcy5uZXR3b3JrQ29udHJvbGxlcnM9Ujt2YXIgQT1bZCxoLGYsYyxnLFRdO3RoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI9dGhpcy5jcmVhdGVDb250cm9sbGVyKHIuYXVkaW9UcmFja0NvbnRyb2xsZXIsUik7dmFyIGI9ci5hdWRpb1N0cmVhbUNvbnRyb2xsZXI7YiYmUi5wdXNoKG5ldyBiKHRoaXMsVCxTKSksdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcj10aGlzLmNyZWF0ZUNvbnRyb2xsZXIoci5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcixSKTt2YXIgXz1yLnN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtfJiZSLnB1c2gobmV3IF8odGhpcyxULFMpKSx0aGlzLmNyZWF0ZUNvbnRyb2xsZXIoci50aW1lbGluZUNvbnRyb2xsZXIsQSksUy5lbWVDb250cm9sbGVyPXRoaXMuZW1lQ29udHJvbGxlcj10aGlzLmNyZWF0ZUNvbnRyb2xsZXIoci5lbWVDb250cm9sbGVyLEEpLHRoaXMuY21jZENvbnRyb2xsZXI9dGhpcy5jcmVhdGVDb250cm9sbGVyKHIuY21jZENvbnRyb2xsZXIsQSksdGhpcy5sYXRlbmN5Q29udHJvbGxlcj10aGlzLmNyZWF0ZUNvbnRyb2xsZXIoU3QsQSksdGhpcy5jb3JlQ29tcG9uZW50cz1BLFIucHVzaCh1KTt2YXIgeD11Lm9uRXJyb3JPdXQ7ImZ1bmN0aW9uIj09dHlwZW9mIHgmJnRoaXMub24oRS5FUlJPUix4LHUpfWUuaXNNU0VTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gY2koKX0sZS5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2lmKCFjaSgpKXJldHVybiExO3ZhciBlPUNlKCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mKG51bGw9PWU/dm9pZCAwOmUuaXNUeXBlU3VwcG9ydGVkKSYmKFsiYXZjMS40MkUwMUUsbXA0YS40MC4yIiwiYXYwMS4wLjAxTS4wOCIsInZwMDkuMDAuNTAuMDgiXS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1R5cGVTdXBwb3J0ZWQoT2UodCwidmlkZW8iKSl9KSl8fFsibXA0YS40MC4yIiwiZkxhQyJdLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmlzVHlwZVN1cHBvcnRlZChPZSh0LCJhdWRpbyIpKX0pKSl9KCl9LGUuZ2V0TWVkaWFTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gQ2UoKX07dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlQ29udHJvbGxlcj1mdW5jdGlvbihlLHQpe2lmKGUpe3ZhciByPW5ldyBlKHRoaXMpO3JldHVybiB0JiZ0LnB1c2gocikscn1yZXR1cm4gbnVsbH0sdC5vbj1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9dGhpcyksdGhpcy5fZW1pdHRlci5vbihlLHQscil9LHQub25jZT1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9dGhpcyksdGhpcy5fZW1pdHRlci5vbmNlKGUsdCxyKX0sdC5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZSl9LHQub2ZmPWZ1bmN0aW9uKGUsdCxyLGkpe3ZvaWQgMD09PXImJihyPXRoaXMpLHRoaXMuX2VtaXR0ZXIub2ZmKGUsdCxyLGkpfSx0Lmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZW1pdHRlci5saXN0ZW5lcnMoZSl9LHQuZW1pdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuZW1pdChlLHQscil9LHQudHJpZ2dlcj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuY29uZmlnLmRlYnVnKXJldHVybiB0aGlzLmVtaXQoZSxlLHQpO3RyeXtyZXR1cm4gdGhpcy5lbWl0KGUsZSx0KX1jYXRjaCh0KXtpZihELmVycm9yKCJBbiBpbnRlcm5hbCBlcnJvciBoYXBwZW5lZCB3aGlsZSBoYW5kbGluZyBldmVudCAiK2UrJy4gRXJyb3IgbWVzc2FnZTogIicrdC5tZXNzYWdlKyciLiBIZXJlIGlzIGEgc3RhY2t0cmFjZTonLHQpLCF0aGlzLnRyaWdnZXJpbmdFeGNlcHRpb24pe3RoaXMudHJpZ2dlcmluZ0V4Y2VwdGlvbj0hMDt2YXIgcj1lPT09RS5FUlJPUjt0aGlzLnRyaWdnZXIoRS5FUlJPUix7dHlwZTpULk9USEVSX0VSUk9SLGRldGFpbHM6Uy5JTlRFUk5BTF9FWENFUFRJT04sZmF0YWw6cixldmVudDplLGVycm9yOnR9KSx0aGlzLnRyaWdnZXJpbmdFeGNlcHRpb249ITF9fXJldHVybiExfSx0Lmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIubGlzdGVuZXJDb3VudChlKX0sdC5kZXN0cm95PWZ1bmN0aW9uKCl7RC5sb2coImRlc3Ryb3kiKSx0aGlzLnRyaWdnZXIoRS5ERVNUUk9ZSU5HLHZvaWQgMCksdGhpcy5kZXRhY2hNZWRpYSgpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fYXV0b0xldmVsQ2FwcGluZz0tMSx0aGlzLnVybD1udWxsLHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pKSx0aGlzLm5ldHdvcmtDb250cm9sbGVycy5sZW5ndGg9MCx0aGlzLmNvcmVDb21wb25lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pKSx0aGlzLmNvcmVDb21wb25lbnRzLmxlbmd0aD0wO3ZhciBlPXRoaXMuY29uZmlnO2UueGhyU2V0dXA9ZS5mZXRjaFNldHVwPXZvaWQgMCx0aGlzLnVzZXJDb25maWc9bnVsbH0sdC5hdHRhY2hNZWRpYT1mdW5jdGlvbihlKXtELmxvZygiYXR0YWNoTWVkaWEiKSx0aGlzLl9tZWRpYT1lLHRoaXMudHJpZ2dlcihFLk1FRElBX0FUVEFDSElORyx7bWVkaWE6ZX0pfSx0LmRldGFjaE1lZGlhPWZ1bmN0aW9uKCl7RC5sb2coImRldGFjaE1lZGlhIiksdGhpcy50cmlnZ2VyKEUuTUVESUFfREVUQUNISU5HLHZvaWQgMCksdGhpcy5fbWVkaWE9bnVsbH0sdC5sb2FkU291cmNlPWZ1bmN0aW9uKGUpe3RoaXMuc3RvcExvYWQoKTt2YXIgdD10aGlzLm1lZGlhLHI9dGhpcy51cmwsaT10aGlzLnVybD1nLmJ1aWxkQWJzb2x1dGVVUkwoc2VsZi5sb2NhdGlvbi5ocmVmLGUse2Fsd2F5c05vcm1hbGl6ZTohMH0pO3RoaXMuX2F1dG9MZXZlbENhcHBpbmc9LTEsdGhpcy5fbWF4SGRjcExldmVsPW51bGwsRC5sb2coImxvYWRTb3VyY2U6IitpKSx0JiZyJiYociE9PWl8fHRoaXMuYnVmZmVyQ29udHJvbGxlci5oYXNTb3VyY2VUeXBlcygpKSYmKHRoaXMuZGV0YWNoTWVkaWEoKSx0aGlzLmF0dGFjaE1lZGlhKHQpKSx0aGlzLnRyaWdnZXIoRS5NQU5JRkVTVF9MT0FESU5HLHt1cmw6ZX0pfSx0LnN0YXJ0TG9hZD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0tMSksRC5sb2coInN0YXJ0TG9hZCgiK2UrIikiKSx0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5yZXN1bWVCdWZmZXJpbmcoKTtmb3IodmFyIHQ9MDt0PHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmxlbmd0aCYmKHRoaXMubmV0d29ya0NvbnRyb2xsZXJzW3RdLnN0YXJ0TG9hZChlKSx0aGlzLnN0YXJ0ZWQmJnRoaXMubmV0d29ya0NvbnRyb2xsZXJzKTt0KyspO30sdC5zdG9wTG9hZD1mdW5jdGlvbigpe0QubG9nKCJzdG9wTG9hZCIpLHRoaXMuc3RhcnRlZD0hMTtmb3IodmFyIGU9MDtlPHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmxlbmd0aCYmKHRoaXMubmV0d29ya0NvbnRyb2xsZXJzW2VdLnN0b3BMb2FkKCksIXRoaXMuc3RhcnRlZCYmdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMpO2UrKyk7fSx0LnJlc3VtZUJ1ZmZlcmluZz1mdW5jdGlvbigpe0QubG9nKCJyZXN1bWUgYnVmZmVyaW5nIiksdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZXN1bWVCdWZmZXJpbmcmJmUucmVzdW1lQnVmZmVyaW5nKCl9KSl9LHQucGF1c2VCdWZmZXJpbmc9ZnVuY3Rpb24oKXtELmxvZygicGF1c2UgYnVmZmVyaW5nIiksdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5wYXVzZUJ1ZmZlcmluZyYmZS5wYXVzZUJ1ZmZlcmluZygpfSkpfSx0LnN3YXBBdWRpb0NvZGVjPWZ1bmN0aW9uKCl7RC5sb2coInN3YXBBdWRpb0NvZGVjIiksdGhpcy5zdHJlYW1Db250cm9sbGVyLnN3YXBBdWRpb0NvZGVjKCl9LHQucmVjb3Zlck1lZGlhRXJyb3I9ZnVuY3Rpb24oKXtELmxvZygicmVjb3Zlck1lZGlhRXJyb3IiKTt2YXIgZT10aGlzLl9tZWRpYTt0aGlzLmRldGFjaE1lZGlhKCksZSYmdGhpcy5hdHRhY2hNZWRpYShlKX0sdC5yZW1vdmVMZXZlbD1mdW5jdGlvbihlKXt0aGlzLmxldmVsQ29udHJvbGxlci5yZW1vdmVMZXZlbChlKX0sdC5zZXRBdWRpb09wdGlvbj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9dGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcik/dm9pZCAwOnQuc2V0QXVkaW9PcHRpb24oZSl9LHQuc2V0U3VidGl0bGVPcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpfHx0LnNldFN1YnRpdGxlT3B0aW9uKGUpLG51bGx9LHMoZSxbe2tleToibGV2ZWxzIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxldmVsQ29udHJvbGxlci5sZXZlbHM7cmV0dXJuIGV8fFtdfX0se2tleToiY3VycmVudExldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmN1cnJlbnRMZXZlbH0sc2V0OmZ1bmN0aW9uKGUpe0QubG9nKCJzZXQgY3VycmVudExldmVsOiIrZSksdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWw9ZSx0aGlzLnN0cmVhbUNvbnRyb2xsZXIuaW1tZWRpYXRlTGV2ZWxTd2l0Y2goKX19LHtrZXk6Im5leHRMZXZlbCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWx9LHNldDpmdW5jdGlvbihlKXtELmxvZygic2V0IG5leHRMZXZlbDoiK2UpLHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsPWUsdGhpcy5zdHJlYW1Db250cm9sbGVyLm5leHRMZXZlbFN3aXRjaCgpfX0se2tleToibG9hZExldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubGV2ZWx9LHNldDpmdW5jdGlvbihlKXtELmxvZygic2V0IGxvYWRMZXZlbDoiK2UpLHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsPWV9fSx7a2V5OiJuZXh0TG9hZExldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubGV2ZWxDb250cm9sbGVyLm5leHRMb2FkTGV2ZWw9ZX19LHtrZXk6ImZpcnN0TGV2ZWwiLGdldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCh0aGlzLmxldmVsQ29udHJvbGxlci5maXJzdExldmVsLHRoaXMubWluQXV0b0xldmVsKX0sc2V0OmZ1bmN0aW9uKGUpe0QubG9nKCJzZXQgZmlyc3RMZXZlbDoiK2UpLHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWw9ZX19LHtrZXk6InN0YXJ0TGV2ZWwiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGV2ZWxDb250cm9sbGVyLnN0YXJ0TGV2ZWw7cmV0dXJuLTE9PT1lJiZ0aGlzLmFickNvbnRyb2xsZXIuZm9yY2VkQXV0b0xldmVsPi0xP3RoaXMuYWJyQ29udHJvbGxlci5mb3JjZWRBdXRvTGV2ZWw6ZX0sc2V0OmZ1bmN0aW9uKGUpe0QubG9nKCJzZXQgc3RhcnRMZXZlbDoiK2UpLC0xIT09ZSYmKGU9TWF0aC5tYXgoZSx0aGlzLm1pbkF1dG9MZXZlbCkpLHRoaXMubGV2ZWxDb250cm9sbGVyLnN0YXJ0TGV2ZWw9ZX19LHtrZXk6ImNhcExldmVsVG9QbGF5ZXJTaXplIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD0hIWU7dCE9PXRoaXMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplJiYodD90aGlzLmNhcExldmVsQ29udHJvbGxlci5zdGFydENhcHBpbmcoKToodGhpcy5jYXBMZXZlbENvbnRyb2xsZXIuc3RvcENhcHBpbmcoKSx0aGlzLmF1dG9MZXZlbENhcHBpbmc9LTEsdGhpcy5zdHJlYW1Db250cm9sbGVyLm5leHRMZXZlbFN3aXRjaCgpKSx0aGlzLmNvbmZpZy5jYXBMZXZlbFRvUGxheWVyU2l6ZT10KX19LHtrZXk6ImF1dG9MZXZlbENhcHBpbmciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYXV0b0xldmVsQ2FwcGluZyE9PWUmJihELmxvZygic2V0IGF1dG9MZXZlbENhcHBpbmc6IitlKSx0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nPWUsdGhpcy5sZXZlbENvbnRyb2xsZXIuY2hlY2tNYXhBdXRvVXBkYXRlZCgpKX19LHtrZXk6ImJhbmR3aWR0aEVzdGltYXRlIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmFickNvbnRyb2xsZXIuYndFc3RpbWF0b3I7cmV0dXJuIGU/ZS5nZXRFc3RpbWF0ZSgpOk5hTn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuYWJyQ29udHJvbGxlci5yZXNldEVzdGltYXRvcihlKX19LHtrZXk6InR0ZmJFc3RpbWF0ZSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hYnJDb250cm9sbGVyLmJ3RXN0aW1hdG9yO3JldHVybiBlP2UuZ2V0RXN0aW1hdGVUVEZCKCk6TmFOfX0se2tleToibWF4SGRjcExldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4SGRjcExldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKGUpe3JldHVybiBMdC5pbmRleE9mKGUpPi0xfSkoZSkmJnRoaXMuX21heEhkY3BMZXZlbCE9PWUmJih0aGlzLl9tYXhIZGNwTGV2ZWw9ZSx0aGlzLmxldmVsQ29udHJvbGxlci5jaGVja01heEF1dG9VcGRhdGVkKCkpfX0se2tleToiYXV0b0xldmVsRW5hYmxlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuLTE9PT10aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbH19LHtrZXk6Im1hbnVhbExldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWx9fSx7a2V5OiJtaW5BdXRvTGV2ZWwiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGV2ZWxzLHQ9dGhpcy5jb25maWcubWluQXV0b0JpdHJhdGU7aWYoIWUpcmV0dXJuIDA7Zm9yKHZhciByPWUubGVuZ3RoLGk9MDtpPHI7aSsrKWlmKGVbaV0ubWF4Qml0cmF0ZT49dClyZXR1cm4gaTtyZXR1cm4gMH19LHtrZXk6Im1heEF1dG9MZXZlbCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmxldmVscyxyPXRoaXMuYXV0b0xldmVsQ2FwcGluZyxpPXRoaXMubWF4SGRjcExldmVsO2lmKGU9LTE9PT1yJiZudWxsIT10JiZ0Lmxlbmd0aD90Lmxlbmd0aC0xOnIsaSlmb3IodmFyIGE9ZTthLS07KXt2YXIgbj10W2FdLmF0dHJzWyJIRENQLUxFVkVMIl07aWYobiYmbjw9aSlyZXR1cm4gYX1yZXR1cm4gZX19LHtrZXk6ImZpcnN0QXV0b0xldmVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hYnJDb250cm9sbGVyLmZpcnN0QXV0b0xldmVsfX0se2tleToibmV4dEF1dG9MZXZlbCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWJyQ29udHJvbGxlci5uZXh0QXV0b0xldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5hYnJDb250cm9sbGVyLm5leHRBdXRvTGV2ZWw9ZX19LHtrZXk6InBsYXlpbmdEYXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmN1cnJlbnRQcm9ncmFtRGF0ZVRpbWV9fSx7a2V5OiJtYWluRm9yd2FyZEJ1ZmZlckluZm8iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuZ2V0TWFpbkZ3ZEJ1ZmZlckluZm8oKX19LHtrZXk6ImFsbEF1ZGlvVHJhY2tzIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyO3JldHVybiBlP2UuYWxsQXVkaW9UcmFja3M6W119fSx7a2V5OiJhdWRpb1RyYWNrcyIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtyZXR1cm4gZT9lLmF1ZGlvVHJhY2tzOltdfX0se2tleToiYXVkaW9UcmFjayIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtyZXR1cm4gZT9lLmF1ZGlvVHJhY2s6LTF9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyO3QmJih0LmF1ZGlvVHJhY2s9ZSl9fSx7a2V5OiJhbGxTdWJ0aXRsZVRyYWNrcyIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtyZXR1cm4gZT9lLmFsbFN1YnRpdGxlVHJhY2tzOltdfX0se2tleToic3VidGl0bGVUcmFja3MiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7cmV0dXJuIGU/ZS5zdWJ0aXRsZVRyYWNrczpbXX19LHtrZXk6InN1YnRpdGxlVHJhY2siLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7cmV0dXJuIGU/ZS5zdWJ0aXRsZVRyYWNrOi0xfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjt0JiYodC5zdWJ0aXRsZVRyYWNrPWUpfX0se2tleToibWVkaWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZWRpYX19LHtrZXk6InN1YnRpdGxlRGlzcGxheSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtyZXR1cm4hIWUmJmUuc3VidGl0bGVEaXNwbGF5fSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjt0JiYodC5zdWJ0aXRsZURpc3BsYXk9ZSl9fSx7a2V5OiJsb3dMYXRlbmN5TW9kZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmxvd0xhdGVuY3lNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb25maWcubG93TGF0ZW5jeU1vZGU9ZX19LHtrZXk6ImxpdmVTeW5jUG9zaXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhdGVuY3lDb250cm9sbGVyLmxpdmVTeW5jUG9zaXRpb259fSx7a2V5OiJsYXRlbmN5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXRlbmN5Q29udHJvbGxlci5sYXRlbmN5fX0se2tleToibWF4TGF0ZW5jeSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIubWF4TGF0ZW5jeX19LHtrZXk6InRhcmdldExhdGVuY3kiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhdGVuY3lDb250cm9sbGVyLnRhcmdldExhdGVuY3l9fSx7a2V5OiJkcmlmdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIuZHJpZnR9fSx7a2V5OiJmb3JjZVN0YXJ0TG9hZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5mb3JjZVN0YXJ0TG9hZH19XSxbe2tleToidmVyc2lvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjEuNS4xOCJ9fSx7a2V5OiJFdmVudHMiLGdldDpmdW5jdGlvbigpe3JldHVybiBFfX0se2tleToiRXJyb3JUeXBlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFR9fSx7a2V5OiJFcnJvckRldGFpbHMiLGdldDpmdW5jdGlvbigpe3JldHVybiBTfX0se2tleToiRGVmYXVsdENvbmZpZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdENvbmZpZz9lLmRlZmF1bHRDb25maWc6a3J9LHNldDpmdW5jdGlvbih0KXtlLmRlZmF1bHRDb25maWc9dH19XSksZX0oKTtyZXR1cm4ga2EuZGVmYXVsdENvbmZpZz12b2lkIDAsa2F9LCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9aSgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGkpOihyPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnJ8fHNlbGYpLkhscz1pKCl9KCExKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGxzLmxpZ2h0Lm1pbi5qcy5tYXAK"},{"meta":{"name":"gm-addstyle-polyfill.js","url":"https://gist.githubusercontent.com/ilyhalight/6eb5bb4dffc7ca9e3c57d6933e2452f3/raw/7ab38af2228d0bed13912e503bc8a9ee4b11828d/gm-addstyle-polyfill.js","ts":1750858829646,"mimetype":"text/javascript"},"source":"aWYgKHR5cGVvZiBHTV9hZGRTdHlsZSA9PSAndW5kZWZpbmVkJykgewogIHRoaXMuR01fYWRkU3R5bGUgPSAoYUNzcykgPT4gewogICAgJ3VzZSBzdHJpY3QnOwogICAgbGV0IGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgaWYgKGhlYWQpIHsKICAgICAgbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7CiAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYUNzczsKICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgIHJldHVybiBzdHlsZTsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH07Cn0="}]}]}